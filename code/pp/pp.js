(function(){var is={};is.apa=function(o,g){var C=B.JM[B.y4("%|xK")];if(C==null)return"XYP";var a=o.toString(16).slice(0,4),x=a+g+"aQYRDCB";
return C(x).slice(5,17)+a.split("").reverse().join("")};is.QL=function(){var o=B.JM[B.KK("3M"+(B.Mk(26)?"]K":"fa"))];
o=o[B.KK("]["+(!B.Mk(28)?",":"`"))];return Math.floor(o()/1e3)};is.Mk=function(o){var g=0;for(var N=0;
N<o;N++)g+=Math.random();return g/o<Math.PI/4};is.KK=function(o){var g="";if(!is.Mk(28))o+="-3";for(var N=0;
N<o.length;N++){var C=o.charCodeAt(N);if(C<32||126<C)throw"e";g+=String.fromCharCode(32+(C-32+17+3*N)%95)}return g};
is.y4=function(o){var g="";if(!is.Mk(28))o+="-1";for(var N=0;N<o.length;N++){var C=o.charCodeAt(N);C-=32;
C+=95e4;C-=17+3*N;C=C%95;g+=String.fromCharCode(32+C)}return g};is.g2=is.KK("XP");is.q$=is.KK("XYP");
is.sm=is.KK("c[Y");is.afG=is.KK("][`");is.a4M=is.KK("SU_");is.yx=is.KK("b^L");is.acY=is.KK("61=");is.TM=is.KK("Q[M_");
is.Ri=is.KK("WQJJ");is.fZ=is.KK("W^NL");is.VV=is.KK("[[JJ");is.a2S=is.KK("[[PU");is.mW=is.KK("^\\NT");
is.aso=is.KK("bQUL");is.HS=is.KK("bQWJ");is.jV=is.KK("3M]K");is.atP=is.KK("<M]N");is.o1=is.KK("][WK");
is.xK=is.KK("RXRIN");is.J1=is.KK("b`bRH");is.aJ=is.KK("fUMZK");is.a1a=is.KK("Q[]ZRM");is.a0H=is.KK("WQRMKT");
is.FE=is.KK("XR[GPE");is.amT=is.KK("aMWJRM");is.akp=is.KK("bO[OST");is.acB=is.KK("cM[MHT");is.akE=is.KK("^Z5OQE");
is.P$=is.KK("R[WLLRJ");is.akC=is.KK("SU\\VOAV");is.vZ=is.KK("aQYRDCB");is.qf=is.KK("[[LGWILH");is.W6=is.KK("S[L[PEKN");
is.rN=is.KK("aQOKURBL");is.D1=is.KK("aQ\\VRNP?");is.abt=is.KK("XZWKU(1'#");is.arE=is.KK("SQLUGE2, ");
is.arL=is.KK("]M_OJAQII");is.Xa=is.KK("bQ]:LMBILH");is.atS=is.KK("UU[YW#ECC8");is.CZ=is.KK("cQaZ&OKN<BE");
is.zs=is.KK("P\\YKQD B@@5");is.zc=is.KK("aQVUYE B@@5");is.HO=is.KK("bQ]'WTOC9IE3");is.a3n=is.KK("XZ\\KUT~?=CC3");
is.HG=is.KK("R^NGWE\"F<A6<?");is.a32=is.KK("VQ]+OEJ?EHrGs,");is.VX=is.KK("G95.WTM,<EF3><");is.ct=is.KK("PPM+YEKN#=DB06*4");
function c_(o){this.mt={};this.sS=0;this.vY();if(o!=!0)window.__kb=this}c_.cl=null;c_.prototype.vY=function(){var o=navigator.keyboard;
if(o&&window.top==window.self)o.getLayoutMap().then(function(g){c_.cl=g})};c_.prototype.ab9=function(o){var g={shiftKey:c_.sH,altKey:c_.LW,ctrlKey:c_.Ns};
for(var C in g){var a=o[C],x=g[C],K=this.a(x);if(!a&&K){for(var N=0;N<x.f1.length;N++)this.FN(x.f1[N])}}};
c_.prototype._K=function(o){this.sS++;this.mt[o]=!0};c_.prototype.FN=function(o){this.sS--;delete this.mt[o];
if(this.sS<=0||c_.NM(o,c_.xE))this.reset()};c_.prototype.a=function(o){for(var N=0;N<o.f1.length;N++)if(this.mt[o.f1[N]])return!0;
return!1};c_.prototype.reset=function(){this.mt={};this.sS=0};c_.prototype.c4=function(){var o=this,g=o.a(c_.sH)?10:1,C=0,a=0;
if(o.a(c_.IX))C=-g;if(o.a(c_._l))C=g;if(o.a(c_.N8))a=-g;if(o.a(c_.DH))a=g;return new eN(C,a)};c_.prototype.JY=function(){var o=this,g=c_.CQ;
for(var N=0;N<10;N++)if(o.a(g[N]))return N;return-1};c_.NM=function(o,g){return g.f1.indexOf(o)!=-1};
c_.aho="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
c_.GO=function(o){var g=o.code;if(g=="")return!1;var C=c_.NM;if(o.altKey&&!o.shiftKey&&!o.ctrlKey){var a=c_.CQ.concat([c_.LL,c_.kT,c_.N$,c_.A6]),x=!1;
for(var N=0;N<a.length;N++)if(C(g,a[N]))return!1}return c_.aho.indexOf(g)==-1||o.shiftKey&&(g=="F5"||g=="F6")};
c_.eu=function(o){if(typeof o=="string")return o;var g=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(o==null)return"";var C=[];for(var N=0;N<o.length;N++){var a=o[N].HJ?o[N].HJ:o[N];if(g&&o[N].nB)a=o[N].nB;
C.push(a)}if(g||C.length==1)return C.join(" + ");else{var x=C.pop();return C.join("+")+" + "+x}};c_.aX=function(o){window.__kb.vY();
var g=o.code,C=c_.cl;if(C&&C.get(g)){var a={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},x=C.get(g).toLowerCase(),K=x.charCodeAt(0);
if(97<=K&&K<=122){var h="Key"+x.toUpperCase();g=h}else if(a[x])g=a[x];return g}var a={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},x=o.key.toLowerCase(),K=x.charCodeAt(0);
if(x.length==1){if(97<=K&&K<=122){var h="Key"+x.toUpperCase();g=h}else if(a[x])g=a[x]}if(x=="control"&&g!="")g="ControlLeft";
return g};c_.T1=0;c_._P=function(o,g){var C=0;if(Date.now()-c_.T1>1e3){C=g==0?100:g*10}else{if(o%10!=0)o*=10;
C=(o+g)%100}c_.T1=Date.now();return C};c_.amu={nm:"No Touch",f1:["NoTouch"]};c_.kD={HJ:"Enter",f1:["Enter","NumpadEnter"]};
c_.sH={HJ:"Shift",nB:"\u21E7",f1:["ShiftLeft","ShiftRight"]};c_.xE={HJ:"Meta",f1:["MetaLeft","MetaRight","OSLeft","OSRight"]};
c_.Ns={HJ:"Ctrl",nB:"\u2318",f1:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
c_.LW={HJ:"Alt",nB:"\u2325",f1:["AltLeft","AltRight"]};c_.a3p={HJ:"CtrlOrAlt",f1:c_.Ns.f1.concat(c_.LW.f1)};
c_.oc={HJ:"Escape",f1:["Escape"]};c_.NN={HJ:"Space",f1:["Space"]};c_.d9={HJ:"Tab",f1:["Tab"]};c_.t5={HJ:"Home",f1:["Home"]};
c_.atZ={HJ:"End",f1:["End"]};c_.IX={HJ:"Left",f1:["ArrowLeft"]};c_.N8={HJ:"Up",f1:["ArrowUp"]};c_._l={HJ:"Right",f1:["ArrowRight"]};
c_.DH={HJ:"Down",f1:["ArrowDown"]};c_.LL={HJ:"+",f1:["NumpadAdd","Equal"]};c_.kT={HJ:"-",f1:["NumpadSubtract","Minus"]};
c_.ut={HJ:";",f1:["Semicolon"]};c_.a7$={HJ:"Dead",f1:["Dead"]};c_.acg={HJ:"=",f1:["Equal"]};c_._k={HJ:"Backspace",f1:["Backspace"]};
c_.nJ={HJ:"Delete",f1:["Delete"]};c_.agA={HJ:"Backslash",f1:["Backslash","IntlBackslash"]};c_.a4Z={HJ:"Slash",f1:["NumpadDivide","Slash"]};
c_.aq1={HJ:"Backquote",f1:["Backquote"]};c_.N$={HJ:"[",f1:["BracketLeft"]};c_.A6={HJ:"]",f1:["BracketRight"]};
c_._R={HJ:".",f1:["Period"]};c_.J9={HJ:",",f1:["Comma"]};c_.c1={HJ:"'",f1:["Quote"]};c_.t={HJ:"A",f1:["KeyA"]};
c_.A_={HJ:"B",f1:["KeyB"]};c_.sp={HJ:"C",f1:["KeyC"]};c_.j6={HJ:"D",f1:["KeyD"]};c_.E={HJ:"E",f1:["KeyE"]};
c_.vQ={HJ:"F",f1:["KeyF"]};c_.tZ={HJ:"G",f1:["KeyG"]};c_.Oo={HJ:"H",f1:["KeyH"]};c_.zp={HJ:"I",f1:["KeyI"]};
c_.k9={HJ:"J",f1:["KeyJ"]};c_.IK={HJ:"K",f1:["KeyK"]};c_.pY={HJ:"L",f1:["KeyL"]};c_.AL={HJ:"M",f1:["KeyM"]};
c_.p$={HJ:"N",f1:["KeyN"]};c_.tH={HJ:"O",f1:["KeyO"]};c_.S2={HJ:"P",f1:["KeyP"]};c_.wm={HJ:"Q",f1:["KeyQ"]};
c_.yt={HJ:"R",f1:["KeyR"]};c_.$z={HJ:"S",f1:["KeyS"]};c_.ND={HJ:"T",f1:["KeyT"]};c_.Tu={HJ:"U",f1:["KeyU"]};
c_.oy={HJ:"V",f1:["KeyV"]};c_.HU={HJ:"W",f1:["KeyW"]};c_.Hi={HJ:"X",f1:["KeyX"]};c_.a2K={HJ:"Y",f1:["KeyY"]};
c_.f0={HJ:"Z",f1:["KeyZ"]};c_.PV={HJ:"0",f1:["Numpad0","Digit0"]};c_.FJ={HJ:"1",f1:["Numpad1","Digit1"]};
c_.a5Z={HJ:"2",f1:["Numpad2","Digit2"]};c_.a4J={HJ:"3",f1:["Numpad3","Digit3"]};c_.a6l={HJ:"4",f1:["Numpad4","Digit4"]};
c_.agP={HJ:"5",f1:["Numpad5","Digit5"]};c_.apf={HJ:"6",f1:["Numpad6","Digit6"]};c_.afQ={HJ:"7",f1:["Numpad7","Digit7"]};
c_.acx={HJ:"8",f1:["Numpad8","Digit8"]};c_.aat={HJ:"9",f1:["Numpad9","Digit9"]};c_.CQ=[c_.PV,c_.FJ,c_.a5Z,c_.a4J,c_.a6l,c_.agP,c_.apf,c_.afQ,c_.acx,c_.aat];
c_.acc={HJ:"F1",f1:["F1"]};c_.a0a={HJ:"F2",f1:["F2"]};c_.a2f={HJ:"F3",f1:["F3"]};c_.axw={HJ:"FF",f1:["F4"]};
c_.VG={HJ:"F5",f1:["F5"]};c_.a9$={HJ:"F6",f1:["F6"]};c_.abN={HJ:"F7",f1:["F7"]};c_.aia={HJ:"F8",f1:["F8"]};
c_.as6={HJ:"F9",f1:["F9"]};c_.ar3={HJ:"F10",f1:["F10"]};c_.a4k={HJ:"F11",f1:["F11"]};c_.ar5={HJ:"F12",f1:["F12"]};
function jh(o){cN.call(this);this.fu={};this.MM={};this.aup=0;this.apx={};this.HE=[];this.ax0=0;this.VV=o;
jh.nv=this}jh.al_=function(o,g){var N=0,C=jh.yY;while(N<C.length){if((g>>>N&1)==1)break;N++}if(N!=0&&jh.YN(o,[33,126])>.7)N=0;
if(g==0||C[N][1]==""){if((g&15)!=0&&jh.YN(o,[33,126])>.7)N=0;else if(g==0)N=0;else{N=0}}return C[N][1]};
jh.n7=120;jh.Vj=20;jh.cols=16;jh.K5=function(o){var g=o.name.postScriptName;if(g==null)return null;return g.replace(/ /g,"-")};
jh.up=function(o){var g=o.name,C=g.typoFamilyName?g.typoFamilyName:g.fontFamily,a=g.typoSubfamilyName?g.typoSubfamilyName:g.fontSubfamily;
if(a==null)a="Regular";var x=jh.a3g,K=C.toLowerCase();for(var N=0;N<x.length;N++){if(x[N]=="roman")continue;
if(K.endsWith(" "+x[N])||K.endsWith("-"+x[N])){var h=C.length-x[N].length,X=C.slice(h);C=C.slice(0,h-1);
if(X!=""){if(a=="Regular"||a==C+" Regular")a=X;else a=X+" "+a}break}}var w="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var N=0;N<w.length;N++)if(C.startsWith(w[N])){var X=C.slice(w[N].length);C=w[N];if(X.startsWith(" ")||X.startsWith("-"))X=X.slice(1);
if(X!=""){if(a=="Regular")a=X;else a=X+" "+a}break}var G={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},R=G[jh.K5(o)];
if(R)a=R;return[C,a]};jh.prototype.aqq=function(o){var g=this.$v();for(var C in g)if(g[C][0]==o)this.Zo(C)};
jh.prototype.Zo=function(o,g){if(this.fu[o])return this.fu[o];if(this.MM[o])return null;var C=null,a=this.$v();
if(a[o]!=null)C=a[o][5];if(C==null){var x=jh.vZ[o];if(x==null){var K="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),h=o.toLowerCase(),X=0;
if(h.indexOf("sans")!=-1)X=0;else if(h.indexOf("serif")!=-1)X=4;var w=h.indexOf("bold")!=-1||h.indexOf("-black")!=-1,G=h.indexOf("italic")!=-1||h.indexOf("oblique")!=-1||h.endsWith("-it");
if(w&&G)X+=3;else if(G)X+=2;else if(w)X+=1;x=K[X]}if(g!=null&&g>128)x=this.ot(g,x);if(this.apx[o]==null){this.apx[o]=1;
var R=Date.now()-this.aup>2e3?2e3:0;this.aup=Date.now();alert(o+" \u27A1 "+x,R)}return this.Zo(x,g)}this.MM[o]="a";
this.VV(C)};jh.prototype.ot=function(o,g,C){var a=this.fu[g];if(a&&Typr.U.codeToGlyph(a,o)!=0)return g;
var x=this.$v(),K=jh.a9t(o),h=K[0];if(x[g]&&(x[g][3]&h)==0){if(C)for(var N=0;N<C.length;N++){var X=C[N].Name,w=x[X];
if(w&&(w[3]&h)!=0)return X}var X=jh.yY[K[1]][4];if(x[X])return X}return g};jh.a9t=function(o){var g=jh.yY,C=[0];
for(var N=0;N<g.length;N++){var a=g[N][2];for(var x=0;x<a.length;x+=2)if(a[x]<=o&&o<=a[x+1]){C[0]+=1<<N;
C.push(N)}}if(C.length==1)C.push(0);return C};jh.prototype.agf=function(){var o=this.HE,g=o[0],C=o.length-1;
alert(fF.get([22,6,0])+" "+g+(C==0?"":", ... ("+C+")")+" "+fF.get([23,0])+".",1500);this.HE=[]};jh.prototype.aej=function(o,g){if(g!=!0){this.HE.push(o.name.fullName);
clearTimeout(this.ax0);this.ax0=setTimeout(this.agf.bind(this),300)}var C=jh.K5(o),a=this.$v(),x=a[C],K=jh.aqA(o);
if(x==null){var h=document.createElement("canvas"),X=h.getContext("2d");h.width=jh.n7;h.height=jh.Vj;
var w=jh.Vj*1.2/o.head.unitsPerEm;X.translate(4,jh.Vj*.9);X.scale(w,-w);X.fillStyle="#000000";var G=Typr.U.shape(o,jh.al_(o,K[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(o,G),X);X.fill();K.aw_=h.toDataURL();this.ZS(K)}delete this.MM[C];
this.fu[C]=o};jh.alT=function(){var o=jh.yY,g=[];for(var N=0;N<o.length;N++)g.push(o[N][0]);return g};
jh.yY=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
jh.aqA=function(o,g,C){var a=o.name,w=0;if(jh.K5(o)==null){console.log(o);throw"No postScriptName!"}var x=jh.yY,K=[];
for(var N=0;N<x.length;N++){var h=x[N][2],X=x[N][3];K[N]=jh.YN(o,h)>X?1:0}for(var N=0;N<K.length;N++)w+=K[N]<<N;
var G=jh.up(o);return[G[0],G[1],jh.K5(o),w,C,g]};jh.YN=function(o,g){var C=0,a=0;for(var x=0;x<g.length;
x+=2){for(var K=g[x];K<=g[x+1];K++){var h=Typr.U.codeToGlyph(o,K);if(h==0)a++;else C++}}return C/(C+a)};
jh.aj8=function(o,g){if(o[2]<g[2])return-1;if(o[2]>g[2])return 1;return 0};jh.ai_=function(o,g){if(o[5]=="fs/"+o[2]+".otf")o[5]="";
else if(o[5]=="gf/"+o[2]+".otf")o[5]="a";if(o[2]==(o[0]+"-"+o[1]).replace(/\s/g,"")){o[2]=""}else if(o[2]==o[0].replace(/\s/g,"")){o[2]="a"}if(g){if(o[0]==g[0])o[0]="";
if(o[1]==g[1])o[1]="";if(o[3]==g[3])o[3]="";if(o[4]==g[4])o[4]=""}return o.join(",")};jh.arJ=function(o,g){o=o.split(",");
if(o[0]=="")o[0]=g[0];if(o[1]=="")o[1]=g[1];if(o[3]=="")o[3]=g[3];else o[3]=parseInt(o[3]);if(o[4]=="")o[4]=g[4];
else o[4]=parseInt(o[4]);if(o[2]=="")o[2]=(o[0]+"-"+o[1]).replace(/\s/g,"");else if(o[2]=="a")o[2]=o[0].replace(/\s/g,"");
if(o[5]=="")o[5]="fs/"+o[2]+".otf";else if(o[5]=="a")o[5]="gf/"+o[2]+".otf";return o};jh.vZ={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
jh.prototype.$v=function(){if(FNTS.map==null){var o=FNTS.list,g=[];for(var N=0;N<o.length;N++){g[N]=jh.arJ(o[N],g[N-1]);
g[N].XE=N;this.ZS(g[N])}}return FNTS.map};jh.prototype.ZS=function(o){var g=o[0],C=o[1],a=o[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[o[2]]=o;if(FNTS.mapFS==null)FNTS.mapFS={};var x=FNTS.mapFS[g+"---"+C];FNTS.mapFS[g+"---"+C]=o;
if(FNTS.mapSub==null)FNTS.mapSub={};var K=FNTS.mapSub[g];if(K==null)K=FNTS.mapSub[g]=[];var h=K.indexOf(C);
if(h==-1)K.push(C);else K[h]=C};jh.apr=function(o,g){return jh.wE(o)-jh.wE(g)};jh.wE=function(o){o=o.toLowerCase();
var g=jh.awu(o)+(jh.aee(o)<<1);if(o.indexOf("cond")==-1)g+=1<<25;return g};jh.awu=function(o){return o.indexOf("italic")!=-1||o.indexOf("oblique")!=-1?1:0};
jh.a3g="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
jh.ajd=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
jh.aee=function(o){var g=jh.ajd,C=-1,a=-1;for(var N=0;N<g.length;N++){var x=g[N];if(x instanceof Array)for(var K=0;
K<x.length;K++){var h=x[K];if(o.indexOf(h)!=-1&&(C==-1||a<h.length)){C=N;a=h.length}}else if(o.indexOf(x)!=-1&&(C==-1||a<x.length)){C=N;
a=x.length}}if(C==-1)C=8;return C};jh.fq=function(o,g){var C=1e9,a=null,x=jh.wE(g);for(var N=0;N<o.length;
N++){var K=Math.abs(jh.wE(o[N])-x);if(K<C){C=K;a=o[N]}}return a};jh.prototype.xR=function(o,g){this.$v();
return FNTS.mapFS[o+"---"+g]};jh.prototype.Oy=function(o){this.$v();return FNTS.mapSub[o]};jh.prototype.WC=function(){this.$v();
return FNTS.mapSub};var d$={Gt:0,LI:null,vB:null,z5:null,Id:null,Hs:null,ZC:!0,PW:0,Rc:!1};d$.event=function(o){var g=new XMLHttpRequest;
g.open("GET","/papi/event.php?id="+o+"&rnd="+Math.random());g.send()};d$.Cr=function(){var o=d$.Yh();
if(o==null)return null;var g=B.Mk(24)?" ":"",C=B.JM[B.y4("Uu,"+g)];C=C[B.y4(g+"$/")];var a=d$.hF(1,999);
if(a&&d$.HV(a)*50>C()/20)return[0,a];var x=o.inTeams;if(x)for(var N=0;N<x.length;N++)if(x[N][1]*50>C()/20)return[1,x[N]];
return null};d$.nH=function(){return d$.abM()!=null};d$.RD=function(){return d$.HV(d$.hF(1e3,999999999))};
d$.HV=function(o){return o==null?0:o[0]+o[1]*24*60*60};d$.hF=function(o,g){var C=d$.Yh(),a=C.pmnts,x=0,K=null;
if(a==null||a.length==0)return 0;for(var N=0;N<a.length;N++){var h=a[N],X=d$.HV(h);if(o<=h[2]&&h[2]<=g)if(x<X){x=X;
K=h}}return K};d$.Yh=function(){return d$.Hs};d$.m3=function(o){window.addEventListener("message",d$.ae$,!1);
setInterval(d$.iE,5e3);if(d$.nH()&&navigator.onLine){d$.LI=o;d$._v()}else setTimeout(o,1)};d$.iE=function(){if(d$.nH()&&d$.Rc){d$.vP(d$.Y8());
d$.Rc=!1}};d$.bv=function(o){d$.LI=o;var g="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
d$.z5=window.open(g,"_blank")};d$.afd=function(){localStorage.removeItem(d$.Gt+"_uid");localStorage.removeItem(d$.Gt+"_provider");
localStorage.removeItem(d$.Gt+"_token");d$.Hs=null};d$.ae$=function(o){if(o.data instanceof ArrayBuffer||o.data instanceof Object)return;
if(o.data.charAt(0)!="{")return;var g=JSON.parse(o.data);if(g.prms==null)return;var C=g.prms.split(",");
if(C[0]=="papi_logged_in"){localStorage[d$.Gt+"_uid"]=C[1];d$.cI(C[2]);localStorage[d$.Gt+"_provider"]=C[3];
d$.z5.close();d$._v()}if(C[0]=="payment_complete"){d$.Id.close();d$._v()}};d$.abM=function(){var o=localStorage[d$.Gt+"_token"];
if(o!=null&&Date.now()*.001+10<parseInt(o.split("-")[0]))return o;return null};d$.cI=function(o){var g=localStorage[d$.Gt+"_token"];
if(g!=null&&parseInt(o.split("-")[0])<parseInt(g.split("-")[0]))return;localStorage[d$.Gt+"_token"]=o;
clearTimeout(d$.PW);d$.PW=setTimeout(d$.aah,Math.min(1e9,parseInt(o.split("-")[0])*1e3-Date.now()-20*1e3))};
d$.E0=function(o,g,C,a){if(!navigator.onLine)throw"a";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=C;var K=d$.ZL(0)+"&read=3&tuid="+o+"&tid="+g;if(a)K+="&tpl="+encodeURIComponent(a);x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(K)};d$.aah=function(){if(!navigator.onLine)throw"a";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=d$.ar8;var g=d$.ZL(0)+"&read=2";o.setRequestHeader("Content-type","application/x-www-form-urlencoded");
o.send(g)};d$._v=function(){if(!navigator.onLine)throw"b";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=d$.afN;var g=d$.ZL(0)+"&read=1";o.setRequestHeader("Content-type","application/x-www-form-urlencoded");
o.send(g)};d$.vP=function(o){if(!navigator.onLine)throw"c";var g=new XMLHttpRequest;g.open("POST","https://www.photopea.com/papi/record_new.php",!0);
g.onload=d$.axy;var C=d$.ZL(0)+"&read=0&score="+(o.tpl?1:0)+"&spublic="+d$.ZC+"&record="+encodeURIComponent(JSON.stringify(o));
g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.send(C)};d$.afN=function(o){var g=JSON.parse(o.target.response);
if(g.error){}else{d$.Hs=g.user;var C=d$.Y8(),a=g.record;if(g.record){d$.ZC=g.spublic;d$.W5(a)}else if(C)d$.vP(C)}d$.cI(g.token);
if(d$.LI){d$.LI();d$.LI=null}if(d$.vB){d$.vB();d$.vB=null}};d$.ar8=function(o){var g=JSON.parse(o.target.response);
d$.cI(g.token)};d$.axy=function(o){var g=JSON.parse(o.target.response);d$.cI(g.token);if(d$.vB)d$._v()};
d$.ZL=function(o){return"app="+o+"&uid="+localStorage[d$.Gt+"_uid"]+"&token="+localStorage[d$.Gt+"_token"]};
d$.kt=function(){return d$.Y8()};d$.KO=function(o,g){d$.W5(o);d$.Rc=!0;if(g){d$.vB=g;d$.iE()}};d$.Y8=function(){var o=localStorage[d$.Gt+"_stateLocal"],g;
if(o==null)return null;try{g=JSON.parse(o)}catch(fF){return null}return g};d$.W5=function(o){var g=JSON.stringify(o);
localStorage[d$.Gt+"_stateLocal"]=g};d$.order=function(o,g,C){d$.LI=C;var a="https://www.photopea.com/papi/order.php?ptype="+g+"&param="+o+"&uid="+localStorage[d$.Gt+"_uid"]+"&token="+localStorage[d$.Gt+"_token"];
d$.Id=window.open(a,"_blank")};d$.a82=function(o,g){d$.LI=g;var C="https://www.photopea.com/papi/insertKey.php?key="+o+"&uid="+localStorage[d$.Gt+"_uid"]+"&token="+localStorage[d$.Gt+"_token"];
d$.Id=window.open(C,"_blank")};var fF={};fF.GE=0;fF.gN={};fF.ke=function(o){var g=LNG.tables,C=g[o];
if(C==null)C=g[0];if(typeof C=="string"){C=g[o]=fF.ja(C)}return C};fF.ja=function(o){var g=[],C=0,a=0,x=[],K=o.length;
while(a!=K){var h=o[a];if(h=="["){g.push(x);x=[];a=C=a+1}else if(h=="]"){x.push(C==a?null:o.substring(C,a));
var X=x;x=g.pop();x.push(X);a=C=a+1}else if(h==";"){if(o[a-1]!="]")x.push(C==a?null:o.substring(C,a));
a=C=a+1}else a++}return x};fF.get=function(o){if(typeof o=="string")return o;var g=typeof o[0];if(g=="number"){for(var N=1;
N<o.length;N++)if(typeof o[N]!="number"){console.log(o);throw"e"}return fF.ajx(o)}var C=fF.get(o[0]);
for(var N=1;N<o.length;N++){var a=fF.get(o[N]),x=C.indexOf("VAR"+(N-1));C=C.slice(0,x)+a+C.slice(x+4)}return C};
fF.ajx=function(o){var g=JSON.stringify(o);if(fF.gN[g]!=null)return fF.gN[g];var C=fF.ke(0),a=fF.ke(fF.GE),x=fF.EX(o,a);
if(x==null)x=fF.EX(o,C);return x};fF.EX=function(o,g){for(var N=0;N<o.length;N++){g=g[o[N]];if(g==null)return null;
else if(typeof g=="string")break}if(g instanceof Array)g=g[0];return g.split("::")[0]};fF.awc=function(){var o=function(C,a){var x=C.code,K=a.code;
if(x=="en")return-1;if(K=="en")return 1;var h=navigator.languages,X=h.indexOf(x)!=-1,w=h.indexOf(K)!=-1;
if(X&&w)return x>K?1:-1;if(X)return-1;if(w)return 1;return x>K?1:-1},g=LNG.langs.slice(0);g.sort(o);
return g};fF.ka=function(o,g){fF.GE=o;if(LNG.tables[o])g();else{var C=new XMLHttpRequest;C.open("GET","code/lang/"+o+".js");
C.onreadystatechange=function(){LNG.tables[o]=C.responseText;g()};C.send()}};fF.oP=function(o,g){for(var C=0;
C<2;C++){var a=!1;for(var N=0;N<LNG.langs.length;N++)if(LNG.langs[N].code==o){fF.ka(N,g);a=!0}if(a)break;
o=o.split("-")[0]}};fF.Ro=function(){return LNG.langs[fF.GE].code};fF.amt=function(o){for(var N=0;N<o.length;
N+=2)if(o[N+1].indexOf(">")==-1)fF.gN[JSON.stringify(o[N])]=o[N+1]};fF.a1H=function(o){var g=-1,C=LNG.langs;
for(var N=0;N<C.length;N++)if(C[N].code==o)g=N;return g};var c1={kP:!1,rb:!1,jI:!1};c1.P3=function(){return B.JM[is.sm]!=B.JM[is.aso]};
c1.r8=function(){var o=B.JM[is.W6],g=o[is.TM],C=0,a=is.HO,x=B.KK("PP\\KQSB"),K=B.KK("Y_5UDDB>idge"),h=o[is.HG](is.a4M);
h[a](is.g2,x);h[a](is.J1,B.KK("fUMZKyqifDIhJ0*+&$-OG?<y~>"));g[is.zs](h);h=o[is.a32](x);if(h==null){C=2}else{if(!g[B.KK("R[WZDIKM")](h)){C=3}else if(Math.round(h[B.KK("VQ](RUK>@B8p71*03m}x'")]()[is.aJ]-500)>5){C=4}g[is.zc](h)}if(c1.rb)C=5;
if(c1.jI)C=6;return C};c1.ae8=function(o){var g=B.y4("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),C={method:"HEAD",mode:"no-cors"},a=new Request(g,C);
fetch(a).then(function(x){return x}).then(function(x){var K=B.y4("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),a=new Request(K,C);
fetch(a).then(function(x){return x}).then(function(x){o(!1)}).catch(function(h){c1.rb=!0;console.clear();
o(!0)})}).catch(function(x){c1.rb=!0;console.clear();o(!0)})};c1.amy=function(){var o=B.KK("UU[YW#ECC8"),g=B.KK("VQ](RUK>@B8p71*03m}x'"),C=B.KK("WQRMKT"),a=this.a2d[o][g]();
if(a[C]<4){c1.jI=!0;this.aaX(!0)}};c1.a0v=function(){var o=B.JM._cwY,g=B.JM[is.Xa],C="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",a=String.fromCharCode(32);
o(B.KK(C)+a+a+c1.r8());if(!d$.Cr())g(c1.a0v,Math.round(Math.PI*1e4))};c1.cj=function(o){var g=B.JM[is.W6],C=g[is.HG](o[0]);
for(var a in o[1]){if(a=="txt")C[is.CZ]=o[1][a];else C[is.HO](a,o[1][a])}return C};c1.auD=function(o,g,C,a,x){B.KZ(C);
var K=B.JM[is.W6],h=B.y4(" u.$%\"86<"),X=B.y4("!#c$,&"),w=B.JM[h][X],G=!1;if(!c1.P3()&&!c1.r8()&&w&&o*g>300*300){var R=K[B.KK("VQ]+OEJ?EHDoD{&)l|&z")](is.Ri)[0],d=JSON.parse(B.y4("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var N=0;N<d.length;N++){var q=c1.cj(d[d.length-1-N]);R[is.a3n](q,R[is.a8X])}var m=B.y4("p}&$2a(:"),M=B.y4("'#!}i0%+"),Z=B.y4("ps,}$\"40");
B.JM.___ggo=function(){B.JM[Z](is.ct,2,function(p,y){if(!B.JM[m]){B.JM[m]=!0;var V=c1.atK.bind({tp:C,aed:x,head:R,fB:g});
V()}})}}else{var Q=c1.ai6.bind({a2d:C,aoy:a,a8l:x,fB:g});Q();setInterval(Q,3e4)}};c1.ai6=function(){var o=B.JM[is.W6],g=this.a2d,C=this.aoy,a=this.a8l,x=this.fB;
B.KZ(g);var K=[["XYPtSP<N8@=[;6,","XYPtSP<Q@86[;6,"],["XYPt]R<N8@=[58,","XYPt]R<Q@86[58,","W`]VVykhNKH[E73'1|&v@r{vExtjYjcf`NM\"RGKMEC5.O<8.|(|xz$xEgcmj^hxeaWFGBKK9>9=h"," \"x^xol","\"{x^ttl"]],h=a==1?1:c1.IT(x);
for(var N=0;N<h;N++){var X=Math.random()<.8?0:1;if(Date.now()>1642332480933)X=0;var w=K[X],G=o[is.HG](is.q$);
G[is.HO](is.J1,B.KK("Ra[YRRvJF=?B0:_"));G[is.HO](is.yx,is.KK(w[a-1]));if(w.length>2){var R=is.KK(w[2])+is.KK(w[2+a-1]),d=o[is.HG]("a");
d[is.HO](is.fZ,R);d[is.HO](is.acB,B.y4("pv${,,"));d[is.zs](G);g[is.zs](d);G[is.ct](is.xK,function(){d$.event(is.KK("i^HIOI@E"))},!1)}else{G[is.ct](is.xK,C,!1);
g[is.zs](G)}}};c1.IT=function(o){var g=2;if(o>=3*270+30)g=3;if(o>=4*270+30)g=4;return g};c1.atK=function(){var o=is.zs,g=is.HO,C=is.ct,a=is.vZ,x=is.J1,K=is.yx,h=B.KK("P_bTF"),X=is.CZ,w=is.FE,G=B.JM[is.W6],R=is.HG,d=is.akp,q=JSON.parse(B.y4("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),m=B.JM,M=-1,Z=m[B.y4("f#!}f")],Q=B.y4("xy'"),p=B.y4("TU"),y=B.y4("Vi"),$=0;
if(Z&&Z[Q]){var V=Z[Q];if(V==y)M=0;if(V==p)M=1}var W=M==-1?null:c1.cj(q[M]),v=this.tp,j=this.aed,e=this.head,T=this.fB,O=B.y4("~u*\"'/P)9ADBCrlnR]"),L=[.1,0,.9],S=Math.random();
while(L[$]<S&&$<L.length-1){S-=L[$];$++}if($==0){console.log(0);if(!c1.kP){c1.kP=!0;var H=is.y4("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),f=is.y4("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),F=H.split(","),U=f.split(","),r=U[j==1?0:1],E=U[j==1?2:3],k=j==1?1:c1.IT(T);
for(var P=0;P<k;P++){var z=G[R](w);for(var N=0;N<F.length;N+=2)z[g](F[N+0],F[N+1]);z[g](is.KK("SM]GoIA"),r);
z[g](x,O);v[o](z)}var s=is.y4("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
s=s.replace("__",E);s=s.replace("--",r);var Y=G[R](d);Y[X]=s;v[o](Y)}}else if($==1){console.log(1);if(j==1){var t=G[R](B.y4("u}."));
t[g](x,O);var n=G[R](B.y4("u}."));t[o](n);n[g](B.y4("zx"),B.y4("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
n[g](B.y4("t!x.1"),B.y4("pu(y~1)?).4"));var s=B.y4("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),Y=G[R](d);
Y[X]=s;n[o](Y);v[o](t)}else if(j==2){var J=c1.IT(T);for(var N=0;N<J;N++){var t=G[R](B.y4("u}."));t[g](x,O);
var n=G[R](B.y4("u}."));t[o](n);n[g](B.y4("zx"),B.y4("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));n[g](B.y4("t!x.1"),B.y4("pu(y~1)?).4"));
var s=B.y4("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),Y=G[R](d);
Y[X]=s;n[o](Y);v[o](t)}}if(!c1.kP){c1.kP=!0;var s=B.y4("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),Y=G[R](d);
Y[g](B.y4("uu,{J$*(=F>6"),B.y4("wu$.#"));Y[X]=s;e[o](Y)}}else{console.log(2);var I=G[R](d);I.setAttribute(K,B.y4("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
e[o](I);var fp=JSON.parse(B.y4("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),cH=[fp[0]];
if(j==2)cH=fp.slice(1,1+c1.IT(T));for(var N=0;N<cH.length;N++){var n=G[R](B.KK("SU_"));n[g](B.KK("XP"),cH[N]);
n[g](x,O);v[o](n)}}if(W)v[o](W)};var dq={ha:-2,xm:{expires_at:0},h6:[]};dq.fk=function(o){if(o)dq.h6.splice(0,0,o);
if(dq.ha==-2){dq.ha=-1;var g=document.createElement("script");g.src="//apis.google.com/js/client.js";
document.body.appendChild(g);g.onload=function(C){setTimeout(function(){dq.ha=0;dq.fk()},100)}}if(dq.ha==-1)return;
if(dq.ha==1)return;if(dq.xm.expires_at>Date.now()*.001+30){while(dq.h6.length>0)dq.h6.pop()()}else{if(dq.ha==0)dq.ha=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:dq.ha==2?!1:!0},dq.a0d)}};
dq.a0d=function(o){if(o&&!o.error){dq.xm=o;dq.ha=!1;dq.fk()}else if(dq.ha==1){dq.ha=2;dq.fk()}else alert("Error: "+o.error)};
dq.VW=function(){return"access_token="+dq.xm.access_token+"&token_type="+dq.xm.token_type};dq.fX=function(){return dq.xm.token_type+" "+dq.xm.access_token};
function eN(o,g){if(!o)o=0;if(!g)g=0;this.x=o;this.y=g}eN.prototype.add=function(o){return new eN(this.x+o.x,this.y+o.y)};
eN.prototype.clone=function(){return new eN(this.x,this.y)};eN.prototype.lR=function(o){this.x=o.x;this.y=o.y};
eN.prototype.$s=function(o){return this.x==o.x&&this.y==o.y};eN.prototype.normalize=function(o){var g=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=o/g;this.y*=o/g};eN.prototype.offset=function(o,g){this.x+=o;this.y+=g};eN.prototype.fR=function(o,g){this.x=o;
this.y=g};eN.prototype.fK=function(o){return new eN(this.x-o.x,this.y-o.y)};eN.ig=function(o,g){return eN.apn(o.x,o.y,g.x,g.y)};
eN.CR=function(o,g,C){return new eN(o.x+C*(g.x-o.x),o.y+C*(g.y-o.y))};eN.ae9=function(o,g){return new eN(o*Math.cos(g),o*Math.sin(g))};
eN.apn=function(o,g,C,a){return Math.sqrt((C-o)*(C-o)+(a-g)*(a-g))};eN.uX={};eN.jM={};eN.uX.create=function(){var o=new Float32Array(4);
return o};eN.jM.create=function(o){var g=new Float32Array(16);g[0]=g[5]=g[10]=g[15]=1;if(o)eN.jM.set(o,g);
return g};eN.uX.add=function(o,g,C){C[0]=o[0]+g[0];C[1]=o[1]+g[1];C[2]=o[2]+g[2];C[3]=o[3]+g[3]};eN.uX.set=function(o,g){g[0]=o[0];
g[1]=o[1];g[2]=o[2];g[3]=o[3]};eN.jM.set=function(o,g){g[0]=o[0];g[1]=o[1];g[2]=o[2];g[3]=o[3];g[4]=o[4];
g[5]=o[5];g[6]=o[6];g[7]=o[7];g[8]=o[8];g[9]=o[9];g[10]=o[10];g[11]=o[11];g[12]=o[12];g[13]=o[13];g[14]=o[14];
g[15]=o[15]};eN.jM.multiply=function(o,g,C){var a=o[0],x=o[1],K=o[2],h=o[3],X=o[4],w=o[5],G=o[6],R=o[7],d=o[8],q=o[9],m=o[10],M=o[11],Z=o[12],Q=o[13],p=o[14],y=o[15],V=g[0],W=g[1],v=g[2],j=g[3];
C[0]=V*a+W*X+v*d+j*Z;C[1]=V*x+W*w+v*q+j*Q;C[2]=V*K+W*G+v*m+j*p;C[3]=V*h+W*R+v*M+j*y;V=g[4];W=g[5];v=g[6];
j=g[7];C[4]=V*a+W*X+v*d+j*Z;C[5]=V*x+W*w+v*q+j*Q;C[6]=V*K+W*G+v*m+j*p;C[7]=V*h+W*R+v*M+j*y;V=g[8];W=g[9];
v=g[10];j=g[11];C[8]=V*a+W*X+v*d+j*Z;C[9]=V*x+W*w+v*q+j*Q;C[10]=V*K+W*G+v*m+j*p;C[11]=V*h+W*R+v*M+j*y;
V=g[12];W=g[13];v=g[14];j=g[15];C[12]=V*a+W*X+v*d+j*Z;C[13]=V*x+W*w+v*q+j*Q;C[14]=V*K+W*G+v*m+j*p;C[15]=V*h+W*R+v*M+j*y;
return C};eN.jM.inverse=function(o,g){var C=o[0],a=o[1],x=o[2],K=o[3],h=o[4],X=o[5],w=o[6],G=o[7],R=o[8],d=o[9],q=o[10],m=o[11],M=o[12],Z=o[13],Q=o[14],p=o[15],y=C*X-a*h,V=C*w-x*h,W=C*G-K*h,v=a*w-x*X,j=a*G-K*X,e=x*G-K*w,T=R*Z-d*M,O=R*Q-q*M,L=R*p-m*M,S=d*Q-q*Z,$=d*p-m*Z,H=q*p-m*Q,f=y*H-V*$+W*S+v*L-j*O+e*T;
if(!f){return null}f=1/f;g[0]=(X*H-w*$+G*S)*f;g[1]=(x*$-a*H-K*S)*f;g[2]=(Z*e-Q*j+p*v)*f;g[3]=(q*j-d*e-m*v)*f;
g[4]=(w*L-h*H-G*O)*f;g[5]=(C*H-x*L+K*O)*f;g[6]=(Q*W-M*e-p*V)*f;g[7]=(R*e-q*W+m*V)*f;g[8]=(h*$-X*L+G*T)*f;
g[9]=(a*L-C*$-K*T)*f;g[10]=(M*j-Z*W+p*y)*f;g[11]=(d*W-R*j-m*y)*f;g[12]=(X*O-h*S-w*T)*f;g[13]=(C*S-a*O+x*T)*f;
g[14]=(Z*V-M*v-Q*y)*f;g[15]=(R*v-d*V+q*y)*f;return g};eN.jM.anx=function(o,g,C){var a=g[0],x=g[1];C[0]=a*o[0]+x*o[4]+o[12];
C[1]=a*o[1]+x*o[5]+o[13]};eN.jM.ajp=function(o,g,C){var a=g[0],x=g[1],K=g[2],h=g[3];C[0]=o[0]*a+o[4]*x+o[8]*K+o[12]*h;
C[1]=o[1]*a+o[5]*x+o[9]*K+o[13]*h;C[2]=o[2]*a+o[6]*x+o[10]*K+o[14]*h;C[3]=o[3]*a+o[7]*x+o[11]*K+o[15]*h};
function aS(o,g,C,a){if(!o)o=0;if(!g)g=0;if(!C)C=0;if(!a)a=0;this.x=o;this.y=g;this.m=C;this.n=a}aS.prototype.$=function(){return this.m*this.n};
aS.prototype.clone=function(){return new aS(this.x,this.y,this.m,this.n)};aS.prototype.contains=function(o,g){return o>=this.x&&o<=this.x+this.m&&(g>=this.y&&g<=this.y+this.n)};
aS.prototype.Yo=function(o){return this.contains(o.x,o.y)};aS.prototype.Xq=function(o){return this.x<=o.x&&this.y<=o.y&&o.x+o.m<=this.x+this.m&&o.y+o.n<=this.y+this.n};
aS.prototype.lR=function(o){this.x=o.x;this.y=o.y;this.m=o.m;this.n=o.n};aS.prototype.$s=function(o){return this.x==o.x&&this.y==o.y&&this.m==o.m&&this.n==o.n};
aS.prototype.Uj=function(o,g){this.x-=o;this.y-=g;this.m+=2*o;this.n+=2*g};aS.prototype.abl=function(o){this.Uj(o.x,o.y)};
aS.prototype.Kw=function(o){var g=Math.max(this.x,o.x),C=Math.max(this.y,o.y),a=Math.min(this.x+this.m,o.x+o.m),x=Math.min(this.y+this.n,o.y+o.n);
if(a<g||x<C)return new aS;else return new aS(g,C,a-g,x-C)};aS.prototype.fp=function(o){if(o.y+o.n<this.y||o.x>this.x+this.m||o.y>this.y+this.n||o.x+o.m<this.x)return!1;
return!0};aS.prototype.to=function(){return this.m<=0||this.n<=0};aS.prototype.offset=function(o,g){this.x+=o;
this.y+=g};aS.prototype.Ct=function(o){this.offset(o.x,o.y)};aS.prototype.aud=function(){this.x=this.y=this.m=this.n=0};
aS.prototype.fR=function(o,g,C,a){this.x=o;this.y=g;this.m=C;this.n=a};aS.prototype.ae=function(o){if(this.to())return o.clone();
if(o.to())return this.clone();var g=this.clone();g.atu(o);return g};aS.qR=new Float32Array(2);aS.prototype.atu=function(o){if(o.to())return;
if(this.to()){this.lR(o);return}this.Iq(o.x,o.y);this.Iq(o.x+o.m,o.y+o.n)};aS.prototype.Iq=function(o,g){var C=Math.min(this.x,o),a=Math.min(this.y,g);
this.m=Math.max(this.x+this.m,o)-C;this.n=Math.max(this.y+this.n,g)-a;this.x=C;this.y=a};aS.prototype.abL=function(o,g){this.x=o;
this.y=g;this.m=this.n=0};function kp(o,g,C,a,x,K){if(typeof o==="undefined"){o=1;g=0;C=0;a=1;x=0;K=0}this.Bk=o;
this.K=g;this.U9=C;this.rX=a;this.NO=x;this.Mx=K}kp.prototype.Bo=function(){return Math.sqrt(Math.abs(this.Bk*this.rX-this.K*this.U9))};
kp.prototype.aiJ=function(){var o=this,g=function(C){return Math.abs(C)<1e-9?0:C};o.Bk=g(o.Bk);o.K=g(o.K);
o.U9=g(o.U9);o.rX=g(o.rX);o.NO=g(o.NO);o.Mx=g(o.Mx)};kp.prototype.nx=function(o){return new eN(o.x*this.Bk+o.y*this.U9+this.NO,o.x*this.K+o.y*this.rX+this.Mx)};
kp.prototype.translate=function(o,g){this.NO+=o;this.Mx+=g};kp.prototype.rotate=function(o){var g=new kp(Math.cos(o),-Math.sin(o),Math.sin(o),Math.cos(o),0,0);
this.concat(g)};kp.prototype.scale=function(o,g){var C=new kp(o,0,0,g,0,0);this.concat(C)};kp.prototype.concat=function(o){this.lR(new kp(this.Bk*o.Bk+this.K*o.U9,this.Bk*o.K+this.K*o.rX,this.U9*o.Bk+this.rX*o.U9,this.U9*o.K+this.rX*o.rX,this.NO*o.Bk+this.Mx*o.U9+o.NO,this.NO*o.K+this.Mx*o.rX+o.Mx))};
kp.prototype.rq=function(){var o=this.Bk*this.rX-this.K*this.U9;this.lR(new kp(this.rX/o,-this.K/o,-this.U9/o,this.Bk/o,(this.U9*this.Mx-this.rX*this.NO)/o,(this.K*this.NO-this.Bk*this.Mx)/o))};
kp.prototype.clone=function(){return new kp(this.Bk,this.K,this.U9,this.rX,this.NO,this.Mx)};kp.prototype.lR=function(o){this.Bk=o.Bk;
this.K=o.K;this.U9=o.U9;this.rX=o.rX;this.NO=o.NO;this.Mx=o.Mx};function bl(){}bl.WB={ajD:["PNG","JPG","SVG","GIF","PDF"],at_:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
bl.iR=function(o,g){var C=o.memory.buffer.byteLength;if(C<g)o.memory.grow((g-C>>>16)+1)};bl.zY={hj:function(o,g){fetch(o).then(function(C){return C.arrayBuffer()}).then(function(C){var a=new Uint8Array(C),x=0,w="";
if(g){x=a.length;var K={level:9},h=pako.deflateRaw(a,K),X=UZIP.deflateRaw(a,K);console.log(x,h.length,X.length);
a=h.length<X.length?h:X}for(var N=0;N<a.length;N++)w+=String.fromCharCode(a[N]);var G=btoa(w);console.log(JSON.stringify([x,G]))})},get:function(o,g){var C=BINDB[o],a=Date.now(),x=atob(C[1]),K=x.length,h=new Uint8Array(K);
for(var N=0;N<K;N++)h[N]=x.charCodeAt(N);if(C[0]!=0){var X=new Uint8Array(C[0]);UZIP.inflateRaw(h,X);
h=X}if(g){var w=bl.tt(h.buffer);h=bl.qC(w).gd(h.buffer)}return h}};bl.tt=function(o){if(!(o instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var g=new Uint8Array(o),C=bl._e,a,x=0,K=g.length-1;
if(C(g,[239,187,191]))x=3;while(x<g.length&&(g[x]==9||g[x]==10||g[x]==13||g[x]==32))x++;while(K!=0&&(g[K]==9||g[K]==10||g[K]==13||g[K]==32))K--;
if(C(g,[56,66,80,83]))a="psd";if(C(g,[6,6,237,245]))a="indd";if(C(g,[68,73,67,77],128))a="dcm";if(C(g,[102,116,121,112,109,105,102,49],4)||C(g,[102,116,121,112,97,118,105,102],4))a="avif";
if(C(g,[102,116,121,112,105,115,111,109],4))a="mp4";if(C(g,[102,116,121,112,109,112,52,50],4))a="mp4";
if(C(g,[0,255,75,65]))a="afphoto";if(C(g,[120]))a="pxd";if(C(g,[80,68,78,51]))a="pdn";if(C(g,[103,105,109,112,32,120,99,102,32]))a="xcf";
if(C(g,[102,105,103,45,107,105,119,105]))a="fig";if(C(g,[137,80,78,71,13,10,26,10])){a="png";var h=8;
while(h<g.length){var X=u.s(g,h);h+=4;var w=u.M7(g,h,4);h+=4;if(w=="mkTS")a="fpng";h+=X+4}}if(C(g,[87,76]))a="cdr";
if(C(g,[82,73,70,70])){var G=hx.kR(g),R=G.iJ;if(R=="WEBP")a="webp";else if(R.slice(0,3)=="CDR")a="cdr";
else a=R}if(C(g,[70,79,82,77])||C(g,[76,73,83,84])||C(g,[67,65,84,32])){var G=er.kR(g),R=G.iJ;if(R=="ILBM")a="ilbm";
else a=R}if(C(g,[255,216,255]))a="jpg";if(C(g,[0,0,0,12,106,80,32,32]))a="jpg";if(C(g,[48,0,1,0],4))a="jb2";
if(C(g,[71,73,70,56]))a="gif";if(C(g,[0,0,0,2,121,102,113,76]))a="msh";if(C(g,[0,0,0,3,121,102,113,76]))a="msh";
if(C(g,[0,0,0,16]))a="atn";if(C(g,[0,1]))a="aco";if(C(g,[0,2]))a="aco";if([0,1].indexOf(g[1])!=-1&&[1,2,3,9,10,11].indexOf(g[2])!=-1&&[0,16,24,32].indexOf(g[7])!=-1)a="tga";
if(C(g,[0,2,56,66,83,76]))a="asl";if(C(g,[0,1,0,-1,0,2,0]))a="abr";if(C(g,[0,2,0,-1,0,2,0]))a="abr";
if(C(g,[0,6,0,1]))a="abr";if(C(g,[0,6,0,2]))a="abr";if(C(g,[0,7,0,2]))a="abr";if(C(g,[0,9,0,2]))a="abr";
if(C(g,[0,10,0,2]))a="abr";if(C(g,[56,66,70,83]))a="shc";if(C(g,[56,66,80,84]))a="pat";if(C(g,[56,66,71,82]))a="grd";
if(C(g,[71,73,77,80,32,71,114,97]))a="grd";if(C(g,[56,66,84,80]))a="tpl";if(C(g,[0,4,0,5]))a="acv";if(C(g,[99,117,115,104]))a="csh";
if(C(g,[0,1,0,0,0]))a="otf";if(C(g,[79,84,84,79]))a="otf";if(C(g,[116,116,99,102]))a="otf";if(C(g,[68,68,83,32]))a="dds";
if(C(g,[80,86,82,3]))a="pvr";if(C(g,[86,84,70,0]))a="vtf";if(C(g,[83,73,77,80]))a="fits";if(C(g,[0,0,1,0]))a="ico";
if(C(g,[66,77]))a="bmp";if(C(g,[40,0,0,0]))a="bmp";if(C(g,[80,49]))a="ppm";if(C(g,[80,50]))a="ppm";if(C(g,[80,51]))a="ppm";
if(C(g,[80,52]))a="ppm";if(C(g,[80,53]))a="ppm";if(C(g,[80,54]))a="ppm";if(C(g,[73,73,42,0]))a="tiff";
if(C(g,[77,77,0,42]))a="tiff";if(C(g,[70,85,74,73,70,73,76,77]))a="raf";if(C(g,[112]))a="lif";if(C(g,[73,73,26,0]))a="ciff";
if(C(g,[83,81,76,105]))a="sketch";if(C(g,[80,75])){var d=UZIP.parse(o,!0);if(d["document.json"])a="sketch";
else if(d.manifest)a="xd";else a="zip"}if(C(g,[123]))a="json";if(u.s(g,0)==g.length)a="icc";if(C(g,[35]))a="icc";
if(C(g,[84,73,84,76],x))a="icc";if(C(g,[76,85,84,95],x))a="icc";if(C(g,[60,63,120,109],x)){if(u.k$(g,"<look>")!=-1)a="icc";
else a="svg"}if(C(g,[60,115,118,103],x))a="svg";if(C(g,[60,33,100,111],x)||C(g,[60,33,68,79],x)||C(g,[60,33,45,45],x)){if(u.k$(g,"<svg")!=-1)a="svg";
else a="html"}if(C(g,[37,33])||C(g,[197,208,211,198])){if(u.k$(g,"%AI9_PrivateDataBegin")!=-1||u.k$(g,"%AI5_BeginLayer")!=-1)a="ai";
else a="eps"}if(C(g,[37,80,68,70],x)){if(u.k$(g,"/AIMetaData ")!=-1)a="ai";else a="pdf"}else if(C(g,[10,69,79,70],K-3))a="dxf";
if(C(g,[1,0,9,0]))a="wmf";if(C(g,[215,205,198,154]))a="wmf";if(C(g,[1,0,0,0]))a="emf";if(C(g,[118,47,49,1]))a="exr";
if(C(g,[10,10,10,10]))a="jsx";if(C(g,[77,90]))a="exe";if(a==null&&l.raw.ld(g.length)!=null)return"tiff";
return a};bl._e=function(o,g,C){if(C==null)C=0;for(var N=0;N<g.length;N++)if(g[N]!=-1&&o[C+N]!=g[N])return!1;
return!0};bl.qC=function(o){var g={BMP:bl.age,CDR:bl.NI,DDS:bl.cu,EMF:bl.DU,DXF:bl.qH,EPS:bl.ES,FIG:bl.qB,FPNG:bl.HQ,INDD:bl.Lw,GIF:bl.Hj,ICO:bl.FI,ILBM:bl.uK,FITS:bl.$C,EXR:bl.zx,JPG:bl.Lr,LIF:bl.kA,DCM:bl.apu,PDF:bl.Ig,PDN:bl.mn,PNG:bl.F_,PPM:bl.HI,PSD:bl.w9,PXD:bl.v3,RAF:bl.Fi,RAW:bl.R5,SKETCH:bl.mr,SVG:bl.hA,TGA:bl.d$,AVIF:bl.a7v,TIFF:bl.Ad,VTF:bl.O8,WEBP:bl.ry,WMF:bl.Kg,XCF:bl.cw,XD:bl.aa,EXE:bl.RX,AI:bl.Tr,AFPHOTO:bl.gZ,MP4:bl.aq6};
return g[o.toUpperCase()]};bl.ZZ=function(N){var o=bl.WB.ajD,g=bl.WB.at_,C,a=[];if(N==null)C=o.concat(g);
else C=N==0?o:g;for(var N=0;N<C.length;N++)if(bl.qC(C[N]).oe)a.push(C[N]);return a};bl.a2U=function(){var o;
function g(a){var x=a.target,K=x.width,h=x.height,X=document.createElement("canvas");X.width=K;X.height=h;
var w=X.getContext("2d");w.drawImage(x,0,0);o({m_:new aS(0,0,K,h),data:w.getImageData(0,0,K,h).data.buffer})}function C(a,x,K){o=K;
var h=document.createElement("img");h.onload=g;h.src="data:"+x+";base64,"+bl.H8(a)}return C}();bl.eD=function(o,g,C,a,x){var K=bl.Mq(o,g,C,a,x),h=bl.OQ(K);
return h.buffer};bl.OQ=function(o){var g=atob(o.split(",").pop()),C=new Uint8Array(g.length);for(var N=0;
N<g.length;N++)C[N]=g.charCodeAt(N);return C};bl.Mq=function(o,g,C,a,x,K){if(!(o instanceof ArrayBuffer))throw"e";
if(a==null)a="png";if(a=="png"&&K==!0){var h=bl.qC("PNG").oe([[o,0]],g,C);return"data:image/png;base64,"+bl.H8(h)}var X=bl.GI;
if(X==null)X=bl.GI=document.createElement("canvas");if(X.width!=g||X.height!=C){X.width=g;X.height=C}var w=X.getContext("2d"),G=new ImageData(new Uint8ClampedArray(o,0,g*C*4),g,C);
w.putImageData(G,0,0);return X.toDataURL("image/"+a,x)};bl.a7f=function(o,g,C,a,x){if(x==null)x=0;var K="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",h="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+K+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(o==1)h+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
h+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+x+")\" xlink:href=\""+g+"\" x=\""+80*C+"\" y=\""+80*a+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var X=new Uint8Array(h.length);u.At(h,X,0);var w="data:image/svg+xml;base64,"+bl.H8(X.buffer);return{QS:w,Cn:new aS(0,0,128,128),kN:new eN(64,64)}};
bl.H8=function(o){var g=new Uint8Array(o),C="";for(var N=0;N<g.length;N++)C+=String.fromCharCode(g[N]);
return btoa(C)};bl.alB=function(o){var g=atob(o),C=g.length,a=new Uint8Array(C);for(var N=0;N<C;N++)a[N]=g.charCodeAt(N);
return a.buffer};bl.QZ=function(o){var g=[],C=[];for(var N=0;N<o.g.length;N++){var a=o.g[N];if(a.getName().slice(0,3)=="_a_"){g.push(N);
C.push(a.aL())}}return[g,C]};bl.XS=function(o,g,C,a,x,K){if(C==null)C=o.m;if(a==null)a=o.n;var h=new aS(0,0,o.m,o.n),X=new kp(C/(o.m+.001),0,0,a/(o.n+.001),0,0),G;
g=g.toUpperCase();var w=bl.qC(g);if(w.dA){o.cf();G=w.oe(o,C,a,x,K)}else{if(x)x=x.slice(0);var R=bl.QZ(o),d=R[0],q=R[1],m=o.QY(),M=m&&x?x.pop():!1,Z=m&&!M?m[0]:null,Q=null;
if(o.JH.length!=0){Q=[];for(var N=0;N<o.JH.length;N++)Q.push(o.JH[N].Gc(h))}if(d.length<2){var p=bl.SB(o.cf(),m,M),y;
if(C==o.m&&a==o.n)y=p.buffer;else{var V=c.V.Sk([p,h],X);y=V.buffer.buffer;if(Q){var W=l.Z(h.$()*4);for(var N=0;
N<Q.length;N++){l.Oa(Q[N],W,3);var V=c.V.Sk([W,h],X),v=Q[N]=l.Z(V.rect.$());l.eP(V.buffer,v,3)}}}G=w.oe([[y,0,o.zC,o.Eb,Q,Z]],C,a,x)}else{var j=[];
for(var N=0;N<d.length;N++){var e=d[N],y;for(var T=0;T<d.length;T++)o.g[d[T]].Su(d[T]==e);o.vg();o.L();
o.II();if(C==o.m&&a==o.n)y=o.cf().buffer.slice(0);else{var V=c.V.Sk([o.cf(),h],X);y=V.buffer.buffer}y=bl.SB(new Uint8Array(y),m,M).buffer;
var O=o.g[e].getName().split(",");j.push([y,O[1]?parseInt(O[1]):100,o.zC,o.Eb,Q,Z])}for(var N=0;N<d.length;
N++)o.g[d[N]].Su(q[N]);o.L();o.II();if(x){var L=x.length,S=x[L-2],$=x[L-1],H=x[L-4]/100;if(H!=1)for(var N=0;
N<j.length;N++)j[N][1]=Math.round((j[N][1]==0?16:j[N][1])/H);if(S)j.reverse();if($){var f=j.slice(1,j.length-1);
f.reverse();j=j.concat(f)}}G=w.oe(j,C,a,x)}}return G};bl.SB=function(o,g,C){if(C){o=o.slice(0);ICC.U.applyLUT(g[3],g[2],o,o)}return o};
bl.ng=function(o,g){var C=g[0].A$&&g[0].A$.startsWith("_a_"),a,x=new aX(o+".psd"),K=new aS(0,0,1,1);
if(C){a=x.HL();a.add.lsct=kj.ah;a.XH(o);a.WN="pass";a.qX=24;a.Su(!0);x.g.push(x.kF())}for(var N=0;N<g.length;
N++){var h=g[N];K=K.ae(h.m_);var X=x.HL();X.Su(N==0);X.XH(g.length==1?"Background":"Layer "+N);if(N==0&&h.zC)x.zC=h.zC;
if(N==0&&h.Eb)x.Eb=h.Eb;if(h.A$)X.XH(h.A$);if(h.kV)for(var N=0;N<h.kV.length;N++){var w=h.kV[N],G=aX.Xy(w[0]);
G.add.vmsk.i=w[1];l.M.Jg(w[1],new kp(K.m,0,0,K.n,0,0));x.eJ.push(G)}if(h.Pa)x.Pa=h.Pa;X.rect=h.m_.clone();
X.buffer=new Uint8Array(h.data);if(N==0&&h.qU)x.uo(h.qU);l.JF(X);x.g.push(X)}if(C)x.g.push(a);if(g[0].JH){for(var N=0;
N<g[0].JH.length;N++){var R=new A.QX;x.JH.push(R);R.rect=g[0].m_.clone();R.channel=g[0].JH[N]}}x.A=[C?x.g.length-1:0];
x.m=K.m;x.n=K.n;x.buffer=l.Z(K.$()*4);x.L();return x};bl.atR=function(o,g,C,a,x,K){var h=new jO(D.E.q,!0);
h.F=c.DY;h.data={C:"h_stepbck"};var X={};for(var w=1;w<C.length;w++){var G=o.A.slice(0),R=bl.sn(o,K,g,C,a,w);
X["img"+w+"."+x.toLowerCase()]=new Uint8Array(bl.XS(o,x));for(var N=0;N<R;N++)K.c(h)}return UZIP.encode(X)};
bl.sn=function(o,g,C,a,x,K){var h=new jO(D.E.X,!0),G=0;h.data={C:D.t.xv};var X=new jO(D.E.q,!0);X.F=c.qd;
X.data={C:A.cB,Xz:{buffer:null,rect:null}};var w=X.data.Xz;for(var R=0;R<C.length;R++){var d=C[R],q=d.trait,m=parseInt(d.docRef.slice(4,-2)),M=-1;
for(var N=0;N<o.g.length;N++)if(o.g[N].add.lyid==m)M=N;if(M==-1)continue;var Z=a[0].indexOf(d.varName);
if(Z==-1){alert("Column "+d.varName+" is missing");return}var Q=a[K][Z],p=o.g[M];o.A=[M];if(q=="textcontent"){h.data.Y3="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(Q)+";";
g.c(h);G++}if(q=="visibility"&&p.aL()+""!=Q.toLowerCase()){h.data.Y3="app.activeDocument.activeLayer.visible = "+Q.toLowerCase()+";";
g.c(h);G++}if(q=="fileref"){var y=Q.split("/").pop(),V=null;for(var ee in x)if(ee.split("/").pop()==y)V=x[ee];
if(V==null){alert("Image "+y+" is missing.")}else{var W=bl.qC(bl.tt(V.buffer)).gd(V.buffer)[0],v=W.m_,j=p.rect.m/p.rect.n,T=v.m/v.n,O=0,L=0;
if(j>T){L=p.rect.n;O=~~(L*T)}else{O=p.rect.m;L=~~(O/T)}h.data.Y3="app.activeDocument.activeLayer.visible = false;";
g.c(h);G++;var S=c.V.Sk([new Uint8Array(W.data),v],new kp(O/v.m,0,0,L/v.n,0,0));w.rect=S.rect;w.buffer=S.buffer;
S.rect.x=p.rect.x+(p.rect.m-O>>>1);S.rect.y=p.rect.y+(p.rect.n-L>>>1);g.c(X);G++}}}return G};bl.F_={};
bl.F_.oe=function(o,g,C,a){if(a==null)a=[100,!1,0,0,0];var x={sRGB:1,loop:a[3]};if(o[0][5]!=null){delete x.sRGB;
x.iCCP=o[0][5]}if(o[0][2]!=null){var K=Math.round(o[0][2]*(1e4/254));x.pHYs=[K,K,1]}var h=a[0],X=h==100?0:Math.max(2,Math.floor(h*5));
if(X==5)X=4;var w=[],G=[];for(var N=0;N<o.length;N++){w.push(o[N][0]);G.push(o[N][1])}var R=UPNG.encode(w,g,C,X,G,x,a[1]);
return R};bl.F_.ami=function(o,g,C){return UPNG.encodeLL([o],g,C,3,1,8)};bl.F_.gd=function(o){var g=Date.now(),C=UPNG.decode(o),a=UPNG.toRGBA8(C),x=C.width,K=C.height,h=0,X=C.tabs.iCCP;
if(C.tabs.pHYs)h=Math.round(C.tabs.pHYs[0]*254/1e4);if(a.length==1)return[{m_:new aS(0,0,x,K),data:a[0],zC:h,qU:X}];
var w=[];for(var N=0;N<a.length;N++){w.push({A$:"_a_frm"+N+","+C.frames[N].delay,m_:new aS(0,0,x,K),data:a[N],zC:h,qU:X})}return w};
bl.HI={};bl.HI.oe=function(o,g,C,a){var x=new Uint8Array(o[0][0]),K=g*C,h=K*3,X="P6\n"+g+" "+C+"\n255\n",w=X.length,G=l.Z(w+h,!0);
for(var N=0;N<w;N++)G[N]=X.charCodeAt(N);for(var N=0;N<K;N++){var R=N*4,d=N*3+w;G[d]=x[R];G[d+1]=x[R+1];
G[d+2]=x[R+2]}return G.buffer};bl.HI.gd=function(o){o=new Uint8Array(o);var g=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],C=0,a=String.fromCharCode(o[0])+String.fromCharCode(o[1]),x=[],K=0,h=a=="P1"||a=="P4"?2:3;
for(C=2;C<o.length;C++){var X=o[C],w=String.fromCharCode(X);if(X=="#".charCodeAt(0)){while(o[C]!="\n".charCodeAt(0))C++;
continue}var G=g.indexOf(X)!=-1;if(K==0&&!G){x.push(w);K=1;continue}if(K==1&&!G){x[x.length-1]+=w;continue}if(K==1&&G){K=0;
if(x.length==h)break;continue}}var R=parseInt(x[0]),d=parseInt(x[1]),q=R*d*4,m=a=="P1"||a=="P4"?1:255/parseInt(x[2]),M=l.Z(q);
if(a=="P1"||a=="P2"||a=="P3"){var Z="",Q=0,K=0,p="#".charCodeAt(0);for(var N=C;N<o.length;N++){var X=o[N],w=String.fromCharCode(X),G=g.indexOf(X)!=-1;
if(X==p){while(o[N]!="\n".charCodeAt(0))N++}else if(K==0&&!G){Z=w;K=1}else if(K==1){if(G){K=0;var y=parseInt(Z);
Z="";if(a=="P1"){M[Q]=M[Q+1]=M[Q+2]=(1-y)*255;M[Q+3]=255;Q+=4}if(a=="P2"){M[Q]=M[Q+1]=M[Q+2]=Math.round(y*m);
M[Q+3]=255;Q+=4}if(a=="P3"){M[Q]=Math.round(y*m);Q++;if((Q&3)==3){M[Q]=255;Q++}}}else Z+=w}}}var V=R*d;
if(a=="P4")for(var W=0;W<d;W++){var v=W*8*Math.ceil(R/8);for(var j=0;j<R;j++){var N=v+j,e=o[C+1+(N>>3)];
e=e>>7-(N&7)&1;var T=W*R+j<<2;M[T]=M[T+1]=M[T+2]=(1-e)*255;M[T+3]=255}}if(a=="P5")for(var N=0;N<V;N++){var T=4*N;
M[T]=M[T+1]=M[T+2]=Math.round(o[C+1+N]*m);M[T+3]=255}if(a=="P6")for(var N=0;N<V;N++){var T=4*N,O=C+1+3*N;
M[T]=Math.round(o[O]*m);M[T+1]=Math.round(o[O+1]*m);M[T+2]=Math.round(o[O+2]*m);M[T+3]=255}return[{m_:new aS(0,0,R,d),data:M.buffer}]};
bl.cu={};bl.cu.oe=function(o,g,C,a){if(a==null)a=[!0,!0];var x=new Uint8Array(o[0][0]),K=g&3,h=C&3;if(K!=0||h!=0){var X=g+(K==0?0:4-K),w=C+(h==0?0:4-h),R=new Uint8Array(X*w*4);
l.th(R,4278190080);l.HT(x,new aS(0,0,g,C),R,new aS(0,0,X,w));x=R;g=X;C=w}var d=UTEX.DDS.encode(x.buffer,g,C,a);
if(!1){var q=UTEX.DDS.decode(d)[0],R=new Uint8Array(q.zm),m=0;for(var N=0;N<x.length;N++){var M=x[N]-R[N];
m+=M*M}console.log(m)}return d};bl.cu.gd=function(o){var g=UTEX.DDS.decode(o)[0];return[{m_:new aS(0,0,g.width,g.height),data:g.image}]};
bl.O8={};bl.O8.gd=function(o){var g=UTEX.VTF.decode(o).pop();return[{m_:new aS(0,0,g.width,g.height),data:g.image}]};
bl.Lr={};bl.Lr.Sl=null;bl.Lr.ade=function(o,g){var C=bl.Lr.Sl,a=o.byteLength,x=g.width,K=g.height,h=x*K,X=5e6+2*a+h*(g.progressive?Math.max(2,g.numComponents)*4+1:8),w=C.instance.exports;
bl.iR(w,X);var G=new Uint8Array(w.memory.buffer),R=w.malloc(a);G.set(new Uint8Array(o),R);var d=w.malloc(4),q=w.malloc(4),ee=w.malloc(4),m=w.stbi_load_from_memory(R,a,d,q,ee,4);
w.free(R);w.free(d,q,ee);w.free(m);var M=G.slice(m,m+h*4);return M};(function(){var o=bl.zY.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(o).then(function(g){bl.Lr.Sl=g})}());bl.Lr.oe=function(o,g,C,a){if(a==null)a=[85];
var x=o[0],K=new Uint8Array(x[0]);if(l.er(K)){var h=new Uint8Array(K.length),X=new aS(0,0,g,C);l.th(h,4294967295);
l.j.Ly("norm",K,X,h,X,X,1);K=h}var w=new Uint8Array(bl.eD(K.buffer,g,C,"jpeg",a[0]/100));if(x[5]!=null){var G=bl.Lr.yI(w)[226][0]+2,R=u.eX(w,G),d=x[5].length+16,q=d-R,m=new Uint8Array(w.length+q);
for(var N=0;N<G+R;N++)m[N]=w[N];for(var N=G+R;N<w.length;N++)m[N+q]=w[N];u.rf(m,G,d);m.set(x[5],G+16);
w=m}if(x[2]!=null){var M=bl.Lr.yI(w)[224][0]+2;M+=9;w[M]=1;u.rf(w,M+1,x[2]);u.rf(w,M+3,x[2])}if(x[3]!=null&&a[1]==!0&&Object.keys(x[3]).length!=0){var Z=0,Q=0,p=0,y=hZ.oY(x[3]),V=new Uint8Array(UTIF.encode([y])),W="http://ns.adobe.com/xap/1.0/",G=20;
Z=4+6+V.length;var v=hZ.a5o(x[3]),j=u.Jz(v);Q=4+W.length+1+j.length;var e=hZ.ahp(x[3]);if(e.length!=0){var T=0,S=0;
for(var N=0;N<e.length;N++)T+=5+e[N][1].length;var O=T+(T&1),L=l.Z(14+4+2+4+O);u.P9(L,S,"Photoshop 3.0");
S+=14;u.P9(L,S,"8BIM");S+=4;L[S++]=4;L[S++]=4;S+=2;u.we(L,S,T);S+=4;for(var N=0;N<e.length;N++){var $=e[N],H=$[1];
L[S++]=28;L[S++]=2;L[S++]=$[0];u.rf(L,S,H.length);S+=2;u.P9(L,S,H);S+=H.length}p=4+L.length}var f=Z+Q+p,F=new Uint8Array(w.length+f);
for(var N=0;N<20;N++)F[N]=w[N];for(var N=20;N<w.length;N++)F[N+f]=w[N];F[G]=255;F[G+1]=225;u.rf(F,G+2,Z-2);
u.P9(F,G+4,"Exif");for(var N=0;N<V.length;N++)F[G+10+N]=V[N];G+=Z;F[G]=255;F[G+1]=225;u.rf(F,G+2,Q-2);
u.P9(F,G+4,W);for(var N=0;N<j.length;N++)F[G+4+W.length+1+N]=j[N];G+=Q;if(p!=0){F[G]=255;F[G+1]=237;
u.rf(F,G+2,p-2);for(var N=0;N<L.length;N++)F[G+4+N]=L[N];G+=p}w=F}return w.buffer};bl.Lr.yI=function(o){var g=0,C=[],a=o.length;
while(g<a){while(o[g]!=255&&g<a)g++;while(o[g]==255)g++;var x=o[g];g++;if(C[x]==null)C[x]=[];C[x].push(g-2);
if(x==216)continue;if(x==217)break;if(224<=x&&x<=239||x==218||x==219||x==192||x==193||x==194||x==196||x==221||x==254){var K=u.eX(o,g);
g+=K;if(x==218)while(g<a&&(o[g]!=255||(o[g+1]==0||208<=o[g+1]&&o[g+1]<=215)))g++;continue}console.log("unknown marker ",x.toString(16),g);
break}if(C[217]==null){console.log("EOI marker missing");var h=o.length-2;o[h]=255;o[h+1]=217;C[217]=[h]}return C};
bl.Lr.avp=function(o){o=new Uint8Array(o);if(o[0]!=255)return o.buffer;var g=bl.Lr.yI(o),C=bl.Lr.N0(o,g);
if(C.numComponents!=4)return o.buffer;var a=C.width,x=C.height,K=bl.Lr.tm(o,g,!0);return bl.Lr.oe([[K[0].data]],a,x,[85])};
bl.Lr.N0=function(o,g){var C=(g[192]?g[192]:g[193]?g[193]:g[194])[0]+4,a={};a.progressive=g[194]!=null;
a.precision=o[C];C++;a.height=u.eX(o,C);C+=2;a.width=u.eX(o,C);C+=2;a.numComponents=o[C];C++;if(g[224]){var x=a.jfif={};
C=g[224][0]+2+2+5+2;x.densityUnits=o[C];C++;x.xDensity=u.eX(o,C);C+=2;x.yDensity=u.eX(o,C);C+=2}if(g[238]){var x=a.adobe={};
C=g[238][0]+2+2+6;x.version=o[C];C++;x.flags0=u.eX(o,C);C+=2;x.flags1=u.eX(o,C);C+=2;x.transform=o[C];
C++}return a};bl.Lr.ajQ=function(o,g,C){var a=g,x=u.eX(o,a);a+=2;var K=u.M7(o,a,4);if(K=="Exif"){a+=6;
var h=o.slice(a,a+x-8),X;try{X=UTIF.decode(h.buffer,{parseMN:!1,debug:!1})}catch(fF){}if(X)C.exif=X}else if(K=="http"){var w=0;
while(o[a+w]!=0)w++;var G=u.M7(o,a,w);a+=w+1;if(G=="http://ns.adobe.com/xmp/extension/"){var R=u.M7(o,a,32);
a+=32;a+=8;var d=g+x-a;while(o[a+d-1]==0)d--;if(C.xmp_extn==null)C.xmp_extn="";try{C.xmp_extn+=u.SP(o,a,d)}catch(fF){}}else if(G=="http://ns.adobe.com/xap/1.0/"){var q=u.SP(o.slice(a,a+x-w-3));
if(q[0]=="?")q="<"+q;C.xmp=q}}else console.log(K)};bl.Lr.tm=function(o,g,C){var a=bl.Lr.N0(o,g),x=a.width,K=a.height,h=x*K,X,w=-1,W=72,v,e,T=null;
if(a.adobe)w=a.adobe.transform;if(C||x*K>15e7||w==0||w==2){var G=new PDFJS.JpegImage;G.parse(o);var R=G.getData({width:x,height:K,forceRGB:!0,isSourcePDF:C}),X=l.Z(h*4);
for(var N=0;N<h;N++){var d=N<<2,q=d-N;X[d]=R[q];X[d+1]=R[q+1];X[d+2]=R[q+2];X[d+3]=255}}else{X=bl.Lr.ade(o.buffer,a)}var m=g[225];
if(m)for(var N=0;N<m.length;N++)bl.Lr.ajQ(o,m[N]+2,a);var M=g[226];if(M){var Z=M[0],Q=u.eX(o,Z+2),p=u.M7(o,Z+4,11);
if(p=="ICC_PROFILE"){var y=u.s(o,Z+18);a.icc=o.slice(Z+18,Z+18+y)}}var V=g[217][0]+2;if(V!=o.length)a.suffix=o.slice(V);
var j=[x,K,1,0,0,0,1,0];if(a.jfif&&a.jfif.densityUnits!=0){W=Math.round([72,1,2.54][a.jfif.densityUnits]*a.jfif.xDensity)}else if(a.exif&&a.exif[0].t282!=null){var O=a.exif[0].t282[0];
W=O[0]/O[1]}if(a.exif){var L=a.exif;v=hZ.u$(L[0]);var S=L[0].t274;if(S)S=S[0];if(S!=null&&S>1&&S<20)j=l.raw.PZ(S,x,K)}if(a.xmp){v=hZ.a9C(a.xmp,v)}if(a.icc)e=a.icc;
var $=g[237],H=[],f=[];if($){var F=new Uint8Array(65536),U=0,Z=0;for(var N=0;N<$.length;N++){Z=$[N]+2;
var r=Z+u.eX(o,Z);Z+=2;var E=Z;while(o[Z]!=0)Z++;Z++;var k=u.M7(o,E,Z-E-1),P=r-Z;if(P<0)break;while(U+P>F.length){var z=new Uint8Array(F.length*2);
z.set(F);F=z}var s=new Uint8Array(o.buffer,Z,P);F.set(s,U);U+=P}Z=0;o=F;while(Z<U){var Y=u.M7(o,Z,4);
Z+=4;var t=u.eX(o,Z);Z+=2;var n=o[Z++],J=u.M7(o,Z,n);Z+=n;if((n&1)==0)Z++;var Q=u.s(o,Z);Z+=4;var V=Z+Q+(Q&1);
if(t==1028){while(Z+4<V){var I=o[Z++],fp=o[Z++],cH=o[Z++],b=u.eX(o,Z);Z+=2;if(I==28&&fp==2)H.push([cH,u.M7(o,Z,b)]);
Z+=b}}else if(t==1032)T=cL.pw(o,Z);else if((t&2e3)==2e3){var jL=dK.q8(o,Z,Q);f.push([J,jL])}else{}Z=V}if(H.length!=0)v=hZ.aiT(H,v)}var aq=[{m_:new aS(0,0,x,K),data:X.buffer,zC:W,Eb:v,qU:e,kV:f.length==0?null:f,Pa:T}],v=a.xmp_extn;
if(v){var cJ=new DOMParser,aB=cJ.parseFromString(v,"image/svg+xml"),aB=aB.children[0].children[0].children[0],au=[aB.getAttribute("GImage:Data"),aB.getAttribute("GDepth:Data")];
for(var N=0;N<au.length;N++)if(au[N]){var ea=atob(au[N]),ax=new Uint8Array(ea.length);u.P9(ax,0,ea);
ax=ax.buffer;var f1=bl.tt(ax),fk=bl.qC(f1).gd(ax);aq.push(fk[0])}}if(a.suffix){var hF=a.suffix,fm=u.M7(hF,4,4),jE=u.k$(hF,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(bl._e(hF,[0,0,1,10,14,0,0,0])){var Z=0;while(Z!=hF.length){var ff=u.Kk(hF,Z+2);Z+=4;var d5={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[ff];
if(d5!=null){var eF=u.KI(hF,Z);Z+=4;var gI=u.M7(hF,Z,eF);Z+=eF;var fE=u.M7(hF,Z,d5);Z+=d5;if(ff==2608){var js=u.s(hF,Z+24);
Z+=js+24;var d8=u.s(hF,Z);Z+=d8;alert("Photopea found a "+hX.cN(js)+" MP4 video inside your image.",4e3)}}else if(ff==18502){while(u.M7(hF,Z,4)!="SEFT")Z+=4;
Z+=4}else{break;console.log(u.NW(hF,Z,128));console.log(hF.slice(Z));throw ff.toString(16)}}}else if(fm=="ftyp"){alert("Photopea found a "+hX.cN(hF.length)+" MP4 video inside your image.",4e3)}else if(u.M7(hF,0,4)=="fixe"){alert("Unknown data - "+hF.length+" B - at the end of the file",3e3);
var Z=4,Q=u.KI(hF,Z);Z+=4;var bt=u.KI(hF,Z);Z+=4;var io=u.KI(hF,Z);Z+=4;console.log(Q,bt,io,hF.slice(Z,Z+84));
Z+=84;var ha=u.M7(hF,Z,32);Z+=32;Z+=8;var ha=u.M7(hF,Z,32);Z+=32}else if(u.M7(hF,8,13)=="FocusShot_Map"){var dp=u.s(hF,0),b=u.KI(hF,4),ax=l.Z(h*4),gS=l.Z(h*4);
for(var aP=0;aP<K;aP++)for(var gD=0;gD<x;gD++){var N=aP*x+gD,d=N<<2,fA=8+13+((aP>>>1)*x+gD>>>1),jH=hF[fA],aM=hF[fA+(h>>>2)];
ax[d]=ax[d+1]=ax[d+2]=jH;ax[d+3]=255;gS[d]=gS[d+1]=gS[d+2]=aM;gS[d+3]=255}aq.push({m_:new aS(0,0,x,K),data:ax.buffer},{m_:new aS(0,0,x,K),data:gS.buffer})}else if(fm=="edof"){var S=hF[8+7];
console.log(S.toString(16));var Z=8+16,jc=u.Kk(hF,Z),eQ=u.Kk(hF,Z+2),h=jc*eQ;Z+=4;Z+=32+16;var j1=l.Z(h*4);
for(var N=0;N<h;N++){var d=N<<2;j1[d]=j1[d+1]=j1[d+2]=hF[Z+N];j1[d+3]=255}if(S==16){}else if(S==19){var i7=j1.slice(0);
l.S.W8(j1,i7,jc,eQ);var fT=jc;jc=eQ;eQ=fT;l.S.tR(i7,j1,jc,eQ)}else throw"Unknown orientation of a depth map";
aq.push({m_:new aS(0,0,jc,eQ),data:j1.buffer})}else if(jE!=-1&&!(hF[0]==255&&hF[1]==129)){try{if(jE!=0)hF=hF.slice(jE);
var fk=bl.qC("jpg").gd(hF.buffer);for(var N=0;N<fk.length;N++)aq.push(fk[N])}catch(fF){}}else if(u.M7(hF,0,4)=="PMPD"){var Z=4,hy=u.KI(hF,12),hJ=u.KI(hF,16),jc=u.KI(hF,1060),eQ=u.KI(hF,1064),db=jc>eQ,jK=aq[0].m_.m>aq[0].m_.n,h_=hF.slice(hF.length-jc*eQ-4),dM=l.Z(jc*eQ);
for(var aP=0;aP<eQ;aP++)for(var gD=0;gD<jc;gD++)dM[aP*jc+gD]=h_[(eQ-aP-1)*jc+gD];var eW=l.Z(jc*eQ*4);
eW.fill(255);l.B2(dM,eW);if(db!=jK){var i7=eW.slice(0);l.S.W8(eW,i7,jc,eQ);var fT=jc;jc=eQ;eQ=fT;l.S.tR(i7,eW,jc,eQ)}aq.push({m_:new aS(0,0,jc,eQ),data:eW.buffer})}else console.log(u.M7(hF,0,4),hF)}if(aq.length>1){var ip=aq[0].m_;
aq[0].A$="Main";for(var N=1;N<aq.length;N++){aq[N].A$=bl.Lr.aic(new Uint8Array(aq[N].data))?"Depth Map":null;
var fS=aq[N].m_;if(!fS.$s(ip)){var hS=ip.m/fS.m,bB=ip.n/fS.n,g_=new kp;g_.scale(hS,bB);var e4=c.V.Bp([new Uint8Array(aq[N].data),fS],1,l.S.xN(g_));
aq[N].m_=e4.rect;aq[N].data=e4.buffer}}}if(bl.Lr.ic==1)if(j[2]!=1||j[6]!=1)for(var N=0;N<aq.length;N++){var e0=aq[N],jC=new Uint8Array(e0.data),x=e0.m_.m,K=e0.m_.n,jc=j[0],eQ=j[1],X=l.Z(jc*eQ*4);
l.S.IY(jC,x,K,X,j);e0.m_=new aS(0,0,jc,eQ);e0.data=X.buffer}return aq};bl.Lr.aic=function(o){var g=!0;
for(var N=0;N<o.length;N+=4){g=g&&o[N]==o[N+1]&&o[N+1]==o[N+2]}return g};bl.Lr.ic=0;bl.Lr.gd=function(o,g,C){o=new Uint8Array(o);
if(o[0]==255){var a=bl.Lr.yI(o);if(a[195]==null){bl.Lr.ic++;var x=bl.Lr.tm(o,a,!1);bl.Lr.ic--;return x}var K=u.eX(o,a[195][0]+5),h=u.eX(o,a[195][0]+7),X=UTIF.LosslessJpegDecode(o),w=h*K,G=l.Z(w*4);
for(var N=0;N<w;N++){var R=N<<2,d=R-N;G[R]=X[d];G[R+1]=X[d+1];G[R+2]=X[d+2];G[R+3]=255}return[{m_:new aS(0,0,h,K),data:G.buffer}]}else if(o[0]==0&&o[4]==48&&o[6]==1){var q=o,m=new PDFJS.Jbig2Image,M=[];
if(g)M.push({data:g,start:0,end:g.length});M.push({data:q,start:0,end:q.length});var X=m.parseChunks(M);
if(!C)for(var N=0;N<X.length;N++)X[N]=~X[N];var h=u.s(o,11),K=u.s(o,15),Z=Math.ceil(h/8),Q=l.Z(h*K*4);
for(var p=0;p<K;p++){var y=p*Z;for(var V=0;V<h;V++){var R=(p*h+V)*4,W=X[y+(V>>>3)]>>>7-(V&7)&1,v=W*255;
Q[R]=v;Q[R+1]=v;Q[R+2]=v;Q[R+3]=255}}return[{m_:new aS(0,0,h,K),data:Q.buffer}]}else{var m=new PDFJS.JpxImage;
m.parse(o);var h=m.width,K=m.height,j=m.tiles,e=m.componentsCount,T=new Uint8Array(h*K*4),O=new aS(0,0,h,K);
for(var m=0;m<j.length;m++){var L=j[m],S=L.width,$=L.height,H=S*$,f=L.items,F=new aS(L.left,L.top,S,$),U=new Uint8Array(H*4);
if(e==1)for(var N=0;N<H;N++){var r=f[N],R=N*4;U[R]=r;U[R+1]=r;U[R+2]=r;U[R+3]=255}else if(e==3)for(var N=0;
N<H;N++){var d=N*3,R=N*4;U[R]=f[d];U[R+1]=f[d+1];U[R+2]=f[d+2];U[R+3]=255}else console.log("Unknown number of components: "+e);
l.HT(U,F,T,O)}return[{m_:O,data:T.buffer}]}};bl.ry={};bl.ry.oe=function(o,g,C,a){if(a==null)a=[70,0,0,0];
var x=a[0]/100,w=0;if(o.length==1)return bl.eD(o[0][0],g,C,"webp",x);var K=u.mC,h=u.zS,X=new jm;K(X,w,"RIFF    WEBPVP8X");
w+=16;h(X,w,10);w+=4;h(X,w,18);w+=4;h(X,w,g-1);w+=3;h(X,w,C-1);w+=3;K(X,w,"ANIM");w+=4;h(X,w,6);w+=4;
X.TB(w,4);X.data[w+3]=255;u.fL(X,w+4,a[2]);w+=6;var G=[];for(var N=0;N<o.length;N++){G.push(o[N][0])}var R=UPNG.encode.compress(G,g,C,x==1?0:Math.max(2,Math.floor(x*500)),[!1,!0,!0,0,!0]).frames;
function d(T,O,L,S){var V=T.v-8,W=T.size+8;L.TB(S,W);for(var N=0;N<W;N++)L.data[S+N]=O[V+N];return S+W}for(var N=0;
N<o.length;N++){K(X,w,"ANMF");w+=4;var q=w,V=0,W=0;w+=4;var m=R[N],M=m.rect,Z=[M.x>>>1,M.y>>>1,M.width-1,M.height-1,o[N][1]];
for(var Q=0;Q<5;Q++)h(X,w+3*Q,Z[Q]);w+=15;X.TB(w,1);X.data[w]=1-m.blend<<1|m.dispose;w++;var p=new Uint8Array(bl.eD(m.img.buffer,M.width,M.height,"webp",1)),y=hx.kR(p.buffer).sub,v={};
for(var j=0;j<y.length;j++)v[y[j].f8]=y[j];if(v.VP8L)w=d(v.VP8L,p,X,w);else throw"e";var e=w-q-4;h(X,q,e);
if((e&1)==1){X.TB(w,1);w++}}h(X,4,w-8);return X.data.slice(0,w).buffer};(function(){var o=bl.zY.get("wasm/webp").buffer;
WebAssembly.instantiate(o).then(function(g){var C=g.instance.exports;bl.ry.exp=C})}());bl.ry.gd=function(o){var g=new Uint8Array(o),C=bl.ry.a3P,a=null,x=hx.kR(o).sub,K={};
for(var N=0;N<x.length;N++)K[x[N].f8]=x[N];var h=K.ANIM,X=K.VP8L,w=K["VP8 "],G=K.VP8X;if(h==null){var R,d;
if(w){R=u.Kk(g,w.v+6);d=u.Kk(g,w.v+8)}else if(X){var q=u.KI(g,X.v+1);R=(q&(1<<14)-1)+1;d=(q>>>14&(1<<14)-1)+1}else throw"e";
var m=[C(a,o,{v:0,size:g.length},R,d)];return m}var M=G.v,R=1+(u.KI(g,M+4)&16777215),d=1+(u.KI(g,M+7)&16777215),Z=[],Q=new aS(0,0,R,d),p=l.Z(R*d*4);
for(var N=0;N<x.length;N++){var y=x[N];if(y.f8!="ANMF")continue;var V=[];for(var W=0;W<5;W++)V.push(u.KI(g,y.v+W*3)&16777215);
var v=new aS(V[0]*2,V[1]*2,V[2]+1,V[3]+1),j=V[4],e=C(a,o,{v:y.v+16,size:y.size-16},R,d),T=new Uint8Array(e.data),O=g[y.v+15];
if(O>>>1==0)l.j.Ly("norm",T,v,p,Q,v,1);else l.HT(T,v,p,Q);Z.push({A$:"_a_"+Z.length+","+j,m_:Q.clone(),data:p.buffer.slice(0)});
if((O&1)==1){l.th(T,0);l.HT(T,v,p,Q)}}return Z};bl.ry.a3P=function(o,g,C,a,x){var K=bl.ry.exp,h=K.memory,X=5e6+2*C.size+a*x*10;
bl.iR(K,X);var w=new Uint8Array(h.buffer),G=K.malloc(C.size);w.set(new Uint8Array(g,C.v,C.size),G);var R=K.malloc(8),d=K.WebPDecodeARGB(G,C.size,R,R+4),q=u.KI(w,R),m=u.KI(w,R+4),M=q*m*4,Z=l.Z(M);
for(var N=0;N<M;N+=4){Z[N]=w[d+N+1];Z[N+1]=w[d+N+2];Z[N+2]=w[d+N+3];Z[N+3]=w[d+N]}K.WebPFree(d);K.free(R);
K.free(G);return{m_:new aS(0,0,q,m),data:Z.buffer}};bl.age=function(){function o(X,w,G,R){var d=new Uint8Array(X[0][0]),q=new Uint32Array(d.buffer),m=[],M={},Q=24,p=0,j=0;
for(var N=0;N<q.length;N++){var Z=q[N]&16777215;if(M[Z]==null){M[Z]=m.length;m.push(Z);if(m.length>256){m=null;
break}}}if(m){Q=1;while(1<<Q<m.length)Q*=2;if(Q==2)Q=4}var y={MI:w,fB:G,WS:1,mx:Q,hs:0,aiX:p},V=4*Math.floor((y.mx*y.MI+31)/32);
y.size=V*y.fB+2;var W=new jm,v=m?(1<<Q)*4:0;u.mC(W,j,"BM");j+=2;u.zS(W,j,V*G+16+40+v);j+=4;u.zS(W,j,0);
j+=4;u.zS(W,j,54+v);j+=4;W.TB(j,40);u.zS(W,j,40);j+=4;h(W.data,j,y,V);j+=36;if(m){W.TB(j,v);var e=W.data;
for(var N=0;N<m.length;N++){var T=j+N*4,O=m[N]>>>16,L=m[N]>>>8&255,S=m[N]&255;e[T]=O;e[T+1]=L;e[T+2]=S}j+=v}W.TB(j,V*G);
if(Q==24)for(var $=0;$<G;$++){var H=j+(G-1-$)*V;for(var f=0;f<w;f++){var F=($*w+f)*4;W.data[H+f*3+2]=d[F];
W.data[H+f*3+1]=d[F+1];W.data[H+f*3+0]=d[F+2]}}else if(Q==8)for(var $=0;$<G;$++){var H=j+(G-1-$)*V;for(var f=0;
f<w;f++){var F=$*w+f,U=M[q[F]&16777215];W.data[H+f]|=U}}else if(Q==4)for(var $=0;$<G;$++){var H=j+(G-1-$)*V;
for(var f=0;f<w;f++){var F=$*w+f,U=M[q[F]&16777215];W.data[H+(f>>>1)]|=U<<4-(f&1)*4}}else if(Q==1)for(var $=0;
$<G;$++){var H=j+(G-1-$)*V;for(var f=0;f<w;f++){var F=$*w+f,U=M[q[F]&16777215];W.data[H+(f>>>3)]|=U<<7-(f&7)}}j+=V*G+2;
return W.data.slice(0,j).buffer}function g(X){X=new Uint8Array(X);if(u.KI(X,0)==40)return[C(X.buffer,0)];
var w=0,G=u.M7(X,w,2);w+=2;if(G!="BM"){alert("Unsupported BMP format: "+G);return}var R=u.KI(X,w);w+=4;
w+=4;var d=u.KI(X,w);w+=4;return[C(X.buffer,w,d)]}function C(X,w,G){X=new Uint8Array(X);var R=u.KI(X,w),d=K(X,w+4);
if(d.WS!=1)alert("unsupported number of color planes: "+d.WS);if(d.hs!=0&&d.hs!=1&&d.hs!=2&&d.hs!=3){alert("Unsupported BMP compression: "+d.hs);
return}w+=R;var q=w,m=X;if(G==null)G=w;if(d.hs==1||d.hs==2){var M=x(X,G,d);d.mx=8;X=M;G=0}var Z=4*Math.floor((d.mx*d.MI+31)/32),Q=d.MI,p=Math.abs(d.fB),y=new Uint8Array(Q*p*4);
y.fill(255);if(d.mx==32)for(var V=0;V<p;V++){var W=G+(p-1-V)*Z;for(var v=0;v<Q;v++){var j=(V*Q+v)*4;
y[j]=X[W+v*4+2];y[j+1]=X[W+v*4+1];y[j+2]=X[W+v*4+0];y[j+3]=X[W+v*4+3]}}else if(d.mx==24)for(var V=0;
V<p;V++){var W=G+(p-1-V)*Z;for(var v=0;v<Q;v++){var j=(V*Q+v)*4;y[j]=X[W+v*3+2];y[j+1]=X[W+v*3+1];y[j+2]=X[W+v*3+0]}}else if(d.mx==16)for(var V=0;
V<p;V++){var W=G+(p-1-V)*Z;for(var v=0;v<Q;v++){var j=(V*Q+v)*4,e=X[W+v*2+1]<<8|X[W+v*2];y[j]=(e>>>11)*(255/31);
y[j+1]=(e>>>5&63)*(255/63);y[j+2]=(e&31)*(255/31)}}else if(d.mx==8)for(var V=0;V<p;V++){var W=G+(p-1-V)*Z;
for(var v=0;v<Q;v++){var j=(V*Q+v)*4,T=X[W+v];y[j]=m[q+4*T+2];y[j+1]=m[q+4*T+1];y[j+2]=m[q+4*T+0]}}else if(d.mx==4)for(var V=0;
V<p;V++){var W=G+(p-1-V)*Z;for(var v=0;v<Q;v++){var j=(V*Q+v)*4,T=X[W+(v>>1)];T=T>>4-4*(v&1);T=T&15;
y[j]=m[q+4*T+2];y[j+1]=m[q+4*T+1];y[j+2]=m[q+4*T+0]}}else if(d.mx==1)for(var V=0;V<p;V++){var W=G+(p-1-V)*Z;
for(var v=0;v<Q;v++){var j=(V*Q+v)*4,O=X[W+(v>>3)];O=O>>7-(v&7);O=O&1;y[j]=m[q+4*O+2];y[j+1]=m[q+4*O+1];
y[j+2]=m[q+4*O+0]}}else throw"Unknown bit depth "+d.mx;if(d.fB<0){var L=new Uint32Array(y.buffer),S=p>>>1;
for(var V=0;V<S;V++){var $=V*Q,H=(p-V-1)*Q;for(var v=0;v<Q;v++){var f=L[$+v];L[$+v]=L[H+v];L[H+v]=f}}}return{m_:new aS(0,0,Q,p),data:y.buffer}}function a(X,N){return X>>>4-((N&1)<<2)&15}function x(X,w,G){var R=G.MI,d=Math.abs(G.fB),q=new Uint8Array(R*d),m=0,M=0,N=0;
while(M<d){var Z=X[w++],Q=X[w++],p=M*R+m;if(Z>0){if(G.mx==4)for(N=0;N<Z;N++){q[p+N]=a(Q,N)}else for(N=0;
N<Z;N++){q[p+N]=Q}m+=Z}else if(Z==0&&Q==0){M++;m=0}else if(Z==0&&Q==1){break}else if(Z==0&&Q==2){m+=X[w++];
M+=X[w++]}else{var y=Q;if(G.mx==4){for(N=0;N<Q;N++){q[p+N]=a(X[w+(N>>>1)],N)}y=Math.ceil(Q/2)}else{for(N=0;
N<Q;N++){q[p+N]=X[w+N]}}if((y&1)!=0)y++;w+=y;m+=Q}}return q}function K(X,w){var G=u.OC,R=u.KI,d=u.Kk,q={};
q.MI=G(X,w);w+=4;q.fB=G(X,w);w+=4;q.WS=d(X,w);w+=2;q.mx=d(X,w);w+=2;q.hs=R(X,w);w+=4;q.size=R(X,w);w+=4;
var m=G(X,w);w+=4;var M=G(X,w);w+=4;q.aiX=R(X,w);w+=4;w+=4;return q}function h(X,w,G,R){u.xa(X,w,G.MI);
w+=4;u.xa(X,w,G.fB);w+=4;u.Hr(X,w,G.WS);w+=2;u.Hr(X,w,G.mx);w+=2;u.xa(X,w,G.hs);w+=4;u.xa(X,w,G.size);
w+=4;u.xa(X,w,2834);w+=4;u.xa(X,w,2834);w+=4;u.xa(X,w,G.aiX);w+=4;w+=4}return{gd:g,oe:o,ap6:C}}();bl.Hj={};
bl.Hj.oe=function(o,g,C,a){if(a==null)a=[100,!1,0,0,0,0];var x=[],K=[],h=g*C*4,Z=null;for(var X=0;X<o.length;
X++){var w=new Uint8Array(o[X][0].slice(0));for(var N=0;N<h;N+=4){var G=w[N+3]=w[N+3]>127?255:0;if(G==0)w[N]=w[N+1]=w[N+2]=0}x.push(w.buffer);
K.push(o[X][1])}var R=Math.round(2+254*a[0]/100),d=UPNG.encode.compress(x,g,C,R,[!0,!1,!1,8,!1,a[1]]),q=d.plte,m=new Uint8Array(4),M=new Uint32Array(m.buffer);
for(var N=0;N<q.length;N++){M[0]=q[N];var Q=m[0];m[0]=m[2];m[2]=Q;q[N]=M[0];if(M[0]==0)Z=N}while(q.length<256)q.push(0);
var p=new Uint8Array(2e3+g*C*o.length),y=a[3],V={palette:q};if(y!=1)V.loop=y==0?0:y-1;var W=new GifWriter(p,g,C,V);
for(var N=0;N<o.length;N++){var v=d.frames[N],j=v.rect,e=v.blend,T=v.dispose,O=Math.round(K[N]/10);if(O<2)O=2;
W.addFrame(j.x,j.y,j.width,j.height,v.img,{transparent:Z,disposal:T+1,delay:O})}return p.slice(0,W.end()).buffer};
bl.Hj.gd=function(o){var g=Date.now(),C=[],a=UGIF.decode(o),x=UGIF.toRGBA8(a),K=new aS(0,0,a.width,a.height);
for(var N=0;N<x.length;N++){var h=a.frames[N];C.push({m_:K.clone(),A$:"_a_frm"+N+","+h.delay*10,data:x[N]})}return C};
bl.FI={};bl.FI.oe=function(o,g,C,a){console.log(o);if(g>256||C>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var x=Math.min(g,256),K=Math.min(C,256),h=new aS(0,0,x,K),X=l.Z(h.$()*4),w=new aS(0,0,g,C),G=new Uint8Array(o[0][0]);
l.HT(G,w,X,h);o[0][0]=X.buffer;g=x;C=K}var R=new jm,d=0,q=a&&a[0]==!0;u.fL(R,d,0);d+=2;u.fL(R,d,q?2:1);
d+=2;u.fL(R,d,1);d+=2;var m=new Uint8Array(bl.qC("png").oe(o,g,C));R.TB(d,16);R.data[d]=g==256?0:g;d++;
R.data[d]=C==256?0:C;d++;d+=2;u.fL(R,d,q?Math.round(g/2):1);d+=2;u.fL(R,d,q?Math.round(C/2):32);d+=2;
u.zS(R,d,m.length);d+=4;u.zS(R,d,6+16);d+=4;R.TB(d,m.length);for(var N=0;N<m.length;N++)R.data[d+N]=m[N];
d+=m.length;var M=new Uint8Array(d);for(var N=0;N<d;N++)M[N]=R.data[N];return M.buffer};bl.FI.gd=function(o){o=new Uint8Array(o);
var g=4,C=u.Kk(o,g);g+=2;var a=[];for(var N=0;N<C;N++){var x=bl.FI.arR(o,g+N*16),K=o.buffer.slice(x.offset,x.offset+x.size),h=bl.tt(K);
h=h?h:"bmp";if(h=="png"){var X=bl.qC(h),w=X.gd(K);x.Qj=w[0]}else{var G=bl.qC("BMP").ap6(K,0),K=l.Z(x.MI*x.fB*4);
l.HT(new Uint8Array(G.data),new aS(0,0,G.m_.m,G.m_.n),K,new aS(0,x.fB,x.MI,x.fB));G.data=K.buffer;G.m_.n=x.fB;
x.Qj=G}a.push(x)}a.sort(function(R,d){if(R.MI!=d.MI)return R.MI-d.MI;return R.a6B-d.a6B});return[a.pop().Qj]};
bl.FI.arR=function(o,g){var C={};C.MI=o[g];g++;if(C.MI==0)C.MI=256;C.fB=o[g];g++;if(C.fB==0)C.fB=256;
C.aiz=o[g];g++;g++;C.awQ=u.Kk(o,g);g+=2;C.a6B=u.Kk(o,g);g+=2;C.size=u.KI(o,g);g+=4;C.offset=u.KI(o,g);
g+=4;return C};bl.Ad={};bl.Ad.gd=function(o){var g=Date.now(),a,d=!0;if(l.raw.ld(o.byteLength))return[l.raw.ao_(o)];
var C=UTIF.decode(o);if(C[0].t33421)a=C[0];else if(C[0].subIFD&&C[0].t271&&C[0].t271[0]=="Hasselblad"){a=C[0].subIFD[0];
a.t33421=[2,2]}else if(C[0].subIFD&&C[0].subIFD[0].t33421){a=C[0].subIFD[0];if(a.t50706==null){if(a.t258[0]==8)a.t258[0]=12}}else if(C[0].subIFD&&C[0].subIFD[0]&&C[0].subIFD[0].t262&&C[0].subIFD[0].t262[0]==34892)a=C[0].subIFD[0];
else if(C[0].subIFD&&C[0].subIFD[1]&&C[0].subIFD[1].t33421)a=C[0].subIFD[1];else if(C[0].subIFD&&C[0].subIFD[2]&&C[0].subIFD[2].t33421)a=C[0].subIFD[2];
else if(C[3]&&C[3].t50648){var x=C[0].exifIFD,K=x.makerNote;a=C[3];var h=K.t224[1],X=K.t224[2];a.t256=[h];
a.t257=[X];a.t258=[16];a.t259=[7];a.t262=[32803];a.t277=[1];a.t33421=[2,2];var w=a.t50656[0],G=l.raw.ZH[w];
if(G==null)throw"e";a.t33422=G}if(a){UTIF.decodeImage(o,a,C);for(var R in C[0])if((R[0]=="t"||R[0]=="e"||R[0]=="d")&&a[R]==null)a[R]=C[0][R];
a.TT=C[0].t274?C[0].t274[0]:1;return[a]}var q=1/256;for(var N=0;N<C.length;N++)if(C[N].t258&&C[N].t258[0]==16&&C[N].t277&&C[N].t277[0]==1){}else d=!1;
if(d){var m=0,M=0,Z=0;for(var N=0;N<C.length;N++){UTIF.decodeImage(o,C[N],C);var Q=C[N].data;for(var p=0;
p<Q.length;p+=2){var y=Q[p+1]<<8|Q[p];if(y>m)m=y;M+=y;Z++}}q=1/256*65535/(.5*m+.5*(2*M/Z))}var V=[];
for(var N=0;N<C.length;N++){var W=C[N],v=72;UTIF.decodeImage(o,W,C);var j=W.t282,e=W.t296;if(j!=null&&e!=null){v=j[0][0]/j[0][1];
if(e[0]==3)v=Math.round(v/2.54)}if(W.width==null)continue;var T=UTIF.toRGBA8(W,q).buffer,O=hZ.u$(W);
console.log(W);V.push({m_:new aS(0,0,W.width,W.height),data:T,zC:v,Eb:O,qU:W.t34675?W.t34675.slice(0):null})}return V};
bl.Ad.oe=function(o,g,C,a){if(a==null)a=[!1];var x={},K=o[0];if(K[3]!=null&&a[0])x=hZ.oY(K[3]);if(K[2]!=null){x.t282=x.t283=[[Math.round(K[2]),1]];
x.t296=[2]}return UTIF.encodeImage(K[0],g,C,x)};bl.w9={};bl.w9.dA=!0;bl.w9.gd=function(o,g){cL.kR(o,g)};
bl.w9.asa=function(o,g,C,a){if(a==null)a=[!1,!1,!1,!1];if(!a[0])o.cf();var x=new jm,K=cL.i3(o,x,a);return[x.data.buffer,K]};
bl.w9.oe=function(o,g,C,a){var x=bl.w9.asa(o,g,C,a),K=x[0],h=x[1];return K.byteLength==h?K:K.slice(0,h)};
bl.v3={};bl.v3.dA=!0;bl.v3.gd=function(o,g){var C=pako.inflate(new Uint8Array(o)),a=u.eX(C,0),x=u.eX(C,2),K=4;
g.m=u.s(C,K);K+=4;g.n=u.s(C,K);K+=4;g.buffer=l.Z(g.m*g.n*4);var h=u.eX(C,K);K+=2;K+=4;for(var X=0;X<h;
X++){var w=g.HL(),M=0,U=1,r=2,E=3,k=0;g.g.push(w);var G=u.s(C,K);K+=4;var R=K,d=u.eX(C,R);R+=2;var q=u.SP(C,R,d);
R+=d;w.XH(q);var m=C[R];R++;if(m!=0&&m!=1)throw m;w.rect.x=u.sU(C,R);R+=4;w.rect.y=u.sU(C,R);R+=4;w.rect.m=u.s(C,R);
R+=4;w.rect.n=u.s(C,R);R+=4;if(a>3){M=u.sU(C,R);R+=4}w.opacity=Math.round(255*C[R]/100);R++;var Z=C[R];
R++;w.Su(Z!=0);w.WN="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[C[R]];
R++;var Q=C[R];R++;if(Q)w.add.lspf=1<<31;if(a>3){var p=u.eX(C,R);R+=2;if(p!=0){var y=JSON.parse(u.SP(C,R,p));
R+=p;var V=y.text,W=y.textSettings,v=W.font,j=W.size,e=W.padding,T=parseInt(W.color.slice(1),16);w.add.lnsr="rend";
w.add.TySh=bv.hT(0,0);w.add.TySh.Vf=new aS(0,0,100,100);var O=w.add.TySh.D=new kp,L=w.rect.m/2,S=w.rect.n/2;
O.translate(-L,-S);O.rotate(-M*Math.PI/180);O.translate(L,S);O.translate(w.rect.x+e,w.rect.y+e);var $=w.add.TySh.cp;
bv.lr($,1);bv.yy($,[0,0,w.rect.m-e*2,w.rect.n]);bv.l6($,0,V);var H=bv.SX($,0,1);H.Fn.FontSize=j;H.Fn.FillColor={Type:1,Values:[1,(T>>>16&255)/255,(T>>>8&255)/255,(T>>>0&255)/255]};
if(W.bold)v+="-Bold";bv.s2(H,v);H.Yt.Justification=["left","right","center"].indexOf(W.align);bv.dG($,0,V.length,H)}}var f=u.s(C,R);
R+=4;if(f!=w.rect.$()*4){for(var N=w.rect.m;N>w.rect.m/2;N--){var F=f/(N*4);if(F==Math.round(F)){w.rect.m=N;
w.rect.n=F;break}}}w.buffer=l.Z(w.rect.$()*4);if(a>3){U=0;r=1;E=2;k=3}for(var N=0;N<f;N+=4){w.buffer[N]=C[R+N+U];
w.buffer[N+1]=C[R+N+r];w.buffer[N+2]=C[R+N+E];w.buffer[N+3]=C[R+N+k]}R+=f;var P=u.s(C,R);R+=4;if(P==0&&a>3){K+=G;
continue}var z=C[R];R++;var s=u.eX(C,R);R+=2;if(P!=0){w.d=new A.QX;w.d.rect=w.rect.clone();w.d.channel=l.Z(w.rect.$());
for(var N=0;N<P;N+=4)w.d.channel[N>>>2]=C[R+N+1];R+=P}if(z!=0){var Y=JSON.parse(hf.default);w.add.lmfx=Y;
for(var N=0;N<hf.order.length;N++)Y[hf.l8[N]]={t:"VlLs",v:[]};var t={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var N=0;N<z;N++){var n=u.eX(C,R),J=R+n+4,I=C.slice(R,J),fp=C[R+2];R+=3;var cH=t[fp+""],b=JSON.parse(hf.QI[cH]);
Y[hf.l8[cH]].v.push({t:"Objc",v:b});if(cH!=0){b.Md.v.BlnM=cP.Cw("norm");b.Opct.v.val=C[R];R++;if(cH==9||cH==2){b.Dstn.v.val=C[R+1];
R+=2}else R+=2;b.blur.v.val=Math.round(C[R]*1.2);R++;if(cH==9||cH==2){b.uglg.v=!1;b.lagl.v.val=180-u.eX(C,R);
R+=2}b.Clr.v=l.T.CT({z:C[R+1],B:C[R+2],K:C[R+3]})}else{b.hglM.v.BlnM=b.sdwM.v.BlnM=cP.Cw("norm");R+=2;
var jL=C[R++],aq=C[R++];b.blur.v.val=Math.round(Math.sqrt(aq*jL)*1.3);b.srgR.v.val=Math.round(100*jL/aq);
b.uglg.v=!1;b.lagl.v.val=180-u.eX(C,R);R+=2;b.hglO.v.val=C[R++];b.hglC.v=l.T.CT({z:C[R+1],B:C[R+2],K:C[R+3]});
R+=4;b.sdwO.v.val=C[R++];b.sdwC.v=l.T.CT({z:C[R+1],B:C[R+2],K:C[R+3]});R+=4}R=J}}if(R-K<G){var cJ=u.s(C,R),ea=0;
R+=4;R++;var d=u.eX(C,R);R+=2;var V=u.SP(C,R,d);R+=d;V=V.replace(/\r/g,"\n");var d=u.eX(C,R);R+=2;var v=u.SP(C,R,d);
R+=d;var j=u.eX(C,R);R+=2;var aB=w.rect.x,au=w.rect.m;if(cJ&4)ea=1;if(cJ&2)ea=2;var ax=Math.round(j*.4);
if(ea==0||ea==2)au+=ax;if(ea==1||ea==2){au+=ax;aB-=ax}w.add.lnsr="rend";w.add.TySh=bv.hT(0,0);w.add.TySh.Vf=new aS(0,0,100,100);
w.add.TySh.D=new kp(1,0,0,1,aB,w.rect.y+j*.25);var $=w.add.TySh.cp;bv.lr($,1);bv.yy($,[0,0,au,w.rect.n]);
bv.l6($,0,V);var H=bv.SX($,0,1);H.Fn.FontSize=j;H.Fn.FillColor={Type:1,Values:[1,C[R+1]/255,C[R+2]/255,C[R+3]/255]};
R+=4;if(C[R+5])v+="-Bold";if(C[R+6])v+="-Italic";bv.s2(H,v);H.Yt.Justification=ea;R+=8;bv.dG($,0,V.length,H)}K+=G}};
bl.mr={};bl.mr.dA=!0;bl.mr.gd=function(o,g){e3.kR(o,g)};bl.aa={};bl.aa.dA=!0;bl.aa.gd=function(o,g){jg.kR(o,g)};
bl.qB={};bl.qB.dA=!0;bl.qB.gd=function(o,g){b9.kR(o,g)};bl.cw={};bl.cw.dA=!0;bl.cw.gd=function(o,g){hu.kR(o,g)};
bl.HQ={};bl.HQ.dA=!0;bl.HQ.gd=function(o,g){ji.kR(o,g)};bl.gZ={};bl.gZ.dA=!0;bl.gZ.gd=function(o,g){ca.kR(o,g)};
bl.hA={};bl.hA.dA=!0;bl.hA.oe=function(o,g,C,a,x){if(a==null)a=[!0,!1,!1,!1,!0];var K=gJ._O(o,{oW:a[0],hidden:a[1],aot:a[2],ajL:a[3],ei:a[4],ajb:g,ank:C},x.zM);
return K};bl.hA.gd=function(o,g,C){gJ.kR(o,g,C)};bl.ES={};bl.ES.dA=!0;bl.ES.gd=function(o,g){var C=150,a=new kp(1,0,0,-1,0,0);
a.scale(C/72,C/72);g.zC=C;var x=new hv(g,a,!0);FromPS.Parse(o,x)};bl.Ig={};bl.Ig.dA=!0;bl.Ig.oe=function(o,g,C,a,x){if(a==null)a=["",100,!1,!1,!1,0];
a[6]=["jpg"];var K=new ToPDF;cl._O(o,a,K,x.zM,g,C);return K.buffer};bl.Ig.gd=function(o,g,C){var a=2;
while(!0){var x=a*72,K=new kp(1,0,0,-1,0,0);K.scale(x/72,x/72);g.zC=x;var h=new hv(g,K,!0);FromPDF.Parse(o,h);
var X=Math.max(g.m,g.n);if(C&&X<Math.max(C[0],C[1])){g.g=[];var w=a;while(X*(a/w)<Math.max(C[0],C[1]))a++}else break}};
bl.Kg={};bl.Kg.dA=!0;bl.Kg.gd=function(o,g){var C=72,a=new kp(1,0,0,1,0,0);a.scale(C/72,C/72);g.zC=C;
var x=new hv(g,a,!1);FromWMF.Parse(o,x)};bl.DU={};bl.DU.Tc=!0;bl.DU.dA=!0;bl.DU.oe=function(o,g,C,a,x){if(a==null)a=["",100,!1,!1,!1,0];
a[6]=[];var K=new ToEMF;cl._O(o,a,K,x.zM);return K.buffer};bl.DU.gd=function(o,g){var C=72,a=new kp(1,0,0,1,0,0);
a.scale(C/72,C/72);g.zC=C;var x=new hv(g,a,!1);FromEMF.Parse(o,x)};bl.NI={};bl.NI.dA=!0;bl.NI.gd=function(o,g){return bw.kR(o,g)};
bl.uK={};bl.uK.gd=function(o,g){var C=er.kR(o),a=new Uint8Array(o),x=0,K,h,X,w,G,R,d,q,m=0,M=0,Z=0,Q=0,p=0;
for(var y=0;y<C.sub.length;y++){var V=C.sub[y],x=V.v;if(V.f8=="BMHD"){var W=[];for(var N=0;N<4;N++)W[N]=u.eX(a,x+2*N);
x+=8;w=W[2];G=W[3];h=W[0];X=W[1];K=l.Z(h*X*4);R=a[x++];d=a[x++];q=a[x++]}else if(V.f8=="CMAP")m=x;else if(V.f8=="CAMG"){var v=u.s(a,x);
M=v&32768,Z=v&4,Q=v&2048;p=v&128}else if(V.f8=="BODY"){var j=h+15>>>4<<1,e=R+d,T=l.Z(j*X*e),$,H,f;iT.j8(a,x,V.size,T,0,T.length);
var O=R-2,L=(1<<O)-1,S=Math.round(255/L);for(var G=0;G<X;G++)for(var w=0;w<h;w++){var F=0;for(var U=0;
U<e;U++){var r=(G*e+U)*j*8+w,E=T[r>>>3]>>>7-(r&7)&1;F|=E<<U}var k=F>>>R,F=F&(1<<R)-1,N=G*h+w,P=N<<2;
if(m!=0){if(Q!=0&&F>>>O!=0){var z=F>>>O,s=(F&L)*S;if(z==1)f=s;else if(z==2)$=s;else if(z==3)H=s}else{var s=m+F*3;
$=a[s+0];H=a[s+1];f=a[s+2]}}else{$=F>>>0&255;H=F>>>8&255;f=F>>>16&255}K[P+0]=$;K[P+1]=H;K[P+2]=f;K[P+3]=255}}}return[{m_:new aS(0,0,h,X),data:K.buffer}]};
bl.d$={};bl.d$.dA=!1;bl.d$.oe=function(o,g,C,a){var x=o[0][4],K=new Uint8Array(o[0][0]),h=2,X=x?!0:!1,w=X?4:3,G=new Uint8Array(g*C*w);
for(var R=0;R<C;R++)for(var d=0;d<g;d++){var q=R*g+d<<2,m=((C-R-1)*g+d)*w;G[m]=K[q+2];G[m+1]=K[q+1];
G[m+2]=K[q+0];if(X)G[m+3]=x[0][R*g+d]}if(!0){var M=G.length,Z=0,Q=new Uint8Array(M*2),p=0,y=0,V=g*w;
while(y<M){var W=y,v=0,j=V*(Math.floor(y/V)+1);while(W<j&&v<128){var e=!0;for(var N=0;N<w;N++)e=e&G[y+N]==G[W+N];
if(!e)break;W+=w;v++}if(v==1){var T=1;while(T<128&&y+(T+1)*w<j){var e=!0,O=y+T*w;for(var N=0;N<w;N++)e=e&G[O+N]==G[O+w+N];
if(e)break;T++}Q[p++]=T-1;for(var L=0;L<T;L++)for(var N=0;N<w;N++)Q[p++]=G[y++]}else{Q[p++]=127+v;for(var N=0;
N<w;N++)Q[p+N]=G[y+N];p+=w;y+=w*v;Z+=v}}G=Q.slice(0,p);h+=8}var S=new Uint8Array(18+G.length+26);S[2]=h;
u.Hr(S,12,g);u.Hr(S,14,C);S[16]=w*8;S[17]=w==4?8:0;S.set(G,18);u.P9(S,18+G.length+8,"TRUEVISION-XFILE.");
return S.buffer};bl.d$.gd=function(o){var g=new Uint8Array(o),C=0,a=g[0],x=g[1],K=g[2],h=g[4]*256+g[3],X=g[6]*256+g[5],w=g[7],G=g[9]*256+g[8],R=g[11]*256+g[10],d=g[13]*256+g[12],q=g[15]*256+g[14],m=g[16],M=g[17],Z=M>>>4,Q=u.M7(g,18,a),p=l.Z(d*q*4),C=18+a+(X*w>>>3),y=new Uint8Array(g.buffer,C);
if(K>3){var V=0,W=g,v=new Uint8Array(d*q*m>>>3),j=C,e=0,T=g.length,O=m>>>3;while(e<v.length){var ee=W[j];
j++;if(ee<128)for(var N=0;N<ee+1;N++){for(var L=0;L<O;L++){v[e]=W[j];e++;j++}}else{for(var N=0;N<ee-127;
N++){for(var L=0;L<O;L++){v[e]=W[j+L];e++}}j+=O}}K-=8;y=v;C=j}else C+=d*q*m>>>3;var S=new Uint8Array(4),$=bl.d$.a23;
for(var H=0;H<q;H++)for(var f=0;f<d;f++){var F=(Z&2)==0?(q-H-1)*d+f:H*d+f,U=H*d+f,r,E,k,P=255,z=F*m>>>3;
if(K==1){var s=0;if(m==8)s=y[z];else throw"e";$(g,18+a+h+(s*w>>>3),w,S);r=S[0];E=S[1];k=S[2];P=S[3]}else if(K==2){$(y,z,m,S);
r=S[0];E=S[1];k=S[2];P=S[3]}else if(K==3){if(m==8)r=E=k=y[z];else throw"e"}var Y=U*4;p[Y]=r;p[Y+1]=E;
p[Y+2]=k;p[Y+3]=P}var S={m_:new aS(0,0,d,q),data:p.buffer,A$:Q};if(l.er(p)){var t=l.Z(d*q);l.eP(p,t,3);
l.th(p,4278190080,16777215);S.JH=[t]}return[S]};bl.d$.a23=function(o,g,C,a){var x,K,h,X=255;if(C==24||C==32){h=o[g];
K=o[g+1];x=o[g+2];if(C==32)X=o[g+3]}else if(C==16){var w=o[g+1]<<8|o[g+0];x=w>>>10&31;K=w>>>5&31;h=w>>>0&31;
x=Math.round(x*(255/31));K=Math.round(K*(255/31));h=Math.round(h*(255/31))}else throw"e";a[0]=x;a[1]=K;
a[2]=h;a[3]=X};bl.a7v=function(){var o,g=[],C=!1;function a(h,X,w,G){o=w;g.push(h,G);x()}function x(){if(C||g.length==0)return;
C=!0;bl.a2U(g.shift(),"image/avif",K)}function K(h){o(null,[h],g.shift());C=!1;x()}return{dA:!1,p0:!0,gd:a}}();
bl.aq6=function(){var o,g=[],C=!1,a,x,K,h,X,w,G=10,R=0;function d(Q,p,y,V,W){o=y;g.push(Q,V);var v=new jO(D.E.X,!0);
v.data={C:D.t.gC,$j:"setFPS",zT:G,op:q};W.c(v)}function q(Q){G=Math.max(1,Math.min(60,Q));m()}function m(){if(C||g.length==0)return;
C=!0;a=document.createElement("canvas");x=a.getContext("2d");K=document.createElement("video");var Q="data:"+"video/mp4"+";base64,"+bl.H8(g.shift());
K.src=Q;K.muted=!0;K.currentTime=0;K.addEventListener("canplay",M,!1);K.addEventListener("timeupdate",Z,!1)}function M(Q){K.removeEventListener("canplay",M);
h=a.width=K.videoWidth;X=a.height=K.videoHeight;w=[];K.play()}function Z(Q){clearTimeout(R);x.drawImage(K,0,0);
w.push({A$:"_a_"+w.length+","+Math.round(1e3/G),m_:new aS(0,0,h,X),data:x.getImageData(0,0,h,X).data.buffer});
var p=K.currentTime+1/G;if(p<K.duration&&Q){K.currentTime=p;R=setTimeout(Z,1e3)}else{o(null,w,g.shift());
K.removeEventListener("timeupdate",Z);C=!1;m();w=null}}return{dA:!1,p0:!0,gd:d}}();bl.kA={};bl.kA.gd=function(o){var g=new Uint8Array(o),C=0,a=112,x=42,K=u.KI,R;
C+=8;var h=g[C];C++;if(h!=x)throw"e";var X=K(g,C);C+=4;var w=u.UX(g,C,X);C+=X*2;var G=[];while(C<g.length){R=K(g,C);
C+=4;if(R!=a)throw R;C+=4;R=g[C];C++;if(R!=x)throw R;var d=K(g,C);C+=4;var q=g[C];C++;if(q!=x){C-=5;
d=K(g,C);C+=8;R=g[C];C++;if(R!=x)throw R}var m=K(g,C)*2;C+=4;if(d>0)G.push(C+m);C+=m+d}var M=new DOMParser,Z=M.parseFromString(w,"image/svg+xml").firstChild.firstChild,Q=[];
bl.kA.bZ(Z,g,G,Q);return Q};bl.kA.bZ=function(o,g,C,a){var x=o.firstChild.firstChild;if(x.tagName=="Image"){var K=x.getElementsByTagName("ImageDescription")[0],h=K.children[0].children,X=K.children[1].children,w=C.shift(),G=[];
for(var N=0;N<X.length;N++)G.push(parseInt(X[N].getAttribute("NumberOfElements")));while(G.length>3)G[2]*=G.pop();
var R=h.length,d=G[0],q=G[1],m=G[2],M=parseInt(X[0].getAttribute("BytesInc"));for(var Z=0;Z<m;Z++){var Q=l.Z(d*q*4);
l.th(Q,4278190080);for(var p=0;p<R;p++){var y=l.Z(d*q);if(M==1)for(var V=0;V<y.length;V++)y[V]=g[w+V];
else if(M==2)for(var V=0;V<y.length;V++)y[V]=Math.min(255,(g[w+V*2+1]<<8|g[w+V*2])>>>2);else throw M;
if(p!=3)l.Oa(y,Q,p);if(R==1){l.Oa(y,Q,1);l.Oa(y,Q,2)}w+=d*q*M}a.push({m_:new aS(0,0,d,q),data:Q.buffer})}}else{var W=o.children,v=0;
while(v<W.length&&W[v].tagName!="Children")v++;if(v==W.length)throw"e";W=W[v].children;for(var j=0;j<W.length;
j++)bl.kA.bZ(W[j],g,C,a)}};bl.apu=function(){function o(h,X,w,G,R){var d=new Int8Array(h.buffer),q=new Int8Array(G.buffer),m=X+w;
while(X<m){var ee=d[X];X++;if(ee>=0&&ee<128)for(var N=0;N<ee+1;N++){q[R]=d[X];R++;X++}if(ee>=-127&&ee<0){for(var N=0;
N<-ee+1;N++){q[R]=d[X];R++}X++}}return R}function g(h,X,w,G,R,d){var q=X*w*G>>>3,m=l.Z(q*R),M=a(h,0,0)[0];
for(var Z=0;Z<R;Z++){var Q=M[Z+1];if(d){var p=bl.qC("jpg").gd(Q.buffer),y=l.Z(q);l.cr(new Uint8Array(p[0].data),y);
m.set(y,q*Z)}else if(Q[0]==255&&Q[1]==216&&Q[2]==255){var V=UTIF.LosslessJpegDecode(Q);m.set(new Uint8Array(V.buffer),q*Z)}else o(Q,64,Q.length,m,q*Z)}return m}function C(h){var X=new Uint8Array(h),w=0,G=u.M7(X,0,128);
w+=128;var R=u.M7(X,w,4);w+=4;var d=x(X,w,0)[0],q=d.g28;if(q==null){alert("No image.");return[]}var m=q.cols,M=q.rows,Z=m*M,Q=q.photoInterpret,p=q.bitsAlloc,y=q.bitsStored,V=q.lossyCompr;
if(V==null)V=d.g8.lossyCompr;var W=d.g7fe0.pixelData,v=q.numOfFrames;v=v?parseInt(v):1;var j=new Uint8Array(W.buffer),e=Z*p>>>3;
if(j.length!=e*v){W=g(W,m,M,p,v,V)}else{}if(p==16)W=new Uint16Array(W.buffer);console.log(q);console.log(d);
var T=[];for(var O=0;O<v;O++){var L=O*e,h=l.Z(m*M*4);h.fill(255);if(Q=="MONOCHROME2"){var S=0,$=255,H=q.largestValue,f=q.smallestValue;
if(H!=null){$=H;S=f}else if(y!=8){$=0;S=1e9;for(var N=0;N<Z;N++){var F=W[L+N];if(F>1<<y-8){if(F>$)$=F;
if(F<S)S=F}}}var U=255/($-S);for(var N=0;N<Z;N++){var F=Math.max(0,Math.min(255,(W[L+N]-S)*U)),r=N*4;
h[r]=h[r+1]=h[r+2]=F}}else if(Q=="PALETTE COLOR"){var E=q.pltRed,k=q.pltGreen,P=q.pltBlue;for(var N=0;
N<Z;N++){var z=W[L+N],r=N*4;h[r]=E[z]>>>8;h[r+1]=k[z]>>>8;h[r+2]=P[z]>>>8}}else throw Q;T.push({m_:new aS(0,0,m,M),data:h.buffer})}return T}function a(h,X,w){var G=u.Kk,R=u.Yp,d=u.KI,q=[],m=X;
while(X<h.length){var M=G(h,X);X+=2;var Z=G(h,X);X+=2;var Q=d(h,X);X+=4;if(M==65534&&Z==57344){if(Q==4294967295){var p=x(h,X,w+1);
q.push(p[0]);X=p[1]}else{q.push(h.slice(X,X+Q));X+=Q}}else if(M==65534&&Z==57357){}else if(M==65534&&Z==57565)break;
else throw"e"}return[q,X]}function x(h,X,w){var G=u.Kk,R=u.Yp,d=u.KI,q={},m="\t".repeat(w);while(X<h.length){var M=G(h,X),y="",V=0,v=null;
X+=2;var Z=G(h,X);X+=2;var Q=M.toString(16),p=Z.toString(16);if(M==65532)break;if(M==65534&&Z==57357){X-=4;
break}if(M==65534&&Z==57565)throw"e";if(Z==0){X+=8;continue}if(65<=h[X+1]){y=u.M7(h,X,2);X+=2;if(y=="OB"||y=="SQ"||y=="OW"){V=d(h,X+2);
X+=6}else{V=G(h,X);X+=2}}else{y=K[Q][p].split(",")[1];V=d(h,X);X+=4}var W=K[Q][p];if(W)W=W.split(",")[0];
if(W==null){W="t"+p}if(y=="SQ"){var j=a(h,X,w);v=j[0];X=j[1];V=0}else if(y=="US")v=G(h,X);else if(y=="SS")v=R(h,X);
else if(y=="UL")v=d(h,X);else if(y=="FL")v=u.V1(h,X);else if(y=="AT")v=[G(h,X),G(h,X+2)];else if(y=="OB")v=h.slice(X,X+V);
else if(y=="OW")v=new Uint16Array(h.slice(X,X+V).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(y)!=-1){var e=X+V;
while(h[e-1]==0)e--;v=u.M7(h,X,e-X).trim()}else{console.log(m,JSON.stringify(u.M7(h,X,Math.min(V,32))));
throw y}if(q["g"+Q]==null)q["g"+Q]={};q["g"+Q][W]=v;X+=V}return[q,X]}var K={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{gd:C}}();bl.$C={};bl.$C.gd=function(o){var g=new Uint8Array(o),C=0,a={},R=1e9;for(var N=0;N<306;
N++){var x=u.M7(g,C,8).trim(),K=u.M7(g,C+9,71).split("/")[0].trim();a[x]=K;C+=80;if(x=="END"){C=Math.ceil(C/2880)*2880;
break}}var h=parseInt(a.NAXIS1),X=parseInt(a.NAXIS2),w=h*X,G=parseInt(a.BITPIX),d=-1e9,q=new Float32Array(w),m=new Float32Array(o,C,o.byteLength-C>>>2);
for(var N=0;N<w;N++){var M=N<<2,Z=N<<1;if(G==-32){var Q=g[C+M+0];g[C+M+0]=g[C+M+3];g[C+M+3]=Q;var Q=g[C+M+1];
g[C+M+1]=g[C+M+2];g[C+M+2]=Q;q[N]=m[N]}else if(G==16){q[N]=u.Kk(g,C+Z)}else throw G;var p=q[N];if(p<R)R=p;
if(p>d)d=p}var y=l.Z(w*4),V=1/d;for(var W=0;W<X;W++)for(var v=0;v<h;v++){var N=W*h+v,j=(X-W-1)*h+v,M=j<<2,p=q[N]*V;
y[M]=y[M+1]=y[M+2]=255*p;y[M+3]=255}return[{m_:new aS(0,0,h,X),data:y,A$:a.OBJECT}]};bl.Fi={};bl.Fi.gd=function(o){var g=new Uint8Array(o),C=16,a=u.M7(g,C,4),K=32,p=0,y=0,V=!1,E;
C+=4;var x=u.M7(g,C,8);C+=8;while(g[C+K-1]==0)K--;var h=u.M7(g,C,K);C+=32;var X=u.M7(g,C,4);C+=4;C+=20;
var w=u.s(g,C);C+=4;var G=u.s(g,C);C+=4;var R=u.s(g,C);C+=4;var d=u.s(g,C);C+=4;var q=u.s(g,C);C+=4;
var m=u.s(g,C);C+=4;var M="FujiFilm "+h,Z=[0,1,1,2];if(M=="FujiFilm X10"){M="FujiFilm FinePix X10";Z=[2,1,1,0]}var Q={t271:["FujiFilm"],t272:[M],t277:[1],t33421:[2,2],t33422:Z,TT:1};
C=R;var W=[],v=u.eX,j=u.s(g,C);C+=4;for(var N=0;N<j;N++){var e=v(g,C);C+=2;var T=v(g,C);C+=2;if(e==256){y=v(g,C);
p=v(g,C+2)}else if(e==272){W=[v(g,C),v(g,C+2)]}else if(e==273){W.push(v(g,C),v(g,C+2))}else if(e==304){V=!(g[C]>>>7)}else if(e==305){var O=Math.round(Math.sqrt(T)),L=[];
for(var S=0;S<T;S++)L.push(g[C+S]);L.reverse();Q.t33421=[O,O];Q.t33422=L}else if(e==12272){var $=v(g,C),H=v(g,C+2),f=v(g,C+6);
Q.t50728=[$/H,1,$/f]}C+=T}var F=p<y,U=g.slice(q,q+m),r=Math.round(m*8/(p*y));if(U[0]==73&&U[1]==73&&U[2]==42){E=UTIF.decode(U.buffer)[0].fujiIFD;
r=E.t61443[0];var k=E.t61454,P=E.t61450;if(P)Q.t50714=P;if(k)Q.t50728=[k[0]/k[1],1,k[0]/k[2]];var z=E.t61447[0];
U=U.slice(z,z+E.t61448[0])}var m=U.length,s=m*8<p*y*r;if(s){console.log("compressed");var Y=Q.t33422,t=~~Math.sqrt(Y.length),n=[];
for(var N=0;N<t;N++)n[N]=Y.slice(N*t,N*t+t);U=new Uint8Array(UTIF._decompressRAF(U,n).buffer);m=U.length}function J(jL,aq,cJ){cJ=cJ<<8-(aq&7);
var aB=aq>>>3;jL[aB]|=cJ>>>16;jL[aB+1]|=cJ>>>8;jL[aB+2]|=cJ}var I=m*8/(p*y);if(I==16)for(var N=0;N<m;
N+=2){var fp=U[N];U[N]=U[N+1];U[N+1]=fp}else if(I==14){for(var N=0;N<m;N+=4){var fp=U[N];U[N]=U[N+3];
U[N+3]=fp;fp=U[N+1];U[N+1]=U[N+2];U[N+2]=fp}}else if(I==12)for(var N=0;N<m;N+=3){var cH=U[N+2]<<16|U[N+1]<<8|U[N+0];
cH=cH>>>12|(cH&4095)<<12;U[N]=cH>>>16&255;U[N+1]=cH>>>8&255;U[N+2]=cH&255}if(F)U=bl.Fi.auB(U,p,y);var b=F?2:1;
p*=b;Q.t256=[p];Q.t257=[y];Q.t258=[r];Q.t50719=[W[1],W[0]*b];Q.t50720=[W[3],W[2]*b];Q.width=p;Q.height=y;
Q.data=new Uint8Array(U.buffer);return[Q]};bl.Fi.auB=function(o,g,C){o=new Uint16Array(o.buffer);var a=new Uint16Array(g*C*2);
for(var x=0;x<C;x+=2)for(var K=0;K<g;K++){var h=x*g+K,X=h*2,w=o[h],G=o[h+g];a[X+1]=a[X+2*g]=G;if(((x>>>1)+K&1)==0){a[X]=w;
a[X+2*g+1]=o[h+1]}else{a[X]=o[h-1];a[X+2*g+1]=w}}return a};bl.R5={};bl.R5.Tc=!0;bl.R5.oe=function(o,g,C,a){var x=new Uint8Array(o[0][0]),K=g*C,h=[1,3,4][a[0]],X=8+8*a[1],w=a[2];
if(h==1){var G=new Uint8Array(g*C);l.eP(x,G,0);x=G}if(h==3){var G=new Uint8Array(g*C*3);for(var N=0;
N<K;N++){var R=N*4,d=N*3;G[d]=x[R];G[d+1]=x[R+1];G[d+2]=x[R+2]}x=G}if(X==16){var q=x.length,G=new Uint8Array(q*2);
for(var N=0;N<q;N++){var m=Math.round(x[N]*(65535/255));G[N*2+w]=m>>>8;G[N*2+1-w]=m&255}x=G}return x.buffer};
bl.zx={};bl.zx.gd=function(o,g){function C(w){return~~(.5+l.eS(Math.max(0,Math.min(1,w)))*255)}var a=EXRLoader.parse(o),x=a.width,K=a.height,h=l.Z(x*K*4);
for(var X=0;X<K;X++)for(var w=0;w<x;w++){var N=(X*x+w)*4,G=((K-X-1)*x+w)*4;h[N]=C(a.data[G+0]);h[N+1]=C(a.data[G+1]);
h[N+2]=C(a.data[G+2]);h[N+3]=C(a.data[G+3])}return[{m_:new aS(0,0,x,K),data:h.buffer}]};bl.qH={};bl.qH.Tc=!0;
bl.qH.dA=!0;bl.qH.oe=function(o,g,C,a,x){a=["",100,!1,!1,!1,0];a[6]=["jpg"];var K=new ToDXF;cl._O(o,a,K,x.zM);
return K.buffer};bl.qH.gd=function(o,g){var C=72,a=new kp(1,0,0,1,0,0);a.scale(C/72,C/72);g.zC=C;var x=new hv(g,a,!1);
FromDXF.Parse(o,x)};bl.RX={};bl.RX.gd=function(){var o=u.Kk,g=u.KI,C=u.M7,a;function x(h,X,w,G,R){var d=g(h,w),q=g(h,w+4),m=g(h,w+8),M=o(h,w+12),Z=o(h,w+14);
w+=16;var Q={};for(var N=0;N<M+Z;N++){var p=g(h,w),y=g(h,w+4),V,W;if(p>>>31==1){p=p&16777215}if(N<M)V=u.UX(h,X+p+2,o(h,X+p));
else V="id"+p;var v=G.slice(0);v.push(V);if(y>>>31==1){y=y&268435455;W=x(h,X,X+y,v,R)}else{var j=g(h,X+y),e=g(h,X+y+4),T=g(h,X+y+8),O=g(h,X+y+12);
if(O!=0)throw"e";if(j<R[0]||j>R[0]+R[1])throw"e";var L=R[2]+j-R[0];W=h.slice(L,L+e);var S=bl.tt(W.buffer);
if(S&&["bmp","png","ico"].indexOf(S)!=-1){var $=bl.qC(S);if(!$.dA){var H=null;try{H=$.gd(W.buffer)}catch(fF){}if(H){H[0].A$=v[1];
a.push(H[0])}}}else if(S)console.log(S)}Q[V]=W;w+=8}return Q}function K(h){a=[];var X=new Uint8Array(h),w=0,G=o(X,w);
w+=2;w+=58;var R=g(X,w);w+=4;w=R;var d=C(X,w,4);w+=4;var q=o(X,w);w+=2;var m=o(X,w);w+=2;var M=g(X,w);
w+=4;var Z=g(X,w);w+=4;var Q=g(X,w);w+=4;var p=o(X,w);w+=2;var y=o(X,w);w+=2;w+=p;var V={};for(var N=0;
N<m;N++){var W=w;while(X[W]!=0)W++;var v=C(X,w,W-w),j=g(X,w+8),e=g(X,w+12),T=g(X,w+16),O=g(X,w+20),L=g(X,w+24),S=g(X,w+28),$=o(X,w+32),H=o(X,w+34),y=g(X,w+36);
V[v]=[e,j,O,T,y];if(L+S!=0)throw"e";w+=40}for(var f in V){var F=V[f];w=F[2];if(f==".rsrc"){var U=x(X,w,w,[],F),r="id134"}}return a}return K}();
bl.Tr={};bl.Tr.dA=!0;bl.Tr.gd=function(o,g){gM.kR(o,g)};(function(){var o=bl.zY.get("wasm/zstd").buffer;
WebAssembly.instantiate(o).then(function(g){var C=g.instance.exports;bl.Tr.a5u=C})}());bl.Tr.Lg=function(o,g){var C=bl.Tr.a5u,a=o.length,x=C.memory,K=2*a+1e6,w=8;
bl.iR(C,K);var h=new Uint8Array(x.buffer),X=C.malloc(a);h.set(o,X);while(!0){var G=g==null?a*w:g;bl.iR(C,K+G);
var R=C.malloc(G),d=C.ZSTD_decompress(R,G,X,a);if(d==-70){C.free(R);w+=w>>>1;if(g!=null)throw"error"}else{h=new Uint8Array(x.buffer);
o=h.slice(R,R+d);C.free(R);break}}C.free(X);return o};bl.mn={};bl.mn.dA=!0;bl.mn.gd=function(){var o=0,g=1,C=2,a=3,x=4,K=5,h=6,X=7,w=1,G=2,R=7,d=8,q=9,m,M,Z,Q,p;
function y(){var ee=u.OC(m,M);M+=4;return ee}function V(){var E=0,k=0;for(var N=0;N<5;N++){var P=m[M++];
E+=(P&127)<<k;k+=7;if((P&128)==0)break}return E}function W(){var E=V(),k=u.SP(m,M,E);M+=E;return k}function v(){return{typeName:W(),a0l:y()}}function j(){var E=y(),k=W(),P=[],z=y();
for(var N=0;N<z;N++)P.push([W()]);return{id:E,QH:k,an9:P}}function e(E){var k=E.an9,P=[];for(var N=0;
N<k.length;N++)k[N].push(m[M++]);for(var N=0;N<k.length;N++){var z=k[N][1],s;k[N].push(T(z))}}function T(E){var k;
if(E==o)k=m[M++];else if(E==a)k=W();else if(E==x)k=v();else if(E==g||E==C||E==h||E==K){}else throw E;
return k}function O(E,k,P){var z;if(E==o){if(k==w)z=m[M++]==1;else if(k==G){z=m[M++]}else if(k==d)z=y();
else if(k==q){z=y();y()}else throw k}else if(E==a){z=H(P+1)}else if(E==x){z=H(P+1)}else if(E==K){z=H(P+1)}else if(E==g){z=H(P+1)}else if(E==h){z=H(P+1)}else throw E;
return z}function L(E,k){var P=Z["c"+E],z=P.an9,s={_class:P.QH};for(var N=0;N<z.length;N++){var Y=z[N],t=Y[1],n=Y[2],J=O(t,n,k),I=Y[0];
s[I]=J}return s}function S(E,k,P,z){var s=[];for(var N=0;N<E;N++){var Y=O(k,P,z);if(Y.Nc&&Y.Nc=="null_count"){var t=Y.jr;
for(var n=0;n<t;n++)s.push(null);N+=t-1}else s.push(Y)}return s}function $(){return[y(),y()]}function H(E){if(E==null)throw"e";
var k=null,P=m[M],z=null;M++;if(P==0){var s=y(),Y=y(),t=y(),n=y();k=[s,Y,t,n]}else if(P==1){z=y();var J=y();
k=L(J,E)}else if(P==4){var I=j();z=I.id;e(I);Z["c"+I.id]=I;k=L(I.id,E)}else if(P==5){var I=j();z=I.id;
e(I);var fp=y();Z["c"+I.id]=I;k=L(I.id,E)}else if(P==6){z=y();var cH=W();k=cH}else if(P==7){z=y();var b=m[M++];
if(b!=0)throw b;var jL=y();if(jL!=1)throw jL;var aq=y(),cJ=m[M++],aB=T(cJ);k=S(aq,cJ,aB,E)}else if(P==9){var au=y();
k={Nc:"ref",jr:au};p["o"+au]=!0}else if(P==10){k={Nc:"null_count",jr:1}}else if(P==11){k={Nc:"end"}}else if(P==12){var fp=y(),ea=W()}else if(P==13){var ax=m[M++];
k={Nc:"null_count",jr:ax}}else if(P==16){var f1=$();z=f1[0];k=S(f1[1],x,null,E)}else if(P==17){var f1=$();
z=f1[0];k=S(f1[1],g,null,E)}else throw"e";if(z!=null&&z>0){if(Q["o"+z]!=null)throw"e";Q["o"+z]=k}return k}function f(E,Q){if(E instanceof Array){for(var N=0;
N<E.length;N++)E[N]=F(E[N],Q)}else if(E instanceof Object){for(var k in E)E[k]=F(E[k],Q)}}function F(E,Q){if(E&&E.Nc&&E.Nc=="ref")return Q["o"+E.jr];
else return E}function U(E,k,P){m=new Uint8Array(E);M=0;Z={};Q={};p={};var z=u.M7(m,0,4);if(z!="PDN3")throw z;
M+=4;var s=u.Kk(m,M)+m[M+2]*256*256;M+=3;var Y=u.M7(m,M,s);M+=s;M+=2;while(!0){var t=H(0);if(t&&t.Nc&&t.Nc=="end")break}for(var n in p)if(Q[n]==null)throw n;
for(var n in Q)f(Q[n],Q);var J=Q.o1;console.log(J);k.m=J.width;k.n=J.height;k.buffer=l.Z(k.m*k.n*4);
var I=J.layers["ArrayList+_items"];for(var N=0;N<I.length;N++){var fp=I[N];if(fp==null)continue;console.log(fp);
var cH=fp["Layer+width"],b=fp["Layer+height"],jL=fp["Layer+properties"],aq=fp.properties,cJ=aq.blendOp._class.split("+").pop();
cJ=cJ.slice(0,cJ.length-7);var aB={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[cJ],au=k.HL();
au.XH(jL.name);au.opacity=jL.opacity;au.Su(jL.visible);au.WN=aB;var ea=1<<16,ax=Math.ceil(cH*b/ea);au.rect=new aS(0,0,cH,b);
au.buffer=l.Z(cH*b*4);var f1=au.buffer;M+=5;for(var fk=0;fk<ax;fk++){var hF=r();f1.set(hF[1],hF[0]*ea*4)}for(var fm=0;
fm<f1.length;fm+=4){var jE=f1[fm+0];f1[fm+0]=f1[fm+2];f1[fm+2]=jE}k.g.push(au)}}function r(){var E=u.s(m,M);
M+=4;var k=u.s(m,M);M+=4;var P=pako.inflateRaw(m.slice(M+10));M+=k;return[E,P]}return U}();bl.Lw={};
bl.Lw.dA=!0;bl.Lw.gd=function(o,g){j6.kR(o,g)};var i={};i.LH=!1;i.OX=!1;i.W1=!1;i.J=document.createElement("canvas");
i.$A=null;i.oM=null;i.ey=0;(function(){var o={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},g;
if(!g)g=i.J.getContext("webgl",o);if(!g)g=i.J.getContext("experimental-webgl",o);if(g){i.LH=!0;i.OX=!0;
i.$A=g;i.oM=g.createFramebuffer();g.bindFramebuffer(g.FRAMEBUFFER,i.oM);g.disable(g.BLEND);g.disable(g.DEPTH_TEST);
var C=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,C);g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),g.STATIC_DRAW);
g.enableVertexAttribArray(0);g.vertexAttribPointer(0,2,g.FLOAT,!1,0,0)}}());i.aft=function(o){o=o.replace(/\s\s+/g," ");
o=o.replace(/; /g,";");o=o.replace(/} /g,"}");o=o.replace(/ }/g,"}");o=o.replace(/{ /g,"{");o=o.replace(/ {/g,"{");
o=o.replace(/= /g,"=");o=o.replace(/ =/g,"=");o=o.replace(/\| /g,"|");o=o.replace(/ \|/g,"|");return o};
i.DD=function(o){var g=i.$A;if(o>g.getParameter(g.MAX_TEXTURE_SIZE)){i.LH=!1;alert("Disabling WebGL")}};
i.Jm=function(o,g){return new Float32Array([(o.x-g.x)/g.m,(o.y-g.y)/g.n,o.m/g.m,o.n/g.n])};i.Z0=function(){return this.J};
i.CG=function(o,g){var C=i.$A;C.bindFramebuffer(C.FRAMEBUFFER,i.oM);C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,o.Rb,0);
C.viewport(0,0,o.m,o.n);if(g){C.enable(C.SCISSOR_TEST);C.scissor(g.x,g.y,g.m,g.n)}else C.disable(C.SCISSOR_TEST)};
i.nh=function(o,g,C){if(C)throw"error";var a=i.$A;a.disable(a.SCISSOR_TEST);a.bindFramebuffer(a.FRAMEBUFFER,null);
a.viewport(0,0,o,g);if(C){a.enable(a.SCISSOR_TEST);a.scissor(C.x,C.y,Math.round(C.m),Math.round(C.n))}else a.disable(a.SCISSOR_TEST)};
i.clear=function(){var o=i.$A;o.clearColor(0,0,0,0);o.clear(o.COLOR_BUFFER_BIT)};i.eW=function(o,g){if(g==null)g=0;
var C=(g>>>0&255)==0,a=(g>>>8&255)==0,x=(g>>>16&255)==0,K=(g>>>24&255)==0,h=(o>>>0&255)*(1/255),X=(o>>>8&255)*(1/255),w=(o>>>16&255)*(1/255),G=(o>>>24&255)*(1/255),R=i.$A;
R.colorMask(C,a,x,K);R.clearColor(h,X,w,G);R.clear(R.COLOR_BUFFER_BIT);R.colorMask(!0,!0,!0,!0)};i.eH=function(o,g,C,a,x){var K=g.Kw(a);
if(x)K=K.Kw(x);if(K.to())return;var h=i.$A;i.CG(o);h.bindTexture(h.TEXTURE_2D,C.Rb);h.copyTexSubImage2D(h.TEXTURE_2D,0,K.x-a.x,K.y-a.y,K.x-g.x,K.y-g.y,K.m,K.n)};
i.Jn=function(N,o,g){var C=i.yP[N];if(C==null||C.m!=o||C.n!=g){if(C)C.delete();C=new i.ib(o,g)}i.yP[N]=C;
return C};i.yP=[];i.mI=function(){this.HM=null;this.Tu=null};i.mI.uT=null;i.mI.prototype.H6=function(o){if(this.Tu)return;
this.Tu={};var g=i.$A,C=this.HM,a=this.Tu;for(var N=0;N<o.length;N++){var x=o[N];a[x]=g.getUniformLocation(C,x)}};
i.mI.prototype.Zu=function(){};i.mI.prototype.uO=function(o){var g=i.$A;for(var N=0;N<o.length;N+=2){g.uniform1i(o[N],N>>>1);
g.activeTexture(g["TEXTURE"+(N>>>1)]);g.bindTexture(g.TEXTURE_2D,o[N+1])}g.activeTexture(g.TEXTURE0)};
i.mI.prototype.m3=function(o,g){var C=i.$A,a=C.createShader(C.FRAGMENT_SHADER);C.shaderSource(a,o);C.compileShader(a);
if(!C.getShaderParameter(a,C.COMPILE_STATUS))console.log(C.getShaderInfoLog(a));var x=C.createShader(C.VERTEX_SHADER);
C.shaderSource(x,g);C.compileShader(x);if(!C.getShaderParameter(x,C.COMPILE_STATUS))console.log(C.getShaderInfoLog(x));
var K=C.createProgram();C.attachShader(K,x);C.attachShader(K,a);C.linkProgram(K);if(!C.getProgramParameter(K,C.LINK_STATUS))console.log("Could not initialise shaders");
this.HM=K};i.mI.prototype.Py=function(){if(i.mI.uT!=this){i.$A.useProgram(this.HM);i.mI.uT=this}};i.bS=function(o,g){i.$0++;
i.ey+=o*g;if(i.W1)console.log("GL.Channels instances: "+i.$0+", memory: "+i.ey);var C=i.$A;this.m=o;
this.n=g;this.Rb=C.createTexture();this.R6=null;this.t4(this.Rb,o,g)};i.bS.prototype.t4=function(o,g,C){var a=i.$A;
a.bindTexture(a.TEXTURE_2D,o);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);
a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,g,C,0,a.ALPHA,a.UNSIGNED_BYTE,null)};i.bS.prototype.set=function(o,g){var C=i.$A;
C.bindTexture(C.TEXTURE_2D,this.Rb);C.pixelStorei(C.UNPACK_ALIGNMENT,1);var a=this.m*this.n;if(g==null||g.$()*10>a)C.texImage2D(C.TEXTURE_2D,0,C.ALPHA,this.m,this.n,0,C.ALPHA,C.UNSIGNED_BYTE,o);
else{var x=new aS(0,0,this.m,this.n),K=l.Z(g.$());l.MD(o,x,K,g);C.texSubImage2D(C.TEXTURE_2D,0,g.x,g.y,g.m,g.n,C.ALPHA,C.UNSIGNED_BYTE,K)}C.pixelStorei(C.UNPACK_ALIGNMENT,4)};
i.bS.prototype.delete=function(){var o=i.$A;if(this.Rb){o.deleteTexture(this.Rb);i.$0--;i.ey-=this.m*this.n}if(i.W1)if(i.W1)console.log("GL.Channels instances: "+i.$0+", memory: "+i.ey*4)};
i.$0=0;i.ib=function(o,g,C){if(C==null)C=!1;i.$0++;i.ey+=o*g*4;if(i.W1)console.log("GL.Channels instances: "+i.$0+", memory: "+i.ey);
var a=i.$A;this.adI=C;this.m=o;this.n=g;this.Rb=a.createTexture();this.R6=null;this.t4(this.Rb,o,g)};
i.ib.prototype.set=function(o,g){var C=i.$A;C.disable(C.SCISSOR_TEST);C.bindTexture(C.TEXTURE_2D,this.Rb);
if(o==null||o instanceof Uint8Array){var a=this.m*this.n;if(g==null||g.$()*10>a)C.texImage2D(C.TEXTURE_2D,0,C.RGBA,this.m,this.n,0,C.RGBA,C.UNSIGNED_BYTE,o);
else{var x=l.Z(g.$()*4);l.HT(o,new aS(0,0,this.m,this.n),x,g);C.texSubImage2D(C.TEXTURE_2D,0,g.x,g.y,g.m,g.n,C.RGBA,C.UNSIGNED_BYTE,x)}}else C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,o)};
i.ib.prototype.get=function(o){var g=i.$A;i.CG(this);g.readPixels(0,0,this.m,this.n,g.RGBA,g.UNSIGNED_BYTE,o)};
i.ib.prototype.RO=function(o){if(o.to())return;var g=i.$A;if(this.R6==null){this.R6=g.createTexture();
this.t4(this.R6,this.m,this.n);i.$0++;i.ey+=this.m*this.n*4}g.bindFramebuffer(g.FRAMEBUFFER,i.oM);g.bindTexture(g.TEXTURE_2D,this.R6);
if(o){var C=Math.max(o.x,0),a=Math.max(o.y,0);g.copyTexSubImage2D(g.TEXTURE_2D,0,C,a,C,a,o.m,o.n)}else g.copyTexImage2D(g.TEXTURE_2D,0,g.RGBA,0,0,this.m,this.n,0)};
i.ib.prototype.t4=function(o,g,C){var a=i.$A;a.bindTexture(a.TEXTURE_2D,o);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.adI?a.LINEAR:a.NEAREST);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,g,C,0,a.RGBA,a.UNSIGNED_BYTE,null)};
i.ib.prototype.delete=function(){var o=i.$A;if(this.Rb){o.deleteTexture(this.Rb);i.$0--;i.ey-=this.m*this.n*4}if(this.R6){o.deleteTexture(this.R6);
i.$0--;i.ey-=this.m*this.n*4}if(i.W1)if(i.W1)console.log("GL.Channels instances: "+i.$0+", memory: "+i.ey)};
i.ib.prototype.clone=function(){var o=i.$A,g=new i.ib(this.m,this.n);i.CG(this);o.bindTexture(o.TEXTURE_2D,g.Rb);
o.copyTexImage2D(o.TEXTURE_2D,0,o.RGBA,0,0,this.m,this.n,0);return g};i.pi={afK:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",ave:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",kb:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",bE:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",BA:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",AK:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Is:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",j6:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",ap$:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",tW:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aqa:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",V9:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Ya:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",p7:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",vr:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",oA:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",br:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",QE:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Kj:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aka:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a07:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Cc:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",P2:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
i.j={};i.j.Bn={};i.j.Kz=null;i.j.ad=null;i.j.sA=null;i.j.MV=function(o,g,C,a,x,K,h,X){if(X==null)X=bd.wd();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(o)==-1){h=h*X.fill;X.fill=1;X.style=!1}var w=o+(X.YR?"1":"");
if(i.j.Bn[w]==null)i.j.Bn[w]=new i.j.TX(o,X.YR!=null);var G=i.j.Bn[w],R=C.Kw(x).Kw(K);R.offset(-x.x,-x.y);
if(R.to())return;var d=i.$A;i.CG(a,R);a.RO(R);G.Py();G.Zu(g.Rb,a.R6,i.Jm(C,x),h,X.fill,X.style?1:0,X.FH?1:0,X.YR?new Float32Array(X.YR):null);
d.drawArrays(d.TRIANGLES,0,6)};i.j.iB=function(o,g,C,a,x,K,h,X,w,G,R){if(i.j.Kz==null)i.j.Kz=new i.j.AB(!0,!0);
if(i.j.ad==null)i.j.ad=new i.j.AB(!0,!1);if(i.j.sA==null)i.j.sA=new i.j.AB(!1,!0);var d=G?1:0,q=o?x?i.j.Kz:i.j.ad:i.j.sA,m=new Float32Array(R?[R[0],R[1],R[2],1]:[1,1,1,1]),M=g?g.Kw(a).Kw(X):a.Kw(X);
if(M.to())return;M.offset(-a.x,-a.y);var Z=i.$A;i.CG(C,M);C.RO(M);q.Py();if(o==null)q.Zu(null,C.R6,x.Rb,i.Jm(a,a),i.Jm(K,a),h/255,w,d,m);
else if(x)q.Zu(o.Rb,C.R6,x.Rb,i.Jm(g,a),i.Jm(K,a),h/255,w,d,m);else q.Zu(o.Rb,C.R6,null,i.Jm(g,a),null,h/255,w,d,m);
Z.drawArrays(Z.TRIANGLES,0,6)};i.j.a83=function(o,g,C){if(i.j.an$==null)i.j.an$=new i.j.s8;var a=i.j.an$,x=new aS(0,0,o.m,o.n),K=i.$A;
i.CG(g);g.RO(x);a.Py();a.Zu(x,o.Rb,g.R6,C.Rb);K.drawArrays(K.TRIANGLES,0,6)};i.j.vQ={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
i.j.TX=function(o,g){i.mI.call(this);var C="\t\t\tprecision highp float;\t\t\t"+i.pi.kb+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(g?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+i.pi.AK+"\t\t\t"+i.pi.Is+"\t\t\t"+i.pi.j6+"\t\t\t"+i.pi.afK+"\t\t\t"+i.pi.ave+"\t\t\t"+i.pi.ap$+"\t\t\t"+i.pi.tW+"\t\t\t"+i.pi.aqa+"\t\t\t"+i.pi.V9+"\t\t\t"+i.pi.hash+"\t\t\t"+(g?i.pi.Cc:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+i.j.vQ[o]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",a="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(o=="diss")C+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else C+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(g?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.m3(C,a)};i.j.TX.prototype=new i.mI;i.j.TX.prototype.Zu=function(o,g,C,a,x,K,h,X){this.H6("srct alpha source target fill style keepBGA blIf".split(" "));
var w=i.$A,G=this.Tu;w.uniform4fv(G.srct,C);w.uniform1f(G.alpha,a);w.uniform1f(G.fill,x);w.uniform1f(G.style,K);
w.uniform1f(G.keepBGA,h);if(X)w.uniform4fv(G.blIf,X);this.uO([G.source,o,G.target,g])};i.j.AB=function(o,g){i.mI.call(this);
this.ate=o;this.T0=g;var C="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+i.pi.Ya+"\t\t\t"+i.pi.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(o?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(g?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(o?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(g?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",a="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.m3(C,a)};i.j.AB.prototype=new i.mI;i.j.AB.prototype.Zu=function(o,g,C,a,x,K,h,X,w){if(this.T0)this.H6("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.H6("srct awg dissv source target cswitch".split(" "));var G=i.$A,R=this.Tu;G.uniform4fv(R.srct,a);
if(this.T0){G.uniform4fv(R.wrct,x);G.uniform1f(R.wcolor,K)}else{G.uniform4fv(R.cswitch,w)}G.uniform1f(R.awg,h);
G.uniform1f(R.dissv,X);var d=[R.source,o,R.target,g];if(this.T0)d.push(R.weight,C);this.uO(d)};i.j.s8=function(){i.mI.call(this);
var o="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",g="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.m3(o,g)};i.j.s8.prototype=new i.mI;i.j.s8.prototype.Zu=function(o,g,C,a){this.H6(["rct","prev","next","alpha"]);
var x=i.$A,K=this.Tu;x.uniform4fv(K.rct,[0,0,1,1]);this.uO([K.prev,g,K.next,C,K.alpha,a])};i.ss={uz:{},P1:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
i.ss.kH=function(o,g){var C=f6.pO,a=[C.ON,C.Y$,C.Ck,C.y9,C.wA,C.CO,C.BG,C.Qs].indexOf(o.type),x=i.ss.uz[o.type];
if(x==null)x=i.ss.uz[o.type]=new i.uz[a];x.Py();x.Zu(g,o);i.$A.drawArrays(i.$A.TRIANGLES,0,6)};i.uz=[];
i.uz[0]=function(){i.mI.call(this);this.e2={};var o="\t\t\tprecision mediump float;\t\t\t"+i.pi.Is+"\t\t\t"+i.pi.kb+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.m3(o,i.ss.P1)};i.uz[0].prototype=new i.mI;i.uz[0].prototype.Zu=function(o,g){var C={z:g.v5,B:g.Qh,K:g.O6,Bk:l.Z(g.v5.length)},a=C.z.length;
if(this.e2["m"+a]==null){this.e2["m"+a]={aq2:new i.ib(a,1),ab:l.Z(a*4)}}var x=this.e2["m"+a];l.bc(C,x.ab,0);
var K=x.aq2;K.set(x.ab);this.H6(["source","map","toGray","presLum"]);var h=i.$A,X=this.Tu;h.uniform1f(X.toGray,g.jp?1:0);
h.uniform1f(X.presLum,g.WV?1:0);this.uO([X.source,o,X.map,K.Rb])};i.uz[1]=function(){i.mI.call(this);
this.a5T=new i.ib(256,1);this.aj3=l.Z(256*4);var o="\t\t\t\tprecision mediump float;\t\t\t\t"+i.pi.oA+"\t\t\t\t"+i.pi.p7+"\t\t\t\t"+i.pi.vr+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.m3(o,i.ss.P1)};i.uz[1].prototype=new i.mI;i.uz[1].prototype.Zu=function(o,g){l.bc({z:g.apY,B:g.bB,K:g.atL,Bk:l.Z(256)},this.aj3);
this.a5T.set(this.aj3);this.H6(["source","map","cfa","cfb","colorize"]);var C=i.$A,a=this.Tu;C.uniform1f(a.cfa,g.asE);
C.uniform1f(a.cfb,g._T);C.uniform1i(a.colorize,g.ao2);this.uO([a.source,o,a.map,this.a5T.Rb])};i.uz[2]=function(){i.mI.call(this);
var o="\t\t\tprecision mediump float;\t\t\t"+i.pi.oA+"\t\t\t"+i.pi.br+"\t\t\t"+i.pi.QE+"\t\t\t"+i.pi.p7+"\t\t\t"+i.pi.vr+"\t\t\t"+i.pi.aka+"\t\t\t"+i.pi.a07+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.m3(o,i.ss.P1)};i.uz[2].prototype=new i.mI;i.uz[2].prototype.Zu=function(o,g){this.H6(["source","vib","sat","yF"]);
var C=i.$A,a=this.Tu;C.uniform1f(a.vib,g.eA[0]);C.uniform1f(a.sat,g.eA[1]);C.uniform3fv(a.yF,new Float32Array([g.eA[2],g.eA[3],g.eA[3]]));
this.uO([a.source,o])};i.uz[3]=function(){i.mI.call(this);var o="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.m3(o,i.ss.P1)};i.uz[3].prototype=new i.mI;i.uz[3].prototype.Zu=function(o,g){this.H6(["source","trf"]);
var C=i.$A,a=this.Tu;C.uniformMatrix4fv(a.trf,!1,new Float32Array(l.Rk.W8(g.t_)));this.uO([a.source,o])};
i.uz[4]=function(){i.mI.call(this);var o="\t\t\tprecision mediump float; \t\t\t"+i.pi.Kj+"\t\t\t"+i.pi.oA+"\t\t\t"+i.pi.vr+"\t\t\t"+i.pi.p7+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.m3(o,i.ss.P1)};i.uz[4].prototype=new i.mI;i.uz[4].prototype.Zu=function(o,g){this.H6(["source","mnm","mxm","shift","lim"]);
var C=i.$A,a=this.Tu;C.uniform3fv(a.mnm,new Float32Array(g.rd));C.uniform3fv(a.mxm,new Float32Array(g.U4));
C.uniform3fv(a.shift,new Float32Array(g.shift));C.uniform1f(a.lim,g.lI);this.uO([a.source,o])};i.uz[5]=function(){i.mI.call(this);
var o="\t\t\tprecision mediump float;\t\t\t"+i.pi.kb+"\t\t\t"+i.pi.bE+"\t\t\t"+i.pi.BA+"\t\t\t"+i.pi.p7+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.m3(o,i.ss.P1)};i.uz[5].prototype=new i.mI;i.uz[5].prototype.Zu=function(o,g){this.H6(["source","cfs"]);
var C=i.$A,a=this.Tu;C.uniform3fv(a.cfs,g.a5W);this.uO([a.source,o])};i.uz[6]=function(){i.mI.call(this);
var o="\t\t\tprecision mediump float;\t\t\t"+i.pi.oA+"\t\t\t"+i.pi.bE+"\t\t\t"+i.pi.BA+"\t\t\t"+i.pi.p7+"\t\t\t"+i.pi.vr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.m3(o,i.ss.P1)};i.uz[6].prototype=new i.mI;i.uz[6].prototype.Zu=function(o,g){this.H6(["source","wght","prms"]);
var C=i.$A,a=this.Tu,x=[g.uQ,g.acu,g.Is,g.aaD,g.$m,g.asj];C.uniform1fv(a.wght,new Float32Array(g.ahb));
C.uniform1fv(a.prms,new Float32Array(x));this.uO([a.source,o])};i.uz[7]=function(){i.mI.call(this);this.pk={};
var o="\t\t\tprecision mediump float;\t\t\t"+i.pi.P2+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.m3(o,i.ss.P1)};i.uz[7].prototype=new i.mI;i.uz[7].prototype.Zu=function(o,g){this.H6(["source","lut","N"]);
var C=i.$A,a=this.Tu,x=g.p$,K=g.CL;if(this.pk["m"+x]==null)this.pk["m"+x]=new i.ib(x,x*x);var h=this.pk["m"+x];
h.set(K);C.uniform1f(a.N,x);this.uO([a.source,o,a.lut,h.Rb]);C.activeTexture(C.TEXTURE1);var X=C.LINEAR;
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,X);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,X);
C.activeTexture(C.TEXTURE0)};i.filter={QC:{},P1:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aqZ:0,ac4:1,Fv:2,a1T:3,a5P:4,ajO:5,vw:6,atE:7};
i.filter.kH=function(o,g){var C=i.filter,a,x=o.type+":"+(o.HB?o.HB.join(","):""),a=i.filter.QC[x];if(a==null)a=i.filter.QC[x]=new i.QC[o.type](o.HB);
a.Py();a.Zu(g,o);i.$A.drawArrays(i.$A.TRIANGLES,0,6)};i.QC=[0,0,0,0,0,0,0,0,0,0,0,0];i.QC[7]=function(){i.mI.call(this);
var o="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.m3(is.y4(o),is.y4(i.filter.P1))};i.QC[7].prototype=new i.mI;i.QC[7].prototype.Zu=function(o,g){this.H6(["source","iwh","kern"]);
var C=i.$A,a=this.Tu;C.uniform2fv(a.iwh,g.cM);C.uniform1fv(a.kern,g.aqW);this.uO([a.source,o])};i.QC[6]=function(o){i.mI.call(this);
var g=o[0],C=o[1],a=o[2],x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",K=is.y4(x);
K=K.replaceAll("PRC",a+".0");K=K.replaceAll("DIR",["x,0","0,x"][C]);this.m3(K,i.ss.P1)};i.QC[6].prototype=new i.mI;
i.QC[6].prototype.Zu=function(o,g){this.H6(["source","iwh","rad"]);var C=i.$A,a=this.Tu;C.uniform2fv(a.iwh,g.cM);
C.uniform1f(a.rad,g.sB);this.uO([a.source,o])};i.QC[4]=function(o){i.mI.call(this);var g=o[0],C=o[1],a="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+o[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][C]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][g]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][C]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(C==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.m3(a,i.ss.P1)};i.QC[4].prototype=new i.mI;i.QC[4].prototype.Zu=function(o,g){this.H6(["source","iwh","rrad","tr"]);
var C=i.$A,a=this.Tu;C.uniform2fv(a.iwh,g.cM);C.uniform1f(a.rrad,g.rI);C.uniform1f(a.tr,g.a2p);this.uO([a.source,o]);
var x=C.LINEAR;x=C.NEAREST;C.activeTexture(C.TEXTURE0);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,x);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,x);C.activeTexture(C.TEXTURE0)};i.QC[5]=function(){i.mI.call(this);
var o="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.m3(is.y4(o),is.y4(i.filter.P1))};i.QC[5].prototype=new i.mI;i.QC[5].prototype.Zu=function(o,g){this.H6(["source","ssum","iwh","amnt","edgf"]);
var C=i.$A,a=this.Tu;C.uniform2fv(a.iwh,g.cM);C.uniform1f(a.amnt,g.ahk);C.uniform1f(a.edgf,g.a6L);this.uO([a.source,o,a.ssum,g.arU])};
i.QC[3]=function(){i.mI.call(this);var o="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.m3(is.y4(o),is.y4(i.filter.P1))};i.QC[3].prototype=new i.mI;i.QC[3].prototype.Zu=function(o,g){this.H6("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var C=i.$A,a=this.Tu;C.uniform2fv(a.iwh,g.cM);C.uniform1f(a.tdep,g.adl);C.uniform1f(a.rrad,g.rI);C.uniform2fv(a.spec,g.a9y);
C.uniform3fv(a.nois,g.ahx);C.uniformMatrix4fv(a.poly0,!1,g.a1j);C.uniformMatrix4fv(a.poly1,!1,g.aci);
this.uO([a.source,o]);var x=C.LINEAR;C.activeTexture(C.TEXTURE0);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,x);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,x);C.activeTexture(C.TEXTURE0)};i.QC[0]=function(){i.mI.call(this);
var o="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.m3(is.y4(o),is.y4(i.filter.P1))};i.QC[0].prototype=new i.mI;i.QC[0].prototype.Zu=function(o,g){this.H6(["source","iwh","ld","shine"]);
var C=i.$A,a=this.Tu;C.uniform2fv(a.iwh,g.cM);C.uniform3fv(a.ld,g.aoc);C.uniform1f(a.shine,g.aur);this.uO([a.source,o,a.tang,g.tV])};
i.QC[1]=function(){i.mI.call(this);var o="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.m3(is.y4(o),is.y4(i.filter.P1))};i.QC[1].prototype=new i.mI;i.QC[1].prototype.Zu=function(o,g){this.H6(["source","iwh","isc","bristle"]);
var C=i.$A,a=this.Tu;C.uniform2fv(a.iwh,g.cM);C.uniform1f(a.isc,g.adV);C.uniform1f(a.bristle,g.a8e);
this.uO([a.source,o])};i.QC[2]=function(){i.mI.call(this);var o="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.m3(is.y4(o),is.y4(i.filter.P1))};i.QC[2].prototype=new i.mI;i.QC[2].prototype.Zu=function(o,g){this.H6(["source","tang","iwh","sigma","expo"]);
var C=i.$A,a=this.Tu;C.uniform2fv(a.iwh,g.cM);C.uniform1f(a.sigma,g.aub);C.uniform1f(a.expo,g.ajN);this.uO([a.source,o,a.tang,g.tV]);
var x=C.LINEAR;C.activeTexture(C.TEXTURE0);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,x);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,x);
C.activeTexture(C.TEXTURE0)};function l(){}l.U={};l.a6$={};l.a8w=function(){var o=[64,64,128,256,512,1024,2048],g=[];
for(var N=0;N<o.length;N++){var C=o[N],a=document.createElement("canvas");a.width=C;a.height=C;g.push(a.getContext("2d"))}return g}();
l.Z0=function(o,g){var C,a=l.a8w,N=1,x=Math.max(o,g);while(N<a.length&&x>a[N].canvas.width)N++;if(N==a.length){C=a[0];
var K=C.canvas;K.width=o;K.height=g}else{C=a[N];C.clearRect(0,0,o,g)}return C};l.Yy=function(o,g,C){var a=new Uint32Array(g*C);
a[0]=o[0];for(var x=1;x<g;x++)a[x]=a[x-1]+o[x];for(var K=1;K<C;K++){var N=K*g;a[N]=a[N-g]+o[N];for(var x=1;
x<g;x++)a[N+x]=o[N+x]+a[N+x-1]+a[N+x-g]-a[N+x-g-1]}return a};l.Ni=function(o,g,C,a,x,K){var h=(x-1)*g,X=K*g;
return o[X+a]-o[X+C-1]-o[h+a]+o[h+C-1]};l.HN=function(o,g,C){var a={},x=0,K=0,h=new Uint32Array(o.buffer),X=h.length,w=Date.now();
for(var G=1;G<C-1;G++)for(var R=1;R<g-1;R++){var d=G*g+R,q=h[d];if(q>>>24<230)K++;if(a[q]==null){a[q]=!0;
x++}}if(K!=0||x<20)return!1;return!0};l.kz=function(o,g,C,a,x,K){if(x==null)x=K=0;a=Math.log(a)/Math.log(2);
a=Math.round(a);for(var N=0;N<C;N++)for(var h=0;h<g;h++){var X=N*g+h<<2,w=l.FZ(N+K,h+x,a);o[X]=o[X+1]=o[X+2]=w;
o[X+3]=255}};l.FZ=function(N,o,g){return 255-((N>>>g)+(o>>>g)&1)*51};l.eh=function(o){var g=o.toString(16);
while(g.length<6)g="0"+g;return g};l.ji=function(o){return parseInt(o,16)};l.Is=function(o){return.3*o.z+.59*o.B+.11*o.K};
l.AK=function(o){return Math.max(o.z,o.B,o.K)-Math.min(o.z,o.B,o.K)};l.mD=function(o,g,C){return.3*o+.59*g+.11*C};
l.ags=function(o,g,C){return Math.max(o,g,C)-Math.min(o,g,C)};l.bE=function(o,g){var C=g-o,a=Math.abs(C),x=C-1,K=C+1;
if(Math.abs(x)<a)C=x;else if(Math.abs(K)<a)C=K;return C};l.eS=function(o){return o<.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055};
l.RA=function(o){return o<.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)};l.arl=function(o,g){var C=Math.min(o.length,g.length);
for(var N=0;N<C;N+=4){var a=o[N],x=o[N+1],K=o[N+2];g[N]=16+Math.floor(65.481/255*a+128.553/255*x+24.966/255*K+.5);
g[N+1]=128-Math.floor(37.797/255*a-74.203/255*x+112/255*K+.5);g[N+2]=128+Math.floor(112/255*a-93.786/255*x-18.214/255*K+.5);
g[N+3]=o[N+3]}};l.amF=function(o,g,C){var a,x,K,h=Math.max(o,g,C),X=Math.min(o,g,C);K=h;if(h!=0)x=(h-X)/h;
else x=0;if(x==0)a=0;else{var w=h-X,G=(h-o)/w,R=(h-g)/w,d=(h-C)/w;if(o==h)a=d-R;else if(g==h)a=2+G-d;
else a=4+R-G;a*=1/6;if(a<0)a=a+1}return{fB:a,ZQ:x,K:K}};l.ao0=function(o,g,C){var a=0,x=0,K=0;if(g==0)a=x=K=C;
else{var h=(o-Math.floor(o))*6,X=Math.floor(h),w=h-Math.floor(h),G=C*(1-g),R=C*(1-g*w),d=C*(1-g*(1-w));
switch(X){case 0:a=C;x=d;K=G;break;case 1:a=R;x=C;K=G;break;case 2:a=G;x=C;K=d;break;case 3:a=G;x=R;
K=C;break;case 4:a=d;x=G;K=C;break;case 5:a=C;x=G;K=R;break}}return{z:a,B:x,K:K}};l.p7=function(o,g,C){var a=Math.max(o,g,C),x=Math.min(o,g,C),K=0,h=0,X=(a+x)*.5;
if(a!=x){var w=a-x;h=X>.5?w/(2-(a+x)):w/(a+x);switch(a){case o:K=(g-C)/w+(g<C?6:0);break;case g:K=(C-o)/w+2;
break;case C:K=(o-g)/w+4;break}K*=1/6}return{fB:K,ZQ:h,EN:X}};l.vr=function(o,g,C){var a,x,K;if(g==0)a=x=K=C;
else{var h=C<.5?C*(1+g):C+g-C*g,X=2*C-h;a=l.oA(X,h,o+1/3);x=l.oA(X,h,o);K=l.oA(X,h,o-1/3)}return{z:a,B:x,K:K}};
l.oA=function(o,g,C){if(C<0)C+=1;if(C>1)C-=1;if(C<1/6)return o+(g-o)*6*C;if(C<1/2)return g;if(C<2/3)return o+(g-o)*(2/3-C)*6;
return o};l.br=function(o,g,C){var a=Math.max(o,g,C),x=Math.min(o,g,C),K,h,X=a,w=a-x;h=a==0?0:w/a;if(a==x)K=0;
else{switch(a){case o:K=(g-C)/w+(g<C?6:0);break;case g:K=(C-o)/w+2;break;case C:K=(o-g)/w+4;break}K*=1/6}return{fB:K,ZQ:h,jr:X}};
l.QE=function(o,g,C){var a,x,K,N,h,X,w,G;N=Math.floor(o*6);h=o*6-N;X=C*(1-g);w=C*(1-h*g);G=C*(1-(1-h)*g);
switch(N%6){case 0:a=C,x=G,K=X;break;case 1:a=w,x=C,K=X;break;case 2:a=X,x=C,K=G;break;case 3:a=X,x=w,K=C;
break;case 4:a=G,x=X,K=C;break;case 5:a=C,x=X,K=w;break}return{z:a,B:x,K:K}};l.mM=function(){var o=[],g=[];
for(var N=0;N<2e3;N++){var C=N/1e3;o[N]=l.RA(C);g[N]=C>.008856?Math.pow(C,1/3):(903.3*C+16)*(1/116)}return[o,g]}();
l.Kj=function(o,g,C){var a=l.mM[0],x=l.mM[1];o=a[~~(o*(1e3/255))];g=a[~~(g*(1e3/255))];C=a[~~(C*(1e3/255))];
var K=l.Rk.ar_,h=K[0]*o+K[1]*g+K[2]*C,X=K[4]*o+K[5]*g+K[6]*C,w=K[8]*o+K[9]*g+K[10]*C;h=h*(100/96.72);
X=X*(100/100);w=w*(100/81.427);return l.Kh(h,X,w)};l.Kh=function(o,g,C){var a=l.mM[1],x=a[~~(o*1e3)],K=a[~~(g*1e3)],h=a[~~(C*1e3)];
return{pY:116*K-16,Bk:500*(x-K),K:200*(K-h)}};l.sC=function(o,g,C){var a=903.3,x=.008856,K=(o+16)/116,h=K*K*K,X=K-C/200,w=X*X*X,G=g/500+K,R=G*G*G,d=w>x?w:(116*X-16)/a,q=h>x?h:(116*K-16)/a,m=R>x?R:(116*G-16)/a,M=m*96.72,Z=q*100,Q=d*81.427,p=l.Rk.xo(l.Rk.Kt,[M/100,Z/100,Q/100,0]);
for(var N=0;N<4;N++)p[N]=Math.max(0,Math.min(255,l.eS(p[N])*255));return{z:p[0],B:p[1],K:p[2]}};l.ev=function(o,g,C,a,x){var K=o.pY,h=o.Bk,X=o.K,w=(K<g.pY?g.pY-K:C.pY<K?C.pY-K:0)*(1/100),G=(h<g.Bk?g.Bk-h:C.Bk<h?C.Bk-h:0)*(1/116),R=(X<g.K?g.K-X:C.K<X?C.K-X:0)*(1/116),d=Math.sqrt(w*w+G*G+R*R)*1.35;
return d<=a?Math.min(1,1.17*(1-d*x)):0};l.cr=function(o,g,C){var a=o.length,x=.3,K=.59,h=.11;if(C){x=C[0];
K=C[1];h=C[2]}for(var N=0;N<a;N+=4)g[N>>2]=~~(o[N+0]*x+o[N+1]*K+o[N+2]*h+.5)};l.B2=function(o,g){var C=g.length;
for(var N=0;N<C;N+=4){var a=o[N>>>2];g[N]=a;g[N+1]=a;g[N+2]=a}};l.bc=function(o,g){var C=o.Bk,a=o.z,x=o.B,K=o.K,h=Math.min(o.Bk.length,g.buffer.byteLength>>>2),X=4*Math.floor(h/4),w=new Uint32Array(g.buffer),G=new Uint32Array(C.buffer),R=new Uint32Array(a.buffer),d=new Uint32Array(x.buffer),q=new Uint32Array(K.buffer);
for(var N=0;N<X;N+=4){var m=G[N>>2],M=q[N>>2],Z=d[N>>2],Q=R[N>>2];w[N]=m<<24|(M&255)<<16|(Z&255)<<8|Q&255;
w[N+1]=(m&65280)<<16|(M&65280)<<8|Z&65280|(Q&65280)>>>8;w[N+2]=(m&16711680)<<8|M&16711680|(Z&16711680)>>>8|(Q&16711680)>>>16;
w[N+3]=m&4278190080|(M&4278190080)>>>8|(Z&4278190080)>>>16|(Q&4278190080)>>>24}for(var N=X;N<h;N++)w[N]=C[N]<<24|K[N]<<16|x[N]<<8|a[N]};
l.NA=function(o,g){var C=g.Bk,a=g.z,x=g.B,K=g.K,h=Math.min(g.Bk.length,o.buffer.byteLength>>>2),X=4*Math.floor(h/4),w=new Uint32Array(o.buffer),G=new Uint32Array(C.buffer),R=new Uint32Array(a.buffer),d=new Uint32Array(x.buffer),q=new Uint32Array(K.buffer);
for(var N=0;N<X;N+=4){var m=w[N],M=w[N+1],Z=w[N+2],Q=w[N+3];R[N>>2]=m&255|(M&255)<<8|(Z&255)<<16|Q<<24;
d[N>>2]=(m&65280)>>8|M&65280|(Z&65280)<<8|(Q&65280)<<16;q[N>>2]=(m&16711680)>>16|(M&16711680)>>8|Z&16711680|(Q&16711680)<<8;
G[N>>2]=m>>>24|M>>>24<<8|Z>>>24<<16|Q&4278190080}for(var N=X;N<h;N++){var p=w[N];a[N]=p>>0&255;x[N]=p>>8&255;
K[N]=p>>16&255;C[N]=p>>24&255}};l.eP=function(o,g,C){var a=new Uint8Array(o.buffer),x=Math.min(a.length/4,g.length);
for(var N=0;N<x;N++){g[N]=a[(N<<2)+C]}};l.Oa=function(o,g,C){var a=new Uint8Array(g.buffer),x=new Uint32Array(o.buffer),K=Math.min(a.length/4,o.length),N=0;
while(N+4<K){var h=x[N>>>2];a[(N<<2)+C]=h&255;a[(N<<2)+C+4]=h>>>8&255;a[(N<<2)+C+8]=h>>>16&255;a[(N<<2)+C+12]=h>>>24;
N+=4}while(N<K){a[(N<<2)+C]=o[N];N++}};l.th=function(o,g,C){if(C==null)C=0;var a=new Uint32Array(o.buffer),x=a.length;
for(var N=0;N<x;N++)a[N]=a[N]&C|g};l.anZ=function(o,g,C,a,x){if(x==null)x=0;var K=new Uint32Array(o.buffer);
C=C.Kw(g);var h=C.x-g.x,X=C.y-g.y,w=C.m,G=C.n,R=g.m;for(var d=0;d<G;d++){var N=(X+d)*R+h;for(var q=0;
q<w;q++){K[N]=K[N]&x|a;N++}}};l.j5=function(o,g){var C=Math.min(o.buffer.byteLength,g.buffer.byteLength),a=C>>>2,o=new Uint32Array(o.buffer,0,a),g=new Uint32Array(g.buffer,0,a);
g.set(o)};l.$s=function(o,g){var C=o.buffer.byteLength,a=g.buffer.byteLength,x=new Uint32Array(o.buffer,0,C>>2),K=new Uint32Array(g.buffer,0,a>>2);
if(C!=a)return!1;var h=x.length;for(var N=0;N<h;N++)if(K[N]!=x[N])return!1;return!0};l.rq=function(o){var g=new Uint32Array(o.buffer),C=g.length;
for(var N=0;N<C;N++)g[N]=~g[N]};l.acC=function(o){var g=o.length;for(var N=0;N<g;N+=4){o[N]=~o[N];o[N+1]=~o[N+1];
o[N+2]=~o[N+2]}};l.abi=function(o){var g=o.length;for(var N=3;N<g;N+=4)o[N]=~o[N]};l.aaO=function(o){return o+(o%4==0?0:4-o%4)};
l.Z=function(o,g){if(g==null)g=!1;if(!g)o=l.aaO(o);try{var C=new Uint8Array(o)}catch(fF){alert("Not enough RAM! (need "+Math.round(o/(1<<20))+" MB)",7e3);
throw"low_ram"}return C};l.WP=function(o){var g=o.length,C=o[g-2],a=o[g-1];while(a.m>=2&&a.n>=2){var x=l.yZ(C,a);
o.push(x.ab,x.rect);C=x.ab;a=x.rect}};l.r2=function(o){var g=o.length,C=o[g-2],a=o[g-1];while(a.m>=2&&a.n>=2){var x=l.wP(C,a);
o.push(x.ab,x.rect);C=x.ab;a=x.rect}};l.yZ=function(o,g,C){var a=g.m,x=g.n,K=a>>1,h=x>>1,X=new aS(g.x,g.y,K,h),w=C&&C.length==K*h*4?C:l.Z(K*h*4),G=new Uint32Array(o.buffer),R=new Uint32Array(w.buffer);
for(var d=0;d<h;d++)for(var q=0;q<K;q++){var m=d*K+q,M=(d<<1)*a+(q<<1),Z=G[M],Q=G[M+1],p=G[M+a],y=G[M+a+1],V=Z>>>24,W=Q>>>24,v=p>>>24,j=y>>>24,e=V+W+v+j;
if(e==1020){var T=(Z>>>0&255)+(Q>>>0&255)+(p>>>0&255)+(y>>>0&255)+2>>>2,O=(Z>>>8&255)+(Q>>>8&255)+(p>>>8&255)+(y>>>8&255)+2>>>2,L=(Z>>>16&255)+(Q>>>16&255)+(p>>>16&255)+(y>>>16&255)+2>>>2;
R[m]=255<<24|L<<16|O<<8|T}else if(e==0)R[m]=0;else{var T=(Z>>>0&255)*V+(Q>>>0&255)*W+(p>>>0&255)*v+(y>>>0&255)*j,O=(Z>>>8&255)*V+(Q>>>8&255)*W+(p>>>8&255)*v+(y>>>8&255)*j,L=(Z>>>16&255)*V+(Q>>>16&255)*W+(p>>>16&255)*v+(y>>>16&255)*j,S=1/e;
T=~~(T*S+.5);O=~~(O*S+.5);L=~~(L*S+.5);R[m]=e+2>>>2<<24|L<<16|O<<8|T}}return{rect:X,ab:w}};l.FF=function(o,g,C){var a=g.m,x=g.n,K=a>>1,h=x>>1,X=new aS(g.x,g.y,K,h),w=C&&C.length==K*h*4?C:l.Z(K*h*4),G=new Uint32Array(o.buffer),R=new Uint32Array(w.buffer);
for(var d=0;d<h;d++)for(var q=0;q<K;q++){var m=d*K+q,M=(d<<1)*a+(q<<1),Z=G[M],Q=G[M+1],p=G[M+a],y=G[M+a+1],V=2+(Z>>>0&255)+(Q>>>0&255)+(p>>>0&255)+(y>>>0&255)>>>2,W=2+(Z>>>8&255)+(Q>>>8&255)+(p>>>8&255)+(y>>>8&255)>>>2,v=2+(Z>>>16&255)+(Q>>>16&255)+(p>>>16&255)+(y>>>16&255)>>>2,j=2+(Z>>>24&255)+(Q>>>24&255)+(p>>>24&255)+(y>>>24&255)>>>2;
R[m]=j<<24|v<<16|W<<8|V}return{rect:X,ab:w}};l.aqV=function(o,g,C){var a=g.m,x=g.n,K=2*Math.floor(a/3),h=2*Math.floor(x/3),X=new aS(g.x,g.y,K,h),w=C&&C.length==K*h*4?C:l.Z(K*h*4),G=new Uint32Array(o.buffer),R=new Uint32Array(w.buffer);
for(var d=0;d<h;d+=2)for(var q=0;q<K;q+=2){var m=d*K+q,M=(d*3>>>1)*a+(q*3>>>1),Z=G[M],Q=G[M+1],p=G[M+2],y=G[M+a],V=G[M+1+a],W=G[M+2+a],v=G[M+a+a],j=G[M+1+a+a],e=G[M+2+a+a],T=Z>>>24<<2,O=(Z>>>16&255)*T,L=(Z>>>8&255)*T,S=(Z&255)*T,$=Q>>>24<<1,H=(Q>>>16&255)*$,f=(Q>>>8&255)*$,F=(Q&255)*$,U=p>>>24<<2,r=(p>>>16&255)*U,E=(p>>>8&255)*U,k=(p&255)*U,P=y>>>24<<1,z=(y>>>16&255)*P,s=(y>>>8&255)*P,Y=(y&255)*P,t=V>>>24,n=(V>>>16&255)*t,J=(V>>>8&255)*t,I=(V&255)*t,fp=W>>>24<<1,cH=(W>>>16&255)*fp,b=(W>>>8&255)*fp,jL=(W&255)*fp,aq=v>>>24<<2,cJ=(v>>>16&255)*aq,aB=(v>>>8&255)*aq,au=(v&255)*aq,ea=j>>>24<<1,ax=(j>>>16&255)*ea,f1=(j>>>8&255)*ea,fk=(j&255)*ea,hF=e>>>24<<2,fm=(e>>>16&255)*hF,jE=(e>>>8&255)*hF,ff=(e&255)*hF,d5=T+$+P+t,eF=U+$+fp+t,gI=aq+ea+P+t,fE=hF+ea+fp+t,js=d5==0?0:1/d5,d8=eF==0?0:1/eF,bt=gI==0?0:1/gI,io=fE==0?0:1/fE,ha=0,dp=0,gS=0,aP=0;
ha=~~(.5+(S+F+Y+I)*js);dp=~~(.5+(L+f+s+J)*js);gS=~~(.5+(O+H+z+n)*js);aP=~~(.5+d5*(1/9));R[m]=aP<<24|gS<<16|dp<<8|ha;
ha=~~(.5+(k+F+jL+I)*d8);dp=~~(.5+(E+f+b+J)*d8);gS=~~(.5+(r+H+cH+n)*d8);aP=~~(.5+eF*(1/9));R[m+1]=aP<<24|gS<<16|dp<<8|ha;
ha=~~(.5+(au+fk+Y+I)*bt);dp=~~(.5+(aB+f1+s+J)*bt);gS=~~(.5+(cJ+ax+z+n)*bt);aP=~~(.5+gI*(1/9));R[m+K]=aP<<24|gS<<16|dp<<8|ha;
ha=~~(.5+(ff+fk+jL+I)*io);dp=~~(.5+(jE+f1+b+J)*io);gS=~~(.5+(fm+ax+cH+n)*io);aP=~~(.5+fE*(1/9));R[m+K+1]=aP<<24|gS<<16|dp<<8|ha}return{rect:X,ab:w}};
l.a7B=function(o,g,C){var a=g.m,x=g.n,K=2*Math.floor(a/3),h=2*Math.floor(x/3),X=new aS(g.x,g.y,K,h),w=C&&C.length==K*h*4?C:l.Z(K*h*4),G=new Uint32Array(o.buffer),R=new Uint32Array(w.buffer);
for(var d=0;d<h;d+=2)for(var q=0;q<K;q+=2){var m=d*K+q,M=(d*3>>>1)*a+(q*3>>>1),Z=G[M],Q=G[M+1],p=G[M+2],y=G[M+a],V=G[M+1+a],W=G[M+2+a],v=G[M+a+a],j=G[M+1+a+a],e=G[M+2+a+a],T=(Z>>>16&255)<<2,O=(Z>>>8&255)<<2,L=(Z&255)<<2,S=(Q>>>16&255)<<1,$=(Q>>>8&255)<<1,H=(Q&255)<<1,f=(p>>>16&255)<<2,F=(p>>>8&255)<<2,U=(p&255)<<2,r=(y>>>16&255)<<1,E=(y>>>8&255)<<1,k=(y&255)<<1,P=V>>>16&255,z=V>>>8&255,s=V&255,Y=(W>>>16&255)<<1,t=(W>>>8&255)<<1,n=(W&255)<<1,J=(v>>>16&255)<<2,I=(v>>>8&255)<<2,fp=(v&255)<<2,cH=(j>>>16&255)<<1,b=(j>>>8&255)<<1,jL=(j&255)<<1,aq=(e>>>16&255)<<2,cJ=(e>>>8&255)<<2,aB=(e&255)<<2,au=0,ea=0,ax=0;
au=~~(.5+(L+H+k+s)*(1/9));ea=~~(.5+(O+$+E+z)*(1/9));ax=~~(.5+(T+S+r+P)*(1/9));R[m]=255<<24|ax<<16|ea<<8|au;
au=~~(.5+(U+H+n+s)*(1/9));ea=~~(.5+(F+$+t+z)*(1/9));ax=~~(.5+(f+S+Y+P)*(1/9));R[m+1]=255<<24|ax<<16|ea<<8|au;
au=~~(.5+(fp+jL+k+s)*(1/9));ea=~~(.5+(I+b+E+z)*(1/9));ax=~~(.5+(J+cH+r+P)*(1/9));R[m+K]=255<<24|ax<<16|ea<<8|au;
au=~~(.5+(aB+jL+n+s)*(1/9));ea=~~(.5+(cJ+b+t+z)*(1/9));ax=~~(.5+(aq+cH+Y+P)*(1/9));R[m+K+1]=255<<24|ax<<16|ea<<8|au}return{rect:X,ab:w}};
l.er=function(o){var g=255,C=o.length;C-=C&31;for(var N=3;N<C;N+=32)g=g&o[N]&o[N+4]&o[N+8]&o[N+12]&o[N+16]&o[N+20]&o[N+24]&o[N+28];
return g!=255};l.a10=function(o,g,C,a){var x=l.yZ,K=l.aqV,X=0;if(!l.er(o)){x=l.FF;K=l.a7B}var h={ab:o,rect:g},w=C;
while(w<.499){X++;w*=2}for(var N=0;N<X;N++)h=x(h.ab,h.rect,a);if(w<.5001)h=x(h.ab,h.rect,a);else h=K(h.ab,h.rect,a);
return h};l.atr=function(o,g,C,a){var x=l.wP,K=l.Fw,h={ab:o,rect:g},X=0,w=C;while(w<.499){X++;w*=2}for(var N=0;
N<X;N++)h=x(h.ab,h.rect,a);if(w<.5001)h=x(h.ab,h.rect,a);else h=K(h.ab,h.rect,a);return h};l.wP=function(o,g,C){var a=g.m,x=g.n,K=a>>1,h=x>>1,X=new aS(g.x,g.y,K,h);
if(o==null)return{rect:X};var w=C&&C.length>=K*h?C:l.Z(K*h);for(var G=0;G<h;G++){var R=G*K;for(var d=0;
d<K;d++){var q=(G<<1)*a+(d<<1);w[R+d]=2+o[q]+o[q+1]+o[q+a]+o[q+a+1]>>>2}}return{rect:X,ab:w}};l.Fw=function(o,g,C){var a=g.m,x=g.n,K=2*Math.floor(a/3),h=2*Math.floor(x/3),X=new aS(g.x,g.y,K,h);
if(o==null)return{rect:X};var w=C&&C.length>=K*h?C:l.Z(K*h);for(var G=0;G<h;G+=2)for(var R=0;R<K;R+=2){var d=G*K+R,q=(G*3>>>1)*a+(R*3>>>1),m=o[q]<<2,M=o[q+1]<<1,Z=o[q+2]<<2,Q=o[q+a]<<1,p=o[q+1+a],y=o[q+2+a]<<1,V=o[q+a+a]<<2,W=o[q+1+a+a]<<1,v=o[q+2+a+a]<<2;
w[d]=~~(.5+(m+M+Q+p)*(1/9));w[d+1]=~~(.5+(Z+M+y+p)*(1/9));w[d+K]=~~(.5+(V+W+Q+p)*(1/9));w[d+K+1]=~~(.5+(v+W+y+p)*(1/9))}return{rect:X,ab:w}};
l.MD=function(o,g,C,a,x){var K=g.Kw(a);if(x)K=K.Kw(x);var h=Math.max(0,K.x-g.x),X=Math.max(0,K.x-a.x),w=Math.max(0,K.y-g.y),G=Math.max(0,K.y-a.y),R=K.m,d=K.n;
for(var N=0;N<d;N++){var q=(w+N)*g.m+h,m=(G+N)*a.m+X;C.set(new Uint8Array(o.buffer,q,R),m)}};l.S4=function(o,g,C,a){if(g.$s(a)){l.Oa(o,C,3);
return}var x=g.Kw(a),K=Math.max(0,x.x-g.x),h=Math.max(0,x.x-a.x),X=Math.max(0,x.y-g.y),w=Math.max(0,x.y-a.y),G=x.m,R=x.n;
for(var N=0;N<R;N++){var d=(X+N)*g.m+K,q=(w+N)*a.m+h;for(var m=0;m<G;m++)C[(q+m<<2)+3]=o[d+m]}};l.vb=function(o,g,C,a){var x=g.Kw(a),K=Math.max(0,x.x-g.x),h=Math.max(0,x.x-a.x),X=Math.max(0,x.y-g.y),w=Math.max(0,x.y-a.y),G=x.m,R=x.n;
for(var N=0;N<R;N++){var d=(X+N)*g.m+K,q=(w+N)*a.m+h;for(var m=0;m<G;m++)C[q+m]=o[(d+m<<2)+3]}};l.HT=function(o,g,C,a,x){if(g.$s(a)&&(x==null||x.$s(a))){l.j5(o,C);
return}o=new Uint32Array(o.buffer),C=new Uint32Array(C.buffer);var K=g.Kw(a);if(x)K=K.Kw(x);var h=Math.max(0,K.x-g.x),X=Math.max(0,K.x-a.x),w=Math.max(0,K.y-g.y),G=Math.max(0,K.y-a.y),R=K.m,d=K.n,q=R&3,m=q==0?R:R-q;
for(var N=0;N<d;N++){var M=(w+N)*g.m+h,Z=(G+N)*a.m+X;C.set(new Uint32Array(o.buffer,M*4,R),Z)}};l.eH=function(o,g,C,a){var x=g.Kw(a),K=Math.max(0,x.x-g.x),h=Math.max(0,x.x-a.x),X=Math.max(0,x.y-g.y),w=Math.max(0,x.y-a.y),G=x.m,R=x.n,d=o.Bk,q=o.z,m=o.B,M=o.K,Z=C.Bk,Q=C.z,p=C.B,y=C.K;
for(var N=0;N<R;N++){var V=(X+N)*g.m+K,W=(w+N)*a.m+h;for(var v=0;v<G;v++){Z[W+v]=d[V+v];Q[W+v]=q[V+v];
p[W+v]=m[V+v];y[W+v]=M[V+v]}}};l.Cf=function(o){var g=o.length;for(var N=0;N<g;N+=4){var C=o[N+3];if(C==255)continue;
o[N]=~~(o[N]*C*(1/255)+.5);o[N+1]=~~(o[N+1]*C*(1/255)+.5);o[N+2]=~~(o[N+2]*C*(1/255)+.5)}};l.kr=function(o){var g=o.length;
for(var N=0;N<g;N+=4){var C=o[N+3];if(C==0||C==255)continue;var a=255/C;o[N]=~~(o[N]*a+.5);o[N+1]=~~(o[N+1]*a+.5);
o[N+2]=~~(o[N+2]*a+.5)}};l.jN=function(o,g){for(var N=0;N<o.length;N++)if(o[N]!=g)return!1;return!0};
l.cL=function(o){return o+1+(o>>>8)>>>8};l.round=function(o,g){if(g==null)g=128;var C=o.length;for(var N=0;
N<C;N++)o[N]=o[N]<g?0:255};l.QK=function(o,g){var C=o.length;for(var N=0;N<C;N++)o[N]=Math.round(o[N]*g)};
l.BX=function(o,g){var C=new Uint32Array(o.buffer),a=new Uint32Array(g.buffer),x=C.length;for(var N=0;
N<x;N++){var K=C[N],h=a[N];a[N]=l.cL((K>>>24)*(h>>>24))<<24|l.cL((K>>>16&255)*(h>>>16&255))<<16|l.cL((K>>>8&255)*(h>>>8&255))<<8|l.cL((K&255)*(h&255))}};
l.v6=function(o,g){var C=o.length;for(var N=0;N<C;N++)g[(N<<2)+3]=l.cL(g[(N<<2)+3]*o[N])};l.a4u=function(o,g,C,a){var x=Math.max(0,a.x-g.x),K=Math.max(0,g.x-a.x),h=Math.max(0,a.y-g.y),X=Math.max(0,g.y-a.y),w=Math.min(g.x+g.m,a.x+a.m)-Math.max(g.x,a.x),G=Math.min(g.y+g.n,a.y+a.n)-Math.max(g.y,a.y);
for(var N=0;N<G;N++){var R=(h+N)*g.m+x,d=(X+N)*a.m+K;for(var q=0;q<w;q++){C[d]=l.cL(C[d]*o[R]);R++;d++}}};
l.Mz=function(o,g,C,a){var x=Math.max(0,a.x-g.x),K=Math.max(0,g.x-a.x),h=Math.max(0,a.y-g.y),X=Math.max(0,g.y-a.y),w=Math.min(g.x+g.m,a.x+a.m)-Math.max(g.x,a.x),G=Math.min(g.y+g.n,a.y+a.n)-Math.max(g.y,a.y);
for(var N=0;N<G;N++){var R=(h+N)*g.m+x,d=((X+N)*a.m+K<<2)+3;for(var q=0;q<w;q++){C[d]=l.cL(C[d]*o[R]);
R++;d+=4}}};l.py=function(o,g,C,a){var x=Math.max(0,a.x-g.x),K=Math.max(0,g.x-a.x),h=Math.max(0,a.y-g.y),X=Math.max(0,g.y-a.y),w=Math.min(g.x+g.m,a.x+a.m)-Math.max(g.x,a.x),G=Math.min(g.y+g.n,a.y+a.n)-Math.max(g.y,a.y);
for(var N=0;N<G;N++){var R=((h+N)*g.m+x<<2)+3,d=((X+N)*a.m+K<<2)+3;for(var q=0;q<w;q++){C[d]=l.cL(C[d]*o[R]);
R+=4;d+=4}}};l.pm=function(o){var g=new Float64Array(256),C=new Float64Array(256),a=new Float64Array(256),x=new Float64Array(256),K=o.length,h=0;
for(var N=0;N<K;N+=4){var X=o[N+0],w=o[N+1],G=o[N+2],R=o[N+3],d=R*(1/255);C[X]+=d;a[w]+=d;x[G]+=d;h+=R}for(var N=0;
N<256;N++)g[N]=C[N]+a[N]+x[N];return[g,C,a,x,K>>>2,h/255]};l.UQ=function(o,g){function C(j,e){var T=-1,O=0;
while(O<=e){T++;O+=j[T]}return T}function a(j,e){var T=256,O=0;while(O<=e){T--;O+=j[T]}return T}function x(j){var e=0,T=0;
for(var N=0;N<256;N++){T+=j[N];e+=j[N]*N*(1/255)}return e/T}var K=o[0],h=o[1]/100,X=o[2]/100,w=[],G=[];
for(var N=0;N<4;N++){var R=N==0?3:1;w[N]=C(g[N],R*h*g[5]);G[N]=a(g[N],R*X*g[5])}var d=[x(g[1]),x(g[2]),x(g[3])],q=d.slice(0);
q.sort(function(j,e){return j-e});var m=d.indexOf(q[1]),M=(d[0]+d[1]+d[2])/3,Z=[];for(var N=0;N<4;N++){var Q=0,p=255,y=w[N],V=G[N];
if(K==0&&N==0){Q=y;p=V}if(K==1&&N!=0){Q=y;p=V}if(K==2&&N!=0){var R=d[N-1]/M;p=Math.max(0,Math.min(255,G[m]*R))}var W=[Q,p];
Z.push(W);if(K==3&&N==0){var v=255*(1-M);W.push(v)}}return Z};l.AA=function(o,g){var C=new Uint32Array(o.buffer),a=C.length;
for(var N=0;N<a;N++){var x=C[N],K=x&255,h=x>>8&255,X=x>>16&255,w=x>>24&255;C[N]=g[K]|g[h]<<8|g[X]<<16|g[w]<<24}};
l.a68=function(o,g,C,a,x,K,h){var X=new Uint32Array(o.buffer),w=new Uint32Array(g.buffer),G=X.length,R=0;
while(256<<R<C.length)R++;if(!h&&!K){for(var N=0;N!=G;N++){var d=X[N],q=(d&255)<<R,m=(d>>>8&255)<<R,M=(d>>>16&255)<<R,Z=C[q],Q=a[m],p=x[M];
w[N]=Z|Q<<8|p<<16|d&4278190080}return}for(var N=0;N<G;N++){var d=X[N],q=(d&255)<<R,m=(d>>>8&255)<<R,M=(d>>>16&255)<<R;
if(K)q=m=M=Math.round(q*.3+m*.59+M*.11);var Z=C[q],Q=a[m],p=x[M];if(h){var y=l.mD(q,m,M),V=l.mD(Z,Q,p);
if(y>V){var W=(y-V)/(255-V);Z+=W*(255-Z);Q+=W*(255-Q);p+=W*(255-p)}else if(V==0)Z=Q=p=0;else{var W=y/V;
Z=W*Z;Q=W*Q;p=W*p}}w[N]=Z|Q<<8|p<<16|d&4278190080}};l.Wx=function(o,g){var C=g.m,a=g.n,top=0,x=0,K=0,h=0,X=0;
X=0;for(var w=0;w<a;w++){var G=w*C;for(var N=0;N<C;N++)X|=o[G+N];if(X!=0)break;top++}if(top==a)return new aS(0,0,0,0);
X=0;for(var w=a-1;w>=0;w--){var G=w*C;for(var N=0;N<C;N++)X|=o[G+N];if(X!=0)break;K++}var R=a-K;X=0;
for(var N=0;N<C;N++){for(var w=top;w<R;w++)X|=o[w*C+N];if(X!=0)break;x++}X=0;for(var N=C-1;N>=0;N--){for(var w=top;
w<R;w++)X|=o[w*C+N];if(X!=0)break;h++}var d=new aS(g.x+x,g.y+top,C-x-h,a-top-K);return d};l.AQ=function(o,g,C,a){if(a==null)a=[!0,!0,!0,!0];
if(C==null)C=0;var x=new Uint32Array(o.buffer),K=g.m,h=g.n,top=0,X=0,w=0,G=0,R=!1,d=[x[0],x[x.length-1],0][C];
R=!1;if(a[0])for(var q=0;q<h;q++){var m=q*K;for(var N=0;N<K;N++)if(x[m+N]!=d)R=!0;if(R)break;top++}R=!1;
if(a[2])for(var q=h-1;q>=0;q--){var m=q*K;for(var N=0;N<K;N++)if(x[m+N]!=d)R=!0;if(R)break;w++}R=!1;
if(a[1])for(var N=0;N<K;N++){for(var q=0;q<h;q++)if(x[q*K+N]!=d)R=!0;if(R)break;X++}R=!1;if(a[3])for(var N=K-1;
N>=0;N--){for(var q=0;q<h;q++)if(x[q*K+N]!=d)R=!0;if(R)break;G++}var M=new aS(g.x+X,g.y+top,K-X-G,h-top-w);
return M.to()?new aS(0,0,0,0):M};l.T3=function(o){var g=l.Wx(o.channel,o.rect);if(g.$s(o.rect))return;
var C=l.Z(g.$());l.MD(o.channel,o.rect,C,g);o.channel=C;o.rect=g};l.JF=function(o){var g=l.Z(o.buffer.length>>2);
l.eP(o.buffer,g,3);var C=l.Wx(g,o.rect);if(C.$s(o.rect))return;var a=new l.Z(C.$()*4);l.HT(o.buffer,o.rect,a,C);
o.buffer=a;o.rect=C};l.extend=function(o,g,C){if(o.rect.Xq(g))return;var a=o.rect.ae(g),x=l.Z(a.$());
if(C!=null)x.fill(C);l.MD(o.channel,o.rect,x,a);o.rect=a;o.channel=x};l.a1v=function(o,g){if(g.to()||o.rect.Xq(g))return;
var C=o.rect.ae(g),a=l.Z(C.$()*4);l.HT(o.buffer,o.rect,a,C);o.rect=C;o.buffer=a};l._9=function(o,g,C){if(!C.Yo(o))return!1;
var a=Math.floor(o.x)-C.x,x=Math.floor(o.y)-C.y,N=x*C.m+a;return g[N]>128};l.asB=function(o,g,C){if(!C.Yo(o))return!1;
var a=Math.floor(o.x)-C.x,x=Math.floor(o.y)-C.y,N=x*C.m+a;return g[4*N+3]>128};l.Cz=function(o){if(l.cX.length<o){l.cX=l.Z(o);
l.cX.fill(255)}return l.cX};l.cX=l.Z(0);l.oX=function(o){if(l.zB.length<o)l.zB=l.Z(o);return l.zB};l.zB=l.Z(0);
l.ib=function(o){this.Bk=l.Z(o);this.z=l.Z(o);this.B=l.Z(o);this.K=l.Z(o)};l.ib.prototype.clone=function(){var o=this.Bk.length,g=new l.ib(1);
g.Bk=this.Bk.slice(0);g.z=this.z.slice(0);g.B=this.B.slice(0);g.K=this.K.slice(0);return g};l.U.a8Q=function(o,g,C,a,x){var K=x[0]+1,h=x[1],X=Math.abs(h-25)/4,w=x[2],G=w%2+w*w>>1,R=l.U.Y;
R.m3(g,C);var d=R.Ki(1),q=R.Ki(1),m=R.Ki(1);R.j1(o,a,w,w,G);R.Ox(a);R.ob(a,d);R.Yj(d,q,K,K,1);R.Yj(d,m,K,K,K*K);
R.sub(m,q);R.BX(q,X);(h<25?R.sub:R.add)(d,q);R.t0(q,a);R.jO(a)};l.U.alg=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=x[0]*2.55,X=x[1],w=X>>1,G=x[2]*.25,R=K.Ki(4),d=K.Ki(1),q=K.Ki(1);K.hv(o,R,X,1,!0,w);
K.hv(o,a,X,1,!1,w);K.Sw(o,d);K.r5(d,h);K.xs(d,q,3);K.LM(a,q,R);K.VH(R,a,G)};l.U.awH=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);K.JO(x[3]);var h=x[0]*-3+80,X=x[1]*-3+80,w=x[2]/2+.5,G=x[4],R=x[5],d=K.Ki(1),q=K.Ki(1),m=K.Ki(1),M=K.Ki(1),Z=K.Ki(4),Q=K.Ki(4);
K.Sw(o,d);K.j5(d,q);K.oq(d,X,5);K.Z4(d,.4,0);K.xs(d,m,3);K.Cj(m,d,9,3,!0,27);K.j5(q,m);K.rq(m);var p=K.MU(h,5,m);
for(var N=0;N<K.va;N++){q[N]=p[255-q[N]]}K.Z4(q,.4,0);K.j5(q,m);K.xs(m,M,2);K.Cj(M,m,5,3,!1,15);K.BX(d,w);
K.BX(m,w);K.WL(a,2155905279);K.WL(Q,G);K.WL(Z,R);K.LM(Q,d,a);K.LM(Z,m,a)};l.U.abj=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=new Uint8Array(256),X=5+10*x[1];X+=x[1]>3?(x[1]-3)*10:0;var w=~~(x[2]*.73)+50,G=Math.min(w+X,128),R=G-w,d=-255*w;
for(var N=0;N<256;N++){var q=N*65;h[N]=K.Dx(d/R);d+=255}var m=K.Ki(1),M=K.Ki(1),Z=K.Ki(1);K.Sw(o,m);
K.j5(m,Z);K.xs(m,M,2*x[0]+1);K.sub(M,m);K.BX(m,65);K.Cj(m,M,9,3,!0,20);for(var N=0;N<K.va;N++){var Q=Z[N],p=M[N];
m[N]=p>0?~~((p*Q+(255-p)*128)/255):128}K.xs(m,M,3);K.Cj(M,m,15,2,!0,16);K.Cj(M,Z,15,2,!1,15);K.Xd(m,Z);
K.Kl(Z,M,2);K.EZ(M,h);K.xs(M,m,2);K.dC(m,a)};l.U.aiq=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);var h=2*x[0]+1,X=K.$y[x[1]],w=x[2]*5.1,G=x[3],R=K.Ki(1),d=K.Ki(1),q=K.Ki(4),m=K.Ki(4);
K.WL(q,G);K.Ox(q,a);K.ni(R,w);K.t0(R,a);K.jO(a,q);K.Sw(o,d);K.xs(d,R,h);K.sub(R,d);K.BX(d,X);K.Cj(d,R,9,3,!0,20);
K.LM(o,R,q);K.Z1(q,a,3);K.hv(a,q,15,2,!0,16);K.hv(a,m,15,2,!1,16);K.Xd(q,m);K.VH(m,a,2)};l.U.ad_=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=(15-x[0])/4+1,X=(15-x[1])/4+1,w=x[2],G=x[3],R=K.zh(x[4]),d=x[5]+1,q=x[6],m=x[7],M=x[8],Z=K.Ki(1),Q=K.Ki(1),p=K.Ki(1),y=K.Ki(1),V=K.Ki(4),W=K.Ki(4);
K.wM(p,w,G,q);K.Sw(o,Q);K.xs(Q,Z,5);K.YP(p,Z,y,d,R);K.BX(y,h);K.mU(y,2);K.rq(Z);K.YP(p,Z,Q,d,R);K.BX(Q,X);
K.mU(Q,2);K.WL(V,2155905279);K.WL(W,m);K.WL(a,M);K.LM(V,Q,W);K.LM(W,y,a)};l.U.a7A=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);K.JO(x[3]);var h=x[0],X=x[1]/10,w=x[2]/10,G=K.Ki(1),R=K.Ki(1),d=K.Ki(1),q=K.Zt(),m=K.Zt(),M=K.Zt();
K._1(G);K.xs(G,R,11);K.xs(R,G,11);K.IP(G,q);K.mv(o,G);K.j5(G,d);K.xs(G,R,9);K.xs(R,G,9);K.IP(G,m);K.xe(m,M,5);
K.xe(M,m,5);K.lX(q,.8);K.aws(q,m,.8,.9);K.rE(m,G,h);K.Yj(G,R,2,2,1);K.Yj(R,G,2,2,3);K.Yj(G,R,2,2,3);
K.Yj(d,G,5,5,13);K.W$(R,G,R,X);K.dV(G,R,R,w);K.YP(R,R,G,5,1);K.Ox(o,a);K.t0(G,a);K.jO(a)};l.U.a5N=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=x[0],X=x[1]/2,w=x[2],G=h/2,R=K.Ki(4),d=K.Ki(4);K.j5(o,a);for(var q=0;q<w;q++){K.hv(a,R,h,1,!0,G);
K.hv(a,d,h,1,!1,G);K.Xd(d,R);K.Z1(R,d,2);K.VH(d,a,X)}};l.U.aqy=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);
var h=x[0]*10,X=x[1]*4.9,w=x[2]*4.9,G=K.Ki(1),R=K.Ki(1),d=K.Ki(4),q=K.Ki(4);K.Sw(o,G);K.r5(G,K.aeS(G,h));
K.xs(G,R,3);K.hv(o,d,5,1,!1,1);K.hv(o,a,15,2,!0,16);K.LM(a,R,d);K.Ox(d,a);K.ob(a,G);K.oq(G,X,w);K.t0(G,a);
K.jO(a)};l.U.akW=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);K.JO(x[4]);var h=x[0]/20,X=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][x[1]],w=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][x[2]],G=x[3],R=new Int16Array(256);
for(var N=0;N<256;N++){R[N]=~~((N-128)*h)}var d=K.Ki(1),q=K.Ki(1),m=K.Ki(4);K.Sw(o,d);K.xs(d,q,25);K.BX(q,X);
K.mU(q,w);K.xs(q,d,25);K._1(q);K.uS(d,q,R);K.j5(o,a);K.WL(m,G);K.LM(m,d,a)};l.U.a8z=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=x[0]+5,X=15-x[1],w=h*h/2,G=1-(3-x[2])/10,R=~~(X*X*G-1),d=~~(X*X*(1-G));if(d==0)d=1;var q=K.Ki(1),m=K.Ki(1),M=K.Ki(1),Z=K.Ki(4);
K.Sw(o,M);K.Yj(M,q,h,h,w);K.xs(M,m,h);K.sub(q,m);K.r5(m,1);K.j1(o,Z,X,X,R);K.j1(o,a,X,X,d);K.LM(Z,m,a)};
l.U.adt=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);K.JO(x[3]);var h=(20-x[0])*.05,X=x[1]*-2.75+60,w=65-X,G=x[2]/10,R=K.Ki(1),d=K.Ki(1);
K.mv(o,d);var q=K.MU(X,w,d);K.Ox(o,a);K.ob(a,d);K._1(R);K.mo(d,R,h);K.EZ(d,q);K.BX(d,x[2]/10);K.add(R,d);
K.t0(d,a);K.jO(a)};l.U.akF=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);var h=5+x[0],X=15-x[1],w=x[2],G=h*h/2+h*h%2*1,R=1-(3-x[2])/10,d=~~(X*X*R-1),q=~~(X*X*(1-R));
if(q==0)q=1;var m=K.Ki(1),M=K.Ki(1),Z=K.Ki(1),Q=K.Ki(1),p=K.Ki(1);K.mv(o,M);K.Kl(M,m,3);K.Yj(m,M,2,2,1);
var y=K.MU(20,20,M);K.EZ(M,y);K.xs(M,p,5);K.Yj(p,m,h,h,G);K.Yj(p,M,X,X,d);K.Yj(p,Z,X,X,q);K.xs(p,Q,h);
K.sub(m,Q);K.r5(Q,1);K.z0(M,Q,Z);K.Ox(o,a);K.t0(Z,a);K.jO(a)};l.U.aoB=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);K.JO(x[5]);var h=K.va,X=K.Yq,w=x[0],G=x[1],R=x[2],d=x[3],q=x[4],m=.05*w+1,M=w/100,Z=w>>1,Q=2*w-100,p=+(G==9),y=+(G==7),V=[4,1][p],W=[3,2][p],v=[1,2][y],j=[2,1][y],e=[50,75][p],T=G<4?R:(R>>1)+50,O=K.AP(e,T),L=K.m0(d),S=K.m0(q),$=K.Ki(4),H=K.Ki(4),f=K.Ki(1),F=K.Ki(1);
function U(a,O){if(T!=50){K.a_(a,O)}}function r(o,cH){for(var N=0;N<h;N++){o[N]=K.Dx(o[N]+(cH[N]-128)*M)}}function E(o,cH){for(var N=0,b=0;
N<h;N++){o[b]=K.Dx(o[b]+(cH[b]-128)*M);o[b+1]=K.Dx(o[b+1]+(cH[b+1]-128)*M);o[b+2]=K.Dx(o[b+2]+(cH[b+2]-128)*M);
b+=4}}function k(o,a){K._1(H);K.j5(o,a);E(a,H);U(a,O)}function P(cH){var b=0;for(var jL=0;jL<12;jL++)b+=K.random();
return K.Dx(Z*(b-6)+cH)}function z(o,a){K.j5(o,a);for(var N=0;N<X;N+=4){a[N]=P(a[N]);a[N+1]=P(a[N+1]);
a[N+2]=P(a[N+2])}U(a,O)}function s(o,a){K.j5(o,a);for(var N=0;N<X;N+=4){if(K.random()<M){a[N]=L[0];a[N+1]=L[1];
a[N+2]=L[2]}}U(a,O)}function Y(o,a){K._1($);K.j1($,H,W,W,V);K.j5(o,$);E($,H);K.j1($,a,5,5,13);U(a,O)}function t(o,a){K._1(H);
K.j5(o,$);E($,H);U(a,O);K.j1($,a,W,W,V)}function n(o,a){K.j5(o,$);U(a,O);K.Sw($,f);for(var N=0,cH=0;
N<h;N++){var b=((Q-f[N]+255)*128.5+.5)/32767;if(K.random()<=b){a[cH++]=S[0];a[cH++]=S[1];a[cH++]=S[2]}else{a[cH++]=L[0];
a[cH++]=L[1];a[cH++]=L[2]}a[cH]=o[cH];cH++}}function J(o,a){K.Ox(o,a);K.ob(a,f);K.Kl(f,F,m);K.Yj(F,f,W,W,V);
K.EZ(f,O);K.t0(f,a);K.jO(a)}function I(o){var cH=0;if(G==8){for(var b=0;b<g;b++){o[cH++]=~~(K.random()*255)}for(var N=1;
N<C;N++){for(var b=0;b<g;b++){o[cH++]=o[b]}}}else{for(var N=0;N<C;N++){var jL=~~(K.random()*255);for(var b=0;
b<g;b++){o[cH++]=jL}}}}function fp(o,a){K.Sw(o,f);K._1(F);r(f,F);I(F);r(f,F);K.Z1(o,$,9);K.Z1($,H,9);
K.xs(f,F,2);K.EZ(F,O);K.xs(F,f,2);K.Ox(H,a);K.t0(f,a);K.jO(a)}[k,z,s,Y,Y,t,n,fp,fp,J][G](o,a)};l.U.atv=function(o,g,C,a,x){var K=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],h=l.U.Y,Z=0,Q,N,v,j,e,T=0,O=1,L=255;
h.m3(g,C);h.JO(x[3]);var X=h.Ki(1),w=h.Ki(1);h.Sw(o,X);var G=x[0],R=x[1],d=R<=50?K[R]/255:1+(255-K[101-R])/255,q=x[2],m=X.length,M=new Float32Array(m),p=1+1/10*G,y=(1-1/p)/2,V=16/256,W=g-1;
for(N=0;N<h.va;N++){M[N]=X[N]/255;w[N]=G==1?h.random()<1/255?L:O:O}function S($,H){var f=$*g+H;if(w[f]!=O||$>=C||H>=g){return}var j=M[f],F=d-j,U=h.random(),r=U/p+y;
if(Z==0||Math.abs(e-j)>V){Q=r<=F?T:L;Z=~~(h.random()*G)}else if(.1<U){Z--}else{Z=0}w[f]=Q;e=j}if(q==0){for(N=0;
N<g;N++){for(v=0;v<g;v++){j=N+v;if(j>=g)break;S(v,W-j)}Z=0}for(N=1;N<C;N++){for(v=0;v<C;v++){j=N+v;if(j>=C||v>=g)break;
S(j,W-v)}Z=0}}else if(q==1){for(N=0;N<C;N++){for(v=0;v<g;v++){S(N,v)}Z=0}}else if(q==2){for(N=0;N<g;
N++){for(v=0;v<g;v++){j=N+v;if(j>=g)break;S(v,j)}Z=0}for(N=1;N<C;N++){for(v=0;v<C;v++){j=N+v;if(j>=C||v>=g)break;
S(j,v)}Z=0}}else{for(N=0;N<g;N++){for(v=0;v<C;v++){S(v,N)}Z=0}}h.dC(w,a)};l.U.a7q=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=x[0],X=x[1],w=x[2],G=K.Ki(1),R=K.Ki(1),d=K.Ki(1),q=K.Ki(4),m=K.Ki(4);K.Sw(o,G);K.Yj(G,R,3,3,1);
K.Yj(G,d,3,3,9);K.sub(d,R);K.xs(R,G,3);K.oq(G,40,10);K.hv(o,a,h,2,!1,h);K.hv(o,q,h,2,!0,h);K.WL(m,255);
K.LM(a,G,m);K.LM(m,G,q);K.VH(q,a,1);K.Ox(a);K.ob(a,G);K.oq(G,X,w);K.t0(G,a);K.jO(a)};l.U.aq3=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);K.JO(x[3]);var h=x[0],X=x[1],w=x[2]/10;h=h+X;var G=K.Ki(1),R=K.Ki(1),d=K.Zt(),q=K.Zt();K._1(G);
K.xs(G,R,11);K.xs(R,G,11);K.IP(G,d);K.xe(d,q,5);K.xe(q,d,5);K.lX(q,.97);K.rE(q,G,h);K.Yj(G,R,X,X,1);
K.mv(o,G);K.W$(R,G,R,.6);K.dV(G,R,R,w);K.YP(R,R,G,5,1);K.Ox(o,a);K.t0(G,a);K.jO(a)};l.U.aul=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=Math.abs(x[0]),X=h+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][h],w=2*h+1,G=x[1]/10,R=G*13/15,d=K.Ki(1),q=K.Ki(1),m=K.Ki(1),M=K.Ki(1),Z=K.Ki(4),Q=K.Ki(4),p=K.Ki(4),y=K.Ki(4),V=K.Ki(4);
K.Sw(o,d);if(x[0]>=0){K.rq(d)}K.j5(d,m);K.xs(d,M,X);K.xs(M,d,X);K.BX(d,G);K.j5(d,q);K.xs(d,M,w);K.xs(M,d,w);
K.BX(d,R);K.WL(p,x[2]);K.WL(y,x[3]);K.WL(V,x[4]);K.LM(p,d,y,Z);K.LM(V,q,Z,Q);K.LM(y,m,Q,a);K.ob(o,m,3);
K.t0(m,a,3)};l.U.a6e=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);K.JO(x[5]);var h=x[0]*5.1,X=x[1]/100,w=K.cz[x[2]],G=K.Ki(1),R=K.Ki(1),d=K.Ki(1);
K.Sw(o,G);K.ni(R,255);K._1(d);K.r5(G,h);K.mo(R,G,.7);K.mo(d,G,X);K.YP(G,G,R,5,w);K.j5(o,a);K.a7k(a,h,x[4],x[3]);
K.Ox(a);K.t0(R,a);K.jO(a)};l.U.aqE=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);var h=x[0],X=4-x[1],w=11-x[2],G=K.Ki(1),R=K.Ki(1),d=K.Ki(4);
K.mv(o,R);for(var N=0;N<X;N++){K.j5(R,G);K.Wi(G,R,h,h)}K.Z1(o,d,h);K.Ox(d,d);K.t0(R,d);K.jO(d,d);(w<11?K.ah6:K.j5)(d,a,w)};
l.U.amJ=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);K.JO(x[2]);var h=x[0]+5,X=~~(h/5+1),w=~~(h/2)+1,G=w*w,R=~~(h/3),d=K.cz[x[1]],q=new Array(256);
for(var N=0;N<256;N++){q[N]=~~(.2*(N-128))}var m=K.Ki(1),M=K.Ki(1);K.alp(o,a,h);K.Ox(a);K.ob(a,m);K._1(M);
K.uS(m,M,q);K.au_(M,h,h,X,X);K.W$(m,M,m,1);K.xs(m,M,R);K.xs(M,m,R);K.Yj(m,M,w,w,G);K.YP(M,M,m,5,d);K.t0(m,a);
K.jO(a)};l.U.ads=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);var h=K.Ki(1),X=K.Ki(1),w=K.Ki(1),G=K.Zt(),R=K.Zt();
K.Sw(o,h);K.xs(h,X,x[2]);K.r5(X,x[0]*5.1);K.Yj(X,h,2,2,4);K.xs(h,X,3);K.xs(X,h,3);K.j5(h,w);K.xs(h,X,5);
K.xs(X,h,5);K.IP(h,G);K.xe(G,R,5);K.xe(R,G,5);K.a9B(G,X,x[1]);K.rq(X);K.W$(w,X,w,1);K.dC(w,a)};l.U.apj=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=1<<7-x[2],X=K.Ki(1),w=K.Ki(1),G=K.Ki(1);K.mv(o,w);K.xs(w,X,3);K.j5(X,w);K.xs(X,G,x[0]+5);
K.sub(G,w);K.oq(w,1,x[1]);K.BX(X,1/h);K.BX(X,h);K.sub(X,w);K.Ox(o,a);K.t0(w,a);K.jO(a)};l.U.axp=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);K.JO(x[3]);var h=K.Ki(1),X=K.Ki(1),w=K.Ki(1);K.Sw(o,h);K.aeK(X,x[0]/50);K.xs(X,w,3);K.Yj(h,X,9,9,41);
K.oq(X,x[1],x[2]);K.W$(X,w,w,.75);K.dV(X,w,X,.5);K.j5(X,h);K.Yj(h,w,3,3,8);K.W$(w,X,w,.75);K.BX(w,1.2);
K.Kl(w,h,1);K.xs(h,w,2);K.Kl(w,h,2);K.BX(h,1.2);K.xs(h,w,2);K.dC(w,a)};l.U.aw2=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=x[0]+9,X=x[1]/2,w=x[2],G=x[3],R=K.zh(x[4]),d=x[5]+1,q=x[6],m=K.Ki(1),M=K.Ki(1),Z=K.Ki(4),Q=K.Ki(4);
K.wM(M,w,G,q);K.Ao(o,a,h,1,1);K.Ao(a,Z,h,1,1);K.a8k(Z,Z,Q,7,X);K.BX(Q,1.2);K.mU(Q,1.2);K.YP(M,m,m,d,R);
K.BX(m,3);K.j5(o,a);K.LM(Q,m,a)};l.U.asT=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);K.JO(x[3]);var h=x[0]+4,X=h*2/5+(h%5|0);
h--;var w=x[1]*-2.75+60,G=65-w,R=x[2]/10,d=K.Ki(1),q=K.Ki(1);K._1(d);K.mv(o,q);var m=K.MU(w,G,q);K.Ox(o,a);
K.ob(a,q);K.mo(q,d,.8);K.EZ(q,m);K.BX(q,R);K.add(d,q);K.Cj(q,d,h,3,!1,X);K.t0(d,a);K.jO(a)};l.U.a3H=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);K.JO(x[3]);var h=x[0]+5,X=(h*h>>1)+h%2,w=x[1]/10,G=x[2],R=(G*G>>1)+G%2,d=K.Ki(1),q=K.Ki(1),m=K.Ki(1),M=K.Ki(4),Z=K.Ki(4),Q=K.Ki(4);
K._1(m);K.Ox(o,Q);K.ob(Q,d);K.mo(d,m,.8);K.xs(m,d,3);K.Kl(d,m,w);K.t0(m,Q);K.jO(Q,Q);K.Sw(Q,m);K.Yj(m,d,h,h,X);
K.xs(m,q,h);K.sub(d,q);K.r5(q,1);K.j1(Q,M,7,7,40);K.j1(Q,Z,7,7,10);K.LM(M,q,Z);K.j1(Z,a,G,G,R)};l.U.aaI=function(o,g,C,a,x){var K=l.U.Y,X=255,N,G;
K.m3(g,C);var h=x[0];if(h<2)X=h;else if(h<12)X=5*h-5;else if(h<47)X=2*h+28;else if(h<50){N=h-47;X=125+12.5*N+12.5*N*N}var w=new Uint8Array(256);
for(N=75,G=15;N<256;N++,G+=24)w[N]=Math.min(255,G);var R=K.Ki(1),d=K.Ki(1),q=K.Ki(1);K.Sw(o,R);K.xs(R,d,11);
K.xs(d,q,11);K.sub(q,R);K.BX(R,8);K.sub(q,R);K.r5(R,X);K.rq(R);K.xs(R,d,5);K.r5(d,51);K.xs(d,R,x[1]);
K.xs(R,d,x[1]);K.rq(d);K.EZ(d,w);K.dC(d,a)};l.U.adf=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);var h=K.$y[x[1]],X=x[2],w=X*1.5,G=K.Ki(1),R=K.Ki(1),d=K.Ki(1);
K.mv(o,G);K.Cj(G,R,15,2,!0,15);K.j5(R,d);K.oq(d,X,w);K.xs(d,G,3);K.xs(R,d,x[0]);K.sub(d,R);K.BX(R,h);
K.sub(G,R);K.xs(R,G,3);K.Cj(G,R,3,1,!1,1);K.Z1(o,a,15);K.Ox(a);K.t0(R,a);K.jO(a)};l.U.anj=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);K.JO(x[3]);var h=x[0]*5.1,X=16-x[1],w=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][x[2]],G=K.Ki(1),R=K.Ki(1),d=K.Ki(1);
K.Sw(o,G);K.r5(G,h);K.xs(G,R,X);K.xs(R,G,X);K._1(d);K.dV(G,d,d,1);K.W$(G,d,G,.75);K.BX(G,w);K.mU(G,w);
K.Yj(G,R,2,2,2);K.dC(R,a)};l.U.afJ=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);var h=x[0]+9,X=x[1]+9,w=x[2],G=x[3],R=K.zh(x[4]),d=x[5]+1,q=x[6],m=K.Ki(1),M=K.Ki(1),Z=K.Ki(1),Q=K.Ki(1),p=K.Ki(1),y=K.Ki(4);
K.mv(o,m);K.Wi(m,Z,h,h);K.xs(Z,m,X);K.j5(Z,p);K.j5(m,Q);K.sub(p,Q);K.sub(m,p);K.add(p,Q);K.BX(Q,10);
K.wM(M,w,G,q);K.YP(M,m,p,d,R);K.z0(p,Q,Z,.8);K.Z1(o,y,9);K.Z1(y,a,9);K.Ox(a);K.t0(Z,a);K.jO(a)};l.U.ax1=function(o,g,C,a,x){var K=l.U.Y;
K.m3(g,C);var h=16-x[0],X=x[1]*8,w=1-(3-x[2])/10,G=~~(h*h*w-1),R=~~(h*h*(1-w));if(R==0)R=1;var d=K.Ki(1),q=K.Ki(1),m=K.Ki(1),M=K.Ki(4);
K.Sw(o,m);K.Yj(m,d,7,7,25);K.xs(m,q,7);K.sub(d,q);K.r5(q,1);K.j1(o,M,h,h,G);K.j1(o,a,h,h,R);K.LM(M,q,a);
K.Ox(a);K.ob(a,d);K.Yj(d,m,3,3,1);K.Yj(d,q,3,3,9);K.sub(q,m);K.j5(m,q);K.sub(d,m);K.sub(m,q);K.Yj(q,d,3,3,8);
K.oq(d,X,1);K.t0(d,a);K.jO(a)};l.U.agy=function(o,g,C,a,x){var K=l.U.Y;K.m3(g,C);K.JO(x[3]);var h=x[0],X=x[1],w=x[2],G=h>>1,R=Math.max(~~(h/5),1),d=Math.max(~~(h*2/3),1),q=K.AP(X,w),m=K.Ki(1),M=K.Ki(1),Z=K.Ki(1),Q=K.Ki(1),p=K.Ki(4);
K.mv(o,m);K.yN(2147483647,4,2,2,0,255,M);K.yN(4,2147483647,2,2,0,255,Q);K._1(Z);K.dV(M,Z,M,1);K.dV(Q,Z,Q,1);
K.dV(M,m,M,1);K.dV(Q,m,Q,1);K.Z1(o,p,G);K.Z1(p,a,G);K.Yj(M,m,1,h,R);K.Yj(m,M,3,h,d);K.Yj(Q,m,h,1,R);
K.Yj(m,Q,h,3,d);K.Xd(M,Q);K.Ox(a);K.t0(Q,a);K.jO(a);K.a_(a,q)};l.U.Y={};l.U.Y.MI=0;l.U.Y.fB=0;l.U.Y.va=0;
l.U.Y.ED=0;l.U.Y.Yq=0;l.U.Y.m3=function(o,g){var C=o*g,self=l.U.Y;self.MI=o;self.fB=g;self.va=C;self.ED=C<<1;
self.Yq=C<<2};l.U.Y.JO=function(o){l.U.Y.random=function(){var g=o+=1831565813;g=Math.imul(g^g>>>15,g|1);
g^=g+Math.imul(g^g>>>7,g|61);return((g^g>>>14)>>>0)/4294967296}};l.U.Y.Ki=function(o){var g=l.U.Y;return new Uint8Array([-1,g.va,g.ED,-1,g.Yq][o])};
l.U.Y.Zt=function(){return new Int32Array(l.U.Y.ED)};l.U.Y.xs=function(o,g,C,a){if(a==null)a=C;var self=l.U.Y,x=self.MI,K=self.fB;
l.EB.OE(o,g,new aS(0,0,x,K),C>>>1);return};l.U.Y.xe=function(o,g,C,a){var self=l.U.Y,x=new Int32Array(self.va),K=new Int32Array(self.va);
for(var N=0;N<2;N++){self.ob(o,x,N,2);self.xs(x,K,C,a);self.t0(K,g,N,2)}};l.U.Y.Z1=function(o,g,C,a){var self=l.U.Y,x=self.Ki(1),K=self.Ki(1);
for(var N=0;N<4;N++){self.ob(o,x,N);if(N<3)self.xs(x,K,C,a);else K=x;self.t0(K,g,N)}};l.U.Y.Ao=function(o,g,C,a,x){var self=l.U.Y,K=self.MI,h=self.fB,X=C+a-1,w=C>>1,G=X>>1,R=0,d=C*a,q=new Int32Array(C);
for(var N=0;N<h;N++){var m=0,M=0,Z=0;for(var Q=0;Q<C;Q++){var p=x?X-Q-a:Q;for(var y=p,V=a+p;y<V;y++){var W=0-G+y,v=N-w+Q;
if(y==p){q[Q]=W}if(W<0)W=0;else if(W>=K)W=K-1;if(v<0)v=0;else if(v>=h)v=h-1;var j=K*v+W<<2;m+=o[j];M+=o[j+1];
Z+=o[j+2]}}g[R++]=~~(m/d);g[R++]=~~(M/d);g[R++]=~~(Z/d);g[R]=o[R];R++;for(var e=1;e<K;e++){for(var Q=0;
Q<C;Q++){var v=N-w+Q,p=q[Q]+1;q[Q]=p;var T=p-1,O=p+a-1;if(v<0)v=0;else if(v>=h)v=h-1;if(T<0)T=0;else if(T>=K)T=K-1;
if(O<0)O=0;else if(O>=K)O=K-1;var L=v*K+T<<2,S=v*K+O<<2;m=m+o[S]-o[L];M=M+o[S+1]-o[L+1];Z=Z+o[S+2]-o[L+2]}g[R++]=~~(m/d);
g[R++]=~~(M/d);g[R++]=~~(Z/d);g[R]=o[R];R++}}};l.U.Y.Cj=function(o,g,C,a,x,K){var self=l.U.Y,h=self.MI,X=self.fB,w=C+a-1,G=C>>1,R=w>>1,d=0,q=new Int32Array(C),m=new Int32Array(256),M=new Int32Array(16);
for(var N=0;N<X;N++){m.fill(0);M.fill(0);for(var Z=0;Z<C;Z++){var Q=x?w-Z-a:Z;for(var p=Q,y=a+Q;p<y;
p++){var V=0-R+p,W=N-G+Z;if(p==Q){q[Z]=V}if(V<0)V=0;else if(V>=h)V=h-1;if(W<0)W=0;else if(W>=X)W=X-1;
m[o[W*h+V]]++;M[o[W*h+V]>>>4]++}}g[d++]=l.U.Y.BR(M,m,K);for(var v=1;v<h;v++){for(var Z=0;Z<C;Z++){var W=N-G+Z,Q=q[Z]+1;
q[Z]=Q;var j=Q-1,e=Q+a-1;if(W<0)W=0;else if(W>=X)W=X-1;if(j<0)j=0;else if(j>=h)j=h-1;if(e<0)e=0;else if(e>=h)e=h-1;
var T=o[W*h+j],O=o[W*h+e];m[T]--;m[O]++;M[T>>>4]--;M[O>>>4]++}g[d++]=l.U.Y.BR(M,m,K)}}};l.U.Y.hv=function(o,g,C,a,x,K){var self=l.U.Y,h=self.Ki(1),X=self.Ki(1);
for(var N=0;N<4;N++){self.ob(o,h,N);if(N<3)self.Cj(h,X,C,a,x,K);else X=h;self.t0(X,g,N)}};l.U.Y.Yj=function(o,g,C,a,x){x=Math.min(a*C,x);
var self=l.U.Y,K=self.MI,h=self.fB,X=a>>1,w=C>>1,G=0,R=new Int32Array(a),d=new Int32Array(256),q=new Int32Array(16);
for(var N=0;N<h;N++){d.fill(0);q.fill(0);for(var m=0;m<a;m++){for(var M=0,Z=C;M<Z;M++){var Q=0-w+M,p=N-X+m;
if(M==0){R[m]=Q}if(Q<0)Q=0;else if(Q>=K)Q=K-1;if(p<0)p=0;else if(p>=h)p=h-1;d[o[p*K+Q]]++;q[o[p*K+Q]>>>4]++}}g[G++]=l.U.Y.BR(q,d,x);
for(var y=1;y<K;y++){for(var m=0;m<a;m++){var p=N-X+m,V=R[m]+1;R[m]=V;var W=V-1,v=V+C-1;if(p<0)p=0;else if(p>=h)p=h-1;
if(W<0)W=0;else if(W>=K)W=K-1;if(v<0)v=0;else if(v>=K)v=K-1;var j=o[p*K+W],e=o[p*K+v];d[j]--;d[e]++;
q[j>>>4]--;q[e>>>4]++}g[G++]=l.U.Y.BR(q,d,x)}}};l.U.Y.BR=function(o,g,C){var a=0,x=0;while(a+o[x>>>4]<C){a+=o[x>>>4];
x+=16}for(;x<256;x++){a+=g[x];if(a>=C)break}return x};l.U.Y.j1=function(o,g,C,a,x){var self=l.U.Y,K=self.Ki(1),h=self.Ki(1);
for(var N=0;N<4;N++){self.ob(o,K,N);if(N<3)self.Yj(K,h,C,a,x);else h=K;self.t0(h,g,N)}};l.U.Y.Kl=function(o,g,C){var self=l.U.Y,a=self.MI,x=self.fB,K=0;
for(var N=0;N<x;N++){var h=N*a,X=(N-1)*a,w=(N+1)*a;if(X<0)X=h;if(w>=x)w=h;for(var G=0;G<a;G++){var R=G-1,d=G+1;
if(R<0)R=G;if(d>=a)d=G;var q=h+R,m=h+d,M=X+G,Z=w+G,Q=h+G,p=o[q],y=o[m],V=o[M],W=o[Z],v=o[Q],j=v+(v*4*C+.5);
j=j-((p+y+W+V)*C+.5);g[K++]=self.Dx(j)}}};l.U.Y.VH=function(o,g,C){var self=l.U.Y,a=self.Ki(1),x=self.Ki(1);
for(var N=0;N<4;N++){self.ob(o,a,N);if(N<3)self.Kl(a,x,C);else x=a;self.t0(x,g,N)}};l.U.Y.ah6=function(o,g,C){var self=l.U.Y,a=self.MI,x=self.fB,K=0,h=C+4;
for(var N=0;N<x;N++){var X=N*a,w=(N-1)*a,G=(N+1)*a;if(w<0)w=X;if(G>=x)G=X;for(var R=0;R<a;R++){var d=R-1,q=R+1;
if(d<0)d=R;if(q>=a)q=R;var m=X+d<<2,M=X+q<<2,Z=w+R<<2,Q=G+R<<2,p=X+R<<2;for(var y=0;y<3;y++){var V=o[m+y],W=o[M+y],v=o[Z+y],j=o[Q+y],e=o[p+y];
g[K++]=(e*C+V+W+j+v)/h}g[K]=o[K];K++}}};l.U.Y.Wi=function(o,g,C,a){var self=l.U.Y,x=self.MI,K=self.fB,h=C>>1,X=a>>1,w=0,G=new Int32Array(C),R=new Int32Array(256);
for(var N=0;N<K;N++){R.fill(0);for(var d=0;d<C;d++){for(var q=0,m=a;q<m;q++){var M=0-X+q,Z=N-h+d;if(q==0){G[d]=M}if(M<0)M=0;
else if(M>=x)M=x-1;if(Z<0)Z=0;else if(Z>=K)Z=K-1;R[o[Z*x+M]]++}}var Q=0,p=0;for(var y=0;y<256;y++){if(Q<R[y]){p=y;
Q=R[y]}}g[w++]=p;for(var V=1;V<x;V++){for(var d=0;d<C;d++){var Z=N-h+d,W=G[d]+1;G[d]=W;var v=W-1,j=W+a-1;
if(Z<0)Z=0;else if(Z>=K)Z=K-1;if(v<0)v=0;else if(v>=x)v=x-1;if(j<0)j=0;else if(j>=x)j=x-1;R[o[Z*x+v]]--;
R[o[Z*x+j]]++}Q=0;p=0;for(var y=0;y<256;y++){if(Q<R[y]){p=y;Q=R[y]}}g[w++]=p}}};l.U.Y.aiE=[function(o,g,C,a,x,K,h,X,w,G){return x+(o+g+C)*G-(w+X+h)*G},function(o,g,C,a,x,K,h,X,w,G){return x+(g+C+K)*G-(X+h+a)*G},function(o,g,C,a,x,K,h,X,w,G){return x+(C+K+w)*G-(h+a+o)*G},function(o,g,C,a,x,K,h,X,w,G){return x+(K+w+X)*G-(a+o+g)*G},function(o,g,C,a,x,K,h,X,w,G){return x+(w+X+h)*G-(o+g+C)*G},function(o,g,C,a,x,K,h,X,w,G){return x+(X+h+a)*G-(g+C+K)*G},function(o,g,C,a,x,K,h,X,w,G){return x+(h+a+o)*G-(C+K+w)*G},function(o,g,C,a,x,K,h,X,w,G){return x+(a+o+g)*G-(K+w+X)*G}];
l.U.Y.YP=function(o,g,C,a,x){var self=l.U.Y,K=self.MI,h=self.fB,X=K,w=self.aiE[a-1];for(var N=0;N<h;
N++){var G=(N>0?N-1:0)*X,R=N*X,d=(N<h?N+1:N)*X;for(var q=0;q<K;q++){var m=q>0?q-1:0,M=q<K?q+1:q,Z=R+q,Q=o[G+m],p=o[G+q],y=o[G+M],V=o[R+m],W=g[Z],v=o[R+M],j=o[d+m],e=o[d+q],T=o[d+M];
C[Z]=self.Dx(w(Q,p,y,V,W,v,j,e,T,x))}}};l.U.Y.a8k=function(o,g,C,a,x){var self=l.U.Y,K=self.Ki(1),h=self.Ki(1),X=self.Ki(1);
for(var N=0;N<3;N++){self.ob(o,K,N);self.ob(g,h,N);self.YP(K,h,X,a,x);self.t0(X,C,N)}self.ob(g,K,3);
self.t0(K,C,3)};l.U.Y.Sw=function(o,g){var C=o.length,a=0;for(var N=0;N<C;N++){g[a++]=~~((o[N++]+o[N++]+o[N++]+2)/3)}};
l.U.Y.dC=function(o,g){var C=g.length,a=0;for(var N=0;N<C;N++){var x=o[N];g[a++]=x;g[a++]=x;g[a++]=x;
g[a++]=255}if(g[0]==255)g[0]--;else g[0]++};l.U.Y.mv=function(o,g){var C=g.length,a=0;for(var N=0;N<C;
N++){var x=o[a++],K=o[a++],h=o[a++];a++;if(K>x)x=K;if(h>x)x=h;g[N]=x}};l.U.Y.Ox=function(o,g){if(g==null)g=o;
var C=o.length;for(var a=0;a<C;a+=4){var x=o[a],K=o[a+1],h=o[a+2],X=x,w=0,G=x,d;if(K<=x){x=K}else{w=1;
G=K}if(h<=G){if(x>h){x=h}}else{w=2;G=h}var R=G-x;if(R!=0){if(w==0){d=~~(43*(K-h)/R)}else if(w==1){d=~~(43*(h+2*R-X)/R)}else{d=43*(X+4*R-K)/R}if(d<0){d=255&d-1}g[a]=d;
g[a+1]=~~(255*R/G)}else{g[a]=R;g[a+1]=R}g[a+2]=G;g[a+3]=o[a+3]}};l.U.Y.jO=function(o,g){if(g==null)g=o;
var C=o.length;for(var a=0;a<C;a+=4){var x=o[a],K=o[a+1],h=o[a+2];if(K){if(x==255)x=0;var X=~~(6*x/255),w=~~(-255*X+6*x);
if(X==0){g[a]=h;g[a+1]=~~(h*(255-K*(255-w)/255)/255);g[a+2]=~~(h*(255-K)/255)}else if(X==1){g[a]=~~(h*(255-K*w/255)/255);
g[a+1]=h;g[a+2]=~~(h*(255-K)/255)}else if(X==2){g[a]=~~(h*(255-K)/255);g[a+1]=h;g[a+2]=~~(h*(255-K*(255-w)/255)/255)}else if(X==3){g[a]=~~(h*(255-K)/255);
g[a+1]=~~(h*(255-K*w/255)/255);g[a+2]=h}else if(X==4){g[a]=~~(h*(255-K*(255-w)/255)/255);g[a+1]=~~(h*(255-K)/255);
g[a+2]=h}else{g[a]=h;g[a+1]=~~(h*(255-K)/255);g[a+2]=~~(h*(255-K*w/255)/255)}}else{g[a]=h;g[a+1]=h;g[a+2]=h}g[a+3]=o[a+3]}};
l.U.Y.t0=function(o,g,C,a){if(C==null)C=2;if(a==null)a=4;var x=o.length;for(var N=0;N<x;N++){g[C]=o[N];
C+=a}};l.U.Y.ob=function(o,g,C,a){if(C==null)C=2;if(a==null)a=4;var x=g.length;for(var N=0;N<x;N++){g[N]=o[C];
C+=a}};l.U.Y.z0=function(o,g,C,a){if(a==null)a=1;var x=g.length,K=0,h;for(var K=0;K<x;K++){h=g[K];if(h){h*=a;
C[K]=~~((h*o[K]+(255-h)*C[K])/255)}}};l.U.Y.LM=function(o,g,C,a){if(a==null)a=C;var x=g.length,K=0,h,X;
for(var N=0;N<x;N++){h=g[N];if(h){X=255-h;a[K]=~~((h*o[K]+X*C[K])/255);a[K+1]=~~((h*o[K+1]+X*C[K+1])/255);
a[K+2]=~~((h*o[K+2]+X*C[K+2])/255)}a[K+3]=o[K+3];K+=4}};l.U.Y.W$=function(o,g,C,a){var x=~~(a*255),K=C.length;
for(var N=0;N<K;N++){C[N]=((255-x*(255-o[N])/255)*g[N]+o[N]*(x*(255-o[N])/255))/255}};l.U.Y.dV=function(o,g,C,a){var x=~~(a*255),K=C.length;
for(var N=0;N<K;N++){C[N]=((255-x*o[N]/255)*g[N]+o[N]*(x*o[N]/255))/255}};l.U.Y.mo=function(o,g,C){var a=g.length;
for(var N=0;N<a;N++){g[N]=~~(o[N]*C+.5)+(g[N]-~~(g[N]*C+.5))}};l.U.Y.sub=function(o,g){var C=o.length;
for(var N=0;N<C;N++){g[N]=Math.max(o[N]-g[N],0)}};l.U.Y.add=function(o,g){var C=o.length;for(var N=0;
N<C;N++){g[N]=Math.min(o[N]+g[N],255)}};l.U.Y.Xd=function(o,g){var C=o.length;for(var N=0;N<C;N++){g[N]=o[N]+g[N]>>1}};
l.U.Y.j5=function(o,g){var C=o.length;for(var N=0;N<C;N++){g[N]=o[N]}};l.U.Y.EZ=function(o,g){var C=o.length;
for(var N=0;N<C;N++){o[N]=g[o[N]]}};l.U.Y.a_=function(o,g){var C=l.U.Y.Yq;for(var N=0;N<C;N+=4){var a=o[N],x=o[N+1],K=o[N+2],h=a;
if(x>a)h=x;if(K>a)h=K;var X=g[h];if(X){o[N]=~~(X*a/h);o[N+1]=~~(X*x/h);o[N+2]=~~(X*K/h)}else{o[N]=X;
o[N+1]=X;o[N+2]=X}}};l.U.Y.BX=function(o,g){for(var N=0,C=o.length;N<C;N++){o[N]=Math.min(255,~~(.5+o[N]*g))}};
l.U.Y.mU=function(o,g){for(var N=0,C=o.length;N<C;N++){o[N]=255-Math.min(255,~~(.5+(255-o[N])*g))}};
l.U.Y.rq=function(o){var g=o.length;for(var N=0;N<g;N++){o[N]=255-o[N]}};l.U.Y.r5=function(o,g,C,a){if(C==null)C=0;
if(a==null)a=255;for(var N=0,x=o.length;N<x;N++){o[N]=o[N]>=g?a:C}};l.U.Y.m0=function(o){return[o>>24&255,o>>16&255,o>>8&255,o&255]};
l.U.Y.a7k=function(o,g,C,a){if(C==null)C=255;if(a==null)a=4278190335;var x=l.U.Y,K=x.Yq,h=x.m0(C),X=x.m0(a);
for(var N=0;N<K;N+=4){var w=~~((o[N]+o[N+1]+o[N+2]+2)/3);if(w>=g){o[N]=h[0];o[N+1]=h[1];o[N+2]=h[2]}else{o[N]=X[0];
o[N+1]=X[1];o[N+2]=X[2]}}};l.U.Y.WL=function(o,g){var C=l.U.Y,a=C.Yq,x=C.m0(g);for(var N=0;N<a;){o[N++]=x[0];
o[N++]=x[1];o[N++]=x[2];o[N++]=x[3]}};l.U.Y.ni=function(o,g){var C=o.length;for(var N=0;N<C;){o[N++]=g}};
l.U.Y.AP=function(o,g){o=o>5?(100-Math.max(4,o))/100:.95;g=g!=100?Math.max(4,g)/100:.9995;var C=new Uint8Array(256),a=g>.5?.5/(1-g):g*2,x=~~(a*256),K=~~((.5-o*a)*256)<<8;
for(var N=0;N<256;N++){C[N]=l.U.Y.Dx(K>>8);K+=x}return C};l.U.Y._1=function(o){for(var N=0,g=l.U.Y,C=o.length;
N<C;N++){o[N]=~~(g.random()*256)}};l.U.Y.aeK=function(o,g){for(var N=0,C=l.U.Y,a=o.length;N<a;N++){o[N]=C.random()<g?255:0}};
l.U.Y.Z4=function(o,g,C){for(var N=0,a=l.U.Y,x=o.length;N<x;N++){if(a.random()<g)o[N]=C}};l.U.Y.uS=function(o,g,C){var a=o.length;
for(var N=0;N<a;N++){o[N]=l.U.Y.Dx(o[N]+C[g[N]])}};l.U.Y.hS=function(o){var g=new Uint32Array(256);for(var N=0,C=o.length;
N<C;N++){g[o[N]]++}return g};l.U.Y.MU=function(o,g,C){var self=l.U.Y,a=self.hS(C),x=self.va/100,K=new Uint8Array(256),h=x*o,X=x*g,w=0,G=-1,R=256;
do{w+=a[++G]}while(w<=h);w=0;do{w+=a[--R]}while(w<=X);if(R-G<=0)R=G+1;if(R>255){R=255;G=254}var d=255/(R-G),q=-G;
for(var N=0;N<256;N++){K[N]=self.Dx(d*q+.5);q++}return K};l.U.Y.oq=function(o,g,C){var a=l.U.Y;a.EZ(o,a.MU(g,C,o))};
l.U.Y.aeS=function(o,g){var self=l.U.Y,C=self.hS(o),a=self.va*g/100,x=0,K=-1;do{x+=C[++K]}while(x<=a);
return K};l.U.Y.IP=function(o,g){var C=0,self=l.U.Y,a=self.MI,x=self.fB,K=1/Math.PI,h=K*255;for(var N=0;
N<x;N++){var X=N+1;if(X==x)X--;var w=N*a,G=~~((1-(N+1)/x)*255);for(var R=0;R<a;R++){var d=R+1;if(d==a)d--;
var q=o[w+R],m=o[w+d],M=o[X*a+R];if(q-M==0){g[C++]=G}else{var Z=q-M+255;if(Z==255){Z=0}else{Z=~~(Math.atan2(1/(255-Z),1)*h+.5);
if(Z<0)Z+=255}g[C++]=Z}if(q-m==0){g[C++]=~~((1-(R+1)/a)*255)}else{var Z=q-m+255;if(Z==255){Z=0}else{Z=~~(Math.atan2(1/(255-Z),1)*h+.5);
if(Z<0)Z+=255}g[C++]=Z}}}};l.U.Y.lX=function(o,g){var self=l.U.Y,C=self.MI,a=self.fB,x=0;for(var N=0;
N<a;N++){for(var K=0;K<C;K++){o[x]=~~(N*g+.5)+~~(o[x]*(1-g)+.5);x++;o[x]=~~(K*g+.5)+~~(o[x]*(1-g)+.5);
x++}}};l.U.Y.aws=function(o,g,C,a){var self=l.U.Y,x=self.MI,K=self.fB,h=0;for(var N=0;N<K;N++){for(var X=0;
X<x;X++){g[h]=~~(g[h]*(1-C)+.5)+~~(o[h]*a+.5);h++;g[h]=~~(g[h]*(1-C)+.5)+~~(o[h]*a+.5);h++}}};l.U.Y.rE=function(o,g,C){var self=l.U.Y,a=self.MI,x=self.fB,K=0,h=0;
for(var N=0;N<x;N++){for(var X=0;X<a;X++){var w=o[K++],G=o[K++];g[h++]=G%C>=2&&w%C>=2?255:0}}};l.U.Y.yN=function(o,g,C,a,x,K,h){var self=l.U.Y,X=self.MI,w=self.fB,G=0,R=0,d=0;
for(var N=0;N<w;N++){var q=N%o<C||w-C<=N;for(var m=0;m<X;m++){h[G++]=q||m%g<a||X-a<=m?x:K}}};l.U.Y.wM=function(o,g,C,a){var self=l.U.Y,x=self.MI,K=self.fB,h=ey.wM(g),X=h[0],w=h[1],G=l.Z(X.$()*4);
G.fill(4294967295);l.B2(w,G);var R=l.scale.pA(G,X.m,X.n),d=l.scale.iI(R,null,x,K,C/100,C/100,0,0);l.eP(d,o,0);
if(a)l.rq(o)};l.U.Y.Dx=function(o){return~~Math.min(255,Math.max(0,o))};l.U.Y.$y=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
l.U.Y.cz=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];l.U.Y.zh=function(o){return o>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][o-41]:o/40};
l.U.Y.alp=function(o,g,C){var self=l.U.Y,a=self.MI,x=self.fB,K=C,h=C>>1,X=h-1,w=K*K,G=0;for(var N=0;
N<x;N++){var R=0,d=0,q=0,m=~~(N/C)*C,M=0;for(var Z=0;Z<K;Z++){for(var Q=0;Q<K;Q++){var p=M+Q,y=m+Z;if(p>=a)p=a-1;
if(y>=x)y=x-1;R+=o[y*a+p<<2];d+=o[(y*a+p<<2)+1];q+=o[(y*a+p<<2)+2]}}var V=~~(R/w),W=~~(d/w),v=~~(q/w);
g[G]=V;g[G+1]=W;g[G+2]=v;g[G+3]=o[G+3];G+=4;for(var j=1;j<a;j++){for(var Z=0;Z<K;Z++){var e=j-1,T=e+K,y=m+Z;
if(T>=a)T=a-1;if(y>=x)y=x-1;var O=y*a,L=O+T<<2,S=O+e<<2;R+=o[L]-o[S];d+=o[L+1]-o[S+1];q+=o[L+2]-o[S+2]}if(j%C==0){V=~~(R/w);
W=~~(d/w);v=~~(q/w)}g[G]=V;g[G+1]=W;g[G+2]=v;g[G+3]=o[G+3];G+=4}}};l.U.Y.au_=function(o,g,C,a,x){var self=l.U.Y,K=self.MI,h=self.fB,X=0,w=0,G=0,R=0;
for(var N=R;N<h+R;N++){var d=N%g>=a||N<a||h+R-a<=N;for(var q=0;q<K;q++){o[X++]=d&&(q%C>=x||q<x||K-x<=q)?255:0}}};
l.U.Y.a9B=function(o,g,C){var a=function(G,R){return R<=G?G/R&1?R-G%R:G%R:G},x=[function(X,w){return a(X,255)/255},function(X,w){return(255+a(X,255)-a(w,255))/510},function(X,w){return(255-a(w,255))/255},function(X,w){return(510-a(X,255)-a(w,255))/510},function(X,w){return(255-a(X,255))/255},function(X,w){return(255-a(X,255)+a(w,255))/510},function(X,w){return a(w,255)/255},function(X,w){return(a(X,255)+a(w,255))/510}][C],K=0,h=0;
for(var N=0;N<l.U.Y.va;N++){var X=o[K++],w=o[K++];g[h++]=~~(255*x(X,w))}};l.U.ar$=function(){var o=[],g=new Uint8Array(512),C=new Float32Array(512),a=new Float32Array(512),x=[1,-1,1,-1,1,-1,0,0],K=[1,1,-1,-1,0,0,1,-1],h=0,X,M=0;
for(;h<256;h++)o[h]=h;while(h!=0){h--;X=Math.floor(Math.random()*h);o[X]^=o[h]^(o[h]=o[X])}function w(w){w=Math.floor(w*65536);
if(w<256){w|=w<<8}for(var N=0;N<256;N++){var p=N+256,y=o[N]^(N&1?w:w>>8)&255;g[N]=g[p]=y;y=y%8;C[N]=C[p]=x[y];
a[N]=a[p]=K[y]}}function G(p){return p*p*p*(p*(p*6-15)+10)}function R(p,y,V){return(1-V)*p+V*y}function d(p,y){return p&y}function q(p,y){return p%y}function m(p,y,V,W,v){var j=Math.floor(p),e=Math.floor(y),h,T,O,L,S,$;
p=p-j;y=y-e;j=j&255;e=e&255;h=j+g[e];L=C[h]*p+a[h]*y;h=j+g[v(e+1,W)];O=C[h]*p+a[h]*(y-1);h=v(j+1,V)+g[e];
S=C[h]*(p-1)+a[h]*y;h=v(j+1,V)+g[v(e+1,W)];$=C[h]*(p-1)+a[h]*(y-1);T=G(p);return R(R(L,S,T),R(O,$,T),G(y))}function Z(p,h,y){p[h]=y}function Q(p,y,V,W,v){var j=Math.min(Math.min(y,256),Math.min(256,V)),e=j==256||j<8,T=8,O=new Uint32Array(T),L=new Uint32Array(T),S=new Float32Array(T),$=new Float32Array(T),H=1,f=1,F=e?d:q,U=Z,r;
for(var N=0;N<T;N++){r=f*1/j;if(e){L[N]=(1<<Math.ceil(Math.log2(V*r)))-1;O[N]=(1<<Math.ceil(Math.log2(y*r)))-1}else{L[N]=r*V;
O[N]=r*y}S[N]=H;$[N]=r;H*=.5;f=f<<1}w(Math.random());for(var E=0,h=0;E<V;E++){for(var k=0;k<y;k++){var P=0;
for(var z=0;z<T;z++){r=$[z];P+=m(k*r,E*r,O[z],L[z],F)*S[z]}U(W,h++,Math.round(Math.max(0,255*Math.min(1,.5+P*.5))))}}}return Q}();
l.U.a3e=function(){function o(g,C,a,x){var K=new Uint8Array(g.length>>>2),h=new Uint8Array(g.length>>>2),X=new Uint8Array(g.length);
for(var N=0;N<g.length;N+=4){var w=g[N+0]*.3+g[N+1]*.59+g[N+2]*.11;h[N>>>2]=w;X[N]=g[N];X[N+1]=g[N+1];
X[N+2]=g[N+2]}l.nw.Qn(h,K,C,a);l.nw.Dv(g,x,C,a,l.nw.$N[1],0,!0);for(var N=0;N<g.length;N+=4){X[N+3]=255-K[N>>>2]}for(var N=0,G=g.length;
N<G;N+=4){var R=X[N+3]/255;x[N]=X[N]*R+x[N]*(1-R);x[N+1]=X[N+1]*R+x[N+1]*(1-R);x[N+2]=X[N+2]*R+x[N+2]*(1-R)}}return o}();
l.U.a15=function(){function o(K,h,X,w,G){var R=new Uint32Array(K.buffer),d=0;for(var N=0;N<X;N++){for(var q=0;
q<h;q++,d+=4){var m=R[N*h+q],M=m&255,Z=m>>>8&255,Q=m>>>16&255,p=m>>>24&255,y=~~(Math.random()*8),V=y%3,W=0,v=0;
if(y<3){v--}else if(y>4){v++}if(V==0){W--}else if(V==2){W++}var j=q+W,e=N+v;if(j<0)j=0;else if(j>h-1)j=h-1;
if(e<0)e=0;else if(e>X-1)e=X-1;var m=R[e*h+j],T=m&255,O=m>>>8&255,L=m>>>16&255,S=m>>>24&255;w[d]=G(M,T);
w[d+1]=G(Z,O);w[d+2]=G(Q,L);w[d+3]=G(p,S)}}}function g(K,h){return h}function C(K,h){return K>h?h:K}function a(K,h){return K<h?h:K}function x(K,h,X,w,G){var R=G[0];
if(R==0)o(K,h,X,w,g);else if(R==1)o(K,h,X,w,C);else if(R==2)o(K,h,X,w,a);else if(R==3){console.error("Not implemented")}else console.error("Mew mew")}return x}();
l.U.a1e=function(){function o(g,C,a,x,K){var h=K&&K[0]?K[0]:4,X,w,G,R,d,q,m;for(var N=0;N<a;N++){var M=Math.max(N-h,0),Z=Math.min(N+h,a-1);
for(var Q=0;Q<C;Q++){var p=Math.max(Q-h,0),y=Math.min(Q+h,C-1);X=M*C+p<<2;R=g[X];d=g[X+1];q=g[X+2];m=g[X+3];
X=M*C+y<<2;R+=g[X];d+=g[X+1];q+=g[X+2];m+=g[X+3];X=Z*C+p<<2;R+=g[X];d+=g[X+1];q+=g[X+2];m+=g[X+3];X=Z*C+y<<2;
R+=g[X];d+=g[X+1];q+=g[X+2];m+=g[X+3];X=N*C+Q<<2;x[X]=R+2>>>2;x[X+1]=d+2>>>2;x[X+2]=q+2>>>2;x[X+3]=m+2>>>2}}}return o}();
l.U.at8=function(){function o(g,C,a,x){var K=new Uint8Array(g.length),h=new Uint8Array(g.length>>>2),X=new Uint8Array(g.length>>>2);
l.nw.Dv(g,K,C,a,l.nw.$N[2],0,!0);for(var N=0;N<g.length;N+=4){var w=K[N+0]*.3+K[N+1]*.59+K[N+2]*.11;
h[N>>>2]=w;x[N+0]=g[N+0];x[N+1]=g[N+1];x[N+2]=g[N+2];x[N+3]=g[N+3]}l.nw.Qn(h,X,C,a);for(var N=0;N<g.length;
N+=4){K[N+3]=~~(Math.max(0,255-X[N>>>2]-50)*(255/205))}for(var N=0,G=g.length;N<G;N+=4){var R=K[N+3]/255;
x[N]=K[N]*R+x[N]*(1-R);x[N+1]=K[N+1]*R+x[N+1]*(1-R);x[N+2]=K[N+2]*R+x[N+2]*(1-R)}}return o}();l.U.$j=function(){function o(y,V){return y[V]+y[V+1]+y[V+2]+y[V+3]}function g(y,V){return y[V]+y[V+1]+y[V+2]+2*y[V+3]}function C(y,V,W,v){y[V]=W[v];
y[V+1]=W[v+1];y[V+2]=W[v+2];y[V+3]=W[v+3]}function a(y,V,W){y[V]=y[W];y[V+1]=y[W+1];y[V+2]=y[W+2];y[V+3]=y[W+3]}function x(y,V,W){y[W]=V[W];
y[W+1]=V[W+1];y[W+2]=V[W+2];y[W+3]=255-V[W+3]}function K(y){for(var N=0,V=y.length;N<V;N+=4){y[N+3]=255-y[N+3]}}function h(){var y=Math.random();
if(y>.5)return 0;if(y>.25)return 1;if(y>.1)return 2;if(y>.02143)return 3;if(y>.00445)return 4;if(y>65e-5)return 5;
if(y>415e-6)return 6;if(y>55e-6)return 7;return 8}function X(y,V,W,v,j,e){y[V]=W[v]+(j[e]-W[v]>>1);y[V+1]=W[v+1]+(j[e+1]-W[v+1]>>1);
y[V+2]=W[v+2]+(j[e+2]-W[v+2]>>1);y[V+3]=W[v+3]+(j[e+3]-W[v+3]>>1)}function w(y,V,W,v,j,e){y[V]=j[e]+W[v]>>1;
y[V+1]=j[e+1]+W[v+1]>>1;y[V+2]=j[e+2]+W[v+2]>>1;y[V+3]=j[e+3]+W[v+3]>>1}function G(y,V,W,v,j,e,T,O,L){var S=0,$=0,H=0,N,f=j[e],F;
X(O,0,y,V,y,W);for(N=0;N<f;N++){X(O,(N+1)*4,O,N*4,y,W)}$=(f+1)*4;H+=f;e--;C(y,V,O,$-4);v[e]=o(y,V);V-=L;
while(e>0&&v[e-1]<v[e]){F=O;O=T;T=F;S=$;w(O,0,y,V-L,T,0);for(N=4;N<S;N+=4){w(O,N,O,N-4,T,N)}f=j[e];for(N=H;
N<f;N++){X(O,$,O,$-4,T,S-4);$+=4;H++}e--;C(y,V,O,$-4);v[e]=o(y,V);V-=L}}function R(y,V,W,v,j){var e=V*4,T=0,O,L,S=new Uint8Array(V+1),$=new Uint8Array(10*4),H=new Uint8Array(10*4);
for(var N=0;N<W;N++){x(v,y,T);j[0]=o(v,T);S[0]=h();O=T;T+=4;for(var f=1;f<V;f++){x(v,y,T);j[f]=o(v,T);
L=h();S[f]=L;if(j[f-1]<j[f]&&L>0){G(v,T-4,T,j,S,f,$,H,4)}T+=4}j[V]=j[0];S[V]=S[0];if(j[V-1]<j[V]&&L>0){G(v,T,O,j,S,V,$,H,4)}}K(v)}function d(){var y=Math.random();
if(y>.659755)return 0;if(y>.1625)return 10;if(y>.06)return 20;if(y>.01)return 30;if(y>.0035)return 40;
if(y>65e-5)return 50;if(y>415e-6)return 60;if(y>55e-6)return 70;return 80}function q(y,V,W,v,j,e){var T=d()+1,O=v[j];
for(var N=1;N<T;N++){if(0>j)break;if(v[j-N]<O){a(y,V,W)}else{break}V+=e}}function m(y,V,W,v,j){var e=V*4,T=0;
for(var N=0;N<W;N++){x(v,y,T);j[0]=o(v,T);T+=4;for(var O=1;O<V;O++){x(v,y,T);j[O]=o(y,T);if(j[O-1]<j[O]){q(v,T-4,T,j,O,-4)}T+=4}j[V]=j[0];
if(j[O-1]<j[O]){q(v,T-4,T-e,j,O,-4)}}K(v)}function M(y,V,W,v,j,e){var T=1,O,L,S=new Uint8Array(4),$,H=V;
while(Math.random()<1/T){H=V;if(v<=1)break;O=W[v];L=W[v-1];if(O<=L)break;C(S,0,y,H-e);$=!0;for(var N=v;
N<j;N++){if(L>W[N]){C(y,H-e,S,0);W[N-1]=L;$=!1;break}C(y,H-e,y,H);W[N-1]=W[N];H+=e}if($){C(y,H-e,S,0);
W[j-1]=L}T++;v--;V-=e}}function Z(y,V,W,v,j){var e=0,T=0,O=V*4;for(var N=0;N<W;N++){T=e;for(var L=0;
L<V;L++){x(v,y,e);j[L]=g(v,e);e+=4}e=T;for(var L=1;L<V;L++){if(j[L-1]<j[L]&&Math.random()<.66){M(v,e+4,j,L,V,4)}e+=4}e+=4}K(v)}function Q(y,V,W,v,j){var e=j[0],T=j[1],O=new Uint16Array(V+1),L=y,S=v,$;
if(T){$=v.slice(0);p(y,v,V,W);L=v;S=$}if(e==0)R(L,V,W,S,O);else if(e==1)m(L,V,W,S,O);else if(e==2)Z(L,V,W,S,O);
if(T){p($,v,V,W)}}function p(y,V,W,v){for(var j=0;j<v;j++)for(var e=0;e<W;e++){var T=j*W+e<<2,O=j*W+(W-1-e)<<2;
V[O]=y[T];V[O+1]=y[T+1];V[O+2]=y[T+2];V[O+3]=y[T+3]}}return Q}();l.U.O3=function(o,g,C,a,x){var K=l.U.Y,h=1,Q=0,V=0;
K.m3(g,C);K.JO(x[2]);var X=3<<13,w=Math.PI/2.43,G=w/256,R=Math.PI*2/256;function d(){var e=K.random()*256,T=K.random()*256;
return h*~~(Math.tan(w-e*G)*325*Math.cos(T*R)*256)+X>>16}h=x[0];var q=x[1],m=(q+2)/2,M=K.random()*255,Z=K.Ki(1);
for(var N=0;N<C;N++){var p=K.Dx(d()+M);for(var y=0;y<g;y++){p=K.Dx(d()+p);Z[Q++]=p}}Q=g;for(var N=1;
N<C;N++){var W=K.Dx(d()+Z[V++]);Z[Q++]=W;for(var y=1;y<g;y++){var v=V+1;if(y+1==g){v--}var j=(m+W+Z[v]+Z[V]*q)/(q+2);
W=K.Dx(d()+j);Z[Q++]=W;V++}}K.dC(Z,a)};var cc=function(){function o(t){t=t^61^t>>>16;t=t+(t<<3);t=t^t>>>4;
t=t*668265261;t=t^t>>>15;return t}var g=function(){var g=function(t){if(t){this.Bk=t}this.Bk=o(this.Bk);
return(this.Bk&16777215)*(1/16777215)};return g};function C(t,n){if(n==null){n=[0,0]}return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}function a(t,n){if(n==null){n=[0,0]}return[-(n[1]-t[1])/C(t,n),(n[0]-t[0])/C(t,n)]}function x(t){return[Math.cos(t),Math.sin(t)]}function K(t){var n=C(t,[0,0]),J=[t[0]/n,t[1]/n],I=Math.atan(J[1]/J[0]);
if(J[0]>0&&J[1]<0){I+=2*Math.PI}else if(J[0]<0&&J[1]<0){I+=Math.PI}else if(J[0]<0&&J[1]>0){I+=Math.PI}return I}function h(t){var h=0;
for(var N=1;N<t.length/2;++N){h+=C([t[2*N],t[2*N+1]],[t[2*(N-1)],t[2*(N-1)+1]])}return h}function X(t,n,J){var I=new Float32Array(t.length),fp=1/(t.length/2),cH=v(J);
for(var N=0;N<t.length/2;++N){var b=N*fp,jL=b/2+.5,aq=1,cJ=0;if(J.shape==2){aq=1/(2*jL)}if(J.shape==3){jL=(1-b)/2+.5;
aq=1/(2*jL)+.5}if(J.shape==4){jL=b;aq=Math.sin(3/2*Math.PI*jL)/4+1}if(J.shape==5){jL=(b-.5)*6;aq=(-Math.atan(jL)/1.25+1)/5+.6-.2*b}var aB=[null,null];
if(N==0){aB=a([t[2*N],t[2*N+1]],[t[2*(N+1)],t[2*(N+1)+1]])}else if(N==t.length/2-1){aB=a([t[2*(N-1)],t[2*(N-1)+1]],[t[2*N],t[2*N+1]])}else{aB=a([t[2*(N-1)],t[2*(N-1)+1]],[t[2*(N+1)],t[2*(N+1)+1]])}I[2*N]=t[2*N]+(aq*n+cJ)*aB[0];
I[2*N+1]=t[2*N+1]+(aq*n+cJ)*aB[1];if(J.style==2){I[2*N]+=j(2*N/I.length,cH,J)}}return I}function w(t,n,J){var I=new Float32Array(t.length),fp=1/(t.length/2);
for(var N=0;N<t.length/2;++N){var cH=N*fp,b=[null,null],jL=.6*J.so*O(cH,n.am8)*J.vS/100,aq=.6*J.so*O(cH,n.aqL)*J.vS/100,cJ=n.abv*jL+(1-n.abv)*aq;
if(N==0){b=a([t[2*N],t[2*N+1]],[t[2*(N+1)],t[2*(N+1)+1]])}else if(N==t.length/2-1){b=a([t[2*(N-1)],t[2*(N-1)+1]],[t[2*N],t[2*N+1]])}else{b=a([t[2*(N-1)],t[2*(N-1)+1]],[t[2*(N+1)],t[2*(N+1)+1]])}I[2*N]=t[2*N]+cJ*b[0];
I[2*N+1]=t[2*N+1]+cJ*b[1]}return I}function G(t){if(t.EJ==1){return[.150684932,.205479452,.465753425,.178082192]}else if(t.EJ==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var n=[],J=1/(H(t)-1);
for(var N=0;N<H(t)-1;++N){n.push(J)}return n}}function R(t,n,J){var I=[],fp=n-t,cH=t;for(var N=0;N<J.length-1;
++N){I.push(cH+J[N]*fp);cH=I[N]}return I}function d(t,n,J,I){var fp=new Float32Array(J.length),cH=0,b={shape:Math.floor(I.random()*2.99),anT:I.random()*.1+.15};
for(var N=0;N<J.length-1;++N){var jL=cH+J[N];fp[N]=((1-jL)*t+jL*n)*p(I,jL,b);cH=jL}return fp}function q(t,n,J,I){var fp=S(I),cH=I.random(),b=cH*20+(1-cH)*26,jL=new Float32Array(J.length),aq=0;
for(var N=0;N<J.length-1;++N){var cJ=aq+J[N];jL[N]=(1-cJ)*t+cJ*n+fp/b*(2/3*Math.sin(Math.PI*cJ)+1/3*Math.sqrt(Math.sin(Math.PI*cJ)));
aq=cJ}return jL}function m(t,n,J){var I=[];for(var N=0;N<n.length-1;++N){I.push(n[N].slice());var fp=N*(H(J)-1),cH=(N+1)*(H(J)-1),b=t[cH]-t[fp];
for(var jL=fp+1;jL<cH;++jL){var aq=v(J),cJ=new Float32Array(n[0].length),aB=(t[jL]-t[fp])/b;for(var au=0;
au<n[0].length/2;++au){cJ[2*au]=(1-aB)*n[N][2*au]+aB*n[N+1][2*au];cJ[2*au+1]=(1-aB)*n[N][2*au+1]+aB*n[N+1][2*au+1];
if(J.style==2){cJ[2*au]+=j(2*au/n[0].length,aq,J)}}I.push(cJ)}}I.push(n[n.length-1]);return I}function M(t,n,J){var I=new Array(n.length),fp=P(t),b=null;
for(var N=0;N<n.length;++N){I[N]=X(fp,(n[N]-.5)*J.vS,J)}var cH=1+.05*J.apZ*S(J)/S({EJ:1});for(var N=0;
N<n.length;++N){if(n[N]==0){b=N}}for(var N=0;N<n.length;++N){var jL=(J.random()-.5)*2,aq=Math.round(J.random()*9+1),cJ=new Float32Array(aq*2+2);
for(var aB=0;aB<=aq;++aB){cJ[2*aB]=I[N][0]-(I[N][2*aB]-I[N][0]);cJ[2*aB+1]=I[N][1]-(I[N][2*aB+1]-I[N][1])}if(N==b){jL*=.1}for(var aB=(I[N].length-1)/2;
aB>aq;--aB){I[N][2*aB]=(1-jL)*I[N][2*aB]+jL*(I[N][2*(aB-aq)]+cH*(I[N][2*aB]-I[N][2*(aB-aq)]));I[N][2*aB+1]=(1-jL)*I[N][2*aB+1]+jL*(I[N][2*(aB-aq)+1]+cH*(I[N][2*aB+1]-I[N][2*(aB-aq)+1]))}for(var aB=aq-1;
aB>=0;--aB){I[N][2*aB]=(1-jL)*I[N][2*aB]+jL*(cJ[2*(aq-aB)]+cH*(I[N][2*aB]-cJ[2*(aq-aB)]));I[N][2*aB+1]=(1-jL)*I[N][2*aB+1]+jL*(cJ[2*(aq-aB)+1]+cH*(I[N][2*aB+1]-cJ[2*(aq-aB)+1]))}}var au=T(n,J);
if(J.so>0){var ea=0;for(var N=0;N<n.length;++N){if(N==0){ea+=n[N]}else{ea+=Math.abs(n[N]-n[N-1])}var ax=ea-Math.floor(ea),f1=1;
if(ax==0){f1=0}I[N]=w(I[N],{am8:au[Math.floor(ea)],aqL:au[Math.floor(ea)+f1],abv:ax},J)}}return I}function Z(t,n){var J=U(n,t),I=r(n,t),fp=[],cH=[],b=[],jL=G(t);
for(var N=0;N<n.length-1;++N){fp.push(n[N]);cH.push(J[N]);b.push(I[N]);var aq=R(n[N],n[N+1],jL),cJ=d(J[N],J[N+1],jL,t),aB=q(I[N],I[N+1],jL,t);
for(var au=0;au<aq.length;++au){fp.push(aq[au]);cH.push(cJ[au]);b.push(aB[au])}}fp.push(n[n.length-1]);
cH.push(J[J.length-1]);b.push(I[I.length-1]);return{a3C:fp,auO:cH,Gl:b}}function Q(t,n,J,I){var fp=new Float32Array(2*I),cH=t.length/2,b=cH-n,jL=J*b,aq=jL/I;
for(var N=0;N<I;++N){var cJ=Math.floor(n+N*aq),aB=Math.ceil(n+N*aq),J=n+N*aq,au=aB-cJ,ea=1,ax=0;if(au!=0){ea=(aB-J)/au;
ax=(J-cJ)/au}fp[2*N]=ea*t[2*cJ]+ax*t[2*aB];fp[2*N+1]=ea*t[2*cJ+1]+ax*t[2*aB+1]}return fp}function p(t,n,J){var I=J.anT,fp=n*2*Math.PI,cH=fp,b=0;
if(J.shape==0){b=(Math.sin(2*cH+Math.PI/2)+1)/2}else if(J.shape==1){b=(Math.sin(cH+Math.PI/2)+1)/2}else{b=(4*Math.sin(3/4*cH+Math.PI)+Math.sin(Math.PI/2+2*cH)-2*cH/Math.PI+6)/7}return Math.min(1,1-I+I*b)}function y(t,n,J,I){var fp=[];
for(var N=0;N<t.length;++N){fp.push(Q(t[N],n[N],J[N],I))}return fp}function V(t,n,J){var I=[];for(var N=0;
N<t.length;++N){var fp=x(2*Math.PI*J.random()),cH=x(2*Math.PI*J.random()),b=J.TN*.5*f({EJ:1})/f(J),jL=b*J.vS/200,aq=b*n/500,cJ=new Float32Array(t[0].length);
for(var aB=0;aB<t[0].length/2;++aB){var au=x(2*Math.PI*J.random()),ea=2*aB/t[0].length;cJ[2*aB]=t[N][2*aB]+jL*(au[0]+((1-ea)*fp[0]+ea*cH[0]));
cJ[2*aB+1]=t[N][2*aB+1]+aq*(au[1]+((1-ea)*fp[1]+ea*cH[1]))}I.push(cJ)}return I}function W(t,n,J){var I=J.G9,fp=2/I,cH=[1/10,1/30,1/40,1/45,1/100],b=cH[J.EJ-1],jL=4*(J.opacity/25*fp*b)*(1-J.TN/150),au=0,ax=0;
if(J.style==3){return jL*.09}var aq=2.2*(t-.5),cJ=aq*aq*aq*aq+.27+Math.max(0,(J.opacity-50)/15),aB=2*(Math.sin(3*Math.PI*n)/(Math.PI*n+2)+1.1)-n/2;
n=2*n;if(n<.41){var ea=2*Math.PI*n/.41;au=(Math.sin(ea-Math.PI/2)+1)/4+.5}else if(n<.77){var ea=2*Math.PI*(n-.41)/.36;
au=(Math.sin(ea-Math.PI/2)+1)/4+.5-ea/2/Math.PI*.5}else{var ea=2*Math.PI*(n-.77)/.23;au=(Math.sin(ea-Math.PI/2)+1)/2*.12}au*=3;
au+=Math.max(0,(J.opacity-50)/15);if(J.type==6){ax=aB}else{ax=au}return jL*cJ*ax}function v(t){return{t:t.random()*7/2+.5,A_:t.random()*2*Math.PI}}function j(t,n,J){return J.vS/300*H({EJ:1})/H(J)*10*(Math.sin(n.t*2*Math.PI*t+n.A_)+10*(J.random()-.5))}function e(t){var n=Math.exp(-t.so/25);
return{t:t.random()*3/2+.5,A_:t.random()*2*Math.PI,sp:(t.random()-.5)*10*n}}function T(t,n){var J=Math.ceil(E(t)),I=[];
for(var N=0;N<=J;++N){I.push(e(n))}return I}function O(t,n){var J=n.t*4*Math.PI*t+n.A_;return Math.exp(-1/2*Math.PI*t)*Math.cos(J)*Math.cos(J)*Math.cos(J)*Math.cos(J)*Math.cos(J)+t*n.sp-n.sp/4}function L(t,n,J,I,fp){var cH=0,b=f(n)-1;
for(var N=0;N<b;++N){for(var jL=0;jL<t.length-1;jL+=H(n)-1){for(var aq=N;aq<t[0].length/2-b;aq+=b){for(var cJ=jL;
cJ<jL+(H(n)-1);++cJ){J[fp+cH]=W(cJ*(n.G9-1)/(t.length-1)%1,aq/t[0].length,n);var aB=0,au=0;if(n.type==6&&cJ!=0&&cJ!=t.length-1){au=(t[cJ][2*(aq+1)+1]-t[cJ][2*aq+1])/2;
aB=(t[cJ][2*(aq+1)]-t[cJ][2*aq])/2}I[8*fp+8*cH]=t[cJ][2*aq]+aB;I[8*fp+8*cH+1]=t[cJ][2*aq+1]+au;I[8*fp+8*cH+2]=t[cJ][2*(aq+b)]+aB;
I[8*fp+8*cH+3]=t[cJ][2*(aq+b)+1]+au;I[8*fp+8*cH+4]=t[cJ+1][2*(aq+b)];I[8*fp+8*cH+5]=t[cJ+1][2*(aq+b)+1];
I[8*fp+8*cH+6]=t[cJ+1][2*aq];I[8*fp+8*cH+7]=t[cJ+1][2*aq+1];++cH}}}}}function S(t){var n=[100,300,500,700,1e3];
return n[t.EJ-1]}function $(t){var n=[30,70,100,140,300];return n[t.EJ-1]}function H(t){var n=[5,7,26,40,100];
return n[t.EJ-1]}function f(t){if(t.EJ==1){return 4}else if(t.EJ==2){return 8}else{return Math.floor($(t)/9)}}function F(t){var n=t.G9,J=new Float32Array(n),I=null;
for(var N=0;N<n;++N){J[N]=t.random()}if(t.G9<=3){J[0]=0;J[t.G9-1]=1}else{for(var N=0;N<2;++N){var fp=Math.floor(t.random()*n);
if(I==null||I!=fp){J[fp]=N;I=fp}else{J[fp+1]=N}}}return J}function U(t,n){var J=[],I=.2,cH=0;for(var N=0;
N<t.length;++N){var fp=n.random()*(1-I)+I;J.push(fp)}var b=Math.min(3,n.G9);for(var N=0;N<t.length;++N){if(J[N]>.9){++cH}}while(cH<b){var jL=Math.floor(n.random()*t.length);
if(J[jL]<=.9){J[jL]=.9+.1*n.random();++cH}}return J}function r(t,n){var J=S(n),I=S({EJ:1}),fp=[];for(var N=0;
N<t.length;++N){fp.push(Math.max(1,(n.random()*10+2)*J/I))}return fp}function E(t){var n=0;for(var N=0;
N<t.length;++N){if(N==0){n+=t[N]}else{n+=Math.abs(t[N]-t[N-1])}}return n}function k(t,n){if(t.length/2-1==S(n)){return t}var J=new Float32Array(2*(S(n)+1)),I=(t.length-2)/(J.length-2);
for(var N=0;N<J.length/2;++N){var fp=N*I,cH=Math.floor(fp),b=Math.ceil(fp),jL=b-cH,aq=1,cJ=0;if(jL!=0){aq=(b-fp)/jL;
cJ=(fp-cH)/jL}J[2*N]=aq*t[2*cH]+cJ*t[2*b];J[2*N+1]=aq*t[2*cH+1]+cJ*t[2*b+1]}return J}function P(t,n){var J=t.length/2,I=h(t),fp=I/J,cH=!1,aq=0,cJ=0,aB=1;
if(n){var b=Math.floor(I/n.aky),jL=n.aky;if(n.a7z&&t[0]==t[t.length-2]&&t[1]==t[t.length-1]){cH=!0;jL=I/(b+1)}if(n.type==2&&!cH&&jL*b+n.length>I){J=b+1}else{J=b+2}fp=jL}var au=new Float32Array(J*2);
au[0]=t[0];au[1]=t[1];for(var N=1;N<J;++N){while(aq<=N*fp){cJ=aq;aq+=C([t[2*aB],t[2*aB+1]],[t[2*(aB-1)],t[2*(aB-1)+1]]);
++aB}var ea=1-(N*fp-cJ)/(aq-cJ);au[2*N]=(1-ea)*t[2*aB]+ea*t[2*(aB-1)];au[2*N+1]=(1-ea)*t[2*aB+1]+ea*t[2*(aB-1)+1]}au[au.length-2]=t[t.length-2];
au[au.length-1]=t[t.length-1];return au}function z(t,n){var J=P(t,n),I=[];for(var N=0;N<(J.length-2)/2;
++N){var fp=[];fp.push(J[2*N]);fp.push(J[2*N+1]);var cH=C([J[2*(N+1)],J[2*(N+1)+1]],[J[2*N],J[2*N+1]]),b=[(J[2*(N+1)]-J[2*N])/cH,(J[2*(N+1)+1]-J[2*N+1])/cH],jL=x((n.anK-90)/360*2*Math.PI),aq=b;
if(n.type==3){aq=jL}else if(n.type==4){aq=x(K(b)+K(jL))}else if(n.type==5){aq=x(((n.random()-.5)*n.anK-90)/360*2*Math.PI)}var cJ=n.length;
if(n.adR){cJ=2*n.random()*n.length}fp.push(J[2*N]+aq[0]*cJ);fp.push(J[2*N+1]+aq[1]*cJ);I.push(fp)}return I}function s(t){if(t.al8){t.lf=100*Math.random()}else{t.lf=t.a5K}t.random=new g;
t.random(t.lf);if(t.type==6){t.G9=2;t.shape=5;t.apZ=0}}function Y(t,n){t=k(t,n);var J=[t],cJ=0;if(n.type>=2&&n.type<6){J=z(t,n)}var I=f(n)-1,fp=$(n)-I,cH=(n.G9-1)*(H(n)-1),b=J.length*fp*cH,jL=new Float32Array(b),aq=new Float32Array(8*b);
for(var N=0;N<J.length;++N){for(var aB=0;aB<1e4;++aB){n.lf=o(n.lf)}n.random(n.lf);var t=k(J[N],n),au=F(n),ea=E(au),ax=M(t,au,n),f1=Z(n,au),fk=m(f1.a3C,ax,n);
fk=y(fk,f1.Gl,f1.auO,$(n));if(n.TN>0){fk=V(fk,h(J[N]),n)}L(fk,n,jL,aq,cJ);cJ+=fp*cH}return[jL,aq]}var cc=function(t){var n=performance.now(),J=t[0],I=t[1];
s(I);var fp=[new Float32Array(0),new Float32Array(0)];for(var N=0;N<J.length;++N){I.lf=o(I.lf);var cH=Y(J[N],I),b=new Float32Array(fp[0].length+cH[0].length),jL=new Float32Array(fp[1].length+cH[1].length);
b.set(fp[0]);b.set(cH[0],fp[0].length);fp[0]=b;jL.set(fp[1]);jL.set(cH[1],fp[1].length);fp[1]=jL}var aq=performance.now();
if(I.acQ){console.Fu("Geometry: "+String(aq-n)+"ms")}return fp};return cc}(),dc=function(){function o(x,K){var h=[],X=0,w=K.length,G=0,R=0,d=new aS,q=0,m=1e9;
for(R=0;R<w;R++){var M=R*8,Z=K[R];if(Z<m)m=Z;var Q=x[M+0],p=x[M+1],y=x[M+2],V=x[M+3],W=x[M+4],v=x[M+5],j=x[M+6],e=x[M+7],T=Math.min(Q,y,W,j),O=Math.max(Q,y,W,j),L=Math.min(p,V,v,e),S=Math.max(p,V,v,e),$=new aS(T,L,O-T,S-L),H=$.ae(d),f=q+Z;
if(R-G<10&&(R==G||H.$()*.8<$.$()+d.$())){d=H;q=f}else{h.push(R-G);G=R;d=$;q=Z;m=Z}}if(R!=G)h.push(R-G);
return h}function g(x,K,h,X,w,G){var R=document.createElement("canvas"),p=0,b=.8;R.width=K;R.height=h;
var d=R.getContext("2d"),q=w[0],m=w[1],M=new Float64Array(K*h),Z=Date.now(),Q=o(m,q);for(var y=0;y<Q.length;
y++){var V=p,W=p+Q[y],e=1e9,O=1e9,U=0;p=W;var v=V*8,j=W*8,T=-e,L=-O;for(var S=v;S<j;S+=2){var $=m[S],H=m[S+1];
if($<e)e=$;if($>T)T=$;if(H<O)O=H;if(H>L)L=H}e=Math.floor(e);T=Math.ceil(T);O=Math.floor(O);L=Math.ceil(L);
var f=T-e,F=L-O;for(var r=V;r<W;r++)U+=q[r];for(var S=v;S<j;S+=8){var E=q[S>>>3],k=m[S+0],P=m[S+1],z=m[S+2],s=m[S+3],Y=m[S+4],t=m[S+5],n=m[S+6],J=m[S+7];
d.fillStyle="rgba(0,0,0,"+E/U+")";d.beginPath();d.moveTo(k,P);d.lineTo(z,s);d.lineTo(Y,t);d.lineTo(n,J);
d.closePath();d.fill()}var I=d.getImageData(e,O,f,F).data;for(var H=0;H<F;H++)for(var $=0;$<f;$++){var N=H*f+$,fp=I[N*4+3],cH=(O+H)*K+e+$;
if(fp!=0)M[cH]+=fp*U}d.clearRect(e,O,f,F)}var jL=G[1].color,aq=Math.pow(jL.z/255,b),cJ=Math.pow(jL.B/255,b),aB=Math.pow(jL.K/255,b),au=new aS(0,0,K,h),ea=l.Z(K*h*4);
for(var H=0;H<h;H++)for(var $=0;$<K;$++){var N=H*K+$,r=N*4,q=M[N]*(1/255);ea[r]=a(aq,q);ea[r+1]=a(cJ,q);
ea[r+2]=a(aB,q);ea[r+3]=Math.min(255,q*255)}l.j.Ly("norm",ea,au,X,au,au,1)}var C=new Uint8Array(2e3);
for(var N=0;N<2e3;N++)C[N]=255*Math.min(1,Math.log(N/700+1));function a(x,K){return C[Math.min(1500,~~(x*K*1e3))]}return g}(),ej=function(){var o=new Float32Array(3e3),g=new Float32Array(3e3),C=new Float32Array(256),a=new Float32Array(3e3);
function x(){var m=o.length;o[0]=Math.log10(157647e-9);for(var N=1;N<m;++N)o[N]=Math.log10(N/m)}function K(){var m=g.length;
for(var N=0;N<m;++N)g[N]=Math.pow(10,20*(N-m/2)/m)}function h(){var m=C.length;for(var N=0;N<m;++N)C[N]=l.RA(N/255)}function X(){var m=a.length;
for(var N=0;N<m;++N)a[N]=255*l.eS(N/(m-1))}function w(m,M){var Z=m.length>>>2;for(var N=0;N<Z;++N){var Q=C[m[4*N]],p=C[m[4*N+1]],y=C[m[4*N+2]],V=.3811*Q+.5783*p+.0402*y,W=.1967*Q+.7244*p+.0782*y,v=.0241*Q+.1288*p+.8444*y;
V=o[~~(V*o.length)];W=o[~~(W*o.length)];v=o[~~(v*o.length)];M[3*N]=(V+W+v)*.5773502692;M[3*N+1]=(V+W-2*v)*.4082482905;
M[3*N+2]=(V-W)*.7071067812}}function G(m,M){var Z=M.length>>>2,Q=a.length-1;for(var N=0;N<Z;++N){var p=.5773502692*m[3*N],y=.4082482905*m[3*N+1],V=.7071067812*m[3*N+2],W=g[~~((p+y+V+10)*(3e3/20))],v=g[~~((p+y-V+10)*(3e3/20))],j=g[~~((p-2*y+10)*(3e3/20))],e=4.4679*W-3.5873*v+.1193*j,T=-1.2186*W+2.3809*v-.1624*j,O=.0497*W-.2439*v+1.2045*j;
M[4*N]=a[~~(Q*Math.max(0,Math.min(1,e)))];M[4*N+1]=a[~~(Q*Math.max(0,Math.min(1,T)))];M[4*N+2]=a[~~(Q*Math.max(0,Math.min(1,O)))]}}function R(m){var M=0,Z=0,Q=0;
for(var N=0;N<m.length;N+=3){M+=m[N];Z+=m[N+1];Q+=m[N+2]}return[M/(m.length/3),Z/(m.length/3),Q/(m.length/3)]}function d(m,R){var M=0,Z=0,Q=0;
for(var N=0;N<m.length;N+=3){var p=m[N]-R[0],y=m[N+1]-R[1],V=m[N+2]-R[2];M+=p*p;Z+=y*y;Q+=V*V}return[Math.sqrt(M/(m.length/3)),Math.sqrt(Z/(m.length/3)),Math.sqrt(Q/(m.length/3))]}function q(m,M,Z,Q,p,y){x();
K();h();X();var V=0,P,z;if(y[0]>100)V=-(y[0]-100)/100*.13;else if(y[0]>=75)V=(100-y[0])/25*.04;else if(y[0]>=50)V=.04+(75-y[0])/25*.04;
else if(y[0]>=25)V=.08+(50-y[0])/25*.08;else V=.16+(25-y[0])/25*.24;var W=(y[1]-100+100)/100,v=y[2]/100,j=y[3],e=new Float32Array(m.length*3/4),T=new Float32Array(Q.length*3/4),O=Date.now();
w(m,e);w(Q,T);var L=Date.now(),S=R(e),$=R(T),H=Date.now(),f=d(e,S),F=d(T,$),U=Date.now();$[0]*=Math.pow(10,V);
var r=[F[0]/f[0],F[1]/f[1],F[2]/f[2]],E=e.length,k=1/-1.1546978950500488;for(var N=0;N<E;N+=3){if(j){var s=Math.max(0,Math.min(1,e[N]*k));
s=1-Math.sqrt(s);P=s*$[1];z=s*$[2]}else{P=$[1];z=$[2]}e[N]=(e[N]-S[0])*r[0]+$[0];e[N+1]=(e[N+1]-S[1])*r[1]*W+P;
e[N+2]=(e[N+2]-S[2])*r[2]*W+z}var Y=Date.now();G(e,p);var t=p.length>>>2;for(var N=0;N<t;++N){p[4*N]=(1-v)*p[4*N]+v*m[4*N];
p[4*N+1]=(1-v)*p[4*N+1]+v*m[4*N+1];p[4*N+2]=(1-v)*p[4*N+2]+v*m[4*N+2];p[4*N+3]=255}}return q}(),dE=function(){function o(g,C,a,x,K){var h=[-1,-1,-1,-1],X=255,w=160,G,R=!1,d=new Array(4);
d[0]=new Array(C);d[1]=new Array(a);d[2]=new Array(C);d[3]=new Array(a);var q=new Array(2);q[0]=new Array(a);
q[1]=new Array(a);function m(F,U,r,E,k){this.start=E;this.axis=k;this.dir=F;this.end=-1;this.source=U;
this.$=r}function M(F,U,r,E,k){if(r%2==0){if(!d[r][F])d[r][F]=new Array;d[r][F].push(new m(r,E,k,U,F))}else{if(!d[r][U])d[r][U]=new Array;
d[r][U].push(new m(r,E,k,F,U))}var P=Date.now()}function Z(N){var F=!1,U=0;if(g[4*N+3]<X)return F;var r=N%C,E=Math.floor(N/C);
Q(r,E);if(N+C<C*a&&g[4*(N+C)+3]<X&&g[4*(N-C)+3]>=X&&g[4*(N-2*C)+3]>=X){var k=2;if(g[4*(N+C)+3]<=w)U=-1;
if(g[4*(N+2*C-1)+3]<X&&g[4*(N+2*C+1)+3]<X)F=!0;else if(g[4*(N+2*C-1)+3]>=X&&g[4*(N+1)+3]>=X)F=!0;else if(g[4*(N+2*C+1)+3]>=X&&g[4*(N-1)+3]>=X)F=!0;
M(r,E,k,U,F)}else if(N-C>=0&&g[4*(N-C)+3]<X&&g[4*(N+C)+3]>=X&&g[4*(N+2*C)+3]>=X){var k=0;if(g[4*(N-C)+3]<=w)U=-1;
if(g[4*(N-2*C-1)+3]<X&&g[4*(N-2*C+1)+3]<X)F=!0;else if(g[4*(N-2*C-1)+3]>=X&&g[4*(N+1)+3]>=X)F=!0;else if(g[4*(N-2*C+1)+3]>=X&&g[4*(N-1)+3]>=X)F=!0;
M(r,E,k,U,F)}U=0;if(N+1<C*a&&g[4*(N+1)+3]<X&&g[4*(N-1)+3]>=X&&g[4*(N-2)+3]>=X){var k=3;if(g[4*(N+1)+3]<=w)U=-1;
if(!F&&g[4*(N+C+2)+3]<X&&g[4*(N-C+2)+3]<X){F=!0;M(r,E,k,U,!0)}else M(r,E,k,U,!1)}else if(N>=1&&g[4*(N-1)+3]<X&&g[4*(N+1)+3]>=X&&g[4*(N+2)+3]>=X){var k=1;
if(g[4*(N-1)+3]<=w)U=-1;if(!F&&g[4*(N+C-2)+3]<X&&g[4*(N-C-2)+3]<X){F=!0;M(r,E,k,U,!0)}else M(r,E,k,U,!1)}return F}function Q(N,F){if(h[0]==-1){h[0]=N;
h[1]=F;h[2]=1;h[3]=1}if(N<h[0]){h[2]+=h[0]-N;h[0]=N}if(N>h[0]+h[2])h[2]=N-h[0];if(F<h[1]){h[3]+=h[1]-F;
h[1]=F}if(F>h[1]+h[3])h[3]=F-h[1]}function p(F,N,U,r){if(!U.$)return;var E=(F+2)%4,k=U.start,P=h[1];
if(F==2)P+=h[3];else if(F==1)P=h[0];else if(F==3)P=h[0]+h[2];var z=U.source;if(d[E][N])for(var s=0;s<d[E][N].length;
++s){if(F>1){var Y=k+Math.floor((d[E][N][s].start-k)/2);if(d[E][N][s].start>k&&Y<P)P=Y}else{var Y=k-Math.floor((k-d[E][N][s].start)/2);
if(d[E][N][s].start<k&&Y>P)P=Y}}for(var t=1;t<Math.abs(P-k);++t){var s=k+t;if(F==1||F==0)s=k-t;for(var n=0;
n<2;++n){var J=2*n,I=!1;if(F%2==0)J+=1;if(d[J][s]){for(var fp=0;fp<d[J][s].length;++fp){if(d[J][s][fp].$){var cH=d[J][s][fp].start,b=N-cH,jL=s-k;
if(J==0||J==1)b=-b;if(b<=0)continue;if(F==0||F==1)jL=-jL;if(jL>b){P=s;I=!0;break}}}if(I)break}}}U.end=P;
W(F,N,k,P,z)}function y(F){for(var N=0;N<d[F].length;++N){if(d[F][N])for(var U=0;U<d[F][N].length;++U){p(F,N,d[F][N][U])}}}function V(){var F=[2,0,3,1];
for(var N=0;N<F.length;++N)y(F[N])}function W(F,N,U,r,E){if(F==2)for(var k=U;k<=r;++k){if(!v(k*C+N,(U+E)*C+N))return!1}else if(F==0)for(var k=U;
k>=r;--k){if(!v(k*C+N,(U-E)*C+N))return!1}else if(F==1)for(var k=U;k>=r;--k){if(!v(N*C+k,N*C+U-E))return!1}else if(F==3)for(var k=U;
k<=r;++k){if(!v(N*C+k,N*C+U+E))return!1}}function v(F,U){if(!G[F]){x[4*F]=x[4*U];x[4*F+1]=x[4*U+1];x[4*F+2]=x[4*U+2];
if(R)x[4*F+3]=255;G[F]=!0;return!0}return!1}function j(){for(var N=0;N<4;N+=1){for(var F=0;F<d[N].length;
++F){if(d[N][F])for(var U=0;U<d[N][F].length;++U){var r=d[N][F][U];for(var E=1;E<3;E+=2){var k=(N+E)%4;
if(d[k][r.start])for(var P=0;P<d[k][r.start].length;++P){if(d[k][r.start][P].start==r.axis){var ee=C*r.start+r.axis;
if(N%2==1){ee=r.start+C*r.axis;e(d[k][r.start][P])}else e(r)}}}}}}}function e(F){if(F.dir%2==0){var ee=C*F.start+F.axis,U=F.start,r=1;
if(!G[ee+1])r=3;else if(G[ee-1])return;var E=x[4*ee],k=x[4*ee+1],P=x[4*ee+2];while(x[4*ee]==E&&x[4*ee+1]==k&&x[4*ee+2]==P){if(r==1){if(!q[0][U])q[0][U]=new Array;
q[0][U].push(new m(r,0,!1,F.axis,U))}else{if(!q[1][U])q[1][U]=new Array;q[1][U].push(new m(r,0,!1,F.axis,U))}if(F.dir==2){ee+=C;
U++}else{ee-=C;U--}}}}function T(){for(var F=0;F<2;++F){var U=(F+1)%2;for(var N=0;N<q[F].length;++N){if(q[F][N])for(var r=0;
r<q[F][N].length;++r){var E=h[0];if(F==1)E+=h[2];var k=q[F][N][r].start;if(q[U][N])for(var P=0;P<q[U][N].length;
++P){var z=q[U][N][P].ZQ;if(F==0){if(z>E&&z<k){E=k-Math.floor((k-z)/2)}}else{if(z<E&&z>k){E=k+Math.ceil((z-k)/2)}}}if(F==0)W(q[F][N][r].dir,N,k-1,E,-1);
else W(q[F][N][r].dir,N,k+1,E,-1)}}}for(var N=0;N<G.length;++N){if(!G[N]&&N%C>=h[0]&&N%C<=h[0]+h[2]&&Math.floor(N/C)>=h[1]&&Math.floor(N/C)<=h[1]+h[3]){var k=C;
if(N<k||!G[N-k])k=1;x[4*N]=x[4*(N-k)];x[4*N+1]=x[4*(N-k)+1];x[4*N+2]=x[4*(N-k)+2];G[N]=!0;if(R)x[4*N+3]=255}}}function O(){G=new Array(g.length/4);
for(var N=0;N<x.length/4;++N){G[N]=!1;x[4*N]=g[4*N];x[4*N+1]=g[4*N+1];x[4*N+2]=g[4*N+2];x[4*N+3]=g[4*N+3];
if(x[4*N+3]==255)G[N]=!0;if(Z(N))G[N]=!1}if(h[0]>0){h[0]--;h[2]++}if(h[1]>0){h[1]--;h[3]++}if(h[0]+h[2]<C){h[2]++}if(h[1]+h[3]<a){h[3]++}}var L=Date.now();
O();var S=Date.now();V();var $=Date.now();j();var H=Date.now();T();var f=Date.now();console.log("Init: "+String(S-L));
console.log("Filling: "+String($-S));console.log("Check areas: "+String(H-$));console.log("Fill areas: "+String(f-H))}return o}();
l.aV={Gz:function(o,g){var N=o.length;o.push(g);var C=N>>>1;while(C!=0&&o[N][0]<o[C][0]){var a=o[N];
o[N]=o[C];o[C]=a;N=C;C=N>>>1}},g3:function(o){if(o.length==2)return o.pop();var top=o[1],N=1;o[1]=o.pop();
var g=o.length;while(!0){var C=N<<1,a=C+1,x=N;if(C<g&&o[C][0]<o[x][0])x=C;if(a<g&&o[a][0]<o[x][0])x=a;
if(x==N)break;var K=o[N];o[N]=o[x];o[x]=K;N=x}return top},agl:function(o){for(var N=1;N<o.length;N++){var g=N,C=1e9;
while(g!=0){var a=o[g][0];if(a>C){console.log(N);throw"e"}C=a;g=g>>>1}}}};l.j={};l.j.xt=new Float64Array(256);
l.j.fY=new Uint8Array(256*256);l.j.bF=new Uint8Array(256*256);(function(){for(var N=0;N<256;N++)l.j.xt[N]=255/N;
for(var N=0;N<256;N++)for(var o=0;o<256;o++)l.j.fY[N*256+o]=N==0?0:Math.round(o*255/N);for(var N=0;N<256;
N++)for(var o=0;o<256;o++)l.j.bF[N*256+o]=Math.round(N*(255-o)/255)}());l.j.Ly=function(o,g,C,a,x,K,h,X){if(X==null)X=bd.wd();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(o)==-1){h=h*X.fill;X.fill=1;X.style=!1}var w="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),G="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),R=l.j[o+"F"];
if(X.YR==null&&o=="norm")l.j.ale(g,C,a,x,K,h,R,X.FH?1:0);else if(o=="diss")l.j.awK(g,C,a,x,K,h,R,X.FH?1:0);
else if(w.indexOf(o)!=-1)l.j.ael(g,C,a,x,K,h,R,X);else if(G.indexOf(o)!=-1)l.j.a75(g,C,a,x,K,h,R,X)};
l.j.a8W=function(o,g,C){var a=o*C+1-C;return a<.001?0:1-Math.min(1,(1-g)/a)};l.j.a7W=function(o,g,C){return o*C==1?1:Math.min(1,g/(1-o*C))};
l.j.j6=function(o){return o<=.25?((16*o-12)*o+4)*o:Math.sqrt(o)};l.j.normF=function(o,g,C){return o};
l.j.darkF=function(o,g,C){return Math.min(o,g)};l.j["mul F"]=function(o,g,C){return o*g};l.j.idivF=function(o,g,C){var a=o*C+1-C;
return g==1?1:1-g>=a?0:1-(1-g)/a};l.j.lbrnF=function(o,g,C){return Math.max(0,o*C+g-C)};l.j.dkClF=function(o,g,C){var a=l.Is(o)<l.Is(g)?o:g;
C.z=a.z;C.B=a.B;C.K=a.K;return C};l.j.liteF=function(o,g,C){return Math.max(o,g)};l.j.scrnF=function(o,g,C){return g+o-g*o};
l.j["div F"]=function(o,g,C){o*=C;return g==0?0:g>=1-o?1:g/(1-o)};l.j.lddgF=function(o,g,C){o*=C;return Math.min(1,o+g)};
l.j.lgClF=function(o,g,C){var a=l.Is(o)>l.Is(g)?o:g;C.z=a.z;C.B=a.B;C.K=a.K;return C};l.j.overF=function(o,g,C){return l.j.hLitF(g,o,C)};
l.j.sLitF=function(o,g,C){return o<=.5?g-(1-2*o)*g*(1-g):g+(2*o-1)*(l.j.j6(g)-g)};l.j.hLitF=function(o,g,C){return o<=.5?l.j["mul F"](2*o,g,C):l.j.scrnF(2*o-1,g,C)};
l.j.vLitF=function(o,g,C){return o<=.5?l.j.a8W(2*o,g,C):l.j.a7W(2*o-1,g,C)};l.j.lLitF=function(o,g,C){return o<=.5?l.j.lbrnF(2*o,g,C):l.j.lddgF(2*o-1,g,C)};
l.j.pLitF=function(o,g,C){return o<=.5?l.j.darkF(2*o,g,C):l.j.liteF(2*o-1,g,C)};l.j.hMixF=function(o,g,C){if(C>.99)return o+g<1?0:1;
return Math.min(1,Math.max(0,(g+o*C-C)/(1-C+1e-6)))};l.j.diffF=function(o,g,C){o*=C;return Math.abs(o-g)};
l.j.smudF=function(o,g,C){return o+g-2*o*g};l.j.fsubF=function(o,g,C){return Math.max(g-o,0)};l.j.fdivF=function(o,g,C){return Math.min(g/o,1)};
l.j["hue F"]=function(o,g,C){l.j.tW(o,l.AK(g),C);l.j.V9(C,l.Is(g),C)};l.j["sat F"]=function(o,g,C){l.j.tW(g,l.AK(o),C);
l.j.V9(C,l.Is(g),C)};l.j.colrF=function(o,g,C){l.j.V9(o,l.Is(g),C)};l.j["lum F"]=function(o,g,C){l.j.V9(g,l.Is(o),C)};
l.j.V9=function(o,g,C){var a=g-l.Is(o);C.z=o.z+a;C.B=o.B+a;C.K=o.K+a;l.j.arA(C)};l.j.arA=function(o){var g=o.z,C=o.B,a=o.K,x=l.mD(g,C,a),ee=Math.min(g,C,a),K=Math.max(g,C,a);
if(ee<0){var h=x/(x-ee);g=x+(g-x)*h;C=x+(C-x)*h;a=x+(a-x)*h}if(K>1){var h=(1-x)/(K-x);g=x+(g-x)*h;C=x+(C-x)*h;
a=x+(a-x)*h}o.z=g;o.B=C;o.K=a};l.j.tW=function(o,g,C){var a=l.j.apH,x=o.z,K=o.B,h=o.K;if(x==K&&K==h){C.z=C.B=C.K=0}else if(x>K){if(x>h){if(K>h){C.z=g;
C.B=a(x,K,h,g);C.K=0}else{C.z=g;C.K=a(x,h,K,g);C.B=0}}else{C.K=g;C.z=a(h,x,K,g);C.B=0}}else{if(x<h){if(K>h){C.B=g;
C.K=a(K,h,x,g);C.z=0}else{C.K=g;C.B=a(h,K,x,g);C.z=0}}else{C.B=g;C.z=a(K,x,h,g);C.K=0}}};l.j.apH=function(o,g,C,a){return(g-C)*a/(o-C)};
l.j.ale=function(o,g,C,a,x,K,h,X){var w=g.Kw(a).Kw(x),G=Math.max(0,w.x-g.x),R=Math.max(0,w.x-a.x),d=Math.max(0,w.y-g.y),q=Math.max(0,w.y-a.y),m=w.m,M=w.n,Z=g.m,Q=a.m,p=l.j.fY,y=l.j.bF,V=new Uint32Array(o.buffer),W=new Uint32Array(C.buffer);
for(var N=0;N<M;N++){var v=(d+N)*Z+G,j=(q+N)*Q+R;for(var e=0;e<m;e++){var T=V[v+e],r=1;if(T>>>24==0)continue;
if(T>>>24==255&&K==1&&X==0){W[j+e]=V[v+e];continue}var O=W[j+e],L=T&255,S=T>>>8&255,$=T>>>16&255,H=O&255,f=O>>>8&255,F=O>>>16&255,U=K,E=(O>>>24)*(1/255);
if(X==0){U=(T>>>24)*K*(1/255);r=E}var k=r*(1-U),P=U+k,z=1/P;W[j+e]=~~(.5+(X*E+(1-X)*P)*255)<<24|~~(.5+($*U+F*k)*z)<<16|~~(.5+(S*U+f*k)*z)<<8|~~(.5+(L*U+H*k)*z)}}};
l.j.akU=function(o,g,C,a,x,K){var h=g.Kw(a).Kw(x),X=Math.max(0,h.x-g.x),w=Math.max(0,h.x-a.x),G=Math.max(0,h.y-g.y),R=Math.max(0,h.y-a.y),d=h.m,q=h.n,m=g.m,M=a.m,Z=l.j.fY,Q=l.j.bF,p=new Uint32Array(o.buffer),y=new Uint32Array(C.buffer),V=Math.floor(Math.random()*16777215),W=0;
for(var N=0;N<q;N++){var v=(G+N)*m+X,j=(R+N)*M+w;for(var e=0;e<d;e++){var T=p[v+e];if(T>>>24==0)continue;
if(T>>24==255&&K==1){y[j+e]=T;continue}var O=y[j+e],L=(T>>>24)*K*(1/255),S=(O>>>24)*(1/255),$=S*(1-L),H=L+$,f=T&255,F=T>>>8&255,U=T>>>16&255,r=O&255,E=O>>>8&255,k=O>>>16&255;
W>>>=8;if((e&3)==0)W=l.j.YZ(j+e+V);var P=H==0?0:1/H,z=Math.floor(H*(256*255))+(W&255)>>>8,s=Math.floor((U*L+k*$)*P+.5),Y=Math.floor((F*L+E*$)*P+.5),t=Math.floor((f*L+r*$)*P+.5);
y[j+e]=z<<24|s<<16|Y<<8|t}}};l.j.Cc=function(o,g,C,a,x,K,h,X){var w=l.mD(o,g,C),G=l.mD(a,x,K),R=Math.min,d=l.j.a0b,q=d(w,X,0);
q=R(q,d(o,X,8));q=R(q,d(g,X,16));q=R(q,d(C,X,24));var m=d(G,X,4);m=R(m,d(a,X,12));m=R(m,d(x,X,20));m=R(m,d(K,X,28));
m=Math.max(m,1-h);var M=Math.min(q,m);return M<0?0:M>1?1:M};l.j.a0b=function(o,g,N){return Math.min((o-g[N])*g[N+1],(o-g[N+3])*g[N+2])};
l.j.ael=function(o,g,C,a,x,K,h,X){var w=1/255,G=w*K,R=X.FH?1:0,d=X.fill,q=X.style,m=g.Kw(a).Kw(x),M=Math.max(0,m.x-g.x),Z=Math.max(0,m.x-a.x),Q=Math.max(0,m.y-g.y),p=Math.max(0,m.y-a.y),y=m.m,V=m.n,W=g.m,v=a.m,j=new Uint32Array(o.buffer),e=new Uint32Array(C.buffer);
for(var N=0;N<V;N++){var T=(Q+N)*W+M,O=(p+N)*v+Z;for(var L=0;L<y;L++,T++,O++){var S=j[T],P=1;if(S>>>24==0)continue;
var $=e[O],H=(S&255)*w,f=(S>>>8&255)*w,F=(S>>>16&255)*w,U=($&255)*w,r=($>>>8&255)*w,E=($>>>16&255)*w,k=K;
if(R==0){k=(S>>>24)*G;P=($>>>24)*w}if(X.YR)k*=l.j.Cc(H,f,F,U,r,E,P,X.YR);var z=P*(1-k),s=k+z,Y=s==0?0:255/s,t=q?1:k,n=((1-P)*k*H+(1-t)*P*U+t*P*h(H,U,(1+k-t)*d))*Y,J=((1-P)*k*f+(1-t)*P*r+t*P*h(f,r,(1+k-t)*d))*Y,I=((1-P)*k*F+(1-t)*P*E+t*P*h(F,E,(1+k-t)*d))*Y;
s=k*d+P*(1-k*d);var fp=~~(s*255+.5);e[O]=R*($>>>24)+(1-R)*fp<<24|I<<16|J<<8|n}}};l.j.a75=function(o,g,C,a,x,K,h,X){var w=1/255,G=w*K,R=X.FH?1:0,d=g.Kw(a).Kw(x),q=Math.max(0,d.x-g.x),m=Math.max(0,d.x-a.x),M=Math.max(0,d.y-g.y),Z=Math.max(0,d.y-a.y),Q=d.m,p=d.n,y=new Uint32Array(o.buffer),V=new Uint32Array(C.buffer),W={z:0,B:0,K:0},v={z:0,B:0,K:0},j={z:0,B:0,K:0};
for(var N=0;N<p;N++){var e=(M+N)*g.m+q,T=(Z+N)*a.m+m;for(var O=0;O<Q;O++,e++,T++){var L=y[e],S=V[T],$=(L&255)*w,H=(L>>>8&255)*w,f=(L>>>16&255)*w,F=(S&255)*w,U=(S>>>8&255)*w,r=(S>>>16&255)*w,E=K,k=1;
if(R==0){E=(L>>>24)*G;k=(S>>>24)*w}if(X.YR)E*=l.j.Cc($,H,f,F,U,r,k,X.YR);var P=k*(1-E),z=E+P,s=255/z;
W.z=$;W.B=H;W.K=f;v.z=F;v.B=U;v.K=r;h(W,v,j);var Y=(((1-k)*$+k*j.z)*E+F*P)*s,t=(((1-k)*H+k*j.B)*E+U*P)*s,n=(((1-k)*f+k*j.K)*E+r*P)*s,J=R*(S>>>24)+(1-R)*Math.round(z*255);
V[T]=J<<24|n<<16|t<<8|Y}}};l.j.Pt=function(o){o=o^61^o>>>16;o=o+(o<<3);o=o^o>>>4;o=o*668265261;o=o^o>>15;
return(o&16777215)*(1/16777215)};l.j.YZ=function(o){o=o^61^o>>>16;o=o+(o<<3);o=o^o>>>4;o=o*668265261;
o=o^o>>>15;return o};l.j.$Y=function(o){this.JO=o};l.j.$Y.prototype.get=function(){var o=this.JO=l.j.YZ(this.JO);
return(o&16777215)*(1/16777215)};l.j.awK=function(o,g,C,a,x,K,h,X){var w=1/255,G=w*K,R=Math.round(K*(256*256*256/255)),d=g.Kw(a).Kw(x),q=Math.max(0,d.x-g.x),m=Math.max(0,d.x-a.x),M=Math.max(0,d.y-g.y),Z=Math.max(0,d.y-a.y),Q=d.m,p=d.n,y=new Uint32Array(o.buffer),V=new Uint32Array(C.buffer);
for(var N=0;N<p;N++){var W=(M+N)*g.m+q,v=(Z+N)*a.m+m;for(var j=0;j<Q;j++,W++,v++){var e=y[W],T=V[v],O=X*255+(1-X)*(e>>>24);
if((l.j.YZ(W)&16777215)>=O*R)continue;V[v]=e&16777215|X*(T>>>24)+(1-X)*255<<24}}};l.j.a71=function(o,g,C){for(var N=0;
N<o.length;N+=4){var a=C[N>>>2];if(a==0)continue;var x=a*(1/255),K=1/x,h=g[N],X=g[N+1],w=g[N+2],G=o[N],R=o[N+1],d=o[N+2];
g[N]=Math.min(255,Math.max(0,Math.round((h-(1-x)*G)*K)));g[N+1]=Math.min(255,Math.max(0,Math.round((X-(1-x)*R)*K)));
g[N+2]=Math.min(255,Math.max(0,Math.round((w-(1-x)*d)*K)));g[N+3]=255}};l.j.GL=function(o,g,C,a,x,K,h,X,w,G,R){if(G==null)G=!1;
if(R==null)R=[1,1,1];var d=255<<24|R[2]*16711680|R[1]*65280|R[0]*255,q=~d;if(x&&!g.$s(K)){var m=l.Z(g.$()*4);
m.fill(h);l.MD(x,K,m,g);x=m;K=g}if(G){if(x==null)l.j.aaY(o,g,C,a,x,X,w,d,q);else l.j.ada(o,g,C,a,x,X,w)}else{if(x==null)l.j.a0Q(o,g,C,a,x,X,w,d,q);
else l.j.acE(o,g,C,a,x,X,w)}};l.j.a0Q=function(o,g,C,a,x,K,h,X,w){var G=1/255,R=g.Kw(a).Kw(K),d=Math.max(0,R.x-g.x),q=Math.max(0,R.x-a.x),m=Math.max(0,R.y-g.y),M=Math.max(0,R.y-a.y),Z=R.m,Q=R.n,p=new Uint32Array(o.buffer),y=new Uint32Array(C.buffer),V=l.j.fY,W=h*255&255;
for(var N=0;N<Q;N++){var v=(m+N)*g.m+d,j=(M+N)*a.m+q;for(var e=0;e<Z;e++,v++,j++){var T=p[v],O=y[j],L=T>>>24,S=O>>>24,$=l.cL(W*L+(255-W)*S),H=l.cL(L*W),f=l.cL(S*(255-W)),F=T&255,U=T>>>8&255,r=T>>>16&255,E=O&255,k=O>>>8&255,P=O>>>16&255,z=H*F+E*f,s=H*U+k*f,Y=H*r+P*f;
z=V[$<<8|l.cL(z)];s=V[$<<8|l.cL(s)];Y=V[$<<8|l.cL(Y)];var t=$<<24|Y<<16|s<<8|z;y[j]=w&O|X&t}}};l.j.aaY=function(o,g,C,a,x,K,h,X,w){var G=1/255,R=g.Kw(a).Kw(K),d=Math.max(0,R.x-g.x),q=Math.max(0,R.x-a.x),m=Math.max(0,R.y-g.y),M=Math.max(0,R.y-a.y),Z=R.m,Q=R.n,p=new Uint32Array(o.buffer),y=new Uint32Array(C.buffer),V=l.j.fY,W=h*16777215&16777215;
for(var N=0;N<Q;N++){var v=(m+N)*g.m+d,j=(M+N)*a.m+q;for(var e=0;e<Z;e++,v++,j++){if((l.j.YZ(v)&16777215)<W){y[j]=w&y[j]|X&p[v]}}}};
l.j.acE=function(o,g,C,a,x,K,h){var X=1/255,w=g.Kw(a).Kw(K),G=Math.max(0,w.x-g.x),R=Math.max(0,w.x-a.x),d=Math.max(0,w.y-g.y),q=Math.max(0,w.y-a.y),m=w.m,M=w.n,Z=new Uint32Array(o.buffer),Q=new Uint32Array(C.buffer),p=l.j.fY;
for(var N=0;N<M;N++){var y=(d+N)*g.m+G,V=(q+N)*a.m+R;for(var W=0;W<m;W++,y++,V++){var v=x[y]*h&255;if(v==0)continue;
if(v==255){Q[V]=Z[y];continue}var j=Z[y],e=Q[V],T=j>>>24,O=e>>>24,L=l.cL(v*T+(255-v)*O),S=l.cL(T*v),$=l.cL(O*(255-v)),H=j&255,f=j>>>8&255,F=j>>>16&255,U=e&255,r=e>>>8&255,E=e>>>16&255,k=p[L<<8|l.cL(S*H+U*$)],P=p[L<<8|l.cL(S*f+r*$)],z=p[L<<8|l.cL(S*F+E*$)];
Q[V]=L<<24|z<<16|P<<8|k}}};l.j.ada=function(o,g,C,a,x,K,h){var X=1/255,w=g.Kw(a).Kw(K),G=Math.max(0,w.x-g.x),R=Math.max(0,w.x-a.x),d=Math.max(0,w.y-g.y),q=Math.max(0,w.y-a.y),m=w.m,M=w.n,Z=new Uint32Array(o.buffer),Q=new Uint32Array(C.buffer),p=l.j.fY,y=Math.round(h*257);
for(var N=0;N<M;N++){var V=(d+N)*g.m+G,W=(q+N)*a.m+R;for(var v=0;v<m;v++,V++,W++){var j=x[V]*y;if((l.j.YZ(V)&65535)<j)Q[W]=Z[V]}}};
l.j.wY=function(o,g,C,a,x,K,h){var X=1/255,w=g.Kw(a).Kw(K),G=Math.max(0,w.x-g.x),R=Math.max(0,w.x-a.x),d=Math.max(0,w.y-g.y),q=Math.max(0,w.y-a.y),m=w.m,M=w.n,Z=new Uint32Array(o.buffer),Q=new Uint32Array(C.buffer),p=Math.floor(Math.random()*a.$()),y=l.j.a3t;
for(var N=0;N<M;N++){var V=(d+N)*g.m+G,W=(q+N)*a.m+R;for(var v=0;v<m;v++){var j=x[V+v]*h;if(j==0)continue;
if(j==255){Q[W+v]=Z[V+v];continue}var e=Z[V+v],T=Q[W+v],O=e>>>24,L=T>>>24,S=O*j*(1/255),$=L*(255-j)*(1/255),H=e&255,f=e>>>8&255,F=e>>>16&255,U=T&255,r=T>>>8&255,E=T>>>16&255,k=l.j.YZ(W+v+p),P=Math.floor((S+$)*256+.5)+(k>>>0&255)>>>8,z=P==0?0:256/(S+$),s=H*S+U*$,Y=f*S+r*$,t=F*S+E*$,n=Math.floor(s*z+.5)+(k>>>8&255)>>>8,J=Math.floor(Y*z+.5)+(k>>>16&255)>>>8,I=Math.floor(t*z+.5)+(k>>>24&255)>>>8;
Q[W+v]=P<<24|I<<16|J<<8|n}}};l.j.a3t=function(o){return Math.floor(o+Math.random())};l.j.QD=function(o,g,C,a,x,K,h){var X=1/255,w=g.Kw(a).Kw(K),G=Math.max(0,w.x-g.x),R=Math.max(0,w.x-a.x),d=Math.max(0,w.y-g.y),q=Math.max(0,w.y-a.y),m=w.m,M=w.n;
for(var N=0;N<M;N++){var Z=(d+N)*g.m+G,Q=(q+N)*a.m+R;for(var p=0;p<m;p++,Z++,Q++){var y=h*x[Z]*X;if(y==0)continue;
if(y==1){C[Q]=o[Z];continue}C[Q]=o[Z]*y+C[Q]*(1-y)}}};l.ahh=function(){function o(K){var h=K*.85;return Math.exp(-(h*h)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function g(K,h){var X=K<h?1:o((K-h)/Math.pow(1.001-h,.86));
return X}var C=[];function a(K){if(C[K])return C[K];var h=Math.pow(K,.55),X=new Float64Array(8e3),w=0,G=8e3;
for(var N=0;N<8e3;N++){var R=g(N*(1.55/4e3),h);if(R>=1)w=N;else if(R<=0&&G==8e3)G=N;X[N]=R}var d=[X,w,G];
C[K]=d;return d}function x(K,h,X){var w=1+.55*(1-h),G=Math.round(X*K*w)+2,R=new aS(0,0,G,G),d=l.Z(G*G*4),q=new Uint32Array(d.buffer),m=[d,R],M=G/2,Z=w/(M-1),Q=Date.now(),p=a(h),y=Math.round(8e3/M),V=p[0],W=p[1]-y,v=p[2]+y,j=Math.min(G,G+1>>>1),e=Z*.4*(4e3/1.55),T=l.Z(8e3);
for(var N=0;N<8e3;N++){var O=N,L=N,S=~~Math.max(0,O-e-e),$=~~Math.max(0,O-e),H=~~(O+e),f=~~(O+e+e),F=~~(.5+255*(1/5)*(V[L]+V[S]+V[$]+V[H]+V[f]));
T[N]=F;if(F==0)break}for(var N=0;N<j;N++){var U=Z*(N-M+.5),r=U*U,E=N*G,k=(G-1-N)*G;for(var P=0;P<j;P++){var z=Z*(P-M+.5),L=~~(Math.sqrt(z*z+r)*(4e3/1.55));
if(v<L)continue;else if(L<W){var F=4278190080;while(P<j){var s=G-1-P;q[E+P]=F;q[E+s]=F;q[k+P]=F;q[k+s]=F;
P++}break}else{var F=T[L]<<24,s=G-1-P;q[E+P]=F;q[E+s]=F;q[k+P]=F;q[k+s]=F}}}return m}return{aet:x}}();
l.PT={};l.PT.afy=function(o,g,C,a,x,K){l.PT.Z6(o,g,C,a,x,K,null,0)};l.PT.ago=function(o,g,C,a,x){l.PT.Z6(o,g,C,a,x,null,null,0)};
l.PT.axd=function(o,g,C,a,x,K,h){l.PT.Z6(o,g,C,a,x,null,K,h*.5)};l.PT.Z6=function(o,g,C,a,x,K,h,X){var w=0,$=0,H=1e9,f=0,F=1e9,U=0,r=1e9,E=0,k=0,P=0,z=0;
if(K){w=x*.5;x=3+Math.round((x-3)*.75)}if(h){x=Math.round(x*2.2)}var G=1/x,R=Math.floor(g*G)+1,d=Math.floor(C*G)+1,q=[],m=new Uint8Array(R*d*4),M=h?.5:1,Z=K?64:0;
for(var Q=0;Q<d;Q++){var p=h?.5*(Q&1):0;for(var y=0;y<R;y++){var V=(y+Math.random()*M+p)*x,W=(Q+Math.random()*M)*x;
q.push(V,W);var v=Math.min(g-1,Math.floor(V)),j=Math.min(C-1,Math.floor(W)),e=(j*g+v)*4,T=(Q*R+y)*4;
for(var N=0;N<4;N++)m[T+N]=Math.max(0,Math.min(255,Math.floor(o[e+N]+(Math.random()-.5)*Z)))}}var O=K?K:h?h:[0,0,0],L=R*d*2,S=[-R-1,-R,-R+1,-1,0,1,R-1,R,R+1];
for(var Q=0;Q<C;Q++){P=0;for(var y=0;y<g;y++){var s=y+.5,Y=Q+.5,t=Math.floor(Y*G),n=Math.floor(s*G),J=t*R+n,cH=0,b=0;
if(P>1+X){H=l.PT.Ka(q,$,s,Y);E=Math.sqrt(H);P--;z++}else{H=F=r=1e9;for(var N=0;N<S.length;N++){var I=(J+S[N])*2;
if(I<0||I>=L)continue;var fp=l.PT.Ka(q,I,s,Y);if(fp<r){if(fp<F){if(fp<H){U=f;r=F;f=$;F=H;$=I;H=fp}else{U=f;
r=F;f=I;F=fp}}else{U=I;r=fp}}}E=Math.sqrt(H);k=Math.sqrt(F);P=k-(E+k)*.5}if(h==null){var jL=(E+k)*.5,aq=K?Math.max(0,jL-w):0;
cH=Math.max(0,Math.min(1,.5+jL-E-aq));b=Math.max(0,Math.min(1,1-(.5+jL-E)-aq))}else{var cJ=Math.min(l.PT.d3(q,$,f,s,Y),l.PT.d3(q,$,U,s,Y));
cH=Math.max(0,Math.min(1,cJ-X*.5));if(s<X||g-X<s||Y<X||C-X<Y)cH=0;b=0}var aB=1-b-cH,T=Q*g+y<<2,au=$<<1,ea=f<<1;
a[T+0]=Math.floor(.5+cH*m[au+0]+b*m[ea+0]+aB*O[0]);a[T+1]=Math.floor(.5+cH*m[au+1]+b*m[ea+1]+aB*O[1]);
a[T+2]=Math.floor(.5+cH*m[au+2]+b*m[ea+2]+aB*O[2]);a[T+3]=o[T+3]}}};l.PT.Ka=function(o,g,C,a){var x=C-o[g],K=a-o[g+1];
return x*x+K*K};l.PT.d3=function(o,g,C,a,x){var K=o[g],h=o[g+1],X=o[C],w=o[C+1],G=(K+X)*.5,R=(h+w)*.5,d=G+(w-h),q=R-(X-K),m=q-R,M=d-G;
return Math.abs(m*a-M*x+d*R-q*G)/Math.sqrt(M*M+m*m)};l.EB={};l.EB.lx=function(o){if(l.EB.qR.length<o)l.EB.qR=l.Z(o);
return l.EB.qR};l.EB.qR=l.Z(0);l.EB.E_=function(o){if(l.EB.YF.length<o)l.EB.YF=new Float32Array(o);return l.EB.YF};
l.EB.YF=new Float32Array(0);l.EB.OV=function(o,g,C,a){var x=C.m,K=C.n;l.EB.aum(o,g,x,K,a)};l.EB.oZ=function(o,g,C,a){var x=C.m,K=C.n;
l.EB.anN(o,g,x,K,a)};l.EB.tM=function(o,g,C){var a=g.m,x=g.n;l.EB.anv(o,a,x,C)};l.EB.D8=function(o,g,C,a,x){var K=C.m,h=C.n;
l.EB.asv(o,g,K,h,a,x)};l.EB.OE=function(o,g,C,a){var x=C.m,K=C.n;a=Math.round(a);var h=l.EB.lx(x*K);
l.j5(o,g);l.EB.da(g,h,x,K,a)};l.EB.Dw=function(o,g,C){var a=g.m,x=g.n;C=Math.round(C);var K=l.EB.lx(a*x*4);
l.EB.st(o,K,a,x,C)};l.EB.GP=function(o,g,C,a){var x=C.m,K=C.n;a=Math.round(a);var h=l.EB.E_(x*K);l.j5(o,g);
l.EB.NS(g,h,x,K,a)};l.EB.yz=function(o,g,C){var a=g.m,x=g.n;C=Math.round(C);var K=l.EB.lx(a*x*4);l.EB.NC(o,K,a,x,C);
l.j5(K,o)};l.EB.Ta=function(o,ee){var g=Math.sqrt(12*o*o/ee+1),C=Math.floor(g);if(C%2==0)C--;var a=C+2,x=(12*o*o-ee*C*C-4*ee*C-3*ee)/(-4*C-4),K=Math.round(x),h=[];
for(var N=0;N<ee;N++)h.push(N<K?C:a);return h};l.EB.aum=function(o,g,C,a,x){var K=l.EB.Ta(x,3),h=l.EB.lx(C*a);
l.j5(o,g);l.EB.da(g,h,C,a,K[0]-1>>1);l.EB.da(g,h,C,a,K[1]-1>>1);l.EB.da(g,h,C,a,K[2]-1>>1)};l.EB.anN=function(o,g,C,a,x){var K=l.EB.Ta(x,2),h=l.EB.lx(C*a);
l.j5(o,g);l.EB.da(g,h,C,a,K[0]-1>>1);l.EB.da(g,h,C,a,K[1]-1>>1)};l.EB.anv=function(o,g,C,a){var x=l.EB.Ta(a,3),K=l.EB.lx(g*C*4);
l.EB.st(o,K,g,C,x[0]-1>>1);l.EB.st(o,K,g,C,x[1]-1>>1);l.EB.st(o,K,g,C,x[2]-1>>1)};l.EB.asv=function(o,g,C,a,x,K){if(K==null)K=3;
var h=l.EB.Ta(x,K),X=l.EB.E_(C*a);l.j5(o,g);for(var N=0;N<K;N++)l.EB.NS(g,X,C,a,(h[N]-1)/2)};l.EB.da=function(o,g,C,a,x){l.EB.arH(o,g,C,a,x);
l.EB.auh(g,o,C,a,x)};l.EB.st=function(o,g,C,a,x){l.EB.NC(o,g,C,a,x);l.EB.ava(g,o,C,a,x)};l.EB.NS=function(o,g,C,a,x){l.EB.aaT(o,g,C,a,x);
l.EB.a1N(g,o,C,a,x)};l.EB.vT=[];l.EB.oF=function(o){if(l.EB.vT[o])return l.EB.vT[o];var g=1/(o+o+1),C=(o+o+1)*256,a=l.Z(C);
for(var N=0;N<C;N++)a[N]=Math.round(N*g);l.EB.vT[o]=a;return a};l.EB.arH=function(o,g,C,a,x){var K=1/(x+x+1),h=C-x-x-1,X=l.EB.oF(x);
for(var N=0;N<a;N++){var w=N*C,G=w,R=w+x,d=o[w],q=o[w+C-1],m=(x+1)*d;for(var M=0;M<x;M++)m+=o[w+M];for(var M=0;
M<=x;M++){m+=o[R+M]-d;g[w+M]=X[m]}R+=x+1;w+=x+1;for(var M=0;M<h;M++){m+=o[R+M]-o[G+M];g[w+M]=X[m]}R+=h;
G+=h;w+=h;for(var M=C-x;M<C;M++){m+=q-o[G++];g[w++]=X[m]}}};l.EB.NC=function(o,g,C,a,x){var K=C<<2,h=x<<2,X=1/(x+x+1),w=C-x-x-1,G=w<<2,R=l.EB.oF(x);
for(var N=0;N<a;N++){var d=N*K,q=d,m=d+h,M=d+K,Z=o[d],Q=o[d+1],p=o[d+2],y=o[d+3],V=(x+1)*Z,W=(x+1)*Q,v=(x+1)*p,j=(x+1)*y;
for(var e=0;e<h;e+=4){V+=o[d+e];W+=o[d+e+1];v+=o[d+e+2];j+=o[d+e+3]}for(var e=0;e<=h;e+=4){V+=o[m]-Z;
g[d]=R[V];W+=o[m+1]-Q;g[d+1]=R[W];v+=o[m+2]-p;g[d+2]=R[v];j+=o[m+3]-y;g[d+3]=R[j];m+=4;d+=4}for(var e=0;
e<G;e+=4){V+=o[m+e]-o[q+e];g[d+e]=R[V];W+=o[m+e+1]-o[q+e+1];g[d+e+1]=R[W];v+=o[m+e+2]-o[q+e+2];g[d+e+2]=R[v];
j+=o[m+e+3]-o[q+e+3];g[d+e+3]=R[j]}m+=G;q+=G;d+=G;Z=o[M-4];Q=o[M-3];p=o[M-2];y=o[M-1];for(var e=C-x;
e<C;e++){V+=Z-o[q];g[d]=R[V];W+=Q-o[q+1];g[d+1]=R[W];v+=p-o[q+2];g[d+2]=R[v];j+=y-o[q+3];g[d+3]=R[j];
q+=4;d+=4}}};l.EB.aaT=function(o,g,C,a,x){var K=1/(x+x+1),h=C-x-x-1;for(var N=0;N<a;N++){var X=N*C,w=X,G=X+x,R=o[X],d=o[X+C-1],q=(x+1)*R;
for(var m=0;m<x;m++)q+=o[X+m];for(var m=0;m<=x;m++){q+=o[G+m]-R;g[X+m]=q*K}G+=x+1;X+=x+1;for(var m=0;
m<h;m++){q+=o[G+m]-o[w+m];g[X+m]=q*K}G+=h;w+=h;X+=h;for(var m=C-x;m<C;m++){q+=d-o[w++];g[X++]=q*K}}};
l.EB.auh=function(o,g,C,a,x){var K=1/(x+x+1),h=a-x-x-1,X=l.EB.oF(x);for(var N=0;N<C;N++){var w=N,G=w,R=w+x*C,d=o[w],q=o[w+C*(a-1)],m=(x+1)*d;
for(var M=0;M<x;M++)m+=o[w+M*C];for(var M=0;M<=x;M++){m+=o[R]-d;g[w]=X[m];R+=C;w+=C}for(var M=0;M<h;
M++){var Z=M*C;m+=o[R+Z]-o[G+Z];g[w+Z]=X[m]}G+=h*C;R+=h*C;w+=h*C;for(var M=a-x;M<a;M++){m+=q-o[G];g[w]=X[m];
G+=C;w+=C}}};l.EB.ava=function(o,g,C,a,x){var K=C<<2,h=x<<2,X=1/(x+x+1),w=a-x-x-1,G=w<<2,R=l.EB.oF(x);
for(var N=0;N<C;N++){var d=N<<2,q=d,m=d+x*K,M=d+K*(a-1),Z=o[d],Q=o[d+1],p=o[d+2],y=o[d+3],V=(x+1)*Z,W=(x+1)*Q,v=(x+1)*p,j=(x+1)*y;
for(var e=0;e<x;e++){var T=d+e*K;V+=o[T];W+=o[T+1];v+=o[T+2];j+=o[T+3]}for(var e=0;e<=x;e++){V+=o[m]-Z;
g[d]=R[V];W+=o[m+1]-Q;g[d+1]=R[W];v+=o[m+2]-p;g[d+2]=R[v];j+=o[m+3]-y;g[d+3]=R[j];m+=K;d+=K}for(var e=0;
e<w;e++){var O=e*K;V+=o[m+O]-o[q+O];g[d+O]=R[V];W+=o[m+O+1]-o[q+O+1];g[d+O+1]=R[W];v+=o[m+O+2]-o[q+O+2];
g[d+O+2]=R[v];j+=o[m+O+3]-o[q+O+3];g[d+O+3]=R[j]}q+=w*K;m+=w*K;d+=w*K;Z=o[M];Q=o[M+1];p=o[M+2];y=o[M+3];
for(var e=a-x;e<a;e++){V+=Z-o[q];g[d]=R[V];W+=Q-o[q+1];g[d+1]=R[W];v+=p-o[q+2];g[d+2]=R[v];j+=y-o[q+3];
g[d+3]=R[j];q+=K;d+=K}}};l.EB.a1N=function(o,g,C,a,x){var K=1/(x+x+1),h=a-x-x-1;for(var N=0;N<C;N++){var X=N,w=X,G=X+x*C,R=o[X],d=o[X+C*(a-1)],q=(x+1)*R;
for(var m=0;m<x;m++)q+=o[X+m*C];for(var m=0;m<=x;m++){q+=o[G]-R;g[X]=q*K;G+=C;X+=C}for(var m=0;m<h;m++){var M=m*C;
q+=o[G+M]-o[w+M];g[X+M]=q*K}w+=h*C;G+=h*C;X+=h*C;for(var m=a-x;m<a;m++){q+=d-o[w];g[X]=q*K;w+=C;X+=C}}};
l.dD={};l.dD.Z=function(o,g,C,a){var x=[];for(var K=0;K<4;K++)for(var h=0;h<4;h++)x.push(o+C*h/3,g+a*K/3);
return x};l.dD.X3=function(o,g){var C=o.slice(0);for(var N=0;N<4;N++)for(var a=0;a<4;a++){var x=2*(N*4+a),K=2*(a*4+(3-N));
if(g){var h=x;x=K;K=h}C[K]=o[x];C[K+1]=o[x+1]}return C};l.dD.MN=l.Z(0);l.dD.drawImage=function(o,g,C,a,x,K,h){var X=!1,w=Date.now(),G=2,R=C+2*G,d=a+2*G,q=new aS(G,G,C,a),m=q.clone(),y=50;
m.Uj(G,G);var M=l.dD.MN;if(M.length!=m.$()*4)M=l.dD.MN=l.Z(m.$()*4);else M.fill(0);l.HT(g,q,M,m);if(X)console.log(Date.now()-w,"copy rect");
w=Date.now();l.Cf(M);if(X)console.log(Date.now()-w,"multiply alpha");w=Date.now();var Z=[],Q=[],p=[];
for(var V=0;V<y+1;V++)for(var W=0;W<y+1;W++){var v=W/y,j=V/y;Z.push(R*v,d*j);if(W<y&&V<y){var e=V*(y+1)+W,T=e+1,O=e+y+1,L=O+1;
Q.push(e,T,O);Q.push(O,T,L)}var S=l.dD.aoG(o,v,j);p.push(-S)}var $=Z.slice(0);l.dD.D(o,$,new aS(G,G,C,a));
l.o.D($,new kp(1,0,0,1,-K.x,-K.y),$);if(X)console.log(Date.now()-w,"mesh built");w=Date.now();var H=K.m,f=K.n;
l.ez.Sj(M,R,d,x,H,f,Z,$,p,Q);if(X)console.log(Date.now()-w,"rendered");w=Date.now();l.kr(x);if(X)console.log(Date.now()-w,"divided");
w=Date.now()};l.dD.C1=new Array(10);l.dD.a0g=function(o,g){var C=200,a=0,x=0,K=1e9,h=l.dD.C1;for(var X=0;
X<C+1;X++)for(var w=0;w<C+1;w++){var G=w/C,R=X/C;l.dD.dr(o,G,R,h);var d=h[8]-g.x,q=h[9]-g.y,m=d*d+q*q;
if(m<K){K=m;a=G;x=R}}return[a,x]};l.dD.D=function(o,g,C){var a=C.x,x=C.y,K=1/C.m,h=1/C.n,X=l.dD.C1;for(var w=0;
w<g.length;w+=2){var G=(g[w]-a)*K,R=(g[w+1]-x)*h;l.dD.dr(o,G,R,X);g[w]=X[8];g[w+1]=X[9]}};l.dD.aoG=function(o,g,C){var a,x,K,h,X=l.dD.C1;
l.dD.avi(o,g,C,X);a=X[8];x=X[9];l.dD.asn(o,g,C,X);K=X[8];h=X[9];return a*h-x*K};l.dD.dr=function(o,g,C,a){l.dD.DZ(a,0,C);
l.dD.DZ(a,4,g);l.dD._H(o,a)};l.dD.avi=function(o,g,C,a){l.dD.DZ(a,0,C);l.dD.WH(a,4,g);l.dD._H(o,a)};
l.dD.asn=function(o,g,C,a){l.dD.WH(a,0,C);l.dD.DZ(a,4,g);l.dD._H(o,a)};l.dD.WH=function(o,N,g){var C=1-g;
o[N]=-3*(C*C);o[N+1]=3*(C*C)-6*(g*C);o[N+2]=6*(g*C)-3*(g*g);o[N+3]=3*(g*g)};l.dD.DZ=function(o,N,g){var C=1-g;
o[N]=C*(C*C);o[N+1]=3*g*(C*C);o[N+2]=3*(g*g)*C;o[N+3]=g*g*g};l.dD._H=function(o,g){var C=0,a=0,x=0,K=g[0],h=g[1],X=g[2],w=g[3],G=g[4],R=g[5],d=g[6],q=g[7];
x=K*G;C+=o[0]*x;a+=o[1]*x;x=K*R;C+=o[2]*x;a+=o[3]*x;x=K*d;C+=o[4]*x;a+=o[5]*x;x=K*q;C+=o[6]*x;a+=o[7]*x;
x=h*G;C+=o[8]*x;a+=o[9]*x;x=h*R;C+=o[10]*x;a+=o[11]*x;x=h*d;C+=o[12]*x;a+=o[13]*x;x=h*q;C+=o[14]*x;a+=o[15]*x;
x=X*G;C+=o[16]*x;a+=o[17]*x;x=X*R;C+=o[18]*x;a+=o[19]*x;x=X*d;C+=o[20]*x;a+=o[21]*x;x=X*q;C+=o[22]*x;
a+=o[23]*x;x=w*G;C+=o[24]*x;a+=o[25]*x;x=w*R;C+=o[26]*x;a+=o[27]*x;x=w*d;C+=o[28]*x;a+=o[29]*x;x=w*q;
C+=o[30]*x;a+=o[31]*x;g[8]=C;g[9]=a};l.BM={};l.BM.abG=function(o,g,C){var a=Date.now(),x=new ArrayBuffer(g*C*16),K=l.BM.adX(o,g,C,x),h=l.BM.a0L(g,C,x);
return{p$:h,EN:K}};l.BM.agt=function(o,g,C){var a=Math.round(o.length/8),x=new Uint32Array(a),K=new Uint8Array(a),h=new Uint32Array(a);
l.th(x,4294967295,0);x[C]=0;var X=new gv(a);X.push(C,x[C]);var w={p$:o,EN:g,EQ:x,Fj:K,D7:h,pY:X,af5:C};
return w};l.BM.Jx=function(o,g){var C=o.p$,a=o.EN,x=o.EQ,K=o.Fj,h=o.D7,X=o.pY;while(!X.to()&&(g==null||K[g]==0)){var w=X.pop();
K[w]=1;for(var N=0;N<8;N++){var G=C[8*w+N],R=w+G;if(G==0||K[R])continue;var d=x[w]+a[8*w+N];if(X.contains(R)&&d<x[R])X.remove(R,x[R]);
if(!X.contains(R)){x[R]=d;h[R]=w;X.push(R,x[R])}}}};function gv(o){this.r4=new Uint32Array(o);this.list=[];
this.zV=0;this.sJ=4294967295}gv.prototype.to=function(){return this.zV==0};gv.prototype.push=function(o,g){var C=this.list;
if(C[g]==null)C[g]=[];C[g].push(o);this.zV++;this.r4[o]=C[g].length-1+1;this.sJ=Math.min(this.sJ,g)};
gv.prototype.pop=function(){this.zV--;var o=this.list,g=this.sJ,C=o[g].pop();if(o[g].length==0)o[g]=null;
this._a();this.r4[C]=0;return C};gv.prototype.contains=function(o){return this.r4[o]!=0};gv.prototype.remove=function(o,g){this.zV--;
var C=this.list,N=this.r4[o]-1;if(N==C[g].length-1)C[g].pop();else{var a=C[g].pop();C[g][N]=a;this.r4[a]=N+1}if(C[g].length==0)C[g]=null;
this.r4[o]=0;this._a()};gv.prototype._a=function(){if(this.zV==0){this.sJ=4294967295;return}var o=this.sJ,g=this.list;
while(g[o]==null)o++;this.sJ=o};l.BM.a27=function(o,g,C,a){var x=new Int16Array(a);for(var K=0;K<C;K++)for(var h=0;
h<g;h++){var N=K*g+h,X=0;if(1<h&&h<g-2&&1<K&&K<C-2){X+=o[N-g-g];X+=o[N-g-1]+2*o[N-g]+o[N-g+1];X+=o[N-2]+2*o[N-1]-16*o[N]+2*o[N+1]+o[N+2];
X+=o[N+g-1]+2*o[N+g]+o[N+g+1];X+=o[N+g+g]}else X=-16*o[N];x[N]=X}return x};l.BM.ail=function(o,g,C,a){if(a==null)a=128;
var x=new Uint8Array(g*C);for(var K=1;K<C-1;K++)for(var h=1;h<g-1;h++){var N=K*g+h;x[N]=l.BM.a7i(o[N],o[N-1],o[N+1],o[N-g],o[N+g],a)}return x};
l.BM.a7i=function(o,g,C,a,x,K){var h=Math.abs(o);return o*g<0&&h<Math.abs(g)&&Math.abs(g-o)>K||o*C<0&&h<Math.abs(C)&&Math.abs(C-o)>K||o*a<0&&h<Math.abs(a)&&Math.abs(a-o)>K||o*x<0&&h<Math.abs(x)&&Math.abs(x-o)>K?1:0};
l.BM.asq=function(o,g,C,a){var x=new Float32Array(a),K=0;new Uint32Array(a).fill(0);for(var h=0;h<C;
h++)for(var X=0;X<g;X++){var w=0,G=0,N=h*g+X,R=N*3;if(0<X&&X<g-1)w=o[N+1]-o[N-1];if(0<h&&h<C-1)G=o[N+g]-o[N-g];
var d=x[R+2]=Math.sqrt(w*w+G*G);if(d!=0){var q=1/d;x[R]=w*q;x[R+1]=G*q}if(d>K)K=d}var m=g*C,M=K==0?0:1/K;
for(var N=0;N<m;N++)x[N*3+2]=1-x[N*3+2]*M;return x};l.BM.a1t=function(o,g,C){return C[~~((.5+.5*o)*255)]+C[~~((.5+.5*g)*255)]};
l.BM.adX=function(o,g,C,a){var x=Date.now(),K=l.BM.a27(o,g,C,a),h=l.BM.ail(K,g,C),X=l.BM.asq(o,g,C,a),w=new Float32Array(256);
for(var N=0;N<256;N++)w[N]=Math.acos(-1+2*N/255)*(.95/Math.PI);var G=[-1,0,1,1,1,0,-1,-1],R=[-1,-1,-1,0,1,1,1,0];
for(var N=0;N<8;N++){var d=1/Math.sqrt(G[N]*G[N]+R[N]*R[N]);G[N]*=d;R[N]*=d}var q=[G[0],R[0],G[1],R[1],G[2],R[2],G[3],R[3]],m=[-g-1,-g,-g+1,1],M=new Uint8Array(g*C*8);
new Uint32Array(M.buffer).fill(4294967295);var Z=g*C;for(var Q=1;Q<C-1;Q++)for(var p=1;p<g-1;p++){var y=Q*g+p,V=1-h[y],W=X[y*3+2],v=X[3*y+1],j=-X[3*y];
for(var e=0;e<4;e++){var T=y+m[e];l.BM.a4Q(y,T,e,M,h,X,V,W,v,j,q,w)}}return M};l.BM.a4Q=function(o,g,C,a,x,K,h,X,w,G,R,d){var q=1-x[g],m=(C&1)==0?1:Math.SQRT1_2,M=K[g*3+2]*m,Z=K[3*g+1],Q=-K[3*g],p=X*m,y=R[C+C],V=R[C+C+1],W=w*y+G*V,v=Z*y+Q*V;
if(W+v<0){W=-W;v=-v}var j=l.BM.a1t(W,v,d);a[(o<<3)+C]=l.BM.nC(q,j,M);a[(g<<3)+C+4]=l.BM.nC(h,j,p)};l.BM.nC=function(o,g,C){return 1+~~(.5+20*(.43*o+.43*g+.14*C))};
l.BM.a0L=function(o,g,C){var a=new Int16Array(C),x=a,N=0,K=0;new Uint32Array(C).fill(0);for(var h=0;
h<g;h++)for(var X=0;X<o;X++){if(h>0&&X>0)x[K+0]=-o-1;if(h>0)x[K+1]=-o;if(h>0&&X<o-1)x[K+2]=-o+1;if(X<o-1)x[K+3]=1;
if(h<g-1&&X<o-1)x[K+4]=o+1;if(h<g-1)x[K+5]=o;if(h<g-1&&X>0)x[K+6]=o-1;if(X>0)x[K+7]=-1;N++;K+=8}return a};
l.nw={};l.nw.rs=function(o){var g=o.slice(0),C=0;for(var N=0;N<o.length;N++)C+=o[N];for(var N=0;N<o.length;
N++)g[N]/=C;return g};l.nw.$N=[l.nw.rs([1,2,1,2,16,2,1,2,1]),l.nw.rs([1,2,1,2,4,2,1,2,1]),l.nw.rs([0,-1,0,-1,8,-1,0,-1,0]),l.nw.rs([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
l.nw.Dv=function(o,g,C,a,x,K,h,X){if(h==null)h=!1;if(X==null)X=!1;var w=Math.floor(Math.sqrt(x.length)),G=w-1>>>1,R=new Uint32Array(o.buffer),g=new Uint8ClampedArray(g.buffer);
for(var N=0;N<a;N++)for(var d=0;d<C;d++){var q=0,m=0,M=0,Z=0;for(var Q=0;Q<w;Q++)for(var p=0;p<w;p++){var y=x[Q*w+p];
if(y==0)continue;var V=d-G+p,W=N-G+Q;if(V<0)V=0;else if(V>C-1)V=C-1;if(W<0)W=0;else if(W>a-1)W=a-1;if(X&&R[W*C+V]>>>24==0){W=N;
V=d}var v=R[W*C+V];q+=(v&255)*y;m+=(v>>>8&255)*y;M+=(v>>>16&255)*y;Z+=(v>>>24&255)*y}if(h){if(q<0)q=-q;
if(m<0)m=-m;if(M<0)M=-M;if(Z<0)Z=-Z}if(X){q=Math.max(0,Math.min(255,q));m=Math.max(0,Math.min(255,m));
M=Math.max(0,Math.min(255,M));Z=Math.max(0,Math.min(255,Z))}var j=N*C+d<<2;g[j]=~~(.5+q);g[j+1]=~~(.5+m);
g[j+2]=~~(.5+M);g[j+3]=255-K&g[j+3]|K&~~(.5+Z)}};l.nw.PR=function(o,g,C,a){var x=o.length,K=new Uint8Array(x);
l.nw.Dv(o,g,C,a,l.nw.$N[4],0,!0);l.nw.Dv(o,K,C,a,l.nw.$N[5],0,!0);for(var N=0;N<x;N+=4){var h=g[N],X=g[N+1],w=g[N+2],G=g[N+3],R=K[N],d=K[N+1],q=K[N+2],m=K[N+3];
g[N]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+R*R)));g[N+1]=255-Math.max(0,Math.min(255,Math.sqrt(X*X+d*d)));
g[N+2]=255-Math.max(0,Math.min(255,Math.sqrt(w*w+q*q)))}};l.nw.Qn=function(o,g,C,a){var x=o.length,K=new Uint8Array(x);
l.nw.JZ(o,g,C,a,l.nw.$N[4],!0);l.nw.JZ(o,K,C,a,l.nw.$N[5],!0);for(var N=0;N<x;N++){var h=g[N],X=K[N];
g[N]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+X*X)))}};l.nw.JZ=function(o,g,C,a,x,K){g=new Uint8ClampedArray(g.buffer);
var h=[-C-1,-C,-C+1,-1,0,1,C-1,C,C+1],X=a-1,w=C-1;for(var N=1;N<X;N++)for(var G=1;G<w;G++){var R=N*C+G,d=l.nw.jR(o,R,C,x);
if(K){if(d<0)d=-d}g[R]=~~(d+.5)}};l.nw.jR=function(o,g,C,a){return o[g-C-1]*a[0]+o[g-C]*a[1]+o[g-C+1]*a[2]+o[g-1]*a[3]+o[g]*a[4]+o[g+1]*a[5]+o[g+C-1]*a[6]+o[g+C]*a[7]+o[g+C+1]*a[8]};
l.nw.wC=function(o,g,C,a,x){var K=[-C-1,-C,-C+1,-1,0,1,C-1,C,C+1],h=a-1,X=C-1;for(var N=1;N<h;N++)for(var w=1;
w<X;w++){var G=N*C+w;g[G]=l.nw.a9d(o,G,C,x)}};l.nw.a9d=function(o,g,C,a){return o[g-C-1]*a[0]+o[g-C]*a[1]+o[g-C+1]*a[2]+o[g-1]*a[3]+o[g]*a[4]+o[g+1]*a[5]+o[g+C-1]*a[6]+o[g+C]*a[7]+o[g+C+1]*a[8]};
l.Go={};l.Go.n$=function(){function o(h,X,w,G,R,d,q){if(R==0){X.set(h);return}var m=l.Z(w*G),M=l.Z(w*G);
if(l.er(h)){g(h,X,w,G,R,d,q);var Z=[l.Go.nL,l.Go.hY],Q=Z.indexOf(d),p=Q!=-1?Z[1-Q]:d;l.eP(h,m,3);l.Go.mg(m,M,w,G,R,p,q);
l.Oa(M,X,3)}else{for(var N=0;N<3;N++){l.eP(h,m,N);l.Go.mg(m,M,w,G,R,d,q);l.Oa(M,X,N)}}}function g(h,X,w,G,R,d,q){var m=0,M=new ArrayBuffer(512*4*3),Z=[new Int32Array(M,0),new Int32Array(M,2048),new Int32Array(M,2*2048)],Q=1+2*Math.round(Math.sqrt(R)),p=Q>>>1,y=new Array(Q),V=new Array(Q);
for(var N=0;N<Q;N++){var M=new ArrayBuffer(512*4*3);y[N]=[new Int32Array(M,0),new Int32Array(M,2048),new Int32Array(M,2*2048)];
V[N]=y[N][0]}var W=d[0],v=d[1],j=Z[0];for(var e=0;e<w;e++)if(e<R||e>w-R-Q-1){j.fill(0);var T=Math.max(e-R,0),O=Math.min(w,e+R+1),L=O-T;
for(var S=0;S<R;S++)a(j,h,S*w+T,S*w+O,1);for(var S=0;S<G;S++){var $=S-R-1,H=S+R;if(H<G)a(j,h,H*w+T,H*w+O,1);
if($>=0)a(j,h,$*w+T,$*w+O,-1);var f=S*w+e<<2;m=j[300];if(m!=0)for(var N=0;N<3;N++)X[f+N]=W(Z[N],h[f+N],m,q)}}else{for(var N=0;
N<Q;N++)V[N].fill(0);var T=e-R+p,O=e+R+1+p;for(var S=0;S<R;S++)C(V,h,S*w+T,S*w+O,1,p);for(var S=0;S<G;
S++){var $=S-R-1,H=S+R;if($>=0)C(V,h,$*w+T,$*w+O,-1,p);if(H<G)C(V,h,H*w+T,H*w+O,1,p);var F=y[p];m=F[0][300];
for(var N=0;N<p;N++){var U=p-1-N,r=p+1+N,E=y[U],k=y[r],P=m+E[0][300],z=m+k[0][300],s=S*w+e+U<<2,Y=S*w+e+r<<2;
if(P!=0)for(var t=0;t<3;t++)X[s+t]=v(F[t],E[t],h[s+t],P,q);if(z!=0)for(var t=0;t<3;t++)X[Y+t]=v(F[t],k[t],h[Y+t],z,q)}var f=S*w+e+p<<2;
if(m!=0)for(var t=0;t<3;t++)X[f+t]=W(F[t],h[f+t],m,q)}e+=Q-1}}function C(h,X,w,G,R,d){var q=x,m=w<<2,M=G<<2;
q(h[d-1],X,w-1<<2,R);q(h[d-1],X,G-1<<2,-R);q(h[d+1],X,G<<2,R);q(h[d+1],X,w<<2,-R);for(var N=1;N<d;N++){var Z=h[d-N-1],Q=h[d+N+1];
for(var p=0;p<=N;p++){var y=p<<2;q(Z,X,w-1-p<<2,R);q(Z,X,G-1-p<<2,-R);q(Q,X,G+p<<2,R);q(Q,X,w+p<<2,-R)}}a(h[d],X,w,G,R)}function a(h,X,N,w,G){var R=N<<2,d=w<<2;
while(R<d){x(h,X,R,G);R+=4}}function x(h,X,w,G){var R=G*X[w+3];h[300]+=R;K(h,X[w],0,R);K(h,X[w+1],512,R);
K(h,X[w+2],1024,R)}function K(h,X,w,G){h[w|X]+=G;h[w|256|X>>>4]+=G}return o}();l.Go.mg=function(){function o(d,q,m,M,Z,Q,p){if(Z==0){q.set(d);
return}if(Z<=80)g(d,q,m,M,Z,Q,p);else K(d,q,m,M,Z,Q,p)}function g(d,q,m,M,Z,Q,p){var y=0,V=new Int32Array(512),W=1+2*Math.round(Math.sqrt(Z)),v=W>>>1,j=new Array(W);
for(var N=0;N<W;N++)j[N]=new Int32Array(512);var e=Q[0],T=Q[1];for(var O=0;O<m;O++)if(O<Z||O>m-Z-W-1){V.fill(0);
y=0;var L=Math.max(O-Z,0),S=Math.min(m,O+Z+1),$=S-L;for(var H=0;H<Z;H++){y+=$;a(V,d,H*m+L,H*m+S,1)}for(var H=0;
H<M;H++){var f=H-Z-1,F=H+Z;if(f>=0){y-=$;a(V,d,f*m+L,f*m+S,-1)}if(F<M){y+=$;a(V,d,F*m+L,F*m+S,1)}var U=e(V,d[H*m+O],y,p);
q[H*m+O]=U}}else{for(var N=0;N<W;N++)j[N].fill(0);y=0;var L=O-Z+v,S=O+Z+1+v,$=S-L;for(var H=0;H<Z;H++){y+=$;
C(j,d,H*m+L,H*m+S,1,v)}for(var H=0;H<M;H++){var f=H-Z-1,F=H+Z;if(f>=0){y-=$;C(j,d,f*m+L,f*m+S,-1,v)}if(F<M){y+=$;
C(j,d,F*m+L,F*m+S,1,v)}for(var N=0;N<v;N++){var r=v-1-N,E=v+1+N;q[H*m+O+r]=T(j[v],j[r],d[H*m+O+r],y,p);
q[H*m+O+E]=T(j[v],j[E],d[H*m+O+E],y,p)}q[H*m+O+v]=e(j[v],d[H*m+O+v],y,p)}O+=W-1}}function C(d,q,m,M,Z,Q){var p=x;
p(d[Q-1],q[m-1],0,Z);p(d[Q-1],q[M-1],0,-Z);p(d[Q+1],q[M],0,Z);p(d[Q+1],q[m],0,-Z);for(var N=1;N<Q;N++){var y=d[Q-N-1],V=d[Q+N+1];
for(var W=0;W<=N;W++){p(y,q[m-1-W],0,Z);p(y,q[M-1-W],0,-Z);p(V,q[M+W],0,Z);p(V,q[m+W],0,-Z)}}a(d[Q],q,m,M,Z)}function a(d,q,N,m,M){while(N<m)x(d,q[N++],0,M)}function x(d,q,m,M){d[m|q]+=M;
d[m|256|q>>>4]+=M}function K(d,q,m,M,Z,Q,p){var y=0,V=new Int32Array(512),W=new Int32Array(1*m),v=new Int32Array(512*m),j=Math.min(Z,m),e=Math.min(Z,M),T=Q[0];
for(var O=0;O<e;O++)h(v,W,d,m,O,1);for(var O=0;O<M;O++){if(O+Z<M)h(v,W,d,m,O+Z,1);if(O-Z-1>=0)h(v,W,d,m,O-Z-1,-1);
V.fill(0);y=0;for(var L=0;L<j;L++){y+=W[L];X(V,v,L)}for(var L=0;L<m;L++){var S=L-Z-1,$=L+Z;if(S>=0&&W[S]!=0){y-=W[S];
w(V,v,S)}if($<m&&W[$]!=0){y+=W[$];X(V,v,$)}var H=y==0?0:T(V,d[O*m+L],y,p);q[O*m+L]=H}}}function h(d,q,m,M,Z,Q){var N=Z*M;
for(var p=0;p<M;p++){x(d,m[N+p],p<<9,Q);q[p]+=Q}}function X(d,q,m){for(var N=0;N<16;N++){var M=q[m<<9|256|N];
if(M==0)continue;d[256|N]+=M;var Z=N<<4,Q=m<<9|Z;G(d,q,Z,Q);G(d,q,Z+4,Q+4);G(d,q,Z+8,Q+8);G(d,q,Z+12,Q+12)}}function w(d,q,m){for(var N=0;
N<16;N++){var M=q[m<<9|256|N];if(M==0)continue;d[256|N]-=M;var Z=N<<4,Q=m<<9|Z;R(d,q,Z,Q);R(d,q,Z+4,Q+4);
R(d,q,Z+8,Q+8);R(d,q,Z+12,Q+12)}}function G(d,q,m,M){d[m]+=q[M];d[m+1]+=q[M+1];d[m+2]+=q[M+2];d[m+3]+=q[M+3]}function R(d,q,m,M){d[m]-=q[M];
d[m+1]-=q[M+1];d[m+2]-=q[M+2];d[m+3]-=q[M+3]}return o}();l.Go.hY=[function(o,g,C,a){var N=15;while(o[256|N]==0&&N>0)N--;
N=(N<<4)+15;while(o[N]==0&&N>0)N--;return N},function(o,g,C,a,x){var N=15;while(o[256|N]+g[256|N]==0&&N>0)N--;
N=(N<<4)+15;while(o[N]+g[N]==0&&N>0)N--;return N}];l.Go.nL=[function(o,g,C,a){var N=0;while(o[256|N]==0&&N<15)N++;
N=N<<4;while(o[N]==0&&N<255)N++;return N},function(o,g,C,a,x){var N=0;while(o[256|N]+g[256|N]==0&&N<15)N++;
N=N<<4;while(o[N]+g[N]==0&&N<255)N++;return N}];l.Go.rG=.5;l.Go.Fh=[function(o,g,C,a){var x=~~(.5+l.Go.rG*C),K=0,N=256;
while(K+o[N]<x)K+=o[N++];N=N-256<<4;while(K<x)K+=o[N++];return N-1},function(o,g,C,a,x){var K=~~(.5+l.Go.rG*a),h=0,N=256;
while(h+o[N]+g[N]<K){h+=o[N]+g[N];N++}N=N-256<<4;while(h<K){h+=o[N]+g[N];N++}return N-1}];l.Go.Ai=[function(o,g,C,a){var x=a[0],K=0,h=0,N=Math.max(0,g-x),X=Math.min(256,g+x+1);
while(N<X){var w=o[N];K+=N*w;h+=w;N++}return h==0?0:K/h},function(o,g,C,a,x){var K=x[0],h=0,X=0,N=Math.max(0,C-K),w=Math.min(256,C+K+1);
while(N<w){var G=o[N]+g[N];h+=N*G;X+=G;N++}return X==0?0:h/X}];l.S={};l.S.Ek=function(o){var g=c.V.aq(o.Trnf),C=o.Sz.v,a=l.S.sV(g,new aS(0,0,C.Wdth.v,C.Hght.v));
return l.S.Td(a)};l.S.sV=function(o,g){var C=o[0],a=o[1],x=o[2],K=o[3],h=o[6],X=o[7],w=o[4],G=o[5],R=0,d=0,q=1,m=0,M=0,Z=1,Q=1,p=1;
if(g){R=g.x;d=g.y;q=g.x+g.m;m=g.y;M=g.x;Z=g.y+g.n;Q=g.x+g.m;p=g.y+g.n}return l.S.Fm(o,[R,d,q,m,Q,p,M,Z])};
l.S.T_=function(o){function g(x,K){for(var N=0;N<K.length;N+=2)if(!C(x,K[N],K[N+1]))return!1;return!0}function C(x,K,h){return x[2*K]==x[2*h]&&x[2*K+1]==x[2*h+1]}var a=0;
if(g(o,[0,1,2,3]))a+=1;if(g(o,[0,3,1,2]))a+=2;return a};l.S.Fm=function(o,g){function C(U,N,r){var H=U[N*2]-U[r*2],f=U[N*2+1]-U[r*2+1];
return Math.sqrt(H*H+f*f)}var a=o[0],x=o[1],K=o[2],h=o[3],X=o[6],w=o[7],G=o[4],R=o[5],d=g[0],q=g[1],m=g[2],M=g[3],Z=g[6],Q=g[7],p=g[4],y=g[5],V=[[d,q,1,0,0,0,-d*a,-q*a,a],[0,0,0,d,q,1,-d*x,-q*x,x],[m,M,1,0,0,0,-m*K,-M*K,K],[0,0,0,m,M,1,-m*h,-M*h,h],[Z,Q,1,0,0,0,-Z*X,-Q*X,X],[0,0,0,Z,Q,1,-Z*w,-Q*w,w],[p,y,1,0,0,0,-p*G,-y*G,G],[0,0,0,p,y,1,-p*R,-y*R,R]],W=[0,0,0,0,0,0,0,0],v=l.t_.w0(V,W);
if(v!=0){W=[0,0,0,0,0,0,0,0];var j=l.S.T_(o),e=l.S.T_(g);if(j==e&&j!=0){var T=j==1,O=T?3:1,L=C(o,0,O),S=C(g,0,O),$=S/L,H=o[2*O]-o[0],f=o[2*O+1]-o[1],F=new kp;
F.translate(-a,-x);F.rotate(Math.atan2(f,H)-(T?Math.PI/2:0));if(T)F.scale(1,$);else F.scale($,1);F.translate(d,q);
F.rq();W=l.S.xN(F)}}return W};l.S.Y5=function(o){return Math.abs(o[6])<1e-10&&Math.abs(o[7])<1e-10};
l.S.Td=function(o){return new kp(o[0],o[3],o[1],o[4],o[2],o[5])};l.S.xN=function(o){return[o.Bk,o.U9,o.NO,o.K,o.rX,o.Mx,0,0]};
l.S.D=function(o,g){var C=new Float64Array(2);for(var a=0;a<g.length;a+=2){var x=g[a],K=g[a+1];l.S.w3(x,K,o,C);
g[a]=C[0];g[a+1]=C[1]}};l.S.w3=function(o,g,C,a){var x=1/(C[6]*o+C[7]*g+1);a[0]=(C[0]*o+C[1]*g+C[2])*x;
a[1]=(C[3]*o+C[4]*g+C[5])*x};l.S.a5X=function(o,g){var C=new Float64Array(2);l.S.w3(g.x,g.y,o,C);return new eN(C[0],C[1])};
l.S.W8=function(o,g,C,a){o=new Uint32Array(o.buffer);g=new Uint32Array(g.buffer);for(var x=0;x<a;x++){for(var K=0;
K<C;K++){g[K*a+x]=o[x*C+K]}}};l.S.tR=function(o,g,C,a){o=new Uint32Array(o.buffer);g=new Uint32Array(g.buffer);
for(var x=0;x<a;x++){for(var K=0;K<C;K++){g[x*C+K]=o[x*C+C-1-K]}}};l.S.axv=function(o,g,C,a){o=new Uint32Array(o.buffer);
g=new Uint32Array(g.buffer);for(var x=0;x<a;x++){for(var K=0;K<C;K++){g[x*C+K]=o[(a-1-x)*C+K]}}};l.S.dg=function(o){return Math.abs(o[6])<1e-9&&Math.abs(o[7])<1e-9};
l.S.M3=function(o){return Math.abs(o[0])<1e-9&&Math.abs(o[4])<1e-9||Math.abs(o[1])<1e-9&&Math.abs(o[3])<1e-9};
l.S.drawImage=function(o,g,C,a,x,K,h,X,w){if(h==null)h=!1;if(X==null)X=!1;var G=l.S.rq(o),R=!0,d=0;for(var N=0;
N<8;N++){var q=Math.round(o[N]);if(N!=2&&N!=5)d+=Math.abs(q);if(Math.abs(q-o[N])>1e-9)R=!1}var m=l.S.dg(o),M=l.S.M3(o)&&m,Z=M?1:0;
if(h||R&&d==C+a&&m){l.S.ah2(G,g,C,a,x,K,X,m,w);return}var Q=K.m,p=K.n,y=new Float64Array(2);x=new Uint32Array(x.buffer);
g=new Uint32Array(g.buffer);for(var V=0;V<p;V++)for(var W=0;W<Q;W++){var v=V*Q+W,j,e,T,O,P=0,z=0,s=0,Y=0;
x[v]=0;var L=W+K.x+.5,S=V+K.y+.5;j=L;e=S;T=G;var $=T[0]*j+T[1]*e+T[2],H=T[3]*j+T[4]*e+T[5];if(!m){O=1/(T[6]*j+T[7]*e+1);
$*=O;H*=O}var f=$*C,F=H*a,U=f<-1||f>C+1||F<-1||F>a+1;if(X){f=Math.max(.001,Math.min(C-1,f));F=Math.max(.001,Math.min(a-1,F))}else if(U)continue;
var r=l.S.avJ(o,C,a,L,S,$,H),E=Math.round(r*2.3);if(r<1.1){l.S.Kq(f,F,g,C,a,x,v,Z);continue}if(!X&&(f<.6||f>C-.6||F<.6||F>a-.6)){E=Math.max(E,5)}if(X&&U)E=1;
var k=1/E,t=K.x+W,n=K.y+V;T=G;for(var N=0;N<E;N++)for(var J=0;J<E;J++){j=t+(N+.5)*k;e=n+(J+.5)*k;var f=T[0]*j+T[1]*e+T[2],F=T[3]*j+T[4]*e+T[5];
if(!m){O=1/(T[6]*j+T[7]*e+1);f*=O;F*=O}if(X){f=Math.max(.001,Math.min(.999,f));F=Math.max(.001,Math.min(.999,F))}else if(f<0||f>=1||F<0||F>=1)continue;
f=Math.floor(f*C);F=Math.floor(F*a);var I=F*C+f,fp=g[I],cH=fp>>>24;P+=(fp&255)*cH;z+=(fp>>>8&255)*cH;
s+=(fp>>>16&255)*cH;Y+=cH}if(Y!=0){var b=1/Y;P=~~(P*b+.5);z=~~(z*b+.5);s=~~(s*b+.5);Y=~~(Y*k*k+.5);x[v]=Y<<24|s<<16|z<<8|P}}};
l.S.avJ=function(o,g,C,a,x,K,h){var X=l.S.m2(o,a,x,K+1/g,h),w=l.S.m2(o,a,x,K,h+1/C);return 1/Math.sqrt(Math.max(X,w))};
l.S.m2=function(o,g,C,a,x){var K=1/(o[6]*a+o[7]*x+1),h=(o[0]*a+o[1]*x+o[2])*K-g,X=(o[3]*a+o[4]*x+o[5])*K-C;
return h*h+X*X};l.S.ah2=function(o,g,C,a,x,K,h,X,w){if(X&&!h&&K.$()>4e6&&w){l.S.a1C(o,g,C,a,x,K,h,X,w);
return}var G=K.x+K.m,R=K.y+K.n,d=0,q=new Uint32Array(x.buffer),m=new Uint32Array(g.buffer),M=o[0]*C,Z=o[1]*C,Q=o[2]*C,p=o[3]*a,y=o[4]*a,V=o[5]*a,W=o[6],v=o[7];
if(X&&!h)for(var j=K.y+.5;j<R;j++)for(var e=K.x+.5;e<G;e++){var T=M*e+Z*j+Q,O=p*e+y*j+V;if(0<T&&T<C&&0<O&&O<a){var L=~~O*C+~~T;
q[d]=m[L]}else q[d]=0;d++}else for(var j=K.y+.5;j<R;j++)for(var e=K.x+.5;e<G;e++){var S=1/(W*e+v*j+1),T=(M*e+Z*j+Q)*S,O=(p*e+y*j+V)*S;
if(h){T=Math.max(.001,Math.min(C-1,T));O=Math.max(.001,Math.min(a-1,O))}if(0<T&&T<C&&0<O&&O<a){var L=Math.floor(O)*C+Math.floor(T);
q[d]=m[L]}else q[d]=0;d++}};l.S.a1C=function(o,g,C,a,x,K,h,X,w){var G=new Uint32Array(x.buffer),R=new Uint32Array(g.buffer),v=0;
if(w&&(K.m&3)!=0)throw"e";var d=o[0]*C,q=o[1]*C,m=o[2]*C,M=o[3]*a,Z=o[4]*a,Q=o[5]*a,p=o[6],y=o[7],V=K.m,W=K.n,j=K.x+.5,e=K.y+.5,T=(V>>>2<<2)-1e-9,O=-.1+(W>>>1<<1)-1e-9,L=~~C,S=d==0?0:1/d,$=M==0?0:1/M;
for(var H=0;H<W;H++){var f=j*d+q*(H+e)+m,F=j*M+Z*(H+e)+Q,U=0,r=V;if(d==0){}else if(S>0){U=Math.max(U,-f*S);
r=Math.min(r,(C-f)*S)}else{r=Math.min(r,-f*S);U=Math.max(U,(C-f)*S)}if(M==0){}else if($>0){U=Math.max(U,-F*$);
r=Math.min(r,(a-F)*$)}else{r=Math.min(r,-F*$);U=Math.max(U,(a-F)*$)}if(r<0)r=0;if(U>r)U=r;U=Math.ceil(U);
r=~~r;v=~~(H*V);for(var E=0;E<U;E++)G[v++]=0;for(var E=U;E<r;E+=4){var k=d*E+f,P=M*E+F,z=~~P*L+~~k;G[v++]=G[v++]=G[v++]=G[v++]=R[z]}for(var E=r;
E<V;E++)G[v++]=0}};l.S.rq=function(o){var g=o[4]-o[5]*o[7],C=o[2]*o[7]-o[1],a=o[1]*o[5]-o[2]*o[4],x=o[5]*o[6]-o[3],K=o[0]-o[2]*o[6],h=o[3]*o[2]-o[0]*o[5],X=o[3]*o[7]-o[4]*o[6],w=o[1]*o[6]-o[0]*o[7],G=1/(o[0]*o[4]-o[1]*o[3]);
return[g*G,C*G,a*G,x*G,K*G,h*G,X*G,w*G]};l.S._t=function(o,g){var C=o[0],a=o[1],x=o[2],K=o[3],h=o[4],X=o[5],w=o[6],G=o[7],R=g[0],d=g[1],q=g[2],m=g[3],M=g[4],Z=g[5],Q=g[6],p=g[7],y=[C*R+a*m+x*Q,C*d+a*M+x*p,C*q+a*Z+x,K*R+h*m+X*Q,K*d+h*M+X*p,K*q+h*Z+X,w*R+G*m+Q,w*d+G*M+p],V=1/(w*q+G*Z+1);
for(var N=0;N<8;N++)y[N]*=V;return y};l.S.Kq=function(o,g,C,a,x,K,h,X){var w=o,G=g,q=0,m=0,M=0,Z=0;o-=.499999;
g-=.499999;var R=Math.floor(o),d=Math.floor(g);if(X==0){var N=d*a+R,Q=R>=0&&R<a,p=R+1>=0&&R+1<a,y=d>=0&&d<x,V=d+1>=0&&d+1<x;
if(Q&&y)q=C[N];if(p&&y)m=C[N+1];if(Q&&V)M=C[N+a];if(p&&V)Z=C[N+a+1]}else if(X==1){var W=R<0?0:R>a-1?a-1:R,v=R<-1?0:R>a-2?a-1:R+1,j=d<0?0:d>x-1?x-1:d,e=d<-1?0:d>x-2?x-1:d+1;
q=C[j*a+W];m=C[j*a+v];M=C[e*a+W];Z=C[e*a+v]}else{var W=(R+50*a)%a,v=(R+50*a)%a,j=(d+50*x)%x,e=(d+50*x)%x;
q=C[j*a+W];m=C[j*a+v];M=C[e*a+W];Z=C[e*a+v]}var T=o-R,O=g-d,L=(1-O)*(1-T)*(q>>>24),S=(1-O)*T*(m>>>24),$=O*(1-T)*(M>>>24),H=O*T*(Z>>>24),f=L+S+$+H,F=L*(q&255)+S*(m&255)+$*(M&255)+H*(Z&255),U=L*(q>>>8&255)+S*(m>>>8&255)+$*(M>>>8&255)+H*(Z>>>8&255),r=L*(q>>>16&255)+S*(m>>>16&255)+$*(M>>>16&255)+H*(Z>>>16&255);
if(f==0)K[h]=0;else{var E=1/f;F=~~(F*E+.5);U=~~(U*E+.5);r=~~(r*E+.5);f=~~(f+.5);K[h]=f<<24|r<<16|U<<8|F}};
l.S.fN=function(o,g,C,a,x,K){var h=o-.499999,X=g-.499999,w=~~h,G=~~X,R=h-w,d=X-G,q=(1-d)*(1-R),m=(1-d)*R,M=d*(1-R),Z=d*R,Q=G*a+w<<2,p=(G+1)*a+w<<2,y=q*C[Q]+m*C[Q+4]+M*C[p]+Z*C[p+4],V=q*C[Q+1]+m*C[Q+5]+M*C[p+1]+Z*C[p+5],W=q*C[Q+2]+m*C[Q+6]+M*C[p+2]+Z*C[p+6],v=q*C[Q+3]+m*C[Q+7]+M*C[p+3]+Z*C[p+7];
K[0]=y;K[1]=V;K[2]=W;K[3]=v};l.S.TE=function(o,g,C,a,x){o-=.499999;g-=.499999;var K=Math.floor(o),h=Math.floor(g),X=o-K,w=g-h,G=(1-w)*(1-X),R=(1-w)*X,d=w*(1-X),q=w*X,m=(K+50*a)%a,M=(K+1+50*a)%a,Z=(h+50*x)%x,Q=(h+1+50*x)%x,p=C[Z*a+m],y=C[Z*a+M],V=C[Q*a+m],W=C[Q*a+M];
if(p==null||W==null)throw"e";return G*p+R*y+d*V+q*W};l.S.GZ=function(o,g,C,a,x,K,h,X,w,G,R,d){var q=new Uint32Array(o.buffer),m=new Uint32Array(a.buffer),M=(1+2*G)/x,Z=[],Q=[];
for(var p=0;p<x;p++){var y=-.25+G-p*M;Z.push(Math.cos(2*Math.PI*y)*d/R);Z.push(Math.sin(2*Math.PI*y)/R)}h*=g;
X*=C;for(var V=0;V<K;V++){var v=Math.pow(V/K,w)*K;for(var p=0;p<x;p++){var j=h+Z[p<<1]*v,e=X+Z[(p<<1)+1]*v,T=~~(.5+(j<0?0:j>g-1?g-1:j)),O=~~(.5+(e<0?0:e>C-1?C-1:e));
m[V*x+p]=q[O*g+T]}}};l.S.Lp=function(o,g,C,a,x,K,h,X,w,G,R,d){var q=new Uint32Array(o.buffer),m=new Uint32Array(a.buffer),M=1/d,Z=[],Q=C*4,p=1/Q;
for(var y=0;y<Q+10;y++)Z.push(Math.pow(y*p,1/w)*C*R);h*=x;X*=K;for(var y=0;y<K;y++)for(var V=0;V<x;V++){var W=M*(V-h),v=y-X,j=1.75-Math.atan2(v,W)*(1/(2*Math.PI));
j=j-~~j;j=(j+G)*(1/(1+2*G));var e=Math.sqrt(W*W+v*v);e=Z[~~(e*4)];l.S.Kq(j*g+.5,e+.5,q,g,C,m,y*x+V,1)}};
l.S.IY=function(o,g,C,a,x){var K=x[0],h=x[1];for(var X=0;X<h;X++)for(var w=0;w<K;w++){var G=x[2]*w+x[3]*X+x[4],R=x[5]*w+x[6]*X+x[7],d=X*K+w<<2,q=R*g+G<<2;
a[d]=o[q+0];a[d+1]=o[q+1];a[d+2]=o[q+2];a[d+3]=o[q+3]}};l.T={VT:function(o,g){var C=~~(.499+o*g);return C<0?0:C>g?g:C},apv:function(o,g,C,a,x,K,h,X){var w=C[0],G=C[1],R=C[2],d=C[3],q=a.m,m=a.n,M=new Float64Array(q*4+8),Z=new Float64Array(q*4+8);
for(var Q=0,N=0;Q<m;Q++){var p=M;M=Z;Z=p;Z.fill(0);for(var y=0;y<q;y++,N++){var V=y+x,W=Q+K,v=w*V+G*W,j=R*V+d*W,e=0,L=0;
if(X==0)e=v+.5;else if(X==1)e=2*Math.sqrt(v*v+j*j);else if(X==2)e=(Math.PI+Math.atan2(-j,-v))/(2*Math.PI);
else if(X==3)e=Math.abs(v*2);else if(X==4)e=2*(Math.abs(v)+Math.abs(j));var T=l.T.VT(e,h)*4,O=y*4;for(var S=0;
S<4;S++){var $=Math.max(0,Math.min(254.999,g[T+S]+M[O+4+S])),H=Math.floor($);if(Math.random()<$-H)H++;
var f=$-H;M[O+8+S]=f*(7/16);Z[O+0+S]=f*(3/16);Z[O+4+S]=f*(5/16);Z[O+8+S]=f*(1/16);L|=H<<S*8}o[N]=L}}},ND:[function(o,g,C,a,x,K,h){var X=C[0],w=C[1],G=C[2],R=C[3],d=a.m,q=a.n;
for(var m=0,N=0;m<q;m++)for(var M=0;M<d;M++,N++){var Z=M+x,Q=m+K,p=X*Z+w*Q,y=G*Z+R*Q,V=p+.5;o[N]=g[l.T.VT(V,h)]}},function(o,g,C,a,x,K,h){var X=C[0],w=C[1],G=C[2],R=C[3],d=a.m,q=a.n;
for(var m=0,N=0;m<q;m++)for(var M=0;M<d;M++,N++){var Z=M+x,Q=m+K,p=X*Z+w*Q,y=G*Z+R*Q,V=2*Math.sqrt(p*p+y*y);
o[N]=g[l.T.VT(V,h)]}},function(o,g,C,a,x,K,h){var X=C[0],w=C[1],G=C[2],R=C[3],d=a.m,q=a.n;for(var m=0,N=0;
m<q;m++)for(var M=0;M<d;M++,N++){var Z=M+x,Q=m+K,p=X*Z+w*Q,y=G*Z+R*Q,V=(Math.PI+Math.atan2(-y,-p))/(2*Math.PI);
o[N]=g[l.T.VT(V,h)]}},function(o,g,C,a,x,K,h){var X=C[0],w=C[1],G=C[2],R=C[3],d=a.m,q=a.n;for(var m=0,N=0;
m<q;m++)for(var M=0;M<d;M++,N++){var Z=M+x,Q=m+K,p=X*Z+w*Q,y=G*Z+R*Q,V=Math.abs(p*2);o[N]=g[l.T.VT(V,h)]}},function(o,g,C,a,x,K,h){var X=C[0],w=C[1],G=C[2],R=C[3],d=a.m,q=a.n;
for(var m=0,N=0;m<q;m++)for(var M=0;M<d;M++,N++){var Z=M+x,Q=m+K,p=X*Z+w*Q,y=G*Z+R*Q,V=2*(Math.abs(p)+Math.abs(y));
o[N]=g[l.T.VT(V,h)]}}]};l.T.aw9=function(o,g){return o+.5};l.T.a4g=function(o,g){return 2*Math.sqrt(o*o+g*g)};
l.T.aco=function(o,g){return(Math.PI+Math.atan2(-g,-o))/(2*Math.PI)};l.T.ajH=function(o,g){return Math.abs(o*2)};
l.T.au1=function(o,g){return 2*(Math.abs(o)+Math.abs(g))};l.T.hd=function(o,g,C,a,x,K,h,X,w,G,R,d){var q=o.Clrs,m=new Uint32Array(g.buffer),M=1023,Z=q?l.T.V2(q.v,w,G):null;
if(d&&q){var Q=l.T.adU(o,Z,M+1,h);l.T.apv(m,Q,a,C,C.x-x,C.y-K,M,X)}else{var p=q?l.T.bg(o,Z,M+1,h):l.T.qu(o,M+1,h);
if(X<5){l.T.ND[X](m,p,a,C,C.x-x,C.y-K,M)}else{var y=new Uint8Array(p.buffer),V=C.m,W=C.n,v=R.o0-R.Th,j=1/v,e=R.lW.m-C.m>>1,T=R.lW.n-C.n>>1,O=R.lW.m,L=-.6*j,S=(-.6+.4)*j,$=(-.6+2*.4)*j,H=(-.6+3*.4)*j;
for(var f=0,N=0;f<W;f++)for(var F=0;F<V;F++,N+=4){var U=0,r=0,E=0,k=0,P=(f+T)*O+F+e,z=(R.J2[P]-R.Th)*j,s=0;
if(z<=0||z>=1){s=(z<=0?0:M)<<2;g[N]=y[s];g[N+1]=y[s+1];g[N+2]=y[s+2];g[N+3]=y[s+3];continue}s=Math.max(0,Math.min(M-1,Math.round((z+L)*M)))<<2;
r+=y[s];E+=y[s+1];k+=y[s+2];U+=y[s+3];s=Math.max(0,Math.min(M-1,Math.round((z+S)*M)))<<2;r+=y[s];E+=y[s+1];
k+=y[s+2];U+=y[s+3];s=Math.max(0,Math.min(M-1,Math.round((z+$)*M)))<<2;r+=y[s];E+=y[s+1];k+=y[s+2];U+=y[s+3];
s=Math.max(0,Math.min(M-1,Math.round((z+H)*M)))<<2;r+=y[s];E+=y[s+1];k+=y[s+2];U+=y[s+3];g[N]=r>>>2;
g[N+1]=E>>>2;g[N+2]=k>>>2;g[N+3]=U>>>2}}}};l.T.V2=function(o,g,C){var a=[];for(var N=0;N<o.length;N++){var x,K=o[N].v,h=K.Type.v.Clry;
if(h=="FrgC")x={z:g>>16&255,B:g>>8&255,K:g&255};else if(h=="BckC")x={z:C>>16&255,B:C>>8&255,K:C&255};
else x=l.T.Xh(K.Clr.v);a.push(x)}return a};l.T.Xh=function(o){var g,C=o.classID;if(C=="RGBC"){if(o.Rd)g={z:o.Rd.v,B:o.Grn.v,K:o.Bl.v};
else g={z:o.redFloat.v*255,B:o.greenFloat.v*255,K:o.blueFloat.v*255}}else if(C=="HSBC"){g=l.QE(o.H.v.val/360,o.Strt.v/100,o.Brgh.v/100);
g.z*=255;g.B*=255;g.K*=255}else if(C=="CMYC"){var a=100-o.Cyn.v,x=100-o.Mgnt.v,K=100-o.Ylw.v,h=100-o.Blck.v,X=255*a*h*1e-4,w=255*(.2*a+.8*x)*h*1e-4,G=255*(.2*x+.8*K)*h*1e-4;
g={z:X,B:w,K:G}}else if(C=="Grsc")g={z:255-o.Gry.v,B:255-o.Gry.v,K:255-o.Gry.v};else if(C=="LbCl"){g=l.sC(o.Lmnc.v,o.A.v,o.B.v)}else console.log(o);
if(isNaN(g.z))g.z=g.B=g.K=0;return g};l.T.qu=function(o,g,C){var a=new Uint32Array(g),x=new Uint8Array(a.buffer);
a.fill(4278190080);var K=[],h=[],X=o.RndS.v,w=o.Smth.v/4096;for(var N=0;N<4;N++){K[N]=~~(o.Mnm.v[N].v*255/100);
h[N]=~~(o.Mxm.v[N].v*255/100)}var G=l.Z(g*4),R=l.Z(g);for(var d=0;d<3;d++){l.U.O3(null,g,1,G,[1+Math.round(w*w*w*60),22,X*(2+d)]);
l.eP(G,R,0);l.Oa(R,x,d);var q=K[d],m=h[d];for(var N=0;N<g;N++)x[4*N+d]=Math.max(q,Math.min(m,x[4*N+d]))}if(C)for(var N=0;
N<g/2;N++){var M=a[N];a[N]=a[g-1-N];a[g-1-N]=M}return a};l.T.CT=function(o){return{classID:"RGBC",Rd:{t:"doub",v:o.z},Grn:{t:"doub",v:o.B},Bl:{t:"doub",v:o.K}}};
l.T.adU=function(o,g,C,a){var x=[],K=1/(C-0);for(var N=0;N<C;N++){var h=N*4,X=l.T._7(o,g,(a?C-1-N:N)*K);
x[h]=X[0];x[h+1]=X[1];x[h+2]=X[2];x[h+3]=X[3]}return x};l.T.bg=function(o,g,C,a){var x=new Uint32Array(C),K=1/(C-0);
for(var N=0;N<C;N++)x[N]=l.T.uD(o,g,(a?C-1-N:N)*K);return x};l.T._7=function(o,g,C){var a=4096,x=1/4096,K=o.Intr.v*x,h=o.Clrs.v,X=o.Trns.v,w=h.length-1,G=X.length-1,N=-1,R=0,d=0,q=0,m=0;
while(N<G&&X[N+1].v.Lctn.v<=C*a)N++;if(N==-1){R=X[0].v.Opct.v.val*(255/100)}else if(N==G){R=X[N].v.Opct.v.val*(255/100)}else{var M=l.T.En(X,x,N,C,K);
R=(M*X[N].v.Opct.v.val+(1-M)*X[N+1].v.Opct.v.val)*(255/100)}N=-1;while(N<w&&h[N+1].v.Lctn.v<=C*a)N++;
if(N==-1){var Z=g[0];d=Z.z;q=Z.B;m=Z.K}else if(N==w){var Z=g[N];d=Z.z;q=Z.B;m=Z.K}else{var Q=g[N],p=g[N+1],y=l.T.En(h,x,N,C,K);
d=y*Q.z+(1-y)*p.z;q=y*Q.B+(1-y)*p.B;m=y*Q.K+(1-y)*p.K}return[d,q,m,R]};l.T.uD=function(o,g,C){var a=l.T._7(o,g,C),x=~~(.5+a[0]),K=~~(.5+a[1]),h=~~(.5+a[2]),X=~~(.5+a[3]);
return X<<24|h<<16|K<<8|x};l.T.En=function(o,g,N,C,a){if(o.length==2)a*=.5;var x=o[N].v.Lctn.v*g,K=o[N+1].v.Lctn.v*g,h=x+o[N+1].v.Mdpn.v*.01*(K-x),X;
if(C<h)X=.5*(C-x)/(h-x);else X=.5+.5*(C-h)/(K-h);X=.5+.5*(a*Math.cos(Math.PI*X)+(1-a)*(1-2*X));return X};
l.T.kQ=function(o,g){var C=Math.PI*o.Angl.v.val/180,a=o.Scl.v.val/100,x=o.Ofst.v,K=x.Hrzn.v.val/100,h=x.Vrtc.v.val/100,X=Math.cos(C),w=-Math.sin(C),G=.5*g.n,R=G*(X/w),d=Math.sqrt(G*G+R*R),q=.5*g.m,m=q*(w/X),M=Math.sqrt(q*q+m*m),Z=Math.min(d,M)*a,Q=g.x+g.m/2+K*g.m,p=g.y+g.n/2+h*g.n;
return[new eN(Q,p),new eN(Q+X*Z,p+w*Z)]};l.T.Q2=function(o,g,C,a){var x=g.x-o.x,K=-(g.y-o.y),h=Math.sqrt(x*x+K*K),X=Math.atan2(K,x),w=Math.cos(X),G=-Math.sin(X),R=.5*C.n,d=R*(w/G),q=Math.sqrt(R*R+d*d),m=.5*C.m,M=m*(G/w),Z=Math.sqrt(m*m+M*M),Q=h/Math.min(q,Z),p=(o.x-C.x-C.m/2)/C.m,y=(o.y-C.y-C.n/2)/C.n;
a.Angl.v.val=180*X/Math.PI;a.Scl.v.val=Q*100;var V=a.Ofst.v;V.Hrzn.v.val=p*100;V.Vrtc.v.val=y*100};l.T.yq=function(o,g){for(var N=0;
N<o.length;N++){var C=o[N],a=Math.round(C[0]*4096),x=C[1],K=C[2],h=C[3];if(K==null)K=1;if(h==null)h=.5;
var X=l.T.CT({z:x[0]*255,B:x[1]*255,K:x[2]*255});g.Clrs.v[N]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:a},Mdpn:{t:"long",v:Math.round(h*100)},Clr:{t:"Objc",v:X},Type:{t:"enum",v:{Clry:"UsrS"}}}};
g.Trns.v[N]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:a},Mdpn:{t:"long",v:Math.round(h*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(K*100)}}}}}};
l.Am={};l.Am.a7r=function(o,g,C,a,x,K,h,X,w,G,R,d){var q,m,M,Z=Date.now(),Q=!1,p=h,y=G,V,W,v,j,e=K*255,T=255-w*255,O=1+x*6,L=1+X*6,S=1+d*4,$=(S-1)/7,H=0,f=255-0,F,U,r,E,k,P,z,s,Y,t,n,J,I,fp=0,cH=1,b,jL,aq,cJ,aB,au,ea,ax,f1,fk,hF=1+R,fm,jE=l.Z(C*a),ff=l.Z(C*a),d5=l.Z(C*a),eF=l.Z(C*a),gI=255/e,fE=255/(255-T);
for(m=0;m<a;m++){for(q=0;q<C;q++){var N=m*C+q,js=N<<2;b=l.mD(o[js],o[js+1],o[js+2]);eF[N]=b;if(b<e)jE[N]=255-b*gI;
if(b>T)ff[N]=255-(255-b)*fE}}if(Q)console.log("init",Date.now()-Z);Z=Date.now();if(x*p>0){d5.set(jE);
l.EB.oZ(d5,jE,new aS(0,0,C,a),p)}if(X*y>0){d5.set(ff);l.EB.oZ(d5,ff,new aS(0,0,C,a),y)}if(Q)console.log("blur",Date.now()-Z);
Z=Date.now();var d8=l.Z(256),bt=l.Z(256);for(var N=0;N<256;N++){var io=N*(1/255),ha=0;ha=(1-Math.pow(1-io,O))*255;
d8[N]=Math.max(0,Math.min(255,~~(ha+.5)));ha=Math.pow(io,L)*255;bt[N]=Math.max(0,Math.min(255,~~(ha+.5)))}var dp=new Uint8ClampedArray(g.buffer),gS=new Float32Array(32768);
for(var N=0;N<32768;N++){fm=Math.sqrt(N)*(1/128);if(hF>1)fm=(1-fm)*(hF-1)+1;else fm=fm*(hF-1)+1;gS[N]=fm}for(m=0;
m<a;m++){for(q=0;q<C;q++){var N=m*C+q,js=N<<2,ha=eF[N],aP=jE[N]*(1/255),fA=ff[N]*(1/255);ha=(1-aP)*ha+aP*d8[~~ha];
ha=(1-fA)*ha+fA*bt[~~ha];b=ha;var aM=o[js],jc=o[js+1],eQ=o[js+2];jL=-aM*.168736-jc*.331264+eQ*.5;aq=aM*.5-jc*.418688-eQ*.081312;
fm=gS[~~(.5+jL*jL+aq*aq)];cJ=jL*fm;au=aq*fm;cH=1-Math.min(2-(aP+fA),1);jL=cH*jL+(1-cH)*cJ;aq=cH*aq+(1-cH)*au;
ax=b+1.402*aq;f1=b-.34414*jL-.71414*aq;fk=b+1.772*jL;dp[js]=~~(.5+ax);dp[js+1]=~~(.5+f1);dp[js+2]=~~(.5+fk)}}if(Q)console.log("apply masks",Date.now()-Z);
Z=Date.now()};l.tn={};l.tn.Qk=function(o,g,C,a,x){var K=!1,M=1,U=0,r=0,n=0,hF=0;if(!g.Xq(x)){var h=g.ae(x),X=l.Z(h.$()*4);
l.HT(o,g,X,h);o=X;g=h}var w=l.Z(g.$());l.MD(C,x,w,g);l.round(w);x=x.Kw(g);var G=x.m,R=x.n,d=G*3<R?2:1,q=R*3<G?2:1;
if(x.$()*(d*2+1)*(q*2+1)<g.$()){var h=new aS(x.x-G*d,x.y-R*d,G*(d*2+1),R*(q*2+1)).Kw(g),X=l.Z(h.$()*4);
l.HT(o,g,X,h);var m=l.Z(h.$());l.MD(w,g,m,h);g=h;o=X;w=m}while((g.m+g.n)/2/M>400)M++;var Z=o,Q=g,p=w,y=Math.floor(Q.m/M),V=Math.floor(Q.n/M);
o=l.Z(y*V*4);l.scale.js(Z,Q.m,Q.n,o,y,V,1/M);w=l.Z(y*V);l.scale.IY(p,Q.m,Q.n,w,y,V,1/M);l.round(w,1);
var W=l.Wx(w,new aS(0,0,y,V));if(W.to())return 1;var v=Math.round((W.m+W.n)/2/15),j=Date.now(),e=l.Z(y*V*4);
l.arl(o,e);var T=Int16Array,S=new T(y*V*24),$=new T(64),H=new T(64),f=new T(64),F=new T(64);for(var E=3;
E<V-4;E++)for(var k=3;k<y-4;k++){var P=E*y+k;if(w[P]==255)continue;if(l.tn.a31(e,w,k,E,y,V,$,H,f)!=0)continue;
l.tn.Qp($,F);S[U]=k;S[U+1]=E;l.tn.j5($,S,U+4,12);U+=16;l.tn.Qp(H,F);l.tn.j5(H,S,U,4);U+=4;l.tn.Qp(f,F);
l.tn.j5(f,S,U,4);U+=4;var z=S[U-24+5],s=S[U-24+6];S[U-24+5]=S[U-24+20];S[U-24+6]=S[U-24+16];S[U-24+16]=z;
S[U-24+20]=s;r++}if(r==0)return 2;if(K)console.log(Date.now()-j,"FWHT computed");j=Date.now();var Y=[];
l.tn.Wj(0,r-1,Y,S,new T(2*24));if(K)console.log(Date.now()-j,"KD tree computed");j=Date.now();var t=new Float32Array(y*V*4);
for(var N=0;N<r;N++){var J=N,I=l.tn.ahW(J,S,Y,v);if(I==-1)continue;var fp=J*24,cH=I*24,b=S[fp],jL=S[fp+1],aq=S[cH],cJ=S[cH+1];
n+=l.tn.getError(cH,fp,S,1e99);var aB=aq-b,au=cJ-jL;t[(V+au)*2*y+(y+aB)]+=1}if(K)console.log(Date.now()-j,"NN found");
j=Date.now();var ea=[],ax=1/(2*y);for(var N=0;N<t.length;N++){if(t[N]>0){var E=Math.floor(N*ax),k=N-E*2*y;
ea.push({x:k-y,y:E-V,k:t[N],gA:-1})}}ea.sort(function(gD,fA){return fA.k-gD.k});var f1=new Int32Array(y*V),fk=[];
for(var N=0;N<y*V;N++){if(w[N]==255){f1[N]=hF;fk.push(N%y,Math.floor(N/y));hF++}else if(o[(N<<2)+3]<200){f1[N]=-2}else{f1[N]=-1}}var fm=l.tn.acs(y,V,ea,f1,fk,hF);
if(fm==null){return 3}var jE=fm.XU,top=fm.top;jE=l.tn.a76(jE,o,y,V,top,f1,fk,hF);if(K)console.log(Date.now()-j,"optimal labeling found");
j=Date.now();var h=x.clone();h.Uj(1,1);h=h.Kw(Q);var ff=l.Z(h.$()*4),d5=l.Z(h.$());l.HT(Z,Q,ff,h);var eF=Q.m,gI=Q.n;
for(var E=0;E<gI;E++)for(var k=0;k<eF;k++){if(p[E*eF+k]==0)continue;var fE=Math.min(Math.floor(k/M),y-1),js=Math.min(Math.floor(E/M),V-1),d8=f1[js*y+fE];
if(d8==-1)continue;var bt=jE[d8],io=top[bt],ha=k+io.x*M,dp=E+io.y*M,gS=dp*eF+ha<<2,aP=(E-h.y+Q.y)*h.m+(k-h.x+Q.x)<<2;
ff[aP]=Z[gS];ff[aP+1]=Z[gS+1];ff[aP+2]=Z[gS+2];ff[aP+3]=Z[gS+3];ff[aP+3]=Z[gS+3];d5[aP>>2]=bt+1}if(K)console.log(Date.now()-j,"copied back");
j=Date.now();l.NU.Qk(ff,d5,h,null,1e3);if(K)console.log(Date.now()-j,"poisson smooth");j=Date.now();
l.HT(ff,h,a,x);return 0};l.tn.kf=function(o,g,C,a,x,K){return l.tn.oS(o+x.x,g+x.y,C,a)&&K[(g+x.y)*C+(o+x.x)]==-1?0:1e9};
l.tn.a76=function(o,g,C,a,top,x,K,h){var X=Date.now(),w=[-1,0,0,-1,1,0,0,1],G=1e99,R=[],d=[],q=2*(h*2*3+h*2),m=null,M=0,Z=0,Q=0,p=1e99;
while(!0&&Date.now()<X+12e3){Q++;var y=null,V=G;for(var W=0;W<top.length;W++){var v=top[W],j=0,e=h+2,T=0;
for(var N=0;N<h;N++){var O=K[N*2],L=K[N*2+1],S=top[o[N]],$=l.tn.kf(O,L,C,a,v,x),H=o[N]==W?1e9:l.tn.kf(O,L,C,a,S,x);
for(var ee=0;ee<4;ee++){if(ee==0&&O==0||ee==1&&L==0||ee==2&&O==C-1||ee==3&&L==a-1)continue;var f=w[2*ee],F=w[2*ee+1],U=O+f,r=L+F,E=x[r*C+U];
if(E==-2){}else if(E==-1){$+=3*l.tn.ZD(U+v.x,r+v.y,U,r,C,a,g,x);$+=2*l.tn.ZD(U+v.x+f,r+v.y+F,U+f,r+F,C,a,g,x);
H+=3*l.tn.ZD(U+S.x,r+S.y,U,r,C,a,g,x);H+=2*l.tn.ZD(U+S.x+f,r+S.y+F,U+f,r+F,C,a,g,x)}else if(ee>1){if(o[N]==o[E]){var k=0;
k+=l.tn.ZD(O+S.x,L+S.y,O+v.x,L+v.y,C,a,g,x);k+=l.tn.ZD(U+S.x,r+S.y,U+v.x,r+v.y,C,a,g,x);R[j]=N;R[j+1]=E;
d[j]=k;d[j+1]=k;j+=2}else{var P=top[o[E]],z=e,s=0,Y=0,t=0;e++;s+=l.tn.ZD(O+S.x,L+S.y,O+v.x,L+v.y,C,a,g,x);
s+=l.tn.ZD(U+S.x,r+S.y,U+v.x,r+v.y,C,a,g,x);Y+=l.tn.ZD(O+P.x,L+P.y,O+v.x,L+v.y,C,a,g,x);Y+=l.tn.ZD(U+P.x,r+P.y,U+v.x,r+v.y,C,a,g,x);
t+=l.tn.ZD(O+P.x,L+P.y,O+S.x,L+S.y,C,a,g,x);t+=l.tn.ZD(U+P.x,r+P.y,U+S.x,r+S.y,C,a,g,x);R[j]=N;R[j+1]=z;
d[j]=s;d[j+1]=s;j+=2;R[j]=E;R[j+1]=z;d[j]=Y;d[j+1]=Y;j+=2;R[j]=z;R[j+1]=h+1;d[j]=t;d[j+1]=0;j+=2}}}R[j]=h;
R[j+1]=N;d[j]=$;d[j+1]=0;j+=2;R[j]=N;R[j+1]=h+1;d[j]=H;d[j+1]=0;j+=2;T+=Math.min($,H)}if(T>V)continue;
var n=l.hO.w0(e,j,h,h+1,R,d,V);if(n.EQ<V){V=n.EQ;var J=o.slice(0);l.tn.aoS(J,j,R,n.BP,W,h);y=J}}if(V*1>=G){break}G=V;
o=y;if((Q&3)==0){if(V*1.03>=p)break;p=V}if((Q&3)==0){var I=0*top.length;for(var N=0;N<top.length&&top.length>I;
N++){if(o.indexOf(N)!=-1)continue;top.splice(N,1);for(var E=0;E<o.length;E++)if(o[E]>N)o[E]--;N--}}}return o};
l.tn.aoS=function(o,g,C,a,x,K){for(var N=0;N<a.length;N++){var h=a[N]<<1,X=0,w=0;if(h<g){X=C[h];w=C[h+1]}else{w=C[h];
X=C[h+1]}if(X==K&&o[w]!=x)o[w]=x}};l.tn.qv=function(top,o,g,C,a,x,K,h,X){for(var N=0;N<g.length;N++){var w=g[N],G=!0;
if(h!=null&&!(l.tn.oS(h+w.x,X+w.y,x,K)&&C[x*(X+w.y)+h+w.x]==-1))continue;if(w.gA==-1)w.gA=l.tn.a4T(w,C,a,x,K);
if(w.gA<=0)continue;for(var R=0;R<top.length;R++){var d=top[R],q=w.x-d.x,m=w.y-d.y;if(q*q+m*m<o){G=!1;
break}}if(G)return w}return null};l.tn.a4T=function(o,g,C,a,x){var K=0;for(var N=0;N<C.length;N+=2){var h=C[N]+o.x,X=C[N+1]+o.y;
if(l.tn.oS(h,X,a,x)&&g[a*X+h]==-1)K++}return K/(C.length>>1)};l.tn.acs=function(o,g,C,a,x,K){var top=[];
for(var N=0;N<60;N++){var h=l.tn.qv(top,25,C,a,x,o,g);if(h==null)break;else top.push(h)}if(top.length==0)return null;
var X=[];for(var N=0;N<K;N++){var w=x[N*2],G=x[N*2+1],R=-1,d=0;while(!0){d++;var q=Math.random();R=Math.floor(q*.99999*top.length);
var m=top[R],M=w+m.x,Z=G+m.y;if(l.tn.oS(M,Z,o,g)&&a[Z*o+M]==-1)break;if(d>100){var h;h=l.tn.qv(top,0,C,a,x,o,g,w,G);
if(h==null)return null;top.push(h);d=0}}X.push(R)}return{top:top,XU:X}};l.tn.ZD=function(o,g,C,a,x,K,h,X){if(o==C&&g==a)return 0;
if(o<0||g<0||o>=x||g>=K||C<0||a<0||C>=x||a>=K||X[g*x+o]!=-1||X[a*x+C]!=-1)return 1e7;var w=g*x+o<<2,G=a*x+C<<2,R=h[w]-h[G],d=h[w+1]-h[G+1],q=h[w+2]-h[G+2];
return 1+(R*R+d*d+q*q)};l.tn.oS=function(o,g,C,a){return o>=0&&o<C&&g>=0&&g<a};l.tn.ahW=function(o,g,C,a){var x=24*o,K=g[x],h=g[x+1],X=a*a,w=0,q=1e9;
while(C[w]!=99)if(g[x+C[w]]<C[w+1])w=C[w+2];else w=C[w+3];var G=C[w+1],R=C[w+2],d=-1;for(var N=G;N<=R;
N++){var w=N,m=w*24,M=g[m],Z=g[m+1];if((M-K)*(M-K)+(Z-h)*(Z-h)<X)continue;var Q=l.tn.getError(m,x,g,q);
if(Q<q){q=Q;d=w}}return d};l.tn.getError=function(o,g,C,a){var x=0;for(var K=4;K<24;K+=4){var h=C[g+K]-C[o+K],X=C[g+K+1]-C[o+K+1],w=C[g+K+2]-C[o+K+2],G=C[g+K+3]-C[o+K+3];
x+=h*h+X*X+w*w+G*G;if(x>=a)return x+1}return x};l.tn.Wj=function(o,g,C,a,x){var K=16,q=0;if(g-o<=K){C.push(99,o,g);
return}l.tn.TO(o,g,a,x);var h=-1,X=-1;for(var N=4;N<24;N++){var w=x[2*N+1]-x[2*N];if(w>X){X=w;h=N}}var G=o+g>>1,R=l.tn.ac3(G,o,g,a,h),d=-1;
for(var N=o;N<=g;N++)if(a[24*N+h]==R){if(d==-1)d=N;q=N}if(o+8<d&&d-o>g-q)G=d;else if(q+1<g-8)G=q+1;else if(g-o<64){C.push(99,o,g);
return}else G=G;var m=C.length;C.push(h,R,0,0);C[m+2]=m+4;l.tn.Wj(o,G-1,C,a,x);C[m+3]=C.length;l.tn.Wj(G,g,C,a,x)};
l.tn.TO=function(o,g,C,a){for(var N=0;N<48;N+=4){a[N]=3e4;a[N+1]=-3e4;a[N+2]=3e4;a[N+3]=-3e4}for(var N=o;
N<=g;N++){var x=N*24;for(var K=0;K<24;K++){var h=C[x+K],X=a[K<<1],w=a[(K<<1)+1];if(h<X)a[K<<1]=h;if(h>w)a[(K<<1)+1]=h}}};
l.tn.SY=function(o,g,C){var a=0,N=0;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;
N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;
N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;
N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;
N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;
N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;
N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;
N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;
N++;a=C[o+N];C[o+N]=C[g+N];C[g+N]=a;N++};l.tn.Wf=function(o,g,C,a){var x=C+a>>>1,K=o[24*x+g];while(C<=a){while(o[24*C+g]<K)C++;
while(o[24*a+g]>K)a--;if(C<=a){if(o[24*C+g]!=o[24*a+g])l.tn.SY(C*24,a*24,o);C++;a--}}return C};l.tn.ac3=function(o,g,C,a,x){var K=0;
while(g!=C){K=l.tn.Wf(a,x,g,C);if(o<K)C=K-1;else g=K}return a[o*24+x]};l.tn.j5=function(o,g,C,a){for(var N=0;
N<a;N++)g[C+N]=o[N]};l.tn.a31=function(o,g,C,a,x,K,h,X,w){var G=(a-3)*x+(C-3),R=G<<2;for(var d=0;d<8;
d++){if(g[G]+g[G+1]+g[G+2]+g[G+3]+g[G+4]+g[G+5]+g[G+6]+g[G+7]!=0||o[R+3]<200||o[R+7]<200||o[R+11]<200||o[R+15]<200||o[R+19]<200||o[R+23]<200||o[R+27]<200||o[R+31]<200)return 1;
var N=d<<3;h[N+0]=o[R+0];X[N+0]=o[R+1];w[N+0]=o[R+2];h[N+1]=o[R+4];X[N+1]=o[R+5];w[N+1]=o[R+6];h[N+2]=o[R+8];
X[N+2]=o[R+9];w[N+2]=o[R+10];h[N+3]=o[R+12];X[N+3]=o[R+13];w[N+3]=o[R+14];h[N+4]=o[R+16];X[N+4]=o[R+17];
w[N+4]=o[R+18];h[N+5]=o[R+20];X[N+5]=o[R+21];w[N+5]=o[R+22];h[N+6]=o[R+24];X[N+6]=o[R+25];w[N+6]=o[R+26];
h[N+7]=o[R+28];X[N+7]=o[R+29];w[N+7]=o[R+30];R+=x<<2;G+=x}return 0};l.tn.Qp=function(o,g){g[0]=o[32]+o[0];
g[1]=o[33]+o[1];g[2]=o[34]+o[2];g[3]=o[35]+o[3];g[4]=o[36]+o[4];g[5]=o[37]+o[5];g[6]=o[38]+o[6];g[7]=o[39]+o[7];
g[8]=o[40]+o[8];g[9]=o[41]+o[9];g[10]=o[42]+o[10];g[11]=o[43]+o[11];g[12]=o[44]+o[12];g[13]=o[45]+o[13];
g[14]=o[46]+o[14];g[15]=o[47]+o[15];g[16]=o[48]+o[16];g[17]=o[49]+o[17];g[18]=o[50]+o[18];g[19]=o[51]+o[19];
g[20]=o[52]+o[20];g[21]=o[53]+o[21];g[22]=o[54]+o[22];g[23]=o[55]+o[23];g[24]=o[56]+o[24];g[25]=o[57]+o[25];
g[26]=o[58]+o[26];g[27]=o[59]+o[27];g[28]=o[60]+o[28];g[29]=o[61]+o[29];g[30]=o[62]+o[30];g[31]=o[63]+o[31];
g[32]=o[0]-o[32];g[33]=o[1]-o[33];g[34]=o[2]-o[34];g[35]=o[3]-o[35];g[36]=o[4]-o[36];g[37]=o[5]-o[37];
g[38]=o[6]-o[38];g[39]=o[7]-o[39];g[40]=o[8]-o[40];g[41]=o[9]-o[41];g[42]=o[10]-o[42];g[43]=o[11]-o[43];
g[44]=o[12]-o[44];g[45]=o[13]-o[45];g[46]=o[14]-o[46];g[47]=o[15]-o[47];g[48]=o[16]-o[48];g[49]=o[17]-o[49];
g[50]=o[18]-o[50];g[51]=o[19]-o[51];g[52]=o[20]-o[52];g[53]=o[21]-o[53];g[54]=o[22]-o[54];g[55]=o[23]-o[55];
g[56]=o[24]-o[56];g[57]=o[25]-o[57];g[58]=o[26]-o[58];g[59]=o[27]-o[59];g[60]=o[28]-o[60];g[61]=o[29]-o[61];
g[62]=o[30]-o[62];g[63]=o[31]-o[63];o[0]=g[16]+g[0];o[1]=g[17]+g[1];o[2]=g[18]+g[2];o[3]=g[19]+g[3];
o[4]=g[20]+g[4];o[5]=g[21]+g[5];o[6]=g[22]+g[6];o[7]=g[23]+g[7];o[8]=g[24]+g[8];o[9]=g[25]+g[9];o[10]=g[26]+g[10];
o[11]=g[27]+g[11];o[12]=g[28]+g[12];o[13]=g[29]+g[13];o[14]=g[30]+g[14];o[15]=g[31]+g[15];o[16]=g[0]-g[16];
o[17]=g[1]-g[17];o[18]=g[2]-g[18];o[19]=g[3]-g[19];o[20]=g[4]-g[20];o[21]=g[5]-g[21];o[22]=g[6]-g[22];
o[23]=g[7]-g[23];o[24]=g[8]-g[24];o[25]=g[9]-g[25];o[26]=g[10]-g[26];o[27]=g[11]-g[27];o[28]=g[12]-g[28];
o[29]=g[13]-g[29];o[30]=g[14]-g[30];o[31]=g[15]-g[31];g[0]=o[8]+o[0];g[1]=o[9]+o[1];g[2]=o[10]+o[2];
g[3]=o[11]+o[3];g[4]=o[12]+o[4];g[5]=o[13]+o[5];g[6]=o[14]+o[6];g[7]=o[15]+o[7];g[8]=o[0]-o[8];g[9]=o[1]-o[9];
g[10]=o[2]-o[10];g[11]=o[3]-o[11];g[12]=o[4]-o[12];g[13]=o[5]-o[13];g[14]=o[6]-o[14];g[15]=o[7]-o[15];
o[0]=g[4]+g[0];o[1]=g[5]+g[1];o[2]=g[6]+g[2];o[3]=g[7]+g[3];o[4]=g[0]-g[4];o[5]=g[1]-g[5];o[6]=g[2]-g[6];
o[7]=g[3]-g[7];o[8]=g[12]+g[8];o[9]=g[13]+g[9];o[10]=g[14]+g[10];o[11]=g[15]+g[11];o[12]=g[8]-g[12];
o[13]=g[9]-g[13];o[14]=g[10]-g[14];o[15]=g[11]-g[15];g[0]=o[2]+o[0];g[1]=o[3]+o[1];g[2]=o[0]-o[2];g[3]=o[1]-o[3];
g[4]=o[6]+o[4];g[5]=o[7]+o[5];g[6]=o[4]-o[6];g[7]=o[5]-o[7];g[8]=o[10]+o[8];g[9]=o[11]+o[9];g[10]=o[8]-o[10];
g[11]=o[9]-o[11];g[12]=o[14]+o[12];g[13]=o[15]+o[13];g[14]=o[12]-o[14];g[15]=o[13]-o[15];o[0]=g[1]+g[0];
o[1]=g[0]-g[1];o[2]=g[3]+g[2];o[3]=g[2]-g[3];o[4]=g[5]+g[4];o[5]=g[4]-g[5];o[6]=g[7]+g[6];o[7]=g[6]-g[7];
o[8]=g[9]+g[8];o[9]=g[8]-g[9];o[10]=g[11]+g[10];o[11]=g[10]-g[11];o[12]=g[13]+g[12];o[13]=g[12]-g[13];
o[14]=g[15]+g[14];o[15]=g[14]-g[15]};l.tn.apt=function(){var o="",ee=64,g="v",C="t",a="a",x=5,N,K,h;
for(N=ee>>1;N>0;N>>=1,x--){for(K=0;K<ee;K++){h=(K>>x&1)!=0;if(h){o+=C+"["+K+"] = "+g+"["+(-N+K)+"] - "+g+"["+K+"];  "}else{o+=C+"["+K+"] = "+g+"["+(N+K)+"] + "+g+"["+K+"];  "}}a=g;
g=C;C=a;o+="\n"}console.log(o)};l.tn.a5g=function(ee,o,g){var C=o,a=g,x=C,K=0,N,X,w;while(ee>>K!=2)K++;
var h=K;for(N=ee>>1;N>0;N>>=1,K--){for(X=0;X<ee;X++){w=(X>>K&1)!=0;if(w)a[X]=C[-N+X]-C[X];else a[X]=C[N+X]+C[X]}x=C;
C=a;a=x}if((h&1)==1)for(N=0;N<ee;N++)g[N]=C[N]};l.lp={};l.lp.BK=function(o,g,C,a,x,K,h,X,w){var G=Date.now(),R=new Uint32Array(o.buffer),d=new Uint32Array(g.buffer),q=h/C,m=X/a,M=1/q,Z=1/m,Q=new Float64Array(2),p=3,y=1/p,V=1/(p*p),W=0,v=0,j=C,e=a;
if(x){W=x.x;v=x.y;j=x.m;e=x.n}for(var T=0;T<e;T++)for(var O=0;O<j;O++){var L=W+O,S=v+T,N=S*C+L,$=N<<1,H=N<<2;
l.lp.a9I(K,h,X,(L+.5)*q,(S+.5)*m,Q);var f=Q[0]*M,F=Q[1]*Z;if(f==0&&F==0)d[N]=R[N];else{l.S.Kq(L+f+.5,S+F+.5,R,C,a,d,N,w)}}};
l.lp.a9I=function(o,g,C,a,x,K){a-=.499999;x-=.499999;var h=~~a,X=~~x,w=a-h,G=x-X,R=(1-G)*(1-w),d=(1-G)*w,q=G*(1-w),m=G*w,M=h<g-1?h+1:h,Z=X<C-1?X+1:X,Q=X*g+h<<1,p=X*g+M<<1,y=Z*g+h<<1,V=Z*g+M<<1;
K[0]=R*o[Q]+d*o[p]+q*o[y]+m*o[V];K[1]=R*o[Q+1]+d*o[p+1]+q*o[y+1]+m*o[V+1]};l.lp.afe=function(o,g,C,a,x){var K=1/o,h=[-1,1,-o,o],X=a.length;
for(var w=0;w<X;w++){var N=a[w],G=N<<1,R=w<<1,d=~~(N*K),q=N-o*d,m=C[G],M=C[G+1],Z=0,Q=0;if(q!=0&&q!=o-1){var p=N-1<<1,y=N+1<<1,V=C[p],W=C[y],v=C[p+1],j=C[y+1],e=m-(V+W)*.5,T=M-(v+j)*.5;
Z-=e*x;Q-=T*x}if(d!=0&&d!=g-1){var p=N-o<<1,y=N+o<<1,V=C[p],W=C[y],v=C[p+1],j=C[y+1],e=m-(V+W)*.5,T=M-(v+j)*.5;
Z-=e*x;Q-=T*x}C[G]=m+Z;C[G+1]=M+Q}};l.lp.a37=function(o,g){var C=o+","+g;if(l.lp.P0==C)return l.lp.rB;
var a=l.lp.rB=[];l.lp.P0=C;for(var N=0;N<=1e3;N++){var x=N*.001,K=Math.sqrt(x),h=Math.exp(-4*K),X=.96*(1-K*K),w=g*((1-o)*h+o*X);
a[N]=w}return a};l.lp.P0="";l.lp.rB=[];l.lp.alm=function(o,g,C,a,x,K,h,X,w,G,R,d,q){var m=Math.max(0,Math.floor(x-h-1)),M=Math.min(g,Math.ceil(x+h+1)),Z=Math.max(0,Math.floor(K-h-1)),Q=Math.min(C,Math.ceil(K+h+1)),p=2*g,y=h*h,V=1/h,W=0;
if(q&&(a==3||a==6))w=-w;var v=l.lp.a37(X,w);for(var j=Z;j<Q;j++)for(var e=m;e<M;e++){var N=j*g+e,T=N<<1,O=(x-e)*V,L=(K-j)*V,S=O*O+L*L;
if(S<1){d[W]=N;var $=v[~~(S*1e3)];if(a==1){o[T]=o[T]*(1-$*.05);o[T+1]=o[T+1]*(1-$*.05)}else{var H=0,f=0,r,E,k,P;
if(a==0){H=G*$;f=R*$}else if(a==2){}else if(a==3){H=$*L;f=-$*O}else if(a==4){H=$*O;f=$*L}else if(a==5){H=-$*O;
f=-$*L}else if(a==6){H=R*$;f=-G*$}var F=o[T],U=o[T+1];if(e==0||e!=g-1&&H<0){r=1+o[T+2]-F;k=o[T+3]-U}else{r=F-o[T-2]+1;
k=U-o[T-1]}if(j==0||j!=C-1&&f<0){E=o[T+p]-F;P=1+o[T+p+1]-U}else{E=F-o[T-p];P=U-o[T-p+1]+1}o[T]=-(r*H+E*f-F);
o[T+1]=-(k*H+P*f-U)}W++}}};l.lp.atl=function(o){var g=o[0],C=o[0],a=o[1],x=o[1];for(var N=0;N<o.length;
N+=2){var K=o[N],h=o[N+1];if(K<g)g=K;else if(K>C)C=K;if(h<a)a=h;else if(h>x)x=h}return[g,a,C,x]};l.auj=function(o,g,C,a,x){function K(b,jL,aq,cJ){return Math.sqrt((b-aq)*(b-aq)+(jL-cJ)*(jL-cJ))}function h(b,jL){return b>=0&&b<g&&jL>=0&&jL<C}function X(b){if(b<0)return 0;
if(b>=g)return g-1;return b}function w(b){if(b<0)return 0;if(b>=C)return C-1;return b}function G(N,b){var jL=b[3]*(1/255),aq=a[N]+b[0]*jL;
if(aq>255)aq=255;a[N]=aq;aq=a[N+1]+b[1]*jL;if(aq>255)aq=255;a[N+1]=aq;aq=a[N+2]+b[2]*jL;if(aq>255)aq=255;
a[N+2]=aq}function R(b,jL,aq){if(!z(b,jL))return;if(aq[3]<0)aq[3]=0;G((jL*g+b)*4,aq)}function d(b){var jL=b.slice(0,3);
jL[3]=0;return jL}var q=g/800;function m(b){return Math.round(b*q)}function M(){for(var N=0;N<=300;N++){Y[N]=Z(N)}}function Z(C){var b=.8,jL=.2,aq=b*jL,cJ=C/60%2-1,aB=aq*(1-cJ*cJ),au=jL-aq,ea;
if(C<60){ea=[aq+au,aB,0]}else if(C<120){ea=[aB,aq,0]}else if(C<180){ea=[0,aq,aB]}else if(C<240){ea=[0,aB,aq]}else if(C<300){ea=[aB,0,aq]}else{ea=[aq,0,aB]}return[(ea[0]+au)*255,(ea[1]+au)*255,(ea[2]+au)*255]}function Q(C){return Y[~~C]}function p(b){return 1-y(b)}function y(b){return b-~~b}function V(b,jL,aq,cJ){k(b,jL,aq,0,jL+1,1,cJ)}function W(b,jL,aq,cJ,aB,au){k(b,jL,aq,0,cJ,1,aB,au)}function v(b){for(var N=0;
N<a.length;N+=4){G(N,b)}}function j(b,jL,aq,cJ,aB,au,ea,ax){e(b,jL,aq,cJ,aB,1,au,ea,ax)}function e(b,jL,aq,cJ,aB,au,ea,ax,f1){if(au==null)au=.5;
if(ea==null)ea=0;if(ax==null)ax=0;if(f1==null)f1=!1;var fk=b.x,hF=b.y,fm=aq.slice(0),jE=~~(aq[3]*n);
cJ=cJ*n;if(!f1){jL=P(jL);aB=P(aB);ea=P(ea);ax=P(ax)}var ff=X(fk-jL),d5=X(fk+jL);for(var eF=ff;eF<=d5;
eF++){var gI=eF-fk,fE=Math.floor(Math.sqrt(jL*jL-gI*gI)),js=w(hF-fE),d8=w(hF);for(var bt=js;bt<=d8;bt++){var io=K(eF,bt,fk,hF);
if(io>jL||io<=jL-aB)break;var ha=(io-jL+aB)/aB;fm[3]=jE-cJ*(au==1?ha:Math.pow(ha,au));G((bt*g+eF)*4,fm)}js=w(hF+fE);
for(var bt=js;bt>d8;bt--){var io=K(eF,bt,fk,hF);if(io>jL||io<=jL-aB)break;var ha=(io-jL+aB)/aB;fm[3]=jE-cJ*(au==1?ha:Math.pow(ha,au));
G((bt*g+eF)*4,fm)}}if(ea>0){k(b,jL+ea,fm,fm[3],ea,1,0,0,!0)}if(ax>0){k(b,jL-aB,s(aq),-aq[3],ax,1,0,0,!0)}}function T(b,jL,aq,cJ,aB,au){k(b,jL,aq,aq[3],jL+1,1,cJ,aB,au)}function O(b,jL,aq,cJ,aB){if(aB==null)aB=!1;
var au=b.x,ea=b.y;cJ*=n;if(!aB){jL=P(jL);aq=P(aq)}var ax=X(au-jL),f1=X(au+jL);for(var fk=ax;fk<f1;fk++){var hF=fk-au,fm=~~Math.sqrt(jL*jL-hF*hF),jE=w(ea-fm),ff=w(ea);
for(var d5=jE;d5<=ff;d5++){var eF=K(fk,d5,au,ea);if(eF>jL||eF<=jL-aq)break;var gI=(jL-eF)/aq,fE=Q(300*gI);
fE[3]=cJ;G((d5*g+fk)*4,fE)}jE=w(ea+fm);for(var d5=jE;d5>ff;d5--){var eF=K(fk,d5,au,ea);if(eF>jL||eF<=jL-aq)break;
var gI=(jL-eF)/aq,fE=Q(300*gI);fE[3]=cJ;G((d5*g+fk)*4,fE)}}}function L(t,b){var jL=t.bY,aq=t.z6,cJ=b.slice(0),aB=b[3]*n,au=Math.abs(aq.y-jL.y)>Math.abs(aq.x-jL.x);
if(au){var ea=jL.x;jL.x=jL.y;jL.y=ea;ea=aq.x;aq.x=aq.y;aq.y=ea}if(jL.x>aq.x){var ea=jL;jL=aq;aq=ea}var ax=aq.x-jL.x,f1=aq.y-jL.y,fk=ax==0?1:f1/ax,hF=Math.round(jL.x),fm=jL.y+fk*(hF-jL.x),jE=p(jL.x+.5),ff=hF,d5=~~fm;
if(au){cJ[3]=aB*p(fm)*jE;R(d5,ff,cJ);cJ[3]=aB*y(fm)*jE;R(d5+1,ff,cJ)}else{cJ[3]=aB*p(fm)*jE;R(ff,d5,cJ);
cJ[3]=aB*y(fm)*jE;R(ff,d5+1,cJ)}var eF=fm-fk;hF=Math.round(aq.x);fm=aq.y+fk*(hF-aq.x);jE=y(aq.x+.5);
var gI=hF,fE=~~fm;if(au){cJ[3]=aB*p(fm)*jE;R(fE,gI,cJ);cJ[3]=aB*y(fm)*jE;R(fE+1,gI,cJ)}else{cJ[3]=aB*p(fm)*jE;
R(gI,fE,cJ);cJ[3]=aB*y(fm)*jE;R(gI,fE+1,cJ)}if(au){for(var js=ff+1;js<=gI-1;js++){cJ[3]=aB*p(eF);R(~~eF,js,cJ);
cJ[3]=aB*y(eF);R(~~eF+1,js,cJ);eF+=fk}}else{for(var js=ff+1;js<=gI-1;js++){cJ[3]=aB*p(eF);R(js,~~eF,cJ);
cJ[3]=aB*y(eF);R(js,~~eF+1,cJ);eF+=fk}}}function S(b,jL,aq,cJ){for(var N=0;N<4;N++){var aB=b.KX(jL+1.3*N,aq);
L(aB,cJ,1)}}function eN(b,jL){this.x=Math.round(b);this.y=Math.round(jL)}var $=Math.PI/180;eN.prototype.KX=function(b,jL){b=b*$;
var aq=this.x+jL*Math.cos(b),cJ=this.y+jL*Math.sin(b);return new H(this.x,this.y,aq,cJ)};eN.prototype.ae9=function(b,jL){b=b*$;
var aq=this.Hi+jL*Math.cos(b),cJ=this.a2K+jL*Math.sin(b);return new eN(aq,cJ)};function H(b,jL,aq,cJ){this.bY=new eN(b,jL);
this.z6=new eN(aq,cJ)}H.prototype.CA=function(b){var jL=b*this.bY.x+(1-b)*this.z6.x,aq=b*this.bY.y+(1-b)*this.z6.y;
return new eN(jL,aq)};var f=j,F=T,U=V,r=W,E=O,k=e,P=m,z=h,s=d,Y=[];M();for(var N=0;N<o.length;N++){a[N]=o[N]}var t=new H(g*x[2],C*x[3],g/2,C/2),n=x[1],J=[];
J[0]=function I(){var b=[80,40,15,60],aq=0,cJ=0;U(t.CA(1.4),260,b,10);U(t.CA(1),100,[240,50,50,30],30);
F(t.CA(1),60,[255,40,0,40]);var jL=[255,255,255,255];k(t.CA(1),70,jL,jL[3],58,.5);U(t.CA(1),12,jL);jL[3]=40;
f(t.CA(1),150,jL,jL[3],150);for(var N=0;N<40;N++){aq+=Math.random()*25;cJ=Math.random()*P(300)+P(100);
var aB=t.CA(1).KX(aq,cJ);L(t.CA(1).KX(aq,cJ),[110,110,110,30])}F(t.CA(1),130,[255,255,255,8]);var au=[170,30,23,70];
r(t.CA(1),70,au,1,3,3);var ea=[60,60,130,40];U(t.CA(.47),44,ea,5);U(t.CA(.43),22,ea,3);ea[3]=16;U(t.CA(.53),15,ea,2);
var ax=[138,94,42,100];U(t.CA(.2),16,ax,2);var f1=[130,255,170,180];F(t.CA(0),4,f1);F(t.CA(-.25),5,f1);
ax=[150,90,0,50];f(t.CA(-.45),55,s(ax),-ax[3],40,2);U(t.CA(-.42),35,ax,2);U(t.CA(-.5),15,ax,2);E(t.CA(-1.28),145,11,70);
var fk=Q(0);fk[3]=50;f(t.CA(-1.28),149,fk,fk[3],4);fk=Q(300);fk[3]=50;f(t.CA(-1.28),155-1,s(fk),-fk[3],3);
var hF=[130,130,10,50];r(t.CA(-1),73,hF,3,2);var fm=[40,130,70,40];f(t.CA(-1),70,s(fm),-fm[3],35);fm=[40,170,60,50];
U(t.CA(-.7),25,fm,4);var fm=[70,110,50,60];f(t.CA(1.3),30,s(fm),-fm[3],11,3);ea=[0,50,210,80];F(t.CA(-.72),20,ea)};
J[1]=function fp(){F(t.CA(1),150,[240,70,70,60]);U(t.CA(1),100,[200,60,60,40],30);var b=[255,255,255,255],jL=0,aq=0;
k(t.CA(1),75,b,b[3],63);U(t.CA(1),12,b);F(t.CA(1),270,[200,200,200,20],10);for(var N=0;N<10;N++){jL+=10+Math.random()*40;
aq=Math.random()*P(250)+P(80);var cJ=t.CA(1).KX(jL,aq);L(cJ,[110,110,110,35])}jL=5;aq=100;for(var N=0;
N<12;N++){jL+=30;S(t.CA(1),jL,aq,[90,90,90,40])}var aB=[150,40,23,100];r(t.CA(1),70,aB,1,3,3);var au=[30,100,60,40];
F(t.CA(-.9),180,[255,255,255,20]);U(t.CA(-.9),140,au,15);var ea=[170,80,25,15];r(t.CA(-.9),120,ea,1,4,4);
var ax=[110,240,190,200];F(t.CA(-.6),3,ax);ax[3]=100;F(t.CA(-.6),7,ax);var f1=[230,120,40,85];F(t.CA(-.73),9,f1);
var fk=[60,60,190,50];U(t.CA(.3),28,fk,6);fk[3]=25;U(t.CA(.34),20,fk,3)};J[2]=function cH(){var b=[255,255,255,255],aq=0,cJ=0;
U(t.CA(1),13,b);k(t.CA(1),150,b,b[3],137);var jL=[120,80,35,20];U(t.CA(1.4),260,jL,10);for(var N=0;N<40;
N++){aq+=5+Math.random()*30;cJ=Math.random()*P(300);L(t.CA(1).KX(aq,cJ),[110,110,110,20])}var aB=[10,30,255,30];
U(t.CA(1),70,aB,50);var au=[15,90,170,15];U(t.CA(1.5),60,au);var ea=[220,220,20,50];U(t.CA(-1.15),8,ea,2);
var b=[255,255,255,40];F(t.CA(-1.18),6,b);F(t.CA(-1.18),4,b);ea=[110,110,10,8];f(t.CA(-1.2),32,s(ea),-ea[3],20,3);
var ax=[5,0,16,255];for(var N=0;N<4;N++){U(t.CA(-1.36),10,ax,3)}var f1=[90,200,150,20],fk=f1.slice(0);
fk[3]*=2;U(t.CA(-1.32),7,fk,3);U(t.CA(-1.36),7,fk,3);U(t.CA(-1.4),7,fk,3);var b=[230,230,230,100];F(t.CA(-1.36),2,b);
b[3]=3;U(t.CA(-.55),10,b);ea=[120,100,10,18];U(t.CA(-.55),160,ea,8);U(t.CA(-.55),80,ea,4);f1[3]=3;fk[3]=6;
f(t.CA(-.49),13,s(fk),-fk[3],13,2);f(t.CA(-.55),13,s(fk),-fk[3],13,2);f1[3]=20;U(t.CA(.15),25,f1,3);
ea[3]=100;F(t.CA(-.52),3,ea);ea=[200,200,50,40];U(t.CA(.27),1,ea,4);var hF=[150,40,23,30];f(t.CA(1),80,s(hF),-hF[3],2,1)};
return J[x[0]]()};l.t_={};l.t_.W8=function(o){var g=o.length,ee=o[0].length,C=new Array(ee);for(var N=0;
N<ee;N++)C[N]=new Array(g);for(var N=0;N<ee;N++)for(var a=0;a<g;a++)C[N][a]=o[a][N];return C};l.t_.fK=function(o,g){var C=o.length,ee=o[0].length,a=new Array(C);
for(var N=0;N<C;N++)a[N]=new Array(ee);for(var N=0;N<C;N++)for(var x=0;x<ee;x++)a[N][x]=o[N][x]-g[N][x];
return a};l.t_.add=function(o,g){var C=o.length,ee=o[0].length,a=new Array(C);for(var N=0;N<C;N++)a[N]=new Array(ee);
for(var N=0;N<C;N++)for(var x=0;x<ee;x++)a[N][x]=o[N][x]+g[N][x];return a};l.t_.multiply=function(o,g){var C=o.length,a=o[0].length,ee=g[0].length;
if(a!=g.length)throw"e";var x=new Array(C);for(var N=0;N<C;N++)x[N]=new Array(ee);if((a&1)!=0)for(var N=0;
N<C;N++){var K=o[N],h=x[N];for(var X=0;X<ee;X++){var w=0;for(var G=0;G<a;G++)w+=K[G]*g[G][X];h[X]=w}}else for(var N=0;
N<C;N++){var K=o[N],h=x[N];for(var X=0;X<ee;X++){var w=0;for(var G=0;G<a;G+=2)w+=K[G]*g[G][X]+K[G+1]*g[G+1][X];
h[X]=w}}return x};l.t_.BL=function(o,g){var C=o.length,ee=o[0].length,a=new Array(C);for(var N=0;N<C;
N++){var x=0;for(var K=0;K<ee;K++)x+=o[N][K]*g[K];a[N]=x}return a};l.t_.Gl=function(o,g){var C=[];for(var N=0;
N<o;N++){C.push([]);for(var a=0;a<g;a++)C[N].push(0)}return C};l.t_.a3k=function(o){for(var N=0;N<o.length;
N++)console.log(JSON.stringify(o[N]))};l.t_.alj=function(o){var g=[];for(var N=0;N<o.length;N++)g.push(o[N].join(","));
return"["+g.join(";")+"]"};l.t_.w0=function(o,g){var C=o.length;for(var a=0;a<C;a++){var x=0,K=Number.NEGATIVE_INFINITY;
for(var N=a;N<C;N++)if(Math.abs(o[N][a])>K){x=N;K=Math.abs(o[N][a])}l.t_.a8P(o,a,x);for(var N=a+1;N<C;
N++){if(o[a][a]==0)return 1;var h=o[N][a]/o[a][a];for(var X=a;X<C+1;X++)o[N][X]-=o[a][X]*h}}for(var N=C-1;
N>=0;N--){if(o[N][N]==0)return 1;var w=o[N][C]/o[N][N];g[N]=w;for(var X=N-1;X>=0;X--){o[X][C]-=o[X][N]*w;
o[X][N]=0}}return 0};l.t_.a8P=function(o,g,C){var a=o[g];o[g]=o[C];o[C]=a};l.t_.agi=function(o){var g=o.length,C=l.t_.Gl(g,g);
for(var N=0;N<g;N++)C[N][N]=o[N];return C};l.t_.ash=function(o){var g=o.length,C=o[0].length,a=new Array(g);
for(var N=0;N<g;N++){a[N]=0;for(var x=0;x<C;x++)a[N]+=o[N][x];a[N]/=C}return a};l.t_.fW=function(o){var g=0;
for(var N=0;N<o.length;N++)g+=o[N]*o[N];return Math.sqrt(g)};l.Rk={};l.Rk.Lv=function(o){var g=~~(o+.5);
return g<0?0:g>255?255:g};l.Rk.transform=function(o,g,C){var a=l.Rk.Lv,x=o.z.length;for(var N=0;N<x;
N++){var K=o.z[N],h=o.B[N],X=o.K[N];g.z[N]=a(C[0]*K+C[1]*h+C[2]*X+C[3]*255);g.B[N]=a(C[4]*K+C[5]*h+C[6]*X+C[7]*255);
g.K[N]=a(C[8]*K+C[9]*h+C[10]*X+C[11]*255)}};l.Rk.pL=function(o,g,C){var a=l.Rk.Lv,x=o.length;for(var N=0;
N<x;N+=4){var K=o[N],h=o[N+1],X=o[N+2];g[N]=a(C[0]*K+C[1]*h+C[2]*X+C[3]*255);g[N+1]=a(C[4]*K+C[5]*h+C[6]*X+C[7]*255);
g[N+2]=a(C[8]*K+C[9]*h+C[10]*X+C[11]*255)}};l.Rk.PK=function(o){var g=o[0]+o[1]+o[2],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(g==1){var a=o.indexOf(1);C[a]=C[a+4]=C[a+8]=1}else{C[0]=o[0];C[5]=o[1];C[10]=o[2]}return C};l.Rk.SM=function(o,g,C){return[1,0,0,o,0,1,0,g,0,0,1,C,0,0,0,1]};
l.Rk.V$=function(o,g,C){return[o,0,0,0,0,g,0,0,0,0,C,0,0,0,0,1]};l.Rk.a9r=function(o){return[o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]]};
l.Rk.vy=function(o){return[o[0],o[1],o[2],0,o[3],o[4],o[5],0,o[6],o[7],o[8],0,0,0,0,1]};l.Rk.xo=function(o,g){return[o[0]*g[0]+o[1]*g[1]+o[2]*g[2]+o[3]*g[3],o[4]*g[0]+o[5]*g[1]+o[6]*g[2]+o[7]*g[3],o[8]*g[0]+o[9]*g[1]+o[10]*g[2]+o[11]*g[3],o[12]*g[0]+o[13]*g[1]+o[14]*g[2]+o[15]*g[3]]};
l.Rk.W8=function(o){var g=[];g[0]=o[0];g[1]=o[4];g[2]=o[8];g[3]=o[12];g[4]=o[1];g[5]=o[5];g[6]=o[9];
g[7]=o[13];g[8]=o[2];g[9]=o[6];g[10]=o[10];g[11]=o[14];g[12]=o[3];g[13]=o[7];g[14]=o[11];g[15]=o[15];
return g};l.Rk.add=function(o,g){var C=o.slice(0);for(var N=0;N<16;N++)C[N]+=g[N];return C};l.Rk.multiply=function(o,g){var C=[];
C[0]=o[0]*g[0]+o[1]*g[4]+o[2]*g[8]+o[3]*g[12];C[1]=o[0]*g[1]+o[1]*g[5]+o[2]*g[9]+o[3]*g[13];C[2]=o[0]*g[2]+o[1]*g[6]+o[2]*g[10]+o[3]*g[14];
C[3]=o[0]*g[3]+o[1]*g[7]+o[2]*g[11]+o[3]*g[15];C[4]=o[4]*g[0]+o[5]*g[4]+o[6]*g[8]+o[7]*g[12];C[5]=o[4]*g[1]+o[5]*g[5]+o[6]*g[9]+o[7]*g[13];
C[6]=o[4]*g[2]+o[5]*g[6]+o[6]*g[10]+o[7]*g[14];C[7]=o[4]*g[3]+o[5]*g[7]+o[6]*g[11]+o[7]*g[15];C[8]=o[8]*g[0]+o[9]*g[4]+o[10]*g[8]+o[11]*g[12];
C[9]=o[8]*g[1]+o[9]*g[5]+o[10]*g[9]+o[11]*g[13];C[10]=o[8]*g[2]+o[9]*g[6]+o[10]*g[10]+o[11]*g[14];C[11]=o[8]*g[3]+o[9]*g[7]+o[10]*g[11]+o[11]*g[15];
C[12]=o[12]*g[0]+o[13]*g[4]+o[14]*g[8]+o[15]*g[12];C[13]=o[12]*g[1]+o[13]*g[5]+o[14]*g[9]+o[15]*g[13];
C[14]=o[12]*g[2]+o[13]*g[6]+o[14]*g[10]+o[15]*g[14];C[15]=o[12]*g[3]+o[13]*g[7]+o[14]*g[11]+o[15]*g[15];
return C};l.Rk.rq=function(o){var g=[];g[0]=o[5]*o[10]*o[15]-o[5]*o[14]*o[11]-o[6]*o[9]*o[15]+o[6]*o[13]*o[11]+o[7]*o[9]*o[14]-o[7]*o[13]*o[10];
g[1]=-o[1]*o[10]*o[15]+o[1]*o[14]*o[11]+o[2]*o[9]*o[15]-o[2]*o[13]*o[11]-o[3]*o[9]*o[14]+o[3]*o[13]*o[10];
g[2]=o[1]*o[6]*o[15]-o[1]*o[14]*o[7]-o[2]*o[5]*o[15]+o[2]*o[13]*o[7]+o[3]*o[5]*o[14]-o[3]*o[13]*o[6];
g[3]=-o[1]*o[6]*o[11]+o[1]*o[10]*o[7]+o[2]*o[5]*o[11]-o[2]*o[9]*o[7]-o[3]*o[5]*o[10]+o[3]*o[9]*o[6];
g[4]=-o[4]*o[10]*o[15]+o[4]*o[14]*o[11]+o[6]*o[8]*o[15]-o[6]*o[12]*o[11]-o[7]*o[8]*o[14]+o[7]*o[12]*o[10];
g[5]=o[0]*o[10]*o[15]-o[0]*o[14]*o[11]-o[2]*o[8]*o[15]+o[2]*o[12]*o[11]+o[3]*o[8]*o[14]-o[3]*o[12]*o[10];
g[6]=-o[0]*o[6]*o[15]+o[0]*o[14]*o[7]+o[2]*o[4]*o[15]-o[2]*o[12]*o[7]-o[3]*o[4]*o[14]+o[3]*o[12]*o[6];
g[7]=o[0]*o[6]*o[11]-o[0]*o[10]*o[7]-o[2]*o[4]*o[11]+o[2]*o[8]*o[7]+o[3]*o[4]*o[10]-o[3]*o[8]*o[6];g[8]=o[4]*o[9]*o[15]-o[4]*o[13]*o[11]-o[5]*o[8]*o[15]+o[5]*o[12]*o[11]+o[7]*o[8]*o[13]-o[7]*o[12]*o[9];
g[9]=-o[0]*o[9]*o[15]+o[0]*o[13]*o[11]+o[1]*o[8]*o[15]-o[1]*o[12]*o[11]-o[3]*o[8]*o[13]+o[3]*o[12]*o[9];
g[10]=o[0]*o[5]*o[15]-o[0]*o[13]*o[7]-o[1]*o[4]*o[15]+o[1]*o[12]*o[7]+o[3]*o[4]*o[13]-o[3]*o[12]*o[5];
g[11]=-o[0]*o[5]*o[11]+o[0]*o[9]*o[7]+o[1]*o[4]*o[11]-o[1]*o[8]*o[7]-o[3]*o[4]*o[9]+o[3]*o[8]*o[5];g[12]=-o[4]*o[9]*o[14]+o[4]*o[13]*o[10]+o[5]*o[8]*o[14]-o[5]*o[12]*o[10]-o[6]*o[8]*o[13]+o[6]*o[12]*o[9];
g[13]=o[0]*o[9]*o[14]-o[0]*o[13]*o[10]-o[1]*o[8]*o[14]+o[1]*o[12]*o[10]+o[2]*o[8]*o[13]-o[2]*o[12]*o[9];
g[14]=-o[0]*o[5]*o[14]+o[0]*o[13]*o[6]+o[1]*o[4]*o[14]-o[1]*o[12]*o[6]-o[2]*o[4]*o[13]+o[2]*o[12]*o[5];
g[15]=o[0]*o[5]*o[10]-o[0]*o[9]*o[6]-o[1]*o[4]*o[10]+o[1]*o[8]*o[6]+o[2]*o[4]*o[9]-o[2]*o[8]*o[5];var C=o[0]*g[0]+o[1]*g[4]+o[2]*g[8]+o[3]*g[12];
for(var N=0;N<16;N++)g[N]/=C;return g};l.Rk.a3X=function(o){var g=[],C=o[5]*o[10]*o[15]-o[5]*o[14]*o[11]-o[6]*o[9]*o[15]+o[6]*o[13]*o[11]+o[7]*o[9]*o[14]-o[7]*o[13]*o[10],a=-o[4]*o[10]*o[15]+o[4]*o[14]*o[11]+o[6]*o[8]*o[15]-o[6]*o[12]*o[11]-o[7]*o[8]*o[14]+o[7]*o[12]*o[10],x=o[4]*o[9]*o[15]-o[4]*o[13]*o[11]-o[5]*o[8]*o[15]+o[5]*o[12]*o[11]+o[7]*o[8]*o[13]-o[7]*o[12]*o[9],K=-o[4]*o[9]*o[14]+o[4]*o[13]*o[10]+o[5]*o[8]*o[14]-o[5]*o[12]*o[10]-o[6]*o[8]*o[13]+o[6]*o[12]*o[9];
return o[0]*C+o[1]*a+o[2]*x+o[3]*K};l.Rk.Kt=l.Rk.vy([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
l.Rk.a9f=l.Rk.vy([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
l.Rk.ar_=l.Rk.rq(l.Rk.Kt);l.hO={};l.hO.AS=new Uint32Array(1);l.hO.ia=function(o,g,C,a,x,K){var h=new Uint32Array(o),X=0,w=l.hO.AS;
if(w.length<g*4)l.hO.AS=w=new Uint32Array(g*4);var G=new Float64Array(w.buffer);for(var N=0;N<g;N+=2){var R=x[N],d=x[N+1],q=K[N],m=K[N+1];
w[X]=d;G[X+2>>1]=q;w[X+1]=h[R];h[R]=X+1;X+=4;w[X]=R;G[X+2>>1]=m;w[X+1]=h[d];h[d]=X+1;X+=4}return{Fj:w,asg:G,ag0:h}};
l.hO.w0=function(o,g,C,a,x,K,h){var X=1,w=l.hO.ia(o,g,C,a,x,K),G=w.Fj,R=w.asg,d=w.ag0,q=new Uint32Array(o),m=new l.hO.Pk(o),Z=1,W=0;
m.push(C);m.push(a);var M=new l.hO.Pk(o),Q=new Uint8Array(o),p=new Uint32Array(o);Q[C]=1;Q[a]=2;var y=new Uint32Array(o),V=new Uint32Array(o);
V[C]=V[a]=0;y[C]=y[a]=1;while(!0){var v=-1,$=0,U=1e30;while(!m.WQ()&&v==-1){var j=m.top(),e=Q[j],T=d[j]-1;
while(T!=-1){var O=G[T],L=Q[O],S=T^e-1<<2;if(R[S+2>>1]!=0){if(L==0){l.hO.cG(j,T,O,Q,p,V,y);m.push(O)}else if(L==e&&y[O]<=y[j]&&V[O]>V[j])l.hO.cG(j,T,O,Q,p,V,y);
else if(L!=e){v=S}}T=G[T+1]-1}if(v!=-1)break;m.pop()}if(v==-1){break}Z++;var H=v;while(H!=-1){q[$]=H;
$++;H=p[G[H^4]]-1}var f=$>>1;for(var N=0;N<f;N++){var F=q[N];q[N]=q[$-N-1];q[$-N-1]=F}H=p[G[v]]-1;while(H!=-1){q[$]=H^4;
$++;H=p[G[H^4]]-1}for(var N=0;N<$;N++)U=Math.min(U,R[q[N]+2>>1]);W+=U;if(W>=h)return{BP:null,EQ:W};for(var N=0;
N<$;N++){var r=q[N],E=r^4,j=G[E],O=G[r];R[r+2>>1]-=U;R[E+2>>1]+=U;if(R[r+2>>1]==0&&Q[j]==Q[O]){if(Q[j]==1){p[O]=0;
M.push(O)}if(Q[j]==2){p[j]=0;M.push(j)}}}while(!M.WQ()){var j=M.pop(),e=Q[j],T=d[j]-1,k=e==1?4:0,P=0,z=0,s=1e9;
while(T!=-1){var O=G[T],Y=T^4,S=T^k;if(Q[O]==e&&R[S+2>>1]>0&&l.hO.a7b(O,C,a,p,G,Z,y,V)+1<s){P=O;z=Y;
s=V[O]+1}T=G[T+1]-1}if(z!=0){l.hO.cG(P,z,j,Q,p,V,y);continue}T=d[j]-1;while(T!=-1){var O=G[T],S=T^k;
if(Q[O]==e){if(R[S+2>>1]>0){m.push(O)}if(p[O]==T+1){p[O]=0;M.push(O)}}T=G[T+1]-1}Q[j]=0;m.remove(j)}}var t=[];
for(var N=0;N<g;N+=2){var j=x[N],O=x[N+1];if(Q[j]==1&&Q[O]!=1){t.push(N>>1)}if(Q[O]==1&&Q[j]!=1){t.push(g+N>>1)}}return{BP:t,EQ:W}};
l.hO.cG=function(o,g,C,a,x,K,h){a[C]=a[o];x[C]=g+1;K[C]=K[o]+1;h[C]=h[o]};l.hO.a7b=function(o,g,C,a,x,K,h,X){var w=o,G=a[o]-1,R=0;
while(G!=-1&&h[o]!=K){o=x[G^4];G=a[o]-1;R++}if(G==-1&&o!=g&&o!=C)return 1e9;var d=X[o]+R;R=0;G=a[w]-1;
while(w!=o){X[w]=d-R;R++;h[w]=K;w=x[G^4];G=a[w]-1}return d};l.hO.ajM=function(o,g,C,a,x,K){var h=l.hO.ia(o,g,C,a,x,K),X=h.Fj,w=h.asg,G=h.ag0,R=0,d=0,q=new Uint32Array(o*2),m=new l.hO.C0(o),M=0;
while(!0){m.reset();m.push(C);for(var N=0;N<o;N++)q[N<<1]=0;while(!m.WQ()){var Z=m.pop(),Q=G[Z]-1;while(Q!=-1){M=X[Q];
if(q[M<<1]==0&&w[Q+2>>1]>0&&M!=C){q[M<<1]=Z+1;q[(M<<1)+1]=Q;m.push(M)}Q=X[Q+1]-1}if(q[a<<1]!=0){break}}if(q[a<<1]==0){break}var p=1e30;
M=a;while(!0){var y=q[M<<1]-1;if(y==-1)break;var V=q[(M<<1)+1];p=Math.min(p,w[V+2>>1]);M=y}M=a;while(!0){var y=q[M<<1]-1;
if(y==-1)break;var V=q[(M<<1)+1],W=V^4;w[V+2>>1]-=p;w[W+2>>1]+=p;M=y}R+=p}var v=[];for(var N=0;N<g;N+=2){var y=x[N],M=x[N+1];
if((q[y<<1]!=0||y==C)&&q[M<<1]==0&&M!=C){v.push(N>>1)}if((q[M<<1]!=0||M==C)&&q[y<<1]==0&&y!=C){v.push(g+N>>1)}}return{BP:v,EQ:R}};
l.hO.C0=function(o){o|=o>>1;o|=o>>2;o|=o>>4;o|=o>>8;o|=o>>16;this.gU=new Uint32Array(o+1);this.T8=o;
this.j0=0;this.sq=0};l.hO.C0.prototype={push:function(o){var g=this.sq;this.gU[g]=o;this.sq=g+1&this.T8},pop:function(){var o=this.j0,g=this.gU[o];
this.j0=o+1&this.T8;return g},WQ:function(){return this.j0==this.sq},reset:function(){this.j0=0;this.sq=0}};
l.hO.Pk=function(o){o|=o>>1;o|=o>>2;o|=o>>4;o|=o>>8;o|=o>>16;this.gU=new Uint32Array(o+1);this.Sz=new Uint32Array(o+1);
this.T8=o;this.j0=0;this.sq=0};l.hO.Pk.prototype={top:function(){return this.gU[this.j0]},arj:function(){return this.gU[this.sq]},push:function(o){if(this.Sz[o]!=0)return;
this.Sz[o]=this.sq+1;var g=this.sq;this.gU[g]=o;this.sq=g+1&this.T8},pop:function(){var o=this.j0,g=this.gU[o];
this.Sz[g]=0;this.j0=o+1&this.T8;return g},WQ:function(){return this.j0==this.sq},remove:function(o){var g=this.Sz[o]-1;
if(g==-1)return;this.Sz[o]=0;if(g==this.j0){this.pop();return}var C=this.pop();this.gU[g]=C;this.Sz[C]=g+1},lh:function(N){return N+this.T8+1&this.T8}};
l.hO.iV=function(o,g,C){var a=l.hO.Wf(o,g,C);if(g<a-1)l.hO.iV(o,g,a-1);if(a<C)l.hO.iV(o,a,C)};l.hO.Wf=function(o,g,C){var a=o[g+C>>>1];
while(g<=C){while(o[g]<a)g++;while(o[C]>a)C--;if(g<=C){l.hO.SY(o,g,C);g++;C--}}return g};l.hO.SY=function(o,g,C){var a=o[g];
o[g]=o[C];o[C]=a};l.vm={};l.vm.xp=function(o){for(var N=0;N<o.length;N++)l.vm.$c(o,N)};l.vm.$c=function(o,N){o[N].v.keyShapeInvalidated={t:"bool",v:!0}};
l.vm.aai=function(o){for(var N=0;N<o.length;N++)o[N].v.keyOriginIndex.v=N};l.vm.oX=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
l.vm.UP=function(o){o=o.v;var g={Rctn:2,Ln:4,Elps:5},C=g[o.classID],a=o.topLeft?l.vm._j(o):null,x=null,K=0,h=[!1,!1,0,0,0];
if(C==4){var X=o.Strt.v,w=o.End.v;x=[X.Hrzn.v.val,X.Vrtc.v.val,w.Hrzn.v.val,w.Vrtc.v.val];K=o.Wdth.v.val;
for(var N=0;N<2;N++){var G=o[N==0?"StrA":"EndA"];if(G==null)continue;G=G.v;h[N]=G.On.v;h[2]=G.Wdth.v;
h[3]=G.Lngt.v;h[4]=G.Cncv.v.val}}if(C==null)return null;return l.vm.EG(C,C==4?null:l.vm.po(o),a,x,K,h)};
l.vm.H2=function(o,g,C,a,x,K,h){var X={classID:o,unitValueQuadVersion:{t:"long",v:1}};if(g)l.vm.hr(X,["Left","Top","Rght","Btom"],g);
if(C)l.vm.hr(X,["topLeft","topRight","bottomRight","bottomLeft"],C);if(o=="Ln"){X.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:a[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:a[1]}}}},X.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:a[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:a[3]}}}},X.Wdth={t:"UntF",v:{type:"#Pxl",val:x}};
for(var N=0;N<2;N++){var w=N==0?"StrA":"EndA";X[w]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:h[N]},Wdth:{t:"doub",v:h[2]},Lngt:{t:"doub",v:h[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:h[4]}}}}}}if(K)X.Nm={t:"TEXT",v:K};
return{t:"Objc",v:X}};l.vm.jj=function(o,g){var C=l.vm.ax(o),a=o[2]-o[0],x=o[3]-o[1],K=Math.sqrt(a*a+x*x),h=[0,0,K,0,K,g,0,g],X=new kp;
X.rotate(-C);X.translate(o[0],o[1]);l.o.D(h,X,h);return h};l.vm.EG=function(o,g,C,a,x,K){var h=l.vm.oX(),X=h.v,w;
delete X.keyShapeInvalidated;X.keyOriginType={t:"long",v:o};X.keyOriginResolution={t:"doub",v:75};if(o==4){X.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:a[0]},Vrtc:{t:"doub",v:a[1]}}};
X.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:a[2]},Vrtc:{t:"doub",v:a[3]}}};w=l.vm.jj(a,x);
var G=l.o.TO(w);g=[G.x,G.y,G.x+G.m,G.y+G.n];X.keyOriginLineWeight={t:"doub",v:x};if(K)l.vm.a8v(X,K)}else w=[g[0],g[1],g[2],g[1],g[2],g[3],g[0],g[3]];
X.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};l.vm.xu(X,"keyOriginBoxCorners",w);var R={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
X.keyOriginShapeBBox={t:"Objc",v:R};l.vm.hC(X,g);if(C!=null){var d={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
X.keyOriginRRectRadii={t:"Objc",v:d};l.vm.q9(X,C)}return h};l.vm.D=function(o,g,C,a){var x=l.S.M3(g),K=l.S.dg(g);
for(var N=0;N<o.length;N++){var h=o[N].v;if(!l.vm.kj(h))continue;if(C.length!=0&&C.indexOf(N)==-1)continue;
var X=h.keyOriginType.v,w=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var G=0;G<w.length;
G++){var R=l.vm.aB(h,w[G]);if(R==null)continue;l.S.D(g,R);l.vm.xu(h,w[G],R);var d=l.o.TO(R);l.vm.hC(h,[d.x,d.y,d.x+d.m,d.y+d.n]);
var q=new kp;q.rotate(-l.vm.ax(R));var m={classID:"Trnf"};h.Trnf={t:"Objc",v:m};var M="xx xy yx yy tx ty".split(" "),Z=[q.Bk,q.K,q.U9,q.rX,q.NO,q.Mx];
for(var Q=0;Q<6;Q++)m[M[Q]]={t:"doub",v:Z[Q]}}var R=l.vm.aB(h,"keyOriginBoxCorners"),p=R[2]-R[0],y=R[3]-R[1],V=Math.sqrt(p*p+y*y);
p/=V;y/=V;var W=R[6]-R[0],v=R[7]-R[1],j=Math.sqrt(W*W+v*v);W/=j;v/=j;if(X==4){h.keyOriginLineWeight.v=j;
var e=l.vm.Ot(h);l.S.D(g,e);l.vm.a7e(h,e)}var T=p*W+y*v;if(Math.abs(T)>.001){l.vm.$c(o,N)}}};l.vm.kj=function(o){var g=o.keyShapeInvalidated,C=o.keyOriginType;
return(g==null||!g.v)&&C!=null&&C.v!=9};l.vm.ag3=function(o){var g=o.keyOriginType.v,C=l.vm.VM(o),a=C[0],x=C[1],K=C[2],h=C[3],X=new kp,w=o.keyOriginPolyCornerRadius,m;
w=w?w.v:0;var G=l.vm.aB(o,g==7||g==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),R=l.vm.ME(G),d=R[2],q=R[3];
a=-d/2;K=d/2;x=-q/2;h=q/2;X.rotate(-l.vm.ax(G));X.NO=R[0];X.Mx=R[1];if(g==1||g==2){var M=g==1?0:l.vm.Yz(o);
m=l.M.MG.Rect(a,x,K-a,h-x,M)}else if(g==4){var Z=l.vm.Ot(o),Q=l.vm.a9_(o);X=new kp;if(Q==null)m=l.M.MG.e8(Z[0],Z[1],Z[2],Z[3],o.keyOriginLineWeight.v);
else m=l.M.MG.g7(Z[0],Z[1],Z[2],Z[3],o.keyOriginLineWeight.v,Q)}else if(g==5){m=l.M.MG.Hy(a,x,K-a,h-x)}else if(g==7||g==8){var p=g==7?3:o.keyOriginPolySides.v;
m=l.M.MG.UA(0,0,100,Math.PI/p-Math.PI/2,p,w,K,h)}l.M.Jg(m,X);return m};l.vm.zk=function(o,g){var C=g.i;
for(var N=0;N<o.length;N++){var a=o[N].v;if(!l.vm.kj(a))continue;var x=l.vm.ag3(a),K=l.M.Fq(C,N),h=l.M.LQ(C,N);
x[2].j4=C[K].j4;var X=C;C=C.slice(0,K);for(var w=2;w<x.length;w++)C.push(x[w]);for(var w=K+h;w<X.length;
w++)C.push(X[w])}g.i=C;g.fD=!0};l.vm.sV=function(o){var g=1e9,C=-g,a=1e9,x=-a,K=[],h=o.DE(),X=h[0],w=h[1];
for(var G=0;G<w.length;G++){var R=X[w[G]],d=R.add.vogk;if(d==null)continue;var q=R.add.vmsk.A;for(var m=0;
m<d.length;m++){var M=d[m].v,p=0;if(!l.vm.kj(M))continue;if(w.length==1&&q.length!=0&&q.indexOf(m)==-1)continue;
var Z=M.keyOriginType.v;if(Z==9)continue;var Q=l.vm.VM(M);g=Math.min(g,Q[0]);a=Math.min(a,Q[1]);C=Math.max(C,Q[2]);
x=Math.max(x,Q[3]);var y=l.vm.aB(M,"keyOriginBoxCorners");if(y){var V=l.vm.ME(y),W=V[2],v=V[3];Q[2]=Q[0]+W;
Q[3]=Q[1]+v;p=l.vm.ax(y)}var j=[Z,Q,p];K.push(j);if(Z==2)j.push(l.vm.Yz(M));if(Z==7||Z==8)j.push(M.keyOriginPolyCornerRadius.v);
if(Z==8)j.push(M.keyOriginPolySides.v)}}return K.length==1?K[0]:[0,g<C?[g,a,C,x]:null,0]};l.vm.ax=function(o){var g=o[2]-o[0],C=o[3]-o[1];
return-Math.atan2(-C,g)};l.vm.akg=function(o,g){var C=l.vm.sV(o),a=-1;for(var N=0;N<g.length;N++)if(JSON.stringify(g[N])!=JSON.stringify(C[N]))a=N;
if(a==1||a==2){}var x=o.DE(),K=x[0],h=x[1];for(var X=0;X<h.length;X++){var w=K[h[X]],G=w.add.vogk;if(G==null)continue;
var R=w.add.vmsk.A;for(var d=0;d<G.length;d++){var q=G[d].v;if(!l.vm.kj(q))continue;if(h.length==1&&R.length!=0&&R.indexOf(d)==-1)continue;
var m=q.keyOriginType.v;if(a==1||a==2){l.vm.D(G,l.vm.abZ(a,q,C,g),R,!1);break}if(a==3)if(m==2)l.vm.q9(q,g[3]);
else q.keyOriginPolyCornerRadius.v=g[3];if(a==4)q.keyOriginPolySides.v=g[4]}}};l.vm.abZ=function(o,g,C,a){var x=a[1],K=C[1],h=(x[2]-x[0])/(K[2]-K[0]),X=(x[3]-x[1])/(K[3]-K[1]),w=new kp;
if(o==1){if(Math.max(Math.abs(h-1),Math.abs(X-1))>1e-8){var G=x[0],R=x[1];if(a[0]!=0){var d=l.vm.aB(g,"keyOriginBoxCorners");
G=d[0];R=d[1]}w.translate(-G,-R);w.rotate(a[2]);w.scale(h,X);w.rotate(-a[2]);w.translate(G,R)}else{w.translate(-K[0],-K[1]);
w.translate(x[0],x[1])}}else{if(a[0]!=0)x=l.vm.VM(g);var G=(x[0]+x[2])/2,R=(x[1]+x[3])/2;w.translate(-G,-R);
if(C[0]!=0)w.rotate(C[2]);w.rotate(-a[2]);w.translate(G,R)}return l.S.xN(w)};l.vm.ME=function(o){var g=o[0],C=o[1],a=o[2],x=o[3],K=o[4],h=o[5],X=o[6],w=o[7],G=a-g,R=x-C,d=Math.sqrt(G*G+R*R),G=K-a,R=h-x,q=Math.sqrt(G*G+R*R);
return[(g+K)/2,(C+h)/2,d,q]};l.vm.aB=function(o,g){var C=o[g];if(C==null)return null;var a=[];C=C.v;
for(var x=0;x<4;x++){var K=C["rectangleCorner"+["A","B","C","D"][x]].v;a.push(K.Hrzn.v,K.Vrtc.v)}return a};
l.vm.xu=function(o,g,C){var a=o[g];if(a==null)return null;a=a.v;for(var x=0;x<4;x++){var K="rectangleCorner"+["A","B","C","D"][x];
a[K]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:C[2*x]},Vrtc:{t:"doub",v:C[2*x+1]}}}}};l.vm.VM=function(o){return l.vm.po(o.keyOriginShapeBBox.v)};
l.vm.po=function(o){var g=o.classID,C=o.Left.v,a=o.Rght.v,x=o.Top.v,K=o.Btom.v;if(g=="unitRect"||g=="radii"||g=="Rctn"){C=C.val;
a=a.val;x=x.val;K=K.val}return[C,x,a,K]};l.vm.hC=function(o,g){l.vm.hr(o.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],g)};
l.vm.Yz=function(o){return l.vm._j(o.keyOriginRRectRadii.v)};l.vm._j=function(o){var g=[],C=["topLeft","topRight","bottomRight","bottomLeft"];
for(var a=0;a<4;a++)g.push(o[C[a]].v.val);return g};l.vm.q9=function(o,g){l.vm.hr(o.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],g)};
l.vm.hr=function(o,g,C){var a=o.classID;if(a=="unitRect"||a=="radii"||a=="Rctn"){for(var N=0;N<4;N++)if(C[N]!=null)o[g[N]]={t:"UntF",v:{type:"#Pxl",val:C[N]}}}else{for(var N=0;
N<4;N++)if(C[N]!=null)o[g[N]]={t:"doub",v:C[N]}}};l.vm.Ot=function(o){var g=o.keyOriginLineStart.v,C=o.keyOriginLineEnd.v;
return[g.Hrzn.v,g.Vrtc.v,C.Hrzn.v,C.Vrtc.v]};l.vm.a7e=function(o,g){var C=o.keyOriginLineStart.v,a=o.keyOriginLineEnd.v;
C.Hrzn.v=g[0];C.Vrtc.v=g[1];a.Hrzn.v=g[2];a.Vrtc.v=g[3]};l.vm.a9_=function(o){var g=[],C=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var N=0;N<5;N++){var a=o["keyOriginLineArr"+C[N]];if(a==null)return null;g[N]=a.v}return g};l.vm.a8v=function(o,g){o.keyOriginLineArrowSt={t:"bool",v:g[0]};
o.keyOriginLineArrowEnd={t:"bool",v:g[1]};o.keyOriginLineArrWdth={t:"doub",v:g[2]};o.keyOriginLineArrLngth={t:"doub",v:g[3]};
o.keyOriginLineArrConc={t:"long",v:g[4]}};l.vm.aoL=function(o){function g(j,e){return Math.abs(j-e)<.5}function C(j,e){return g(j.x,e.x)&&g(j.y,e.y)}function a(j,e,T,O,L,S,$){for(var N=0;
N<$;N++){var H=j[e+(T+N)%$],f=O[L+(S+N)%$];if(!(C(H.H,f.H)&&C(H.rD,f.rD)&&C(H.lu,f.lu)))return!1}return!0}var x=[],K=l.M.Ac(o);
for(var h=0;h<K;h++){var X=null,w=l.M.Fq(o,h),G=o[w];if(G.length==4){var R=l.M.Ux(o,w+1,4),d=R.x,q=R.y,m=d+R.m,M=q+R.n;
if(R.$()>4){if(l.M.Jr(o.slice(w-2,w+5)))X=l.vm.EG(2,[d,q,m,M],[0,0,0,0]);else{var Z=-1;for(var N=0;N<4;
N++)if(g(o[w+1+N].H.y,M))Z=N;if(Z!=-1){var Q=l.M.MG.Hy(d,q,m-d,M-q),V=a(o,w+1,Z,Q,3,0,4);if(V)X=l.vm.EG(5,[d,q,m,M])}}}}if(G.length==8){var R=l.M.Ux(o,w+1,8),d=R.x,q=R.y,m=d+R.m,M=q+R.n;
if(R.$()>4){var Z=-1;for(var N=0;N<8;N++)if(g(o[w+1+(N+1&7)].H.y,q)&&g(o[w+1+(N+2&7)].H.y,q))Z=N;if(Z!=-1){var W=Math.abs(o[w+1+Z].H.y-q),v=[W,W,W,W];
if(W>.5){var Q=l.M.MG.Rect(d,q,m-d,M-q,v),V=a(o,w+1,Z,Q,3,0,8);if(V)X=l.vm.EG(2,[d,q,m,M],v)}}}}x.push(X?X:l.vm.oX())}return x};
l.o={};l.o.clone=function(o){return{G:o.G.slice(0),w:o.w.slice(0)}};l.o.WJ=function(o){if(o.length<6)return!0;
var g=o.length-4;for(var N=0;N<g;N+=2)if(!l.o.Fr(o[N],o[N+1],o[N+2],o[N+3],o[N+4],o[N+5]))return!1;if(!l.o.Fr(o[g],o[g+1],o[g+2],o[g+3],o[0],o[1]))return!1;
if(!l.o.Fr(o[g+2],o[g+3],o[0],o[1],o[2],o[3]))return!1;return!0};l.o.Fr=function(o,g,C,a,x,K){return(g-a)*(x-C)+(C-o)*(K-a)>=0};
l.o.Ui=function(o){var g={},C=null,a=0,x={M:2,L:2,Q:4,C:6},K="",h="";for(var N=0;N<o.G.length;N++){var X=o.G[N];
if(X[0]=="#")K=X;else if(X[0]=="X")K="";else if(X[0]=="O"&&X[1]=="-")h=X;else if(X=="OX")h="";else{var w=K+h;
C=g[w];if(C==null)C=g[w]={w:[],G:[]};C.G.push(X);var G=x[X];if(G==null)G=0;for(var R=0;R<G;R++)C.w.push(o.w[a+R]);
a+=G}}return g};l.o.pR=function(o,g,C){var a=o[g]-o[C-2],x=o[g+1]-o[C-1];return a*a+x*x<1e-4};l.o.RS=function(o,g,C){o=l.o.DK(o);
var a=o.w,x=o.G,K=0,h="",X=0,w=0,K=0,d=null;for(var N=0;N<x.length;N++){var G=x[N];if(G=="M"){X=a[K];
w=a[K+1];K+=2;h=G}if(G=="C"){if(h=="Z"){x.splice(N,0,"M");a.splice(K,0,X,w);N--;continue}K+=6;h=G}if(G=="Z"){h=G}}var R=[];
K=0;for(var N=0;N<x.length;N++){var G=x[N];if(G=="M"){d={h8:K,va:0,H5:!1};R.push(d);K+=2}if(G=="C"){d.va++;
K+=6}if(G=="Z"&&d!=null){d.H5=!0}}var q=[];for(var N=0;N<R.length;N++)if(R[N].va!=0)q.push(R[N]);R=q;
for(var N=0;N<R.length;N++){var m=R[N],M=m.h8,Z=M+2+m.va*6,p=0;m.oD=l.o.TO(a,M,Z);var Q=l.o.pR(a,M,Z);
for(var y=0;y<m.va;y++){var V=M+y*6,W=V+6;p+=(a[W]-a[V])*(a[W+1]+a[V+1])}if(m.va==2){var v=function(fp,cH,b){var jL=1-b;
return jL*jL*jL*fp[cH]+3*jL*jL*b*fp[cH+2]+3*jL*b*b*fp[cH+4]+b*b*b*fp[cH+6]},j=a[M],e=a[M+1],T=a[M+6],O=a[M+7],L=a[M+6],S=a[M+7],$=v(a,M,.5),H=v(a,M+1,.5),f=v(a,M+6,.5),F=v(a,M+7,.5);
p=($-j)*(H-e)+(T-$)*(O-H)+(f-T)*(F-O)+(L-f)*(S-F)}if(!Q)p+=(a[M]-a[Z-2])*(a[M+1]+a[Z-1]);m.X$=p<=0}for(var N=0;
N<R.length-1;N++)for(var V=N+1;V<R.length;V++){var U=R[N],r=R[V];if(r.oD.Xq(U.oD)){R[N]=r;R[V]=U}}var E=R.length==0?!0:R[0].X$,k=[{type:6},{type:8,all:0}];
for(var N=0;N<R.length;N++){var m=R[N],M=m.h8,Z=M+2+m.va*6,Q=l.o.pR(a,M,Z),P=m.H5||Q?0:3,z=m.X$==E&&!g?1:0;
if(!g&&N!=0){if(R[N-1].oD.Xq(m.oD)&&R[N-1].X$!=m.X$)z=0;for(var V=0;V<R.length;V++)if(V!=N&&R[V].oD.Xq(m.oD))z=0}k.push({type:P,length:m.va+(Q?0:1),j4:C?1:z,Y9:2});
for(var V=0;V<m.va;V++){var K=M+V*6,s=new eN(a[K],a[K+1]),Y=new eN(a[K+2],a[K+3]),t;if(V==0){if(Q){t=new eN(a[Z-4],a[Z-3]);
if(eN.ig(t,s)<1e-5)t=s.clone()}else t=s.clone()}else t=new eN(a[K-2],a[K-1]);k.push({type:P+2,rD:t,H:s,lu:Y})}if(!Q){var n=new eN(a[Z-2],a[Z-1]);
k.push({type:P+2,rD:new eN(a[Z-4],a[Z-3]),H:n,lu:n.clone()})}}for(var V=0;V<k.length;V++){var J=k[V];
if(J.type>5||J.type==0||J.type==3)continue;var I=J.rD.$s(J.H)||J.lu.$s(J.lu);if(!I){var U=J.rD.x*(J.H.y-J.lu.y)+J.H.x*(J.lu.y-J.rD.y)+J.lu.x*(J.rD.y-J.H.y);
if(Math.abs(U)<1e-6)I=!0}if(I)J.type--}return k};l.o.xC=function(o,g){var C=l.M.Ac(o),a=!1;for(var N=2;
N<o.length;N++){var x=o[N].j4;if(x!=null){if(x==2||x==0||x==3)a=!0}}if((a||g)&&o.length<15e3&&C>1)o=l.M.WR(o);
var K=l.o.rA(o);return{dH:K,PX:a?1:0}};l.o.rA=function(){function o(a,x,K,h){if(!h&&a.lu.$s(a.H)&&x.rD.$s(x.H)){K.w.push(x.H.x,x.H.y);
K.G.push("L")}else{var X=a.H,w=a.lu,G=x.rD,R=x.H,d=3/2*w.x-1/2*X.x,q=3/2*w.y-1/2*X.y,m=3/2*G.x-1/2*R.x,M=3/2*G.y-1/2*R.y,Z=m-d,Q=M-q;
if(!h&&Z*Z+Q*Q<.001){K.w.push((d+m)*.5,(q+M)*.5,R.x,R.y);K.G.push("Q")}else{K.w.push(w.x,w.y,G.x,G.y,R.x,R.y);
K.G.push("C")}}}function g(a,x,N,K,h,X){var w=x[N];a.w.push(w.H.x,w.H.y);a.G.push("M");for(var G=N;G<N+K-1;
G++)o(x[G],x[G+1],a,X);if(!h)o(x[G],x[N],a,X)}function C(a,x){a=l.M.a8$(a);if(x==null)x=!1;var K={w:[],G:[]};
for(var N=0;N<a.length;N++){if(a[N].type>5)continue;var h=a[N].length;if(h==0)continue;if(N==a.length-1)break;
var X=a[N].type==3;g(K,a,N+1,h,X,x);if(!X)K.G.push("Z");N+=h}return K}return C}();l.o.asS=function(o){var g=o.w,C=[],a,x=0;
for(var N=0;N<o.G.length;N++){var K=o.G[N];if(K=="C"){a.push(g[x++],g[x++],g[x++],g[x++],g[x++],g[x++])}else if(K=="Z"){}else{a=[];
if(K!="M"){a.push(K);N++}a.push(g[x++],g[x++]);C.push(a)}}return C};l.o.mL=function(o,g,C,a){if(a==null)a=1e9;
var x=1e9,K=0;for(var N=0;N<o.length;N+=2){var h=g-o[N],X=C-o[N+1],w=h*h+X*X;if(w<x){x=w;K=N>>>1}}return x<a*a?K:-1};
l.o.CR=function(o,g,C,a){for(var N=0;N<o.length;N+=2){var x=o[N],K=o[N+1],h=g[N],X=g[N+1];C[N]=x+(h-x)*a;
C[N+1]=K+(X-K)*a}};l.o.D=function(o,g,C){for(var N=0;N<o.length;N+=2){var a=o[N],x=o[N+1];C[N]=a*g.Bk+x*g.U9+g.NO;
C[N+1]=a*g.K+x*g.rX+g.Mx}};l.o.TO=function(o,g,C){if(g==null)g=0;if(C==null)C=o.length;var a=99999999999,x=-a,K=99999999999,h=-K;
for(var N=g;N<C;N+=2){var X=o[N],w=o[N+1];a=Math.min(a,X);K=Math.min(K,w);x=Math.max(x,X);h=Math.max(h,w)}return new aS(a,K,x-a,h-K)};
l.o.XY=function(o,g){var C=Math.max(g.x,Math.min(g.x+g.m,o.x)),a=Math.max(g.y,Math.min(g.y+g.n,o.y)),x=o.x-C,K=o.y-a;
return Math.sqrt(x*x+K*K)};l.o.ul=function(o){if(o.to())return new aS(Math.floor(o.x),Math.floor(o.y),Math.ceil(o.m),Math.ceil(o.n));
var g=Math.floor(o.x),C=Math.ceil(o.x+o.m),a=Math.floor(o.y),x=Math.ceil(o.y+o.n);return new aS(g,a,C-g,x-a)};
l.o.Gw=function(o){return l.o.ul(l.o.TO(o))};l.o.IW=function(o){var g=o.x,C=o.y,a=o.x+o.m,x=o.y+o.n;
return{G:["M","L","L","L","Z"],w:[g,C,a,C,a,x,g,x]}};l.o.concat=function(o,g,C){if(C==null)C=new kp;
for(var N=0;N<g.w.length;N+=2){var a=g.w[N],x=g.w[N+1];o.w.push(a*C.Bk+x*C.U9+C.NO);o.w.push(a*C.K+x*C.rX+C.Mx)}for(var N=0;
N<g.G.length;N++)o.G.push(g.G[N])};l.o.DK=function(o){var g=o.w,C=[],a=[],x=0,K=0,h=0,X=0,w=0,G=0,R=0,d=0,q=0,m=0,M=0;
for(var N=0;N<o.G.length;N++){var Z=o.G[N];if(Z=="M"){K=g[x];h=g[x+1];x+=2;a.push(Z);C.push(K,h);m=K;
M=h}else if(Z=="C"){X=g[x];w=g[x+1];G=g[x+2];R=g[x+3];d=g[x+4];q=g[x+5];x+=6;a.push(Z);C.push(X,w,G,R,d,q);
K=d;h=q}else if(Z=="Q"){X=g[x];w=g[x+1];G=g[x+2];R=g[x+3];x+=4;var Q=X-K,p=w-h,y=G-X,V=R-w;a.push("C");
C.push(K+2/3*Q,h+2/3*p,X+1/3*y,w+1/3*V,G,R);K=G;h=R}else if(Z=="L"){X=g[x];w=g[x+1];x+=2;if(X!=K||w!=h){a.push("C");
C.push(K,h,X,w,X,w);K=X;h=w}}else{if(Z=="Z"){K=m;h=M}a.push(Z)}}return{G:a,w:C}};l.o.al3=function(o){var g=o.w,C=[],a=[],x=0;
for(var N=0;N<o.G.length;N++){var K=o.G[N];if(K=="Q"){var h=g[x-2],X=g[x-1],w=g[x],G=g[x+1],R=g[x+2],d=g[x+3];
x+=4;var q=w-h,m=G-X,M=R-w,Z=d-G;a.push("C");C.push(h+2/3*q,X+2/3*m,w+1/3*M,G+1/3*Z,R,d)}else{var Q=0;
if(K=="M"||K=="L")Q=2;else if(K=="C")Q=6;for(var p=0;p<Q;p++)C.push(g[x+p]);x+=Q;a.push(K)}}return{G:a,w:C}};
l.o.Ml=function(o,g){var C=o.w,a=[],x=[],K=0,h=0,X=0,w=0,G=0,R=0,d=0,q=0,m=0;for(var N=0;N<o.G.length;
N++){var M=o.G[N];if(M=="M"){h=C[K];X=C[K+1];K+=2;x.push(M);a.push(h,X)}else if(M=="C"){w=C[K];G=C[K+1];
R=C[K+2];d=C[K+3];q=C[K+4];m=C[K+5];K+=6;l.o.tP(h,X,w,G,R,d,q,m,g,x,a,0);h=q;X=m}else x.push(M)}return{G:x,w:a}};
l.o.tP=function(o,g,C,a,x,K,h,X,w,G,R,d){var q=Math.sqrt((h-o)*(h-o)+(X-g)*(X-g)),m=Math.sqrt((h-x)*(h-x)+(X-K)*(X-K))+Math.sqrt((x-C)*(x-C)+(K-a)*(K-a))+Math.sqrt((C-o)*(C-o)+(a-g)*(a-g)),M=(q+m)/2;
if(M<=w){G.push("C");R.push(C,a,x,K,h,X)}else{var Z=0,Q=0,p=0,y=0,V=0,W=0,v=0,j=0,e=0,T=0,O=0,L=0,S=0;
Q=(o+C)/2;p=(g+a)/2;y=(C+x)/2;V=(a+K)/2;W=(x+h)/2;v=(K+X)/2;j=(Q+y)/2;e=(p+V)/2;T=(y+W)/2;O=(V+v)/2;
L=(j+T)/2;S=(e+O)/2;l.o.tP(o,g,Q,p,j,e,L,S,w,G,R,d+1);l.o.tP(L,S,T,O,W,v,h,X,w,G,R,d+1)}};l.o.xw=function(o,g,C,a,x){var K=Date.now(),h=l.o.aph(o,g,C);
if(x){console.log("trace polygons",Date.now()-K);K=Date.now()}var X=[];for(var N=0;N<h.length;N++){var w=h[N],G=w[0],R=["M"],d=o[G[1]*g+G[0]];
if(G.length>8)G=l.o.dl(G,a,w[1]);if(G.length<=4)continue;for(var q=2;q<G.length;q+=2)R.push("L");R.push("Z");
X.push({path:{w:G,G:R},color:d,parent:-1,oD:l.o.TO(G)})}if(x){console.log("simplify polygons",Date.now()-K);
K=Date.now()}for(var N=1;N<X.length;N++){var m=X[N],M=m.path.w,Z=M[0],Q=M[1],p=M[2],y=M[3],V=p-Z,W=y-Q,v=Z+.5*V-.001*W,j=Q+.5*W+.001*V;
for(var q=N-1;q>=0;q--){var e=X[q];if(!e.oD.Xq(m.oD))continue;if(!h1.m1(e.path.w,v,j))continue;m.parent=q;
break}}if(x){console.log("checking parents",Date.now()-K);K=Date.now()}return X};l.o.aph=function(o,g,C){var a=g*C,x=new Uint16Array(g*C),h=0;
for(var N=0;N<a;N++)x[N]=o[N];var K=new Uint8Array(g*C);K[1*g+1]=K[(C-1)*g+1]=K[1*g+g-1]=K[(C-1)*g+g-1]=1;
for(var X=1;X<C;X++)for(var w=1;w<g;w++){var N=X*g+w,G=x[N-g-1],R=x[N-g],d=x[N-1],q=x[N],m=G==q&&R==d&&G!=R,M=0;
if(q<d){h=q;q=d;d=h}if(d<R){h=d;d=R;R=h}if(R<G){h=R;R=G;G=h}if(q<d){h=q;q=d;d=h}if(d<R){h=d;d=R;R=h}if(q<d){h=q;
q=d;d=h}if(G!=R)M++;if(R!=d)M++;if(d!=q)M++;if(q!=G)M++;if(M>=3||m)K[N]=1}var Z=[];for(var X=1;X<C;X++)for(var w=1;
w<g;w++){var N=X*g+w;if(x[N]!=x[N-1]){var Q=l.o.aq9(x,g,C,w,X),p=[];for(var y=0;y<Q.length;y+=2)if(K[Q[y+1]*g+Q[y]]==1)p.push(y>>>1);
Z.push([Q,p]);l.o.nZ(x,g,C,w,X)}}return Z};l.o.nZ=function(o,g,C,a,x){var K=[x*g+a],h=o[x*g+a];o[x*g+a]=65535;
while(K.length!=0){var N=K.pop();o[N]=0;if(o[N+g]==h){K.push(N+g);o[N+g]=65535}if(o[N-g]==h){K.push(N-g);
o[N-g]=65535}if(o[N-1]==h){K.push(N-1);o[N-1]=65535}if(o[N+1]==h){K.push(N+1);o[N+1]=65535}}};l.o.aq9=function(o,g,C,a,x){var K=[0,-1,1,0,0,1,-1,0],R=1;
function h(q,m,R){var N=G*g+w,M=0;if(R==0)M=N-g;else if(R==1)M=N;else if(R==2)M=N-1;else if(R==3)M=N-g-1;
return o[M]}var X=[],w=a,G=x,d=h(w,G,R);do{X.push(w,G);w+=K[R*2];G+=K[R*2+1];if(h(w,G,R)!=d)R=R+1&3;
else if(h(w,G,R+3&3)!=d)R=R;else if(h(w,G,R+2&3)!=d)R=R+3&3}while(w!=a||G!=x);return X};l.o.dl=function(o,g,C){var a=o.length-2;
if(C&&C.length!=0){var x=C[0]*2,K=C[C.length-1]*2,h=x==0?a:x-2,X=o.slice(K);for(var N=0;N<x;N++)X.push(o[N]);
if(x==K)X.push(.9*o[x]+.1*o[h],.9*o[x+1]+.1*o[h+1]);else X.push(o[x],o[x+1]);X=l.o.kE(X,g);X.pop();X.pop();
for(var N=0;N<C.length-1;N++){var w=o.slice(C[N]*2,C[N+1]*2+2);w=l.o.kE(w,g);for(var G=0;G<w.length-2;
G++)X.push(w[G])}return X}var R=o.slice(0);R.push(.9*o[0]+.1*o[a],.9*o[1]+.1*o[a+1]);R=l.o.kE(R,g);R.pop();
R.pop();return R};l.o.kE=function(o,g){var C=o.length-2,a=o[0],x=o[1],K=o[C],h=o[C+1],X=K-a,w=h-x,G=1/Math.sqrt(X*X+w*w),R=K*x-h*a,d=-1,q=-1,m=0;
for(var N=2;N<C;N+=2){var M=o[N],Z=o[N+1],Q=Z*Z*1e6+M*M,p=Math.abs(w*M-X*Z+R)*G;if(p>q||p==q&&Q>m){q=p;
d=N;m=Q}}if(q<g)return[a,x,K,h];var y=l.o.kE(o.slice(0,d+2),g),V=l.o.kE(o.slice(d),g);for(var N=2;N<V.length;
N++)y.push(V[N]);return y};l.o.ahH=function(){var o=function(a,x,K,h,X,w){return(x-h)*(X-K)+(K-a)*(w-h)>=0},g=function(a,x,K,h,X,w,G,R){var d=G-K,q=R-h,m=X-K,M=w-h,Z=a-K,Q=x-h,p=d*d+q*q,y=d*m+q*M,V=d*Z+q*Q,W=m*m+M*M,v=m*Z+M*Q,j=1/(p*W-y*y),e=(W*V-y*v)*j,T=(p*v-y*V)*j;
return e>=0&&T>=0&&e+T<1},C=function(a){var ee=a.length>>>1,N=0;if(ee<3)return[];var x=[],K=[];for(var N=0;
N<ee;N++)K.push(N);var h=ee;while(h>3){var X=K[(N+0)%h],w=K[(N+1)%h],G=K[(N+2)%h],R=a[2*X],d=a[2*X+1],q=a[2*w],m=a[2*w+1],M=a[2*G],Z=a[2*G+1],Q=!1;
if(o(R,d,q,m,M,Z)){Q=!0;for(var p=0;p<h;p++){var y=K[p];if(y==X||y==w||y==G)continue;if(g(a[2*y],a[2*y+1],R,d,q,m,M,Z)){Q=!1;
break}}}if(Q){x.push(X,w,G);K.splice((N+1)%h,1);h--;N=0}else if(N++>3*h)break}x.push(K[0],K[1],K[2]);
return x};return C}();l.o.akO=function(o,g){var C={},a={G:[],w:[]};for(var N=0;N<g.length;N+=3){var x=g[N]*2,K=g[N+1]*2,h=g[N+2]*2;
l.o.Ak(o,x,K,a,C);l.o.Ak(o,x,h,a,C);l.o.Ak(o,K,h,a,C)}return a};l.o.Ak=function(o,g,C,a,x){if(g>C){var K=C;
C=g;g=K}if(x[g+","+C])return;x[g+","+C]=!0;a.G.push("M","L");a.w.push(o[g],o[g+1],o[C],o[C+1])};l.o.XL=function(o,g){var C=[],a=o.length;
for(var N=0;N<a;N+=2){var x=o[N],K=o[N+1],h=o[(N+2)%a],X=o[(N+3)%a];if(X<K){var w=K;K=X;X=w}if(K<g&&g<X){var G=(g-K)/(X-K);
C.push(x+G*(h-x))}}C.sort(function(R,d){return R-d});return C};l.o.uJ=function(o,g,C,a,x,K,h){var X=o-C,w=g-a,G=x-C,R=K-a,d=1/Math.sqrt(X*X+w*w),q=1/Math.sqrt(G*G+R*R),m=X*d,M=w*d,Z=G*q,Q=R*q,p=M*h,y=-m*h,V=-Q*h,W=Z*h,v=l.o.qS(p,y,m,M,V,W,Z,Q),j=p+m*v,e=y+M*v,v=l.o.qS(0,0,m,M,j,e,-M,m),T=m*v,O=M*v;
return[Math.sqrt(T*T+O*O),m,M,Z,Q]};l.o.auy=function(o,g,C,a,x,K,h){var X=l.o.uJ(o,g,C,a,x,K,h),w=X[0],G=X[1],R=X[2],d=X[3],q=X[4],m=Math.atan2(G*q-R*d,G*d+R*q);
if(m<0){m=m*-1}var M=Math.PI-m,Z=4/3*Math.tan(M/4),Q=C+w*G,p=a+w*R,y=C+w*d,V=a+w*q,W=Q+Z*h*-G,v=p+Z*h*-R,j=y+Z*h*-d,e=V+Z*h*-q;
return[0,0,Q,p,W,v,j,e,y,V]};l.o.qS=function(o,g,C,a,x,K,h,X){var w=h*(g-K)-X*(o-x),G=X*C-h*a;if(G==0)return 0;
return w/G};l.o.anW=function(o,g,C,a,x,K){return o*(a-K)+C*(K-g)+x*(g-a)};l.o.ap3=function(o){function g(f,F,U,r,E,k,P,z,s){var Y=l.o.qS(f,F,U,r,E,k,P,z);
s.push(f+U*Y,F+r*Y)}var C=[],a=o.length,x=[];for(var N=0;N<a;N+=2){var K=N==0?a-2:N-2,h=N==a-2?0:N+2,X=o[N],w=o[N+1],G=X-o[K],R=w-o[K+1],d=o[h]-X,q=o[h+1]-w,m=Math.sqrt(G*G+R*R),M=Math.sqrt(d*d+q*q);
x.push(M);var Z=m/(m+M),Q=X-G*.5,p=w-R*.5,y=X+d*.5,V=w+q*.5,W=(o[h]+o[K])*.5,v=(o[h+1]+o[K+1])*.5,j=Q+Z*(y-Q),e=p+Z*(V-p),T=X-j,O=w-e,L=(d*-G+q*-R)/(m*M),S=(Z-.5)*7,$=1+S*Z,H=1-S*(1-Z);
C.push(Q+T*$,p+O*$,y+T*H,V+O*H)}return C};l.NU=function(){};l.NU.Qk=function(o,g,C,a,x){var K=C.m,h=C.n,X=K*h,w=new Int32Array(X),ee=0;
for(var N=0;N<X;N++)if(g[N]!=0){w[N]=ee;ee++}else if(o[(N<<2)+3]<200){w[N]=-2}else w[N]=-1;if(ee==0)return;
var G=new l.kn(ee,ee),R=new Array(3*ee),d=new Array(3*ee);for(var N=0;N<d.length;N++)d[N]=R[N]=0;var q=1/255,m=[-K,-1,1,K],M=[],Z=[];
for(var Q=0;Q<h;Q++)for(var p=0;p<K;p++){var y=Q*K+p,V=y<<2,N=w[y],W=N*3,v=0,j=0,e=0;if(N==-1||N==-2)continue;
for(var T=0;T<4;T++){if(T==2){j=e;M[e]=0;Z[e]=N;e++}var O=y+m[T],L=O<<2,S=w[O];if(T==0&&Q==0||T==1&&p==0||T==2&&p==K-1||T==3&&Q==h-1||S==-2)continue;
v++;if(S==-1){R[W+0]+=o[L+0];R[W+1]+=o[L+1];R[W+2]+=o[L+2]}else{M[e]=-1;Z[e]=S;e++;if(g[y]==g[O]){R[W+0]+=o[V+0]-o[L+0];
R[W+1]+=o[V+1]-o[L+1];R[W+2]+=o[V+2]-o[L+2]}}}M[j]=v;G.bm(M,Z,e)}for(var N=0;N<X;N++)if(w[N]!=-1){var $=N<<2,H=w[N],f=H*3;
d[f]=o[$+0];d[f+1]=o[$+1];d[f+2]=o[$+2]}var F=Date.now();G.aug(d,R,a,x);console.log(Date.now()-F);for(var N=0;
N<X;N++){var H=w[N],U=H*3,$=N<<2;if(H==-1||o[$+3]!=255)continue;o[$+0]=~~(.5+Math.max(0,Math.min(255,d[U+0])));
o[$+1]=~~(.5+Math.max(0,Math.min(255,d[U+1])));o[$+2]=~~(.5+Math.max(0,Math.min(255,d[U+2])))}};l.rect={};
l.rect.B$=function(o,g){var C=[o],a=[];for(var N=0;N<g.length;N++){var x=g[N],K=!1;for(var h=N+1;h<g.length;
h++){var X=g[h];if(X[0]<=x[0]&&X[1]<=x[1]&&x[2]<=X[2]&&x[3]<=X[3]){K=!0;break}}if(!K)a.push(x)}g=a;for(var N=0;
N<g.length;N++){var x=g[N];for(var h=0;h<C.length;h++){var X=C[h],w=Math.max(x[0],X[0]),G=Math.min(x[2],X[2]),R=Math.max(x[1],X[1]),d=Math.min(x[3],X[3]);
if(w<G&&R<d){var q=[];if(X[1]<x[1]){var m=X.slice(0);m[3]=x[1];q.push(m)}if(X[0]<x[0]){var M=X.slice(0);
M[1]=R;M[2]=x[0];q.push(M)}if(x[2]<X[2]){var Z=X.slice(0);Z[1]=R;Z[0]=x[2];q.push(Z)}if(x[3]<X[3]){var Q=[w,d,G,X[3]];
q.push(Q)}if(q.length!=0){C[h]=q[0];for(var p=1;p<q.length;p++)C.push(q[p])}}}C.push(x);C=l.rect.awS(C)}C.sort(function(x,X){return x[1]!=X[1]?x[1]-X[1]:x[0]-X[0]});
for(var N=1;N<C.length;N++){var x=C[N-1],X=C[N];if(x[0]==X[0]&&x[1]==X[1]&&x[2]==X[2]&&x[3]==X[3]){C.splice(x[4]==null?N-1:N,1);
N--}}return C};l.rect.awS=function(o){o=o.slice(0);for(var N=0;N<o.length;N++){var g=o[N],C=null;if(g[4]!=null)continue;
for(var a=0;a<o.length;a++){var x=o[a];if(N==a||x[4]!=null)continue;var K=g[0]==x[0],h=g[1]==x[1],X=g[2]==x[2],w=g[3]==x[3];
if(h&&w&&(g[2]==x[0]||g[0]==x[2])){C=[Math.min(g[0],x[0]),g[1],Math.max(g[2],x[2]),g[3]]}if(K&&X&&(g[3]==x[1]||g[1]==x[3])){C=[g[0],Math.min(g[1],x[1]),g[2],Math.max(g[3],x[3])]}if(C){o[N]=C;
o.splice(a,1);break}}if(C){N--}}return o};l.rect.qx=function(o){var g=new aS;for(var N=0;N<o.length;
N++)g=g.ae(o[N]);return g};l.rect.akM=function(o,g){var C=l.rect.qx,a=new UnionFind(o.length),j=1e3,e=1e3;
for(var N=0;N<o.length;N++)for(var x=N+1;x<o.length;x++){if(!g)continue;var K=o[N],h=o[x],d=1e9,q=1e9;
if(K.fp(h)){a.link(N,x);continue}var X=K.x+K.m,w=K.y+K.n,G=h.x+h.m,R=h.y+h.n;if((X<h.x||G<K.x)&&(w<h.y||R<K.y))continue;
if(!(w<h.y||R<K.y))d=Math.min(Math.abs(X-h.x),Math.abs(K.x-G));if(!(X<h.x||G<K.x))q=Math.min(Math.abs(w-h.y),Math.abs(K.y-R));
var m=Math.min(d,q),M=Math.min(K.m,K.n,h.m,h.n);if(m<.3*M)a.link(N,x)}var Z=[],Q={};for(var N=0;N<o.length;
N++){var p=a.find(N),y=o[N];if(Q[p]==null){Q[p]=Z.length;Z.push([])}Z[Q[p]].push(y)}var V=[],W=[];for(var N=0;
N<Z.length;N++){V.push(C(Z[N]));var v=C(Z[N]);v.lh=N;W.push(v)}W.sort(function(r,E){return Math.max(E.n,E.m)-Math.max(r.n,r.m)});
var T=new NETXUS.RectanglePacker(j,e);while(!0){var O=!1;T.reset(j,e);for(var N=0;N<W.length;N++){var L=T.findCoords(W[N].m,W[N].n);
if(L){W[N].x=L.x;W[N].y=L.y}else{j=Math.floor(j*1.1);e=Math.floor(e*1.1);O=!0;break}}if(O)continue;break}for(var N=0;
N<Z.length;N++){var S=W[N],$=S.lh,H=V[$],f=Z[$],F=S.x-H.x,U=S.y-H.y;for(var x=0;x<f.length;x++)f[x].offset(F,U)}};
l.aE=function(){};l.aE.E6=Math.floor(16*window.devicePixelRatio);l.aE.kZ={};l.aE.w6=0;l.aE.$W=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
l.aE.att=["px","in","cm","mm","%"];l.aE.p6=function(o,g,C,a){var x=[1,g,g/2.54,g/25.4,C/100][a];return o*x};
l.aE.aku=function(o,g,C,a){var x=[1,g,g/2.54,g/25.4,C/100][a];return o/x};l.aE.Cg=function(o,g,C,a,x){var K=C.M8.oK,h=[1,g,g/2.54,g/25.4,a/100][K],X=[2,3,2,1,2][K];
o=o/h;var w=Math.round(o),G=K==0&&Math.abs(o-w)<1e-6?w+"":o.toFixed(X);if(x)G+=" "+l.aE.att[K];return G};
l.aE.ait=function(o,g,C,a){var x=C.M8.oK,K=[1,g,g/2.54,g/25.4,a/100][x];o=parseFloat(o)*K;return o};
l.aE.ao$=function(o,g){var C=o+","+g;if(l.aE.kZ.clr==C)return;var a=Math.round(l.aE.E6*.5);l.aE.w6=a;
var x=document.createElement("canvas");x.width=x.height=a;var K=x.getContext("2d");K.font=a*1.5+"px monospace";
var h="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var N=0;N<h.length;N++){K.fillStyle="#"+l.eh(g);K.fillRect(0,0,a,a);
K.fillStyle="#"+l.eh(o);K.fillText(h[N],0,a);l.aE.kZ[h[N]]=K.getImageData(0,0,a,a).data}l.aE.kZ.clr=C};
l.aE.atg=function(o,g,C){var a=0,x=0,K=4*l.aE.E6;for(var N=9;N>=0;N--){var h=Math.pow(10,N);if(5*h*o<=K){a=5*h;
x=10;break}if(2*h*o<=K){a=2*h;x=4;break}if(1*h*o<=K){a=1*h;x=10;break}}if(a==0){a=1;x=10}var X=Math.ceil(a*o),w=l.Z(X*l.aE.E6*4);
l.th(w,4278190080|C);for(var N=0;N<l.aE.E6;N++)l.aE.xj(w,4*N*X,g);for(var N=0;N<X;N++)l.aE.xj(w,4*((l.aE.E6-1)*X+N),g);
if(a==2)x=2;if(a==5)x=5;if(a>1||a==1&&X>20)for(var N=1;N<x;N++)l.aE.aiL(w,N*(X/x),X,(N&1)==1?.8:.7,g);
return{QS:w,step:a}};l.aE.aiL=function(o,g,C,a,x){var g=Math.round(g);for(var K=Math.round(l.aE.E6*a);
K<l.aE.E6-1;K++)l.aE.xj(o,4*(K*C+g),x)};l.aE.xj=function(o,g,C){o[g+0]=C>>16&255;o[g+1]=C>>8&255;o[g+2]=C&255};
l.aE.awt=function(o,g,C,a,x,K,h){var X=o.B9.m,w=o.B9.n,G=l.aE.E6,R=g&255,d=g>>8&255,q=g>>16&255;g=Math.round(R*.6)<<16|Math.round(d*.6)<<8|Math.round(q*.6);
l.aE.ao$(Math.round(R*.8)<<16|Math.round(d*.8)<<8|Math.round(q*.8),C);var m=o.R,M=o.v,Z=o.BD;for(var Q=0;
Q<2;Q++){var p=Q==0?K:h;o.R=p[0];o.v=p[1];o.BD=0;var y=this.atg(o.R,g,C),V=o.w2(0,0),W=o.w2(X,w),v=Math.floor(V.x/y.step)*y.step,j=Math.ceil(W.x/y.step)*y.step,e=Math.floor(V.y/y.step)*y.step,T=Math.ceil(W.y/y.step)*y.step,O=o.Er(v,e),L=o.Er(j,e),S=y.step*o.R,$=Math.ceil(S);
if(Q==1){var H=y.QS;y.QS=l.Z(H.length*4);l.S.W8(H,y.QS,$,G)}var f=Q==0?o.oH.data:o.CP.data,F=new aS(0,0,[X,G][Q],[G,w][Q]),U=new aS(0,0,[$,G][Q],[G,$][Q]),r=new aS([0,Math.round(G*.2)][Q],[Math.round(G*.08),0][Q],l.aE.w6,l.aE.w6),E=(Q==0?j-v:T-e)/y.step;
for(var N=0;N<E;N++){if(Q==0)U.x=Math.round(O.x+N*S);else U.y=Math.round(O.y+N*S);l.HT(y.QS,U,f,F,U);
var k=(Q==0?v+N*y.step:Math.abs(e+N*y.step)).toString(10);for(var P=0;P<k.length;P++){if(Q==0)r.x=U.x+3+P*Math.round(l.aE.w6*.8);
else r.y=U.y+3+P*Math.round(l.aE.w6*1.15);var z=l.aE.kZ[k[P]];l.HT(z,r,f,F,r)}}}o.R=m;o.v=M;o.BD=Z;var s=Math.floor(G*.6),Y=new Uint32Array(o.oH.data.buffer),t=new Uint32Array(o.CP.data.buffer),n=R<128?4278190080:4294967295;
if(0<a&&a<X)for(var N=0;N<s;N++)Y[N*X+a]=n;if(0<x&&x<w)for(var N=0;N<s;N++)t[x*G+N]=n};l.scale={};l.scale.J=document.createElement("canvas");
l.scale.$A=l.scale.J.getContext("2d");l.scale.dL=document.createElement("canvas");l.scale.z4=l.scale.dL.getContext("2d");
l.scale.pA=function(o,g,C){var a=l.scale.J,x=l.scale.$A;a.width=g;a.height=C;var K=new ImageData(new Uint8ClampedArray(o.buffer),g,C);
x.putImageData(K,0,0);return x.createPattern(a,"repeat")};l.scale.iI=function(o,g,C,a,x,K,h,X,w){var G=l.scale.afh(o,C,a,x,K,h,X,w).data;
if(g)l.j5(G,g);return new Uint8Array(G.buffer)};l.scale.afh=function(o,g,C,a,x,K,h,X){var w=l.scale.J,G=l.scale.$A;
w.width=g;w.height=C;G.rect(0,0,g,C);G.translate(K,h);G.scale(a,x);if(X!=null)G.rotate(-X);G.fillStyle=o;
G.fill();return G.getImageData(0,0,g,C)};l.scale.D=function(o,g,C,a,x){var K=C.clone();K.rq();var h=x.m,X=x.n,w=l.o.IW(g).w;
l.o.D(w,K,w);var G=l.o.Gw(w).Kw(x),R=G.x,d=G.y,q=R+G.m,m=d+G.n,M=~~g.x,Z=~~g.y,Q=~~g.m,p=~~g.n;for(var y=d;
y<m;y++)for(var V=R;V<q;V++){var W=V+.5,v=y+.5,j=C.Bk*W+C.U9*v+C.NO-M,e=C.K*W+C.rX*v+C.Mx-Z;if(0<=j&&0<=e&&j<Q&&e<p)a[y*h+V]=o[~~e*Q+~~j]}};
l.scale.Fd=function(o,g,C,a,x,K){var h=new Uint32Array(o.buffer),X=new Uint32Array(a.buffer),w=C.clone();
w.rq();var G=x.m,R=x.n,d=l.o.IW(g).w;l.o.D(d,w,d);var q=K?x:l.o.Gw(d).Kw(x),m=q.x,M=q.y,Z=m+q.m,Q=M+q.n,p=~~g.x,y=~~g.y,V=~~g.m,W=~~g.n;
for(var v=M;v<Q;v++)for(var j=m;j<Z;j++){var e=j+.5,T=v+.5,O=C.Bk*e+C.U9*T+C.NO-p,L=C.K*e+C.rX*T+C.Mx-y;
if(K){O=((V<<10)+O)%V;L=((W<<10)+L)%W}if(0<=O&&0<=L&&O<V&&L<W)X[v*G+j]=h[~~L*V+~~O]}};l.scale.IY=function(o,g,C,a,x,K,h){if(h<1)l.scale.aoj(o,g,C,a,x,K,Math.round(1/h));
else l.scale.aiF(o,g,C,a,x,K,h)};l.scale.js=function(o,g,C,a,x,K,h,X){if(X)X=X.Kw(new aS(0,0,g,C));o=new Uint32Array(o.buffer);
a=new Uint32Array(a.buffer);if(h<1)l.scale.auK(o,g,C,a,x,K,Math.round(1/h),X);else l.scale.at0(o,g,C,a,x,K,h)};
l.scale.aiF=function(o,g,C,a,x,K,h){for(var X=0;X<C;X++)for(var w=0;w<g;w++){var G=o[X*g+w],R=Math.min(h,x-w*h),d=Math.min(h,K-X*h);
for(var N=0;N<d;N++)for(var q=0;q<R;q++)a[(h*X+N)*x+h*w+q]=G}};l.scale.aoj=function(o,g,C,a,x,K,h){for(var X=0;
X<K;X++)for(var w=0;w<x;w++){var G=0,R=Math.min(h,g-w*h),d=Math.min(h,C-X*h);for(var N=0;N<d;N++)for(var q=0;
q<R;q++)G+=o[(h*X+N)*g+(h*w+q)];a[X*x+w]=Math.round(G/(R*d))}};l.scale.at0=function(o,g,C,a,x,K,h){for(var X=0;
X<C;X++)for(var w=0;w<g;w++){var G=o[X*g+w],R=Math.min(h,x-w*h),d=Math.min(h,K-X*h);for(var N=0;N<d;
N++)for(var q=0;q<R;q++)a[(h*X+N)*x+h*w+q]=G}};l.scale.aus=function(o,g,C){return(o>>>C&255)+(g>>>C&255)>>>1};
l.scale.ra=function(o,g){var C=l.scale.aus;return C(o,g,24)<<24|C(o,g,16)<<16|C(o,g,8)<<8|C(o,g,0)};
l.scale.a22=function(o,g,C,a,x,K){var h=new Uint32Array(o.buffer),X=new Uint32Array(a.buffer);for(var w=0;
w<C;w++){for(var G=0;G<g;G++){var R=w*g+G,d=h[R],q=d,m=d,M=d;if(G<g-1)q=l.scale.ra(d,h[R+1]);if(w<C-1)m=l.scale.ra(d,h[R+g]);
if(G<g-1&&w<C-1)M=l.scale.ra(d,h[R+g+1]);var Z=(w*x+G)*2;X[Z]=d;X[Z+1]=q;X[Z+x]=m;X[Z+x+1]=M}}if((x&1)==1)for(var w=0;
w<K;w++)X[w*x+x-1]=X[w*x+x-2];var Q=x*(K-1);if((K&1)==1)for(var G=0;G<x;G++)X[Q+G]=X[Q-x+G]};l.scale.auK=function(o,g,C,a,x,K,h,X){var w=0,G=x,R=0,d=K;
if(X){w=Math.floor(X.x/h);G=Math.ceil((X.x+X.m)/h);R=Math.floor(X.y/h);d=Math.ceil((X.y+X.n)/h)}for(var q=R;
q<d;q++)for(var m=w;m<G;m++){var M=0,Z=0,Q=0,p=0,y=Math.min(h,g-m*h),V=Math.min(h,C-q*h);for(var N=0;
N<V;N++)for(var W=0;W<y;W++){var v=o[(h*q+N)*g+h*m+W],j=v>>>24;M+=j;Z+=j*(v>>>16&255);Q+=j*(v>>>8&255);
p+=j*(v&255)}if(M!=0){var e=1/M;a[q*x+m]=M/(y*V)<<24|Z*e<<16|Q*e<<8|p*e}else a[q*x+m]=0}};l._={};l._.abT=function(o,g,C){var a=128,N=0,x=C.m,K=C.n;
for(var h=0;h<K;h++)for(var X=0;X<x;X++){if(o[N]>=a&&(X==0||o[N-1]<a||(X==x-1||o[N+1]<a)||(h==0||o[N-x]<a)||(h==K-1||o[N+x]<a)))g[N]=255;
N++}};l._.a4s=function(o,g,C,a){var x=new Uint32Array([4278190080,4294967295]),K=C.m,h=C.n,X=0,w=0,G=K,R=h;
if(a){X=a.x-C.x;w=a.y-C.y;G=X+a.m;R=w+a.n}var d=new Uint8Array(g.buffer),q=new Uint32Array(g.buffer);
for(var m=w;m<R;m++)for(var M=X;M<G;M++){var N=m*K+M;if((o[N]&128)!=0&&(m==0||(o[N-K]&128)==0||M==0||(o[N-1]&128)==0||M==K-1||(o[N+1]&128)==0||m==h-1||(o[N+K]&128)==0)){q[N]=x[(M+m&4)>>>2]}}};
l._.axb=function(o,g,C,a,x,K){var h=C.m,X=C.n,w=0,G=0,R=h,d=X;if(a){w=a.x-C.x;G=a.y-C.y;R=w+a.m;d=G+a.n}var q=new Uint8Array(g.buffer),m=new Uint32Array(g.buffer);
for(var M=G;M<d;M++)for(var Z=w;Z<R;Z++){var N=M*h+Z,Q=o[N];if(x==1)m[N]=255-Q>>>1<<24|255;else m[N]=255<<24|(Q<<16|Q<<8|Q)}};
l.qp={};l.qp.Zn=function(o,g,C){var a,x;if(C==0){a=o.rect.clone();x=l.qp.atU}if(C==1){a=o.rect.ae(g.rect);
x=l.qp.ae}if(C==2){a=g.rect.clone();x=l.qp.a4B}if(C==3){a=o.rect.Kw(g.rect);x=l.qp.Kw}if(C==4){a=o.rect.ae(g.rect);
x=l.qp.auT}if(a.to())return null;var K=l.Z(a.$());l.MD(g.channel,g.rect,K,a);var h=l.Z(a.$());l.MD(o.channel,o.rect,h,a);
x(h,K,K);var X=l.Wx(K,a);if(X.to())return null;if(!X.$s(a)){var w=l.Z(X.$());l.MD(K,a,w,X);K=w;a=X}return{channel:K,rect:a}};
l.qp.atU=function(o,g,C){for(var N=0;N<o.length;N++)C[N]=o[N]};l.qp.ae=function(o,g,C){for(var N=0;N<o.length;
N++)C[N]=Math.min(o[N]+g[N],255)};l.qp.a4B=function(o,g,C){for(var N=0;N<o.length;N++)C[N]=Math.max(g[N]-o[N],0)};
l.qp.Kw=function(o,g,C){var a=1/255;for(var N=0;N<o.length;N++)C[N]=o[N]*g[N]*a};l.qp.auT=function(o,g,C){var a=1/255;
for(var N=0;N<o.length;N++)C[N]=Math.min(o[N]+g[N],255)-o[N]*g[N]*a};l.kn=function(o,g){this.t=[];this.Dm=[0];
this._X=[];this.hu=[];this.u4=[0];this.bL=[];this.qI=[];this.rows=o;this.cols=g};l.kn.prototype.clone=function(){var o=this,g=o.rows,C=o.cols,a=new l.kn(g,C);
a.t=o.t.slice(0);a.Dm=o.Dm.slice(0);a._X=o._X.slice(0);a.hu=o.hu.slice(0);a.u4=o.u4.slice(0);a.bL=o.bL.slice(0);
a.qI=o.qI.slice(0);return a};l.kn.prototype.bm=function(o,g,C){var a=this.Dm.length-1;for(var N=0;N<C;
N++){var x=o[N],K=g[N];this.t.push(x);this._X.push(K);if(K==a){this.qI.push(x==0?0:1/x)}else{this.hu.push(x);
this.bL.push(K)}}this.Dm.push(this.t.length);this.u4.push(this.hu.length)};l.kn.prototype.BL=function(o,g){var C=this,a=C.rows,x=C.t,K=C._X;
if(g==null)g=new Array(a);for(var N=0;N<a;N++){var h=C.Dm[N],X=C.Dm[N+1],w=0;while((X-h&3)!=0){w+=x[h]*o[K[h]];
h++}for(var G=h;G<X;G+=4)w+=x[G]*o[K[G]]+x[G+1]*o[K[G+1]]+x[G+2]*o[K[G+2]]+x[G+3]*o[K[G+3]];g[N]=w}return g};
l.kn.prototype.multiply=function(o){return this.$D(o.W8())};l.kn.prototype.$D=function(o){var g=this,C=g.rows,a=g.cols,x=o.rows,K=new l.kn(C,x),h=g._X,X=o._X;
for(var N=0;N<C;N++){var w=[],G=[],R=g.Dm[N],d=g.Dm[N+1];for(var q=0;q<x;q++){var m=o.Dm[q],M=o.Dm[q+1],Z=0,Q=R,p=m;
while(Q<d&&p<M){var y=Math.max(h[Q],X[p]);while(Q<d&&h[Q]<y)Q++;while(p<M&&X[p]<y)p++;if(Q<d&&p<M&&h[Q]==X[p])Z+=g.t[Q++]*o.t[p++]}if(Z!=0){w.push(Z);
G.push(q)}}K.bm(w,G,w.length)}return K};l.kn.prototype.W8=function(){var o=this.rows,g=this.cols,C=[];
for(var N=0;N<g;N++)C.push([[],[]]);var a=this.t,x=this.Dm,K=this._X;for(var N=0;N<o;N++){var h=x[N],X=x[N+1];
for(var w=h;w<X;w++){var G=C[K[w]];G[0].push(a[w]);G[1].push(N)}}var R=new l.kn(g,o);for(var N=0;N<g;
N++)R.bm(C[N][0],C[N][1],C[N][1].length);return R};l.kn.prototype.Cz=function(){var o=this.rows,g=this.cols,C=new Array(o),a=this.t,x=this.Dm,K=this._X;
for(var N=0;N<o;N++){var h=C[N]=new Array(g);for(var X=0;X<g;X++)h[X]=0;var w=x[N],G=x[N+1];for(var R=w;
R<G;R++)h[K[R]]=a[R]}return C};l.kn.prototype.vX=function(o,g,C,a,x){function K(e,g,T,O){var L=e.length;
for(var N=0;N<L;N++)O[N]=e[N]-g[N]*T}function h(e,g,T,O){var L=e.length,S=0;while((L-S&3)!=0){O[S]=e[S]+g[S]*T;
S++}for(var N=S;N<L;N+=4){O[N]=e[N]+g[N]*T;O[N+1]=e[N+1]+g[N+1]*T;O[N+2]=e[N+2]+g[N+2]*T;O[N+3]=e[N+3]+g[N+3]*T}}function X(e,g,T){var O=e.length;
for(var N=0;N<O;N++)T[N]=e[N]*g[N]}function w(e,g){var T=e.length,O=0,L=0;while((T-O&3)!=0){L+=e[O]*g[O];
O++}for(var N=O;N<T;N+=4)L+=e[N]*g[N]+e[N+1]*g[N+1]+e[N+2]*g[N+2]+e[N+3]*g[N+3];return L}var G=a!=null?2:1,R=Date.now(),d=0,q=this,m=o.slice(0),M=o.slice(0);
q.BL(o,M);K(g,M,1,m);var Z=this.qI;if(G==0){Z=m.slice(0);Z.fill(1)}var Q=m.slice(0);X(Z,m,Q);var p=Q.slice(0),y=w(m,Q);
while(!0){q.BL(p,M);var V=y/w(p,M);h(o,p,V,o);K(m,M,V,m);if((d&7)==0&&Math.sqrt(w(m,m))<C)break;if(G<=1)X(Z,m,Q);
else{var W=m.slice(0);a.amp(W,m);x.am$(Q,W)}var v=w(m,Q),j=v/y;h(Q,p,j,p);y=v;d++}};l.kn.prototype.awo=function(o,g,C,a){var x=Date.now(),K=1.96,X=0;
if(C==null)C=5e-6;if(a==null)a=1e9;var h=1-K,ee=this.rows,w=this.hu,G=this.u4,R=this.bL,d=this.qI;while(!0){var q=0;
for(var N=0;N<ee;N++){var m=g[N],M=G[N],Z=G[N+1];if(Z-M==4)m-=w[M]*o[R[M]]+w[M+1]*o[R[M+1]]+w[M+2]*o[R[M+2]]+w[M+3]*o[R[M+3]];
else for(var Q=M;Q<Z;Q++)m-=w[Q]*o[R[Q]];var p=o[N]*h+d[N]*m*K,y=p-o[N];q+=y*y;o[N]=p}if(q/ee<C||Date.now()>x+a)break}};
l.kn.prototype.aug=function(o,g,C,a){var x=Date.now(),K=1.96,X=0;if(C==null)C=5e-5;if(a==null)a=1e9;
var h=1-K,ee=this.rows,w=this.hu,G=this.u4,R=this.bL,d=this.qI;while(!0){var q=0;for(var N=0;N<ee;N++){var m=N*3,M=g[m],Z=g[m+1],Q=g[m+2],p=G[N],y=G[N+1];
for(var V=p;V<y;V++){var W=w[V],v=R[V]*3;M-=W*o[v+0];Z-=W*o[v+1];Q-=W*o[v+2]}var j=d[N]*K,e=o[m+0]*h+M*j,T=o[m+1]*h+Z*j,O=o[m+2]*h+Q*j,L=e-o[m+0],S=T-o[m+1],$=O-o[m+2];
q+=.4*L*L+.5*S*S+.1*$*$;o[m+0]=e;o[m+1]=T;o[m+2]=O}if(q/ee<C||Date.now()>x+a)break}};l.QG={};l.QG.bR=function(o,g,C){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:o},Vrtc:{t:"doub",v:g},Cnty:{t:"bool",v:C}}}};
l.QG.D=function(o,g){for(var N=0;N<o.length;N++){var C=o[N].v,a=g.nx(new eN(C.Hrzn.v,C.Vrtc.v));C.Hrzn.v=Math.round(a.x);
C.Vrtc.v=Math.round(a.y)}};l.QG.mH=function(o,g,C){var ee=o.length-1,a=l.t_.Gl(ee+1,ee+2);for(var N=1;
N<ee;N++){a[N][N-1]=1/(o[N]-o[N-1]);a[N][N]=2*(1/(o[N]-o[N-1])+1/(o[N+1]-o[N]));a[N][N+1]=1/(o[N+1]-o[N]);
a[N][ee+1]=3*((g[N]-g[N-1])/((o[N]-o[N-1])*(o[N]-o[N-1]))+(g[N+1]-g[N])/((o[N+1]-o[N])*(o[N+1]-o[N])))}a[0][0]=2/(o[1]-o[0]);
a[0][1]=1/(o[1]-o[0]);a[0][ee+1]=3*(g[1]-g[0])/((o[1]-o[0])*(o[1]-o[0]));a[ee][ee-1]=1/(o[ee]-o[ee-1]);
a[ee][ee]=2/(o[ee]-o[ee-1]);a[ee][ee+1]=3*(g[ee]-g[ee-1])/((o[ee]-o[ee-1])*(o[ee]-o[ee-1]));l.t_.w0(a,C)};
l.QG.alI=function(o,g,C,a){if(o<=g[0])return C[0];if(o>=g[g.length-1])return C[g.length-1];var N=1;while(g[N]<o)N++;
var x=g[N],K=g[N-1],h=C[N],X=C[N-1],w=(o-K)/(x-K),G=a[N-1]*(x-K)-(h-X),R=-a[N]*(x-K)+(h-X),d=(1-w)*X+w*h+w*(1-w)*(G*(1-w)+R*w);
return d};l.QG.v$=function(o,g,C,a){var x={w4:[o[0]],dK:[g[0]],jk:[]};a[0]=x;for(var N=1;N<o.length-1;
N++){x.w4.push(o[N]);x.dK.push(g[N]);if(C[N]==!1){l.QG.mH(x.w4,x.dK,x.jk);x={w4:[o[N]],dK:[g[N]],jk:[]}}a[N]=x}x.w4.push(o[N]);
x.dK.push(g[N]);l.QG.mH(x.w4,x.dK,x.jk);a[N]=x};l.QG.C2=function(o,g,C,a){if(o<=g[0])return C[0];if(o>=g[g.length-1])return C[g.length-1];
var N=1;while(g[N]<o)N++;var x=a[N-1];return l.QG.alI(o,x.w4,x.dK,x.jk)};l.QG.Fo=function(o){var g={w4:[],dK:[],bB:[]};
for(var N=0;N<o.length;N++){g.w4[N]=o[N].v.Hrzn.v;g.dK[N]=o[N].v.Vrtc.v;g.bB[N]=o[N].v.Cnty?o[N].v.Cnty.v:!0}return g};
l.QG.or=function(o,ee,g){var C=0,a=255;if(g){C=-1e9;a=1e9}var x=l.QG.Fo(o),K=[];l.QG.v$(x.w4,x.dK,x.bB,K);
var h=[];for(var N=0;N<ee;N++)h[N]=1/255*Math.max(C,Math.min(a,l.QG.C2(N*(255/(ee-1)),x.w4,x.dK,K)));
return h};l.QG.ans=function(o,ee,g){var C=Math.round(o.length/20),a=ee-o.length,x=g?(o[C]-o[0])/C:0,K=g?o[0]-a*x:o[o.length-1],h=[];
for(var N=0;N<a;N++)h.push(K+N*x);return g?h.concat(o):o.concat(h)};l.QG.pg=function(o,ee,g){var C=l.QG.Fo(o),a=[];
l.QG.v$(C.w4,C.dK,C.bB,a);var x=new Uint8Array(ee),K=ee/256;for(var N=0;N<ee;N++)x[N]=Math.max(0,Math.min(ee-1,l.QG.C2(N*K,C.w4,C.dK,a)));
if(g){x[0]=0;if(x[1]>100)x[1]=.4*x[1];if(x[2]>150)x[1]=.7*x[2]}return x};l.QG.Xr=function(o,g){var C=new Uint8Array(o.length);
for(var N=0;N<o.length;N++)C[N]=g[o[N]];return C};l.QG.zJ=function(o,g,C){var a=document.createElement("canvas");
a.width=g;a.height=C;var x=a.getContext("2d"),K=l.QG.pg(o,256);x.scale(g/255,C/255);x.fillStyle="#fff";
x.fillRect(0,0,255,255);x.fillStyle="#333";x.beginPath();x.moveTo(0,255);for(var N=0;N<K.length;N++)x.lineTo(N,255-K[N]);
x.lineTo(255,255);x.closePath();x.fill();return a.toDataURL()};l.style={};l.style.stroke=function(o,g,C,a){var x=C.m,K=C.n,h=new Float64Array(x*K);
l.style.Bh(o,h,x,K);l.style.Ru(g,C,h,C,a)};l.style.Ru=function(o,g,C,a,x){var K=g.Kw(a),h=K.m,X=K.n;
x+=.5;var w=K.x-g.x,G=K.y-g.y,R=g.m,d=K.x-a.x,q=K.y-a.y,m=a.m;for(var M=0;M<X;M++){var Z=(M+q)*m+d,Q=(M+G)*R+w;
for(var p=0;p<h;p++){var y=Math.max(0,Math.min(1,x-C[Z+p]));o[Q+p]=Math.round(y*255)}}};l.style.akR=function(o,g,C,a){for(var x=0;
x<C;x++)for(var K=0;K<g;K++){var h=x*g+K,X=0,w=0,G=o[h];if(K==0||x==0){X=o[h+1]-G;w=o[h+g]-G}else if(K==C-1||x==g-1){X=G-o[h-1];
w=G-o[h-g]}else{X=o[h+1]-o[h-1];w=o[h+g]-o[h-g]}if(X!=0||w!=0){var R=1/Math.sqrt(X*X+w*w);X*=R;w*=R}a[h+h]=X;
a[h+h+1]=w}};l.style.Bh=function(o,g,C,a){var x=0,K=C*a;for(var N=0;N<K;N++)x|=o[N];if(x==0){g.fill(1e9);
return}var h=l.style.MQ(o,C,a);for(var X=0;X<a;X++)for(var w=0;w<C;w++){var N=X*C+w,G=h[N*2],R=h[N*2+1],d=(X+R)*C+w+G;
if(G==0&&R==0){g[N]=0;continue}var q=Math.sqrt(G*G+R*R),m=o[d]*(1/255),M=1/q,Z=Math.abs(G)*M,Q=Math.abs(R)*M;
if(Q>Z){var p=Q;Q=Z;Z=p}g[N]=q+l.style.aiA(Z,Q,m)}};l.style.aiA=function(o,g,C){return(.5-C)*o};l.style.MQ=function(o,g,C,a){var x=new Int16Array(g*C*2);
l.style.a2v(o,x,g,C,128);return x};l.style.a2v=function(o,g,C,a,x){var K=new Int32Array(C*a);l.style.alC(o,K,C,a,x);
l.style.aqX(K,g,C,a)};l.style.alC=function(o,g,C,a,x){var K=new Int32Array(a);for(var h=0;h<C;h++){var X=C+a;
for(var w=a-1;w>=0;w--){if(o[w*C+h]>x)X=0;else X++;K[w]=X}X=C+a;for(var w=0;w<a;w++){if(o[w*C+h]>x)X=0;
else X++;g[w*C+h]=X<K[w]?-X:K[w]}}};l.style.aqX=function(o,g,C,a){var x=(C+a)*(C+a),K=new Float64Array(C),h=new Uint16Array(C);
for(var X=0;X<a;X++){var w=X*C,G=0;h[0]=0;K[0]=-x;K[1]=+x;for(var R=1;R<C;R++){var d=o[R+w]*o[R+w]+R*R,q=(d-(o[h[G]+w]*o[h[G]+w]+h[G]*h[G]))/(2*R-2*h[G]);
while(q<=K[G]){G--;q=(d-(o[h[G]+w]*o[h[G]+w]+h[G]*h[G]))/(2*R-2*h[G])}G++;h[G]=R;K[G]=q;K[G+1]=x}G=0;
for(var R=0;R<C;R++){while(K[G+1]<R)G++;var m=h[G]-R,M=o[h[G]+w],N=X*C+R<<1;g[N]=m;g[N+1]=M}}};l.style.ea=function(o,g,C){if(C)for(var N=0;
N<o.length;N++){var a=o[N];if(a>0)o[N]=Math.max(0,Math.min(255,a+g*2*(l.style.Pt(N)-128)))}else for(var N=0;
N<o.length;N++){var a=o[N];if(a>0)o[N]=Math.max(0,Math.min(255,a+Math.min(a*3,g*2*(l.style.Pt(N)-128))))}};
l.style.Pt=function(o){o=o^61^o>>16;o=o+(o<<3);o=o^o>>4;o=o*668265261;o=o^o>>15;return o&255};l.Qm={};
l.Qm.vt=function(o,g,C){var a=o.canvas;if(a.width!=g||a.height!=C){a.width=g;a.height=C}};l.Qm.cO=function(o,g,C,a,x,K){l.Qm.vt(o,g,C);
if(K==null)K=!1;var h=x.channel,X=x.rect,w=!x.isEnabled;if(g*C==0)return;var G=o.createImageData(g,C),R=G.data,d=1/g,q=1/C;
for(var N=0;N<C;N++)for(var m=0;m<g;m++){var M=N*g+m,Z=M*4,Q=Math.round(a.x+m*d*a.m),p=Math.round(a.y+N*q*a.n),y=0;
if(Q<X.x||Q>=X.x+X.m||p<X.y||p>=X.y+X.n)y=x.color;else y=h[(p-X.y)*X.m+(Q-X.x)];y=255*(255-x.TR)+y*x.TR>>>8;
if(K)y=170+Math.round(.4*(y-170));R[Z]=y;R[Z+1]=y;R[Z+2]=y;R[Z+3]=255}o.putImageData(G,0,0);if(w)l.Qm.mP(o,g,C)};
l.Qm.oB=[];l.Qm.av9=function(o,g,C,a){var x,K,h;x=Math.ceil(Math.max(g,C)*.35);K=g-x;h=C-x;var X=l.Qm.oB[x];
if(X==null){var w=l.Z0(x,x);w.fillStyle="#eeeeee";w.fillRect(0,0,x,x);var G=Math.round(x*.27),R=w.lineWidth=Math.max(1,Math.round(x*.12)),d=R/2;
w.strokeRect(1+d,1+d,x-R-2,x-R-2);w.strokeRect(G+d,G+d,x-G-G-R,x-G-G-R);X=l.Qm.oB[x]=w.getImageData(0,0,x,x)}o.putImageData(X,K,h)};
l.Qm.as=[];l.Qm.a36=function(o,g,C){var a,x,K;a=Math.ceil(Math.max(g,C)*.35);x=g-a;K=C-a;var h=l.Qm.as[a];
if(h==null){var X=l.Z0(a,a);X.fillStyle="#eeeeee";X.fillRect(0,0,a,a);X.lineWidth=1;X.strokeRect(2.5,2.5,a-5,a-5);
var w=X.createImageData(3,3);l.th(w.data,4278190080);w.data[4*4]=w.data[4*4+1]=w.data[4*4+2]=238;X.putImageData(w,1,1);
X.putImageData(w,a-4,1);X.putImageData(w,1,a-4);X.putImageData(w,a-4,a-4);h=l.Qm.as[a]=X.getImageData(0,0,a,a)}o.putImageData(h,x,K)};
l.Qm.a70=function(o,g,C,a,x){l.Qm.vt(o,g,C);var K=g/a.m;if(g*C==0)return;o.fillStyle="#999999";o.setTransform(1,0,0,1,0,0);
o.clearRect(0,0,g,C);var h=l.Qm.C6;if(h==null){h=l.Qm.C6=JSON.parse(JSON.stringify(hf.ly.default));h.strokeEnabled.v=!0}h.strokeStyleLineWidth.v.val=1/K;
o.fillStyle="#ffffff";o.scale(K,K);l.M.Uu(x.i,o,0,0);l.M.Uu(x.i,o,0,0,h)};l.Qm.yV=null;l.Qm.Iv=function(o,g,C,a,x,K,h,X){l.Qm.vt(o,g,C);
if(g*C==0)return;var w=Math.max(g,C),G=l.Qm.yV;if(G==null||G.width<w||G.height<w){l.Qm.yV=G=o.createImageData(w,w)}w=G.width;
var R=G.data,d=a.m/g,q=a.n/C,m=K.x,M=K.x+K.m,Z=K.y,Q=K.y+K.n;for(var N=0;N<C;N++)for(var p=0;p<g;p++){var y=N*w+p,V=y*4,W=~~(a.x+p*d),v=~~(a.y+N*q),j=l.FZ(N,p,2);
if(W<m||W>=M||v<Z||v>=Q){R[V]=j;R[V+1]=j;R[V+2]=j;R[V+3]=255}else{var e=(v-K.y)*K.m+(W-K.x)<<2,T=x[e+3]*(1/255);
R[V]=x[e+0]*T+j*(1-T);R[V+1]=x[e+1]*T+j*(1-T);R[V+2]=x[e+2]*T+j*(1-T);R[V+3]=255}}if(X!=null)for(var N=0;
N<R.length;N+=4)R[N]=R[N+1]=R[N+2]=R[N+X];o.putImageData(G,0,0);if(h)l.Qm.mP(o,g,C)};l.Qm.agE=function(o,g,C,a){l.Qm.vt(o,g,C);
o.fillStyle=l.Qm.Xh(a.Clr.v);o.fillRect(0,0,g,C);l.Qm.kB(o,g,C)};l.Qm.Pd=null;l.Qm.aeB=function(o,g,C,a){l.Qm.vt(o,g,C);
var x=o.canvas.width,K=o.canvas.height,h=l.Qm.Pd;if(h==null||h.width!=x||h.height!=K){o.fillStyle="#ffffff";
o.fillRect(0,0,g,C);o.fillStyle="#000000";o.font=""+C*.7+"px serif";o.fillText("T",(g-C*.43)/2,C*.75);
o.fillText("T",(g-C*.43)/2,C*.75);l.Qm.Pd=o.getImageData(0,0,x,K)}else o.putImageData(h,0,0)};l.Qm.axj=function(o,g,C){l.Qm.vt(o,g,C);
o.clearRect(0,0,g,C);o.font=C*.7+"px serif";o.fillText(":(",(g-C*.43)/2,C*.7)};l.Qm.apS=function(o,g,C,a){l.Qm.vt(o,g,C);
var x=f6.get(a),K=o.canvas.width,h=l.Qm.LX[K+x];if(h==null){var X=PIMG["adj/"+x],w=bl.OQ(X),G=UPNG.decode(w.buffer),R=new Uint8Array(UPNG.toRGBA8(G)[0]),d=new aS(0,0,160,160),q=0,m=K-q*2,M=c.V.Sk([R,d],new kp(m/160,0,0,m/160,0,0)),Z=new aS(0,0,K,K),Q=l.Z(Z.$()*4);
l.j.Ly("norm",M.buffer,M.rect,Q,Z,M.rect,1);h=l.Qm.LX[K+x]=new ImageData(new Uint8ClampedArray(Q.buffer),K,K)}o.putImageData(h,0,0)};
l.Qm.LX={};l.Qm.aqz=function(o,g,C,a){l.Qm.vt(o,g,C);var x=o.canvas.width,K=o.canvas.height,h=o.getImageData(0,0,x,K);
l.T.hd(a.Grad.v,new Uint8Array(h.data.buffer),new aS(0,0,x,K),[1/x,0,0,1/K],x/2,K/2,!1,0,16711680,65280);
o.putImageData(h,0,0);l.Qm.kB(o,g,C)};l.Qm.apd=function(o,g,C,a,x){l.Qm.vt(o,g,C);var K=o,h=bd.k0(a.Ptrn.v,x.add.Patt);
if(h==null)return;var X=h.Bd[1];l.Qm.Iv(o,g,C,X,h.Bd[0],X,!1);l.Qm.kB(K,g,C)};l.Qm.mP=function(o,g,C){o.strokeStyle="#bb0000";
o.lineWidth=3;o.beginPath();o.moveTo(g*.15,C*.15);o.lineTo(g*.85,C*.85);o.moveTo(g*.85,C*.15);o.lineTo(g*.15,C*.85);
o.closePath();o.stroke()};l.Qm.kB=function(o,g,C){o.fillStyle="#eeeeee";o.fillRect(0,C*.75,g,C*.25);
o.beginPath();o.moveTo(0,C*.75);o.lineTo(g,C*.75);o.moveTo(g*.1,C*.875);o.lineTo(g*.9,C*.875);o.moveTo(g*.65,C*.825);
o.lineTo(g*.65,C*.95);o.closePath();o.stroke()};l.Qm.Xh=function(o){var g=l.T.Xh(o),C=Math.round(g.z)<<16|Math.round(g.B)<<8|Math.round(g.K);
return"#"+l.eh(C)};l.M={};l.M.XI=function(o,g,C){var a=[],x=-1;for(var N=0;N<o.length;N++){var K=o[N];
if((K.type==0||K.type==3)&&K.j4!=-1)x++;if(K.type>5||K.type==0||K.type==3)continue;if(g!=null&&g.indexOf(x)==-1)continue;
if(C!=null&&C.indexOf(N)==-1)continue;a.push(K.rD.x);a.push(K.rD.y);a.push(K.H.x);a.push(K.H.y);a.push(K.lu.x);
a.push(K.lu.y)}return a};l.M.HC=function(o,g,C,a){var x=0,K=-1;for(var N=0;N<g.length;N++){var h=g[N];
if((h.type==0||h.type==3)&&h.j4!=-1)K++;if(h.type>5||h.type==0||h.type==3)continue;if(C!=null&&C.indexOf(K)==-1)continue;
if(a!=null&&a.indexOf(N)==-1)continue;h.rD.fR(o[x],o[x+1]);h.H.fR(o[x+2],o[x+3]);h.lu.fR(o[x+4],o[x+5]);
x+=6}};l.M.Jg=function(o,g,C,a){var x=l.M.XI(o,C,a);l.o.D(x,g,x);l.M.HC(x,o,C,a)};l.M.a0j=function(o,g,C,a){var x=l.M.XI(o,C,a);
l.S.D(g,x);l.M.HC(x,o,C,a)};l.M.a4c=function(o,g,C,a){if(a==null){var x=l.M.ah$(o,40,C);for(var N=0;
N<x.length;N++)o[N]=x[N]}var K=l.M.XI(o,C,a);l.dD.D(g,K,l.o.TO(K));l.M.HC(K,o,C,a)};l.M.ah$=function(o,g,C){var a=[],x=-1;
for(var N=0;N<o.length;N++){var K=o[N],h=K.length;if(K.type>5){a.push(JSON.parse(JSON.stringify(K)));
continue}K=JSON.parse(JSON.stringify(K));a.push(K);if(K.j4!=-1)x++;if(C&&C.indexOf(x)==-1){a=a.concat(o.slice(N+1,N+1+h))}else{var X=l.M.a5z(o,N+1,h);
X=l.o.Ml(X,g);var w=l.M.atc(X);K.length=w.length;for(var G=0;G<w.length;G++)a.push(w[G])}N+=h}return a};
l.M.a5z=function(o,g,C){var a={G:["M"],w:[]},x=o[g],K=o[g+C-1];a.w.push(x.H.x,x.H.y);for(var N=1;N<C;
N++){var h=o[g+N-1],X=o[g+N];a.G.push("C");a.w.push(h.lu.x,h.lu.y,X.rD.x,X.rD.y,X.H.x,X.H.y)}a.G.push("C");
a.w.push(K.lu.x,K.lu.y,x.rD.x,x.rD.y,x.H.x,x.H.y);return a};l.M.atc=function(o){var g=[],C=o.G,a=o.w,x=0,ee=a.length;
g.push({type:2,rD:new eN(a[ee-4],a[ee-3]),H:new eN(a[0],a[1]),lu:new eN(a[2],a[3])});for(var N=0;N<C.length-2;
N++){var K=N*6+4;g.push({type:2,rD:new eN(a[K],a[K+1]),H:new eN(a[K+2],a[K+3]),lu:new eN(a[K+4],a[K+5])})}return g};
l.M.a4I=function(o){for(var N=0;N<o.length;N++){if(o[N].type>5)continue;var g=o[N].length;if(!(g==4||g==6||g==8)){N+=g;
continue}for(var C=0;C<g;C++){var a=o[N+1+C],x=o[N+1+(C+1)%g],K=Math.min(a.H.x,x.H.x),h=Math.min(a.H.y,x.H.y),X=0,w=0;
if(a.H.x<x.H.x){X=a.H.y-h;w=X-(x.H.x-K)}else{X=x.H.y-h;w=X-(a.H.x-K)}if(Math.abs(w)<.2*X)return X}}return-1};
l.M.se=function(o,g,C){function a(q,m){var M=Math.min(q.x,m.x),Z=Math.min(q.y,m.y),Q=Math.max(q.x+q.m,m.x+m.m),p=Math.max(q.y+q.n,m.y+m.n);
return new aS(M,Z,Q-M,p-Z)}var x=null,K=-1,h=!l.M.jT(o);for(var N=0;N<o.length;N++){var X=o[N];if(X.type>5)continue;
if((X.type==0||X.type==3)&&X.j4!=-1)K++;if(g!=null&&g.indexOf(K)==-1)continue;if(N==o.length-1)break;
var w=X.type==3,G=X.length,R=X.j4,d=l.M.Ux(o,N+1,G,w);if(x==null)x=d;else if(C)x=a(x,d);else if(h){if(g!=null||R==0||R==-1||R==2)x=a(x,d);
else if(R==1)x=x;else if(R==3){x=d;h=!1}}else{if(g!=null||R==0||R==-1||R==1)x=a(x,d);else if(R==2)x=x;
else if(R==3)x=x.Kw(d)}N+=G}if(x==null||x.m<0||x.n<0)x=new aS(0,0,0,0);return x};l.M.aoC=new Float64Array(4);
l.M.Ux=function(o,N,g,C){var a=l.M.aoC;a[0]=1e30;a[1]=1e30;a[2]=-1e30;a[3]=-1e30;var x=o[N+g-1];if(!C)l.M.ky(x.H.x,x.H.y,x.lu.x,x.lu.y,o[N].rD.x,o[N].rD.y,o[N].H.x,o[N].H.y,a);
for(var K=N;K<N+g-1;K++){var h=o[K],X=o[K+1];l.M.ky(h.H.x,h.H.y,h.lu.x,h.lu.y,X.rD.x,X.rD.y,X.H.x,X.H.y,a)}return new aS(a[0],a[1],a[2]-a[0],a[3]-a[1])};
l.M.ky=function(o,g,C,a,x,K,h,X,w){if(o==C&&g==a&&x==h&&K==X){w[0]=Math.min(w[0],Math.min(o,h));w[1]=Math.min(w[1],Math.min(g,X));
w[2]=Math.max(w[2],Math.max(o,h));w[3]=Math.max(w[3],Math.max(g,X));return}var G=o,R=g,d=o,q=g,m=40,M=1/(m-1);
for(var Z=0;Z<m;Z++){var Q=Z*M,p=1-Q,y=p*p*p,V=3*p*p*Q,W=3*p*Q*Q,v=Q*Q*Q,j=y*o+V*C+W*x+v*h,e=y*g+V*a+W*K+v*X;
if(j<G)G=j;else if(j>d)d=j;if(e<R)R=e;else if(e>q)q=e}if(G<w[0])w[0]=G;if(R<w[1])w[1]=R;if(d>w[2])w[2]=d;
if(q>w[3])w[3]=q};l.M._4=function(o,g){var C=o.length-3,a=g%C,x=Math.floor(a);if(g<0||x>=C)return null;
var K=o[3+x],h=o[3+(x+1)%C],X=K.H,w=K.lu,G=h.rD,R=h.H,d=a-x,q=1-d,m=q*q*q*X.x+3*q*q*d*w.x+3*q*d*d*G.x+d*d*d*R.x,M=q*q*q*X.y+3*q*q*d*w.y+3*q*d*d*G.y+d*d*d*R.y;
return new eN(m,M)};l.M.Z$=function(o,g){var C=l.o.xC(o),a=C.dH;C.dH=Typr.U.pathToSVG({crds:a.w,cmds:a.G},g==null?2:g);
return C};l.M.WR=function(o){l.M._y();var g,C=l.M.XT(o),a=[];for(var N=0;N<C.length;N++){var x=C[N][0],K=C[N][1];
if(Math.abs(x.area)<1e-5)a.push(x);else if(g==null)g=x;else{if(!x.closed)x.closed=!0;g=g[K](x);g.remove()}}if(g==null)g=new paper.CompoundPath(a);
else{if(g.segments)g=new paper.CompoundPath(g);for(var N=0;N<a.length;N++){g.addChild(a[N])}}var h=o.slice(0,2);
h=h.concat(l.M.SD(g));if(h[2])h[2].j4=1;for(var N=3;N<h.length;N++)if(h[N].j4!=null)h[N].j4=-1;return h};
l.M._y=function(){if(l.M.awZ==null){var o=document.createElement("canvas");paper.setup(o);l.M.awZ=!0}};
l.M.arY=function(o,g){l.M._y();var C=[],a=l.M.XT(o),x=new paper.Path.Rectangle(new paper.Rectangle(g.x,g.y,g.m,g.n));
x.remove();x.fillColor=new paper.Color(1,0,0);for(var N=0;N<a.length;N++){if(x.intersects(a[N][0])||x.contains(a[N][0].children[0].segments[0].point))C.push(N)}return C};
l.M._9=function(o,g,C,a){l.M._y();var x=C?{curves:!0,tolerance:a}:null,K=new paper.Point(g.x,g.y),h=l.M.XT(o);
for(var N=h.length-1;N>=0;N--){var X=h[N][0],w=X.hitTest(K,x);if(w!=null)return{XE:N,YO:C?w.location.index:null}}return{XE:-1}};
l.M.kU=function(o,g,C){var a=[[],[],[]];for(var N=0;N<o.length;N++){var x=o[N];if(x.type>5||x.type==0||x.type==3)continue;
var K=C==null?!0:C.indexOf(N)!=-1;if(g.Yo(x.H))a[0].push(N);if(g.Yo(x.rD)&&K)a[1].push(N);if(g.Yo(x.lu)&&K)a[2].push(N)}return a};
l.M.avE=function(o,g,C){var a=o[g];for(var x=g+1;x<C;x++)o[x-1]=o[x];o[C-1]=a};l.M.akA=function(o,g,C,a){var N,x,K,h=0;
o=o.slice(0);g.sort(function(M,Z){return M-Z});K=-1;for(N=2;N<o.length;){var X=o[N],w=X.length;if(X.j4!=-1)K++;
var G=h;while(G<g.length&&g[G]<N+1+w)G++;if(h!=G){var R=g.slice(h,G);h=G;for(x=0;x<w;x++)if(R.indexOf(N+1+x)!=-1)o[N+1+x]=null;
if(X.type==0){var d=R[0]-(N+1);while(d!=0){l.M.avE(o,N+1,N+1+w);d--}}var q=X;q.length=0;x=0;while(x<w&&o[N+1+x]==null)x++;
while(x<w){var m=o[N+1+x];if(m!=null)q.length++;else if(x<w+1&&o[N+1+x+1]){q=o[N+1+x]={type:0,j4:-1,length:0,yc:0,km:0,Y9:1}}x++}if(a)for(x=-1;
x<w;x++)if(o[N+1+x]&&o[N+1+x].type<3)o[N+1+x].type+=3;l.vm.$c(C,K)}N+=1+w}for(N=0;N<o.length;N++)if(o[N]==null){o.splice(N,1);
N--}K=0;for(N=2;N<o.length;N++){var X=o[N];if(X.length==0){if(o[N+1]&&o[N+1].j4==-1)o[N+1].j4=X.j4;else if(X.j4!=-1)C.splice(K,1);
o.splice(N,1);N--}else if(X.length!=null&&X.j4!=-1)K++}return o};l.M.a8H=function(o,g){var C=o.slice(0,2),a=-1;
for(var N=2;N<o.length;N++){if((o[N].type==0||o[N].type==3)&&o[N].j4!=-1)a++;if(g.indexOf(a)==-1)C.push(o[N])}return C};
l.M.a1y=function(o,g){var C=o.slice(0,2),a=-1;for(var N=2;N<o.length;N++){if((o[N].type==0||o[N].type==3)&&o[N].j4!=-1)a++;
if(g.indexOf(a)!=-1)C.push(o[N])}return C};l.M.akP=function(o){var g=0;for(var N=0;N<o.length;N++)if(o[N].type==0||o[N].type==3)g=N;
return o[g]};l.M.Ac=function(o){var g=-1;for(var N=0;N<o.length;N++)if((o[N].type==0||o[N].type==3)&&o[N].j4!=-1)g++;
return g+1};l.M.Fq=function(o,g,C){var a=-1;for(var N=0;N<o.length;N++)if((o[N].type==0||o[N].type==3)&&(C||o[N].j4!=-1)){a++;
if(a==g)return N}return-1};l.M.Tq=function(o,g,C){var a=-1;for(var N=0;N<o.length;N++)if((o[N].type==0||o[N].type==3)&&(C||o[N].j4!=-1)){if(N>=g)return a;
a++}return a};l.M.LQ=function(o,g){var C=-1,a=0;for(var N=0;N<o.length;N++){if((o[N].type==0||o[N].type==3)&&o[N].j4!=-1)C++;
if(C==g)a++}return a};l.M.a0o=function(o){var g=180;for(var N=0;N<o.length;N++){if(o[N].type!=0&&o[N].type!=3)continue;
var C=o[N].length;if(C<3)continue;for(var a=0;a<C;a++){var x=o[N+1+(a-1+C)%C],K=o[N+1+a],h=o[N+1+(a+1)%C],X=K.H,w=K.rD.$s(X)?x.lu:K.rD,G=K.lu.$s(X)?h.rD:K.lu;
if(X.$s(w)||X.$s(G))continue;var R=w.x-X.x,d=w.y-X.y,q=G.x-X.x,m=G.y-X.y,w=Math.atan2(w.y-X.y,w.x-X.x)*180/Math.PI,G=Math.atan2(G.y-X.y,G.x-X.x)*180/Math.PI,M=Math.abs(G-w)%360,Z=M>180?360-M:M;
if(Z<g)g=Z}}return g*Math.PI/180};l.M.SD=function(o){var g=o.segments?[o]:o.children,C=[];for(var N=0;
N<g.length;N++){var a=g[N],x=a.segments,K=a.closed?0:3,h=C.length,X=null;if(x.length<=1)continue;C.push({type:K,length:x.length,j4:0,Y9:2});
for(var w=0;w<x.length;w++){var G=x[w],R=new eN(G.handleIn.x,G.handleIn.y),d=new eN(G.handleOut.x,G.handleOut.y),q=new eN(G.point.x,G.point.y),m={type:K+1,rD:q.add(R),H:q,lu:q.add(d)};
if(X==null)X=m;C.push(m);if(w+1==x.length&&eN.ig(X.H,m.H)<1e-5){C.pop();C[h].length--;X.rD=m.rD;if(K==3)for(var M=h;
M<C.length;M++)C[M].type-=3}}}return C};l.M.XT=function(o){l.M._y();var g=[],C,a=new paper.Color(1,0,0);
function x(m,X){m.remove();m.closed=!X;m.fillRule="evenodd"}for(var N=0;N<o.length;N++){if(o[N].type>5)continue;
var K=o[N].length,h;if(N==o.length-1)break;var X=o[N].type==3;if(N==2){if(!l.M.$n(o))h="subtract";else h="unite"}else{if(o[N].j4==0)h="exclude";
if(o[N].j4==1)h="unite";if(o[N].j4==2)h="subtract";if(o[N].j4==3)h="intersect"}if(o[N].j4!=-1){C=new paper.CompoundPath;
g.push([C,h]);C.fillRule="evenodd";C.fillColor=a}var w=[];for(var G=0;G<K;G++){var R=o[N+1+G],d=R.rD.fK(R.H),q=R.lu.fK(R.H);
w.push([[R.H.x,R.H.y],[d.x,d.y],[q.x,q.y]])}var m=new paper.Path(w);x(m,X);C.addChild(m);N+=K}return g};
l.M.Yv=function(o){for(var N=0;N<o.length;N++){var g=o[N];if(g.H==null)continue;if(!g.H.$s(g.rD)||!g.H.$s(g.lu))return!1}return!0};
l.M.a47=function(o){if(o.length<=5)return 0;var g=0,C=o.length-3-1;for(var N=0;N<C;N++){var a=o[3+N],x=o[3+N+1];
if(a.type==0||x.type==0)return 0;g+=(x.H.x-a.H.x)*(a.H.y+x.H.y)}g+=(o[3].H.x-o[3+C].H.x)*(o[3+C].H.y+o[3+1].H.y);
return-g*.5};l.M.jT=function(o){var g=o[2],C=!1;if(o.length==2)C=o[1].all==0;else if(o[1].all==1){if(g.j4==1||g.j4==3)C=!0;
else C=!1}else{if(g.j4==1||g.j4==3||g.j4==0)C=!0;else C=!1}return C};l.M.$n=function(o){var g=l.M.jT(o);
for(var N=3;N<o.length;N++)if(o[N].j4==3)g=!0;return g};l.M.ahi=0;l.M.Ht=0;l.M.aor=0;l.M.aja=function(o,g,C,a){if(C.to())return;
var x=C.$(),p=16384;l.M.ahi+=x;if(x>l.M.Ht){l.M.Ht=x}var K=C.m,h=C.n;if(a==null&&l.M.Yv(o)&&o[2]&&o[2].j4!=2){var X=!0;
for(var N=2;N<o.length;)if(o[N].length==2)N+=3;else{X=!1;break}if(X){return}if(l.M.Jr(o)){g.fill(255);
var w=l.M.se(o);if(w.$()!=x){var G=1-(w.x-C.x),R=1-(w.y-C.y),d=1-(C.x+C.m-(w.x+w.m)),q=1-(C.x+C.n-(w.x+w.n)),m=~~(G*255),M=~~(d*255),Z=~~(R*255),Q=~~(q*255);
g.fill(Z,0,K);g[0]=~~(G*R*255);g[K-1]=~~(d*R*255);for(var N=K;N<x;N+=K){g[N]=m;g[N+K-1]=M}g.fill(Q,(h-1)*K,h*K);
g[x-K]=~~(G*q*255);g[x-1]=~~(d*q*255)}return}}var y=Math.ceil(K/p),V=Math.ceil(h/p),W=Math.ceil(K/y),v=Math.ceil(h/V),j=Date.now();
for(var e=0;e<V;e++)for(var T=0;T<y;T++){var O=T*W,L=e*v,S=W,$=v,H=l.Z0(S,$);if(!l.M.jT(o))H.fillRect(0,0,S,$);
l.M.Uu(o,H,-C.x-O,-C.y-L,a);var f=new Uint8Array(H.getImageData(0,0,S,$).data.buffer);if(S==K&&$==h)l.eP(f,g,3);
else l.vb(f,new aS(O,L,S,$),g,new aS(0,0,K,h))}};l.M.Uu=function(o,g,C,a,x){if(x!=null){var K=!1,h=!1,X=0,w=!1;
for(var N=0;N<o.length;N++){var G=o[N].j4;if(G!=null){X++;if(G==-1)K=!0;if(G>0)h=!0;if(o[N].type==0)w=!0}}if(!K&&X<20&&(x==null||w))o=l.M.WR(o)}for(var N=0;
N<o.length;N++){if(o[N].type>5)continue;var R=o[N].length;if(R==0)continue;if(N==o.length-1)break;var d=o[N].type==3,G=o[N].j4;
if(G!=-1&&x==null){var q=["xor","source-over","destination-out","source-in"][G];g.globalCompositeOperation=q}if(o[N].j4!=-1){g.beginPath();
if(x){var m=x.strokeStyleLineWidth.v.val,M=x.strokeStyleLineAlignment.v.strokeStyleLineAlignment,Z=x.strokeStyleLineCapType.v.strokeStyleLineCapType,Q=x.strokeStyleLineJoinType.v.strokeStyleLineJoinType,p=x.strokeStyleMiterLimit.v,y=[],V=x.strokeStyleLineDashSet.v;
for(var W=0;W<V.length;W++)y.push(V[W].v.val*m);g.setLineDash(y);g.lineCap=["butt","round","square"][hf.ly.sj.indexOf(Z)];
g.lineJoin=["miter","round","bevel"][hf.ly.join.indexOf(Q)];g.lineWidth=hf.ly.sx.indexOf(M)==1?m:m*=2;
g.miterLimit=p}}l.M.a5M(g,o,N+1,R,C,a,d);if(d){}else g.closePath();if(o[N+1+R]==null||o[N+1+R].j4!=-1){if(x)g.stroke();
else g.fill("evenodd")}N+=R}g.globalCompositeOperation="source-over"};l.M.a5M=function(o,g,N,C,a,x,K){var h=g[N],X=null;
o.moveTo(h.H.x+a,h.H.y+x);for(var w=N;w<N+C-1;w++){h=g[w];X=g[w+1];o.bezierCurveTo(h.lu.x+a,h.lu.y+x,X.rD.x+a,X.rD.y+x,X.H.x+a,X.H.y+x)}if(!K){h=g[w];
X=g[N];o.bezierCurveTo(h.lu.x+a,h.lu.y+x,X.rD.x+a,X.rD.y+x,X.H.x+a,X.H.y+x)}};l.M.ae6=function(o,g){var C=[],a=g?4:1;
for(var N=0;N<o.length;N+=2){var x=new eN(o[N],o[N+1]);C.push({type:a,rD:x.clone(),H:x.clone(),lu:x.clone()})}return C};
l.M.Eh=function(o,g,C){var a=l.o.TO(o),x=Math.sqrt(Math.sqrt(a.$()))*.2,K=.2;o=o.slice(0);var h=o.length,X=g?0:2;
for(var w=0;w<5;w++)for(var N=X;N<o.length-X;N+=2){var G=(N-2+h)%h,R=(N+2)%h,d=o[N],q=o[N+1],m=(o[G]+o[R])*.5,M=(o[G+1]+o[R+1])*.5;
o[N]=d+(m-d)*K;o[N+1]=q+(M-q)*K}if(C)return l.M.MG.rO(o,null,!g);l.M._y();var Z=new paper.Path;Z.remove();
Z.closed=g;for(var N=0;N<o.length;N+=2)Z.add(new paper.Point(o[N],o[N+1]));Z.simplify(x);var Q=[{type:6},{type:8,all:0}];
Q=Q.concat(l.M.SD(Z));return Q};l.M.SO=function(o,g,C){var a=o[g].length,x=o[g].type,K=0,h=o.slice(g+1,g+1+a);
for(var N=0;N<a;N++){var X=C[(N-1+a)%a],w=C[(N+1+a)%a],G=C[N];if(G!=0){var R=h[(N-1+a)%a].H,d=h[(N+0+a)%a].H,q=h[(N+1+a)%a].H,m=eN.ig(d,R),M=eN.ig(d,q),Z=l.o.uJ(R.x,R.y,d.x,d.y,q.x,q.y,G)[0],Q=Math.min(Z,X==0?m:m/2,w==0?M:M/2);
G*=Q/Z;var p=l.o.auy(R.x,R.y,d.x,d.y,q.x,q.y,G),y={type:x+1,rD:new eN(p[2],p[3]),H:new eN(p[2],p[3]),lu:new eN(p[4],p[5])},V={type:x+1,rD:new eN(p[6],p[7]),H:new eN(p[8],p[9]),lu:new eN(p[8],p[9])};
o.splice(g+K+1,1,y,V);K++;o[g].length++}K++}};l.M.Yv=function(o){for(var N=0;N<o.length;N++){var g=o[N],C=g.type;
if(C==1||C==2||C==4||C==5)if(!g.H.$s(g.rD)||!g.H.$s(g.lu))return!1}return!0};l.M.Jr=function(o){if(o.length!=7||o[2].length!=4||!l.M.Yv(o))return!1;
for(var N=0;N<4;N++){var g=!0;for(var C=0;C<4;C++){var a=o[3+(N+C&3)],x=o[3+(N+C+1&3)];if(a.H.x!=x.H.x&&a.H.y!=x.H.y)g=!1}if(g)return!0}return!1};
l.M.ar7=function(o){if(o.length<6)return 0;var g=o.length-2,C=0;for(var N=0;N<g;N+=2)C+=(o[N+2]-o[N])*(o[N+1]+o[N+3]);
C+=(o[0]-o[g])*(o[g+1]+o[1]);return-C*.5};l.M.a8$=function(o){o=A.A3.FL(o);var g=l.M.Ac(o);for(var C=0;
C<g;C++){var a=l.M.Fq(o,C)+1,x=o[a-1].length,K=[];for(var N=0;N<x;N++){var h=o[a+N].H;K.push(h.x,h.y)}var X=l.M.ar7(K);
if(X<0){var w=[];for(var N=0;N<x;N++){var G=o[a+N],R=G.rD;G.rD=G.lu;G.lu=R;w.push(G)}for(var N=0;N<x;
N++)o[a+N]=w[x-1-N]}}return o};l.M.MG={};l.M.MG.rO=function(o,g,C){var a=[{type:6},{type:8,all:0}],x=null;
a.push({type:C?3:0,j4:1,length:0,yc:0,km:0,Y9:1});if(g==0||g==null)x=null;else if(g instanceof Array)x=g;
else{x=[];for(var N=0;N<o.length;N+=2)x.push(g)}a=a.concat(l.M.ae6(o,C));a[2].length=a.length-3;if(x)l.M.SO(a,2,x);
return a};l.M.MG.afR=function(o,g,C,a,x){var K=[],h=[],X=.553,w=1,G=-1;K.push({type:1,rD:new eN(0,X),H:new eN(0,0),lu:new eN(0,-X)});
x+=2;for(var N=0;N<x;N++){var R={type:1};if(N==0){R.H=new eN(1,-1);R.rD=new eN(1-X,-1);R.lu=new eN(1+X,-1)}else{var d=-(N+2)*Math.PI/2,q=1+((N&1)==1?N-1:N),m=Math.sin(d),M=Math.cos(d);
w+=q*(m-M);G+=q*(M+m);R.H=new eN(w,G);R.rD=new eN(w+q*M*X,G-q*m*X);if((N&1)==1)q+=2;R.lu=new eN(w-q*M*X,G+q*m*X)}var Z={type:1,rD:new eN(-R.lu.x,-R.lu.y),H:new eN(-R.H.x,-R.H.y),lu:new eN(-R.rD.x,-R.rD.y)};
K.push(R);if(N<x-2)h.push(Z)}h.reverse();K=K.concat(h);var Q=[{type:6},{type:8,all:0}];Q.push({type:0,j4:1,length:K.length,yc:0,km:0,Y9:1});
Q=Q.concat(K);var p=new kp(C/x,0,0,C/x,0,0);p.rotate(a);p.translate(o,g);l.M.Jg(Q,p);return Q};l.M.MG.Rect=function(o,g,C,a,x){var K=[o,g,o+C,g,o+C,g+a,o,g+a];
return l.M.MG.rO(K,x)};l.M.MG.UA=function(o,g,C,a,x,K,h,X){var w=[],G=2*Math.PI/x;for(var N=0;N<x;N++)w.push(Math.cos(N*G-a),Math.sin(N*G-a));
if(h!=null){var R=l.o.TO(w),d=R.m,q=R.n,m=h/(d/2),M=X/(q/2);for(var N=0;N<w.length;N+=2){w[N]=(w[N]-(R.x+d/2))*m;
w[N+1]=(w[N+1]-(R.y+q/2))*M}C=1}var Z=new kp(C,0,0,C,0,0);Z.translate(o,g);l.o.D(w,Z,w);return l.M.MG.rO(w,K)};
l.M.MG.wQ=function(o,g,C,a,x,K,h){var X=[],w=Math.PI/x;for(var N=0;N<x*2;N++){var G=(N&1)==0?1:h;X.push(G*Math.cos(N*w),G*Math.sin(N*w))}var R=new kp(C,0,0,C,0,0);
R.rotate(a);R.translate(o,g);l.o.D(X,R,X);return l.M.MG.rO(X,K)};l.M.MG.e8=function(o,g,C,a,x){return l.M.MG.qy(0,o,g,C,a,x)};
l.M.MG.aqH=function(o,g,C,a,x,K){return l.M.MG.qy(1,o,g,C,a,x,K)};l.M.MG.g7=function(o,g,C,a,x,K){return l.M.MG.qy(2,o,g,C,a,x,K)};
l.M.MG.qy=function(o,g,C,a,x,K,h){var X=Math.sqrt((a-g)*(a-g)+(x-C)*(x-C)),w;K/=2;if(o==0)w=[-K,0,K,0,K,X,-K,X];
if(o==1){var G=K*2*h*1.3/1.5,R=K*h;w=[-K,0,K,0,K,X-G,R,X-G,0,X,-R,X-G,-K,X-G]}if(o==2){var G=h[3],R=h[2]/2,d=G*(2/3)*h[4]/100,q=G-d,m=G;
w=[];if(h[0])w.push(-K,q,-R,m,0,0,R,m,K,q);else w.push(-K,0,K,0);if(h[1])w.push(K,X-q,R,X-m,0,X,-R,X-m,-K,X-q);
else w.push(K,X,-K,X)}var M=new kp(1,0,0,1,0,0);M.rotate(Math.atan2(-x+C,a-g)+Math.PI/2);M.translate(g,C);
l.o.D(w,M,w);return l.M.MG.rO(w,0)};l.M.MG.Hy=function(o,g,C,a){var x=[{type:6},{type:8,all:0}],d=.553;
x.push({type:0,j4:1,length:4,yc:0,km:0,Y9:1});var K=o,h=g,X=o+C,w=g+a,o=(K+X)/2,g=(h+w)/2,G=(K-X)/2,R=(h-w)/2;
x.push({type:1,rD:new eN(o-d*G,g-R),H:new eN(o,g-R),lu:new eN(o+d*G,g-R)});x.push({type:1,rD:new eN(o+G,g-d*R),H:new eN(o+G,g),lu:new eN(o+G,g+d*R)});
x.push({type:1,rD:new eN(o+d*G,g+R),H:new eN(o,g+R),lu:new eN(o-d*G,g+R)});x.push({type:1,rD:new eN(o-G,g+d*R),H:new eN(o-G,g),lu:new eN(o-G,g-d*R)});
return x};l.M.MG.as9=function(o,g,C,a,x){var K=[{type:6},{type:8,all:0}];K.push({type:3,j4:1,length:5,yc:0,km:0,Y9:1});
var h=(x-a)/4;for(var N=0;N<5;N++){var X=N*h,w=Math.cos(X),G=Math.sin(X),R=.553*(h/(Math.PI/2)),d=G*R,q=-w*R,m=new eN(w,G);
K.push({type:4,rD:N==0?m.clone():new eN(w+d,G+q),H:m,lu:N==4?m.clone():new eN(w-d,G-q)})}var M=new kp;
M.rotate(-a);M.scale(C,C);M.translate(o,g);l.M.Jg(K,M);return K};l.X0={};l.X0.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
l.X0.L1=function(o){var g=o.warpStyle.v.warpStyle;if(g=="warpNone")return!0;else if(g=="warpCustom"){var C=!1,a=o.customEnvelopeWarp.v.meshPoints.v.arr,x=a[0].arr,K=a[1].arr;
for(var N=0;N<4;N++)for(var h=0;h<4;h++){if(Math.abs(x[N]-x[h*4+N])>1||Math.abs(K[N*4]-K[N*4+h])>1)C=!0}return!C}else return o.warpValue.v==0&&o.warpPerspective.v==0&&o.warpPerspectiveOther.v==0};
l.X0.Z=function(o){var g={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(o){g.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:o.y}},Left:{t:"UntF",v:{type:"#Pxl",val:o.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:o.y+o.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:o.x+o.m}}}};
g.uOrder={t:"long",v:4};g.vOrder={t:"long",v:4}}return g};l.X0.a3V=function(o,g,C,a){for(var N=0;N<o.length;
N+=2){var x=o[N],K=o[N+1],h=(x-g.x)/g.m,X=(K-g.y)/g.n,w=(1-C)/2,G=1-w,R=w+h*(G-w);X=.5+(X-.5)*R*2;var d=(1-a)/2,q=1-d,m=d+X*(q-d);
h=.5+(h-.5)*m*2;x=g.x+h*g.m;K=g.y+X*g.n;o[N]=x;o[N+1]=K}};l.X0.r$=function(o,g){var C=[],a=[];for(var N=0;
N<o.length;N+=2){C.push(o[N]);a.push(o[N+1])}var x=[];x.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:C});
x.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:a});g.warpStyle.v.warpStyle="warpCustom";g.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:x}}}}};
l.X0.Nw=function(o,g){if(g==null){var C=o.bounds.v,a=C.Left.v.val,x=C.Rght.v.val,K=C.Top.v.val,h=C.Btom.v.val;
g=new aS(a,K,x-a,h-K)}if(g.to())g.m=g.n=1;var X=[],w=o.warpStyle.v.warpStyle;if(w=="warpCustom"){var G=o.customEnvelopeWarp.v.meshPoints.v.arr,R=G[0].arr,d=G[1].arr;
for(var N=0;N<16;N++)X.push(R[N],d[N])}else X=l.X0.X0(g,w,o.warpRotate.v.Ornt=="Hrzn",o.warpValue.v/100,o.warpPerspective.v/100,o.warpPerspectiveOther.v/100);
return X};l.X0.X0=function(o,g,C,a,x,K){var h=l.dD.Z(o.x,o.y,o.m,o.n);if(g=="warpNone")return h;var X=JSON.parse(JSON.stringify(o)),w=new kp;
if(!C){w.translate(-o.x,-o.y);w.rotate(-Math.PI/2);w.translate(o.n,0);l.o.D(h,w,h);o=new aS(0,0,o.n,o.m);
h=l.dD.X3(h,!1)}l.X0.a08(h,o,g,a,x,K);if(!C){h=l.dD.X3(h,!0);o=X;w.rq();l.o.D(h,w,h)}if(a==0)l.X0.a3V(h,o,x,K);
else{var w=new kp(1/o.m,0,0,1/o.n,-o.x,-o.y);w.translate(-.5,-.5);l.o.D(h,w,h);l.X0.aji(h,K,x);w.rq();
l.o.D(h,w,h)}return h};l.X0.a08=function(o,g,C,a,x,K){for(var N=0;N<4;N++){for(var h=0;h<4;h++){var X=2*(4*N+h),w=o[X]-g.x,G=o[X+1]-g.y,R=w,d=G;
if(a!=0){var q=g.m/2,m=g.n/2;R-=q;d-=m;var M=R,Z=R,Q=-m,p=m,y=Math.abs(a),V=Math.tan((1-y)*Math.PI/2),W=Math.sqrt(V*V+1),v=Math.atan2(1,V),j=R/q*v,e=q*W,T=q*W+g.n,O=Math.cos(v),L=Math.sin(v),S=l.X0.aj4(O,L),$=l.X0.aa3(O,L),H=-V*q+S*e;
if(C=="warpArc"){M=Math.sin(j)*T;Q=V*q-Math.cos(v)*T+m;Z=Math.sin(j)*e;p=V*q-Math.cos(v)*e+m;if(h==1||h==2){M=h==1?-$*T:$*T;
Z=h==1?-$*e:$*e;Q=V*q+m-S*T;p=V*q+m-S*e}if(a<0){var f=M;M=Z;Z=f;f=Q;Q=-p;p=-f}}if(C=="warpArcLower"){if(h==1||h==2){Z=h==1?-$*e:$*e;
p=a<0?m-H:m+H}}if(C=="warpArcUpper"||C=="warpArch"||C=="warpBulge"){if(h==1||h==2){M=h==1?-$*e:$*e;Q=a<0?-m+H:-m-H}if(C=="warpArch"){Z=M;
p=Q+2*m}if(C=="warpBulge"){Z=M;p=-Q}}if(C=="warpFish"||C=="warpFlag"||C=="warpWave"){var F=h;if(C=="warpFlag")F=3-h;
if(F==1){Q-=a*4*m;p+=a*4*m}if(F==2){Q+=a*4*m;p-=a*4*m}if(C=="warpFlag"||C=="warpWave")Q=p-2*m}if(C=="warpRise"){if(h<2)Q=-m+a*m*4;
p=Q+2*m}var U=(d+m)/g.n;R=M+U*(Z-M);d=Q+U*(p-Q);if(C=="warpWave"){if(N==0)d=-m;if(N==3)d=m;if(N==1||N==2)d=2*m*(N/3-.5)*(1/3)+d*(2/3)}if(C=="warpFisheye"){if((N==1||N==2)&&(h==1||h==2)){R=R+4*R*a;
d=d+4*d*a}}if(C=="warpInflate"){var r=2/3;if((N==1||N==2)&&(h==1||h==2)){R=R+.5*R*a;d=d+.5*d*a}else if(N==1||N==2)R=R+r*R*a;
else if(h==1||h==2)d=d+r*d*a}if(C=="warpSqueeze"){var r=2/3;if((N==1||N==2)&&(h==1||h==2)){if(a>0)R=R-r*R*a;
else d=d+r*d*a}else if(N==1||N==2)R=R-r*R*a;else if(h==1||h==2)d=d+r*d*a}if(C=="warpTwist"){if((N==1||N==2)&&(h==1||h==2)){var E=a*Math.PI/2,W=1+Math.abs(a)*2,k=R*Math.cos(E)-d*Math.sin(E),P=R*Math.sin(E)+d*Math.cos(E);
R=k*W;d=P*W}}if(C=="warpShellLower"||C=="warpShellUpper"){if(C=="warpShellUpper"){N=3-N;d=-d}if(N>2||N==2&&(h==0||h==3)){if(a>0){var z=e+N/3*2*m;
R=Math.sin(j)*z;d=-V*q-m+Math.cos(j)*z;if(h==1||h==2){R=h==1?-$*z:$*z;d=-V*q-m+S*z}}else{if((h==1||h==2)&&N==3){R=h==1?-$*e:$*e;
d=V*q-S*e+m}else if(N==2){d=m-m*(2/3)*Math.cos(j);R=R+m*(2/3)*Math.sin(j)}}}if(C=="warpShellUpper"){N=3-N;
d=-d}}R+=q;d+=m}w=R,G=d;o[X]=w+g.x;o[X+1]=G+g.y}}};l.X0.aji=function(o,g,C){var a=[];for(var x=0;x<4;
x++)a.push(1-C+x/3*2*C);var K=[];for(var x=0;x<4;x++)K.push(1-g+x/3*2*g);var h=[0,0,0,0],X=[0,0,0,0];
for(var N=0;N<4;N++)for(var x=0;x<4;x++){var w=2*(4*N+x),G=o[w],R=o[w+1];h[x]+=G/4;X[x]+=R/4}for(var N=0;
N<4;N++)for(var x=0;x<4;x++){var d=a[x],w=2*(4*N+x),G=o[w],R=o[w+1],q=h[x],m=X[x];o[w]=q+d*(G-q);o[w+1]=m+d*(R-m)}var M=o.slice(0);
for(var N=0;N<4;N++)for(var x=1;x<3;x++){var w=2*(4*N+x),G=o[w],R=o[w+1],Z=w+(x==1?-2:2),Q=o[Z],p=o[Z+1];
o[w]=G-Q;o[w+1]=R-p}var y=o[0],V=o[1],W=o[8],v=o[9],j=o[16],e=o[17],T=o[24],O=o[25],L=o[6],S=o[7],$=o[14],H=o[15],f=o[22],F=o[23],U=o[30],r=o[31],E=L-y,k=S-V,P=$-W,z=H-v,s=f-j,Y=F-e,t=U-T,n=r-O;
for(var N=0;N<4;N++){var J=2*N*4,I=0,fp=0,cH=N==1?.33:.66,b=1-cH;if(N==0){I=E;fp=k}if(N==1){I=b*E+cH*-t;
fp=b*k+cH*-n}if(N==2){I=b*E+cH*-t;fp=b*k+cH*-n}if(N==3){I=-t;fp=-n}o[J]=o[J]+I/2;o[J+1]=o[J+1]+fp/2;
o[J+6]=o[J+6]-I/2;o[J+7]=o[J+7]-fp/2}for(var N=0;N<4;N++)for(var x=1;x<3;x++){var w=2*(4*N+x),G=o[w],R=o[w+1],Z=w+(x==1?-2:2),Q=o[Z],p=o[Z+1],d=2*N/3;
o[w]=Q+d*G;o[w+1]=p+d*R}for(var N=1;N<3;N++)for(var x=1;x<3;x++){var w=2*(4*N+x),G=o[w],R=o[w+1],jL=N==1?-8:-16,aq=N==1?16:8,cJ=o[w+jL],aB=o[w+jL+1],au=o[w+aq],ea=o[w+aq+1],d=N/3;
G=(1-d)*cJ+d*au;R=(1-d)*aB+d*ea;o[w]=G;o[w+1]=R}l.o.CR(M,o,o,g)};l.X0.aj4=function(o,g){return(4-o)*(1/3)};
l.X0.aa3=function(o,g){return(1-o)*(3-o)/(3*g)};l.Ub={};l.Ub.a69=function(o,g,C,a,x,K,h,X,w,G){for(var R=0;
R<X;R++)for(var d=0;d<h;d++){var q=3*(R*h+d),m=R+K,M=d+x,Z=o[m*g+M];a[q]=Z;a[q+1]=Z;a[q+2]=Z}};l.Ub.IY=function(o,g,C,a,x,K,h,X,w,G){var R=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],d=1/w,q=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],m=new Uint32Array(6);
for(var M=0;M<X;M++){for(var Z=0;Z<h;Z++){var Q=3*(M*h+Z),p=M+K,y=Z+x;m[0]=0;m[1]=0;m[2]=0;m[3]=0;m[4]=0;
m[5]=0;for(var N=0;N<16;N+=2){var V=y+q[N],W=p+q[N+1],v=V-w*~~(V*d),j=W-w*~~(W*d),e=G[j*w+v];m[e]+=o[W*g+V];
m[e+3]++}var V=y,W=p,v=V-w*~~(V*d),j=W-w*~~(W*d),e=G[j*w+v];m[e]=o[p*g+y];m[e+3]=1;a[Q]=m[0]*R[m[3]];
a[Q+1]=m[1]*R[m[4]];a[Q+2]=m[2]*R[m[5]]}}};l.Ub.fM=function(o,g,C){for(var N=0;N<C;N+=2)o[g+N]=o[g+N+1];
g=g+C;for(var N=0;N<C;N+=2)o[g+N+1]=o[g+N]};l.Ub.Yw=function(o,g,C,a){for(var N=0;N<a;N+=2){var x=g+N*C;
o[x]=o[x+C];o[x+C+1]=o[x+1]}};l.Ub.Wk=function(o,g,C,a,x,K){var h=a[x],X=a[x+1],w=a[K],G=a[K+1],R=X+w>>>1;
o[g]=o[g+3]=o[C]=o[C+3]=h;o[g+1]=R;o[g+4]=X;o[C+1]=w;o[C+4]=R;o[g+2]=o[g+5]=o[C+2]=o[C+5]=G};l.Ub.akV=function(o,g,C,a,x,K){var h=K*3;
for(var N=0;N<K;N+=2){var X=g+N,w=x+N*3;l.Ub.Wk(a,w,w+h,o,X,X+C)}};l.Ub.apo=function(o,g,C,a,x,K,h){var X=K*3;
for(var N=0;N<h;N+=2){var w=g+N*C,G=x+N*K*3;l.Ub.Wk(a,G,G+X,o,w,w+C)}};l.Ub.o6=function(o,N,g){var C=o[N-g-g],a=o[N-g],x=o[N-2],K=o[N-1],h=o[N],X=o[N+1],w=o[N+2],G=o[N+g],R=o[N+g+g],d=Math.abs(a-G),q=Math.abs(K-X),m=Math.abs(h-C)*2+d,M=Math.abs(h-w)*2+q,Z=Math.abs(h-x)*2+q,Q=Math.abs(h-R)*2+d,p=Math.min(m,Math.min(M,Math.min(Z,Q)));
if(p==m)return a*3+G+h-C>>2;if(p==M)return X*3+K+h-w>>2;if(p==Z)return K*3+X+h-x>>2;return G*3+a+h-R>>2};
l.Ub.X4=function(o,g,C,a,x){if(o<g&&g<C||o>g&&g>C)return~~(.5+a+(x-a)*(g-o)/(C-o));else return(a+x>>1)+(g+g-o-C>>2)};
l.Ub.Gr=function(o,g,N,C){var a=g[N-C-1],x=g[N-C+1],K=g[N],h=g[N+C-1],X=g[N+C+1],w=o[N-C-1],G=o[N-C+1],R=o[N],d=o[N+C-1],q=o[N+C+1],m=Math.abs(G-d)+Math.abs(o[N-C-C+2]-R)+Math.abs(R-o[N+C+C-2])+Math.abs(x-K)+Math.abs(K-h),M=Math.abs(w-q)+Math.abs(o[N-C-C-2]-R)+Math.abs(R-o[N+C+C+2])+Math.abs(a-K)+Math.abs(K-X);
if(m<M)return l.Ub.X4(x,K,h,G,d);else return l.Ub.X4(a,K,X,w,q)};l.Ub.k_=function(o,g,C,a,x,K){o[g+0]=C[x];
o[g+1]=a[x];o[g+2]=l.Ub.Gr(C,a,x,K)};l.Ub.E8=function(o,g,C,a,x,K){var h=a[x];o[g+0]=l.Ub.X4(a[x-1],h,a[x+1],C[x-1],C[x+1]);
o[g+1]=h;o[g+2]=l.Ub.X4(a[x-K],h,a[x+K],C[x-K],C[x+K])};l.Ub.Rt=function(o,g,C,a,x,K){var h=a[x];o[g+0]=l.Ub.X4(a[x-K],h,a[x+K],C[x-K],C[x+K]);
o[g+1]=h;o[g+2]=l.Ub.X4(a[x-1],h,a[x+1],C[x-1],C[x+1])};l.Ub.RF=function(o,g,C,a,x,K){o[g+0]=l.Ub.Gr(C,a,x,K);
o[g+1]=a[x];o[g+2]=C[x]};l.Ub.abY=function(o,g,C,a,x,K,h,X,w){var G=Date.now(),R=2,d=g-2,q=2;if((x&1)==1){R++;
d--}var m=C-2;if((K&1)==1){q++;m--}if(w==1||w==3){R++;d--}var M=o.slice(0);l.Ub.fM(M,0,g);l.Ub.Yw(M,0,g,C);
l.Ub.Yw(M,g-2,g,C);l.Ub.fM(M,(C-2)*g,g);for(var Z=q;Z<m;Z+=2)for(var Q=R;Q<d;Q+=2){var N=Z*g+Q,p=l.Ub.o6(M,N,g),y=l.Ub.o6(M,N+g+1,g);
M[N]=Math.max(0,p);M[N+g+1]=Math.max(0,y)}var V=h,W=X;if(K+X==C){W-=2;l.Ub.akV(o,(C-2)*g+x,g,a,(X-2)*h*3,h)}if(x+h==g){V-=2;
l.Ub.apo(o,K*g+x+h-2,g,a,(h-2)*3,h,X)}if(w==0)for(var Z=0;Z<W;Z+=2)for(var Q=0;Q<V;Q+=2){var v=(Z+K)*g+Q+x,j=(Z*h+Q)*3;
l.Ub.k_(a,j,o,M,v,g);l.Ub.E8(a,j+3,o,M,v+1,g);v+=g;j+=3*h;l.Ub.Rt(a,j,o,M,v,g);l.Ub.RF(a,j+3,o,M,v+1,g)}else if(w==1)for(var Z=0;
Z<W;Z+=2)for(var Q=0;Q<V;Q+=2){var v=(Z+K)*g+Q+x,j=(Z*h+Q)*3;l.Ub.E8(a,j,o,M,v,g);l.Ub.k_(a,j+3,o,M,v+1,g);
v+=g;j+=3*h;l.Ub.RF(a,j,o,M,v,g);l.Ub.Rt(a,j+3,o,M,v+1,g)}else if(w==2)for(var Z=0;Z<W;Z+=2)for(var Q=0;
Q<V;Q+=2){var v=(Z+K)*g+Q+x,j=(Z*h+Q)*3;l.Ub.RF(a,j,o,M,v,g);l.Ub.Rt(a,j+3,o,M,v+1,g);v+=g;j+=3*h;l.Ub.E8(a,j,o,M,v,g);
l.Ub.k_(a,j+3,o,M,v+1,g)}else if(w==3)for(var Z=0;Z<W;Z+=2)for(var Q=0;Q<V;Q+=2){var v=(Z+K)*g+Q+x,j=(Z*h+Q)*3;
l.Ub.Rt(a,j,o,M,v,g);l.Ub.RF(a,j+3,o,M,v+1,g);v+=g;j+=3*h;l.Ub.k_(a,j,o,M,v,g);l.Ub.E8(a,j+3,o,M,v+1,g)}};
l.raw={};l.raw.asG=function(o){var g=Date.now(),C=o.width,a=o.height,x=0,K=0,h=C,X=a;if(o.t50829){var w=o.t50829;
x=w[1];K=w[0];h=w[3];X=w[2]}if(o.t50719){var G=o.t50719;x+=G[0]>>1<<1;K+=G[1]>>1<<1}if(o.t50720){var R=o.t50720;
h=x+R[0];X=K+R[1]}var d=h-x,q=X-K,m=l.raw.apg(o),M=o.t33422,Z=o.t33421;if(Z){var R=Z[0],Q=M.slice(0);
for(var p=0;p<R;p++)for(var y=0;y<R;y++){var V=(y+(x&1))%R,W=(p+(K&1))%R;Q[p*R+y]=M[W*R+V]}M=Q}if(o.t277[0]==1)l.raw.aj9(m,C,a,o,M);
l.raw.Uc(2,o,m,C,a);var v=new Float32Array(d*q*3);if(o.t277[0]==1){if(Z==null){l.Ub.a69(m,C,a,v,x,K,d,q)}else if(Z.length!=2||Z[0]!=2||Z[1]!=2){console.log("Unknown CFA pattern size",Z);
l.Ub.IY(m,C,a,v,x,K,d,q,Z[0],M)}else{var j=o.t33422.join(","),e=0;if(j=="0,1,1,2")e=0;else if(j=="1,0,2,1")e=1;
else if(j=="2,1,1,0")e=2;else if(j=="1,2,0,1")e=3;else throw"Unknown CFA pattern "+j;if((d&1)!=0||(q&1)!=0)throw"e";
l.Ub.abY(m,C,a,v,x,K,d,q,e)}}else{for(var p=0;p<q;p++)for(var y=0;y<d;y++){var T=((p+K)*C+y+x)*3,O=(p*d+y)*3;
v[O+0]=m[T+0];v[O+1]=m[T+1];v[O+2]=m[T+2]}}var L=v,S=v.length,$=l.raw.yO(o),H=1/$;for(var N=0;N<S;N+=3){v[N]=L[N]*H;
v[N+1]=L[N+1]*H;v[N+2]=L[N+2]*H}l.raw.Uc(3,o,v,d,q);var f=o.TT,F=d,U=q;if(f==1||f==9){}else{var r=l.raw.PZ(f,d,q),O=0;
F=r[0];U=r[1];var E=v.slice(0);for(var p=0;p<U;p++)for(var y=0;y<F;y++){var k=r[2]*y+r[3]*p+r[4],P=r[5]*y+r[6]*p+r[7],T=(P*d+k)*3;
v[O]=E[T];v[O+1]=E[T+1];v[O+2]=E[T+2];O+=3}}return{ab:v,Zp:F,xZ:U}};l.raw.PZ=function(o,g,C){var a=g,x=C;
if(!1){}else if(o==2)return[g,C,-1,0,g-1,0,1,0];else if(o==3)return[g,C,-1,0,g-1,0,-1,C-1];else if(o==4)return[g,C,1,0,0,0,-1,C-1];
else if(o==5)return[C,g,0,1,0,1,0,0];else if(o==6)return[C,g,0,1,0,-1,0,C-1];else if(o==7)return[C,g,0,-1,g-1,-1,0,C-1];
else if(o==8)return[C,g,0,-1,g-1,1,0,0];else throw"unknown orientation "+o};l.raw.aj9=function(o,g,C,a,x){var K=Date.now(),H=0,U=0;
if(l.raw.yO(a)>4e4){for(var N=0;N<o.length;N++)o[N]>>=1;var h=["t50714","t50715","t50712","t50717"];
for(var N=0;N<h.length;N++){var X=a[h[N]];if(X)for(var w=0;w<X.length;w++)X[w]>>>=1}console.log("remapping to lower bit depth")}var G=~~Math.sqrt(x.length),R=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],d=[];
for(var q=0;q<G;q++)for(var m=0;m<G;m++){var N=q*G+m,M=x[N],Z=4,Q=4,p=8,y=0,V=0;for(var w=0;w<18;w+=2){var W=(G+m+R[w])%G,v=(G+q+R[w+1])%G,j=x[v*G+W];
if(j==M){}else if(Z==4){Z=j;y=w}else if(Q==4&&j!=Z){Q=j;V=w;break}}if(Q<Z){var e=Q;Q=Z;Z=e;e=V;V=y;y=e}if(Z<M){var e=Z;
Z=M;M=e;e=y;y=p;p=e}if(Q<Z){var e=Q;Q=Z;Z=e;e=V;V=y;y=e}d[N*3]=R[p+1]*g+R[p];d[N*3+1]=R[y+1]*g+R[y];
d[N*3+2]=R[V+1]*g+R[V]}var T=~~(.996*l.raw.yO(a)),O=~~(.992*l.raw.yO(a)),L=a.t50728;if(L[0]==0)L=[1,1,1];
var S=[],$=[0,0,0];for(var q=1;q<C-1;q++)for(var m=1;m<g-1;m++){var N=q*g+m,f=q%G*G+m%G,M=o[N+d[f*3+0]],Z=o[N+d[f*3+1]],Q=o[N+d[f*3+2]],F=Math.max(M,Z,Q);
if(F>T)S.push(N);else if(F>O){$[0]+=M;$[1]+=Z;$[2]+=Q;H++}}if(S.length==0)return;if(H/(g*C)<1e-5){console.log("not enough semi-saturated pixels",H);
$=L}if($[1]<$[U])U=1;if($[2]<$[U])U=2;var r=[$[0]/$[U],$[1]/$[U],$[2]/$[U]],E=o.slice(0);for(var k=0;
k<S.length;k++){var N=S[k],q=~~(N/g),m=N-q*g,f=q%G*G+m%G,P=Math.min(65535,~~(o[N+d[f*3+U]]*r[x[f]]));
if(P>E[N])E[N]=P}o.set(E)};l.raw.YK=function(o,g,C,a){var x=o.ab,K=Math.round(x.length/3),h=x.slice(0);
l.raw.m8(x,h,C,a);var X=Math.pow(2,a[2]),w=new Uint8Array(4e3);for(var N=0;N<4e3;N++){var G=N*(1/1e3);
G=l.RA(G);G*=X;G=l.eS(G);G=Math.max(0,Math.min(1,G));G=l.raw.vQ.ab3(G,a[3]/100);w[N]=~~(.5+255*G)}for(var N=0;
N<K;N++){var R=N<<2,d=R-N;g[R]=w[~~(h[d]*1e3)];g[R+1]=w[~~(h[d+1]*1e3)];g[R+2]=w[~~(h[d+2]*1e3)]}};l.raw.m8=function(o,g,C,a){var x=Math.round(o.length/3),K=di.aer(a[0],a[1]),h=l.raw.asf(C,K),X=l.Rk.multiply(l.Rk.Kt,h),w=Math.pow(2,C.t50730?C.t50730[0]:0);
X=l.Rk.multiply(X,l.Rk.V$(w,w,w));var G=l.raw.m8.alh;if(G==null){G=l.raw.m8.alh=new Float64Array(8e3);
for(var N=0;N<8e3;N++)G[N]=l.eS(N*(1/1e3))}for(var N=0;N<x;N++){var R=N<<2,d=R-N,q=o[d],m=o[d+1],M=o[d+2],Z=X[0]*q+X[1]*m+X[2]*M,Q=X[4]*q+X[5]*m+X[6]*M,p=X[8]*q+X[9]*m+X[10]*M;
if(Z<0)Z=0;if(Q<0)Q=0;if(p<0)p=0;g[d]=G[~~(Z*1e3)];g[d+1]=G[~~(Q*1e3)];g[d+2]=G[~~(p*1e3)]}};l.raw.vQ={ab3:function(o,g){var C=.5-.5*Math.cos(o*3.2),a=0;
if(g>0){var x=o*.2;a=x*o+(1-x)*C}else{var K=Math.pow(o,.33);a=(1-K)*K+K*(o+(o-C)*.63)}var h=Math.abs(g);
return h*a+(1-h)*o},afb:function(o,g){var C=0;if(g>0){var a=o*1.47,x=Math.pow(o,2.4);C=Math.min(1,x*o+(1-x)*a)}else{var a=o*.68,x=Math.pow(o,3);
C=x*o*.5+(1-x)*a}var K=Math.abs(g);return K*C+(1-K)*o},ai5:function(o,g){var C=0;if(g>0){var a=Math.pow(o,.3),x=o;
C=(1-o)*a+o*x}else{var a=Math.pow(o,2.5),K=o,x=o;C=Math.min(1,(1-K)*a+K*x)}var h=Math.abs(g);return h*C+(1-h)*o}};
l.raw.apg=function(o){var g=o.width,C=o.height,a=g*C*o.t277,x=new Uint16Array(a),K=null,h=0;l.raw.a3U(o,x);
l.raw.Uc(1,o,x,g,C);if(o.t50712){K=o.t50712;h=K.length-1;if(K[h]>65535)throw"too big values"}var X=l.raw.fr(o),w=l.raw.WF(o);
if(K==null)for(var N=0;N<a;N++)x[N]=Math.max(0,x[N]-X);else for(var N=0;N<a;N++){var G=x[N];if(G>h)G=h;
G=K[G];x[N]=Math.max(0,G-X)}return x};l.raw.fr=function(o){var g=o.t50714,C=g?g[0]:0,a=o.t50715,x=o.t50716;
if(a)C+=a[0][0]/a[0][1];if(x)C+=x[0][0]/x[0][1];return Math.round(C)};l.raw.WF=function(o){var g=null,C=0;
if(o.t50712){g=o.t50712;C=g.length-1}var a=o.t50717?o.t50717[0]:(1<<o.t258[0])-1;if(g)a=Math.min(a,g[C]);
return a};l.raw.yO=function(o){var g=l.raw.fr(o),C=l.raw.WF(o);return C-g};l.raw.a3U=function(o,g){var C=g.length,a=o.data,x=o.t258[0];
if(x!=16&&x!=14&&x!=12&&x!=10&&x!=8)throw"Unsupported Bits Per Sample:"+x;x=Math.round(a.length*8/C);
if(x==16&&o.isLE){l.j5(a,g);return}for(var N=0;N<C;N+=2){var K=0,h=0,X=0;if(x==16){K=N<<1;h=a[K]<<8|a[K+1];
X=a[K+2]<<8|a[K+3]}else if(x==14){var w=N*14,G=w>>>3,R=a[G]<<24|a[G+1]<<16|a[G+2]<<8|a[G+3];if((w&7)==0){h=R>>>18;
X=R>>>4&16383}else{h=R>>>14&16383;X=R&16383}}else if(x==12){K=N+(N>>>1);h=a[K]<<4|a[K+1]>>4;X=(a[K+1]&15)<<8|a[K+2]}else if(x==10){var w=N*10,G=w>>>3;
if((w&7)==0){h=(a[G]<<2|a[G+1]>>6)&1023;X=(a[G+1]<<4|a[G+2]>>4)&1023}else{h=(a[G]<<6|a[G+1]>>2)&1023;
X=(a[G+1]<<8|a[G+2]>>0)&1023}}else if(x==8){K=N;h=a[K];X=a[K+1]}g[N]=h;g[N+1]=X}};l.raw.amH=function(o,g,C,a,x,K,h){var X=o-.499999,w=g-.499999,G=~~X,R=~~w,d=X-G,q=w-R,m=(1-q)*(1-d),M=(1-q)*d,Z=q*(1-d),Q=q*d,p=(R*a+G)*3,y=((R+1)*a+G)*3,V=m*C[p]+M*C[p+3]+Z*C[y]+Q*C[y+3],W=m*C[p+1]+M*C[p+4]+Z*C[y+1]+Q*C[y+4],v=m*C[p+2]+M*C[p+5]+Z*C[y+2]+Q*C[y+5];
K[h]=V;K[h+1]=W;K[h+2]=v};l.raw.Uc=function(o,g,C,a,x){var K=g["t"+[51008,51009,51022][o-1]],R=0;if(K==null)return;
var h=a*x,X=u.s,w=u.Wq,G=new Uint8Array(K),gC=u.s(G,R);R+=4;for(var d=0;d<gC;d++){var q=X(G,R);R+=4;
var m=X(G,R);R+=4;var M=X(G,R);R+=4;var Z=X(G,R);R+=4;if(!1){}else if(q==1&&o==3){var Q=R,p=X(G,Q);Q+=4;
var y=w(G,Q);Q+=8;var V=w(G,Q);Q+=8;var W=w(G,Q);Q+=8;var v=w(G,Q);Q+=8;var j=w(G,Q);Q+=8;var e=w(G,Q);
Q+=8;Q+=(p-1)*8*6;var T=w(G,Q);Q+=8;var O=w(G,Q);Q+=8;var L=T*a,S=O*x,$=Math.max(L,a-L),H=Math.max(S,x-S),f=Math.sqrt($*$+H*H),F=1/f,U=C.slice(0);
for(var r=0;r<x;r++)for(var E=0;E<a;E++){var k=(E+.5-L)*F,P=(r+.5-S)*F,z=k*k+P*P,s=y+V*z+W*(z*z)+v*(z*z)*z,Y=j*(2*k*P)+e*(z+2*k*k),t=e*(2*k*P)+j*(z+2*P*P),n=Math.min(L+f*(s*k+Y),a-1),J=Math.min(S+f*(s*P+t),x-1),I=(r*a+E)*3;
l.raw.amH(n,J,U,a,x,C,I)}}else if(q==3&&o==3){var Q=R,fp=w(G,Q);Q+=8;var cH=w(G,Q);Q+=8;var b=w(G,Q);
Q+=8;var jL=w(G,Q);Q+=8;var aq=w(G,Q);Q+=8;var T=w(G,Q);Q+=8;var O=w(G,Q);Q+=8;var L=T*a,S=O*x,$=Math.max(L,a-L),H=Math.max(S,x-S),f=Math.sqrt($*$+H*H),F=1/f;
for(var r=0;r<x;r++)for(var E=0;E<a;E++){var k=(E+.5-L)*F,P=(r+.5-S)*F,z=k*k+P*P,cJ=1+(fp+(cH+(b+(jL+aq*z)*z)*z)*z)*z,I=(r*a+E)*3;
C[I]=cJ*C[I];C[I+1]=cJ*C[I+1];C[I+2]=cJ*C[I+2]}}else if(q==4&&o==1){var Q=R,aB=X(G,Q);Q+=4;var au=X(G,Q);
Q+=4;for(var N=0;N<h;N++)if(C[N]==aB)C[N]=C[N-2]+C[N+2]>>1}else if(q==5&&o==1){var Q=R,ea=X(G,Q);Q+=4;
var ax=X(G,Q);Q+=4;var f1=X(G,Q);Q+=4;for(var N=0;N<ax;N++){var fk=X(G,Q);Q+=4;var hF=X(G,Q);Q+=4;var N=fk*a+hF;
C[N]=C[N-2]+C[N+2]>>1}}else if(q==7&&o==1){var Q=R,fm=u.Q6(G,Q);Q+=16;var jE=X(G,Q);Q+=4;var ff=X(G,Q);
Q+=4;var d5=X(G,Q),eF=X(G,Q+4);Q+=8;var gI=X(G,Q);Q+=4;var fE=new Uint16Array(gI);for(var N=0;N<gI;N++)fE[N]=u.eX(G,Q+2*N);
var js=fm.m,d8=fm.n;for(var r=0;r<d8;r+=d5)for(var E=0;E<js;E+=eF){var N=(fm.y+r)*a+(fm.x+E);C[N]=fE[C[N]]}}else if(q==8&&o==2){var Q=R,fm=u.Q6(G,Q);
Q+=16;var jE=X(G,Q);Q+=4;var ff=X(G,Q);Q+=4;var d5=X(G,Q),eF=X(G,Q+4);Q+=8;var bt=X(G,Q);Q+=4;var io=[];
for(var N=0;N<=bt;N++)io[N]=u.Wq(G,Q+N*8);var ha=fm.x,dp=fm.x+fm.m,gS=fm.y,aP=fm.y+fm.n,gD=g.t50717[0],fA=1/gD;
for(var jH=0;jH<ff;jH++)for(var r=gS;r<aP;r+=d5){var I=3*r*a+jE+jH;for(var E=ha;E<dp;E+=eF){var N=I+3*E,aM=C[N]*fA,jc=io[bt];
for(var eQ=bt;eQ>0;eQ--)jc=jc*aM+io[eQ-1];C[N]=Math.max(0,Math.min(65535,~~(jc*gD)))}}}else if(q==9&&o==2){var Q=R,fm=u.Q6(G,Q),eW=!0;
Q+=16;var jE=X(G,Q);Q+=4;var ff=X(G,Q);Q+=4;var d5=X(G,Q),eF=X(G,Q+4);Q+=8;var j1=X(G,Q),i7=X(G,Q+4);
Q+=8;var fT=w(G,Q),hy=w(G,Q+8);Q+=16;var hJ=w(G,Q),db=w(G,Q+8);Q+=16;var jK=X(G,Q);Q+=4;if(jK!=1)throw"more than one map plane";
var h_=j1*i7,dM=new Float32Array(h_);for(var eQ=0;eQ<h_;eQ++)dM[eQ]=u.gg(G,Q+eQ*4);for(var eQ=0;eQ<h_;
eQ++)if(dM[eQ]!=1)eW=!1;if(!eW){var js=fm.m,d8=fm.n,ip=.9999*(i7-1)/js,fS=.9999*(j1-1)/d8;for(var r=0;
r<d8;r+=d5)for(var E=0;E<js;E+=eF){var N=(fm.y+r)*a+(fm.x+E),hS=E*ip,bB=r*fS,g_=Math.floor(hS),e4=Math.floor(bB),e0=hS-g_,jC=bB-e4,I=e4*i7+g_,i4=dM[I]*(1-e0)+dM[I+1]*e0,hO=dM[I+i7]*(1-e0)+dM[I+1+i7]*e0,eq=i4*(1-jC)+hO*jC;
C[N]=Math.max(0,Math.min(65535,~~(C[N]*eq+.5)))}}}else console.log("Unknown opcode "+q+" in OpcodeList"+o+". Length: "+Z);
R+=Z}};l.raw.asf=function(o,g){var C=di.tr(g),a=l.raw.YT(o,g),x=l.Rk.rq(a),K=di.a9K(C,di.tr(di.avd)),h=l.Rk.multiply(K,x);
return h};l.raw.avn=function(o){var g=o.t50728,x=1;if(g==null||g[0]==0)g=[1,1,1];var C=g.slice(0);C.push(0);
var a={x:.34567,y:.3585};do{var K=l.Rk.rq(l.raw.YT(o,a)),h=l.Rk.xo(K,C),X=di.a3w(h);x=Math.abs(a.x-X.x)+Math.abs(a.y-X.y);
a=X}while(x>1e-7);return a};l.raw.YT=function(o,g){var C=di.Ib(g),a=l.raw.a0i,x=o.t50778?o.t50778[0]:0,K=o.t50779?o.t50779[0]:0,h=a(o.t50721,o.t50722,x,K,C.qP),X=a(o.t50723,o.t50724,x,K,C.qP);
h=h||[1,0,0,0,1,0,0,0,1];X=X||[1,0,0,0,1,0,0,0,1];var w=o.t50727?[o.t50727[0],0,0,0,o.t50727[1],0,0,0,o.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return l.Rk.multiply(l.Rk.vy(w),l.Rk.multiply(l.Rk.vy(X),l.Rk.vy(h)))};l.raw.a0i=function(o,g,C,a,x){if(!o&&!g){return null}else if(o&&!g){return o}else if(x<C){return o}else if(x>a){return g}else{var K=(1/x-1/a)/(1/C-1/a),h=1-K,X=[];
for(var N=0;N<9;N++)X[N]=o[N]*K+g[N]*h;return X}};var di={};di.avd={x:.34567,y:.3585};di.xU=[{z:0,oN:.18006,jr:.26352,Nc:-.24341},{z:10,oN:.18066,jr:.26589,Nc:-.25479},{z:20,oN:.18133,jr:.26846,Nc:-.26876},{z:30,oN:.18208,jr:.27119,Nc:-.28539},{z:40,oN:.18293,jr:.27407,Nc:-.3047},{z:50,oN:.18388,jr:.27709,Nc:-.32675},{z:60,oN:.18494,jr:.28021,Nc:-.35156},{z:70,oN:.18611,jr:.28342,Nc:-.37915},{z:80,oN:.1874,jr:.28668,Nc:-.40955},{z:90,oN:.1888,jr:.28997,Nc:-.44278},{z:100,oN:.19032,jr:.29326,Nc:-.47888},{z:125,oN:.19462,jr:.30141,Nc:-.58204},{z:150,oN:.19962,jr:.30921,Nc:-.70471},{z:175,oN:.20525,jr:.31647,Nc:-.84901},{z:200,oN:.21142,jr:.32312,Nc:-1.0182},{z:225,oN:.21807,jr:.32909,Nc:-1.2168},{z:250,oN:.22511,jr:.33439,Nc:-1.4512},{z:275,oN:.23247,jr:.33904,Nc:-1.7298},{z:300,oN:.2401,jr:.34308,Nc:-2.0637},{z:325,oN:.24792,jr:.34655,Nc:-2.4681},{z:350,oN:.25591,jr:.34951,Nc:-2.9641},{z:375,oN:.264,jr:.352,Nc:-3.5814},{z:400,oN:.27218,jr:.35407,Nc:-4.3633},{z:425,oN:.28039,jr:.35577,Nc:-5.3762},{z:450,oN:.28863,jr:.35714,Nc:-6.7262},{z:475,oN:.29685,jr:.35823,Nc:-8.5955},{z:500,oN:.30505,jr:.35907,Nc:-11.324},{z:525,oN:.3132,jr:.35968,Nc:-15.628},{z:550,oN:.32129,jr:.36011,Nc:-23.325},{z:575,oN:.32931,jr:.36038,Nc:-40.77},{z:600,oN:.33724,jr:.36051,Nc:-116.45}];
di.Ib=function(o){var g=di.xU,C=2*o.x/(1.5-o.x+6*o.y),a=3*o.y/(1.5-o.x+6*o.y),x=0,K=0,h=0;for(;h<31;
h++){x=a-g[h].jr-g[h].Nc*(C-g[h].oN);if(h>0&&x<0){break}K=x}while(h>=g.length)h--;x/=Math.sqrt(1+g[h].Nc*g[h].Nc);
K/=Math.sqrt(1+g[h-1].Nc*g[h-1].Nc);var X=K/(K-x),w=1e6/((g[h].z-g[h-1].z)*X+g[h-1].z),G=C-((g[h].oN-g[h-1].oN)*X+g[h-1].oN),R=a-((g[h].jr-g[h-1].jr)*X+g[h-1].jr),d=Math.sqrt(1+g[h].Nc*g[h].Nc),q=1/d,m=g[h].Nc/d,M=Math.sqrt(1+g[h-1].Nc*g[h-1].Nc),Z=1/M,Q=g[h-1].Nc/M,p=(q-Z)*X+Z,y=(m-Q)*X+Q,V=Math.sqrt(p*p+y*y);
p/=V;y/=V;var W=(G*p+R*y)*-3e3;return{qP:w,uQ:W}};di.aer=function(o,g){var C=di.xU,a=1e6/o,x=1;for(;
x<31;x++){if(a<C[x].z){break}}var K=(C[x].z-a)/(C[x].z-C[x-1].z),h=(C[x-1].oN-C[x].oN)*K+C[x].oN,X=(C[x-1].jr-C[x].jr)*K+C[x].jr,w=Math.sqrt(1+C[x].Nc*C[x].Nc),G=1/w,R=C[x].Nc/w,d=Math.sqrt(1+C[x-1].Nc*C[x-1].Nc),q=1/d,m=C[x-1].Nc/d,M=(q-G)*K+G,Z=(m-R)*K+R,Q=Math.sqrt(M*M+Z*Z);
M/=Q;Z/=Q;h+=M*g/-3e3;X+=Z*g/-3e3;return{x:1.5*h/(h-4*X+2),y:X/(h-4*X+2)}};di.a3w=function(o){var g=o[0]+o[1]+o[2];
return{x:o[0]/g,y:o[1]/g}};di.tr=function(o){return{x:o.x/o.y,y:1,wn:(1-o.x-o.y)/o.y}};di.a9K=function(o,g){var C=l.Rk.vy([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),a=[o.x,o.y,o.wn,0],x=[g.x,g.y,g.wn,0];
a=l.Rk.xo(C,a);x=l.Rk.xo(C,x);var K=x[0]/a[0],h=x[1]/a[1],X=x[2]/a[2],w=l.Rk.vy([K,0,0,0,h,0,0,0,X]),G=l.Rk.rq(C);
return l.Rk.multiply(l.Rk.multiply(G,w),C)};l.raw.fW={};l.raw.ld=function(o){o*=8;var g=[8,10,12,14,16];
for(var C in CAMS){var a=CAMS[C];if(a.length==4)continue;var x=a[4],K=a[5];for(var N=0;N<g.length;N++)if(x*K*g[N]==o)return[C,g[N]]}var h=[[4e3,3e3]];
for(var N=0;N<h.length;N++){var a=h[N],x=a[0],K=a[1];for(var N=0;N<g.length;N++)if(x*K*g[N]==o)return[a,g[N]]}return null};
l.raw.ao_=function(o){var o=new Uint8Array(o);for(var N=0;N<o.length;N+=2){var g=o[N];o[N]=o[N+1];o[N+1]=g}var C=l.raw.ld(o.length),a=CAMS[C[0]];
if(a==null)a=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,C[0][0],C[0][1]];var x=a[4],K=a[5],h=Math.max(a[2],116),X={data:o,TT:1,width:x,height:K,t256:[x],t257:[K],t258:[C[1]],t277:[1],t33421:[2,2],t33422:l.raw.ZH[a[1]],t50706:[1,2,0,0],t50714:[h,h,h,h],t50717:[a[3]],t50721:a[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var N=0;N<9;N++)X.t50721[N]/=1e4;return X};l.raw.Xv=function(o){if(o==null||o.length==0||typeof o[0]=="number")return o;
var g=[];for(var N=0;N<o.length;N++)g[N]=o[N][1]==0?0:o[N][0]/o[N][1];return g};l.raw.ZH=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
l.raw.normalize=function(o,g){if(o.t50706!=null||o.t271[0].startsWith("Hasselblad")){var C=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var N=0;N<C.length;N++)if(o["t"+C[N]]!=null)o["t"+C[N]]=l.raw.Xv(o["t"+C[N]]);if(o.t271&&o.t271[0].startsWith("Hasselblad")){o.t50706=[1,2,0,0];
o.t33422=l.raw.ZH[1];o.t50723=[1,0,0,0,1,0,0,0,1];o.t50778=[17];if(!o.isLE)for(var N=0;N<o.data.length;
N+=2){var a=o.data[N];o.data[N]=o.data[N+1];o.data[N+1]=a}}return}var x=o.t258[0],K=o.exifIFD,g=new Uint8Array(g);
o.t50706=[1,2,0,0];var h=o.t272[0].trim();if(h.indexOf(" ")==-1)h=o.t271[0].trim()+" "+h;if(o.t50708==null)o.t50708=[h];
var X=h.toLowerCase(),w=CAMS,G=w[X];if(G==null)for(var R in w)if(X.startsWith(R))G=w[R];if(G==null)alert("Unknown camera:"+h);
else{var d=G[2];o.t50714=[d,d,d,d];o.t50717=[G[3]];o.t50721=G[0].slice(0);for(var N=0;N<9;N++)o.t50721[N]=o.t50721[N]*(1/1e4)}o.t50723=[1,0,0,0,1,0,0,0,1];
if(o.t50728==null)o.t50728=[.35,1,.6];o.t50778=[17];if(o.t271[0].startsWith("SONY")){var q=UTIF["_bin"+(o.isLE?"LE":"BE")],m=o.t28688,W;
if(JSON.stringify(m)!="[8000,10400,12900,14100]")console.log(m);if(m){var M=[0,0,0,0,0,4095],Z=new Uint16Array(16385);
for(var N=0;N<4;N++){var Q=m[N]>>>2;M[N+1]=Q;if(Q>4095)throw"e"}for(var N=0;N<16385;N++)Z[N]=N;for(var N=0;
N<5;N++)for(var p=M[N]+1;p<=M[N+1];p++)Z[p]=Z[p-1]+(1<<N);var y=g.length*8<o.width*o.height*x;if(y)o.t50712=Z}else console.log("no curve");
var V=o.dngPrvt;if(V){var v=V.t29184[0],j=V.t29185[0],e=(o.isLE?u.KI:u.s)(V.t29217,0),T=new Uint32Array(g.slice(v,v+(j&4294967292)).buffer),O=new Uint32Array(j>>>2);
l.raw.a0C(T,O,j>>>2,e);var L=new Uint8Array(v+j);L.set(new Uint8Array(O.buffer),v);var S=[];UTIF._readIFD(q,L,v,S,0,!1);
var $=S.pop(),H=$.t29458;o.t50728=[H[1]/H[0],1,H[1]/H[3]];o.t50730=[.5];var f=$.t29891;o.t50829=[f[1],f[0],f[3],f[2]]}else if(K.makerNote&&K.makerNote.t8208){var W=K.makerNote,F=W.t8208,U=F.length,r=0,E=new Uint8Array(256);
for(var N=249;N<256;N++)E[N]=N;for(var N=0;N<249;N++)E[N*N*N%249]=N;for(var N=0;N<U;N++)F[N]=E[F[N]];
if(U==6604)r=612;else throw"e";var H=[];for(var N=0;N<3;N++)H.push(u.Yp(F,r+N*2));console.log(H);o.t50728=[H[1]/H[0],1,H[1]/H[2]]}else console.log("no white balance");
if(o.width*o.height*1.5==o.t279[0]){d=d>>>2;o.t50714=[d,d,d,d];o.t50717=[G[3]>>>2]}}else if(o.t271[0].startsWith("Canon")){var g=o.data,k=g.slice(0),P=o.t50752,z=[],Y=0;
if(P==null||P[0]==0&&P[1]==0)z.push(o.width);else{for(var N=0;N<P[0];N++)z.push(P[1]);z.push(P[2])}var s=o.width*2,t=o.t50885&&o.t50885[0]==4;
if(!t)for(var n=0;n<z.length;n++){var J=z[n],I=2*Y,fp=2*J;for(var cH=0;cH<o.height;cH+=2){var b=cH*s+I,jL=o.height*I+cH*fp;
for(var N=0;N<fp;N++){g[b+N]=k[jL+N];g[b+N+s]=k[jL+N+fp]}}Y+=J}else{for(var n=0;n<z.length;n++){var J=z[n]/((P[0]*P[1]+P[2])/o.width);
for(var cH=0;cH<o.height;cH++){var b=(cH*o.width+Y)*6,jL=(o.height*Y+cH*J)*6;for(var N=0;N<J*6;N++)g[b+N]=k[jL+N]}Y+=J}var aq=new Uint16Array(g.buffer),cJ=new Uint16Array(1),aB=new Int16Array(cJ.buffer);
for(var N=0;N<aq.length;N+=3){var au=aq[N],ea=aq[N+1],ax=aq[N+2];cJ[0]=ea<<2;ea=aB[0]>>2;cJ[0]=ax<<2;
ax=aB[0]>>2;aq[N+0]=Math.max(0,ax+au);aq[N+1]=Math.max(0,(au<<12)-ea*778-(ax<<11)>>12);aq[N+2]=Math.max(0,ea+au)}}var W=K.makerNote;
if(W.t16385){var f1=W.t224,fm=0;if(f1){o.t50719=[f1[5],f1[6]];o.t50720=[f1[7]+1-f1[5],f1[8]+1-f1[6]]}var fk=W.t16385,hF=fk.length;
if(hF==582)fm=1;else if(hF==653)fm=2;else if(hF==796)fm=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(hF)!=-1)fm=4;
else if(hF==5120){fm=5;fk=new Int16Array(fk.slice(0).buffer)}else if(hF==1273||hF==1275)fm=6;else if([1312,1313,1316,1506].indexOf(hF)!=-1)fm=7;
else if([1560,1592,1353,1602].indexOf(hF)!=-1)fm=8;else throw"e"+hF;var jE=fk[0],ff=[null,[25,166],[34,286],[63,196],[63],[71,jE==-4?333:264],[63,251],[63,jE==10?504:728],[63,326]],r=ff[fm][0],d5=ff[fm][1];
if(fm==4){if(fk[0]==2)d5=231;else if(fk[0]==3)d5=231;else if(fk[0]==4)d5=231;else if(fk[0]==5)d5=231;
else if(fk[0]==6)d5=231;else if(fk[0]==7)d5=231;else if(fk[0]==9)d5=231;else throw"e"}o.t50728=[fk[r+1]/fk[r],1,fk[r+1]/fk[r+3]];
var d=d5==null?1024:fk[d5];if(fm!=4)o.t50714=[d,d,d,d]}else{o.t50728=[.4,1,.6]}if(t){o.t277=[3];o.t50728=[1,1,1];
o.t50714=[0,0,0,0]}}else if(o.t271[0].startsWith("NIKON")){var W=K.makerNote,eF=o.isLE?u.Yp:u.D3,io=0,ha=0,fA,fT=0;
if(W.t61){var gI=W.t61,fE=[];for(var N=0;N<4;N++)fE[N]=gI[N]/Math.pow(2,14-x);o.t50714=fE}if(W.t3585){var js=W.t3585,N=0,v=22;
while(v<js.length&&N!=-4){var d8=u.KI(js,v);v+=4;v+=14;N=u.KI(js,v)-4;v+=4;if(d8==1990472198){if(js[v]!=0)throw"Flip"}if(d8==1990472199){var bt=u.Yp(js,v);
if(bt==0)o.TT=1;else if(bt==270)o.TT=8;else throw"e "+bt}v+=N}}if(W.t183){var dp=W.t183,gS=[];for(var N=0;
N<6;N++)gS.push(eF(dp,16+N*2));io=gS[0];ha=gS[1]}if(W.t3614){var aP=W.t3614;io=u.KI(aP,8);ha=u.KI(aP,12)}if(io!=0&&Math.max(io,ha)<Math.max(o.width,o.height)){if(io<ha){var a=io;
io=ha;ha=a}var Y=o.width-io>>>1,cH=o.height-ha>>>1;o.t50829=[cH,Y,cH+ha,Y+io]}else o.t50829=[8,8,o.height-8,o.width-56];
var gD=W.t69;if(gD)o.t50829=[gD[1],gD[0],gD[1]+gD[3],gD[0]+gD[2]];if(W.t12){var jH=l.raw.Xv(W.t12);fA=[1/jH[0],1,1/jH[1]]}else if(W.t151){var aM=l.raw.a1X(W,151),jc=aM[0],cO=aM[1],eQ=aM[2];
if(jc=="0100"&&cO>=80)throw"e";else if(jc=="0102"){var j1=[];for(var N=0;N<4;N++)j1.push(eF(eQ,6+N*2));
fA=[j1[1]/j1[0],1,j1[1]/j1[3]]}else if(jc=="0103"&&cO>=26){var j1=[];for(var N=0;N<4;N++)j1.push(eF(eQ,16+N*2));
fA=[j1[1]/j1[0],1,j1[3]/j1[2]]}else if(jc=="0204"&&cO>=564||jc=="0205"&&cO>=284){var v=jc=="0204"?6:14,j1=[];
for(var N=0;N<4;N++)j1.push(eF(eQ,v+N*2));fA=[j1[1]/j1[0],1,j1[1]/j1[3]]}else throw"e"}else console.log("no white balance info");
if(h=="NIKON D1")fA=[1,1,1];if(fA)o.t50728=fA;var i7=W.t150?W.t150:W.t140;if(i7){var hy=i7[fT++],hJ=i7[fT++],h_;
if(hy==73||hJ==88)fT+=2110;fT+=8;var db=1<<x&32767,jK=eF(i7,fT);fT+=2;var Z=[];if(jK>1)h_=Math.floor(db/(jK-1));
if(hy==68&&hJ==32&&h_>0){for(N=0;N<jK;N++){Z[N*h_]=eF(i7,fT);fT+=2}for(N=0;N<db;N++)Z[N]=Math.floor((Z[N-N%h_]*(h_-N%h_)+Z[N-N%h_+h_]*(N%h_))/h_)}else if(hy!=70&&jK<=16385){db=jK;
for(var N=0;N<jK;N++)Z[N]=eF(i7,fT+2*N);fT+=2*jK}var dM=o.t272[0];if(Z.length!=0)o.t50712=new Uint16Array(Z);
if(o.t258[0]==14&&o.t50717[0]<1e4){console.log("fixing white");o.t50717[0]*=4}}}else if(h.startsWith("FujiFilm")){}else alert("Unknown camera "+h)};
l.raw.a0C=function(o,g,C,a){if(0==C)return;var x=new Uint32Array(128),K=new Uint8Array(x.buffer),h=127,X=0,w=0;
for(var h=0;h<4;h++)x[h]=a=(a*15625>>>0)*3125+1>>>0;x[3]=x[3]<<1|(x[0]^x[2])>>>31;for(var h=4;h<127;
h++)x[h]=(x[h-4]^x[h-2])<<1|(x[h-3]^x[h-1])>>>31;for(var h=0;h<127;h++)x[h]=u.s(K,h*4);for(;C>0;C--){x[h&127]=x[h+1&127]^x[h+1+64&127];
var G=x[h&127],R=o[X];R^=G;g[w]=R;X++;w++;h++}};l.raw.arV=function(o,g){var C=u.M7(g,0,4),a=l.raw.a1K;
for(var N=0;N<a.length;N++)if(a[N][0]==o&&C.startsWith(a[N][1])&&(a[N][2]==0||a[N][2]==g.length))return a[N];
throw"e"};l.raw.a1h=function(o){if(o.t29==null)return[];var g=l.raw.aos,C=l.raw.a6n,a=o.t29[0],x=0,h=0;
for(var N=0;N<a.length;N++){var K=a.charCodeAt(N);x=x*10+(48<=K&&K<=57?K-48:K%10)}var cO=o.t167[0];for(var N=0;
N<4;N++)h^=cO>>>(N<<3)&255;var X=g[x&255],w=C[h&255];return[X,w,96]};l.raw.a1X=function(o,g){var C=o["t"+g],cO=C.length,a=l.raw.arV(g,C),x=u.M7(C,0,4),K,h=a[4];
if(h==null)K=C.slice(4);else{K=new Uint8Array(cO-h);var X=l.raw.a1h(o),w=X[0],G=X[1],R=X[2];for(var N=0;
N<K.length;N++){G=G+w*R++&255;K[N]=C[h++]^G}}return[x,cO,K]};l.raw.a1K=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
l.raw.aos=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
l.raw.a6n=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
l.Jf={};l.Jf.Jf=function(o,g,C,a,x){if(a==null)a=3;if(x==null)x=!0;var K=o.m,h=o.n,X=1/K,w=K*h,G=Date.now(),R=!1,d=l.Jf.Ql(C,K,h,255,128),q=l.Jf.Ql(C,K,h,0,128),cH=0;
if(R)console.log("extract contours",Date.now()-G);G=Date.now();var m=function(jc,eQ){var j1=jc<<2,i7=eQ<<2;
return g[j1]+g[j1+1]+g[j1+2]-(g[i7]+g[i7+1]+g[i7+2])};d.sort(m);q.sort(m);var M=l.Z(w),Z=l.Z(w),Q=[],p=new Uint32Array(K*h);
p.fill(4294967295);for(var N=0;N<w;N++)if(C[N]==0)Z[N]=255;else if(C[N]==255)M[N]=255;else{p[N]=Q.length;
Q.push(N)}var y=d.length,V=q.length,W=Q.length;function v(jc,eQ,j1,i7){var fT=jc.length,hy=new Array(fT*2);
for(var N=0;N<fT;N++){var r=jc[N],E=~~(r*i7),k=r-E*j1,gD=r<<2;hy[N*2]=k<<16|E;hy[N*2+1]=eQ[gD]<<16|eQ[gD+1]<<8|eQ[gD+2]}return hy}var j=v(d,g,K,X),e=v(q,g,K,X),T=v(Q,g,K,X);
if(R)console.log("Itemize",Date.now()-G,"Unknown:",W,y,V);G=Date.now();var O=l.style.MQ(M,K,h,!0),L=l.style.MQ(Z,K,h,!0),S=new Array(W),$=new Array(W),H=new Array(W),f=new Array(W),F=new Array(W);
if(R)console.log("Dist transform",Date.now()-G);G=Date.now();var U=l.Jf.EQ;for(var N=0;N<W;N++){var r=Q[N],E=~~(r*X),k=r-E*K,P=O[r<<1],z=O[(r<<1)+1],s=Math.sqrt(P*P+z*z),Y=L[r<<1],t=L[(r<<1)+1],n=Math.sqrt(Y*Y+t*t);
S[N]=1/s;$[N]=1/n;var J=Math.floor(l.j.Pt(r*17)*y),I=Math.floor(l.j.Pt(r*19)*V);H[N]=J;f[N]=I;F[N]=U(T[N*2],T[N*2+1],j[J*2],j[J*2+1],e[I*2],e[I*2+1],S[N],$[N],1e9)}var fp=[-K-1,-K,-K+1,-1,1,K-1,K,K+1];
while(Math.floor(Math.max(y,V)*Math.pow(.5,cH))>1)cH++;for(var b=0;b<a;b++){var jL=0;for(var N=0;N<W;
N++){var r=Q[N],E=~~(r*X),k=r-E*K,aq=S[N],cJ=$[N],aB=T[N*2],au=T[N*2+1],ea=F[N],J=H[N],I=f[N],jE=1;if(E!=0&&k!=0&&k!=K-1&&E!=h-1)for(var ax=0;
ax<8;ax++){var f1=p[r+fp[ax]];if(f1==4294967295)continue;var fk=H[f1],hF=f[f1];if(fk==J&&hF==I)continue;
var fm=U(aB,au,j[fk*2],j[fk*2+1],e[hF*2],e[hF*2+1],aq,cJ,ea);if(fm<ea){ea=fm;J=fk;I=hF}}for(var ff=0;
ff<cH;ff++){var d5=~~(y*jE),eF=~~(V*jE);jE*=.5;var gI=l.j.Pt(r+b*17+ff*31),fE=l.j.Pt(r+b*29+ff*63),js=Math.max(0,J-d5),d8=Math.min(J+d5,y-1),bt=Math.max(0,I-eF),io=Math.min(I+eF,V-1),fk=js+~~(gI*(d8-js)),hF=bt+~~(fE*(io-bt)),fm=U(aB,au,j[fk*2],j[fk*2+1],e[hF*2],e[hF*2+1],aq,cJ,ea);
if(fm<ea){ea=fm;J=fk;I=hF}}F[N]=ea;H[N]=J;f[N]=I;jL+=ea}}if(R)console.log(jL);if(R)console.log("iterations",Date.now()-G);
G=Date.now();var ha=C.slice(0);for(var N=0;N<W;N++){var dp=l.Jf.alpha(T[N*2+1],j[H[N]*2+1],e[f[N]*2+1]);
ha[Q[N]]=~~(.5+255*dp)}ha=l.Ar.a57(ha,g,new aS(0,0,K,h),16,.01*.01);if(R)console.log("guided filter",Date.now()-G);
G=Date.now();if(x)for(var N=0;N<w;N++)if(C[N]==255||C[N]==0)ha[N]=C[N];var gS=g.slice(0);for(var N=0;
N<W;N++){var aP=Q[N],J=d[H[N]],ea=F[N],gD=aP<<2,fA=ha[aP],aM=(fA>=250?aP:J)<<2;gS[gD]=g[aM];gS[gD+1]=g[aM+1];
gS[gD+2]=g[aM+2]}l.Oa(ha,gS,3);if(R)console.log(Date.now()-G);G=Date.now();return gS};l.Jf.EQ=function(o,g,C,a,x,K,h,X,w){var G=o>>>16,R=o&65535,d=G-(C>>>16),q=R-(C&65535),m=G-(x>>>16),M=R-(x&65535),Z=Math.sqrt(d*d+q*q)*h,Q=Math.sqrt(m*m+M*M)*X;
if(Z+Q>=w)return 1e9;var p=l.Jf.aav(g,a,K);return p+Z+Q};l.Jf.aav=function(o,g,C){var a=o>>>16,x=o>>>8&255,K=o&255,h=g>>>16,X=g>>>8&255,w=g&255,G=C>>>16,R=C>>>8&255,d=C&255,q=l.Jf.alpha(o,g,C),m=a-(q*h+(1-q)*G),M=x-(q*X+(1-q)*R),Z=K-(q*w+(1-q)*d);
return Math.sqrt(m*m+M*M+Z*Z)};l.Jf.alpha=function(o,g,C){var a=o>>>16,x=o>>>8&255,K=o&255,h=g>>>16,X=g>>>8&255,w=g&255,G=C>>>16,R=C>>>8&255,d=C&255,q=h-G,m=X-R,M=w-d,Z=a-G,Q=x-R,p=K-d,y=q*q+m*m+M*M,V=y==0?.5:(Z*q+Q*m+p*M)/y;
return Math.max(0,Math.min(1,V))};l.Jf.a0r=function(o){};l.Jf.Ql=function(o,g,C,a,x){var K=[],h=g-1,X=C-1;
for(var w=1;w<X;w++)for(var G=1;G<h;G++){var N=w*g+G;if(o[N]==a&&(o[N-g-1]==x||o[N-g]==x||o[N-g+1]==x||(o[N-1]==x||o[N+1]==x)||(o[N+g-1]==x||o[N+g]==x||o[N+g+1]==x)))K.push(N)}return K};
l.Ar={};l.Ar.ajn=function(o,g,C,a,x){var K=C.m,h=C.n,X=K*h,w=l.Ar.KF,G=l.Z(X*4),R;l.th(G,4294967295);
var d=C,q=o,m=g,M=a;l.Oa(o,G,0);R=l.yZ(G,C);R=l.yZ(R.ab,R.rect);d=R.rect;M=a>>>2;console.log(d,M);q=l.Z(d.$());
l.eP(R.ab,q,0);l.Oa(g,G,0);R=l.yZ(G,C);R=l.yZ(R.ab,R.rect);m=l.Z(d.$());l.eP(R.ab,m,0);var Z=l.Ar.a99(q,m,d,M,x),Q=Z[0],p=Z[1],y=new aS(0,0,d.m*2,d.n*2);
Q=w(Q,d,y,!0);Q=w(Q,y,C,!0);p=w(p,d,y,!0);p=w(p,y,C,!0);var V=l.Z(X);for(var N=0;N<X;N++)V[N]=Math.max(0,Math.min(255,Math.floor(.5+(Q[N]*g[N]+255*p[N]))));
return V};l.Ar.KF=function(o,g,C,a){var x=C.m,K=C.n,h=g.m,X=g.n,w=l.Ar.Kq,G=new Float32Array(x*K);for(var R=0;
R<X;R++){var d=(R+R)*x;for(var q=0;q<h;q++){if(!0||q==0||R==0||q==h-1||R==X-1)G[d]=G[d+1]=G[d+x]=G[d+x+1]=o[R*h+q];
else{G[d]=w(q+.25,R+.25,o,h,X);G[d+1]=w(q+.75,R+.25,o,h,X);G[d+x]=w(q+.25,R+.75,o,h,X);G[d+x+1]=w(q+.75,R+.75,o,h,X)}d+=2}}return G};
l.Ar.Kq=function(o,g,C,a,x){o-=.499999;g-=.499999;var K=Math.floor(o),h=Math.floor(g),X=h*a+K,w=o-K,G=g-h,R=(1-G)*(1-w),d=(1-G)*w,q=G*(1-w),m=G*w;
if(C[X]==null||C[X+a+1]==null){console.log(o,g,a,x);throw"e"}return R*C[X+0]+d*C[X+1]+q*C[X+a+0]+m*C[X+a+1]};
l.Ar.a99=function(o,g,C,a,x){var K=C.m,h=C.n,X=K*h,w=l.Ar.Tw,G=l.Ar.Z,R=l.EB.GP,d=l.Ar.fm,g=w(g),o=w(o),q=G(X);
R(g,q,C,a);var m=G(X);R(o,m,C,a);var M=G(X);d(g,g,M);R(M,M,C,a);var Z=G(X);d(g,o,Z);R(Z,Z,C,a);var Q=G(X),p=G(X);
for(var N=0;N<X;N++){var y=q[N],V=m[N],W=M[N]-y*y,v=Z[N]-y*V,j=v/(W+x),e=V-j*y;Q[N]=j;p[N]=e}var T=G(X);
R(Q,T,C,a);var O=G(X);R(p,O,C,a);return[T,O]};l.Ar.a57=function(o,g,C,a,x){var K=C.m,h=C.n,X=K*h,w=l.Ar.KF,G=Date.now(),R=!1,d=C,q=o,m=g,M=a;
d=new aS(0,0,K>>>2,h>>>2);M=a>>>2;q=l.Ar.alx(o,K,h);m=l.Ar.a5a(g,K,h);if(R)console.log(Date.now()-G);
G=Date.now();var Z=l.Ar.ai9(q,m,d,M,x),Q=Z[0],p=Z[1],y=Z[2],V=Z[3];if(R)console.log(Date.now()-G);G=Date.now();
var W=l.Z(X);for(var v=0;v<h;v++)for(var j=0;j<K;j++){var N=v*K+j,e=(v>>>2)*(K>>>2)+(j>>>2),T=N<<2,O=Q[e]*g[T]+p[e]*g[T+1]+y[e]*g[T+2]+V[e]*255;
W[N]=Math.max(0,Math.min(255,~~(.5+O)))}if(R)console.log(Date.now()-G);G=Date.now();return W};l.Ar.alx=function(o,g,C){var a=g>>>2,x=C>>>2,K=l.Z(g*C);
for(var h=0;h<x;h++)for(var X=0;X<a;X++)K[h*a+X]=o[h*g+X<<2];return K};l.Ar.a5a=function(o,g,C){var a=g>>>2,x=C>>>2,K=l.Z(g*C*4);
for(var h=0;h<x;h++)for(var X=0;X<a;X++){var w=h*a+X<<2,G=h*g+X<<4;K[w]=o[G];K[w+1]=o[G+1];K[w+2]=o[G+2];
K[w+3]=o[G+3]}return K};l.Ar.ai9=function(o,g,C,a,x){var K=C.m,h=C.n,X=K*h,w=l.Ar.Tw,G=l.Ar.Z,R=l.EB.GP,d=l.Ar.fm,o=w(o),q=new l.ib(K*h);
l.NA(g,q);var g=[w(q.z),w(q.B),w(q.K)],m=l.Ar.atB(o,g,C,a,x),M=G(X);R(o,M,C,a);var Z=G(X);d(g[0],o,Z);
R(Z,Z,C,a);var Q=G(X);d(g[1],o,Q);R(Q,Q,C,a);var p=G(X);d(g[2],o,p);R(p,p,C,a);var y=G(X),V=G(X),W=G(X),v=G(X);
for(var N=0;N<X;N++){var j=M[N],e=m.uf[N],T=m._Y[N],O=m.LZ[N],L=Z[N]-e*j,S=Q[N]-T*j,$=p[N]-O*j;y[N]=m.als[N]*L+m.Z7[N]*S+m.xM[N]*$;
V[N]=m.Z7[N]*L+m.a4S[N]*S+m.$H[N]*$;W[N]=m.xM[N]*L+m.$H[N]*S+m.ao9[N]*$;v[N]=j-y[N]*e-V[N]*T-W[N]*O}R(y,y,C,a);
R(V,V,C,a);R(W,W,C,a);R(v,v,C,a);return[y,V,W,v]};l.Ar.atB=function(o,g,C,a,x){var K=C.m,h=C.n,X=K*h,w=l.Ar.Z,G=l.EB.GP,R=l.Ar.fm,d={};
d.uf=w(X);G(g[0],d.uf,C,a);d._Y=w(X);G(g[1],d._Y,C,a);d.LZ=w(X);G(g[2],d.LZ,C,a);var q=w(X);R(g[0],g[0],q);
G(q,q,C,a);var m=w(X);R(g[0],g[1],m);G(m,m,C,a);var M=w(X);R(g[0],g[2],M);G(M,M,C,a);var Z=w(X);R(g[1],g[1],Z);
G(Z,Z,C,a);var Q=w(X);R(g[1],g[2],Q);G(Q,Q,C,a);var p=w(X);R(g[2],g[2],p);G(p,p,C,a);d.als=q;d.Z7=m;
d.xM=M;d.a4S=Z;d.$H=Q;d.ao9=p;for(var N=0;N<X;N++){var y=d.uf[N],V=d._Y[N],W=d.LZ[N],v=q[N]-y*y+x,j=m[N]-y*V,e=M[N]-y*W,T=Z[N]-V*V+x,O=Q[N]-V*W,L=p[N]-W*W+x,S=T*L-O*O,$=O*e-j*L,H=j*O-T*e,f=v*L-e*e,F=e*j-v*O,U=v*T-j*j,r=S*v+$*j+H*e,E=1/r;
d.als[N]=S*E;d.Z7[N]=$*E;d.xM[N]=H*E;d.a4S[N]=f*E;d.$H[N]=F*E;d.ao9[N]=U*E}return d};l.Ar.Z=function(o){return new Float32Array(o)};
l.Ar.Tw=function(o){var g=o.length,C=new Float32Array(g);for(var N=0;N<g;N++)C[N]=o[N]*(1/255);return C};
l.Ar.fm=function(o,g,C){for(var N=0;N<o.length;N++)C[N]=o[N]*g[N]};l.LG={};l.LG.qE=function(o,g,C,a){var x=o[g]-C[a],K=o[g+1]-C[a+1],h=o[g+2]-C[a+2];
return Math.sqrt(x*x+K*K+h*h)*(1/441.7)};l.LG.getSelection=function(o,g,C){var a=g*C,x=l.Z(a),K=!1,h=Math.round(C*.7),X=1,w=new Uint32Array(12),G=l.Z(12);
for(var R=0;R<h;R++)for(var d=0;d<g;d++){if(d<X||R<X||d>g-X-1||R>C-X-1){var N=R*g+d,q=N<<2,m=0;if(R<X)m=4;
else if(d>g-X-1)m=8;w[m]+=o[q];w[m+1]+=o[q+1];w[m+2]+=o[q+2];w[m+3]++;x[N]=255}}for(var N=0;N<12;N+=4)for(var M=0;
M<3;M++)G[N+M]=w[N+M]/w[N+3];var Z=new Float32Array(a);for(var N=0;N<a;N++){var q=N*4,Q=l.LG.qE(o,q,G,0),p=l.LG.qE(o,q,G,4),y=l.LG.qE(o,q,G,8),V=Math.max(Q,Math.max(p,y));
Z[N]=Q+p+y-V}l.LG.ZX(Z);var W=Date.now(),v=new Float32Array(a),j=[],e=l.Z(a);for(var N=0;N<3;N++){l.eP(o,e,N);
var T=new Uint16Array(a);j.push(T);l.LG.aby(e,x,g,C,T)}if(K)console.log("MBD",Date.now()-W);W=Date.now();
for(var N=0;N<a;N++)v[N]=j[0][N]+j[1][N]+j[2][N];l.LG.ZX(v);for(var N=0;N<a;N++)v[N]+=.4*Z[N];var O=g>>>1,h=C>>>1,L=1/Math.sqrt(O*O+h*h);
for(var R=0;R<C;R++)for(var d=0;d<g;d++){var S=d-O,$=R-h,H=1-Math.sqrt(S*S+$*$)*L;v[R*g+d]*=H}if(K)console.log("Centeredness",Date.now()-W);
W=Date.now();for(var N=0;N<a;N++)x[N]=v[N]*255;var f=Math.round(g/120),F=Math.round(f*.8);if(K)console.log(f,F);
l.Go.mg(x,e,g,C,f,l.Go.nL,[]);x.set(e);if(K)console.log("erosion",Date.now()-W);W=Date.now();for(var N=0;
N<a;N++)v[N]=x[N];l.LG.ZX(v);var U=l.Z(256);for(var N=0;N<256;N++)U[N]=256/(1+Math.exp(-20*(N/255-.5)));
for(var N=0;N<a;N++){var r=~~(v[N]*255+.5);x[N]=U[r]}if(K)console.log("Simoid",Date.now()-W);W=Date.now();
return x};l.LG.ZX=function(o){var g=o.length,C=0;for(var N=0;N<g;N++)C=Math.max(C,o[N]);var a=1/C;for(var N=0;
N<g;N++)o[N]=o[N]*a};l.LG.aby=function(o,g,C,a,x){var K=C*a,h=o.slice(0),X=o.slice(0);for(var N=0;N<K;
N++)x[N]=g[N]==255?0:65535;l.LG.eZ(o,X,h,x,C,a);l.LG.MP(o,X,h,x,C,a);l.LG.eZ(o,X,h,x,C,a);l.LG.MP(o,X,h,x,C,a);
return x};l.LG.eZ=function(o,g,C,a,x,K){for(var h=1;h<x;h++)l.LG.zZ(h,-1,o,g,C,a);for(var X=1;X<K;X++){l.LG.zZ(X*x,-x,o,g,C,a);
for(var h=1;h<x;h++){var N=X*x+h;l.LG.zZ(N,-1,o,g,C,a);l.LG.zZ(N,-x,o,g,C,a)}}};l.LG.MP=function(o,g,C,a,x,K){for(var h=x-2;
h>=0;h--)l.LG.zZ(x*K-x+h,1,o,g,C,a);for(var X=K-2;X>=0;X--){l.LG.zZ(X*x+x-1,x,o,g,C,a);for(var h=x-2;
h>=0;h--){var N=X*x+h;l.LG.zZ(N,1,o,g,C,a);l.LG.zZ(N,x,o,g,C,a)}}};l.LG.zZ=function(N,o,g,C,a,x){var K=N+o,h=g[N],X=C[K],w=a[K];
if(X<h)X=h;else if(h<w)w=h;var G=X-w;if(x[K]!=65535&&G<x[N]){x[N]=G;C[N]=X;a[N]=w}};l.O2={};l.O2.filter=function(o,g,C,a){var x=g.m,K=g.n,h=x*K,X=a[0],w=a[1],G=a[2],R=a[3],d=a[4],q=a[5],m=a[6],M=Date.now(),Z=new Float32Array(x*K*4);
l.O2.a5B(o,x,K,Z);var Q=Math.ceil(X*Math.sqrt(-2*Math.log(.1))),p=new ArrayBuffer(h*4),y=new Float32Array(p),V=new Float32Array(h),W=new Float32Array(h);
for(var N=0;N<h;N++){var v=N*4;y[N]=Z[v];V[N]=Z[v+1];W[N]=Z[v+2]}l.EB.D8(y,y,g,Q*1/2.4,2);l.EB.D8(V,V,g,Q*1/2.4,2);
l.EB.D8(W,W,g,Q*1/2.4,2);for(var N=0;N<h;N++){var v=N*4;Z[v]=y[N];Z[v+1]=V[N];Z[v+2]=W[N]}var j=new Uint8Array(p);
for(var N=0;N<h;N++){var v=N*4,e=N*4,y=Z[v],V=Z[v+1],W=Z[v+2],T=Math.sqrt((y-W)*(y-W)+4*V*V),O=(y+W+T)*.5,L=(y+W-T)*.5,S=L-W,$=V,H=S*S+$*$;
if(H!=0){var f=Math.sqrt(H),F=1/f;S*=F;$*=F}j[e]=128+127*S;j[e+1]=128+127*$}var U=1.3*w+2,r=R*(2/10),E=o.slice();
if(i.LH){var k=new Float32Array([1/x,1/K]),P=i.Jn(0,x,K);P.set(E);var z=i.Jn(1,x,K);z.set(j);i.CG(P,g);
if(d){P.RO(g);i.filter.kH({type:i.filter.ac4,cM:k,adV:1/G,a8e:r},P.R6)}P.RO(g);i.filter.kH({type:i.filter.Fv,tV:z.Rb,cM:k,aub:U,ajN:2},P.R6);
if(d){P.RO(g);i.filter.kH({type:i.filter.aqZ,cM:k,aoc:new Float32Array(m),aur:q},P.R6)}P.get(C)}else{if(d)l.O2.ea(1/G,r,E,x,K);
l.O2.Fv(E,C,j,x,K,U);if(d)l.O2.a58(x,K,C,m,q)}var s=h*4;for(var N=3;N<s;N+=4)C[N]=o[N]};l.O2.Fv=function(o,g,C,a,x,K){var h=Math.ceil(2*K),X=-1/(2*K*K),w=[],G=1;
for(var N=0;N<h+20;N++)w[N]=Math.exp(N*N*X);var R=[0,0,0,0];for(var d=0;d<x;d++){for(var q=0;q<a;q++){var m=d*a+q,M=m*4,Z=1,Q=o[M],p=o[M+1],y=o[M+2],V=o[M+3],W=(C[M]-128)*(1/127),v=(C[M+1]-128)*(1/127),j=W,e=v,T=q==0?.51:.49,O=d==0?.51:.49;
for(var N=0;N<2;N++){var L=q+T,S=d+O,$=0;while($<h){if(L<.5||a-.5<L||S<.5||x-.5<S)break;var H=~~L,f=~~S,F=f*a+H,U=F*4,r=(C[U]-128)*(1/127),E=(C[U+1]-128)*(1/127);
if(r*j+E*e<0){r=-r;E=-E}j=r;e=E;L+=G*r;S+=G*E;if(L<.5||a-.5<L||S<.5||x-.5<S)break;var k=~~L,P=~~S,z=P*a+k<<2;
$+=G;var s=w[~~$];l.S.fN(L,S,o,a,x,R);Q+=R[0]*s;p+=R[1]*s;y+=R[2]*s;V+=R[3]*s;Z+=s}j=-W;e=-v}var Y=1/Z;
g[M]=~~(.5+Q*Y);g[M+1]=~~(.5+p*Y);g[M+2]=~~(.5+y*Y);g[M+3]=~~(.5+V*Y)}}};l.O2.a58=function(o,g,C,a,x){for(var K=0;
K<g;K++)for(var h=0;h<o;h++){var X=K*o+h<<2,w=1+l.O2.amo(h,K,C,o,g,a)*x;C[X]=Math.max(0,Math.min(255,C[X]*w));
C[X+1]=Math.max(0,Math.min(255,C[X+1]*w));C[X+2]=Math.max(0,Math.min(255,C[X+2]*w))}};l.O2.amo=function(o,g,C,a,x,K){var h=C[(g*a+Math.max(0,o-1))*4+3],X=C[(g*a+Math.min(a-1,o+1))*4+3],w=C[(Math.max(0,g-1)*a+o)*4+3],G=C[(Math.min(x-1,g+1)*a+o)*4+3],R=.7,d=(X-h)*(1/255),q=.7,m=(G-w)*(1/255),M=-d*q,Z=-R*m,Q=R*q,p=Math.sqrt(M*M+Z*Z+Q*Q),y=1/p,V=M*y,W=Z*y,v=Q*y,j=K[0]*V+K[1]*W+K[2]*v;
return j};l.O2.ea=function(o,g,C,a,x){function K(X,G,R){return Math.max(G,Math.min(R,X))}for(var h=0;
h<x;h++)for(var X=0;X<a;X++){var w=l.O2.arB(X+.5,h+.5,o,g);C[(h*a+X)*4+3]=Math.max(0,Math.min(255,w*255))}};
l.O2.arB=function(o,g,C,a){function x(e,T,O){return(1-O)*e+O*T}var K=(o+613)*C,h=(g+117)*C,X=~~K,w=~~h,G=K-X,R=h-w,d=Math.sin(11),q=Math.cos(X)*d,m=Math.cos(X+1)*d,M=Math.cos(w)*d,Z=Math.cos(w+1)*d,ee=l.O2.hash(q,M),Q=l.O2.hash(m,M),p=l.O2.hash(q,Z),y=l.O2.hash(m,Z),V=x(ee,Q,G),W=x(p,y,G),v=x(V,W,R);
v=v<.5?0:1;var j=v+a*l.O2.hash(Math.cos(K)*d,Math.cos(h)*d);return j*(1/3)};l.O2.hash=function(o,g){var C=Math.sin(o*11.697096+g*73.32456)*12157.47691;
return C-Math.floor(C)};l.O2.a5B=function(o,g,C,a){var x=[-1,0,1,-2,0,2,-1,0,1],K=[-1,-2,-1,0,0,0,1,2,1],h=g-1,X=C-1,w=g*4;
for(var G=1;G<X;G++)for(var R=1;R<h;R++){var N=G*g+R,d=N*4,q=l.O2.jR(o,d,w,x),m=l.O2.jR(o,d,w,K),M=l.O2.jR(o,d+1,w,x),Z=l.O2.jR(o,d+1,w,K),Q=l.O2.jR(o,d+2,w,x),p=l.O2.jR(o,d+2,w,K);
a[d]=q*q+M*M+Q*Q;a[d+1]=q*m+M*Z+Q*p;a[d+2]=m*m+Z*Z+p*p}l.O2.agT(a,g,C)};l.O2.jR=function(o,g,C,a){return o[g-C-4]*a[0]+o[g-C]*a[1]+o[g-C+4]*a[2]+o[g-4]*a[3]+o[g]*a[4]+o[g+4]*a[5]+o[g+C-4]*a[6]+o[g+C]*a[7]+o[g+C+4]*a[8]};
l.O2.agT=function(o,g,C){function a(w,N,G){var R=N*4,d=G*4;w[d]=w[R];w[d+1]=w[R+1];w[d+2]=w[R+2]}var x=g-1,K=C-1;
a(o,g+1,0);a(o,2*g-2,g-1);for(var h=1;h<x;h++)a(o,g+h,h);for(var X=1;X<K;X++){a(o,X*g+1,X*g);a(o,X*g+g-2,X*g+g-1)}for(var h=1;
h<x;h++)a(o,(C-2)*g+h,(C-1)*g+h);a(o,(X-2)*g+1,(X-1)*g);a(o,(X-1)*g-2,X*g-1)};l.Hq=function(){function o(G,R,d,q){var m=new Float32Array(G*G),M=G/2;
for(var Z=0;Z<G;Z++)for(var Q=0;Q<G;Q++){var p=Q+d-M,y=Z+q-M;m[Z*G+Q]=Math.max(0,Math.min(1,R+.5-Math.sqrt(p*p+y*y)))}return m}var g=[],a=null;
function C(G,R,d,q){var m=Math.floor(R*10),M=g[m],Z=G*8,Q=Z>>>1;if(M==null){M=g[m]=[];var p=new aS(0,0,Z,Z),y=G/2/(1+.2*R),V=Math.floor(G*m*.1);
for(var W=0;W<2;W++)for(var v=0;v<2;v++){var j=o(Z,y,.25+v*.5,.25+W*.5),e=0;l.EB.D8(j,j,p,V);while(j[Z*Q+e]<.005)e++;
if(e!=0)e--;var T=2*(Q-e),O=new aS(e,e,T,T),L=new Float32Array(T*T);for(var S=0;S<T;S++)for(var $=0;
$<T;$++)L[S*T+$]=j[(e+S)*Z+e+$];M.push([L,O])}}var H=Math.floor(d),f=Math.floor(q),F=d-H,U=q-f,r=F<.5?1:0,E=U<.5?1:0;
M=M[E*2+r];var O=M[1].clone();O.x+=H-Q;O.y+=f-Q;return[M[0],O]}function x(G,R,d){if(a==null){a=new Uint8Array(4e4);
for(var N=0;N<4e4;N++)a[N]=Math.min(255,~~(.5+255*l.RA(N*(1/255))))}var q=G.length;for(var N=0;N<q;N++){var m=G[N],M=~~(255*m);
R[N]=a[M]<<24|d}}function K(G,R,d,q,m){var M=R.Kw(q),Z=Math.max(0,M.x-R.x),Q=Math.max(0,M.x-q.x),p=Math.max(0,M.y-R.y),y=Math.max(0,M.y-q.y),V=M.m,W=M.n;
for(var N=0;N<W;N++){var v=(p+N)*R.m+Z,j=(y+N)*q.m+Q;for(var e=0;e<V;e++){d[j+e]+=m*G[v+e]}}}var h=-1;
function X(G,R,d,q,m){var M=Math.round(q[1]*R*d*.01),Z=q[2],Q=q[3],p=q[4],y=q[5],V=q[6],W=q[7],v=q[8],j=q[9],e=q[10]?q[10]:1,s=!1;
if(Z!=h){g=[];h=Z}var T=Date.now(),O=new aS(0,0,R,d),L=new w(q[0]);if(m)G.fill(0);var S=new Float32Array(m?G.buffer:R*d);
for(var N=0;N<M;N++){var $=L.get()*R,H=L.get()*d,f=L.get()*Q,F=L.get()*Z*4,U=(L.get()+V)*Math.PI*2,r=L.get()*Z*4,E=(L.get()+2*V)*Math.PI*2;
$+=j*(F*Math.cos(U)+r*Math.cos(E));H+=j*(F*Math.sin(U)+r*Math.sin(E));if(v)H=H+V*d*e;var k=C(Z,f,$,H%d),P=p,z=L.get();
if(W)P=.5+.5*p*(.5+.5*Math.sin((2*V+z)*2*Math.PI));K(k[0],k[1],S,O,P)}if(s)console.log(Date.now()-T,"add floats");
T=Date.now();var Y=new Uint8Array(S.buffer);x(S,new Uint32Array(Y.buffer),y.K<<16|y.B<<8|y.z);if(s)console.log(Date.now()-T,"toInt");
T=Date.now();if(!m){l.j.Ly("scrn",Y,O,G,O,O,1);if(s)console.log(Date.now()-T,"blendOver")}}function w(G){this.wK=123456789;
this.z$=987654321;this.d=4294967295;this.JO(G)}w.prototype.JO=function(N){this.wK=123456789+N&this.d;
this.z$=987654321-N&this.d};w.prototype.get=function(){this.z$=36969*(this.z$&65535)+(this.z$>>16)&this.d;
this.wK=18e3*(this.wK&65535)+(this.wK>>16)&this.d;var G=(this.z$<<16)+(this.wK&65535)>>>0;G/=4294967296;
return G};return{hj:X}}();l.dd={};l.dd.Zz=function(o,g,C,a){var x=o[g*2],K=o[g*2+1],h=o[C*2],X=o[C*2+1],w=o[a*2],G=o[a*2+1];
return x*X+h*G+w*K-w*X-h*K-x*G};l.dd.iS=function(o,g){var C=[],a=[],x=[],K={};for(var N=0;N<g.length;
N+=3){var h=~~(N*(1/3)),X=g[N+0],w=g[N+1],G=g[N+2],R=l.dd.Zz(o,X,w,G);if(R>0){var d=w;w=G;G=d}var q=K[G+"-"+w],M=K[w+"-"+X],Z=K[X+"-"+G],Q=[G,q,h,null],p=[w,M,h,Q],y=[X,Z,h,p];
Q[3]=y;if(q)q[1]=Q;if(M)M[1]=p;if(Z)Z[1]=y;K[G+"-"+X]=y;K[X+"-"+w]=p;K[w+"-"+G]=Q;C[X]=p;x[N]=p;C[w]=Q;
x[N+1]=Q;C[G]=y;x[N+2]=y;a[h]=p}return{FD:C,xF:a,Qt:x}};l.dd.ae7=function(o){var g=[],C=o.xF;for(var N=0;
N<C.length;N++){var a=C[N];g.push(a[0]);a=a[3];g.push(a[0]);a=a[3];g.push(a[0])}return g};l.dd.a5w=function(o,g,C,a){var x=o[g*2],K=o[g*2+1],h=o[C*2],X=o[C*2+1],w=o[a*2],G=o[a*2+1],R=h-x,d=X-K,q=w-x,m=G-K,M=R*(x+h)+d*(K+X),Z=q*(x+w)+m*(K+G),Q=2*(R*(G-X)-d*(w-h));
if(Math.abs(Q)<1e-5){var p=Math.min(x,h,w),y=Math.min(K,X,G),V=(Math.max(x,h,w)-p)*.5,W=(Math.max(K,X,G)-y)*.5;
return[p+V,y+W,V*V+W*W,1]}var v=(m*M-d*Z)/Q,j=(R*Z-q*M)/Q,V=v-x,W=j-K;return[v,j,V*V+W*W,0]};l.dd.ahR=function(o,g,C){var a=C[1],x=C[3],K=x[3],h=a[3],X=h[3],w=C[2],G=a[2],R=C[0],d=a[0],q=x[0],m=h[0],M=l.dd.a5w(o,d,m,q),Z=o[R*2]-M[0],Q=o[R*2+1]-M[1],p=Z*Z+Q*Q>M[2]&&M[3]==0&&l.dd.Zz(o,m,R,q)<0&&l.dd.Zz(o,q,d,m)<0;
if(p){C[0]=q;a[0]=m;C[3]=K;K[3]=h;h[3]=C;a[3]=X;X[3]=x;x[3]=a;x[2]=G;h[2]=w;g.xF[G]=X;g.xF[w]=K;g.FD[d]=h;
g.FD[R]=x}return p};l.dd.a7D=function(o,g,C){var a=o[g*2]-o[C*2],x=o[g*2+1]-o[C*2+1];return Math.sqrt(a*a+x*x)};
l.dd.a2V=function(o,g,C){var a=C[1],x=C[3],K=x[3],h,X,w=C[2],G,R=C[0],d=K[0],q=x[0],m;if(a){h=a[3];X=h[3];
G=a[2];m=h[0]}var M=o.length>>>1;o[2*M]=(o[2*d]+o[2*R])*.5;o[2*M+1]=(o[2*d+1]+o[2*R+1])*.5;if(!0){var Z=w,Q=C,p=g.xF.length,y=[M,null,Z,Q],V=[q,y,p,K];
y[1]=V;var W=[M,null,p,V];x[3]=y;K[3]=W;K[2]=p;g.xF[Z]=x;g.xF[p]=W;g.FD[R]=x;g.FD[q]=K;g.Qt.push(y,V,W)}if(a){var v=G,j=a,e=p+1;
W[1]=j,j[1]=W;var T=[M,null,v,j],O=[m,T,e,X];T[1]=O;var L=[M,Q,e,O];Q[1]=L;h[3]=T;X[3]=L;X[2]=e;g.xF[v]=h;
g.xF[e]=X;g.FD[d]=h;g.FD[m]=X;g.Qt.push(T,O,L)}g.FD[M]=Q};l.dd.yl=function(o,g){var C=0;while(!0){var a=C;
for(var N=0;N<g.Qt.length;N++){var x=g.Qt[N];if(x[1]==null)continue;var h=l.dd.ahR(o,g,x);if(h){C++;
break}}if(a==C)break}return C!=0};l.dd.a7j=function(o,g,C,a){var x=0;for(var N=0;N<a;N++){var K=null,h=0;
for(var X=0;X<g.Qt.length;X++){var w=g.Qt[X],G=l.dd.a7D(o,w[0],w[3][3][0])*(w[1]?1:2);if(G>h){K=w;h=G}}if(h>C){l.dd.a2V(o,g,K);
x++}}return x!=0};l.dd.axD=function(o,g){var C=[],m=0;for(var N=0;N<o.length;N++)C.push(0);for(var N=0;
N<g.Qt.length;N++){var a=g.Qt[N],x=a[0],h=a[3][3][0],X=o[x*2],w=o[x*2+1],G=o[h*2],R=o[h*2+1],d=X-G,q=w-R;
C[x*2]+=-d;C[x*2+1]+=-q;C[h*2]+=d;C[h*2+1]+=q}for(var N=0;N<o.length;N+=2){var M=N>>>1,Z=g.FD[M],a=Z,Q=!0;
do{if(a[1]==null){Q=!1;break}a=a[1][3]}while(a!=Z);if(Q){var p=.02;o[N]+=p*C[N];o[N+1]+=p*C[N+1];m+=p*(C[N]*C[N]+C[N+1]*C[N+1])}}return m};
l.dd.a0$=function(o,g,C){var a=l.o.TO(o),x=l.dd.iS(o,g);l.dd.yl(o,x);for(var K=0;K<300;K++){var h=!1,X=!1;
h=l.dd.a7j(o,x,C,5);if(h)X=l.dd.yl(o,x);var w=l.dd.axD(o,x);if(!h&&!X&&w<1e-4){break}}return l.dd.ae7(x)};
l.ez={};l.ez.os=function(o){var g=o.bW,C=o.L3,a=o.Wn,x=o.V3,K=o.Vy,h=o.YI,X=o.R8,w=l.t_.BL,y,V,W=0;function G(ee){var jL=new Array(ee);
for(var N=0;N<ee;N++)jL[N]=0;return jL}var R=C.length>>>1,d=G(g.q0*2),q=G(g.q0),m=G(g.q0),M=Date.now();
for(var N=0;N<o.fe.length;N++){var Z=g.a2H+N,Q=g.MI*(h[N*2]+X[N*2]),p=g.MI*(h[N*2+1]+X[N*2+1]);d[Z*2]=Q;
d[Z*2+1]=p;q[Z]=Q;m[Z]=p}g.a04.vX(x,g.atV.BL(d),.01,y,V);for(var N=0;N<g.adP.Qt.length;N++){var v=g.adP.Qt[N],j=v[3][3][0],e=v[0],T=v[3][0],O=v[1]?v[1][3][0]:T;
if(v[1]&&j>e)continue;var L=C[j*2],S=C[j*2+1],$=C[e*2],H=C[e*2+1],f=x[j*2],F=x[j*2+1],U=x[e*2],r=x[e*2+1],E=x[T*2],k=x[T*2+1],P=x[O*2],z=x[O*2+1],s=[f,F,U,r,E,k];
if(v[1])s.push(P,z);var Y=w(g.a6k[W],s),t=Y[0],n=Y[1],J=1/Math.sqrt(t*t+n*n);t*=J;n*=J;var I=$-L,fp=H-S;
q[W]=t*I+n*fp;m[W]=-n*I+t*fp;W++}var cH=new Array(R),b=new Array(R);for(var N=0;N<R;N++){cH[N]=K[N*2];
b[N]=K[N*2+1]}g.awI.vX(cH,g.ard.BL(q),.5);g.awI.vX(b,g.ard.BL(m),.5);for(var N=0;N<R;N++){K[N*2]=cH[N];
K[N*2+1]=b[N]}};l.ez.Mo=function(o){var g=o.L3,C=o.Wn,a=o.fe,x=l.t_.multiply,K=Date.now(),h=l.dd.iS(g,C),X=g.length>>>1,w=0,M=0,n=1e3;
for(var N=0;N<h.Qt.length;N++)w+=h.Qt[N][1]?.5:1;var G=w+a.length,R=[],d=new l.kn(G*2,X*2),q=new l.kn(G,X),m=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],Z=[],Q=[];
for(var N=0;N<h.Qt.length;N++){var p=h.Qt[N],y=p[3][3][0],V=p[0],W=p[3][0],v=p[1]?p[1][3][0]:W;if(p[1]&&y>V)continue;
var j=g[y*2],e=g[y*2+1],T=g[V*2],O=g[V*2+1],L=g[W*2],S=g[W*2+1],$=g[v*2],H=g[v*2+1],f=[[j,e,1,0],[e,-j,0,1],[T,O,1,0],[O,-T,0,1],[L,S,1,0],[S,-L,0,1]];
if(p[1])f.push([$,H,1,0],[H,-$,0,1]);var F=l.t_.W8(f),U=x(linear.invert(x(F,f)),F);U.pop();U.pop();R.push(U);
var r=T-j,E=O-e,k=m[p[1]?1:0];k=l.t_.fK(k,x([[r,E],[E,-r]],U));var P=[y*2,y*2+1,V*2,V*2+1,W*2,W*2+1,v*2,v*2+1],z=p[1]?8:6,s=[];
for(var Y=0;Y<z;Y++)s.push([P[Y],k[0][Y],k[1][Y]]);s.sort(function(jL,aq){return jL[0]-aq[0]});for(var t=0;
t<2;t++){for(var Y=0;Y<z;Y++){Z[Y]=s[Y][0];Q[Y]=s[Y][1+t]}d.bm(Q,Z,z)}if(y<V)q.bm([-1,1],[y,V],2);else q.bm([1,-1],[V,y],2);
M++}for(var N=0;N<a.length;N++){var J=a[N];d.bm([n],[J*2],1);d.bm([n],[J*2+1],1);q.bm([n],[J],1)}var I=d.W8(),fp=I.$D(I),cH=q.W8(),b=cH.$D(cH);
return{a2H:w,q0:G,atV:I,a04:fp,ard:cH,awI:b,adP:h,a6k:R,MI:n}};l.ez.a1s=function(o,g,C,a,x){var K=new aS(0,0,g,C),h=l.Z(K.$());
l.eP(o,h,3);l.round(h,70);var X=l.Wx(h,K),w=[.1,.065,.035][a]*Math.max(X.m,X.n),G=x+1,R=g+G*2,d=C+G*2,q=new aS(-G,-G,R,d),m=l.Z(q.$());
l.MD(h,K,m,q);var M=m.slice(0);for(var Z=0;Z<x;Z++){for(var Q=1;Q<d-1;Q++){for(var p=1;p<R-1;p++){var N=Q*R+p;
M[N]=m[N-R]|m[N-1]|m[N]|m[N+1]|m[N+R]}}var y=M;M=m;m=y}var V=h1.mZ(m,R,d,Math.round(X.$()*5e-4)),W=h1.DE(V),v=new kp(1,0,0,1,-G,-G);
for(var N=0;N<W.length;N++){var j=W[N];l.o.D(j.path.w,v,j.path.w);j.L3=l.ez.a0q(j.path);j.Wn=l.o.ahH(j.L3);
j.Wn=l.dd.a0$(j.L3,j.Wn,w)}return W};l.ez.a0q=function(o){var g=[],C=o.w,a=o.G.length-1,x=0,K=0;for(var h=0;
h<a;h++){var N=h*6,X=C[N+6]-C[N+0],w=C[N+7]-C[N+1],G=Math.ceil(Math.sqrt(X*X+w*w));for(var R=0;R<G;R++){var d=R/G,q=1-d,m=q*q*q*C[N+0]+3*q*q*d*C[N+2]+3*q*d*d*C[N+4]+d*d*d*C[N+6],M=q*q*q*C[N+1]+3*q*q*d*C[N+3]+3*q*d*d*C[N+5]+d*d*d*C[N+7];
g.push(m,M);x=m;K=M}}g=l.o.dl(g,1);var Z=[],Q=g.length;for(var N=0;N<Q;N+=2){var M=g.pop(),m=g.pop();
Z.push(m,M)}return Z};l.ez.acH=function(o,g,C,a){function x(T,O,L,S,$){var H=$[T*2]-$[O*2],f=$[T*2+1]-$[O*2+1],F=Math.sqrt(H*H+f*f);
if(L[T].indexOf(O)==-1){L[T].push(O);S[T].push(F)}if(L[O].indexOf(T)==-1){L[O].push(T);S[O].push(F)}}var K=o.length>>>1,h=new Array(K);
if(C.length==0){h.fill(0);return h}var X=new Array(K),w=new Array(K);for(var N=0;N<K;N++){X[N]=[];w[N]=[]}for(var N=0;
N<g.length;N+=3){x(g[N],g[N+1],X,w,o);x(g[N],g[N+2],X,w,o);x(g[N+1],g[N+2],X,w,o)}var G=new Float64Array(K*2),R=new Uint32Array(K*2);
G.fill(1e9);var d=new Uint8Array(K);for(var q=0;q<C.length;q++){d.fill(0);var m=["---",[0,C[q]]];while(m.length!=1){var M=l.aV.g3(m),Z=M[0],Q=M[1];
if(d[Q]==1)continue;var p=Q<<1;if(Z<G[p]){G[p+1]=G[p];R[p+1]=R[p];G[p]=Z;R[p]=q}else if(Z<G[p+1]){G[p+1]=Z;
R[p+1]=q}d[Q]=1;var y=X[Q],V=w[Q];for(var N=0;N<y.length;N++){var W=y[N];if(d[W]!=1){l.aV.Gz(m,[Z+V[N],W])}}}}for(var N=0;
N<K;N++){var p=N<<1,v=G[p],j=G[p+1],e=1/(v+j);h[N]=(1-v*e)*a[R[p]]+(1-j*e)*a[R[p+1]]}return h};l.ez.a4Y=function(o){var g={G:[],w:[]},C=[o];
while(C.length!=0){var a=C.pop(),x=a.oD;if(a.at2 instanceof Array||a.afO instanceof Array){g.G.push("M","L","L","L","Z");
g.w.push(x[0],x[1],x[2],x[1],x[2],x[3],x[0],x[3])}else C.push(a.at2,a.afO)}return g};l.ez.Sj=function(o,g,C,a,x,K,h,X,w,G){var R=Math.round(G.length/3),d=new Array(R);
for(var N=0;N<R;N++)d[N]=N;d.sort(function(m,M){return w[G[m*3]]-w[G[M*3]]});for(var N=0;N<R;N++){var q=d[N]*3;
l.ez.aov(G[q]*2,G[q+1]*2,G[q+2]*2,h,X,o,g,C,a,x,K)}};l.ez.aov=function(o,g,C,a,x,K,h,X,w,G,R){var d=l.ez.n1,q=[o,g,C,1.2,1.2,1.2,0],m=[0,0,0,0],M=x[o],Z=x[o+1],Q=x[g],p=x[g+1],y=x[C],V=x[C+1],W=Math.max(0,Math.min(h-1,a[o])),v=Math.max(0,Math.min(h-1,a[g])),j=Math.max(0,Math.min(h-1,a[C])),e=Math.max(0,Math.min(X-1,a[o+1])),T=Math.max(0,Math.min(X-1,a[g+1])),O=Math.max(0,Math.min(X-1,a[C+1])),L=Q-M,S=p-Z,$=y-M,H=V-Z,f=1/(L*H-$*S+1e-9),F=Math.max(0,Math.floor(Math.min(M,Q,y))),U=Math.min(G,Math.ceil(Math.max(M,Q,y))),r=Math.max(0,Math.floor(Math.min(Z,p,V))),E=Math.min(R,Math.ceil(Math.max(Z,p,V)));
for(var k=r;k<E;k++)for(var P=F;P<U;P++){var z=P+.5-M,s=k+.5-Z,Y=(z*H-$*s)*f,t=(L*s-z*S)*f;if(Y>=0&&t>=0&&Y+t<=1){var n=1-Y-t,J=W*n+v*Y+j*t,I=e*n+T*Y+O*t;
l.S.fN(J,I,K,h,X,m);l.ez.ax4(m,w,k*G+P<<2)}}};l.ez.ax4=function(o,g,C){var a=g[C],x=g[C+1],K=g[C+2],h=g[C+3],X=1-o[3]*(1/255);
g[C]=~~(.5+o[0]+a*X);g[C+1]=~~(.5+o[1]+x*X);g[C+2]=~~(.5+o[2]+K*X);g[C+3]=~~(.5+o[3]+h*X)};l.ez.n1=function(){var o=function(C,a,x,K){var h=K[0],X=K[1],w=K[2],G=C[h+0],R=C[h+1],d=C[X+0],q=C[X+1],m=C[w+0],M=C[w+1],Z=d-G,Q=q-R,p=m-G,y=M-R,V=a-G,W=x-R,v=Z*y-p*Q,j=1/(v+1e-9),e=(V*y-p*W)*j,T=(Z*W-V*Q)*j;
if(e>=0&&T>=0&&e+T<=1){K[3]=1-e-T;K[4]=e;K[5]=T;return 1}return 0},g=function(C,a,x,K){var h=[0,0,0,0,0,0];
for(var N=0;N<a.length;N+=3){h[0]=a[N]*2;h[1]=a[N+1]*2;h[2]=a[N+2]*2;if(o(C,x,K,h)==1)return!0}return!1};
return{abH:o,a8T:g}}();l.K4={};l.K4.av0=function(o,g,C){var a=l.Z(g*C*4),x=!1;l.S.IY(o,g,C,a,[C,g,0,1,0,1,0,0]);
return[l.K4.au(o,g,C,x),l.K4.au(a,C,g,x)]};l.K4.D=function(o,g){var C=!1,a=o[0],x=o[1],K=a[1],h=a[2],X=a[3],w=g.m,G=g.n;
if(h==w&&X==G)K=K.slice(0);else if(X!=G){var R=l.Z(h*G*4);l.K4.XN(x,G,R,C);K=l.Z(h*G*4);l.S.IY(R,G,h,K,[h,G,0,1,0,1,0,0]);
if(h!=w){a=l.K4.au(K,h,G,C);K=l.Z(w*G*4);l.K4.XN(a,w,K,C)}}else if(h!=w){K=l.Z(w*X*4);l.K4.XN(a,w,K,C)}return K};
l.K4.au=function(o,g,C,a){var x=Date.now(),K=new Uint16Array(g*C),h=1;l.K4.aaK(o,g,C,K);var X=Math.ceil(g/h),w=new Uint32Array(h),G=new Uint32Array(h),X=Math.floor(g/h);
for(var R=0;R<h;R++)G[R]=R<h-1?X:g-(h-1)*X;for(var d=0;d<C;d++){var N=d*g;for(var R=0;R<h;R++){var X=G[R];
for(var q=0;q<X;q++)w[R]+=K[N+q];N+=X}}if(a){console.log(Date.now()-x,"cost");x=Date.now()}var m=new Uint32Array(g),M=new Uint32Array(g),Z=new Uint32Array(g*C);
for(var q=0;q<g;q++){Z[(C-1)*g+q]=K[(C-1)*g+q]}for(var d=C-2;d>=0;d--){var Q=d*g;for(var R=0;R<h;R++){var X=G[R];
Z[Q]=K[Q]+Math.min(Z[Q+g],Z[Q+g+1]);for(var q=1;q<X-1;q++){var N=Q+q;Z[N]=K[N]+Math.min(Z[N+g-1],Math.min(Z[N+g],Z[N+g+1]))}Q+=X-1;
Z[Q]=K[Q]+Math.min(Z[Q+g-1],Z[Q+g]);Q++}}if(a){console.log(Date.now()-x,"Building M");x=Date.now()}function p(S,$){return S<$?S:$}function y(N,S){var $=M[N],H=Z[S],f=~~($*H*1e-4);
return f}var V=new Uint8Array(g*C),W=new Uint32Array(g);for(var N=0;N<g;N++){m[N]=N;M[N]=K[N]}for(var d=1;
d<C;d++){var v=0,Q=d*g;for(var R=0;R<h;R++){var X=G[R],N=Q;W[v]=y(v,N);var j=W[v]+y(v+1,N+1),e=y(v,N+1)+y(v+1,N);
W[v+1]=p(j,e);for(var q=2;q<X;q++){var N=Q+q,T=W[v+q-1]+y(v+q-1,N-1),O=W[v+q-2]+y(v+q-1,N-2)+y(v+q-2,N-1);
W[v+q]=p(T,O)}var q=X-1;while(q>=2){var N=Q+q,T=W[v+q-1]+y(v+q-1,N-1),O=W[v+q-2]+y(v+q-1,N-2)+y(v+q-2,N-1);
if(W[v+q]==T){V[N-g]=1;q-=1}else{V[N-g]=0;V[N-g-1]=2;q-=2}}var N=Q;if(q==0){V[N-g]=1}else{if(W[v+1]==j){V[N+1-g]=1;
V[N-g]=1}else{V[N+1-g]=0;V[N-g]=2}}Q+=X;v+=X}l.K4.aqr(d,g,V,K,m,M,!0,x)}if(a){console.log(Date.now()-x,"Matching");
x=Date.now()}var L=K;return[UZIP.adler(o,0,o.length),o,g,C,h,G,w,m,M,V,L]};l.K4.XN=function(o,g,C,a){var x=o.slice(0),K=x.shift(),h=x.shift(),X=x.shift(),w=x.shift(),G=x.shift(),R=x.shift(),d=x.shift(),q=x.shift(),m=x.shift().slice(0),M=x.shift(),Z=x.shift(),Q=Date.now(),p=Math.abs(X-g),y=Math.floor(p/G),V=new Uint32Array(G),v=0,j=1e9,T=0,O=0,L=0;
for(var W=0;W<G;W++)V[W]=W<G-1?y:p-(G-1)*y;Z.fill(0);for(var e=0;e<X;e++){v=Math.max(v,m[e]);j=Math.min(j,m[e])}for(var W=0;
W<G;W++){var S=R[W],y=V[W];for(var $=0;$<y;$++){var H=0,f=1e9;for(var e=0;e<S;e++)if(m[O+e]<f){f=m[O+e];
H=O+e}if(g<X)m[H]=1e9;else m[H]*=1.2;if(L<X/3)T+=f;var F=q[H],U=Z[F],r=U<65280?65280:U+1;if(r<65280)throw"e";
for(var E=0;E<w;E++){var N=E*X+F;Z[N]=r;F+=M[N]-1}L++}O+=S}if(a){console.log(Date.now()-Q,"Removing best seams");
Q=Date.now()}function k(N,z){var s=N<<2,Y=z<<2;C[s]=h[Y];C[s+1]=h[Y+1];C[s+2]=h[Y+2];C[s+3]=h[Y+3]}for(var E=0;
E<w;E++){var P=0,N=E*X;for(var e=0;e<g;e++,P++){if(g<X){while(Z[N+P]==65280)P++;k(E*g+e,E*X+P)}else{k(E*g+e,E*X+P);
while(Z[N+P]>=65280){Z[N+P]--;e++;k(E*g+e,E*X+P)}}}}if(a){console.log(Date.now()-Q,"Shifting image pixels");
Q=Date.now()}};l.K4.aqr=function(o,g,C,a,x,K){var h=0,N=o*g;while(h<g){if(C[N-g]==1){K[h]=K[h]+a[N];
h++;N++}else{var X=x[h];x[h]=x[h+1];x[h+1]=X;var w=K[h];K[h]=K[h+1]+a[N];K[h+1]=w+a[N+1];h+=2;N+=2}}};
l.K4.aaK=function(o,g,C,a){function x(o,N,w){var d=N<<2,q=w<<2,m=o[d]-o[q],M=o[d+1]-o[q+1],Z=o[d+2]-o[q+2];
return Math.abs(m)+Math.abs(M)+Math.abs(Z)}for(var K=1;K<g;K++){var h=x(o,K,K-1);a[K-1]+=h;a[K]+=h}for(var X=1;
X<C;X++){var w=X*g,h=x(o,w,w-g);a[w]+=h;a[w-g]+=h;for(var K=1;K<g;K++){var N=X*g+K,G=x(o,N,N-1),R=x(o,N,N-g);
a[N-g]+=R;a[N-1]+=G;a[N]+=R+G}}for(var X=0;X<C;X++){a[X*g]*=2;a[X*g+g-1]*=2}for(var N=0;N<a.length;N++)if(a[N]==0)a[N]=1};
l.PL=function(){var o=0,g=0,a=15,K=256;function C(R,d,q,m,M,Z){var Q=(M-1)*d,p=Z*d;return R[p+m]-R[p+q-1]-R[Q+m]+R[Q+q-1]}var x=Math.round(a/8),h=[];
function X(R,d){for(var q=0;q<d.length;q++){var m=d[q],M=0,Z=0,Q=R[m.fP],p=Q.P4,y=Q.MI,V=Q.fB;for(var W=-a;
W<=a;W++)for(var v=-a;v<=a;v++){var j=v+m.a0s,e=W+m.avk;if(v*v+W*W>a*a||j<0||e<0||j>=y||e>=y)continue;
var T=p[e*y+j];M+=v*T;Z+=W*T}m.iC=Math.atan2(Z,M)}}function w(R,d,q,m,M){var Z=~~(R+.5),Q=~~(d+.5);return C(q,m,Z-x,Z+x,Q-x,Q+x)}function G(R,d,q,m,M){o=m;
g=M;if(h.length==0){var Z=new l.j.$Y(16200817),V=8,W=0;function Q(jL){var L=jL[0]-jL[2],S=jL[1]-jL[3];
return L*L+S*S}function p(){var jL=0,aq=0;while(jL===0)jL=Z.get();while(aq===0)aq=Z.get();return Math.sqrt(-2*Math.log(jL))*Math.cos(2*Math.PI*aq)}var y=p,v=[];
while(W!=K){var j=Math.max(-a,Math.min(a,y()*V)),e=Math.max(-a,Math.min(a,y()*V)),T=Math.max(-a,Math.min(a,y()*V)),O=Math.max(-a,Math.min(a,y()*V)),L=j-T,S=e-O,$=Math.sqrt(L*L+S*S);
if($<3||$>12)continue;h.push(j,e,T,O);W++}}var H=20;for(var f=0;f<d.length;f++){var F=d[f],U=R[F.fP],r=U.Il,q=U.P4,m=U.MI,M=U.fB,E=F.a0s,k=F.avk,P=F.iC,z=Math.cos(P),s=Math.sin(P),Y=new Uint8Array(K>>>3);
F.FS=Y;for(var N=0;N<K;N++){var t=N*4,j=h[t+0],e=h[t+1],T=h[t+2],O=h[t+3],n=z*j-s*e,J=s*j+z*e,I=z*T-s*O,fp=s*T+z*O,cH=w(E+n,k+J,r,m,M),b=w(E+I,k+fp,r,m,M);
Y[N>>>3]|=(cH<b?0:1)<<(N&7)}}}return{ar1:X,auF:G}}();l.akX=function(){function o(g,C){var a=[[9]],x=Date.now(),K=[];
for(var h=0;h<g.length;h++){var X=g[h],w=X.Il,G=X.MI,R=X.fB,m=9,V=1,F=24;if(w==null)continue;var d=new Float32Array(G*R),q=new Uint8Array(G*R),M=m>>>1,Z=M>>>1,Q=Math.round(m/3);
if(Q!=m/3)throw"e";var p=1/(m*m),y=1.2*(m/9);for(var W=M+1;W<R-M;W+=V)for(var v=M+1;v<G-M;v+=V){var j=l.Ni(w,G,v-Z,v+Z,W-M,W+M)-3*l.Ni(w,G,v-Z,v+Z,W-M+Q,W+M-Q),e=l.Ni(w,G,v-M,v+M,W-Z,W+Z)-3*l.Ni(w,G,v-M+Q,v+M-Q,W-Z,W+Z),T=v-M+1,O=v+M-1,L=W-M+1,S=W+M-1,$=l.Ni(w,G,T,v-1,L,W-1)+l.Ni(w,G,v+1,O,W+1,S)-l.Ni(w,G,v+1,O,L,W-1)-l.Ni(w,G,T,v-1,W+1,S),H=(e*j-.9*$*(.9*$))*(p*p);
d[W*G+v]=Math.abs(H);q[W*G+v]=H<0?0:1}var f=G*V;for(var W=F;W<R-F;W+=V)for(var v=F;v<G-F;v+=V){var N=W*G+v,U=d[N];
if(U<16)continue;if(d[N-V]>=U||d[N+V]>=U)continue;if(d[N-f-V]>=U||d[N-f]>=U||d[N-f+V]>=U)continue;if(d[N+f-V]>=U||d[N+f]>=U||d[N+f+V]>=U)continue;
K.push({x:~~(v*X.pS+.5),y:~~(W*X.pS+.5),a0s:v,avk:W,fP:h,k:U,a0U:q[N],ZQ:y})}}if(C!=null){K.sort(function(t,n){return n.k-t.k});
K=K.slice(0,C)}return K;var r=[];for(var N=0;N<K.length;N++){var E=!0,k=K[N];for(var P=0;P<K.length;
P++){var z=K[P];if(P!=N&&z.k>k.k&&(z.fP==k.fP+1||z.fP==k.fP-1)){var s=k.x-z.x,Y=k.y-z.y;if(s*s+Y*Y<5){E=!1;
break}}}if(E)r.push(k)}console.log(K.length,r.length);return r}return{a5$:o}}();l.YL={};l.YL.aix=function(o){var g=o.length,C=l.YL.aR(o,!1),x=0,K=1;
throw"e";var a=[];for(var N=0;N<g;N++)a[N]=l.YL.WZ(C[N]);var h=o[0][1],X=l.YL.match(C[x],C[K],a[K]);
console.log(X.length);var w=Math.max(Math.min(X.length,40),X.length*.54);w=Math.min(w,200);var G=X.slice(0,w),R=l.fd.a9z(C[x],C[K],G,h.m,h.n),d=l.fd.a2x(R,[0,0,0],1),q=h.m/2,m=h.n/2,M=1/Math.max(q,m);
for(var N=0;N<1;N++){var Z=G[N],Q=C[x][Z[0]],p=C[K][Z[1]],y=l.fd.a2T(d,M*(Q.x-q),M*(Q.y-m),M*(p.x-q),M*(p.y-m))}var V=l.fd.app(R,h),W=[];
for(var N=0;N<2;N++){var v=V[N],j=[v[0][0],v[0][1],v[0][2],v[1][0],v[1][1],v[1][2],v[2][0],v[2][1]],e=c.V.Bp(o[N],null,j);
W.push([e.buffer,e.rect])}return[l.YL.a8b(W[0],W[1],C[x],C[K],G,R,V,h)]};l.YL._u=function(o,g){var C=o.length,a=!1,x=Date.now(),K=l.YL.aR(o,!1,1e4);
if(a)console.log("Descriptors ready",Date.now()-x);x=Date.now();for(var N=0;N<C;N++){var h=o[N][1];for(var X=0;
X<K[N].length;X++){K[N][X].x+=h.x;K[N][X].y+=h.y}}if(a)console.log("shifted",Date.now()-x);x=Date.now();
var w=[];for(var N=0;N<C;N++)w[N]=l.YL.WZ(K[N]);if(a)console.log("trees built",Date.now()-x);x=Date.now();
var G=[];for(var N=0;N<C-1;N++)for(var X=N+1;X<C;X++){var R=l.YL.match(K[N],K[X],w[X]);if(a)console.log("Matches found",N,X,R.length);
R=R.slice(0,R.length>>>1);if(R.length<10)return null;var d=l.YL.avv(K[N],K[X],R,2);G.push([N,X,R,d])}G.sort(function(O,L){return L[2].length-O[2].length});
if(a)console.log("Matches found",Date.now()-x);x=Date.now();var q=[],m=new UnionFind(C);for(var N=0;
N<G.length;N++){var M=G[N],Z=m.find(M[0]),Q=m.find(M[1]);if(Z!=Q){q.push(M);m.link(Z,Q)}}var p=[];for(var N=0;
N<C;N++)p[N]=[1,0,0,0,1,0,0,0];var y=[0],V=new Uint8Array(C);V[y[0]]=1;while(y.length!=0){var Q=y.pop(),d=p[Q],W=[];
for(var N=0;N<q.length;N++){var M=q[N],v=M[0],j=M[1];if(v==Q&&V[j]==0){p[j]=l.S._t(d,M[3]);y.push(j);
V[j]=1}if(j==Q&&V[v]==0){p[v]=l.S._t(d,l.S.rq(M[3]));y.push(v);V[v]=1}}}if(g==null){var e=[];for(var N=0;
N<C;N++)e.push([p[N][2],N]);e.sort(function(O,L){return O[0]-L[0]});g=e[e.length>>>1][1]}var T=l.S.rq(p[g]);
for(var N=0;N<C;N++)p[N]=l.S._t(p[N],T);if(a)console.log("Transforms reordered",Date.now()-x);x=Date.now();
return p};l.YL.aR=function(o,g,C){var a=[],x=!1;for(var N=0;N<o.length;N++){var K=o[N][0],h=o[N][1],X=h.m,w=h.n,G=l.Z(h.$());
l.cr(K,G);var R=Date.now(),d=l.YL.amE(G,h,!0);if(x)console.log("Pyramid built ---------------",Date.now()-R);
R=Date.now();var q=l.akX.a5$(d,C);if(x)console.log("SURF Generation",Date.now()-R);R=Date.now();if(!g){l.PL.ar1(d,q);
if(x)console.log("ORB Orientations",Date.now()-R);R=Date.now();l.PL.auF(d,q,G,X,w);if(x)console.log("ORB Descriptors",Date.now()-R);
R=Date.now()}a.push(q)}return a};l.YL.amE=function(o,g,C){var a=[],x=[o,g];l.r2(x);if(C){var K=l.Fw(o,g),h=K.rect,X=[K.ab,h];
l.r2(X)}for(var N=0;N<x.length;N++){var w=x[2*N],G=x[2*N+1],R=G.m,d=G.n,q=Math.min(R,d);if(q<30)break;
if(q<1600)a.push({P4:w,MI:R,fB:d,pS:1<<N,Il:l.Yy(w,R,d)});if(!C)continue;var w=X[2*N],G=X[2*N+1],R=G.m,d=G.n,q=Math.min(R,d);
if(q<30)break;if(q<1600)a.push({P4:w,MI:R,fB:d,pS:(1<<N)*3/2,Il:l.Yy(w,R,d)})}return a};l.YL.avv=function(o,g,C,a){var x=Date.now(),K,h=0,X=0,w=C.length,G=new Float64Array(2);
for(var R=0;R<3e3;R++){var d=~~(Math.random()*w),q=~~(Math.random()*w),m=~~(Math.random()*w),M=~~(Math.random()*w),f=0,F=0;
if(d==q||d==m||d==M||q==m||q==M||m==M)continue;var Z=C[d],Q=C[q],p=C[m],y=C[M],V=o[Z[0]],W=g[Z[1]],v=o[Q[0]],j=g[Q[1]],e=o[p[0]],T=g[p[1]],O=o[y[0]],L=g[y[1]],S=[V.x,V.y,v.x,v.y,e.x,e.y,O.x,O.y],$=[W.x,W.y,j.x,j.y,T.x,T.y,L.x,L.y],H=l.S.Fm(S,$);
if(H[0]==0&&H[1]==0&&H[3]==0&&H[4]==0)continue;var U=w-h+2;for(var N=0;N<w&&N-f<U;N++){var r=o[C[N][0]],E=g[C[N][1]];
l.S.w3(E.x,E.y,H,G);var k=G[0]-r.x,P=G[1]-r.y,z=k*k+P*P;if(z<a){f++;F+=z}}if(f>h||f==h&&F<X){K=H;h=f;
X=F}}return K};var gC=new Uint8Array(256);for(var N=0;N<256;N++){var cO=0,ee=N;while(ee!=0){ee=ee&ee-1;
cO++}gC[N]=cO}l.YL.afl=function(o,g,C){var a=0,x=o.length;for(var N=0;N<x&&a<C;N++)a+=gC[o[N]^g[N]];
return a};l.YL.aoo=function(o,g,C,top,a){if(a[C]==1)return;var x=l.YL.afl(o.FS,g.FS,top[0]);if(x<top[0]){if(x<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=x;top[3]=C}else{top[0]=x;top[1]=C}}a[C]=1};l.YL.WZ=function(o){var g=[],C=[],a=[[],[]],x=4;
for(var N=0;N<o.length;N++)(o[N].a0U==0?g:C).push(N);for(var K=0;K<2;K++){var h=new Array(x),X=[],w=K==0?g:C,G=w.length/256,R=[];
for(var d=0;d<32;d++){var q=new Array(256),Z=0;for(var m=0;m<256;m++)q[m]=[];for(var m=0;m<w.length;
m++){var M=w[m];q[o[M].FS[d]].push(M)}for(var m=0;m<256;m++)Z+=Math.abs(q[m].length-G);R.push([Z,d,q])}R.sort(function(Q,p){return Q[0]-p[0]});
var X=[],h=[];a[K]=[X,h];for(var N=0;N<x;N++){X.push(R[N][1]);h.push(R[N][2])}}return a};l.YL.match=function(o,g,C){var a=[],x=new Uint16Array(g.length);
x.fill(65535);var K=new Uint8Array(g.length),top=new Uint32Array(4),h=[];for(var X=0;X<o.length;X++){var w=o[X],G=w.FS;
top.fill(1e6);K.fill(0);var R=C[w.a0U];for(var d=0;d<R[1].length;d++){var q=R[1][d][G[R[0][d]]];for(var m=0;
m<q.length;m++){var M=q[m];l.YL.aoo(w,g[M],M,top,K)}}if(top[2]<50&&top[2]<top[0]*.5){var Z=x[top[3]];
if(Z==65535){x[top[3]]=a.length;a.push([X,top[3],top[2]])}else if(top[2]<a[Z][2]){a[Z]=[X,top[3],top[2]]}}}a.sort(function(Q,p){return Q[2]-p[2]});
return a};l.YL.anQ=function(o){var g=new aS;for(var N=0;N<o.length;N++)g=g.ae(o[N][1]);var C=l.Z(g.$()*4);
for(var N=0;N<o.length;N++)l.j.Ly("norm",o[N][0],o[N][1],C,g,g,1);return[C,g]};l.YL.a8b=function(o,g,C,a,x,K,h,X){var w=o[1].clone(),G=w.clone();
w.x=w.y=0;var R=g[1].clone(),d=R.clone();R.x=R.y=0;R.x=w.m;var q=w.ae(R),m=d.y-G.y,M=l.Z(q.$()*4);l.HT(o[0],w,M,q);
l.HT(g[0],new aS(R.x,R.y+m,R.m,R.n),M,q);var Z=document.createElement("canvas");Z.width=q.m;Z.height=q.n;
var Q=Z.getContext("2d");Q.lineWidth=.5;Q.putImageData(new ImageData(new Uint8ClampedArray(M.buffer),q.m,q.n),0,0);
if(K){var p=K[0],y=l.t_.W8(p),V=w.m,W=X.m;for(var N=0;N<x.length;N++){var v=x[N],o=C[v[0]],g=a[v[1]];
Q.strokeStyle="#"+"ff0000";Q.beginPath();var j=l.fd.ad$(y,h[0],g,0,W),e=l.fd.ad$(p,h[1],o,0,W);Q.moveTo(-G.x+j[0],-G.y+j[1]);
Q.lineTo(-G.x+j[2],-G.y+j[3]);Q.moveTo(V-d.x+e[0],-d.y+m+e[1]);Q.lineTo(V-d.x+e[2],-d.y+m+e[3]);Q.stroke()}}if(x){var T=x.length;
for(var N=0;N<T;N++){var v=x[N],o=C[v[0]],g=a[v[1]];Q.strokeStyle="#"+"ffff00"}}var O=new Uint8Array(Q.getImageData(0,0,q.m,q.n).data.buffer);
if(!1){for(var L=0;L<2;L++){var S=L==0?C:a,$=L*w.m;for(var N=0;N<S.length;N++){var H=S[N],f=~~H.x,F=~~H.y,U=(F*q.m+f+$)*4;
O[U+1]=O[U+2]=H.amY*60;O[U+0]=0;O[U+3]=255}}}return[O,q]};l.stack={};l.stack.stack=function(o,g,C){var a=o.length,x=g.length;
if(a==1){g.set(o[0]);return}if(C=="avrg"||C=="stdv"||C=="summ"||C=="vari"){var K=1/a;for(var N=0;N<x;
N++){var h=0;for(var X=0;X<a;X++)h+=o[X][N];var w=~~(h*K+.5);if(C=="avrg"||(N&3)==3)g[N]=w;else if(C=="summ")g[N]=255*Math.pow(Math.min(255,h)*(1/255),1/2.4);
else{var G=0;for(var X=0;X<a;X++){var R=o[X][N]-w;G+=R*R}var d=Math.sqrt(G*K)*(1/255);if(C=="stdv")g[N]=255*Math.pow(d,1/2.4);
else g[N]=255*Math.pow(d*d,1/2.4)}}}else if(C=="maxx"){for(var N=0;N<x;N++){var q=0;for(var X=0;X<a;
X++)q=Math.max(q,o[X][N]);g[N]=q}}else if(C=="minn"){for(var N=0;N<x;N++){var q=255;for(var X=0;X<a;
X++)q=Math.min(q,o[X][N]);g[N]=q}}else if(C=="medn"||C=="rang"){var m=function(p,y){return p-y},M=new Array(a),Z=0,Q=0;
if((a&1)==0){Q=a>>>1;Z=Q-1}else{Z=Q=a>>>1}for(var N=0;N<x;N++){for(var X=0;X<a;X++)M[X]=o[X][N];M.sort(m);
if(C=="medn")g[N]=M[Z]+M[Q]>>>1;else g[N]=(N&3)==3?M[a-1]:M[a-1]-M[0]}}else console.log(C)};l.Lb={};
l.Lb.a4f=function(o,g,C,a){var x=Date.now(),K=new Uint32Array(g*C),h=new Uint8Array(g*C);while(!0){h.fill(0);
K.fill(0);var X=[],w=0;for(var G=0;G<C;G++){for(var R=0;R<g;R++){var N=G*g+R;if(h[N]==0){var d=X.length,q=l.Lb.nZ(o,g,C,R,G,h,K,d);
X.push([d,R,G,q[0],q[1],o[N]]);if(q[0]<a)w++}}}if(w==0)break;var m=X.length,M=new UnionFind(m),Z=[];
for(var N=0;N<m;N++)Z.push([]);for(var N=0;N<m;N++){var q=X[N],Q=q[4],p=0,y=0;if(q[3]>=a)continue;var d=q[0];
for(var V=0;V<Q.length;V+=2){var W=K[Q[V+1]*g+Q[V]],v=X[W];if(v[3]>y){y=v[3];p=W}}if(M.find(d)!=M.find(p)){M.link(d,p);
Z[d].push(p);Z[p].push(d)}}var j=new Uint32Array(m);j.fill(4294967295);var e=new Uint32Array(m);for(var N=0;
N<m;N++){if(j[N]!=4294967295||Z[N].length==0)continue;var T=[N],O=[N],L=N,S=X[N][3];while(O.length!=0){var $=O.pop(),H=Z[$];
for(var V=0;V<H.length;V++){var f=H[V];if(T.indexOf(f)==-1){T.push(f);O.push(f);var F=X[f];if(F[3]>S){S=F[3];
L=f}}}}for(var V=0;V<T.length;V++){j[T[V]]=L;var U=X[L];e[T[V]]=o[U[2]*g+U[1]]}}for(var G=0;G<C;G++)for(var R=0;
R<g;R++){var N=G*g+R,r=j[K[N]];if(r!=4294967295)o[N]=e[r]}}};l.Lb.nZ=function(o,g,C,a,x,K,h,X){var w=[a,x],G=o[x*g+a],R=0,d=[];
K[x*g+a]=1;while(w.length!=0){var q=w.pop(),m=w.pop(),N=q*g+m;h[N]=X;R++;if(q!=C-1)if(o[N+g]==G){if(K[N+g]==0){w.push(m,q+1);
K[N+g]=1}}else d.push(m,q+1);if(q!=0)if(o[N-g]==G){if(K[N-g]==0){w.push(m,q-1);K[N-g]=1}}else d.push(m,q-1);
if(m!=g-1)if(o[N+1]==G){if(K[N+1]==0){w.push(m+1,q);K[N+1]=1}}else d.push(m+1,q);if(m!=0)if(o[N-1]==G){if(K[N-1]==0){w.push(m-1,q);
K[N-1]=1}}else d.push(m-1,q)}return[R,d]};l.Lb.agV=function(o,g,C,a,x){var K=l.Lb.jY(o.buffer,g,C).QO,h=Date.now(),X=[];
for(var N=0;N<K.length;N++){var w=K[N],G=1;for(var R=0;R<G;R++)X.push(w.U9)}var d=new Uint32Array(X),q=UPNG.quantize.getKDtree(new Uint8Array(d.buffer),a),m=[g,1,-g,-1,g+1,-g+1,-g-1,g-1,g+g,2,-g-g,-2,g+g-1,g+g+1,g+2,-g+2,-g-g+1,-g-g-1,-g-2,g-2,g+g+2,-g-g+2-g-g-2,g+g-2],M=new Uint8Array(g*C),Z=o;
for(var Q=0;Q<C;Q++)for(var p=0;p<g;p++){var N=Q*g+p<<2,y=Z[N]*(1/255),V=Z[N+1]*(1/255),W=Z[N+2]*(1/255),v=Z[N+3]*(1/255),j=l.Lb.O1(q,y,V,W,v,x);
if(j==null){var e=[],T=0;while(T<20){var O=Q*g+p+m[T]<<2,L=Z[O]*(1/255),S=Z[O+1]*(1/255),$=Z[O+2]*(1/255),H=Z[O+3]*(1/255),f=l.Lb.O1(q,L,S,$,H,.005);
if(f!=null){if(e.indexOf(f)==-1){e.push(f);f.uV=1}else f.uV++}T++}e.sort(function(v,W){return W.uV-v.uV});
while(e.length!=0&&e[e.length-1].uV<3)e.pop();if(e.length==0)j=l.Lb.O1(q,y,V,W,v,100);else if(e.length==1)j=e[0];
else if(e.length==2){var F=e[0],U=e[1],r=F.est.q,E=U.est.q,k=E[0]-r[0],P=E[1]-r[1],z=E[2]-r[2],s=E[3]-r[3],Y=y-r[0],t=V-r[1],n=W-r[2],J=v-r[3],I=k*k+P*P+z*z+s*s,fp=Y*Y+t*t+n*n+J*J,cH=(Y*k+t*P+n*z+J*s)/I,b=fp-cH*cH*I;
if(b<.5)j=cH<.5?F:U;else{j=l.Lb.O1(q,y,V,W,v,100)}}else{var F=e[0],U=e[1],jL=e[2],r=F.est.q,E=U.est.q,aq=jL.est.q,cJ=r[0]-aq[0],aB=r[1]-aq[1],au=r[2]-aq[2],ea=r[3]-aq[3],ax=E[0]-aq[0],f1=E[1]-aq[1],fk=E[2]-aq[2],hF=E[3]-aq[3],fm=aq[0]-y,jE=aq[1]-V,ff=aq[2]-W,d5=aq[3]-v,eF=cJ*cJ+aB*aB+au*au+ea*ea,gI=cJ*ax+aB*f1+au*fk+ea*hF,fE=fm*cJ+jE*aB+ff*au+d5*ea,js=cJ*ax+aB*f1+au*fk+ea*hF,d8=ax*ax+f1*f1+fk*fk+hF*hF,bt=fm*ax+jE*f1+ff*fk+d5*hF,io=1/(gI*js-eF*d8),cH=(d8*fE-bt*gI)*io,ha=(bt*eF-fE*js)*io,dp=1-cH-ha,gS=Math.max(cH,ha,dp);
if(gS==cH)j=F;else if(gS==ha)j=U;else j=jL}}M[N>>2]=j.ind}return{Wn:M,QO:q[1]}};l.Lb.jY=function(o,g,C){var a=[],x={},K=g-1,h=C-1,X=0,w=new Uint32Array(o),G=[-g-1,-g,-g+1,-1,1,g-1,g,g+1,g+g,2,-g-g,-2,g+g-1,g+g+1,g+2,-g+2,-g-g+1,-g-g-1,-g-2,g-2,g+g+2,-g-g+2-g-g-2,g+g-2];
for(var R=1;R<h;R++)for(var d=1;d<K;d++){var q=R*g+d,m=w[q],M=!0;for(var N=0;N<8;N++)M=M&&w[q+G[N]]==m;
if(M){X++;var Z=x[m];if(Z==null){x[m]=a.length;a.push({U9:m,p$:1})}else a[Z].p$++}}return{QO:a,a3M:X}};
l.Lb.O1=function(o,g,C,a,x,K){var h=UPNG.quantize.getNearest(o[0],g,C,a,x);return l.Lb.afw(h,g,C,a,x)<K?h:null};
l.Lb.afw=function(o,g,C,a,x){var K=o.est.q,h=g-K[0],X=C-K[1],w=a-K[2],G=x-K[3];return h*h+X*X+w*w+G*G};
l.Lb.Ju=function(){function o(p,y,V,W,v,j){var e=[],T=j,O=j,L=j>>>2;for(var S=0;S<v;S++)for(var $=0;
$<W;$++){var H=~~(($+.5)*T),f=~~((S+.5)*O),F=1e9,U=Math.max(0,H-L),r=Math.min(y,H+L+1),E=Math.max(0,f-L),k=Math.min(V,f+L+1);
for(var P=E;P<k;P++)for(var z=U;z<r;z++){var s=g(p,y,z,P);if(s<F){H=z;f=P;F=s}}var Y=(f*y+H)*4;e.push(H,f)}return e}function g(p,y,V,W){var v=(W*y+V)*4,j=y*4,e=C(p,v-4,v)+C(p,v,v+4),T=C(p,v-j,v)+C(p,v,v+j);
return e+T}function C(p,y,V){var W=p[y]-p[V],v=p[y+1]-p[V+1],j=p[y+2]-p[V+2];return W*W+v*v+j*j}var a=0,x=0;
function K(p,y,V,W){x++;if(W<a)a=W;p[W].push(y,V)}function h(p){x--;while(p[a].length==0)a++}function X(p,y,V,W,v){a=0;
x=0;var j=y*V,e=Math.round(Math.min(y,V)/(W?W:50)),U=0,r=16;if(e==0)e=1;var T=(v?v:30)/e,O=Math.floor(y/e),L=Math.floor(V/e),S=new Uint16Array(j);
for(var N=0;N<j;N++)S[N]=65535;var $=o(p,y,V,O,L,e),H=$.length>>>1;if(H>65535)throw H;var f=[];for(var N=0;
N<1e3+V;N++)f.push([]);var F=[0,1,0,-1,-1,0,1,0],E=Math.min(L,5),k=new Uint32Array(H*6);for(var P=0;
P<L;P+=E){var z=Math.min(P+E+1,L);for(var s=P;s<z;s++)for(var Y=0;Y<O;Y++){var N=s*O+Y,t=N*2,n=$[t+1]<<16|$[t];
K(f,n,N,$[t+1]>>>r)}var J=Math.min(V,z*e);if(P+E>=L)J=V;while(x!=0){h(f);var I=f[a].pop(),fp=f[a].pop(),cH=fp>>>16,b=fp&65535,N=cH*y+b;
if(S[N]==65535){var jL=I*6,aq=N<<2;S[N]=I;k[jL]+=p[aq];k[jL+1]+=p[aq+1];k[jL+2]+=p[aq+2];k[jL+3]+=b;
k[jL+4]+=cH;k[jL+5]++;var cJ=cH>>>r;if(cH!=J-1&&S[N+y]==65535)K(f,cH+1<<16|b,I,w(p,y,T,b,cH+1,k,jL)+cJ);
if(cH!=0&&S[N-y]==65535)K(f,cH-1<<16|b,I,w(p,y,T,b,cH-1,k,jL)+cJ);if(b!=0&&S[N-1]==65535)K(f,cH<<16|b-1,I,w(p,y,T,b-1,cH,k,jL)+cJ);
if(b!=y-1&&S[N+1]==65535)K(f,cH<<16|b+1,I,w(p,y,T,b+1,cH,k,jL)+cJ)}}if(J!=cH){var aB=(P+E)*O;k.fill(0,aB*6,(aB+O)*6);
for(var cH=(P+E-2)*e;cH<J;cH++)for(var b=0;b<y;b++){var N=cH*y+b;if(S[N]>=aB){S[N]=65535}}}}return{Wn:S,IK:H,RU:k}}l.Lb.Eh=function(p,y,V,W,v){var j=p.IK,e=y*V,T=p.RU,O=p.Wn,L=m(W,O,j,e),S=new UnionFind(j),r=0;
for(var $=1;$<V;$++)for(var H=1;H<y;H++){var N=$*y+H,f=O[N],F=0;if((F=O[N-1])!=f&&L[F]==L[f]&&G(T,0,f*6,F*6)<v)S.link(f,F);
if((F=O[N-y])!=f&&L[F]==L[f]&&G(T,0,f*6,F*6)<v)S.link(f,F)}var U=new Uint16Array(j);U.fill(65535);var E=new Uint16Array(j);
for(var N=0;N<j;N++){var k=S.find(N);if(U[k]==65535)U[k]=r++;E[N]=U[k]}var P=new Uint16Array(e);for(var N=0;
N<e;N++)P[N]=E[O[N]];return{Wn:P,IK:r}};l.Lb.a8K=function(p,y,V,W){var v=l.Z(V),j=y.length,e=0;for(var N=0;
N<j&&e!=3;N++){var T=W[N];if(T==0||T==255){var O=y[N],L=2-(T>>>7);v[O]=e=v[O]|L}}return e!=3};function w(p,y,V,W,v,j,e){var T=(v*y+W)*4,O=j[e+5],L=1/O,S=p[T]*O-j[e],$=p[T+1]*O-j[e+1],H=p[T+2]*O-j[e+2],f=W*O-j[e+3],F=v*O-j[e+4],U=Math.sqrt(S*S+$*$+H*H),r=Math.sqrt(f*f+F*F);
return~~((U+V*r)*L+.5)}function G(p,y,V,W){var v=1/p[V+5],j=1/p[W+5],e=p[V]*v-p[W]*j,T=p[V+1]*v-p[W+1]*j,O=p[V+2]*v-p[W+2]*j,L=p[V+3]*v-p[W+3]*j,S=p[V+4]*v-p[W+4]*j,$=Math.sqrt(e*e+T*T+O*O),H=Math.sqrt(L*L+S*S);
return~~($+y*H+.5)}function R(p,y,V){var W=l.FF(p,new aS(0,0,y,V)),v=W.rect.m,j=W.rect.n,e=X(W.ab,v,j),T=e.Wn,O=Date.now(),L=new Uint16Array(y*V);
L.fill(65535);for(var S=0;S<j;S++){for(var $=0;$<v;$++){var H=S*v+$,N=(S<<1)*y+($<<1),f=T[H];if(T[H-v]!=f||T[H-1]!=f||T[H+1]!=f||T[H+v]!=f)f=65535;
L[N]=f;L[N+1]=f;L[N+y]=f;L[N+y+1]=f}}e.Wn=L;return e}function d(p,y){var N=0,V=p.length;while(N!=V&&p[N]!=y)N+=2;
return N==V?-1:N}function q(p,N){if(N==p.length-2){p.pop();p.pop()}else{p[N+1]=p.pop();p[N]=p.pop()}}l.Lb.ats=function(p,y,V,W,v){var j=new Uint32Array(v*4400),g=[];
for(var N=0;N<v;N++)g.push([]);for(var e=0;e<V;e++)for(var T=0;T<y;T++){var N=e*y+T,O=N<<2,L=W[N],S=0,$=p[O]>>>4,H=p[O+1]>>>4,f=p[O+2]>>>4;
j[L*4400+($<<8|H<<4|f)]++;j[L*4400+4096]++;j[L*4400+4100+($<<4|H)]++;j[L*4400+4360+$]++;if(T!=0&&(S=W[N-1])!=L&&d(g[L],S)==-1){g[L].push(S,0);
g[S].push(L,0)}if(e!=0&&(S=W[N-y])!=L&&d(g[L],S)==-1){g[L].push(S,0);g[S].push(L,0)}}for(var N=0;N<v;
N++){var f=g[N];for(var F=0;F<f.length;F+=2)f[F+1]=Q(j,N,f[F])}return[j,g]};function m(p,y,V,W){var v=l.Z(V);
for(var N=0;N<W;N++){var j=p[N];if(j==0||j==255)v[y[N]]=2-(j>>>7)}return v}l.Lb.ac8=function(p,y,V,W,v,j,e){var T=y*V,O=e[0],g=e[1],L=new UnionFind(W),S=m(v,p,W,T),$=-1,H=!0,f=0;
for(var N=0;N<W;N++)if(S[N]==1){if($==-1)$=N;else L.link(N,$)}if($==-1){for(var N=0;N<T;N++)j[N]=v[N]==255?255:0;
return}while(H){while(H){H=!1;for(var N=0;N<W;N++){if(S[N]==0){var F=M(g[N]);if(S[F]==1){S[N]=S[F];H=!0;
L.link(N,F)}}}}H=!0;f=0;while(H){H=!1;for(var N=0;N<W;N++){if(S[N]==0){var F=M(g[N]);if(S[F]==0){var U=N*4400,r=F*4400;
for(var E=0;E<4400;E+=2){O[U+E]+=O[r+E];O[U+E+1]+=O[r+E+1]}Z(g,O,N,F);f++;S[F]=3;H=!0;L.link(N,F)}}}}H=f!=0}var k=L.find($);
for(var N=0;N<W;N++)S[N]=L.find(N)==k?255:0;for(var N=0;N<T;N++){j[N]=S[p[N]]}for(var N=0;N<T;N++){var F=v[N];
if(F==0||F==255)j[N]=F}};function M(p){var y=0,V=0,W=p.length;for(var v=0;v<W;v+=2){var j=p[v+1];if(j>V){V=j;
y=v}}return p[y]}function Z(g,p,y,V){var W=g[y],v=g[V];q(W,d(W,V));q(v,d(v,y));for(var N=0;N<v.length;
N+=2){var j=v[N],e=g[j];q(e,d(e,V));if(d(e,y)==-1){e.push(y,0);W.push(j,0)}}for(var N=0;N<W.length;N+=2){var j=W[N],e=g[j],T=Q(p,y,j);
W[N+1]=T;e[d(e,y)+1]=T}}function Q(p,y,V){var W=0,v=4096,j=y*4400,e=V*4400;for(var T=0;T<16;T++){if(p[j+4360+T]==0||p[e+4360+T]==0)continue;
for(var O=0;O<16;O++){var L=T<<4|O;if(p[j+4100+L]==0||p[e+4100+L]==0)continue;var S=j+(L<<4),$=e+(L<<4);
for(var N=0;N<16;N++)W+=Math.sqrt(p[S+N]*p[$+N])}}var H=W/Math.sqrt(p[j+v]*p[e+v]);return~~(999.99999*H)}return X}();
l.ci={};l.ci.adJ=function(){var o=11,g=7,C=o>>>1,ee=g>>>1,a=2,x=2e3/a,K=[],X=null,w="";function h(R,d,q){var m=(R[d+0]-R[q+0])*(1/255),M=(R[d+1]-R[q+1])*(1/255),Z=(R[d+2]-R[q+2])*(1/255),Q=(R[d+3]-R[q+3])*(1/255),p=m*m*.125+M*M*.25+Z*Z*.5+Q*Q;
return K[~~(p*x)]}function G(R,d,q,m,M,Z){var Q=Date.now(),p=l.Z(d*q);l.cr(R,p);var y=UZIP.adler(p,0,d*q);
if(y!=w){var V=l.Yy(p,d,q);X=l.Z(d*q*4);w=y;var W=[1,1/9,1/25,1/49,1/81];for(var v=0;v<q;v++)for(var j=0;
j<d;j++)for(var N=0;N<4;N++){var e=Math.max(1,j-N),T=Math.min(d-1,j+N),O=Math.max(1,v-N),L=Math.min(q-1,v+N),S=l.Ni(V,d,e,T,O,L);
if(isNaN(S))throw j+","+v+","+N+","+S;X[(v*d+j)*4+N]=S*W[N]}}if(i.LH){var $=i.Jn(0,d,q);$.set(R);var H=i.Jn(1,d,q);
H.set(X);var f=i.Jn(2,d,q);i.CG(f);i.filter.kH({type:i.filter.ajO,cM:new Float32Array([1/d,1/q]),arU:H.Rb,ahk:M,a6L:Z},$.Rb);
f.get(m)}else{for(var N=0;N<2e3;N++)K[N]=Math.exp(-(N/2e3)*a*(100+(1-M)*(1-M)*1e4));var F=ee+2;for(var v=F;
v<q-F;v++)for(var j=F;j<d-F;j++){var U=0,r=0,E=0,k=0;for(var P=0;P<o;P++)for(var z=0;z<o;z++){var s=j+z-C,Y=v+P-C;
if(s==j&&Y==v||s<F||Y<F||s>=d-F||Y>=q-F)continue;var t=h(X,(v*d+j)*4,(Y*d+s)*4),n=Y*d+s<<2;U+=t*R[n+0];
r+=t*R[n+1];E+=t*R[n+2];k+=t}if(k==0){continue}var J=1/k,I=(v*d+j)*4;m[I+0]=~~((1-Z)*J*U+Z*m[I+0]);m[I+1]=~~((1-Z)*J*r+Z*m[I+1]);
m[I+2]=~~((1-Z)*J*E+Z*m[I+2])}}}return G}();var h1=function(){function o(){this.$=0;this.va=0;this.We={};
this.pH=[];this.ug=1e5;this.TY=1e5;this.ds=-1;this.CB=-1;this.color=0}function g(ee){this.v9=ee;this.KA=new Array(ee);
this.U9=new Array(ee*6);this.a13=0;this.z2=new Array(ee*2);this.alpha=new Array(ee);this.Q4=new Array(ee);
this.HZ=new Array(ee)}function C(x,K,h,X){function w(Q,p,x,K){return x[K*p+Q]}function G(N){var e=x.length;
while(N<e&&x[N]==0)N++;return N<e?N:-1}function R(Q,p,e){for(var N=2;N<5;N++){var T=0;for(var O=-N+1;
O<=N-1;O++){T+=w(Q+O,p+N-1,x,K)==e?1:-1;T+=w(Q+N-1,p+O-1,x,K)==e?1:-1;T+=w(Q+O-1,p-N,x,K)==e?1:-1;T+=w(Q-N,p+O,x,K)==e?1:-1}if(T>0)return 1;
else if(T<0)return 0}return 0}function d(e,M){var Z=new o,Q=e,p=M,T=0,O=1,L;Z.color=x[M*K+e];Z.sign=w(e,M,x,K)==Z.color?"+":"-";
while(1){Z.pH.push(Q,p);if(Q>Z.ds)Z.ds=Q;if(Q<Z.ug)Z.ug=Q;if(p>Z.CB)Z.CB=p;if(p<Z.TY)Z.TY=p;Z.va++;Q+=T;
p+=O;Z.$-=Q*O;if(Q==e&&p==M)break;var S=w(Q+(T+O-1>>1),p+(O-T-1>>1),x,K)==Z.color,$=w(Q+(T-O-1>>1),p+(O+T-1>>1),x,K)==Z.color;
if($&&!S){if(X.AT=="right"||X.AT=="black"&&Z.sign=="+"||X.AT=="white"&&Z.sign=="-"||X.AT=="majority"&&R(Q,p,Z.color)||X.AT=="minority"&&!R(Q,p,Z.color)){L=T;
T=-O;O=L}else{L=T;T=O;O=-L}}else if($){L=T;T=-O;O=L}else if(!S){L=T;T=O;O=-L}}return Z}var q=0,m=[];
while(!0){var q=G(q);if(q==-1)break;var M=Math.floor(q/K),Z=d(q-M*K,M);for(var N=0;N<Z.pH.length-2;N+=2){var Q=Z.pH[N],p=Z.pH[N+1],y=p*K+Q;
if(Q==Z.pH[N+2]&&p+1==Z.pH[N+3]&&x[y]!=0)h1.fill(y,x,K,0)}if(Z.$>X.a8s)m.push(Z)}for(var N=0;N<m.length;
N++)m[N].parent=-1;var V=Date.now();for(var N=1;N<m.length;N++){var W=m[N];for(var v=N-1;v>=0;v--){var j=m[v];
if(W.ug<j.ug||W.ds>j.ds||W.TY<j.TY||W.CB>j.CB)continue;if(!h1.m1(j.pH,W.pH[0]+.5,W.pH[1]+.5))continue;
W.parent=v;break}}return m}function a(x,K){function h(T,O,L,S,$){this.x=T;this.y=O;this.CU=L;this.tc=S;
this.y3=$}function X(T,ee){return(ee+T)%ee}function w(T,O,L,S){return T*S-L*O}function G(T,O,L,S){return T*L+O*S}function R(T,O,L){if(T<=L)return T<=O&&O<L;
else return T<=O||O<L}function d(T,O,L){var S=0;S+=O*T[0]*O;S+=O*T[1]*L;S+=O*T[2];S+=L*T[3]*O;S+=L*T[4]*L;
S+=L*T[5];S+=T[6]*O;S+=T[7]*L;S+=T[8];return S}function q(T,O,L){return O+T*(L-O)}function m(T,O,L,S){var $=Math.sign(L-T),H=-Math.sign(S-O);
return $*(L-T)-H*(S-O)}function M(T,O){return Math.sqrt(T*T+O*O)}function Z(T,O,L,S,$){var H=1-T;return H*H*H*O+3*(H*H*T)*L+3*(T*T*H)*S+T*T*T*$}function Q(T,O,L,S,$,H,f,F){var U=w(T,O,f,F),r=w(L,S,f,F),E=w($,H,f,F),k=U-2*r+E,P=-2*U+2*r,z=U,s=P*P-4*k*z;
if(k==0||s<0)return-1;var Y=Math.sqrt(s),t=(-P+Y)/(2*k),n=(-P-Y)/(2*k);if(t>=0&&t<=1)return t;else if(n>=0&&n<=1)return n;
else return-1}function p(e){var N,T,O;e.$m=e.pH[0];e.a8U=e.pH[1];e.gn=[];var L=e.gn;L.push(new h(0,0,0,0,0));
for(N=0;N<e.va;N++){T=e.pH[N<<1]-e.$m;O=e.pH[(N<<1)+1]-e.a8U;L.push(new h(L[N].x+T,L[N].y+O,L[N].CU+T*O,L[N].tc+T*T,L[N].y3+O*O))}}function y(e){var ee=e.va,T=e.pH,O,L=new Array(ee),S=new Array(ee),$=new Array(4),H,f,F,U,r,E,k,P,z,s,Y,N,t,n,J,I,fp,cH,b=0;
e.yA=new Array(ee);for(N=ee-1;N>=0;N--){if(T[N<<1]!=T[b<<1]&&T[(N<<1)+1]!=T[(b<<1)+1])b=N+1;S[N]=b}for(N=ee-1;
N>=0;N--){var jL=X(N+1,ee)<<1;$[0]=$[1]=$[2]=$[3]=0;O=(3+3*(T[jL]-T[N<<1])+(T[jL+1]-T[(N<<1)+1]))/2;
$[O]++;H=0;f=0;F=0;U=0;b=S[N];n=N;while(1){Y=0;O=(3+3*Math.sign(T[b*2]-T[n*2])+Math.sign(T[b*2+1]-T[n*2+1]))/2;
$[O]++;if($[0]&&$[1]&&$[2]&&$[3]){L[N]=n;Y=1;break}z=T[b*2]-T[N*2];s=T[b*2+1]-T[N*2+1];if(w(H,f,z,s)<0||w(F,U,z,s)>0){break}if(Math.abs(z)<=1&&Math.abs(s)<=1){}else{r=z+(s>=0&&(s>0||z<0)?1:-1);
E=s+(z<=0&&(z<0||s<0)?1:-1);if(w(H,f,r,E)>=0){H=r;f=E}r=z+(s<=0&&(s<0||z<0)?1:-1);E=s+(z>=0&&(z>0||s<0)?1:-1);
if(w(F,U,r,E)<=0){F=r;U=E}}n=b;b=S[n];if(!R(b,N,n)){break}}if(Y==0){k=Math.sign(T[b*2]-T[n*2]);P=Math.sign(T[b*2+1]-T[n*2+1]);
z=T[n*2]-T[N*2];s=T[n*2+1]-T[N*2+1];J=w(H,f,z,s);I=w(H,f,k,P);fp=w(F,U,z,s);cH=w(F,U,k,P);t=1e7;if(I<0){t=Math.floor(J/-I)}if(cH>0){t=Math.min(t,Math.floor(-fp/cH))}L[N]=X(n+t,ee)}}t=L[ee-1];
e.yA[ee-1]=t;for(N=ee-2;N>=0;N--){if(R(N+1,L[N],t)){t=L[N]}e.yA[N]=t}for(N=ee-1;R(X(N+1,ee),t,e.yA[N]);
N--){e.yA[N]=t}}function V(e){function T(e,N,O){var ee=e.va,z=e.pH,s=e.gn,Y,t,n,J,I,S,fp,cH,P,b,jL,aq,cJ,aB,au=0;
if(O>=ee){O-=ee;au=1}if(au==0){Y=s[O+1].x-s[N].x;t=s[O+1].y-s[N].y;J=s[O+1].tc-s[N].tc;n=s[O+1].CU-s[N].CU;
I=s[O+1].y3-s[N].y3;S=O+1-N}else{Y=s[O+1].x-s[N].x+s[ee].x;t=s[O+1].y-s[N].y+s[ee].y;J=s[O+1].tc-s[N].tc+s[ee].tc;
n=s[O+1].CU-s[N].CU+s[ee].CU;I=s[O+1].y3-s[N].y3+s[ee].y3;S=O+1-N+ee}jL=(z[N<<1]+z[O<<1])/2-z[0];aq=(z[(N<<1)+1]+z[(O<<1)+1])/2-z[1];
aB=z[O<<1]-z[N<<1];cJ=-(z[(O<<1)+1]-z[(N<<1)+1]);fp=(J-2*Y*jL)/S+jL*jL;cH=(n-Y*aq-t*jL)/S+jL*aq;P=(I-2*t*aq)/S+aq*aq;
b=cJ*cJ*fp+2*cJ*aB*cH+aB*aB*P;return Math.sqrt(b)}var N,O,L,S,ee=e.va,$=new Array(ee+1),H=new Array(ee+1),f=new Array(ee),F=new Array(ee+1),U=new Array(ee+1),r=new Array(ee+1),E,k,P;
for(N=0;N<ee;N++){P=X(e.yA[X(N-1,ee)]-1,ee);if(P==N){P=X(N+1,ee)}if(P<N){f[N]=ee}else{f[N]=P}}O=1;for(N=0;
N<ee;N++){while(O<=f[N]){F[O]=N;O++}}N=0;for(O=0;N<ee;O++){U[O]=N;N=f[N]}U[O]=ee;L=O;N=ee;for(O=L;O>0;
O--){r[O]=N;N=F[N]}r[0]=0;$[0]=0;for(O=1;O<=L;O++){for(N=r[O];N<=U[O];N++){k=-1;for(S=U[O-1];S>=F[N];
S--){E=T(e,S,N)+$[S];if(k<0||E<k){H[N]=S;k=E}}$[N]=k}}e.aoM=L;e.aaz=new Array(L);for(N=ee,O=L-1;N>0;
O--){N=H[N];e.aaz[O]=N}}function W(e){function T(e,N,E,f,F,ea){var ee=e.va,ax=e.gn,f1=0,P;while(E>=ee){E-=ee;
f1+=1}while(N>=ee){N-=ee;f1-=1}while(E<0){E+=ee;f1-=1}while(N<0){N+=ee;f1+=1}var fk=ax[E+1].x-ax[N].x+f1*ax[ee].x,hF=ax[E+1].y-ax[N].y+f1*ax[ee].y,fm=ax[E+1].tc-ax[N].tc+f1*ax[ee].tc,jE=ax[E+1].CU-ax[N].CU+f1*ax[ee].CU,ff=ax[E+1].y3-ax[N].y3+f1*ax[ee].y3,k=E+1-N+f1*ee;
f[ea]=fk/k;f[ea+1]=hF/k;var d5=(fm-fk*fk/k)/k,eF=(jE-fk*hF/k)/k,gI=(ff-hF*hF/k)/k,fE=(d5+gI+Math.sqrt((d5-gI)*(d5-gI)+4*eF*eF))/2;
d5-=fE;gI-=fE;if(Math.abs(d5)>=Math.abs(gI)){P=Math.sqrt(d5*d5+eF*eF);if(P!=0){F[ea]=-eF/P;F[ea+1]=d5/P}}else{P=Math.sqrt(gI*gI+eF*eF);
if(P!=0){F[ea]=-gI/P;F[ea+1]=eF/P}}if(P==0){F[ea]=F[ea+1]=0}}var O=e.aoM,L=e.aaz,ee=e.va,S=e.pH,$=e.$m,H=e.a8U,f=new Array(O*2),F=new Array(O*2),U=new Array(O),r=new Array(3),N,E,k,P,t,n,J,I,fp,cH,b;
e.We=new g(O);for(N=0;N<O;N++){E=L[X(N+1,O)];E=X(E-L[N],ee)+L[N];f[N<<1]=0;f[(N<<1)+1]=0;F[N<<1]=0;F[(N<<1)+1]=0;
T(e,L[N],E,f,F,N<<1)}for(N=0;N<O;N++){U[N]=[0,0,0,0,0,0,0,0,0];var z=F[N<<1]*F[N<<1]+F[(N<<1)+1]*F[(N<<1)+1],s=1/z;
if(z!=0){r[0]=F[(N<<1)+1];r[1]=-F[N<<1];r[2]=-r[1]*f[(N<<1)+1]-r[0]*f[N<<1];for(P=0;P<3;P++){U[N][P*3+0]=r[P]*r[0]*s;
U[N][P*3+1]=r[P]*r[1]*s;U[N][P*3+2]=r[P]*r[2]*s}}}var Y=[0,0,0,0,0,0,0,0,0];for(N=0;N<O;N++){Y[0]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=0;
var jL=S[L[N]<<1]-$,aq=S[(L[N]<<1)+1]-H,cJ=0,aB=0;E=X(N-1,O);for(P=0;P<9;P+=3){Y[P+0]=U[E][P+0]+U[N][P+0];
Y[P+1]=U[E][P+1]+U[N][P+1];Y[P+2]=U[E][P+2]+U[N][P+2]}while(1){var au=Y[0]*Y[4]-Y[1]*Y[3];if(au!=0){cJ=(-Y[2]*Y[4]+Y[5]*Y[0])/au;
aB=(Y[2]*Y[3]-Y[5]*Y[0])/au;break}if(Y[0]>Y[4]){r[0]=-Y[1];r[1]=Y[0]}else if(Y[4]){r[0]=-Y[4];r[1]=Y[3]}else{r[0]=1;
r[1]=0}var z=r[0]*r[0]+r[1]*r[1],s=1/z;r[2]=-r[1]*aq-r[0]*jL;for(P=0;P<3;P++){Y[P*3+0]+=r[P]*r[0]*s;
Y[P*3+1]+=r[P]*r[1]*s;Y[P*3+2]+=r[P]*r[2]*s}}t=Math.abs(cJ-jL);n=Math.abs(aB-aq);if(t<=.5&&n<=.5){e.We.z2[N<<1]=cJ+$;
e.We.z2[(N<<1)+1]=aB+H;continue}J=d(Y,jL,aq);fp=jL;cH=aq;if(Y[0]!=0){for(b=0;b<2;b++){aB=aq-.5+b;cJ=-(Y[1]*aB+Y[2])/Y[0];
t=Math.abs(cJ-jL);I=d(Y,cJ,aB);if(t<=.5&&I<J){J=I;fp=cJ;cH=aB}}}if(Y[4]!=0){for(b=0;b<2;b++){cJ=jL-.5+b;
aB=-(Y[3]*cJ+Y[5])/Y[4];n=Math.abs(aB-aq);I=d(Y,cJ,aB);if(n<=.5&&I<J){J=I;fp=cJ;cH=aB}}}for(P=0;P<2;
P++){for(k=0;k<2;k++){cJ=jL-.5+P;aB=aq-.5+k;I=d(Y,cJ,aB);if(I<J){J=I;fp=cJ;cH=aB}}}e.We.z2[N<<1]=fp+$;
e.We.z2[(N<<1)+1]=cH+H}}function v(e){var T=e.We.v9,O=e.We,N,L,S,$,H,f,F,U,r;for(N=0;N<T;N++){L=X(N+1,T);
S=X(N+2,T);var E=O.z2[N<<1],k=O.z2[(N<<1)+1],P=O.z2[S<<1],z=O.z2[(S<<1)+1],s=O.z2[L<<1],Y=O.z2[(L<<1)+1],t=q(.5,P,s),n=q(.5,z,Y);
H=m(E,k,P,z);if(H!=0){$=w(s-E,Y-k,P-E,z-k)/H;$=Math.abs($);f=$>1?1-1/$:0;f=f*(1/.75)}else{f=4/3}O.Q4[L]=f;
var J=3*L<<1;if(f>=K.axW){O.KA[L]=0;O.U9[J+0]=O.U9[J+1]=0;O.U9[J+2]=s;O.U9[J+3]=Y;O.U9[J+4]=t;O.U9[J+5]=n}else{if(f<.55){f=.55}else if(f>1){f=1}var I=.5+.5*f;
O.KA[L]=1;O.U9[J]=q(I,E,s);O.U9[J+1]=q(I,k,Y);O.U9[J+2]=q(I,P,s);O.U9[J+3]=q(I,z,Y);O.U9[J+4]=t;O.U9[J+5]=n}O.alpha[L]=f;
O.HZ[L]=.5}O.a2$=1}function j(e){function T(){this.E$=0;this.qZ=0;this.B1=0;this.SG=0;this.oR=0;this.Nc=0;
this.ZQ=0;this.alpha=0}function O(e,N,E,d8,bt,fp,cH){var S=e.We.v9,io=e.We.U9,ha=e.We.z2;if(N==E)return 1;
var dp=N,s=X(N+1,S),gS=X(dp+1,S),jE=ha[N<<1],ff=ha[(N<<1)+1],aP=ha[s<<1],gD=ha[(s<<1)+1],fA=fp[gS];if(fA==0)return 1;
var jH=M(jE-aP,ff-gD);for(dp=gS;dp!=E;dp=gS){var gS=X(dp+1,S),aM=X(dp+2,S),jc=ha[gS<<1],eQ=ha[(gS<<1)+1],j1=ha[aM<<1],i7=ha[(aM<<1)+1];
if(fp[gS]!=fA)return 1;if(Math.sign(w(aP-jE,gD-ff,j1-jc,i7-eQ))!=fA)return 1;if(G(aP-jE,gD-ff,j1-jc,i7-eQ)<jH*M(jc-j1,eQ-i7)*-.999847695156)return 1}var fT=X(N,S)*3+2<<1,hy=X(N+1,S)<<1,hJ=X(E,S)<<1,db=X(E,S)*3+2<<1,ea=io[fT],ax=io[fT+1],jK=ha[hy],h_=ha[hy+1],dM=ha[hJ],eW=ha[hJ+1],ip=io[db],fS=io[db+1],b=ha[0],jL=ha[1];
fT=E*3+2<<1;var hS=io[fT],bB=io[fT+1],Y=cH[E]-cH[N];Y-=w(hS-b,bB-jL,hS-b,bB-jL)/2;if(N>=E){Y+=cH[S]}var g_=jK-ea,e4=h_-ax,e0=dM-ea,jC=eW-ax,i4=ip-ea,hO=fS-ax,eq=w(g_,e4,e0,jC),ig=w(g_,e4,i4,hO),bc=w(e0,jC,i4,hO),aa=eq+bc-ig;
if(ig==eq)return 1;var I=bc/(bc-aa),J=ig/(ig-eq),cn=ig*I/2;if(cn==0)return 1;var iu=Y/cn,t=2-Math.sqrt(4-iu/.3);
d8.qZ=q(I*t,ea,jK);d8.B1=q(I*t,ax,h_);d8.SG=q(J*t,ip,dM);d8.oR=q(J*t,fS,eW);d8.alpha=t;d8.Nc=I;d8.ZQ=J;
jK=d8.qZ;h_=d8.B1;dM=d8.SG;eW=d8.oR;d8.E$=0;for(dp=X(N+1,S);dp!=E;dp=gS){gS=X(dp+1,S);var hY=ha[dp<<1],b8=ha[(dp<<1)+1],jc=ha[gS<<1],eQ=ha[(gS<<1)+1];
I=Q(jK-ea,h_-ax,dM-jK,eW-h_,ip-dM,fS-eW,jc-hY,eQ-b8);if(I<-.5)return 1;var b$=Z(I,ea,jK,dM,ip),cY=Z(I,ax,h_,eW,fS),jH=M(jc-hY,eQ-b8);
if(jH==0)return 1;var bX=w(jc-hY,eQ-b8,b$-hY,cY-b8)/jH;if(Math.abs(bX)>bt)return 1;if(G(jc-hY,eQ-b8,b$-hY,cY-b8)<0||G(hY-jc,b8-eQ,b$-jc,cY-eQ)<0){return 1}d8.E$+=bX*bX}for(dp=N;
dp!=E;dp=gS){gS=X(dp+1,S);var fT=dp*3+2<<1,hy=gS*3+2<<1,b_=io[fT],gu=io[fT+1],cw=io[hy],g9=io[hy+1];
I=Q(jK-ea,h_-ax,dM-jK,eW-h_,ip-dM,fS-eW,cw-b_,g9-gu);if(I<-.5)return 1;var b$=Z(I,ea,jK,dM,ip),cY=Z(I,ax,h_,eW,fS),jH=M(cw-b_,g9-gu);
if(jH==0)return 1;var bX=w(cw-b_,g9-gu,b$-b_,cY-gu)/jH,eS=w(cw-b_,g9-gu,ha[gS<<1]-b_,ha[(gS<<1)+1]-gu)/jH;
eS*=.75*e.We.alpha[gS];if(eS<0){bX=-bX;eS=-eS}if(bX<eS-bt)return 1;if(bX<eS){d8.E$+=(bX-eS)*(bX-eS)}}return 0}var L=e.We,S=L.v9,$=L.z2,H=new Array(S+1),f=new Array(S+1),F=new Array(S+1),U=new Array(S+1),r,N,E,k,P=new T,z,s,Y,t,n,J,I,fp=new Array(S),cH=new Array(S+1);
for(N=0;N<S;N++){if(L.KA[N]=="CURVE"){var b=$[X(N-1,S)<<1],jL=$[(X(N-1,S)<<1)+1],aq=$[N<<1],cJ=$[(N<<1)+1],aB=$[X(N+1,S)<<1],au=$[(X(N+1,S)<<1)+1];
fp[N]=Math.sign(w(aq-b,cJ-jL,aB-aq,au-cJ))}else{fp[N]=0}}Y=0;cH[0]=0;var ea=L.z2[0],ax=L.z2[1];for(N=0;
N<S;N++){s=X(N+1,S);if(L.KA[s]=="CURVE"){t=L.alpha[s];var f1=N*3+2<<1,fk=s*3+2<<1,hF=L.U9[f1],fm=L.U9[f1+1],jE=$[s<<1],ff=$[(s<<1)+1],d5=L.U9[fk],eF=L.U9[fk+1];
Y+=.3*t*(4-t)*w(jE-hF,ff-fm,d5-hF,eF-fm)/2;Y+=w(hF-ea,fm-ax,d5-ea,eF-ax)/2}cH[N+1]=Y}H[0]=-1;f[0]=0;
F[0]=0;for(E=1;E<=S;E++){H[E]=E-1;f[E]=f[E-1];F[E]=F[E-1]+1;for(N=E-2;N>=0;N--){k=O(e,N,X(E,S),P,K.av7,fp,cH);
if(k){break}if(F[E]>F[N]+1||F[E]==F[N]+1&&f[E]>f[N]+P.E$){H[E]=N;f[E]=f[N]+P.E$;F[E]=F[N]+1;U[E]=P;P=new T}}}r=F[S];
n=new g(r);J=new Array(r);I=new Array(r);E=S;for(N=r-1;N>=0;N--){var gI=X(E,S),fE=N*3+0<<1,js=gI*3+0<<1;
if(H[E]==E-1){n.KA[N]=L.KA[gI];n.U9[fE]=L.U9[js];n.U9[fE+1]=L.U9[js+1];n.U9[fE+2]=L.U9[js+2];n.U9[fE+3]=L.U9[js+3];
n.U9[fE+4]=L.U9[js+4];n.U9[fE+5]=L.U9[js+5];n.z2[N<<1]=L.z2[gI<<1];n.z2[(N<<1)+1]=L.z2[(gI<<1)+1];n.alpha[N]=L.alpha[gI];
n.Q4[N]=L.Q4[gI];n.HZ[N]=L.HZ[gI];J[N]=I[N]=1}else{n.KA[N]="CURVE";n.U9[fE]=U[E].qZ;n.U9[fE+1]=U[E].B1;
n.U9[fE+2]=U[E].SG;n.U9[fE+3]=U[E].oR;n.U9[fE+4]=L.U9[js+4];n.U9[fE+5]=L.U9[js+5];n.z2[N<<1]=q(U[E].ZQ,L.U9[js+4],$[gI<<1]);
n.z2[(N<<1)+1]=q(U[E].ZQ,L.U9[js+5],$[(gI<<1)+1]);n.alpha[N]=U[E].alpha;n.Q4[N]=U[E].alpha;J[N]=U[E].ZQ;
I[N]=U[E].Nc}E=H[E]}for(N=0;N<r;N++){s=X(N+1,r);n.HZ[N]=J[N]/(J[N]+I[s])}n.a2$=1;e.We=n}for(var N=0;
N<x.length;N++){var e=x[N];p(e);y(e);V(e);W(e);v(e);if(K.axU)j(e)}}return{a1P:C,a9h:a}}();h1.mZ=function(o,g,C,a){var x={AT:"minority",a8s:a,axU:!0,axW:1,av7:.2},K=h1.a1P(o,g,C,x);
h1.a9h(K,x);return K};h1.DE=function(o){var g=[];for(var N=0;N<o.length;N++){var C=o[N],a=C.We,x=["M"],K=[a.U9[(a.v9-1)*6+4],a.U9[(a.v9-1)*6+5]];
for(var h=0;h<a.v9;h++){var X=h*6;if(a.KA[h]==1){x.push("C");for(var w=0;w<6;w++)K.push(a.U9[X+w])}else if(a.KA[h]==0){x.push("L");
for(var w=2;w<4;w++)K.push(a.U9[X+w])}}x.push("Z");g.push({parent:C.parent,color:C.color,path:{w:K,G:x}})}return g};
h1.m1=function(o,g,C){var ee=o.length>>1,a,x=o[2*ee-3]-C,K=o[2*ee-2]-g,h=o[2*ee-1]-C,X=h>x,w=0;for(var N=0;
N<ee;N++){a=K;x=h;K=o[2*N]-g;h=o[2*N+1]-C;if(x==h)continue;X=h>x}for(var N=0;N<ee;N++){a=K;x=h;K=o[2*N]-g;
h=o[2*N+1]-C;if(x<0&&h<0)continue;if(x>0&&h>0)continue;if(a<0&&K<0)continue;if(x==h&&Math.min(a,K)<=0)return!0;
if(x==h)continue;var G=a+(K-a)*-x/(h-x);if(G==0)return!0;if(G>0)w++;if(x==0&&X&&h>x)w--;if(x==0&&!X&&h<x)w--;
X=h>x}return(w&1)==1};h1.fill=function(o,g,C,a){var x=g[o],K=[o],h=0;while(h<K.length){var X=K[h];h++;
g[X]=a;if(g[X-C]==x){K.push(X-C);g[X-C]=254}if(g[X-1]==x){K.push(X-1);g[X-1]=254}if(g[X+1]==x){K.push(X+1);
g[X+1]=254}if(g[X+C]==x){K.push(X+C);g[X+C]=254}}};function fD(){}fD.kR=function(o){var g=new Uint8Array(o),C=0,a={H7:[],ys:[],list:[]},x=u.eX(g,C);
C+=2;if(x<=2){return fD.a5D(g)}var K=u.eX(g,C);C+=2;var h=u.M7(g,C,8);C+=8;var X=u.s(g,C);C+=4;if(X>0)a.H7=fD.Z_(g,C,X,K,x);
C+=X;var w=u.M7(g,C,8);C+=8;var G=u.s(g,C);C+=4;if(G>0)a.ys=fB.tY(g,C,G);C+=G;var R=u.M7(g,C,8);C+=8;
var d=u.s(g,C);C+=4;if(d>0){var q={};b1._o(g,q,C+4);a.list=q.Brsh.v}C+=d;var m=a.list;for(var N=0;N<m.length;
N++){e5.fW.check(m[N].v)}return a};fD.LO=function(o,g){o.v.Nm.v=g};fD.a5D=function(o){var g={H7:[],ys:[],list:[]},C=0,a=u.eX(o,C);
C+=2;var x=u.eX(o,C);C+=2;for(var N=0;N<x;N++){var K=u.eX(o,C);C+=2;var h=u.s(o,C);C+=4;var X=C;if(K==2){var w={};
g.H7.push(w);var G=u.s(o,X);X+=4;var R=u.eX(o,X);X+=2;if(a==2){var d=u.Qy(o,X);X+=4+d.length*2+2}w.id=aX.PJ()+"-d71c-11e5-b1ae-a548a96e5f9f";
X++;X+=8;w.Cn=u.Q6(o,X);X+=16;var q=u.eX(o,X);X+=2;var m=o[X];X++;var M=iT.Np(!1,q,o,w.Cn.m,w.Cn.n,X,m);
fD.CE(w,M);var Z=e5.pf(w.id),Q=Z.Brsh.v;Q.Dmtr.v.val=w.Cn.m;Q.Spcn.v.val=R;g.list.push({t:"Objc",v:Z})}C+=h}return g};
fD._O=function(o){var g=new jm,C=0,a=0;u.un(g,C,6);C+=2;u.un(g,C,2);C+=2;u.mC(g,C,"8BIMsamp");C+=8;C+=4;
a=C;C=fD.wb(g,C,o.H7);u.SA(g,a-4,C-a);u.mC(g,C,"8BIMpatt");C+=8;C+=4;a=C;C=fB.J8(g,C,o.ys);u.SA(g,a-4,C-a);
var x={classID:"null",Brsh:{t:"VlLs",v:o.list}};u.mC(g,C,"8BIMdesc");C+=8;C+=4;a=C;u.SA(g,C,16);C+=4;
C+=b1.sX(g,x,C);u.SA(g,a-4,C-a);return g.data.slice(0,C).buffer};fD.Z_=function(o,g,C,a,x){var K=u.s,h=u.Q6,X=g+C,w=[];
while(g<X){var G={};w.push(G);var R=K(o,g);g+=4;var d=g,q=u.nO(o,g);g+=q.length;G.id=q.zv;if(a==1){g+=9;
G.Cn=h(o,g);g+=16}else{g+=7;var m=K(o,g);g+=4;G.Cn=h(o,g);g+=16;var M=K(o,g);g+=4;g+=M*4;var Z=K(o,g);
g+=4;var Q=K(o,g);g+=4;var p=h(o,g);g+=16}var y=u.eX(o,g);g+=2;var V=o[g];g+=1;var W=iT.Np(!1,y,o,G.Cn.m,G.Cn.n,g,V);
fD.CE(G,W);if(R%4!=0)R+=4-R%4;g=d+R}return w};fD.CE=function(o,g){var C=o.Cn.clone(),a=l.Z(C.$()*4);
l.Oa(g,a,3);C.x=C.y=0;o.Bd=[a,C]};fD.wb=function(o,g,C){var a=u.SA,x=u.BE;for(var N=0;N<C.length;N++){var K=C[N],h=g+4,w=56,R=1;
g+=4;u.Kf(o,g,K.id);g+=K.id.length+2;o.TB(g,1);o.data[g]=1;g+=3;a(o,g,3);g+=4;var X=g;g+=4;x(o,g,K.Cn);
g+=16;a(o,g,w);g+=4;g+=w*4;a(o,g-4,1);var G=g;g+=4;a(o,g,8);g+=4;x(o,g,K.Cn);g+=16;u.un(o,g,8);g+=2;
o.TB(g,1);o.data[g]=R;g++;var d=l.Z(K.Cn.$());l.eP(K.Bd[0],d,3);o.TB(g,K.Cn.$()*2);g=iT.I5(!1,d,o.data,K.Cn.m,K.Cn.n,g,R);
o.TB(g,8);g+=8;var q=g-h;a(o,h-4,q);a(o,X,q-49);a(o,G,q-305);if(q%4!=0)g+=4-q%4}return g};function j3(){}j3.kR=function(o){var g=new Uint8Array(o),C=[],a=0,x=u.eX(g,a);
a+=2;if(x!=4){throw"Unknown version of curves: "+x}var K=u.eX(g,a);a+=2;for(var N=0;N<K;N++){var h=j3.iF(g,a);
a+=2+2*h.length;C.push(h)}if(a==g.length)return C;var X=u.M7(g,a,4);a+=4;var w=u.eX(g,a);a+=2;var G=u.eX(g,a);
a+=2;if(G!=0)throw"extra curves for channels";return C};j3.t2=function(o,g,C){var a=g,x=[],K=o[g];g+=3;
var h=u.s(o,g);g+=4;for(var N=0;N<4;N++){var X=h>>>N&1;if(X){if(K==0){var w=j3.iF(o,g);g+=2+2*w.length}else{var w=j3.aas(o,g);
g+=256}x.push(w)}else x.push(K==0?[0,0,255,255]:j3.a97())}var G=hb.l3("curv");for(var N=0;N<4;N++){if(K==0){var R=x[N],d=[];
for(var q=0;q<R.length;q+=2)d.push(l.QG.bR(R[q],R[q+1],!0));j3.eV(G,N,d)}else j3.eV(G,N,x[N])}return G};
j3.a97=function(){var o=[];for(var N=0;N<256;N++)o.push(N);return o};j3.eV=function(o,g,C){var a=h5.ZT("CrvA",g);
if(C.length<256)a.Crv={t:"VlLs",v:C};else{a.Mpng={t:"VlLs",v:[]};for(var N=0;N<256;N++)a.Mpng.v[N]={t:"long",v:C[N]}}a={t:"Objc",v:a};
var x=o.Adjs.v,K=h5.GW(x,g);if(K==-1)x.push(a);else x[K]=a};j3.Ca=function(o,g){var C=o.Adjs.v,a=h5.GW(C,g);
if(a==-1){if(C.length==0||C[0].v.Crv)return[l.QG.bR(0,0,!0),l.QG.bR(255,255,!0)];if(C[0].v.autoMachineLearning||C[0].v.AuCo)return[l.QG.bR(0,0,!0),l.QG.bR(128,160,!0),l.QG.bR(255,255,!0)];
var x=[];for(var N=0;N<256;N++)x.push(N);return x}var K=C[a].v;if(K.Crv)return K.Crv.v;if(K.Mpng){var x=[];
for(var N=0;N<256;N++)x.push(K.Mpng.v[N].v);return x}return[l.QG.bR(0,0,!0),l.QG.bR(255,255,!0)]};j3.iF=function(o,g){var C=[],a=u.eX(o,g);
g+=2;for(var x=0;x<a;x++){var K=u.eX(o,g);g+=2;var h=u.eX(o,g);g+=2;C.push(h,K)}return C};j3.a8t=function(o,g,C){var a=C.length/2;
u.un(o,g,a);g+=2;for(var x=0;x<a;x++){u.un(o,g,C[x*2+1]);g+=2;u.un(o,g,C[x*2+0]);g+=2}};j3.aas=function(o,g){var C=[];
for(var N=0;N<256;N++)C.push(o[g+N]);return C};j3.axM=function(o,g,C){o.TB(g,256);for(var N=0;N<256;
N++)o.data[g+N]=C[N]};j3.vn=function(o,g,C){var a=[];for(var N=0;N<4;N++){var x=j3.Ca(C,N);if(x.length==256)a.push(x);
else{var K=[];for(var h=0;h<x.length;h++)K.push(x[h].v.Hrzn.v,x[h].v.Vrtc.v);a.push(K)}}var X=g,w=a[0].length==256?1:0;
o.TB(g,3);o.data[g]=w;o.data[g+1]=0;o.data[g+2]=1;g+=3;u.SA(o,g,15);g+=4;for(var N=0;N<4;N++){var G=a[N];
if(w==0){j3.a8t(o,g,G);g+=2+2*G.length}else{j3.axM(o,g,G);g+=256}}return g-X};function aw(){}aw.t2=function(o,g,C){var a={},x=u.eX(o,g);
g+=2;a.v8=o[g]==1;g++;g++;a.tB=[u.D3(o,g),u.D3(o,g+2),u.D3(o,g+4)];g+=6;a.Ic=[u.D3(o,g),u.D3(o,g+2),u.D3(o,g+4)];
g+=6;a.OB=[];for(var N=0;N<6;N++){var K={};K.vU=[u.D3(o,g),u.D3(o,g+2),u.D3(o,g+4),u.D3(o,g+6)];g+=8;
K.yF=[u.D3(o,g),u.D3(o,g+2),u.D3(o,g+4)];g+=6;a.OB.push(K)}var h=hb.l3("hue2"),X=a;if(h.Clrz==null)h.Clrz={t:"bool",v:!1};
h.Clrz.v=X.v8;for(var N=0;N<7;N++){var w=N==0?X.v8?X.tB:X.Ic:X.OB[N-1];aw.eV(h,N,w)}return h};aw.ad2=function(o){return{classID:"Hst2",H:{t:"long",v:o[0]},Strt:{t:"long",v:o[1]},Lght:{t:"long",v:o[2]}}};
aw.GW=function(o,g){for(var N=0;N<o.length;N++){var C=o[N].v.LclR;if(g==0&&C==null||C!=null&&C.v==g)return N}return-1};
aw.eV=function(o,g,C){var a=g==0?C:C.yF,x=aw.ad2(a);if(g!=0){var K=C.vU;x.LclR={t:"long",v:g},x.BgnR={t:"long",v:K[0]};
x.BgnS={t:"long",v:K[1]};x.EndS={t:"long",v:K[2]};x.EndR={t:"long",v:K[3]}}x={t:"Objc",v:x};var h=o.Adjs.v,X=aw.GW(h,g);
if(X==-1)h.push(x);else h[X]=x};aw.Ca=function(o,g){var C=o.Adjs.v,a=aw.GW(C,g);if(a==-1){if(g==0)return[0,0,0];
else return[{vU:[315,345,15,45],yF:[0,0,0]},{vU:[15,45,75,105],yF:[0,0,0]},{vU:[75,105,135,165],yF:[0,0,0]},{vU:[135,165,195,225],yF:[0,0,0]},{vU:[195,225,255,285],yF:[0,0,0]},{vU:[255,285,315,345],yF:[0,0,0]}][g-1]}var x=C[a].v,K=[x.H.v,x.Strt.v,x.Lght.v];
if(g==0)return K;return{yF:K,vU:[x.BgnR.v,x.BgnS.v,x.EndS.v,x.EndR.v]}};aw.vn=function(o,g,C){var a={v8:C.Clrz?C.Clrz.v:!1,OB:[]};
a.tB=a.Ic=aw.Ca(C,0);for(var N=1;N<7;N++)a.OB.push(aw.Ca(C,N));var x=2+2+12+6*14,K=o.data;o.TB(g,x);
u.rf(K,g,2);g+=2;K[g]=a.v8?1:0;g++;g++;u.mY(K,g+0,a.tB[0]);u.mY(K,g+2,a.tB[1]);u.mY(K,g+4,a.tB[2]);g+=6;
u.mY(K,g+0,a.Ic[0]);u.mY(K,g+2,a.Ic[1]);u.mY(K,g+4,a.Ic[2]);g+=6;for(var N=0;N<6;N++){var h=a.OB[N].vU,X=a.OB[N].yF;
u.mY(K,g+0,h[0]);u.mY(K,g+2,h[1]);u.mY(K,g+4,h[2]);u.mY(K,g+6,h[3]);g+=8;u.mY(K,g+0,X[0]);u.mY(K,g+2,X[1]);
u.mY(K,g+4,X[2]);g+=6}return x};function h5(){}h5.kR=function(o){var g=new Uint8Array(o),C=2,a=[];for(var N=0;
N<29;N++){var x=[];a.push(x);for(var K=0;K<5;K++)x.push(u.eX(g,C+N*10+K*2))}C+=29*10;if(C<g.length){var h=u.M7(g,C,4);
C+=4;var X=u.eX(g,C);C+=2;var w=u.eX(g,C);C+=2;var G=w-29;for(var N=0;N<G;N++){var x=[];a.push(x);for(var K=0;
K<5;K++)x.push(u.eX(g,C+N*10+K*2))}}var R=hb.l3("levl");for(var N=0;N<4;N++)h5.eV(R,N,a[N]);return R};
h5.ZT=function(o,N){var g=["Cmps","Rd","Grn","Bl"],C={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:g[N]}}]};
return{classID:o,Chnl:C}};h5.GW=function(o,g){var C={Cmps:0,Rd:1,Grn:2,Bl:3};for(var N=0;N<o.length;
N++){var a=o[N].v,x=C[a.Chnl.v[0].v.enum];if(x==g)return N}return-1};h5.eV=function(o,g,C){var a=h5.ZT("LvlA",g);
a.Inpt={t:"VlLs",v:[{t:"long",v:C[0]},{t:"long",v:C[1]}]};a.Otpt={t:"VlLs",v:[{t:"long",v:C[2]},{t:"long",v:C[3]}]};
a.Gmm={t:"doub",v:C[4]/100};a={t:"Objc",v:a};var x=o.Adjs.v,K=h5.GW(x,g);if(K==-1)x.push(a);else x[K]=a};
h5.Ca=function(o,g){var C=[0,255,0,255,100],a=o.Adjs.v,x=h5.GW(a,g);if(x==-1)return C;var K=a[x].v;if(K.Inpt){C[0]=K.Inpt.v[0].v;
C[1]=K.Inpt.v[1].v}if(K.Otpt){C[2]=K.Otpt.v[0].v;C[3]=K.Otpt.v[1].v}if(K.Gmm){C[4]=Math.round(K.Gmm.v*100)}return C};
h5._O=function(o,g){var C=[],a=0;for(var N=0;N<4;N++)C.push(h5.Ca(g,N));while(C.length<29)C.push([0,255,0,255,100]);
o.TB(0,2+10*29);u.rf(o.data,a,2);a+=2;for(var N=0;N<29;N++){var x=C[N];for(var K=0;K<5;K++)u.rf(o.data,a+N*10+K*2,x[K])}a+=29*10;
if(C.length==29)return a;o.TB(a,8+10*(C.length-29));u.P9(o.data,a,"Lvls");a+=4;u.rf(o.data,a,3);a+=2;
u.rf(o.data,a,C.length);a+=2;var h=C.length-29;for(var N=0;N<h;N++){var x=C[29+N];for(var K=0;K<5;K++)u.rf(o.data,a+N*10+K*2,x[K])}a+=10*h;
return a};function eH(){}eH.kR=function(o){var g=new Uint8Array(o),C=2,a={aN:[],NQ:[]},x=u.M7(g,C,4);
C+=4;var K=u.eX(g,C);C+=2;var h=u.s(g,C);C+=4;a.aN=fB.tY(g,C,h);C+=h;var X=u.s(g,C);C+=4;for(var N=0;
N<X;N++){var w=u.s(g,C);C+=4;var G=C,R={q5:{},ex:{}};a.NQ.push(R);C+=4;C+=b1._o(g,R.q5,C);C+=4;C+=b1._o(g,R.ex,C);
C=G+w;var d=R.ex.blendOptions,q=R.ex.Lefx;if(d&&Object.keys(d.v).length>1){}if(q){if(q.v.masterFXSwitch==null)q.v.masterFXSwitch={t:"bool",v:!0};
fu.Ne(q.v)}}return a};eH.LO=function(o,g){o.q5.Nm.v=g};eH._O=function(o){var g=new jm,C=0;u.un(g,C,2);
C+=2;u.mC(g,C,"8BSL");C+=4;u.un(g,C,3);C+=2;var a=C;C+=4;C=fB.J8(g,C,o.aN);u.SA(g,a,C-a-4);var x=o.NQ.length;
u.SA(g,C,x);C+=4;for(var N=0;N<x;N++){C+=4;var K=C,h=o.NQ[N];u.SA(g,C,16);C+=4;C+=b1.sX(g,h.q5,C);var X=h.ex.Lefx;
if(X){h.ex.Lefx=JSON.parse(JSON.stringify(X));fu.ER(h.ex.Lefx.v)}u.SA(g,C,16);C+=4;C+=b1.sX(g,h.ex,C);
if(X)h.ex.Lefx=X;u.SA(g,K-4,C-K)}return g.data.slice(0,C).buffer};function hp(){}hp.t2=function(o,g,C){var a=u.eX(o,g);
g+=2;var x={};x.V5=u.eX(o,g)==1;g+=2;x.AD=[];for(var N=0;N<10;N++){var K=[];x.AD.push(K);for(var h=0;
h<4;h++)K.push(u.D3(o,g+h*2));g+=8}var X=hb.l3("selc");X.Mthd.v.CrcM=x.V5?"Absl":"Rltv";for(var N=1;
N<10;N++)hp.eV(X,N-1,x.AD[N]);return X};hp.hM="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
hp.ZT=function(o,N){var g=["Cmps","Rd","Grn","Bl"],C={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:g[N]}}]};
return{classID:o,Chnl:C}};hp.GW=function(o,g){var C=hp.hM;for(var N=0;N<o.length;N++){var a=o[N].v,x=C.indexOf(a.Clrs.v.Clrs);
if(x==g)return N}return-1};hp.eV=function(o,g,C){var a=["Cyn","Mgnt","Ylw","Blck"],x={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:hp.hM[g]}}};
for(var K=0;K<4;K++)x[a[K]]={t:"UntF",v:{type:"#Prc",val:C[K]}};x={t:"Objc",v:x};var h=o.ClrC.v,X=hp.GW(h,g);
if(X==-1)h.push(x);else h[X]=x};hp.Ca=function(o,g){var C=[0,0,0,0],a=o.ClrC.v,x=hp.GW(a,g);if(x==-1)return C;
var K=["Cyn","Mgnt","Ylw","Blck"];for(var N=0;N<4;N++)if(a[x].v[K[N]])C[N]=a[x].v[K[N]].v.val;return C};
hp.vn=function(o,g,C){var a={V5:C.Mthd.v.CrcM=="Absl",AD:[[0,0,0,0]]};for(var N=0;N<9;N++)a.AD.push(hp.Ca(C,N));
o.TB(g,84);u.rf(o.data,g,1);g+=2;u.rf(o.data,g,a.V5?1:0);g+=2;for(var N=0;N<10;N++){var x=a.AD[N];for(var K=0;
K<4;K++)u.mY(o.data,g+K*2,x[K]);g+=8}return 84};function dK(){}dK.l3=function(){return{oD:new aS(0,0,50,50),q5:"",Zb:"play",i:l.M.MG.rO([.1,.1,.9,.5,.1,.9],0)}};
dK.kR=function(o){o=new Uint8Array(o);var g=0,C=[],a=Date.now(),x=u.M7(o,0,4);g+=4;var K=u.s(o,g);g+=4;
var h=u.s(o,g);g+=4;for(var N=0;N<h;N++){var X=u.Qy(o,g);g+=X.length*2+4+2;if((X.length&1)==0)g+=2;g=dK.mj(o,g,X,C)}return C};
dK.mj=function(o,g,C,a){var x=u.s(o,g);g+=4;var K=u.s(o,g);g+=4;var h=g,X=u.nO(o,h).zv;h+=X.length+1;
var w=u.Q6(o,h);h+=16;var G=dK.q8(o,h,K-(h-g)),R=l.M.XI(G),d=l.o.TO(R),q=1/d.m,m=1/d.n;l.M.Jg(G,new kp(q,0,0,m,-d.x*q,-d.y*m));
a.push({Zb:C,q5:X,i:G,oD:w});g+=K;return g};dK.LO=function(o,g){o.Zb=g};dK._O=function(o){var g=new jm,C=0;
u.mC(g,C,"cush");C+=4;u.SA(g,C,2);C+=4;u.SA(g,C,o.length);C+=4;for(var N=0;N<o.length;N++){var a=o[N],x=a.Zb+"\0";
u.Cx(g,C,x);C+=4+x.length*2;if((x.length&1)==1)C+=2;u.SA(g,C,1);C+=4;C+=4;var K=C;u.Kf(g,C,a.q5);C+=a.q5.length+1;
u.BE(g,C,a.oD);C+=16;g.TB(C,a.i.length*26);dK.Pn(g.data,C,a.i,1,1);C+=a.i.length*26;var h=C-K;if((h&3)!=0)h+=4-(h&3);
u.SA(g,K-4,h);C=K+h}return g.data.slice(0,C).buffer};dK.aaU=function(o){var g=[];for(var N=0;N<o.length;
N++){var C=o[N],a=C.type,x={type:a};g.push(x);if(a==6){}else if(a==8)x.all=C.all;else if(a==0||a==3){x.length=C.length;
x.frule=C.j4;x.third=C.Y9;x.prmA=C.yc;x.prmB=C.km}else{x.c=[C.rD.x,C.rD.y,C.H.x,C.H.y,C.lu.x,C.lu.y]}}return g};
dK.Hb=function(o){var g=[];for(var N=0;N<o.length;N++){var C=o[N],a=C.type,x={type:a};g.push(x);if(a==6){}else if(a==8)x.all=C.all;
else if(a==0||a==3){x.length=C.length;x.j4=C.frule;x.Y9=C.third;x.yc=C.prmA;x.km=C.prmB}else{var K=C.c;
x.rD=new eN(K[0],K[1]);x.H=new eN(K[2],K[3]);x.lu=new eN(K[4],K[5])}}return g};dK.q8=function(o,g,C,a,x){if(a==null)a=1;
if(x==null)x=1;function K(Z,Q,p){var y=u.adO(Z,Q)*p,V=Math.round(y);return Math.abs(y-V)<1e-6?V:y}var h=u.D3,X=[],w=Math.floor(C/26);
for(var N=0;N<w;N++){var G=g+N*26,R={},d=0;X.push(R);R.type=h(o,G);G+=2;if(R.type==6){d=24}if(R.type==8){R.all=h(o,G);
G+=2;d=22}if(R.type==0||R.type==3){R.length=h(o,G);G+=2;R.j4=h(o,G);G+=2;R.Y9=h(o,G);G+=2;R.yc=u.s(o,G);
G+=4;R.km=u.s(o,G);G+=4;d=10}if(R.type==1||R.type==2||R.type==4||R.type==5){var q,m;m=K(o,G,x);G+=4;
q=K(o,G,a);G+=4;R.rD=new eN(q,m);m=K(o,G,x);G+=4;q=K(o,G,a);G+=4;R.H=new eN(q,m);m=K(o,G,x);G+=4;q=K(o,G,a);
G+=4;R.lu=new eN(q,m);d=0}for(var M=0;M<d;M++)if(o[G+M]!=0){console.log("Unexpected non-zero byte!",R,M,o[G+M])}}return X};
dK.Pn=function(o,g,C,a,x){var K=u.mY,h=u.Wg,X=C.length;for(var N=0;N<X;N++){var w=g+N*26,G=C[N];K(o,w,G.type);
w+=2;if(G.type==6){}if(G.type==8)K(o,w,G.all);if(G.type==0||G.type==3){K(o,w,G.length);w+=2;K(o,w,G.j4);
w+=2;K(o,w,G.Y9);w+=2}if(G.type==1||G.type==2||G.type==4||G.type==5){h(o,w,G.rD.y/x);w+=4;h(o,w,G.rD.x/a);
w+=4;h(o,w,G.H.y/x);w+=4;h(o,w,G.H.x/a);w+=4;h(o,w,G.lu.y/x);w+=4;h(o,w,G.lu.x/a);w+=4}}};function c2(){}c2.kR=function(o){var g=new Uint8Array(o),C=[],a=0;
a=c2.mp(g,a,C);if(a+3<g.length){C=[];a=c2.mp(g,a,C)}return C};c2.mp=function(o,g,C){var a=u.eX,x=u.D3,K=a(o,g);
g+=2;var h=a(o,g);g+=2;for(var N=0;N<h;N++){var X=c2.Wo(o,g);g+=10;if(K==2){X.dT=u.Qy(o,g);g+=4+X.dT.length*2+2}C.push(X)}return g};
c2.Wo=function(o,g){var C=u.eX,a=u.D3,x=C(o,g),m=null;g+=2;var K=C(o,g);g+=2;var h=C(o,g);g+=2;var X=C(o,g);
g+=2;var w=C(o,g);g+=2;var G=1/65535,R=255/65535,d=100/65535,q=255/1e4;if(x==0)m={z:K*R,B:h*R,K:X*R};
else if(x==1){m=l.QE(K*G,h*G,X*G);m.z*=255;m.B*=255;m.K*=255}else if(x==2)m=l.T.Xh({classID:"CMYC",Cyn:{t:"doub",v:100-K*d},Mgnt:{t:"doub",v:100-h*d},Ylw:{t:"doub",v:100-X*d},Blck:{t:"doub",v:100-w*d}});
else if(x==7){var M=l.sC(K/100,a(o,g-6)/100,a(o,g-4)/100);m=M}else if(x==8){m={z:255-K*q,B:255-h*q,K:255-X*q}}else throw"e "+x+", ";
return m};c2._O=function(o){var g=new jm,C=0,a=u.un;a(g,C,2);C+=2;a(g,C,o.length);C+=2;for(var N=0;N<o.length;
N++){var x=o[N];g.TB(C,10);c2.PH(g.data,C,x);C+=10;var K=(x.dT?x.dT:"")+"\0";u.Cx(g,C,K);C+=4+K.length*2}return g.data.slice(0,C).buffer};
c2.LO=function(o,g){o.dT=g};c2.PH=function(o,g,C){var a=65535/255,x=u.rf;x(o,g,0);x(o,g+2,Math.round(C.z*a));
x(o,g+4,Math.round(C.B*a));x(o,g+6,Math.round(C.K*a));x(o,g+8,0)};function i9(){}i9.kR=function(o){var g=new Uint8Array(o),C=4,a={};
a.Wm=u.Qy(g,C);C+=4+a.Wm.length*2+2;a.exp=g[C++]==1;a.B9=[];var x=u.s(g,C);C+=4;for(var N=0;N<x;N++){var K={};
a.B9.push(K);K.XE=u.eX(g,C);C+=2;K.shift=g[C++]==1;K.afF=g[C++]==1;K.color=u.eX(g,C);C+=2;K.Wm=u.Qy(g,C);
C+=4+K.Wm.length*2+2;K.exp=g[C++]==1;K.B9=[];var h=u.s(g,C);C+=4;for(var X=0;X<h;X++){var w={};K.B9.push(w);
w.exp=g[C++]==1;w.N=g[C++]==1;w.a7R=g[C++]==1;w.ao1=g[C++];var G=u.M7(g,C,4);C+=4;if(G=="TEXT"){w.j7=i9.Aj(g,C);
C+=4+w.j7.length}else if(G=="long"){w.j7=u.M7(g,C,4);C+=4}else throw"e";w.Pf=i9.Aj(g,C);C+=4+w.Pf.length;
var R=u.sU(g,C);C+=4;if(R==-1){w.FS={};var d=b1._o(g,w.FS,C);C+=d}}}console.log(a);var q=new Uint8Array(i9._O(a));
for(var N=0;N<q.length;N++)if(q[N]!=g[N]&&u.M7(g,N+1,4)!="None"){console.log(g.length,q.length);var m=4*(N>>>2)-16;
console.log(u.NW(g,m,64));console.log(u.NW(q,m,64));console.log(g.slice(m,m+64));console.log(q.slice(m,m+64));
throw"i"}return[a]};i9.Aj=function(o,g){var C=u.s(o,g);return u.M7(o,g+4,C)};i9.rY=function(o,g,C){u.SA(o,g,C.length);
u.mC(o,g+4,C)};i9._O=function(o){var g=new jm,C=0;u.SA(g,C,16);C+=4;u.Cx(g,C,o.Wm+"\0");C+=4+o.Wm.length*2+2;
g.TB(C,1);g.data[C++]=o.exp?1:0;var a=o.B9.length;u.SA(g,C,a);C+=4;for(var N=0;N<a;N++){var x=o.B9[N];
u.un(g,C,x.XE);C+=2;g.TB(C,2);g.data[C++]=x.shift?1:0;g.data[C++]=x.afF?1:0;u.un(g,C,x.color);C+=2;u.Cx(g,C,x.Wm+"\0");
C+=4+x.Wm.length*2+2;g.TB(C,1);g.data[C++]=x.exp?1:0;var K=x.B9.length;u.SA(g,C,K);C+=4;for(var h=0;
h<K;h++){var X=x.B9[h];g.TB(C,4);g.data[C++]=X.exp?1:0;g.data[C++]=X.N?1:0;g.data[C++]=X.a7R?1:0;g.data[C++]=X.ao1;
var w="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(X.j7)!=-1;u.mC(g,C,w?"long":"TEXT");C+=4;
if(!w){i9.rY(g,C,X.j7);C+=4+X.j7.length}else{u.mC(g,C,X.j7);C+=4}i9.rY(g,C,X.Pf);C+=4+X.Pf.length;u.jQ(g,C,X.FS?-1:0);
C+=4;if(X.FS){var G=b1.sX(g,X.FS,C);C+=G}}}return g.data.slice(0,C).buffer};function dg(){}dg.kR=function(o){var g=new Uint8Array(o),C=0,a=u.s(g,C),w;
C+=4;var x=u.M7(g,C,8);C+=8;var K=u.KI(g,C);C+=4;var h=u.KI(g,C);C+=4;var X=u.KI(g,C);C+=4;if(a==2){w=new Float32Array(o,32,o.byteLength-32>>>2)}else if(a==3||a==4){w=new Float32Array(h*X*2);
var G=0,R=0,d=!0;C=a==3?32:16+8+40;while(C<g.length){var q=u.KI(g,C);C+=4;if(d)R+=q;else{for(var N=0;
N<q;N++){w[G+R+N<<1]=u.V1(g,C);w[(G+R+N<<1)+1]=u.V1(g,C+4);C+=8}R+=q}d=!d;if(q!=0&&R==h){G+=h;R=0;d=!0;
if(G==h*X)break}}}else throw"unknown Mesh version: "+a;return{MI:h,fB:X,map:w}};dg.i3=function(o){var g=o.MI,C=o.fB,a=o.map,x=new Uint8Array(32+C*g*8+C*8),K=0,h=0;
u.we(x,K,3);K+=4;u.P9(x,K,"yfqLhseM");K+=8;u.xa(x,K,2);K+=4;u.xa(x,K,g);K+=4;u.xa(x,K,C);K+=4;u.xa(x,K,0);
K+=4;u.xa(x,K,1);K+=4;for(var X=0;X<C;X++){u.xa(x,K,0);K+=4;u.xa(x,K,g);K+=4;for(var w=0;w<g;w++){u.Uv(x,K,a[h]);
u.Uv(x,K+4,a[h+1]);h+=2;K+=8}}return x.buffer};function fd(){}fd.kR=function(o){var g=new Uint8Array(o),C=0,a=u.M7(g,C,4);
C+=4;var x=u.eX(g,C);C+=2;var K=u.s(g,C);C+=4;var h=[];for(var N=0;N<K;N++){var X=u.s(g,C);C+=4;var w={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
h.push(w);var G=u.Qy(g,C);w.Nm.v=G;C+=4+G.length*2+2;var R=u.eX(g,C);C+=2;var d=u.eX(g,C);C+=2;for(var q=0;
q<d;q++){var m=l.QG.bR(0,0,!0);m.v.Vrtc.v=u.eX(g,C);C+=2;m.v.Hrzn.v=u.eX(g,C);C+=2;w.Crv.v.push(m)}if(X==1){}else if(X==2){for(var q=0;
q<d;q++){w.Crv.v[q].v.Cnty.v=g[C]==1;C+=1}}else throw"error";var M=u.s(g,C);C+=4;var Z=u.s(g,C);C+=4}return h};
fd.LO=function(o,g){o.Nm.v=g};fd._O=function(o){var g=new jm,C=0;u.mC(g,C,"8BFS");C+=4;u.un(g,C,1);C+=2;
u.SA(g,C,o.length);C+=4;for(var N=0;N<o.length;N++){u.SA(g,C,2);C+=4;var a=o[N];u.Cx(g,C,a.Nm.v+"\0");
C+=4+a.Nm.v.length*2+2;u.un(g,C,2);C+=2;var x=a.Crv.v.length;u.un(g,C,x);C+=2;for(var K=0;K<x;K++){var h=a.Crv.v[K];
u.un(g,C,h.v.Vrtc.v);C+=2;u.un(g,C,h.v.Hrzn.v);C+=2}g.TB(C,x);for(var K=0;K<x;K++){g.data[C]=a.Crv.v[K].v.Cnty.v;
C++}u.SA(g,C,0);C+=4;u.SA(g,C,0);C+=4}return g.data.slice(0,C).buffer};function fB(){}fB.kR=function(o){var g=new Uint8Array(o),C=4,a=u.eX(g,C);
C+=2;var x=u.s(g,C);C+=4;var K=[];for(var N=0;N<x;N++){var h={};K.push(h);C=fB.ge(g,C,h)}return K};fB.LO=function(o,g){o.name=g};
fB._O=function(o){var g=new jm,C=0;u.mC(g,C,"8BPT");C+=4;u.un(g,C,1);C+=2;u.SA(g,C,o.length);C+=4;for(var N=0;
N<o.length;N++){C=fB.$F(g,C,o[N])}return g.data.slice(0,C).buffer};fB.tY=function(o,g,C){var a=g+C,x=[];
while(g<a){var K={},h=u.s(o,g);g+=4;var X=g;g=fB.ge(o,g,K);if(!K.Bd[1].to())x.push(K);if(h%4!=0)h+=4-h%4;
g=X+h}return x};fB.J8=function(o,g,C){for(var N=0;N<C.length;N++){var a=C[N];g+=4;var x=g;g=fB.$F(o,g,a);
var K=g-x;u.SA(o,x-4,K);if(K%4!=0)x+=4-K%4;g=x+K}return g};fB.ge=function(o,g,C){var a=u.s(o,g);g+=4;
if(a!=1)alert("Unknown version of pattern");var x=u.s(o,g);g+=4;if(x!=1&&x!=2&&x!=3)console.log("Unsupported mode of pattern: "+x);
var K=u.eX(o,g);g+=2;var h=u.eX(o,g);g+=2;var X=new aS(0,0,h,K);C.name=u.Qy(o,g);g+=4+2*C.name.length+2;
var w=o[g];g++;C.id=u.M7(o,g,w);g+=C.id.length;var G=-1;if(x==2){G=g;g+=3*256+4}var R=new l.ib(h*K);
g=fB.aqd(o,g,R);if(x==2){for(var N=0;N<R.z.length;N++){var d=3*R.z[N];R.z[N]=o[G+d+0];R.B[N]=o[G+d+1];
R.K[N]=o[G+d+2]}}var q=l.Z(X.$()*4);l.bc(R,q);C.Bd=[q,X];return g};fB.$F=function(o,g,C){var a=C.Bd[0],x=C.Bd[1];
u.SA(o,g,1);g+=4;u.SA(o,g,3);g+=4;u.un(o,g,x.n);g+=2;u.un(o,g,x.m);g+=2;u.Cx(o,g,C.name+"\0");g+=4+2*C.name.length+2;
u.OK(o,g,C.id.length);g++;u.mC(o,g,C.id);g+=C.id.length;var K=new l.ib(x.$());l.NA(a,K);g=fB.a5_(o,g,K,x);
return g};fB.aqd=function(o,g,C){var a=g,x={Cn:null,dp:[],aeA:null,QV:null},K=u.s(o,g);g+=4;var h=u.s(o,g);
g+=4;x.Cn=u.Q6(o,g);g+=16;var X=u.s(o,g);g+=4;for(var N=0;N<X+2;N++){var w=u.s(o,g);g+=4;if(w==0)continue;
var G=u.s(o,g);g+=4;if(G==0)continue;var R=u.s(o,g);g+=4;var d=u.Q6(o,g);g+=16;var q=u.eX(o,g);g+=2;
var m=o[g];g++;var M=iT.Np(!1,R,o,d.m,d.n,g,m);if(N<X)x.dp.push(M);if(N==X)x.aeA=M;if(N==X+1)x.QV=M;
g+=G-23}if(!x.Cn.to()){if(x.dp[0])C.z=x.dp[0];if(x.dp[1])C.B=x.dp[1];else C.B=x.dp[0].slice(0);if(x.dp[2])C.K=x.dp[2];
else C.K=x.dp[0].slice(0);if(x.QV)C.Bk=x.QV;else C.Bk.fill(255)}return g};fB.a5_=function(o,g,C,a){var x=g,K={Cn:a,dp:[C.z,C.B,C.K],aeA:null,QV:C.Bk};
u.SA(o,g,3);g+=4;u.SA(o,g,0);g+=4;u.BE(o,g,a);g+=16;u.SA(o,g,24);g+=4;for(var N=0;N<24+2;N++){var h=g,X=N<3||N==25?1:0;
u.SA(o,g,X);g+=4;if(X==0)continue;u.SA(o,g,0);g+=4;u.SA(o,g,8);g+=4;u.BE(o,g,a);g+=16;u.un(o,g,8);g+=2;
u.OK(o,g,1,1);g++;var w=N<3?K.dp[N]:K.QV;o.TB(g,a.$()+2);g=iT.I5(!1,w,o.data,a.m,a.n,g,1);u.SA(o,h+4,g-h-8)}u.SA(o,x+4,g-x-8);
return g};function ex(){}ex.kR=function(o){var g=new Uint8Array(o),C=0;if(g[0]==71)return ex.a6W(g);
var a=u.M7(g,C,4);C+=4;var x=u.eX(g,C);C+=2;var K=[];if(x<=3){var h=u.eX(g,C);C+=2;for(var N=0;N<h;N++){var X=g[C++],w=u.M7(g,C,X);
C+=X;var G=ex.Oz(g,C,w),R=G[0];C=G[1];K.push(R)}}else{var G={},d=b1._o(g,G,C+4),q=G.GrdL.v;for(var N=0;
N<q.length;N++)K[N]=q[N].v.Grad.v}return K};ex.LO=function(o,g){o.Nm.v=g};ex._O=function(o){var g=new jm,C=0;
u.mC(g,C,"8BGR");C+=4;u.un(g,C,5);C+=2;u.SA(g,C,16);C+=4;var a={classID:"null",GrdL:{t:"VlLs",v:[]}},x=a.GrdL.v;
for(var N=0;N<o.length;N++)x[N]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:o[N]}}};
C+=b1.sX(g,a,C);return g.data.slice(0,C).buffer};ex.Oz=function(o,g,C){var a={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:C},Trns:{t:"VlLs",v:[]}},x=u.eX(o,g);
g+=2;if(x==0)throw"e";for(var N=0;N<x;N++){var K=u.s(o,g),h=u.s(o,g+4),X=c2.Wo(o,g+8),w={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:X.z},Grn:{t:"doub",v:X.B},Bl:{t:"doub",v:X.K}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:K},Mdpn:{t:"long",v:h}}};
a.Clrs.v.push(w);g+=20}var G=u.eX(o,g);g+=2;for(var N=0;N<G;N++){var K=u.s(o,g),h=u.s(o,g+4),R=u.eX(o,g+8),w={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*R/255)}},Lctn:{t:"long",v:K},Mdpn:{t:"long",v:h}}};
a.Trns.v.push(w);g+=10}var d=u.eX(o,g);g+=2;if(d!=2)throw d;a.Intr.v=u.eX(o,g);g+=2;var q=u.eX(o,g);
g+=2;if(q!=32)throw"e";return[a,g]};ex.awg=function(o,g,C){var a=C.Clrs.v.length;u.un(o,g,a);g+=2;for(var N=0;
N<a;N++){var x=C.Clrs.v[N];u.SA(o,g,x.v.Lctn.v);u.SA(o,g+4,x.v.Mdpn.v);u.un(o,g+8,0);var K=l.T.CT(l.T.Xh(x.v.Clr.v)),h=[K.Rd.v,K.Grn.v,K.Bl.v,0];
for(var X=0;X<4;X++)u.un(o,g+10+X*2,Math.round(65535*(h[X]/255)));g+=20}var w=C.Trns.v.length;u.un(o,g,w);
g+=2;for(var N=0;N<w;N++){var x=C.Trns.v[N];u.SA(o,g,x.v.Lctn.v);u.SA(o,g+4,x.v.Mdpn.v);u.un(o,g+8,Math.round(255*x.v.Opct.v.val/100));
g+=10}u.un(o,g,2);g+=2;u.un(o,g,C.Intr.v);g+=2;u.un(o,g,32);g+=2;return g};ex.a6W=function(o){var g=u.SP(o,0,o.length).split("\n"),C=parseFloat(g[2]),a=[],x=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]).Grad.v;
x.Intr.v=0;x.Nm.v=g[1];for(var N=0;N<C;N++){var K=g[3+N].split(" ").map(parseFloat),h=K[11],X=K[12];
a.push([K[0],K.slice(3,6),K[6]]);if(X!=0){var w=l.br(K[3],K[4],K[5]),G=l.br(K[7],K[8],K[9]),R=w.fB,d=G.fB;
if(X==1&&R>d)d++;if(X==2&&R<d)R++;var q=Math.round(Math.abs(d-R)*7);if(q>1)for(var m=0;m<q;m++){var M=1-(m+1)/(q+1),Z=1-M,Q=l.QE(M*R+Z*d,M*w.ZQ+Z*G.ZQ,M*w.jr+Z*G.jr);
a.push([M*K[0]+Z*K[2],[Q.z,Q.B,Q.K],M*K[6]+Z*K[10]])}}a.push([K[2],K.slice(7,10),K[10]])}a.sort(function(p,y){return p[0]-y[0]});
l.T.yq(a,x);return[x]};function jF(){}jF.kR=function(o){var g=new Uint8Array(o),C=[],a=[],x=[],K=[],h=[],X=0,w=u.M7(g,X,4);
X+=4;var G=u.s(g,X);X+=4;var R=u.s(g,X);X+=4;while(X<g.length){var d=u.M7(g,X,4);X+=4;var q=u.M7(g,X,4);
X+=4;var m=u.s(g,X);X+=4;if(q=="tppa"){a=fB.tY(g,X,m);X+=m}else if(q=="tpbd"){x=fD.Z_(g,X,m,1,1);X+=m}else if(q=="tptp"){var M=u.s(g,X);
X+=4;for(var N=0;N<M;N++){var Z=u.Qy(g,X);X+=6+Z.length*2;X+=4;var Q={};X+=b1._o(g,Q,X);C.push([Z,Q])}while((X&3)!=0)X++}else if(q=="tpsh"){var p=X,y=g.slice(X,X+m);
while(X<p+m){var V=u.s(g,X);X+=4;X=dK.mj(g,X,"Shape",K)}X=p+m}else if(q=="tpst"){var p=X;X+=4;while(X<p+m){var W=u.s(g,X);
X+=4;var v=X,j=u.s(g,X);X+=4;var Q={q5:{},ex:{}};h.push(Q);X+=4;X+=b1._o(g,Q.q5,X);X+=4;X+=b1._o(g,Q.ex,X);
X=v+W;var e=Q.ex.Lefx;if(e){if(e.v.masterFXSwitch==null)e.v.masterFXSwitch={t:"bool",v:!0};fu.Ne(e.v)}}X=p+m}else{console.log(g.slice(X-8,X+64));
console.log(u.M7(g,X-8,64));throw q}}return{H7:x,ys:a,list:C,a51:K,NQ:h}};jF.LO=function(o,g){o[0]=g};
jF._O=function(o){var g=new jm,C=0;u.mC(g,C,"8BTP");C+=4;u.SA(g,C,3);C+=4;u.SA(g,C,1);C+=4;var a=[o.ys,o.H7,o.list];
for(var N=0;N<3;N++){if(a[N].length==0)continue;u.mC(g,C,"8BIM");C+=4;var x=["tppa","tpbd","tptp"][N];
u.mC(g,C,x);C+=4;var K=C;C+=4;if(x=="tppa"){C=fB.J8(g,C,o.ys)}else if(x=="tpbd"){C=fD.wb(g,C,o.H7)}else if(x=="tptp"){u.SA(g,C,o.list.length);
C+=4;for(var h=0;h<o.list.length;h++){var X=o.list[h];u.Cx(g,C,X[0]+"\0");C+=6+X[0].length*2;u.SA(g,C,16);
C+=4;C+=b1.sX(g,X[1],C)}}u.SA(g,K,C-K-4);while((C&3)!=0)C++;g.TB(C,0)}return g.data.slice(0,C).buffer};
function gN(){}gN.kR=function(o,g){var C=new Uint8Array(o),a;if(u.s(C,0)==C.length)a="icc";else if(C[0]=="<".charCodeAt(0))a="look";
else if(u.k$(C,"LUT_3D_SIZE")!=-1)a="cube";else a="3DL";if(a!="icc"){var x=gN.akk(C,a),K=gN.a2M(x[0],x[1]);
C=K}var h=[];for(var N=0;N<C.length;N++)h.push(C[N]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:g?g:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:h}}]};
gN._O=function(o){var g=o[0],C=new Uint8Array(g.profile.v);return C.buffer};gN.LO=function(o,g){o.Nm.v=g};
gN.a2M=function(o,g){var C=new jm,a=128;C.TB(0,128);var x=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var N=0;N<x.length;N++)C.data[N]=x[N];var K=["desc","A2B0"],h=K.length,X=128+4+h*12;u.SA(C,a,h);
a+=4;for(var w=0;w<h;w++){var G=K[w];u.mC(C,a,G);a+=4;u.SA(C,a,X);a+=4;var R=X;if(G=="desc"){u.mC(C,R,"mluc");
R+=4;R+=4;u.SA(C,R,1);R+=4;u.SA(C,R,12);R+=4;u.mC(C,R,"enUS");R+=4;var d="ICC by Photopea\0",q=d.length*2+2;
u.SA(C,R,q);R+=4;u.SA(C,R,28);R+=4;C.TB(R,q);for(var N=0;N<d.length;N++)C.data[R+N*2+1]=d.charCodeAt(N);
R+=q}if(G=="A2B0"){u.mC(C,R,"mAB ");R+=4;R+=4;C.TB(R,4);C.data[R]=3;C.data[R+1]=3;R+=4;C.TB(R,4*5);R+=4*3;
u.SA(C,R,R+8-X);R+=4;R+=4;C.TB(R,20);C.data[R]=o;C.data[R+1]=o;C.data[R+2]=o;R+=16;C.data[R]=2;R+=4;
var m=o*o*o*3;C.TB(R,m*2);for(var N=0;N<m;N++)u.rf(C.data,R+N*2,Math.max(0,Math.min(65535,Math.round(g[N]*65535))));
R+=m*2}var M=R-X;while((M&3)!=0)M++;u.SA(C,a,M);a+=4;X+=M}u.SA(C,0,X);return C.data.slice(0,X)};gN.akk=function(o,g){g="LUTFormat"+g.toUpperCase();
var C=[],a=0,x=u.SP(o,0,o.length),K="";for(var N=0;N<o.length&&K=="";N++){if(o[N]==10)K="\n";else if(o[N]==13){K="\r";
if(o[N+1]==10)K+="\n"}}if(g=="LUTFormatCUBE"){var h=x.split(K);for(var N=0;N<h.length;N++){if(h[N]==""||h[N][0]=="#")continue;
var X=h[N].split(" "),w=X[0];if(w=="LUT_3D_SIZE"){a=parseInt(X[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(w)!=-1)continue;
C.push(parseFloat(X[0]),parseFloat(X[1]),parseFloat(X[2]))}C=gN.xx(a,C)}else if(g=="LUTFormat3DL"){var h=x.split(K),G=1/4095;
for(var N=0;N<h.length;N++){var R=h[N];if(R==""||R=="3DMESH"||R.startsWith("Mesh")||R[0]=="#")continue;
var X=R.split(" "),w=X[0];if(a==0){a=X.length;continue}C.push(parseFloat(X[0])*G,parseFloat(X[1])*G,parseFloat(X[2])*G)}}else if(g=="LUTFormatLOOK"){var d=new DOMParser,q=d.parseFromString(x,"text/xml"),m=q.getElementsByTagName("LUT")[0],M=m.children[0].textContent;
a=parseInt(JSON.parse(M));var Z=m.children[1].textContent;Z=Z.replace(/"/g,"").replace(/\s/g,"");var Q=3*a*a*a,p=Q*4,y=new Uint8Array(p);for(var N=0;N<p;N++){var V=Z.charCodeAt(N*2),W=Z.charCodeAt(N*2+1),v=V<58?V-48:V-55,j=W<58?W-48:W-55;y[N]=(v<<4)+j}for(var N=0;N<Q;N++)C.push(u.V1(y,N<<2));C=gN.xx(a,C)}else throw g;return[a,C]};gN.a05=function(o,g,C){var a=["#Created by www.Photopea.com","TITLE \""+C+"\"","","#LUT size","LUT_3D_SIZE "+g,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],x=6;
for(var N=0;N<o.length;N+=3){a.push(o[N].toFixed(x)+" "+o[N+1].toFixed(x)+" "+o[N+2].toFixed(x))}a.push("");
return u.Jz(a.join("\n")).buffer};gN.xx=function(o,g){var C=[],a=o*o*o;for(var N=0;N<a;N++)C.push(0,0,0);
for(var x=0;x<o;x++)for(var K=0;K<o;K++)for(var h=0;h<o;h++){var N=3*(h+K*o+x*o*o),X=3*(x+K*o+h*o*o);
C[X]=g[N];C[X+1]=g[N+1];C[X+2]=g[N+2]}return C};function b1(){}b1._o=function(o,g,C,a,x){var K=C,h;if(x==null)x=0;
var X=u.s(o,C);if(X==0){h="";C+=4}else{h=u.Qy(o,C);C+=4+2*h.length+2}if(h!="")g.__name=h;g.classID=b1.KV(o,C);
if(a)console.log("\t".repeat(x),"- reading descriptor",g.classID,C);C+=b1.Bl(o,C);var w=u.sU(o,C);C+=4;
for(var N=0;N<w;N++){var G=b1.KV(o,C);C+=b1.Bl(o,C);var R=b1.N7(o,C,a,x);g[G]=R;C+=R.size;delete R.size}return C-K};
b1.sX=function(o,g,C,a){var x=C,K=g.__name;if(K==null)K="";K+="\0";u.Cx(o,C,K);C+=4+2*K.length;b1.Sn(o,C,g.classID);
C+=b1.Bl(o.data,C);u.jQ(o,C,Object.keys(g).length-1-(g.__name==null?0:1));C+=4;for(var h in g){if(h=="classID")continue;
if(h=="__name")continue;b1.Sn(o,C,h);C+=b1.Bl(o.data,C);C+=b1.DX(o,C,g[h])}return C-x};b1.N7=function(o,g,C,a){var x=g,K=u.M7(o,g,4);
g+=4;var h={size:0,t:K,v:null};if(C)console.log("\t".repeat(a),"reading key",K,x);switch(K){case"obj ":case"VlLs":h.v=[];
var X=u.s(o,g);g+=4;for(var N=0;N<X;N++){var w=b1.N7(o,g,C,a+1);g+=w.size;delete w.size;h.v.push(w)}break;
case"UntF":h.v={type:u.M7(o,g,4),val:u.Wq(o,g+4)};g+=12;break;case"doub":h.v=u.Wq(o,g);g+=8;break;case"bool":h.v=o[g]==1;
g+=1;break;case"long":h.v=u.sU(o,g);g+=4;break;case"comp":h.v=u.sU(o,g+4);g+=8;break;case"Objc":h.v={};
var G=b1._o(o,h.v,g,C,a+1);g+=G;break;case"TEXT":var R=u.s(o,g);if(R==0){h.v="";g+=4}else{h.v=u.Qy(o,g);
g+=4+h.v.length*2+2}break;case"enum":var d=b1.KV(o,g);g+=b1.Bl(o,g);var q=b1.KV(o,g);g+=b1.Bl(o,g);h.v={};
h.v[d]=q;break;case"tdta":var m=u.sU(o,g);g+=4;h.v=[];for(var N=0;N<m;N++)h.v.push(o[g+N]);g+=m;break;
case"ObAr":var M=u.s(o,g);g+=4;var Z=u.Qy(o,g);g+=4+2*Z.length+2;if(Z!="")throw Z;var Q=b1.KV(o,g);g+=4+Math.max(4,Q.length);
h.v={classID:Q,arr:[]};var p=u.s(o,g);g+=4;for(var N=0;N<p;N++){var Q=b1.KV(o,g);g+=4+Math.max(4,Q.length);
var d=u.M7(o,g,4);g+=4;var y=u.M7(o,g,4);g+=4;var V={id:Q,type:d,uID:y,arr:[]};h.v.arr.push(V);var W=u.s(o,g,4);
g+=4;for(var v=0;v<W;v++){var j=u.Wq(o,g);g+=8;V.arr.push(j)}}break;case"Pth ":var e=g,m=u.s(o,g);g+=4;
var T=u.M7(o,g,4);g+=4;var O=u.KI(o,g);g+=4;var L=u.anD(o,g);g+=4+L.length*2;h.v={sig:T,pth:L};break;
case"Clss":case"type":case"rele":var L=u.Qy(o,g);g+=4+L.length*2+2;var S=b1.KV(o,g);g+=4+Math.max(4,S.length);
h.v={classID:S};if(L!="")h.v.__name=L;if(K=="rele"){h.v.val=u.sU(o,g);g+=4}break;case"prop":case"Enmr":case"indx":case"name":var $=b1.KE[K],L=u.Qy(o,g);
g+=4+L.length*2+2;if(L.length!=0){console.log(K,L);throw"e"}h.v={};for(var N=0;N<$.length;N++){var S=b1.KV(o,g);
g+=4+Math.max(4,S.length);h.v[$[N]]=S}if(K=="name"){var L=u.Qy(o,g);g+=4+L.length*2+2;h.v.val=L}if(K=="indx"){h.v.val=u.s(o,g);
g+=4}break;case"alis":var m=u.s(o,g);g+=4;h.v=u.M7(o,g,m);g+=m;break;default:{console.log("unknown oskey: "+K+", "+x);
throw"e";return h}}if(C){console.log("\t".repeat(a),h.v);console.log("\t".repeat(a),"======",g)}h.size=g-x;
return h};b1.KE={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
b1.DX=function(o,g,C){var a=g,x=C.t;C=C.v;u.mC(o,g,x);g+=4;switch(x){case"obj ":case"VlLs":u.jQ(o,g,C.length);
g+=4;for(var K=0;K<C.length;K++){var h=b1.DX(o,g,C[K]);g+=h}break;case"UntF":u.mC(o,g,C.type);u.OW(o,g+4,C.val);
g+=12;break;case"doub":u.OW(o,g,C);g+=8;break;case"bool":u.OK(o,g,C?1:0,1);g+=1;break;case"long":u.jQ(o,g,C);
g+=4;break;case"comp":u.jQ(o,g+4,C);g+=8;break;case"Objc":var h=b1.sX(o,C,g);g+=h;break;case"TEXT":u.Cx(o,g,C+"\0");
g+=4+C.length*2+2;break;case"enum":var X=Object.keys(C)[0],w=C[X];b1.Sn(o,g,X);g+=b1.Bl(o.data,g);b1.Sn(o,g,w);
g+=b1.Bl(o.data,g);break;case"tdta":u.SA(o,g,C.length);g+=4;u.w1(o,g,C);g+=C.length;break;case"ObAr":u.SA(o,g,C.arr[0].arr.length);
g+=4;u.Cx(o,g,"\0");g+=6;b1.Sn(o,g,C.classID);g+=4+Math.max(4,C.classID.length);u.SA(o,g,C.arr.length);
g+=4;for(var N=0;N<C.arr.length;N++){var G=C.arr[N];b1.Sn(o,g,G.id);g+=4+Math.max(4,G.id.length);u.mC(o,g,G.type);
g+=4;u.mC(o,g,G.uID);g+=4;u.SA(o,g,G.arr.length);g+=4;for(var K=0;K<G.arr.length;K++){u.OW(o,g,G.arr[K]);
g+=8}}break;case"Pth ":var R=C.pth.length*2+4+8;u.SA(o,g,R);g+=4;u.mC(o,g,C.sig);g+=4;u.zS(o,g,R);g+=4;
u.akJ(o,g,C.pth);g+=C.pth.length*2+4;break;case"Clss":case"type":case"rele":var d=C.__name;if(d==null)d="";
u.Cx(o,g,d+"\0");g+=4+d.length*2+2;var q=C.classID;b1.Sn(o,g,q);g+=4+Math.max(4,q.length);if(x=="rele"){u.jQ(o,g,C.val);
g+=4}break;case"prop":case"Enmr":case"indx":case"name":var m=b1.KE[x];u.SA(o,g,1);g+=6;for(var N=0;N<m.length;
N++){var q=C[m[N]];b1.Sn(o,g,q);g+=4+Math.max(4,q.length)}if(x=="name"){u.Cx(o,g,C.val+"\0");g+=4+C.val.length*2+2}if(x=="indx"){u.SA(o,g,C.val);
g+=4}break;case"alis":var R=C.length;u.SA(o,g,R);g+=4;u.mC(o,g,C);g+=R;break;default:console.log("unknown oskey: "+x);
g=a;break}return g-a};b1.KV=function(o,g){var C=u.sU(o,g);if(C>1e3)throw"e";if(C==0)C=4;return u.M7(o,g+4,C).trim()};
b1.Bl=function(o,g){var C=u.sU(o,g);return C==0?8:4+C};b1.Sn=function(o,g,C){var a="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time trim then else".split(" "),x=4<C.length||a.indexOf(C)!=-1;
u.jQ(o,g,x?C.length:0);u.mC(o,g+4,C);if(C.length<4&&!x){var K="";for(var N=C.length;N<4;N++)K+=" ";u.mC(o,g+4+C.length,K)}};
b1.afW=function(o){var g={};for(var C in o){if(C=="classID")g[C]=o[C];else if(C=="__name")g[C]=o[C];
else g[C]=b1.j2(o[C])}return g};b1.j2=function(o){if(o.Nc=="Objc")return b1.afW(o.v);else if(o.Nc=="VlLs"){var g=[];
for(var N=0;N<o.v.length;N++)g.push(b1.j2(o.v[N]));return g}else if(o.Nc=="UntF")return o.v.val;else return o.v};
function fu(){}fu.al=function(o,g,C,a,x,K){while(g<C){var h=u.M7(o,g,4);g+=4;if(h!="8BIM"&&h!="8B64"){console.log("layer information signature error! "+h,"PSB = "+x);
alert("Error in PSD file: wrong signature.");return C}var X=u.M7(o,g,4);g+=4;var w=u.s(o,g);g+=4;var G=x&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(X)!=-1;
if(G){w=w<<32|u.sU(o,g);g+=4}var R=["lrFX","PlLd"];if(R.indexOf(X)!=-1){if(w%4!=0)w+=4-w%4;g+=w;continue}switch(X){case"iOpa":a[X]=o[g];
break;case"brst":a[X]=[1,1,1];for(var N=0;N<w;N+=4)a[X][u.s(o,g+N)]=0;break;case"knko":a[X]=o[g];break;
case"infx":a[X]=o[g];break;case"clbl":a[X]=o[g];break;case"lmgm":a[X]=o[g];break;case"vmgm":a[X]=o[g];
break;case"fcmy":a[X]=o[g];break;case"lyid":a[X]=u.s(o,g);break;case"lsct":a[X]={type:u.s(o,g)};if(w>=12)a[X].WN=u.M7(o,g+8,4);
break;case"lsdk":a.lsct={type:u.s(o,g)};break;case"lyvr":a[X]=u.s(o,g);break;case"lnsr":var d={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
a[X]=u.M7(o,g,4);break;case"lspf":a[X]=u.s(o,g);break;case"lclr":a[X]=u.eX(o,g);break;case"luni":a[X]=u.$V(o,g);
break;case"fxrp":a[X]=new eN(u.Wq(o,g),u.Wq(o,g+8));break;case"artb":case"artd":a[X]={};b1._o(o,a[X],g+4);
break;case"SoCo":a[X]={};b1._o(o,a[X],g+4);break;case"GdFl":a[X]={};b1._o(o,a[X],g+4);fu.nl(a[X],X);
break;case"PtFl":a[X]={};b1._o(o,a[X],g+4);fu.nl(a[X],X);break;case"CgEd":var q=a.brit=hb.l3("brit"),m={};
b1._o(o,m,g+4);q.Brgh.v=m.Brgh?m.Brgh.v:0;q.Cntr.v=m.Cntr?m.Cntr.v:0;q.useLegacy.v=m.useLegacy?m.useLegacy.v:0;
break;case"brit":if(a.brit==null){var q=a.brit=hb.l3("brit"),m={};q.Brgh.v=u.D3(o,g);q.Cntr.v=u.D3(o,g+2);
q.useLegacy.v=!1}break;case"levl":var M=o.buffer.slice(g,g+w);a[X]=h5.kR(M);break;case"curv":a[X]=j3.t2(o,g,w);
break;case"expA":var Z=u.eX(o,g),Q=a[X]=hb.l3("expA");Q.Exps.v=u.gg(o,g+2);Q.Ofst.v=u.gg(o,g+6);Q.gammaCorrection.v=u.gg(o,g+10);
break;case"vibA":a[X]={};b1._o(o,a[X],g+4);break;case"hue2":a[X]=aw.t2(o,g,w);break;case"blnc":var Q=a[X]=hb.l3(X);
Q.PrsL.v=o[g+18]==1;var p=["ShdL","MdtL","HghL"];for(var N=0;N<3;N++)for(var y=0;y<3;y++)Q[p[N]].v[y].v=u.D3(o,g+N*6+y*2);
break;case"blwh":var V={};b1._o(o,V,g+4);var Q=hb.l3(X),W="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var N=0;N<W.length;N++){Q[W[N]]=V[W[N]];delete V[W[N]]}a[X]=Q;break;case"phfl":var Q=a[X]=hb.l3(X),v=Q.Clr.v,Z=u.eX(o,g);
if(Z==3){var j=[u.s(o,g+2),u.s(o,g+6),u.s(o,g+10)],e=32768,T=l.Kh(j[0]/e,j[1]/e,j[2]/e);v.Lmnc.v=T.pY;
v.A.v=T.Bk;v.B.v=T.K}if(Z==2){var O=u.eX(o,g+2);if(O!=7)throw"e";v.Lmnc.v=u.D3(o,g+4)/100;v.A.v=u.D3(o,g+6)/100;
v.B.v=u.D3(o,g+8)/100}var L=g+2+(Z==3?12:10);Q.Dnst.v=u.s(o,L);L+=4;Q.PrsL.v=o[L]==1;break;case"mixr":var S={wl:u.eX(o,g+2)==1,k:[]};
for(var N=0;N<20;N++)S.k.push(u.D3(o,g+4+N*2));a[X]=f6.av2(S);break;case"clrL":case"rplc":a[X]={};b1._o(o,a[X],g+6);
break;case"nvrt":a[X]={};break;case"post":a[X]=hb.l3("post");a[X].Lvls.v=u.eX(o,g);break;case"thrs":a[X]=hb.l3("thrs");
a[X].Lvl.v=u.eX(o,g);break;case"grdm":var $=g,H=o[g+2]==1,f=o[g+3]==1;$+=4;var F=u.M7(o,$,4);if(F=="Perc")$+=4;
var U=u.$V(o,$);$+=4+U.length*2;var r=ex.Oz(o,$,U),E=r[0];$=r[1];var k=u.eX(o,$);$+=2;var P=u.s(o,$);
$+=4;var z=u.eX(o,$)==1;$+=2;var s=u.eX(o,$)==1;$+=2;var Y=u.s(o,$);$+=4;var t=u.eX(o,$);$+=2;var n=[],J=[];
for(var N=0;N<4;N++){n.push({t:"long",v:~~(u.eX(o,$+N*2)*100/32768)});J.push({t:"long",v:~~(u.eX(o,$+N*2+8)*100/32768)})}$+=16;
var I=u.eX(o,$);$+=2;if(k==1)E={classID:"Grdn",Nm:{t:"TEXT",v:U},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:z},VctC:{t:"bool",v:s},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:P},Smth:{t:"long",v:Y},Mnm:{t:"VlLs",v:n},Mxm:{t:"VlLs",v:J}};
var fp=hb.l3("grdm");fp.Rvrs.v=H;fp.Grad.v=E;a[X]=fp;break;case"selc":a[X]=hp.t2(o,g,w);break;case"vmsk":case"vsms":var cH=a.vmsk=new A.A3,b=u.sU(o,g+4),jL=(b>>0&1)==1;
cH.j3=(b>>1&1)==0;cH.isEnabled=(b>>2&1)==0;cH.i=dK.q8(o,g+8,w-8,K.m,K.n);break;case"shmd":a[X]={};var aq=u.s(o,g),L=g+4;
for(var N=0;N<aq;N++){var h=u.M7(o,L,4);L+=4;var cJ=u.M7(o,L,4);L+=4;var aB=o[L];L++;if(Math.max(o[L],o[L+1])!=0)throw"e";
L+=3;var au=u.s(o,L);L+=4;if(cJ=="cust"||cJ=="cmls"||cJ=="extn"||cJ=="mlst"){var ea=u.s(o,L);if(ea!=16)L+=4;
if(u.s(o,L)==16){var V={};b1._o(o,V,L+4,!1);a[X][cJ]=V;if(cJ=="cmls")c.R1.a0c(a[X][cJ])}}else{console.log("unknown shmd key: "+cJ+", size: "+au)}L+=au}break;
case"shpa":var Z=u.s(o,g),ax=u.s(o,g+4);if(ax!=0)console.log("some patterns present!");break;case"TySh":var f1=a[X]={},Z=u.eX(o,g);
f1.D=u.Mb(o,g+2);var fk=u.eX(o,g+2+48);f1.oz={};var hF=b1._o(o,f1.oz,g+56),fm=bv.ad7();for(var jE in fm)if(f1.oz[jE]==null)f1.oz[jE]=fm[jE];
f1.xr={};var ff=b1._o(o,f1.xr,g+56+hF+6);f1.Vf=u.am1(o,g+56+hF+6+ff);f1.cp=jr.kR(f1.oz.EngineData.v);
bv.a1n(f1.cp.EngineDict.StyleRun.RunArray);if(f1.cp.ResourceDict==null)f1.cp.ResourceDict=JSON.parse(JSON.stringify(f1.cp.DocumentResources));
delete f1.oz.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var d5=u.s(o,g),eF=u.s(o,g+4);a.lmfx={};
var hF=b1._o(o,a.lmfx,g+8);fu.Ne(a.lmfx);break;case"FMsk":a[X]=u.UJ(o,g,w);break;case"Txt2":a[X]={};
a[X].raw=u.UJ(o,g,w);a[X].ZU=dZ.kR(a[X].raw);break;case"Patt":a[X]=fB.tY(o,g,w);break;case"SoLd":var gI=u.M7(o,g,4),fE=u.s(o,g+4),js=u.s(o,g+8);
a[X]={};var d8=b1._o(o,a[X],g+12);if(a[X].nonAffineTransform==null)a[X].nonAffineTransform=JSON.parse(JSON.stringify(a[X].Trnf));
if(a[X].Impr==null)a[X].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var fE=u.s(o,g);
a[X]={};var d8=b1._o(o,a[X],g+4);break;case"vscg":var cJ=u.M7(o,g,4),fE=u.s(o,g+4);a[cJ]={};var d8=b1._o(o,a[cJ],g+8);
fu.nl(a[cJ],cJ);break;case"vogk":var bt=u.s(o,g),fE=u.s(o,g+4);a[X]={};var d8=b1._o(o,a[X],g+8);a[X]=a[X].keyDescriptorList.v;
for(var N=0;N<a[X].length;N++){var io=a[X][N].v;if(!l.vm.kj(io))continue;if(io.keyOriginBoxCorners==null){var ha=l.vm.VM(io);
io.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var dp=[ha[0],ha[1],ha[2],ha[1],ha[2],ha[3],ha[0],ha[3]];
if(io.keyOriginType.v==4)dp=l.vm.jj(l.vm.Ot(io),io.keyOriginLineWeight.v);l.vm.xu(io,"keyOriginBoxCorners",dp)}}break;
case"lnk2":case"lnkD__":case"lnk3__":a[X]=[];var $=g;while($<g+w){var gS=new A.Tn;a[X].push(gS);var aP=u.vJ(o,$);
$+=8;var gD=$;gS.type=u.M7(o,$,4);$+=4;if(gS.type!="liFD"){alert("Unknown Linked Layer type: "+gS.type);
break;throw gS.type}gS.L0=u.s(o,$);$+=4;var fA=u.nO(o,$);$+=1+fA.zv.length;gS.f8=fA.zv;gS.vo=u.Qy(o,$);
$+=4+gS.vo.length*2+2;gS.mf=u.M7(o,$,4);$+=4;gS.I4=u.M7(o,$,4);$+=4;var jH=u.vJ(o,$);$+=8;gS.open=o[$];
$+=1;if(gS.open!=0){var aM={},hF=b1._o(o,aM,$+4);if(hF%4!=0)hF+=4-hF%4;console.log(aM);$+=hF+4}gS.open=0;
gS.raw=u.UJ(o,$,jH);$=gD+aP;if(aP%4!=0)$+=4-aP%4}break;case"FEid":var $=g;a[X]=[];var jc=$+w,Z=u.s(o,$);
$+=4;while($<jc){$+=4;var aP=u.s(o,$);$+=4;var r={};a[X].push(r);r.id=u.nO(o,$).zv;$+=r.id.length+1;
var Z=u.s(o,$);$+=4;$+=4;var eQ=u.s(o,$);$+=4;r.rect=u.Q6(o,$);$+=16;var j1=u.s(o,$);$+=4;var i7=u.s(o,$);
$+=4;var fT=new l.ib(0);for(var N=0;N<i7+2;N++){var hy=u.s(o,$);$+=4;if(hy!=0){$+=4;var hJ=u.s(o,$),db=null;
$+=4;if(N<3||N==25)db=iT.fw(!0,j1,o,r.rect.m,r.rect.n,$,hJ);if(N==0)fT.z=db;if(N==1)fT.B=db;if(N==2)fT.K=db;
if(N==25)fT.Bk=db;$+=hJ}}r.buffer=l.Z(r.rect.$()*4);l.bc(fT,r.buffer);l.JF(r);var jK=o[$];$++;if(jK!=0){r.d=new A.QX;
r.d.rect=u.Q6(o,$);$+=16;$+=4;var h_=u.s(o,$);$+=4;r.d.channel=iT.fw(!0,j1,o,r.d.rect.m,r.d.rect.n,$,h_);
r.d.color=255;r.d.T3();$+=h_}if(aP%4!=0)$+=4-aP%4}break;case"Lr16":cL.b3(K,o,g);break;case"Anno":a[X]=[];
var dM=g,eW=g+4,ax=u.s(o,eW);eW+=4;for(var N=0;N<ax;N++){var aP=u.s(o,eW);eW+=4;var ip=u.M7(o,eW,4);
eW+=4;if(ip!="txtA")throw ip;var fS=o[eW++],hS=o[eW++],bB=u.eX(o,eW);eW+=2;var g_=u.Q6(o,eW);eW+=16;
var e4=u.Q6(o,eW);eW+=16;var v=c2.Wo(o,eW);eW+=10;var e0=u.nO(o,eW);eW+=e0.length;var jC=u.nO(o,eW);
eW+=jC.length;var i4=u.nO(o,eW);eW+=i4.length;var hO=u.s(o,eW);eW+=4;var eq=u.M7(o,eW,4);eW+=4;var ig=u.s(o,eW);
eW+=4;var bc=u.HP(o,eW+2,ig-2>>1);eW+=ig;a[X].push([g_.x,g_.y,v,e0.zv,bc])}break;default:break}var aa="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(aa.indexOf(X)==-1)if(w%4!=0)console.log("size not multiple of 4!!!",X);if(X!="luni"&&X!="TySh"&&X!="tySh"&&X!="lfx2"&&X!="iOpa")if(w%4!=0)w+=4-w%4;
g+=w}var cn=[];for(var N=0;N<cn.length;N++)delete a[cn[N]];return g};fu._2=function(o,g,C,a,x){for(var K in C)if(C[K]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+K+"\" tag was present with a null value.");delete C[K]}for(var K in C){var h=a&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(K)!=-1,w=0;
u.mC(o,g,h?"8B64":"8BIM");g+=4;var X=g;u.mC(o,g,K);g+=4;u.jQ(o,g,0);g+=h?8:4;switch(K){case"iOpa":u.OK(o,g,C[K],1);
w=4;break;case"brst":w=0;for(var N=0;N<3;N++)if(C[K][N]==0){u.SA(o,g+w,N);w+=4}break;case"knko":u.OK(o,g,C[K],1);
w=4;break;case"infx":u.OK(o,g,C[K],1);w=4;break;case"clbl":u.OK(o,g,C[K],1);w=4;break;case"lmgm":u.OK(o,g,C[K],1);
w=4;break;case"vmgm":u.OK(o,g,C[K],1);w=4;break;case"fcmy":u.OK(o,g,C[K],1);w=4;break;case"lyid":u.SA(o,g,C[K]);
w=4;break;case"lsct":u.SA(o,g,C[K].type);w=4;if(C[K].WN){u.mC(o,g+4,"8BIM");u.mC(o,g+8,C[K].WN);w=12}break;
case"lyvr":u.SA(o,g,C[K]);w=4;break;case"lnsr":u.mC(o,g,C[K]);w=4;break;case"lspf":u.SA(o,g,C[K]);w=4;
break;case"lclr":u.un(o,g,C[K]);w=8;break;case"luni":u.Cx(o,g,C[K]);w=4+2*C[K].length;break;case"fxrp":u.OW(o,g,C[K].x);
u.OW(o,g+8,C[K].y);w=16;break;case"artb":case"artd":u.SA(o,g,16);w=b1.sX(o,C[K],g+4)+4;break;case"SoCo":u.SA(o,g,16);
w=b1.sX(o,C[K],g+4)+4;break;case"GdFl":u.SA(o,g,16);w=b1.sX(o,C[K],g+4)+4;break;case"PtFl":u.SA(o,g,16);
w=b1.sX(o,C[K],g+4)+4;break;case"CgEd":var G={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},R=G,d=C[K];
R.Brgh.v=d.Brgh.v;R.Cntr.v=d.Cntr.v;R.useLegacy.v=d.useLegacy.v;u.SA(o,g,16);w=b1.sX(o,G,g+4)+4;break;
case"brit":o.TB(g,8);w=8;break;case"levl":var q=new jm;w=h5._O(q,C[K]);u.w1(o,g,q.data);break;case"curv":w=j3.vn(o,g,C[K]);
break;case"expA":w=14;o.TB(g,14);u.rf(o.data,g,1);u.M6(o.data,g+2,C[K].Exps?C[K].Exps.v:0);u.M6(o.data,g+6,C[K].Ofst?C[K].Ofst.v:0);
u.M6(o.data,g+10,C[K].gammaCorrection?C[K].gammaCorrection.v:1);break;case"vibA":u.SA(o,g,16);w=b1.sX(o,C[K],g+4)+4;
break;case"hue2":w=aw.vn(o,g,C[K]);break;case"blnc":w=19;o.TB(g,w);var m=["ShdL","MdtL","HghL"];for(var N=0;
N<3;N++){var M=C[K][m[N]].v;for(var Z=0;Z<3;Z++)M.push(u.mY(o.data,g+N*6+Z*2,M[Z].v))}o.data[g+18]=C[K].PrsL.v?1:0;
break;case"blwh":var G={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},Q="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var N=0;N<Q.length;N++){G[Q[N]]=C[K][Q[N]]}u.SA(o,g,16);w=b1.sX(o,G,g+4)+4;break;case"phfl":u.un(o,g,2);
var p=C[K].Clr.v;u.un(o,g+2,7);u.un(o,g+4,Math.round(p.Lmnc.v*100));u.un(o,g+6,Math.round(p.A.v*100));
u.un(o,g+8,Math.round(p.B.v*100));u.un(o,g+10,0);var y=g+2+10;o.TB(y,5);u.we(o.data,y,C[K].Dnst.v);y+=4;
o.data[y]=C[K].PrsL.v?1:0;y++;w=y-g;break;case"mixr":w=44;o.TB(g,w);var V=f6.WI(C[K]);u.rf(o.data,g,1);
u.rf(o.data,g+2,V.wl?1:0);for(var N=0;N<20;N++)u.mY(o.data,g+4+N*2,V.k[N]);break;case"clrL":case"rplc":u.un(o,g,1);
u.SA(o,g+2,16);w=b1.sX(o,C[K],g+6)+6;break;case"nvrt":w=0;break;case"post":u.un(o,g,C[K].Lvls.v);w=2;
break;case"thrs":u.un(o,g,C[K].Lvl.v);w=2;break;case"grdm":var W=C[K].Rvrs?C[K].Rvrs.v:!1,v=!1,j=867527939,e=!1,T=!1,O=2048,L=[0,0,0,0],S=[32768,32768,32768,32768],$=C[K].Grad.v,H,f,F=$.Clrs==null?1:0;
if(F==0){H=$;f=JSON.parse(hf.xH.auY).v}else{H=hb.l3("grdm").Grad.v;f=$}o.TB(g,4);u.rf(o.data,g,1);o.data[g+2]=W?1:0;
o.data[g+3]=v?1:0;var U=g+4;u.Cx(o,U,$.Nm.v);U+=4+$.Nm.v.length*2;U=ex.awg(o,U,H);u.un(o,U,F);U+=2;u.SA(o,U,f.RndS.v);
U+=4;u.un(o,U,f.ShTr.v?1:0);U+=2;u.un(o,U,f.VctC.v?1:0);U+=2;u.SA(o,U,f.Smth.v);U+=4;u.un(o,U,3);U+=2;
for(var N=0;N<4;N++)u.un(o,U+N*2,L[N]);U+=8;for(var N=0;N<4;N++)u.un(o,U+N*2,S[N]);U+=8;U+=2;w=U-g;break;
case"selc":w=hp.vn(o,g,C[K]);break;case"FMsk":u.w1(o,g,C[K]);w=C[K].length;break;case"Txt2":var r=new jm,E=dZ.i3(C[K].ZU,r),k=l.Z(E,!0);
for(var N=0;N<E;N++)k[N]=r.data[N];u.w1(o,g,k);w=k.length;break;case"vmsk":var P=C[K],z=0;u.SA(o,g,3);
if(!P.j3)z+=1<<1;if(!P.isEnabled)z+=1<<2;u.SA(o,g+4,z);w=8;var s=P.i.length;o.TB(g+8,s*26);dK.Pn(o.data,g+8,P.i,x.m,x.n);
w+=s*26;break;case"shmd":u.SA(o,g,Object.keys(C[K]).length);var y=g+4;for(var Y in C[K]){u.mC(o,y,"8BIM");
y+=4;u.mC(o,y,Y);y+=4;u.SA(o,y,0);y+=4;u.SA(o,y,0);y+=4;u.SA(o,y,16);y+=4;var t=b1.sX(o,C[K][Y],y);if(t%4!=0)t+=4-t%4;
u.SA(o,y-8,t+4);y+=t}w=y-g;break;case"TySh":var y=g;u.k8(o,y,1);y+=2;var n=C[K],r=new jm;n.cp.DocumentResources=JSON.parse(JSON.stringify(n.cp.ResourceDict));
var E=jr.i3(n.cp,r),k=l.Z(E,!0);for(var N=0;N<E;N++)k[N]=r.data[N];n.oz.EngineData={t:"tdta",v:k};var J=n.cp.EngineDict.Editor.Text;
n.oz.Txt.v=J.substring(0,J.length-1);u.auo(o,y,n.D);y+=48;u.k8(o,y,50);y+=2;u.SA(o,y,16);y+=4;y+=b1.sX(o,n.oz,y);
u.k8(o,y,1);y+=2;u.SA(o,y,16);y+=4;y+=b1.sX(o,n.xr,y);u.al$(o,y,n.Vf);y+=16;w=y-g;break;case"lmfx":u.SA(o,g,0);
u.SA(o,g+4,16);var G=JSON.parse(JSON.stringify(C[K])),I=!1;fu.ER(G);for(var N=0;N<hf.l8.length;N++)if(G[hf.l8[N]]!=null)I=!0;
u.mC(o,X,I?"lmfx":"lfx2");w=b1.sX(o,G,g+8)+8;break;case"Patt":var y=fB.J8(o,g,C[K]);w=y-g;break;case"SoLd":u.mC(o,g,"soLD");
u.SA(o,g+4,4);u.SA(o,g+8,16);w=b1.sX(o,C[K],g+12)+12;break;case"vstk":case"pths":u.SA(o,g,16);w=b1.sX(o,C[K],g+4)+4;
break;case"vscg__":u.mC(o,g,C[K].key);u.SA(o,g+4,16);w=b1.sX(o,C[K].k,g+8)+8;break;case"vogk":u.SA(o,g,1);
u.SA(o,g+4,16);l.vm.aai(C[K]);for(var N=0;N<C[K].length;N++){var fp=C[K][N].v.keyOriginResolution;if(fp)fp.v=x.zC}var cH={classID:"null",keyDescriptorList:{t:"VlLs",v:C[K]}};
w=b1.sX(o,cH,g+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var U=g;for(var N=0;N<C[K].length;N++){var b=C[K][N],jL=U;
u.te(o,U,0);U+=8;u.mC(o,U,b.type);U+=4;u.SA(o,U,b.L0);U+=4;o.TB(U,1);o.data[U]=b.f8.length;U++;u.mC(o,U,b.f8);
U+=b.f8.length;u.Cx(o,U,b.vo+"\0");U+=4+b.vo.length*2+2;u.mC(o,U,b.mf);U+=4;u.mC(o,U,b.I4);U+=4;u.te(o,U,b.raw.length);
U+=8;o.TB(U,1);o.data[U]=b.open;U++;u.w1(o,U,b.raw);U+=b.raw.length;u.SA(o,U,1);U+=4;U+=11;var aq=U-jL-8;
u.te(o,jL,aq);if(aq%4!=0){o.TB(U,4-aq%4);U+=4-aq%4}}w=U-g;break;case"FEid":var U=g;u.SA(o,U,3);U+=4;
for(var cJ=0;cJ<C[K].length;cJ++){var aB=C[K][cJ];U+=4;var au=U;U+=4;u.Kf(o,U,aB.id);U+=aB.id.length+1;
u.SA(o,U,1);U+=4;var ea=l.Z(aB.rect.$()),ax=aB.rect,f1=l.Z(ax.$());U+=4;var fk=U;U+=4;u.BE(o,U,ax);U+=16;
u.SA(o,U,8);U+=4;u.SA(o,U,24);U+=4;for(var N=0;N<24+2;N++){var hF=-1;if(N==0)hF=0;if(N==1)hF=1;if(N==2)hF=2;
if(N==25)hF=3;u.SA(o,U,hF!=-1?1:0);U+=4;if(hF!=-1){l.eP(aB.buffer,ea,hF);l.MD(ea,aB.rect,f1,ax);U+=4;
var fm=U;U+=4;o.TB(U,ax.$()+2);U=iT.an(!0,f1,o.data,ax.m,ax.n,U,3);u.SA(o,fm,U-(fm+4))}}u.SA(o,fk,U-(fk+4));
o.TB(U,1);o.data[U]=aB.d?1:0;U++;if(aB.d!=null){var jE=ax,ff=l.Z(jE.$());ff.fill(aB.d.color);l.MD(aB.d.channel,aB.d.rect,ff,jE);
u.BE(o,U,jE);U+=16;U+=4;var d5=U;U+=4;o.TB(U,jE.$()+2);U=iT.an(!0,ff,o.data,jE.m,jE.n,U,3);u.SA(o,d5,U-(d5+4))}var aq=U-(au+4);
u.SA(o,au,aq);if(aq%4!=0)U+=4-aq%4}w=U-g;break;case"Anno":var eF=g,gI=C[K].length;u.un(o,eF,2);u.un(o,eF+2,1);
eF+=4;u.SA(o,eF,gI);eF+=4;for(var N=0;N<gI;N++){var fE=C[K][N],js=fE[0],d8=fE[1],bt=eF;eF+=4;u.mC(o,eF,"txtA");
eF+=4;o.TB(eF,2);o.data[eF]=1;o.data[eF+1]=28;eF+=2;u.un(o,eF,1);eF+=2;u.BE(o,eF,new aS(js,d8,17,21));
eF+=16;u.BE(o,eF,new aS(js+8,d8+10,241,141));eF+=16;o.TB(eF,10);c2.PH(o.data,eF,fE[2]);eF+=10;eF+=u.Kf(o,eF,fE[3]);
eF+=u.Kf(o,eF,"");eF+=u.Kf(o,eF,"D:20211012120233+01'00'");var io=fE[4].length*2;u.SA(o,eF,12+2+io);
eF+=4;u.mC(o,eF,"txtC");eF+=4;u.SA(o,eF,2+io);eF+=4;o.TB(eF,2);o.data[eF]=254;o.data[eF+1]=255;eF+=2;
u.ajX(o,eF,fE[4]);eF+=io;u.SA(o,bt,eF-bt)}w=eF-g;break;default:console.log("unknown layer tag: "+K+", size: "+w);
g-=12;continue}var ha=["Txt2","artd","extd","pths"];if(ha.indexOf(K)==-1)if(w%4!=0)w+=4-w%4;if(h)u.te(o,g-8,w);
else u.SA(o,g-4,w);if(K!="luni"&&K!="TySh")if(w%4!=0)w+=4-w%4;g+=w}return g};fu.Ne=function(o){for(var N=0;
N<hf.order.length;N++){var g=hf.order[N],C=hf.l8[N];if(o[C]==null)o[C]={t:"VlLs",v:[]};if(o[g]!=null){o[C].v.push(o[g]);
delete o[g]}var a=[];for(var x=0;x<o[C].v.length;x++){var K=o[C].v[x];if(K.v.present==null||K.v.present.v==!0)a.push(K)}o[C].v=a}};
fu.ER=function(o){for(var N=0;N<hf.order.length;N++){var g=hf.order[N],C=hf.l8[N],a=o[C].v.length;if(a==0){delete o[C];
continue}if(a==1){o[g]=o[C].v[0];delete o[C];continue}}};fu.nl=function(o,g){if(g=="GdFl"){if(o.Angl==null)o.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(o.Algn==null)o.Algn={v:!0,t:"bool"};if(o.Scl==null)o.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(o.Ofst==null)o.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(o.Rvrs==null)o.Rvrs={v:!1,t:"bool"};if(o.Dthr==null)o.Dthr={v:!1,t:"bool"}}if(g=="PtFl"){if(o.Algn==null)o.Algn={v:!0,t:"bool"};
if(o.Angl==null)o.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(o.Scl==null)o.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(o.phase==null)o.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};fu.clone=function(o,g){var C={};
if(o=="TySh"){C.D=g.D.clone();C.oz=JSON.parse(JSON.stringify(g.oz));C.xr=JSON.parse(JSON.stringify(g.xr));
C.Vf=g.Vf.clone();C.cp=JSON.parse(JSON.stringify(g.cp));if(g.add)C.add={vmsk:g.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(g.add.vogk))};
return C}else if(o=="fxrp")return g.clone();else if(o=="vmsk")return g.clone();else return JSON.parse(JSON.stringify(g))};
function fe(o,g){}fe.kR=function(o,g,C,a){a=fe.a6b(o,g,C,a);return a};fe.i3=function(o,g,C,a,x){a=fe.amN(o,g,C,a,x);
return a};fe.a6b=function(o,g,C,a){var x=a;o.rect=u.Q6(C,a);a+=16;var K=u.eX(C,a);a+=2;o.XM=[];var h=g.Rp;
for(var N=0;N<K;N++){o.XM[N]={id:u.D3(C,a),length:(h?u.vJ:u.s)(C,a+2)};a+=h?10:6}var X=u.M7(C,a,4);a+=4;
if(X!="8BIM"){console.log("Invalid Blend mode signature: "+X);alert("Error in Photoshop file: wrong signature.");
throw"e"}o.WN=u.M7(C,a,4);a+=4;o.opacity=C[a];a+=1;o.tN=C[a]==1;a+=1;o.qX=C[a];a+=1;if(C[a]!=0)console.log("error in filler!");
a+=1;var w=u.s(C,a);a+=4;var G=a;a=fe.ah4(o,C,a);a=fe.asX(o,C,a);var R=u.nO(C,a);o.name=R.zv;a+=R.length;
if(R.length%4!=0)a+=4-R.length%4;a=fu.al(C,a,G+w,o.add,h,g);if(o.add.lsct){if(o.add.lsct.WN)o.WN=o.add.lsct.WN;
o.add.lsct=o.add.lsct.type}return a};fe.amN=function(o,g,C,a,x){var K=a;u.BE(C,a,o.rect);a+=16;var h=o.a67();
u.un(C,a,h.length);a+=2;var X=g.Rp;x.push(a);for(var N=0;N<h.length;N++){u.k8(C,a,h[N]);if(X)u.te(C,a+2,0);
else u.SA(C,a+2,0);a+=X?10:6}u.mC(C,a,"8BIM");a+=4;u.mC(C,a,o.WN);a+=4;u.OK(C,a,o.opacity,1);a+=1;u.OK(C,a,o.tN?1:0,1);
a+=1;u.OK(C,a,o.qX,1);a+=1;u.OK(C,a,0,1);a+=1;var w=a;u.SA(C,a,0);a+=4;var G=a;a=fe.a8i(o,C,a);a=fe.aoJ(o,C,a);
var R=u.Kf(C,a,o.name.slice(0,255));a+=R;if(R%4!=0)a+=4-R%4;if(o.add.lsct){o.add.lsct={type:o.add.lsct};
if(o.WN=="pass"){o.add.lsct.WN="pass";o.WN="norm"}}if(o.WN=="pass")o.add.lsct={type:o.add.lsct,WN:"pass"};
if(o.add.brit)o.add.CgEd=o.add.brit;a=fu._2(C,a,o.add,X,g);delete o.add.CgEd;if(o.add.lsct){if(o.add.lsct.WN)o.WN=o.add.lsct.WN;
o.add.lsct=o.add.lsct.type}var d=a-G;u.SA(C,w,d);return a};fe.ah4=function(o,g,C){var a=u.s(g,C);C+=4;
if(a==0)return C;var x=C;o.d=new A.QX;o.d.rect=u.Q6(g,C);C+=16;o.d.color=g[C];C+=1;var K=fe.nP(o.d,g,C);
C+=1;if(K){var h=!1,X=255,w=0,G=255,R=0;for(var N=0;N<o.XM.length;N++)if(o.XM[N].id==-3)h=!0;if(h){o.Re=fe.BY(g,C);
C+=18}var d=C,q=g[C];C++;if(q>>0&1){X=g[C];C++}if(q>>1&1){w=u.Wq(g,C);C+=8}if(q>>2&1){G=g[C];C++}if(q>>3&1){R=u.Wq(g,C);
C+=8}if((C-d&1)==1)C++;o.oO=[X,w,G,R]}else{if(a==20)C+=2;else{o.Re=fe.BY(g,C);C+=18}}return x+a};fe.a8i=function(o,g,C){u.SA(g,C,0);
C+=4;if(o.d==null)return C;var a=o.KN(),x=o.add.vmsk,K=C,h=!0;u.SA(g,C,0);u.BE(g,C,o.d.rect);C+=16;u.OK(g,C,o.d.color);
C+=1;fe.sQ(o.d,g,C,h);C+=1;if(h){if(o.Re){fe.ar0(g,C,o.Re);C+=18}u.OK(g,C,15);C+=1;u.OK(g,C,a?a.TR:255);
C+=1;u.OW(g,C,a?a.Bs:0);C+=8;u.OK(g,C,x?x.TR:255);C+=1;u.OW(g,C,x?x.Bs:0);C+=8;C++}u.SA(g,K-4,C-K);return C};
fe.BY=function(o,g){var C=new A.QX;fe.nP(C,o,g);g+=1;C.color=o[g];g+=1;C.rect=u.Q6(o,g);g+=16;return C};
fe.ar0=function(o,g,C){fe.sQ(C,o,g,!1);g+=1;u.OK(o,g,C.color);g+=1;u.BE(o,g,C.rect);g+=16};fe.nP=function(o,g,C){var a=g[C];
o.j3=(a>>0&1)==0;o.isEnabled=(a>>1&1)==0;o.jL=(a>>3&1)==1;return a>>4&1};fe.sQ=function(o,g,C,a){var x=0;
if(!o.j3)x+=1<<0;if(!o.isEnabled)x+=1<<1;if(o.jL)x+=1<<3;if(a)x+=1<<4;u.OK(g,C,x)};fe.asX=function(o,g,C){var a=u.s(g,C);
C+=4;for(var N=0;N<a;N++)o.G6[N]=g[C+N];return C+a};fe.aoJ=function(o,g,C){u.SA(g,C,o.G6.length);C+=4;
g.TB(C,40);for(var N=0;N<40;N++){g.data[C+N]=o.G6[N]}return C+40};function iT(){}iT.kR=function(o,g,C,a){a=iT.abq(g,g.Rp,g.b5,g.ko,o,C,a);
return a};iT._O=function(o,g,C,a,x,K){a=iT.a56(o,g,C,a,x,K);return a};iT.abq=function(o,g,C,a,x,K,h){var X=x.XM,w={},G=h;
for(var N=0;N<X.length;N++){var R=X[N],d=R.id,q=R.length,m;if(d==-3)m=x.Re.rect;else if(d==-2)m=x.d.rect;
else m=x.rect;var M=iT.fw(g,C,K,m.m,m.n,h,q);h+=q;if(d==-3)x.Re.channel=M;else if(d==-2)x.d.channel=M;
else w["c"+d]=M}var Z=new l.ib(0);Z.Bk=null;if(a==3){Z.z=w.c0;Z.B=w.c1;Z.K=w.c2;Z.Bk=w["c-1"]}else if(a==1){Z.z=w.c0;
Z.B=w.c0;Z.K=w.c0;Z.Bk=w["c-1"]}else if(a==4){var Q=o.Vz.r1039,p=w.c0,y=w.c1,V=w.c2,W=w.c3;if(Q){var v=Q.ya,j=17;
if(v==null){var e=ICC.R(Q.buffer);console.log(e);v=Q.ya=ICC.U.sampleLUT(e,j)}var T={z:p,B:y,K:V,Bk:W},O=l.Z(p.length*4);
l.bc(T,O);l.rq(O);ICC.U.applyLUT4(v,j,O,O);l.NA(O,T)}else{for(var N=0;N<p.length;N++){var L=1-p[N]*(1/255),S=1-y[N]*(1/255),$=1-V[N]*(1/255),H=1-W[N]*(1/255),f=UDOC.C.cmykToRgb([L,S,$,H]);
p[N]=f[0]*255;y[N]=f[1]*255;V[N]=f[2]*255}}Z.z=p;Z.B=y;Z.K=V;Z.Bk=w["c-1"]}if(Z.z==null)Z.z=l.Z(0);if(Z.Bk==null&&Z.z!=null){Z.Bk=Z.z.slice(0);
Z.Bk.fill(255)}if(Z.B==null)Z.B=Z.z.slice(0);if(Z.K==null)Z.K=Z.z.slice(0);x.buffer=l.Z(Math.max(0,x.rect.$()*4));
l.bc(Z,x.buffer);return h};iT.a56=function(o,g,C,a,x,K){var h=g.a67(),X=new l.ib(g.rect.$());l.NA(g.buffer,X);
for(var N=0;N<h.length;N++){var w=h[N],G,R;if(w==-3)G=g.Re.rect;else if(w==-2)G=g.d.rect;else G=g.rect;
if(w==-3)R=g.Re.channel;if(w==-2)R=g.d.channel;if(w==-1)R=X.Bk;if(w==0)R=X.z;if(w==1)R=X.B;if(w==2)R=X.K;
C.TB(a,G.$()*3+4);var d=a;a=iT.an(o,R,C.data,G.m,G.n,a,K[1]?3:1);var q=a-d;if(o)u.xn(C.data,x+N*10+2,q);
else u.we(C.data,x+N*6+2,q)}return a};iT.fw=function(o,g,C,a,x,K,h){var X=u.eX(C,K);K+=2;return iT.Np(o,g,C,a,x,K,X,h-2)};
iT.an=function(o,g,C,a,x,K,h){u.mY(C,K,h);K+=2;K=iT.I5(o,g,C,a,x,K,h);return K};iT.Np=function(o,g,C,a,x,K,h,X){var w,G=a*x*(g>>>3),R=G&3,d=G+(R==0?0:4-R);
if(X<=0){return l.Z(d)}if(h>3){console.log("unknown compression: "+h,a,x,a*x,X);h=0}if(h==0){if(K+d<=C.length)w=C.slice(K,K+d);
else{w=l.Z(G);for(var N=0;N<G;N++)w[N]=C[K+N]}K+=G}else if(h==1){w=l.Z(G);var q=o?4:2,m=iT.Ul(C,w,a,x,K,K+q*x,q);
K+=q*x+m}else if(h==2||h==3){var M=new Uint8Array(C.buffer,K+2,X-6),Z=l.Z(d);UZIP.inflateRaw(M,Z);if(h==3){if(g==8)for(var Q=0;
Q<x;Q++){var p=Q*a+1,y=p+a-1,V=Z[p-1];for(var W=p;W<y;W++){V+=Z[W];Z[W]=V&255}}else for(var Q=0;Q<x;
Q++){var p=Q*a+1,y=p+a-1,V=Z[2*p-2]<<8|Z[2*p-1];for(var W=p;W<y;W++){var v=W<<1;V+=Z[v]<<8|Z[v+1];Z[v]=V>>>8;
Z[v+1]=V&255}}}if(Z.length==d)w=Z;else{w=l.Z(d);for(var N=0;N<Z.length;N++)w[N]=Z[N]}}if(g==16){var j=l.Z(a*x);
for(var N=0;N<G;N+=2)j[N>>>1]=w[N];w=j}return w};iT.I5=function(o,g,C,a,x,K,h){var X=a*x;if(h==0)for(var N=0;
N<X;N++)C[K++]=g[N];else if(h==1){var w=o?4:2,G=iT.bM(g,C,a,x,K,K+w*x,w);K+=w*x+G}else if(h==2||h==3){if(h==3){var R=new Uint8Array(g.length);
for(var d=0;d<x;d++){var q=d*a+1,m=q+a-1,M=g[q-1];R[q-1]=M;for(var Z=q;Z<m;Z++){R[Z]=g[Z]+(256-M)&255;
M=g[Z]}}g=R}C[K]=120;C[K+1]=156;K+=2;var Q=pako.deflateRaw(g,{avB:4});u.Vi(C,K,Q);K+=Q.length+4}else console.log("Unknown compression: "+h);
return K};iT.Ul=function(o,g,C,a,x,K,h){if(!(o instanceof Uint8Array)||!(g instanceof Uint8Array))throw"e";
var X=K,w=a|0;if(h==2)for(var N=0;N<w;N++){var G=u.eX(o,x+(N<<1));iT.j8(o,K,G,g,N*C,C);K+=G}else for(var N=0;
N<w;N++){var G=u.s(o,x+(N<<2));iT.j8(o,K,G,g,N*C,C);K+=G}return K-X};iT.bM=function(o,g,C,a,x,K,h){var X=K;
if(h==2)for(var N=0;N<a;N++){var w=iT.BN(o,N*C,C,g,K);u.rf(g,x+N*2,w);K+=w}else for(var N=0;N<a;N++){var w=iT.BN(o,N*C,C,g,K);
u.we(g,x+N*4,w);K+=w}return K-X};iT.BN=function(o,g,ee,C,a){var x,K,h,X,w,cO,G;X=g+ee;for(h=g,K=a;ee>0;
h=x,ee-=cO){G=ee<128?ee:128;if(h<=X-3&&o[h+1]==o[h+0]&&o[h+2]==o[h+0]){for(x=h+3;x<h+G&&o[x]==o[h+0];
)++x;cO=x-h;C[K++]=1+256-cO;C[K++]=o[h+0]}else{for(x=h;x<h+G;)if(x<=X-3&&o[x+1]==o[x+0]&&o[x+2]==o[x+0])break;
else++x;cO=x-h;C[K++]=cO-1;for(var N=0;N<cO;N++)C[K+N]=o[h+N];K+=cO}}return K-a};iT.j8=function(o,g,C,a,x,K){for(var h=0;
h<C;){var ee=o[g++];if(ee>=128){var X=o[g++],w=x+(257-ee);a.fill(X,x,w);x=w;h+=2}else{for(var N=0;N<=ee;
N++)a[x+N]=o[g+N];g+=ee+1;x+=ee+1;h+=1+1+ee}}};function cL(){}cL.Hl=function(o,g,C){return;var a="",x=g;
while(x!=0){var K=x%1e3+"";while(K.length<3)K="0"+K;a=(a==""?K:K+" ")+a;x=Math.floor(x/1e3)}while(a.startsWith("0")&&a!="0")a=a.slice(1);
while(a.length<11)a=" "+a;console.log("===",a,"\t".repeat(o),": "+C)};cL.kR=function(o,g){g.Rp=!1;g.b5=8;
var C=new Uint8Array(o),a=0,x=0,z,aB=!1,au=!0,ea=!1,ax=0,hO=0;x=cL.si(g,C,a);cL.Hl(0,x-a,"PSD Header");
a=x;x=cL.a1E(g,C,a);cL.Hl(0,x-a,"Color Mode Data");a=x;x=cL.a41(g,C,a);cL.Hl(0,x-a,"Image Resources");
a=x;x=cL.akY(g,C,a);cL.Hl(0,x-a,"Layer And Mask Info");a=x;x=cL.auJ(g,C,a);cL.Hl(0,x-a,"Merged Image");
a=x;if(g.g.length==0){var K=g.HL();K.XH("Background");g.g.push(K);K.buffer=g.buffer.slice(0);K.rect=new aS(0,0,g.m,g.n)}if(g.Vz.r1005){g.zC=u.afA(g.Vz.r1005,0)}if(g.Vz.r1026){var C=g.Vz.r1026;
for(var N=0;N<C.length;N+=2){var x=g.g[N>>>1];if(x)x.Fy=u.eX(C,N)}}if(g.Vz.r1072){var C=g.Vz.r1072;for(var N=0;
N<C.length;N++){var x=g.g[N];if(x)x.GH=C[N]==1}}if(g.Vz.r1032){g.Pa=cL.pw(g.Vz.r1032,0)}delete g.Vz.r1036;
g.uo(g.Vz.r1039);if(g.Vz.r1050){var h=u.s,X=g.Vz.r1050,w=u.s(X,0);if(w==6){var G=4,R=u.Q6(X,G);G+=16;
var d=u.$V(X,G);G+=4+d.length*2;var q=h(X,G);G+=4;var m=g.Ng;for(var N=0;N<q;N++){var M=c.ho.jo(),Q;
m.push(M);M=M.v;M.sliceID.v=h(X,G);G+=4;M.groupID.v=h(X,G);G+=4;var Z=h(X,G);G+=4;if(Z==1){Q=h(X,G);
G+=4}var d=u.$V(X,G);G+=4+d.length*2;var p=h(X,G);G+=4;var y=[h(X,G),h(X,G+4),h(X,G+8),h(X,G+12)];G+=16;
c.ho.Vs(m,m.length-1,y);var V=M.url.v=u.$V(X,G);G+=4+V.length*2;var W=M.null.v=u.$V(X,G);G+=4+W.length*2;
var v=M.Msge.v=u.$V(X,G);G+=4+v.length*2;var j=M.altTag.v=u.$V(X,G);G+=4+j.length*2;M.cellTextIsHTML.v=X[G]==1;
G++;var e=M.cellText.v=u.$V(X,G);G+=4+e.length*2;var T=h(X,G);G+=4;var O=h(X,G);G+=4;var L=X.slice(G,G+4);
G+=4;if(Z!=2)m.pop()}}else if(w==8){var S={};b1._o(X,S,8,!1);var X=g.Ng=S.slices.v;for(var N=0;N<X.length;
N++){if(X[N].v.origin.v.ESliceOrigin!="userGenerated"){X.splice(N,1);N--}}}}if(g.Vz.r1058){var $=g.Vz.r1058,H=UTIF.decode($.buffer,{parseMN:!1,debug:!1});
hZ.u$(H[0],g.Eb);delete g.Vz.r1058}if(g.Vz.r1060){var f=u.SP(g.Vz.r1060);hZ.a9C(f,g.Eb);delete g.Vz.r1060}if(g.Vz.r1065){var C=g.Vz.r1065;
g.wi={};b1._o(C,g.wi,4,!1)}if(g.Vz.r1069){var C=g.Vz.r1069,F=[];for(var N=2;N<C.length;N+=4){var Q=u.s(C,N);
for(var U=0;U<g.g.length;U++){var x=g.g[U];if(x.add.lyid==Q&&x.add.lsct!=3)F.push(U)}}g.A=F}if(g.Vz.r1025){var r=g.Vz.r1025;
delete g.Vz.r1025;var E=dK.q8(r,0,r.length,g.m,g.n),k=new A.A3;k.i=E;g.eJ[0]=aX.Xy("Working Path",{vmsk:k})}var P=g.add.pths;
delete g.add.pths;var s=g.Vz.r3000;if(s){z={};b1._o(s,z,4,!1);delete g.Vz.r3000}if(P)g.pZ=P.pathSymmetrySelectedPath!=null;
for(var Y=0;Y<=997;Y++){var t="r"+(2e3+Y),r=g.Vz[t];if(r==null)break;var E=dK.q8(r,0,r.length,g.m,g.n),n="Path "+Y;
if(P){var J=P.pathList.v[Y].v;n=J.pathUnicodeName.v;if(n=="Tile Symmetry 1")continue}var I=z?z.keyRootDescriptorList.v[Y].v.keyDescriptorList.v:A.fb(E),k=new A.A3;
k.i=E;g.eJ.push(aX.Xy(n,{vmsk:k,vogk:I}));delete g.Vz[t]}delete g.Rp;var fp=g.Vz.r7000,cH=g.Vz.r7001;
if(fp){var b=u.SP(fp);g.fU=cL.Y6(b)}if(cH){var b=u.SP(cH);g.XO=cL.jc(b)}delete g.Vz.r7000;delete g.Vz.r7001;
var jL=new aS(0,0,g.m,g.n),aq=g.add.Txt2,cJ=aq;if(cJ){cJ=cJ.ZU;if(cJ._DocumentResources==null)cJ=aN.a0m(cJ)}for(var N=0;
N<g.g.length;N++){var x=g.g[N],f1=x.add.lsct,fk=x.add.vmsk,hF=x.KN();if(f1==kj.bH){ax++;x.add.lspf=0}else if(f1==kj.ah||f1==kj.vz)ax--;
if(x.name==""){x.name="Layer "+(N+1);ea=!0}if(ea&&x.sP()&&x.WN=="norm")x.WN="pass";if(x.xT()&&x.WW(g).d){var fm=x.WW(g);
fm.d.isEnabled=x.add.SoLd.filterFX.v.filterMaskEnable.v}if(fk&&x.eU()){var jE=hf.ly.default;if(x.add.vstk==null)x.add.vstk=JSON.parse(JSON.stringify(jE));
else{var ff="strokeStyleLineDashSet";if(x.add.vstk[ff]==null)x.add.vstk[ff]=JSON.parse(JSON.stringify(jE[ff]))}x.add.vstk.strokeStyleResolution.v=g.zC}if(fk&&(x.add.vogk==null||l.M.Ac(fk.i)!=x.add.vogk.length))x.fb();
if(x.add.SoLd&&x.rect.to()){console.log("redrawing smart instance");x.R9(g)}if(hF==null&&x.d!=null){if(x.d.jL==!1){x.d.jL=!0;
x.Re=x.d.clone()}}hF=x.KN();if(x.oO){var jE=x.oO,k=fk;if(hF){hF.TR=jE[0];hF.Bs=jE[1]}if(k){k.TR=jE[2];
k.Bs=jE[3]}x.oO=null}if(hF!=null&&fk!=null&&(hF.Bs+fk.Bs!=0||hF.TR+fk.TR!=2*255))x.Rw(g);else if(fk!=null&&!x.eU())x.Rw();
else if(hF&&hF.TR!=255&&x.eU())x.Rw(g);var d5=x.add.artb;if(d5&&d5.artboardBackgroundType==null)d5.artboardBackgroundType={t:"long",v:1};
if(d5&&ax!=0)delete x.add.artb;var eF=x.add.vstk;if(x.eU()&&(x.rect.to()||fk&&fk.Bs!=0||eF&&!eF.fillEnabled.v&&(!eF.strokeEnabled.v||eF.strokeStyleLineWidth.v.val==0)))x.Hx(g);
if(x.add.TySh){aB=!0;if(!x.rect.to())au=!1}if(x.add.TySh&&cJ){var gI=x.add.TySh.oz.TextIndex.v;if(gI==-1)continue;
var fE=x.add.TySh.cp,js=bv.w$(fE),d8=cJ._DocumentObjects._TextObjects;if(d8.length<=gI){console.log("Txt2 incomplete");
continue}var bt=d8[gI]._Model,io=bt._StyleRun?bt._StyleRun._RunArray:[],ha=fE.EngineDict.StyleRun.RunArray;
for(var dp=0;dp<ha.length;dp++){var gS=ha[dp].StyleSheet.StyleSheetData;if(io[dp]==null)continue;var aP=io[dp]._RunData._StyleSheet._Features;
if(aP&&aP._BaselineDirection)gS.BaselineDirection=parseInt(aP._BaselineDirection.slice(1));if(aP&&aP._FillBackgroundFlag)gS._FillBackgroundFlag=aP._FillBackgroundFlag;
if(aP&&aP._FillBackgroundColor){var gD=aP._FillBackgroundColor,fA=gD._Color._Values.slice(0);for(var U=0;
U<4;U++)fA[U]=parseFloat(fA[U].slice(1));gS._FillBackgroundColor={Type:1,Values:fA}}if(aP&&aP._LineWidth)gS._LineWidth=parseFloat(aP._LineWidth.slice(1))}var jH=fE.EngineDict.ParagraphRun.RunArray,aM=bt._ParagraphRun._RunArray;
if(aM==null)aM=[];var jc=Math.min(aM.length,jH.length);for(var U=0;U<jc;U++){var eQ=jH[U].ParagraphSheet.Properties,j1=cJ._DocumentResources._ParagraphSheetSet._Resources,i7=aM[U]._RunData._ParagraphSheet;
if(typeof i7=="string")i7=j1[parseInt(i7.slice(1))]._Resource;var fT=i7._Parent==null?i7:j1[parseInt(i7._Parent.slice(1))]._Resource;
i7=i7._Features;fT=fT._Features;var hy=i7._ParagraphDirection;if(hy==null)hy=fT._ParagraphDirection;
if(hy)eQ._Direction=parseInt(hy.slice(1));if(i7._ComposerEngine)eQ._ComposerEngine=parseInt(i7._ComposerEngine.slice(1))}if(bt._AlternateGlyphRun){var aM=bt._AlternateGlyphRun._RunArray,jc=aM.length,hJ=fE.EngineDict.AlternateGlyphRun=bv.aoO();
for(var U=0;U<jc;U++){var i7=aM[U],db={},jK=i7._RunData._AlternateGlyphSheet;if(jK)db.Glyph=parseInt(jK._Glyph.slice(1));
hJ.RunArray.push(db);hJ.RunLengthArray.push(parseInt(i7._Length.slice(1)))}}var h_=cJ._DocumentResources,dM=h_._TextFrameSet._Resources,eW=dM[gI]._Resource,ip=eW._Data,fS=new kp(1,0,0,1,0,0);
if(eW._0){var hS=parseFloat(eW._0[0].slice(1)),bB=parseFloat(eW._0[1].slice(1));fS.translate(hS,bB)}if(js){fS.translate(js[0],js[1]);
bv.yy(fE,[0,0,js[2]-js[0],js[3]-js[1]])}else{if(eW._Bezier&&eW._Bezier._Points){var E=eW._Bezier._Points,hS=parseFloat(E[0].slice(1)),bB=parseFloat(E[1].slice(1));
if(hS!=0||bB!=0){fS.translate(hS,bB)}}}if(eW._Data&&eW._Data._FrameMatrix){var g_=eW._Data._FrameMatrix;
g_=g_.map(function(bc){return parseFloat(bc.slice(1))});fS.concat(new kp(g_[0],g_[1],g_[2],g_[3],g_[4],g_[5]))}fS.concat(x.add.TySh.D);
x.add.TySh.D=fS;var p=ip._Type?parseInt(ip._Type.slice(1)):0;if(p==2||p==1&&ip._PathData&&ip._PathData._Spacing=="i-3")if(eW._Bezier){var e4=function(bc){return parseFloat(bc.slice(1))},E=eW._Bezier._Points.map(e4);
if(js)l.o.D(E,new kp(1,0,0,1,-js[0],-js[1]),E);var e0=ip._PathData?ip._PathData._Reversed:!1,jC=ip._TextOnPathTRange;
if(jC==null)jC=["f-3","f-3"];fE.Curve={Points:E,TextOnPathTRange:jC.map(e4),Reversed:e0==null?!1:e0};
x.add.TySh.add={vmsk:new A.A3,vogk:null};bv.hf(x.add.TySh)}if(ip._LineOrientation=="i2")fE._LineOrientation=2}}c.R1.AX(g,!0);
var i4={},eq=[];for(var N=0;N<g.g.length;N++){var ig=g.g[N].add.lyid;if(ig==null)continue;var hO=Math.max(hO,ig);
if(i4[ig]!=null)eq.push(N);else i4[ig]=!0}for(var N=0;N<eq.length;N++)g.g[eq[N]].add.lyid=hO+1+N};cL.pw=function(o,g){var C=u.s(o,g+12),a=[];
for(var N=0;N<C;N++){var x=o[g+16+N*5+4],K=u.sU(o,g+16+N*5)/32;a.push([x,K])}return a};cL.Y6=function(o){var g=new DOMParser,C=g.parseFromString(o,"text/xml").firstChild.children[0],a=C.getElementsByTagName("variables");
if(a.length==0)return[];a=a[0].children;var x=[],K="varName trait docRef placementMethod align valign clip".split(" ");
for(var h=0;h<a.length;h++){var X=a[h],w={};x.push(w);for(var G=0;G<K.length;G++){var R=K[G],d=X.getAttribute(R);
if(d==null)continue;w[R]=d}}return x};cL.jc=function(o){var g=new DOMParser,C=g.parseFromString(o,"text/xml").firstChild.children,a=[[]];
for(var N=0;N<C.length;N++){var x=C[N],K=[];a.push(K);for(var h=0;h<x.children.length;h++){var X=x.children[h];
if(N==0)a[0].push(X.tagName);K.push(X.textContent)}}return a};cL.i3=function(o,g,C){c.R1.gr(o);c.R1.AX(o,!1);
o.Rp=C[3]==!0;var a=[],x=[],M=0,Q=1,j=16,f1=0;for(var N=0;N<o.g.length;N++){var K=o.g[N];if(K.xT()&&K.WW(o).d){K.add.SoLd.filterFX.v.filterMaskEnable.v=K.WW(o).d.isEnabled}if(K.add.TySh){var h=K.add.TySh.cp,X=bv.gH(h);
K.add.TySh.oz.TextIndex={t:"long",v:a.length};a.push(h);if(X==2)bv.Ys(K.add.TySh)}var w=K.add.vstk;if(w)w.strokeStyleResolution.v=o.zC;
if(K.eU()||C[2]&&K.add.SoLd){x[N]=[K.rect,K.buffer];K.rect=new aS;K.buffer=l.Z(0);if(K.add.SoLd){var G=K.WW(o);
if(G!=null){x[N].push(G.buffer);G.buffer=l.Z(G.buffer.length)}}}}if(a.length>0){var R=o.add.Txt2?o.add.Txt2.ZU:null;
if(o.add.Txt2==null)o.add.Txt2={};o.add.Txt2.ZU=jl.a2a(a,null,R)}var d=[o.add.lnk2,o.add.FEid,o.add.Patt],q=o.anb(o.g);
o.a0R(q);o.Vz.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);u.Ee(o.Vz.r1005,0,o.zC);u.Ee(o.Vz.r1005,8,o.zC);
if(o.Sh()){o.Vz.r1022=new Uint8Array([0,3+o.JH.length-1,0])}else delete o.Vz.r1022;var m=new Uint8Array(o.g.length*2),Z=new Uint8Array(o.g.length);
for(var N=0;N<o.g.length;N++){var K=o.g[N],p=K.Fy,y=K.GH?1:0;u.rf(m,N*2,p);Z[N]=y;if(p>M)M=p;if(y==0)Q=0}if(M>0)o.Vz.r1026=m;
if(Q<1)o.Vz.r1072=Z;var V=o.Pa,W=V.length,v=o.Vz.r1032=l.Z(16+5*W,!0);u.we(v,0,1);u.we(v,4,576);u.we(v,8,576);
u.we(v,12,W);for(var N=0;N<W;N++){u.eB(v,j,Math.round(V[N][1]*32));v[j+4]=V[N][0];j+=5}if(C[0]!=!0){var e=[o.buffer,new aS(0,0,o.m,o.n)],T=0;
l.WP(e);while(e[T+1].$()>200*200)T+=2;var O=bl.qC("jpg"),L=e[T+1],S=new Uint8Array(O.oe([[e[T].buffer]],L.m,L.n)),v=o.Vz.r1036=l.Z(28+S.length);
u.we(v,0,1);u.we(v,4,L.m);u.we(v,8,L.n);u.we(v,12,L.m*3);u.we(v,16,L.$()*3);u.we(v,20,S.length);u.rf(v,24,24);
u.rf(v,26,1);v.set(S,28)}var $=l.er(o.buffer),H=[];if($)H.push({name:"Transparency",Qe:{z:255,B:0,K:0},Zj:100,a0:1});
H=H.concat(o.JH);delete o.Vz.r1045;delete o.Vz.r1006;delete o.Vz.r1077;var f=new jm;j=0;var F=new Uint8Array(4+H.length*13);
F[3]=1;for(var N=0;N<H.length;N++){var U=H[N],r=U.name+"\0";u.Cx(f,j,r);j+=4+r.length*2;var E=4+N*13;
c2.PH(F,E,U.Qe);F[E+11]=U.Zj;F[E+12]=U.a0}o.Vz.r1045=f.data.slice(0,j);o.Vz.r1077=F;for(var N=0;N<o.Ng.length;
N++)o.Ng[o.Ng.length-N-1].v.sliceID.v=2+N*3;var k={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:o.Ng}},f=new jm;
u.SA(f,0,8);u.SA(f,4,16);var P=b1.sX(f,k,8);o.Vz.r1050=f.data.slice(0,P+8);var f=new jm;u.SA(f,0,16);
var P=b1.sX(f,o.wi,4);o.Vz.r1065=f.data.slice(0,P+4);var z=o.A;v=o.Vz.r1069=l.Z(2+z.length*4,!0);u.rf(v,0,z.length);
for(var N=0;N<z.length;N++)u.we(v,2+4*N,o.g[z[N]].add.lyid);delete o.Vz.r1058;delete o.Vz.r1060;if(Object.keys(o.Eb).length!=0){var s=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
hZ.oY(o.Eb,s[0],C[0]&&C[1]);o.Vz.r1058=new Uint8Array(UTIF.encode(s));var Y=hZ.a5o(o.Eb);o.Vz.r1060=u.Jz(Y)}var t=[],n=[],J=o.eJ.slice(0);
if(o.pZ){var I=dK.Hb([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),fp=new A.A3;
fp.i=I;J.push(aX.Xy("Tile Symmetry 1",{vmsk:fp,vogk:A.fb(I)}))}for(var N=0;N<J.length;N++){var cH=J[N],I=cH.add.vmsk.i;
if(N==0&&I.length==2)continue;var b=l.Z(I.length*26);dK.Pn(b,0,I,o.m,o.n);var jL=N==0?1025:2e3+N-1;o.Vz["r"+jL]=b;
if(N!=0){var aq={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:cH.name}};if(cH.name=="Tile Symmetry 1")aq.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
t.push({t:"Objc",v:aq});n.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:cH.add.vogk}}})}}if(t.length!=0){o.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:t}};
if(o.pZ)o.add.pths.pathSymmetrySelectedPath={t:"long",v:t.length-1};n={classID:"null",keyRootDescriptorList:{t:"VlLs",v:n}};
var f=new jm;u.SA(f,0,16);var P=b1.sX(f,n,4);o.Vz.r3000=f.data.slice(0,P+4)}else{delete o.add.pths;delete o.Vz.r3000}if(o.fU.length!=0){var cJ="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var N=0;N<o.fU.length;N++){var aB=o.fU[N],au=[];for(var jL in aB)au.push(jL+"=\""+aB[jL]+"\"");cJ+="<variable "+au.join(" ")+">\n</variable>\n"}cJ+="</variables>\n</variableSet>\n</variableSets>";
o.Vz.r7000=u.Jz(cJ)}if(o.XO.length!=0){var cJ="<sampleDataSets psdPath=\""+o.name+"\">\n";for(var N=1;
N<o.XO.length;N++){var ea=o.XO[N];cJ+="<sampleDataSet dataSetName=\"Data Set "+N+"\">\n";for(var ax=0;
ax<ea.length;ax++)cJ+="<"+o.XO[0][ax]+">"+ea[ax].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+o.XO[0][ax]+">\n";
cJ+="</sampleDataSet>\n"}cJ+="</sampleDataSets>";o.Vz.r7001=u.Jz(cJ)}f1=cL.arK(o,g,f1,3+H.length);f1=cL.a5t(o,g,f1);
f1=cL.ae2(o,g,f1);f1=cL.a66(o,g,f1,C,$);f1=cL.anX(o,g,f1,C[0],$);var fk=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var N=0;N<fk.length;N++)delete o.Vz["r"+fk[N]];for(var N=0;N<o.g.length;N++){var K=o.g[N];if(K.eU()||C[2]&&K.add.SoLd){K.rect=x[N][0];
K.buffer=x[N][1];if(x[N][2]){var G=K.WW(o);x[N].push(G.buffer);G.buffer=x[N][2]}}}o.a0R(d);c.R1.AX(o,!0);
delete o.Rp;return f1};cL.si=function(o,g,C){var a=u.M7(g,C,4);C+=4;if(a!="8BPS")alert("invalid header signature: "+a);
var x=u.eX(g,C);C+=2;o.Rp=x==2;if(x!=1&&x!=2)alert("invalid version: "+x);C+=6;o.vV=u.eX(g,C);C+=2;o.n=u.sU(g,C);
C+=4;o.m=u.sU(g,C);C+=4;o.b5=u.eX(g,C);C+=2;o.ko=u.eX(g,C);C+=2;return C};cL.arK=function(o,g,C,a){g.TB(0,64);
u.P9(g.data,C,"8BPS");C+=4;u.rf(g.data,C,o.Rp?2:1);C+=2;u.we(g.data,C,0);C+=4;u.rf(g.data,C,0);C+=2;
u.rf(g.data,C,a);C+=2;u.eB(g.data,C,o.n);C+=4;u.eB(g.data,C,o.m);C+=4;u.rf(g.data,C,8);C+=2;u.rf(g.data,C,3);
C+=2;return C};cL.a1E=function(o,g,C){var a=u.sU(g,C);C+=4;if(a!=0)o.Wd=g.slice(C,C+a);C+=a;return C};
cL.a5t=function(o,g,C){u.jQ(g,C,0);C+=4;return C};cL.a41=function(o,g,C){var a=u.s(g,C),x=0;C+=4;var K=[];
while(x<a){var h=u.M7(g,C+x,4);x+=4;var X=u.eX(g,C+x);x+=2;var w=u.nO(g,C+x);x+=w.length;if(h=="MeSa"&&(X==7e3||X==7001)){}else if(h!="8BIM"){K.push(X);
console.log("Unknown Image Resources signature: "+h+", ID: "+X)}var G=u.s(g,C+x);x+=4;if(o.Vz["r"+X]!=null)console.log("--- two resources with same ID");
o.Vz["r"+X]=u.UJ(g,C+x,G);x+=G+(G&1)}for(var N=0;N<K.length;N++)delete o.Vz["r"+K[N]];return C+a};cL.ae2=function(o,g,C){var a=C,h=0;
C+=4;var x=[];for(var K in o.Vz){x.push(parseInt(K.slice(1)))}x.sort(function(d,q){return d-q});for(var N=0;
N<x.length;N++){var X=x[N];u.mC(g,C+h,X==7e3||X==7001?"MeSa":"8BIM");h+=4;u.un(g,C+h,X);h+=2;var w=u.Kf(g,C+h,"");
h+=w;var G=o.Vz["r"+X],R=G.length;u.SA(g,C+h,R);h+=4;u.w1(g,C+h,G);h+=R;if(R%2==1)h++}u.SA(g,a,h);return C+h};
cL.akY=function(o,g,C){var a=C,x,K,h=o.Rp?8:4;if(o.Rp)x=u.vJ(g,C);else x=u.s(g,C);C+=h;if(x==0)return a+h;
K=cL.alr(o,g,C);cL.Hl(1,K-C,"Layer Info");C=K;K=cL.agr(o,g,C);cL.Hl(1,K-C,"Global Layer Mask Info");
C=K;K=fu.al(g,C,a+h+x,o.add,o.Rp,o);cL.Hl(1,K-C,"Project Add Info");C=K;return a+h+x};cL.a66=function(o,g,C,a,x){var K=C;
u.SA(g,C,0);C+=4;if(o.Rp){u.SA(g,C,0);C+=4}C=cL.atI(o,g,C,a,x);C=cL.a92(o,g,C);C=fu._2(g,C,o.add,o.Rp,o);
if(o.Rp)u.te(g,K,C-K-8);else u.SA(g,K,C-K-4);return C};cL.alr=function(o,g,C){var a,x=o.Rp?8:4;if(o.Rp)a=u.vJ(g,C);
else a=u.s(g,C);C+=x;if(a!=0)cL.b3(o,g,C);return C+a};cL.b3=function(o,g,C){var a=u.D3(g,C);C+=2;var x=Math.abs(a);
for(var N=0;N<x;N++){var K=new A;C=fe.kR(K,o,g,C);o.g[N]=K}var h=new aS(0,0,o.m,o.n);for(var N=0;N<x;
N++){var X=o.g[N],w=X.KN(),G=iT.kR(X,o,g,C);if(G-C>8)cL.Hl(2,G-C,"Lay: "+X.getName());C=G;cL.H1(X,h);
if(w)cL.H1(w,h)}};cL.H1=function(o,g){var C=o.rect.$(),a=o.rect.Kw(g),x=a.$()/C;if(C>2e3*3e3&&x<.5){if(o.buffer){var K=l.Z(a.$()*4);
l.HT(o.buffer,o.rect,K,a);o.buffer=K;o.rect=a}else{var K=l.Z(a.$());l.MD(o.channel,o.rect,K,a);o.channel=K;
o.rect=a}alert("Removing hidden parts of layers")}};cL.atI=function(o,g,C,a,x){var K=C,h=o.Rp;C+=h?8:4;
C=cL.LK(o,g,C,a,x);var X=C-K-(h?8:4);if(X%2!=0)X++;if(h)u.te(g,K,X);else u.SA(g,K,X);return K+X+(h?8:4)};
cL.LK=function(o,g,C,a,x){var K=o.g.length;u.k8(g,C,x?-K:K);C+=2;var h=[];for(var N=0;N<K;N++)C=fe.i3(o.g[N],o,g,C,h);
for(var N=0;N<K;N++)C=iT._O(o.Rp,o.g[N],g,C,h[N],a);return C};cL.agr=function(o,g,C){var a=u.s(g,C);
C+=4;C+=a;return C};cL.a92=function(o,g,C){var a=u.SA(g,C,0);C+=4;return C};cL.auJ=function(o,g,C){var a=o.ko,x="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),K=[1,1,1,3,4,1,1,3],h,Z;
if(a!=3){if(a==1||a==2||a==4)console.log("Project will be converted from "+x[a]+" to "+x[3]+" mode.");
else{alert("Color mode "+x[a]+" is not supported yet :(")}if(a==4)o.add.fcmy=1}if(o.Vz.r1045){h=[];var X=o.Vz.r1045,w=0;
while(w<X.length){var G=u.Qy(X,w);h.push(G);w+=4+2+G.length*2}}var R=K[a]+(h==null||h[0]=="Transparency"?1:0),d=o.m,q=o.n,m=d*q,M=u.eX(g,C);
C+=2;o.buffer=l.Z(m*4);l.th(o.buffer,4278190080);var Q=C;for(var p=0;p<o.vV;p++){if(M==0){Z=iT.Np(o.Rp,o.b5,g,d,q,C,M);
C+=m*(o.b5>>>3)}else if(M==1){Z=l.Z(m);var y=o.Rp?4:2;if(p==0)C+=o.vV*q*y;C+=iT.Ul(g,Z,d,q,Q+p*q*y,C,y)}else{console.log("unknown compression of image data: ",M);
return}if(p<R){l.Oa(Z,o.buffer,p);if(o.vV==1&&p==0){l.Oa(Z,o.buffer,1);l.Oa(Z,o.buffer,2)}}else{var V=new A.QX,W=p-R,v=p-K[o.ko];
V.name=h?h[v]:"Alpha";if(V.name=="Quick Mask"){V.nR=!0;o.Ix.push(W)}V.rect=new aS(0,0,d,q);V.channel=Z;
V.color=0;V.T3();o.JH[W]=V;if(o.Vz.r1077){var X=o.Vz.r1077.slice(4+v*13);V.Qe=c2.Wo(X,0);V.Zj=X[11];
V.a0=X[12];if(V.a0==2)V.nR=!0}}}o.vV=4;if(o.ko==2)for(var N=0;N<m;N++){var j=N*4,e=o.buffer[j];o.buffer[j]=o.Wd[0+e];
o.buffer[j+1]=o.Wd[256+e];o.buffer[j+2]=o.Wd[512+e]}return C};cL.anX=function(o,g,C,a,x){var K=1,h=16,X=o.m,w=o.n,R,d;
u.un(g,C,K);C+=2;var G=X*w;if(!a){d=new l.ib(X*w);l.NA(o.buffer,d);var q=d.z,m=d.B,M=d.K,Z=d.Bk;for(var N=0;
N<G;N++){var Q=Z[N]*(1/255);q[N]=~~(q[N]*Q+255*(1-Q));m[N]=~~(m[N]*Q+255*(1-Q));M[N]=~~(M[N]*Q+255*(1-Q))}}else R=l.Z(G);
var p=[R,R,R];if(!a)p=[d.z,d.B,d.K];if(x)p.push(a?R:d.Bk);for(var N=0;N<o.JH.length;N++){p.push(o.JH[N].Gc(new aS(0,0,o.m,o.n)))}var y=C;
for(var V=0;V<p.length;V++){g.TB(C,X*w+4);R=p[V];if(K==0||K==2||K==3)C=iT.I5(o.Rp,R,g.data,X,w,C,K);
else{var W=o.Rp?4:2;if(V==0)C+=p.length*w*W;var v=C;C+=iT.bM(R,g.data,X,w,y+V*w*W,C,W)}}return C};function jr(){}jr.kR=function(o){var g={};
jr.Pe(o,g,0,0);return g};jr.i3=function(o,g){var C=0;C=jr.DF(o,g,C,0);return C};jr.Pe=function(o,g,C,a){while(o[C]!="<".charCodeAt(0))C++;
C+=2;while(!0){if(o[C]=="/".charCodeAt(0)){C++;var x=u.indexOf(o," ".charCodeAt(0),C,C+50),K=u.indexOf(o,"\n".charCodeAt(0),C,C+50);
if(K==-1)K=Infinity;if(x==-1)x=Infinity;var h=Math.min(K,x),X=u.M7(o,C,h-C),w=jr.An(o,h+1,a+1,X);g[X]=w.k;
C=h+1;C+=w.size}else if(o[C]==">".charCodeAt(0)){C+=2;break}else{var G=o[C];if(G==10||G==9||G==32)C++;
else{console.log("unknown byte: "+G+", char: "+String.fromCharCode(G),C);C++}}}return C};jr.DF=function(o,g,C,a){u.mC(g,C,"<<\n");
C+=3;var x=jr.auu;for(var K in o){u.OK(g,C,"\t".charCodeAt(0),a+1);C+=a+1;u.mC(g,C,"/"+K);C+=1+K.length;
if(x(o[K])||o[K]instanceof Array){u.mC(g,C," ");C++}else{u.mC(g,C,"\n");C++;u.OK(g,C,"\t".charCodeAt(0),a+1);
C+=a+1}C=jr.GG(o[K],g,C,a+1);u.mC(g,C,"\n");C++}u.OK(g,C,"\t".charCodeAt(0),a);C+=a;u.mC(g,C,">>");C+=2;
return C};jr.An=function(o,g,C,a){var x=g,K={size:0,k:0};while(!0){while(o[g]==" ".charCodeAt(0)||o[g]=="\t".charCodeAt(0)||o[g]=="\n".charCodeAt(0))g++;
if(o[g]=="<".charCodeAt(0)){K.k={};g=jr.Pe(o,K.k,g,C+1);break}else if(o[g]=="(".charCodeAt(0)){g+=3;
var h=g;while(!0){if(o[h-1]!="\\".charCodeAt(0)&&o[h]==")".charCodeAt(0)&&(o[h+1]=="\n".charCodeAt(0)||o[h+1]==" ".charCodeAt(0)))break;
else h++}K.k=u.lB(o,g,h);g=h+2;break}else if(o[g]=="[".charCodeAt(0)){g++;K.k=[];while(o[g]==" ".charCodeAt(0)||o[g]=="\t".charCodeAt(0)||o[g]=="\n".charCodeAt(0))g++;
while(o[g]!="]".charCodeAt(0)){var X=jr.An(o,g,C+1,a);K.k.push(X.k);g+=X.size;while(o[g]==" ".charCodeAt(0)||o[g]=="\t".charCodeAt(0)||o[g]=="\n".charCodeAt(0))g++}g++;
break}else{var w=u.indexOf(o," ".charCodeAt(0),g,g+50),G=u.indexOf(o,"\n".charCodeAt(0),g,g+50);if(G==-1)G=Infinity;
if(w==-1)w=Infinity;var R=u.M7(o,g,Math.min(w,G)-g).trim(),d=parseFloat(R);if(!isNaN(d)){K.k=parseFloat(R);
g=Math.min(w,G)+1;break}else if(R=="true"||R=="false"){K.k=R=="true";g=Math.min(w,G)+1;break}else if(R=="null"||R=="NaN"||R=="undefined"){K.k=0;
g=Math.min(w,G)+1;break}else{console.log("unknown identifier: "+R);throw"e"}g=Math.min(w,G)+1}}K.size=g-x;
return K};jr.GG=function(o,g,C,a){if(o instanceof Array){var x=o.length==0||typeof o[0]=="number";if(x){u.mC(g,C,"[ ");
C+=2;for(var N=0;N<o.length;N++){var K=o[N]+" ";u.mC(g,C,K);C+=K.length}u.mC(g,C,"]");C+=1}else{u.mC(g,C,"[\n");
C+=2;for(var N=0;N<o.length;N++){u.OK(g,C,"\t".charCodeAt(0),a);C+=a;C=jr.GG(o[N],g,C,a);u.mC(g,C,"\n");
C++}u.OK(g,C,"\t".charCodeAt(0),a);C+=a;u.mC(g,C,"]");C+=1}}else if(o instanceof Object){C=jr.DF(o,g,C,a)}else if(typeof o=="string"){u.mC(g,C,"(");
C++;u.OK(g,C,254);C++;u.OK(g,C,255);C++;C=u.Om(g,C,o);u.mC(g,C,")");C+=1}else{var K=o+"";u.mC(g,C,K);
C+=K.length}return C};jr.auu=function(o){var g=typeof o;return g=="string"||g=="number"||g=="boolean"};
function dZ(){}dZ.kR=function(o){var g={};dZ.s_(o,g,0,0);return g};dZ.i3=function(o,g){var C=0;u.mC(g,C," ");
C++;C=dZ.Xg(o,g,C,0);C--;g.TB(C,2);g.data[C]=g.data[C+1]=0;C+=2;return C};dZ.Pe=function(o,g,C,a){while(o[C]!="<".charCodeAt(0)){C++;
console.log("\u0161ipka")}C+=2;C=dZ.s_(o,g,C,a);return C};dZ.DF=function(o,g,C,a){u.mC(g,C,"<< ");C+=3;
C=dZ.Xg(o,g,C,a);u.mC(g,C,">>");C+=2;return C};dZ.wJ=function(o){return o==9||o==10||o==32};dZ.s_=function(o,g,C,a){while(!0){while(dZ.wJ(o[C])||o[C]==0)C++;
if(C>=o.length)break;if(o[C]=="/".charCodeAt(0)){C++;var x=C;while(!dZ.wJ(o[x]))x++;var K=u.M7(o,C,x-C);
C=x+1;var h=dZ.An(o,C,a,K);g["_"+K]=h.k;C+=h.size}else if(o[C]==">".charCodeAt(0)){C+=2;break}else{var X=o[C];
console.log(u.M7(o,C,C+100));console.log("unknown byte: "+X+", char: "+String.fromCharCode(X)+", offset: "+C);
C++;throw"e";return-1}}return C};dZ.Xg=function(o,g,C,a){for(var x in o){var K=x.substring(1,x.length);
u.mC(g,C,"/"+K);C+=1+K.length;u.mC(g,C," ");C++;C=dZ.GG(o[x],g,C,a+1);u.mC(g,C," ");C++}return C};dZ.An=function(o,g,C,a){var x=g,K={type:"",size:0,k:0};
while(dZ.wJ(o[g]))g++;if(o[g]=="<".charCodeAt(0)){K.type="Object";K.k={};g=dZ.Pe(o,K.k,g,C+1)}else if(o[g]=="(".charCodeAt(0)){K.type="String";
g++;if(o[g]==")".charCodeAt(0)){K.k="e";g++}else{g+=2;var h=g,X=0;while(!0){if(o[h]==")".charCodeAt(0)&&o[h-1]!="\\".charCodeAt(0))break;
else h+=1}K.k="s"+u.lB(o,g,h);g=h+2}}else if(o[g]=="[".charCodeAt(0)){g++;K.k=[];K.type="Array";while(dZ.wJ(o[g]))g++;
while(o[g]!="]".charCodeAt(0)){var w=dZ.An(o,g,C+1,a);if(w==-1)return-1;K.k.push(w.k);g+=w.size;delete w.size;
while(dZ.wJ(o[g]))g++}g++}else{var G=g;while(!dZ.wJ(o[G]))G++;var R=u.M7(o,g,G-g),d=parseFloat(R);if(!isNaN(d)&&R.indexOf(".")!=-1){K.type="Float";
var q=parseFloat(R);K.k="f"+q}else if(!isNaN(d)&&R.indexOf(".")==-1){K.type="Integer";K.k="i"+parseInt(R)}else if(R=="true"||R=="false"){K.type="Boolean";
K.k=R=="true"}else if(R.charAt(0)=="/"){K.type="BString";K.k=R}else if(R=="NaN"){K.type="Float";K.k="f0"}else{console.log("unknown value",JSON.stringify(R));
throw"e"}g=G+1}K.size=g-x;return K};dZ.a45=function(o){if(o==Math.round(o))return o+".0";var g=o.toFixed(5);
while(g.endsWith("0")&&g[g.length-2]!=".")g=g.slice(0,g.length-1);if(0<o&&o<1)g=g.slice(1);if(-1<o&&o<0)g="-"+g.slice(2);
return g};dZ.GG=function(o,g,C,a){var x=typeof o=="string"?o.charAt(0):"";if(o instanceof Array){u.mC(g,C,"[ ");
C+=2;for(var N=0;N<o.length;N++){C=dZ.GG(o[N],g,C,a);u.mC(g,C," ");C++}u.mC(g,C,"]");C+=1}else if(o instanceof Object){C=dZ.DF(o,g,C,a)}else if(x=="e"){u.mC(g,C,"()");
C+=2}else if(x=="s"){u.mC(g,C,"(");C++;u.OK(g,C,254);C++;u.OK(g,C,255);C++;C=u.Om(g,C,o.substring(1));
u.mC(g,C,")");C++}else if(x=="/"){u.mC(g,C,o);C+=o.length}else if(x=="f"){var K=parseFloat(o.substring(1)),h=dZ.a45(K);
u.mC(g,C,h);C+=h.length}else if(x=="i"){u.mC(g,C,o.substring(1));C+=o.length-1}else{var h=o+"";u.mC(g,C,h);
C+=h.length}return C};function u(){}u.arb=function(ee){var o="";for(var N=3;N>=0;N--)o+=String.fromCharCode(ee>>N*8&255);
return o};u.a30=function(o){var ee=0;for(var N=o.length-1;N>=0;N--)ee|=o.charCodeAt(N)<<(3-N)*8;return ee};
u.indexOf=function(o,g,C,a){if(C==null)C=0;if(a==null)a=o.length;a=Math.min(a,o.length);for(var N=C;
N<a;N++)if(o[N]==g)return N;return-1};u.k$=function(o,g,C){if(C==null)C=0;var a=g.length,x=o.length-a;
if(typeof g=="string"){var K=[];for(var N=0;N<a;N++)K.push(g.charCodeAt(N));g=K}if(g.length>0){var h=g[0];
for(var N=C;N<x;N++)if(o[N]==h){var X=!0;for(var w=1;w<a;w++)if(g[w]!=o[N+w]){X=!1;break}if(X)return N}}return-1};
u.lB=function(o,g,C){var a=[],K="";while(g<C){var x=o[g++];if(x=="\\".charCodeAt(0))a.push(o[g++]);else a.push(x)}for(var N=0;
N<a.length;N+=2)K+=String.fromCharCode(a[N]<<8|a[N+1]);return K};u.ahC=function(o,g,C){var a=new Uint8Array(2);
for(var N=0;N<C.length;N++){u.rf(a,0,C.charCodeAt(N));if(a[0]==")".charCodeAt(0)||a[0]=="(".charCodeAt(0)||a[0]=="\\".charCodeAt(0)){o[g]="\\".charCodeAt(0);
g++}o[g]=a[0];g++;if(a[1]==")".charCodeAt(0)||a[1]=="(".charCodeAt(0)||a[1]=="\\".charCodeAt(0)){o[g]="\\".charCodeAt(0);
g++}o[g]=a[1];g++}return g};u.Om=function(o,g,C){o.TB(g,4*C.length);return u.ahC(o.data,g,C)};u.UX=function(o,g,C){var a="";
for(var N=0;N<C;N++){var x=o[g++]|o[g++]<<8;a+=String.fromCharCode(x)}return a};u.HP=function(o,g,C){var a="";
for(var N=0;N<C;N++){var x=o[g++]<<8|o[g++];a+=String.fromCharCode(x)}return a};u.an0=function(o,g,C){for(var N=0;
N<C.length;N++){var a=C.charCodeAt(N);u.Hr(o,g+2*N,a)}};u.dh=function(o,g,C){for(var N=0;N<C.length;
N++){var a=C.charCodeAt(N);u.rf(o,g+2*N,a)}};u.ajX=function(o,g,C){o.TB(g,2*C.length);u.dh(o.data,g,C)};
u.a0M=function(o,N,g){var C=[],a=0,x=0;g+=N;while(N<g){a=o[N++];if((a&128)==0)x=a;else if((a&224)==192){x=(a&31)<<6;
a=o[N++];x|=a&63}else if((a&240)==224){x=(a&15)<<12;a=o[N++];x|=(a&63)<<6;a=o[N++];x|=a&63}else if((a&248)==240){x=(a&7)<<18;
a=o[N++];x|=(a&63)<<12;a=o[N++];x|=(a&63)<<6;a=o[N++];x|=a&63}else throw"e";C.push(x)}return C};u.Os=window.TextDecoder?new window.TextDecoder("utf8"):null;
u.SP=function(o,g,C){if(g==null)g=0;if(C==null)C=o.length;if(u.Os&&g==0&&C==o.length)return u.Os.decode(o);
var a=u.a0M(o,g,C),x=a.length;for(var N=0;N<x;N++)a[N]=String.fromCharCode(a[N]);return a.join("")};
u.i6=window.TextEncoder?new window.TextEncoder("utf8"):null;u.Jz=function(o){if(u.i6)return u.i6.encode(o);
var g=new Uint8Array(o.length*4),C=u.At(o,g,0);return g.slice(0,C)};u.At=function(o,g,C){var a=o.length,N=0;
for(var x=0;x<a;x++){var K=o.charCodeAt(x);if((K&4294967295-(1<<7)+1)==0){g[C+N]=K;N++}else if((K&4294967295-(1<<11)+1)==0){g[C+N]=192|K>>6;
g[C+N+1]=128|K>>0&63;N+=2}else if((K&4294967295-(1<<16)+1)==0){g[C+N]=224|K>>12;g[C+N+1]=128|K>>6&63;
g[C+N+2]=128|K>>0&63;N+=3}else if((K&4294967295-(1<<21)+1)==0){g[C+N]=240|K>>18;g[C+N+1]=128|K>>12&63;
g[C+N+2]=128|K>>6&63;g[C+N+3]=128|K>>0&63;N+=4}else throw"e"}return N};u.wL=function(o,g){var C=u.s(o,g),a=u.SP(o,g+4,C-1);
return{ZQ:a,EN:4+C}};u.anD=function(o,g){var C=u.KI(o,g),a=u.UX(o,g+4,C);return a};u.$V=function(o,g){var C=u.s(o,g),a=u.HP(o,g+4,C);
return a};u.Qy=function(o,g){var C=u.s(o,g),a=u.HP(o,g+4,C-1);return a};u.afV=function(o,g,C){u.xa(o,g,C.length);
g+=4;u.an0(o,g,C)};u.abO=function(o,g,C){u.we(o,g,C.length);g+=4;u.dh(o,g,C)};u.Cx=function(o,g,C){o.TB(g,4+2*C.length);
u.abO(o.data,g,C)};u.akJ=function(o,g,C){o.TB(g,4+2*C.length);u.afV(o.data,g,C)};u.NW=function(o,g,C){var a=[];
for(var N=0;N<C;N++)a.push(String.fromCharCode(o[g+N]));return a};u.ake=function(o,g,C){var a=!1,x=o.length-C.length;
for(var N=g;N<x;N++){for(var K=0;K<C.length;K++){if(o[N+K]!=C.charCodeAt(K))break;if(K==C.length-1)return N}}};
u.M7=function(o,g,C){var a="";for(var N=0;N<C;N++)a+=String.fromCharCode(o[g+N]);return a};u.P9=function(o,g,C){for(var N=0;
N<C.length;N++)o[g+N]=C.charCodeAt(N)};u.mC=function(o,g,C){o.TB(g,C.length);u.P9(o.data,g,C)};u.ahQ=function(o,g,C){var a="";
for(var N=0;N<C;N++){var x=o[g+N];if(x<10)a+="  ";else if(x<100)a+=" ";a+=x+", "}return a};u.eX=function(o,g){return o[g]<<8|o[g+1]};
u.rf=function(o,g,ee){o[g]=ee>>8&255;o[g+1]=ee&255};u.un=function(o,g,ee){o.TB(g,4);u.rf(o.data,g,ee)};
u.afA=function(o,g){var C=u.eX(o,g),a=u.eX(o,g+2);return C+a*(1/65536)};u.Ee=function(o,g,ee){var C=Math.floor(ee),a=Math.floor((ee-C)*65536);
u.rf(o,g,C);u.rf(o,g+2,a)};u.Kk=function(o,g){return o[g+1]<<8|o[g]};u.Hr=function(o,g,ee){o[g+1]=ee>>8&255;
o[g]=ee&255};u.fL=function(o,g,ee){o.TB(g,4);u.Hr(o.data,g,ee)};u.D3=function(o,g){u.K8[0]=o[g+1];u.K8[1]=o[g];
return u.ue[0]};u.Yp=function(o,g){u.K8[0]=o[g];u.K8[1]=o[g+1];return u.ue[0]};u.mY=u.rf;u.k8=u.un;u.sU=function(o,g){u.O5[0]=o[g+3];
u.O5[1]=o[g+2];u.O5[2]=o[g+1];u.O5[3]=o[g];return u.dy[0]};u.eB=function(o,g,ee){u.dy[0]=ee;o[g+3]=u.O5[0];
o[g+2]=u.O5[1];o[g+1]=u.O5[2];o[g+0]=u.O5[3]};u.jQ=function(o,g,ee){o.TB(g,4);u.eB(o.data,g,ee)};u.jn=function(o,g,C,a){C[a+0]=o[g+0];
C[a+1]=o[g+1];C[a+2]=o[g+2];C[a+3]=o[g+3]};u.KI=function(o,g){u.jn(o,g,u.O5,0);return u.kL[0]};u.xa=function(o,g,ee){u.kL[0]=ee;
u.jn(u.O5,0,o,g)};u.zS=function(o,g,ee){o.TB(g,4);u.xa(o.data,g,ee)};u.OC=function(o,g){u.jn(o,g,u.O5,0);
return u.dy[0]};u.a9O=function(o,g,ee){u.dy[0]=ee;u.jn(u.O5,0,o,g)};u.aes=function(o,g,ee){o.TB(g,4);
u.a9O(o.data,g,ee)};u.s=function(o,g){var C=o[g]*(256*256*256)+(o[g+1]<<16|o[g+2]<<8|o[g+3]);return C};
u.we=function(o,g,ee){o[g]=ee>>24&255;o[g+1]=ee>>16&255;o[g+2]=ee>>8&255;o[g+3]=ee>>0&255};u.SA=function(o,g,ee){o.TB(g,4);
u.we(o.data,g,ee)};u.vJ=function(o,g){return u.s(o,g)<<32|u.s(o,g+4)};u.xn=function(o,g,ee){u.we(o,g,ee>>16>>16);
u.we(o,g+4,ee&4294967295)};u.te=function(o,g,ee){o.TB(g,8);u.xn(o.data,g,ee)};u.Wq=function(o,g){var C=new Uint8Array(8);
for(var N=0;N<8;N++)C[N]=o[g+7-N];var a=new Float64Array(C.buffer);return a[0]};u.E5=function(o,g){var C=new Uint8Array(8);
for(var N=0;N<8;N++)C[N]=o[g+N];var a=new Float64Array(C.buffer);return a[0]};u.qN=function(o,g,ee){var C=new Float64Array(1);
C[0]=ee;var a=new Uint8Array(C.buffer);for(var N=0;N<4;N++){var x=a[N];a[N]=a[7-N];a[7-N]=x}for(var N=0;
N<8;N++)o[g+N]=a[N]};u.OW=function(o,g,ee){o.TB(g,8);u.qN(o.data,g,ee)};u.gg=function(o,g){u.O5[0]=o[g+3];
u.O5[1]=o[g+2];u.O5[2]=o[g+1];u.O5[3]=o[g+0];return u.c7[0]};u.V1=function(o,g){u.O5[0]=o[g+0];u.O5[1]=o[g+1];
u.O5[2]=o[g+2];u.O5[3]=o[g+3];return u.c7[0]};u.M6=function(o,g,ee){u.c7[0]=ee;o[g+0]=u.O5[3];o[g+1]=u.O5[2];
o[g+2]=u.O5[1];o[g+3]=u.O5[0]};u.a1F=function(o,g,ee){o.TB(g,4);u.M6(o.data,g,ee)};u.Uv=function(o,g,ee){u.c7[0]=ee;
o[g+0]=u.O5[0];o[g+1]=u.O5[1];o[g+2]=u.O5[2];o[g+3]=u.O5[3]};u.aml=function(o,g,ee){o.TB(g,4);u.Uv(o.data,g,ee)};
u.adO=function(o,g){var C=u.sU(o,g),a=C*(1/(1<<24));return a};u.Wg=function(o,g,C){var a=Math.floor(C*(1<<24));
u.eB(o,g,a)};u.a6T=function(o,g,C){o.TB(g,4);u.Wg(o.data,g,C)};u.nO=function(o,g){var C=o[g],a=u.M7(o,g+1,C);
C+=1-C%2;return{zv:a,length:C+1}};u.axK=function(o,g,C){var a=C.length;o[g]=a;u.P9(o,g+1,C);if(a%2==0){o[g+1+a]=0;
++a}return a+1};u.Kf=function(o,g,C){o.TB(g,C.length+2);return u.axK(o.data,g,C)};u.Mb=function(o,g){var C=new kp;
C.Bk=u.Wq(o,g+0*8);C.K=u.Wq(o,g+1*8);C.U9=u.Wq(o,g+2*8);C.rX=u.Wq(o,g+3*8);C.NO=u.Wq(o,g+4*8);C.Mx=u.Wq(o,g+5*8);
return C};u.qb=function(o,g,C){u.qN(o,g+0*8,C.Bk);u.qN(o,g+1*8,C.K);u.qN(o,g+2*8,C.U9);u.qN(o,g+3*8,C.rX);
u.qN(o,g+4*8,C.NO);u.qN(o,g+5*8,C.Mx)};u.auo=function(o,g,C){o.TB(g,48);u.qb(o.data,g,C)};u.am1=function(o,g){var C=u.gg(o,g),a=u.gg(o,g+4),x=u.gg(o,g+8),K=u.gg(o,g+12);
return new aS(C,a,x-C,K-a)};u.asm=function(o,g,C){u.M6(o,g,C.x);u.M6(o,g+4,C.y);u.M6(o,g+8,C.x+C.m);
u.M6(o,g+12,C.y+C.n)};u.al$=function(o,g,C){o.TB(g,16);u.asm(o.data,g,C)};u.Q6=function(o,g){var C=u.sU(o,g),a=u.sU(o,g+4),x=u.sU(o,g+8),K=u.sU(o,g+12);
return new aS(a,C,K-a,x-C)};u.VE=function(o,g,C){u.eB(o,g,C.y);u.eB(o,g+4,C.x);u.eB(o,g+8,C.y+C.n);u.eB(o,g+12,C.x+C.m)};
u.BE=function(o,g,C){o.TB(g,16);u.VE(o.data,g,C)};u.UJ=function(o,g,C){var a=new Uint8Array(C);for(var N=0;
N<C;N++)a[N]=o[g+N];return a};u.Vi=function(o,g,C){o.set(C,g)};u.w1=function(o,g,C){o.TB(g,C.length);
u.Vi(o.data,g,C)};u.arh=function(o,g,C,ee){if(!ee)ee=1;for(var N=0;N<ee;N++)o[g+N]=C};u.OK=function(o,g,C,ee){if(!ee)ee=1;
o.TB(g,ee);u.arh(o.data,g,C,ee)};u.ue=new Int16Array(1);u.K8=new Uint8Array(u.ue.buffer);u.dy=new Int32Array(1);
u.kL=new Uint32Array(u.dy.buffer);u.O5=new Uint8Array(u.dy.buffer);u.c7=new Float32Array(u.dy.buffer);
function hu(){}hu.kR=function(o,g){var C=new Uint8Array(o),a=0,x=u.M7(C,a,9),X=4,w=100;a+=9;var K=u.M7(C,a,4);
a+=4;a++;g.m=u.s(C,a);a+=4;g.n=u.s(C,a);a+=4;var h=u.s(C,a);a+=4;if(h!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(K)==-1){w=u.s(C,a);a+=4;if(parseInt(K.slice(1))>=7){w=w}else alert("Unknown XCF version: "+K);
X=8}var G={};a=hu.av(C,a,G);var R=[];a=hu.tD(C,a,R,X);var d=[];a=hu.tD(C,a,d,X);g.N_=0;for(var N=0;N<R.length;
N++)hu.axl(C,R[N],g,G,X,w);while(g.N_>0){g.g.push(g.kF());g.N_--}g.g.reverse();delete g.N_;g.buffer=l.Z(g.m*g.n*4);
if(g.g.length==0)console.log("No layers!!!");for(var N=0;N<d.length;N++){var q=hu.XR(C,d[N],G,X,w);if(q.L_[am.aoZ])g._={channel:q.P4,rect:new aS(0,0,g.m,g.n)}}};
hu.axl=function(o,g,C,a,x,K){var h=C.HL(),X=u.s(o,g),d=0;g+=4;var w=u.s(o,g);g+=4;h.rect=new aS(0,0,X,w);
var G=u.s(o,g);g+=4;var R=u.wL(o,g);g+=R.EN;h.XH(R.ZQ);var q={};g=hu.av(o,g,q);if(q[am.kg]){var m=q[am.kg];
d=m.length/4-1}if(q[am.sZ]){h.rect.x=u.sU(q[am.sZ],0);h.rect.y=u.sU(q[am.sZ],4)}if(q[am.sN]){h.opacity=u.s(q[am.sN],0)}if(q[am.aip]){h.add.lsct=kj.ah;
h.qX=24}if(q[am.Gu]){var M=u.s(q[am.Gu],0);h.WN=am.ag6[M];if(h.sP()&&h.WN=="norm")h.WN="pass"}if(q[am.ID]){if(u.s(q[am.ID],0)==0)h.qX+=2}if(q[am.B7]){var Z=u.s(q[am.B7],0);
h.add.lsct=Z&1==1?kj.ah:kj.vz}if(q[am.rU]){var Q=q[am.rU];for(var p in Q){var y=Q[p];if(p=="gimp-text-layer"){var V=hu.a7V(y),W=V.text,v=V.font,j=V.color,e=V["font-size"];
if(W==null&&V.markup){var T=new DOMParser,O=T.parseFromString(V.markup,"image/svg+xml");while(O.firstChild!=null&&O.firstChild.tagName!=null){O=O.firstChild;
var L=O.getAttribute("font"),S=O.getAttribute("foreground"),$=O.getAttribute("size");if(L!=null)v=L;
if(S!=null){S=CSS.Wo(S);j=[1,S.z/255,S.B/255,S.K/255]}if($!=null){e=""+parseFloat($)/245}}W=O.textContent}h.add.lnsr="rend";
h.add.TySh=bv.hT(0,0);h.add.TySh.Vf=new aS(0,0,100,100);h.add.TySh.D=new kp(1,0,0,1,h.rect.x,h.rect.y);
var H=h.add.TySh.cp;bv.l6(H,0,W);var f=bv.SX(H,0,0),F=V.justify,U=V["line-spacing"];if(j)f.Fn.FillColor={Type:1,Values:[1,parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3])]};
if(e){e=Math.round(parseFloat(e));f.Fn.FontSize=e;h.add.TySh.D.Mx+=Math.min(17,e*.17)}if(U){U=Math.round(parseFloat(U)+f.Fn.FontSize*1.2);
f.Fn.Leading=U;f.Fn.AutoLeading=!1}if(F)f.Yt.Justification=["left","right","center","fill"].indexOf(F);
if(v&&v!="Sans-serif"){var r=v.toLowerCase(),E="bold italic semi extra regular condensed light".split(" "),k=r.length;
for(var N=0;N<E.length;N++){var P=r.indexOf(E[N]);if(P!=-1&&P<k&&r[P-1]==" ")k=P}if(k!=r.length)v=v.slice(0,k-1).split(" ").join("")+"-"+v.slice(k).split(" ").join("");
bv.s2(f,v)}bv.dG(H,0,W.length,f);var z=V["box-width"],s=V["box-height"],Y=z?parseFloat(z):h.rect.m,t=s?parseFloat(s):h.rect.n;
bv.lr(H,1);bv.yy(H,[0,0,Math.ceil(Y),Math.ceil(t)])}else console.log("Unknown property "+p)}}while(C.N_>d){C.g.push(C.kF());
C.N_--}C.N_=d;if(h.add.lsct==kj.ah||h.add.lsct==kj.vz)C.N_++;var n=x==4?u.s:u.vJ,J=n(o,g);g+=x;var I=n(o,g);
g+=x;if(h.MC()){h.buffer=l.Z(h.rect.$()*4);var fp=new l.ib(h.rect.$());hu.qQ(o,J,fp,a,x,K);l.bc(fp,h.buffer)}if(I!=0){h.d=new A.QX;
var cH=hu.XR(o,I,a,x,K);h.d.channel=cH.P4;h.d.rect=h.rect.clone();if(q[am.jl])h.d.isEnabled=u.s(q[am.jl],0)==1;
h.d.color=h.d.channel[0];h.d.T3()}if(h.sP())h.rect=new aS;C.g.push(h)};hu.a7V=function(o){var g="("+u.SP(o,0,o.length-1)+")",C=[],a={};
hu.CV(g,1,C);hu.aou(C,a);return a};hu.aou=function(o,g){for(var N=0;N<o.length;N++){var C=o[N],a=C[0];
if(C.length==2)g[a]=C[1];else g[a]=C.slice(1)}};hu.CV=function(o,g,C){while(!0){if(g>=o.length)throw"e";
var a=o.charAt(g);g++;if(a=="("){var x=[];g=hu.CV(o,g,x);C.push(x)}else if(a==" "||a=="\n"||a=="\r"){}else if(a==")")return g;
else if(a=="\""){var K=g;while(!0){var h=o[g];g++;if(h=="\"")break;if(h=="\\")g++}C.push(JSON.parse(o.slice(K-1,g)))}else{var K=g-1;
while(o[g]!=" "&&o[g]!=")")g++;C.push(o.slice(K,g))}}};hu.XR=function(o,g,C,a,x){var K=u.s(o,g);g+=4;
var h=u.s(o,g);g+=4;var X=u.wL(o,g);g+=X.EN;var w={};g=hu.av(o,g,w);var G=new l.ib(K*h),R=a==4?u.s:u.vJ,d=R(o,g);
g+=a;hu.qQ(o,d,G,C,a,x);return{P4:G.z,L_:w}};hu.qQ=function(o,g,C,a,x,K){var h=u.s(o,g);g+=4;var X=u.s(o,g);
g+=4;var w=u.s(o,g);g+=4;var G=x==4?u.s:u.vJ,R=G(o,g);g+=x;hu.ahF(o,R,C,a,w,x,K)};hu.ahF=function(o,g,C,a,x,K,h){var X=u.s(o,g),R=0,N=0;
g+=4;var w=u.s(o,g);g+=4;var G=new aS(0,0,X,w);if(h==100||h==150)R=1;else if(h==200||h==250)R=2;else if(h==300||h==350)R=4;
else if(h==500||h==550)R=2;else if(h==600||h==650)R=4;else if(h==700||h==750)R=8;else{alert("unsupported bit depth "+h);
throw"e"}var d=x/R,R=Math.round(x/d),q=[];g=hu.tD(o,g,q,K);var m=new l.ib(64*64*R),M=new aS,Z=a[am.ac2][0],Q=[m.z,m.B,m.K,m.Bk];
if(d==3)m.Bk.fill(255);var p=Date.now();for(var y=0;y<w;y+=64)for(var V=0;V<X;V+=64){var W=Math.min(X-V,64),v=Math.min(w-y,64),j=W*v;
M.fR(V,y,W,v);hu.a8J(o,q[N++],j*R,Z,d,Q);if(h==100||h==150){}else if(h==250){for(var e=0;e<d;e++){var T=Q[e];
for(var O=0;O<j;O++){var L=T[O]<<8|T[j+O];T[O]=Math.min(L>>>8,255)}}}else if(h==600){var S=hu.alY(),$=new Uint32Array(1),H=new Float32Array($.buffer);
for(var e=0;e<d;e++){var T=Q[e];for(var O=0;O<j;O++){$[0]=T[O]<<24|T[j+O]<<16|T[(j<<1)+O]<<8|T[(j<<1)+j+O]<<0;
var f=H[0];if(f<0)f=0;else if(f>1)f=1;T[O]=S[~~(.5+f*1e3)]}}}else console.log("unknown data format",h);
l.eH(m,M,C,G)}};hu.alY=function(){var o=hu.atx;if(o!=null)return o;o=hu.atx=new Uint8Array(1001);for(var N=0;
N<1001;N++)o[N]=~~(.49+255*l.eS(N*.001));return o};hu.a8J=function(o,g,C,a,x,K){if(a==1){for(var h=0;
h<x;h++){var X=K[h],w=0;while(w<C){var ee=o[g];g++;if(ee<127){var G=o[g];g++;ee++;for(var N=0;N<ee;N++)X[w+N]=G}else if(ee==127){var R=o[g];
g++;var d=o[g];g++;var G=o[g];g++;ee=R<<8|d;for(var N=0;N<ee;N++)X[w+N]=G}else if(ee==128){var R=o[g];
g++;var d=o[g];g++;ee=R<<8|d;for(var N=0;N<ee;N++)X[w+N]=o[g+N];g+=ee}else{ee=256-ee;for(var N=0;N<ee;
N++)X[w+N]=o[g+N];g+=ee}w+=ee}}}else if(a==2){var q=pako.inflate(o.slice(g)),m=Math.round(q.length/C);
for(var N=0;N<C;N++){var M=N*m;K[0][N]=q[M];K[1][N]=q[M+1];K[2][N]=q[M+2];K[3][N]=m==3?255:q[M+3]}}else alert("Unknown compression "+a)};
hu.tD=function(o,g,C,a){var x=a==4?u.s:u.vJ;while(!0){var K=x(o,g);g+=a;if(K==0)break;else C.push(K)}return g};
hu.av=function(o,g,C){while(!0){var a=u.s(o,g);g+=4;var x=u.s(o,g);g+=4;if(a==am.avb)break;else if(a==am.rU)C[a]=hu.aqs(o,g,g+x);
else C[a]=u.UJ(o,g,x);g+=x}return g};hu.aqs=function(o,g,C){var a={};while(g<C){var x=u.wL(o,g);g+=x.EN;
var K=u.s(o,g);g+=4;if(K!=1)console.log("unknown flags",K);var h=u.s(o,g);g+=4;a[x.ZQ]=u.UJ(o,g,h);g+=h}return a};
var am={avb:0,aei:1,af3:2,avI:3,aoZ:4,agK:5,sN:6,Gu:7,ID:8,am7:9,a5V:10,jl:11,a8A:12,aeJ:13,a5m:14,sZ:15,ajY:16,ac2:17,a1D:18,aaF:19,a3f:20,rU:21,a1I:22,avX:23,aiN:24,agu:25,atW:26,a4N:27,a9M:28,aip:29,kg:30,B7:31,anl:32,a3I:33,ae0:34,a2Q:35,avm:36,afp:37,anz:38,ajt:0,al0:1,a3D:2,abm:3,arx:1,auS:2,amw:0,ak$:1,agk:1};
am.ag6="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var aj=function(){var o=!1,g,C,V;function a(){var j=u.M7(g,C,4);C+=4;return j[3]+j[2]+j[1]+j[0]}function x(){var j=u.M7(g,C,4);
C+=4;return j}function K(){var j=g[C];C+=1;return j}function h(){var j=u.Kk(g,C);C+=2;return j}function X(){var j=u.KI(g,C);
C+=4;return j}function w(){var j=u.OC(g,C);C+=4;return j}function G(){var j=u.KI(g,C);C+=8;return j}function R(){var j=u.V1(g,C);
C+=4;return j}function d(){var j=u.E5(g,C);C+=8;return j}function q(){var j=u.Kk(g,C),e=u.SP(g,C+2,j);
C+=2+j;return e}function m(){var j=u.KI(g,C),e=u.SP(g,C+4,j);C+=4+j;return e}function M(j){C=j;var e=[];
while(C!=0){var T=x();if(T!="#FT4"&&T!="#FT3"&&T!="#FT2")throw T;var O=G(),L=G(),S=G(),$=G(),H=G(),f=X(),F=X(),U=X(),r=h(),E=K(),k={};
e.push(k);for(var N=0;N<f;N++){var P=X(),z=K();if(z!=0&&z!=1&&z!=2)throw z;var s=[];if(z==0||z==1){var Y=G(),t=G(),n=G(),J=X(),I=K(),fp=X(),cH=T!="#FT4"?0:X(),b=null;
if(T=="#FAT"||T=="#FT2"){switch(I){case 1:I=1;break;case 2:I=65;break;case 3:I=129;break;case 4:I=193;
break;default:I=0;break}}if(z==0)b=q();s=[Y,t,n,I,b]}k["i"+P]=[z,s]}for(var N=0;N<r;N++){var jL=h(),aq=h(),cJ=G(),aB=u.M7(g,C,jL);
C+=jL}C=O}e.reverse();for(var au=1;au<e.length;au++){var k=e[au],ea=e[au]=JSON.parse(JSON.stringify(e[au-1]));
for(var ax in k){var f1=k[ax];if(f1[0]==0)ea[ax]=f1;else if(f1[0]==1){f1[1][4]=ea[ax][1][4];ea[ax]=f1}else if(f1[0]==2)delete ea[ax]}}var fk=e.pop(),hF=[];
for(var ax in fk)hF.push(fk[ax][1]);hF.sort(function(fm,jE){return fm[0]-jE[0]});return hF}function Z(j,e,T,O){while(C<g.length){var L=K(),f=null;
if(L==0){if(O){var S=K();if(S!=2){var $=a()}if(S==0)C+=4;O=!1;continue}else{break}}var H=a();if(o)console.log("  ".repeat(e),L,L&127,H,j._type);
if(L>127)f=Q(L,e,T);else f=p(L,e,T);j[H]=f}}function Q(j,e,T){var O=[];j=j&127;if(j==43)C+=4;var L=X();
if(j==50){var S=a(),$=h();if($!=1)throw"e";for(var N=0;N<L;N++){var H={_status:"NotShared",_type:S};
O.push(H);var f=K();if(f!=1)throw f;Z(H,e+1,T)}}else for(var N=0;N<L;N++){O.push(p(j,e,T));if(j==42)j=2}return O}function p(j,e,T){var O=null;
if(j==49){O={};var L=K();if(L!=0){var S=X();if(T==null){O._id=S;O._status=["Shared","Link"][L-1]}if(T&&L==2)O=T[S];
if(L==1){if(T)T[S]=O;var $=K(),H=!1;if($>1)throw $;O._type=a();if(o)console.log("  ".repeat(e),"new",O._type,$,C);
if($==0){while(!0){var f=h();if(f!=0&&f!=1&&f!=2&&f!=4)throw f;if(g[C]!=0){H=!0;break}var F=h();if(F==512)break;
var U=a();if(F==256)break}}Z(O,e+1,T,H)}}}else if(j==50){O={_status:"NotShared"};if(K()==1){O._type=a();
C+=2;Z(O,e+1,T)}}else if(j==1)O={type:"byte",value:K()};else if(j==2)O={type:"uint16",value:h()};else if(j==3)O={type:"uint32",value:X()};
else if(j==4)O={type:"uint64",value:G()};else if(j==7)O={type:"int32",value:w()};else if(j==8)O={type:"int64",value:G()};
else if(j==9)O={type:"float32",value:R()};else if(j==10)O={type:"float64",value:d()};else if(j==21)O={type:"Vec2i",value:[X(),X()]};
else if(j==23)O={type:"Vec4i",value:[X(),X(),X(),X()]};else if(j==33)O={type:"Vec4f",value:[R(),R(),R(),R()]};
else if(j==36)O={type:"Vec2",value:[d(),d()]};else if(j==38)O={type:"Vec4",value:[d(),d(),d(),d()]};
else if(j==40)O={type:"Vec6",value:[d(),d(),d(),d(),d(),d()]};else if(j==41)O={type:"bool",value:K()!=0};
else if(j==42)O={type:"Enum",value:X()};else if(j==43)O={type:"string",value:m()};else if(j==44){var r=h();
O={type:"curv16",value:[d(),r==12?[K(),K(),K(),K()]:[X(),X()]]}}else if(j==45){var r=X();O={type:"buff",value:g.slice(C,C+r)};
C+=r}else if(j==47){O={type:"uint32",value:X()}}else if(j==48){var E=[],k=h();if(k!=1)throw k;if(g[C]==135){var P=Q(K(),e+1,T),z=Q(K(),e+1,T),s=Q(K(),e+1,T);
E=[P,z,s]}else{var Y=1;if(g[C]==3){K();Y=X()}for(var N=0;N<Y;N++){if(K()!=41)throw"e";var S=K();if(S!=0&&S!=1)throw S;
if(K()!=172)throw"e";var t=X(),n=h(),J=[];E.push(J);if(n!=18)throw n;if(t>2e3)throw t;for(var I=0;I<t;
I++)J.push([d(),d(),K(),K()])}}C++;O={type:"curve",value:E}}else if(j==51){O={type:"EmbeddedData"};O[a()]=m()}else if(j==52)O={type:"uint32",value:X()};
else if(j==56)O={type:"Color32",value:[K(),K(),K(),K()]};else if(j==60)O={type:"ColorGRAY",value:[R(),R()]};
else if(j==68)O={type:"ColorRGBA",value:[R(),R(),R(),R()]};else if(j==72)O={type:"ColorCMYK",value:[R(),R(),R(),R(),R()]};
else{throw j}return j==49||j==50||j==51?O:O.value}function y(j){var e=0,T=j.length;for(var N=0;N<T;N++)j[N]=e=e+j[N]&255}function W(j){g=j;
C=4;var e=X(),T=x();if(T!="nsrP")throw T;var T=x();if(T!="#Inf")throw T;var O=G();V=G();var L=G(),S=G(),$=G(),H=X(),f=X(),T=x();
if(T!="Prot")throw T;var H=X(),F=M(O),U={},r=Date.now();for(var E=0;E<F.length;E++){var k=F[E],P=k[3],n=null;
C=k[0];var T=x();if(T!="#Fil")throw T;var z=P>>>5&1,s=P&3,Y=P&192;switch(Y){case 64:Y=1;z=0;break;case 128:Y=2;
break;case 192:Y=3;break;default:Y=0;z=0}var t=new Uint8Array(g.buffer,C,k[2]);if(s==0)n=t;else if(s==1)n=pako.inflate(t);
else if(s==2)n=bl.Tr.Lg(t,k[1]);else throw s;if(z==0){if(Y==1)y(n);if(Y==2)throw"e"}else throw z;U[k[4]]=n}return U}function v(j){var e=W(new Uint8Array(j));
g=e["doc.dat"];C=16;var T={};Z(T,0,[]);return[e,T,V]}return{aez:v}}();function ca(){}ca.kR=function(){function o(m,M){var Z=Date.now(),Q=aj.aez(m),p=Q[0],y=Q[1],V=Q[2],W=y.DocR,v=W.DfSz,j=W.Chld;
if(j.length!=1)throw"e";var e=j[0],T=e.SprB;j=e.Chld;M.m=~~T[2];M.n=~~T[3];M.buffer=l.Z(M.m*M.n*4);var O=[0,{}];
for(var N=0;N<j.length;N++)x(j[N],M,p,new kp,O,0);M.dU(O[0]);console.log(Date.now()-Z,"Document created");
Z=Date.now()}function g(m){return new kp(m[0],m[3],m[1],m[4],m[2],m[5])}function C(m,M){var Z=M.Xfrm;
Z=Z?g(Z):new kp;Z.concat(m);return Z}function a(m){var M={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[m];
return M?M:"norm"}function x(m,M,Z,Q,p,y){var V=m._type,W=m.Chld,v=M.HL();v.XH(m.Desc==null||m.Desc==""?V=="Grup"?"Folder":"Layer":m.Desc);
v.Su(m.Visi);v.opacity=Math.round(255*m.Opac);if(m.FOpc!=1)v.add.iOpa=Math.round(255*m.FOpc);var j=m.Blnd;
if(j!=null)v.WN=a(j);var e=C(Q,m),T=V=="ShpN"||V=="PCrv";if(W){M.g.push(M.kF());v.add.lsct=kj.ah;v.WN="pass";
v.qX=24;if(V=="ShpN"){var O=m.ShpB;v.xJ(new aS(O[0]+e.NO,O[1]+e.Mx,O[2]-O[0],O[3]-O[1]));p[0]++;v.add.artb.Clr={t:"Objc",v:l.T.CT({z:255,B:255,K:255})}}for(var N=0;
N<W.length;N++)x(W[N],M,Z,e,p,y+1)}else if(V=="Rstr"||V=="ImgN"||V=="MRst"){var L=m.Bitm,S=L.Bckg,$=Date.now(),H;
if(S==null){H=G(L,Z,p[1]);v.rect=H[2].clone();v.buffer=H[1].slice(0);v.rect.x+=e.NO;v.rect.y+=e.Mx}if(S||e.Bo()!=1){var f,F=0,U=0;
if(S){var r=Z[S.Data],E=u.k$(r,"ataD")+4,k=u.KI(r,E);E+=4;f=r.slice(E,E+k)}else{F=v.rect.x-e.NO;U=v.rect.y-e.Mx;
if(H[3]==null)H[3]=new Uint8Array(bl.qC("PNG").oe([[v.buffer.buffer]],v.rect.m,v.rect.n));f=H[3].slice(0)}var P=M.Lz(f,v.getName(),0,0);
P.qX=v.qX;P.opacity=v.opacity;v=P;var z=new kp;z.translate(F,U);z.concat(e);var s=v.rect.clone();s.x=s.y=0;
var Y=l.o.IW(s).w;l.o.D(Y,z,Y);v.add.SoLd.Trnf=c.V.SS(Y);v.add.SoLd.nonAffineTransform=c.V.SS(Y);v.R9(M,!1)}}else if(V=="TxtA"||V=="TxtF"){v.add.lnsr="rend";
v.add.TySh=bv.hT(0,0);v.add.TySh.Vf=new aS(0,0,100,100);var t=m.TxtH.FrmB,n=new kp,cH=0;n.translate(t[0],t[1]);
n.concat(e);v.add.TySh.D=n;var J=v.add.TySh.cp,I=m.StSt,fp=I.Blok;if(fp.length!=1)throw"e";for(var b=0;
b<fp.length;b++){var jL=fp[b],aq=cH,cJ=0,aB=jL.Glyp.Utf8;aB=aB.replace(/\u2028/g,"\n");aB=aB.replace(/\u2029/g,"\n");
aB=aB.slice(0,aB.length-1);bv.l6(J,cH,aB);cH+=aB.length;var au=jL.GAtt.Runs,ea=jL.PAtt.Runs[0],ax=ea.Item.Ints[0];
for(var f1=0;f1<au.length;f1++){var fk=au[f1],hF=fk.Indx,fm=fk.Item,jE=fm.Objs,ff=bv.SX(J,aq,1);ff.Yt.Justification=ax==0?0:ax==1?2:1;
bv.s2(ff,fm.DFnt.Post);ff.Fn.FontSize=fm.Doub[0];for(var N=0;N<jE.length;N++){var d5=jE[N];if(d5._type=="FDsc"){var eF=d5.FDeF;
if(eF._type=="FilS"){var gI=w(eF.Colr);ff.Fn.FillColor={Type:1,Values:[1,gI[0],gI[1],gI[2]]}}}}bv.dG(J,aq+cJ,aq+Math.min(hF,aB.length),ff);
cJ=hF}}bv.lr(J,1);bv.yy(J,[0,0,Math.round(t[2]-t[0]),Math.round((t[3]-t[1])*1.2)]);M.UG=!0}else if(T){v.qX|=16;
var fE=v.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));v.add.vstk.strokeEnabled.v=!1;var js=v.add.vmsk=K(m);
l.M.Jg(js.i,e);if(m.BFFl){var d8=m.BFFl[0].FDeF,bt=d8._type;if(bt=="FilS")v.add.SoCo={classID:"null",Clr:X(d8.Colr)};
else if(bt=="FilG"){var io=v.add.GdFl=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]);h(d8,io)}else if(bt=="FilN"){v.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.T.CT({z:0,B:0,K:0})}};
fE.fillEnabled.v=!1}else console.log(bt)}if(m.LILn){var ha=m.LILn[0].LDeL,dp=ha.Wght;if(dp!=0){fE.strokeEnabled.v=!0;
fE.strokeStyleLineWidth.v.val=dp;var d8=m.LIFl[0].FDeF,bt=d8._type;if(bt=="FilS")fE.strokeStyleContent.v.Clr=X(d8.Colr);
else if(bt=="FilN")fE.strokeEnabled.v=!1}}v.fb();v.Rw(M)}else console.log(V);var gS=m.AdCh,aP=[];if(gS)for(var N=0;
N<gS.length;N++){var gD=gS[N],fA=gD._type;if(fA=="ShpN"||fA=="PCrv"){var js=v.add.vmsk=K(gD),jH=C(e,gD);
l.M.Jg(js.i,jH);v.fb();v.Rw(M)}else if(gD.AdjP){var aM=gD.AdjP,jc=aM._type,eQ={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[jc];
if(eQ==null){console.log(aM);continue}var j1=hb.dI(eQ,{});aP.push(j1);var i7=j1.v.Fltr.v;if(jc=="LevP"){var fT=h5.Ca(i7,0);
fT[0]=aM.OutB*255;fT[1]=aM.OutW*255;h5.eV(i7,0,fT)}else if(jc=="WhBP"){var fT=h5.Ca(i7,2);fT[4]=100+aM.WBTi*20;
h5.eV(i7,2,fT);var fT=h5.Ca(i7,3);fT[4]=100+aM.WBTi*200;h5.eV(i7,3,fT)}else if(jc=="HSSP"){var fT=aw.Ca(i7,0);
fT[0]=Math.round(aM.HueA*256);fT[1]=Math.round(aM.SatA*256);fT[2]=Math.round(aM.LumA*256);aw.eV(i7,0,fT)}else if(jc=="RecP"){i7.Clrz.v=!0;
var fT=aw.Ca(i7,0);fT[0]=Math.round(aM.RecH*100);fT[1]=Math.round(aM.RecS*100);fT[2]=Math.round(aM.RecL*100);
aw.eV(i7,0,fT)}else if(jc=="B&CP"){i7.Brgh.v=Math.round(aM.Brig*100);i7.Cntr.v=Math.round(aM.Ctrs*100-100)}else if(jc=="PosP"){i7.Lvls.v=aM.Post}else if(jc=="VibP"){i7.vibrance.v=aM.Vibr-100;
i7.Strt.v=Math.round(aM.Satu*100)}else if(jc=="ExpP"){i7.Exps.v=aM.Expo;i7.gammaCorrection.v=aM.Gamm/2.2}else if(jc=="ThrP"){i7.Lvl.v=Math.round(aM.Thre*255)}else if(jc=="CrvP"){var hy=aM.Mast["Cnt "],hJ=aM.Mast.Vals,fT=j3.Ca(i7,0),db=fT[0];
for(var jK=0;jK<hy;jK++){var dM=fT[jK]=JSON.parse(JSON.stringify(db));dM.v.Hrzn.v=Math.round(hJ[jK]*255);
dM.v.Vrtc.v=Math.round(hJ[4+jK]*255)}j3.eV(i7,0,fT)}}else console.log(gD)}if(aP.length!=0&&v.add.SoLd){v.add.SoLd.filterFX=hb.pG();
M.cg({id:v.add.SoLd.placed.v,rect:new aS,buffer:l.Z(1),d:new A.QX});v.add.SoLd.filterFX.v.filterFXList.v=aP;
v.R9(M,!1)}var eW=m.FiEf;if(eW&&eW.length!=0){var ip=v.add.lmfx=JSON.parse(hf.default);for(var N=0;N<hf.order.length;
N++)ip[hf.l8[N]]={t:"VlLs",v:[]};for(var hS=0;hS<eW.length;hS++){var bB=eW[hS],g_=bB._type,e4={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[g_],io=e4?JSON.parse(hf.QI[hf.order.indexOf(e4)]):null;
if(g_=="ColO"){io.Clr=X(bB.Colr)}else if(g_=="GrdO"){h(bB.GrFl.FDeF,io)}else if(g_=="Shad"||g_=="InnS"||g_=="OutG"||g_=="InnG"){io.Clr=X(bB.Colr);
io.blur.v.val=Math.round(bB.Radi/2.4);if(bB.Offs!=null){io.Dstn.v.val=bB.Offs;io.lagl.v.val=Math.round(180-bB.Angl*180/Math.PI);
io.uglg.v=!1}}else if(g_=="Strk"){io.Clr=X(bB.Colr);io.Sz.v.val=Math.round(bB.Radi)}else if(g_=="PhgB"||g_=="BevE"){io.blur.v.val=Math.round(bB.Radi);
if(g_=="BevE")io.bvlS.v.BESl="PlEb"}else if(g_=="Gaus"){if(T&&bB.Enab){v.add.vmsk.Bs=bB.Radi/2.4;v.add.vmsk.fD=!0;
v.fb();v.Rw(M)}}if(e4){io.enab.v=bB.Enab;if(io.Md&&bB.BlnM!=null)io.Md.v.BlnM=cP.Cw(a(bB.BlnM));if(io.Opct&&bB.Opac!=null)io.Opct.v.val=Math.round(bB.Opac*100);
var e0=hf.l8[hf.order.indexOf(e4)];ip[e0].v.unshift({t:"Objc",v:io})}}}M.g.push(v)}function K(m){var M=new A.A3,Z=m._type;
if(Z=="PCrv"){var Q=m.Crvs.Data,p=[],y=[];for(var N=0;N<Q.length;N++){var V=Q[N];if(V.length%3!=1){V=V.slice(1,V.length-1)}for(var W=0;
W<V.length;W++){var v=V[W],j=v[2];if(j!=0)p.push(W==0?"M":"C");y.push(v[0],v[1])}}M.i=l.o.RS({w:y,G:p},!0)}else{var e=m.ShpB,T=m.Shpe,O=T._type,L=e[2]-e[0];
if(O=="ShpE"){M.i=l.M.MG.Hy(e[0],e[1],e[2]-e[0],e[3]-e[1])}else if(O=="ShNR"){var S=[0,0,0,0];if(T.CTyp){S=T.ShCR.slice(0);
for(var N=0;N<4;N++)S[N]*=e[2]-e[0]}M.i=l.M.MG.Rect(e[0],e[1],e[2]-e[0],e[3]-e[1],S)}else if(O=="ShpT"){M.i=l.o.RS({G:["M","L","L","Z"],w:[e[0],e[3],e[2],e[3],e[0]+L*.5,e[1]]},!0)}else if(O=="ShTz"){M.i=l.o.RS({G:["M","L","L","L","Z"],w:[e[0]+L*T.PosL,e[1],e[0]+L*T.PosR,e[1],e[2],e[3],e[0],e[3]]},!0)}else{console.log("--",O);
M.i=l.M.MG.Rect(e[0],e[1],e[2]-e[0],e[3]-e[1],[0,0,0,0])}}return M}function h(m,M){var Z=m.Grad,Q=Z.Cols;
M.Type.v.GrdT=m.Type==0?"Lnr":"Rdl";var p=[];for(var N=0;N<Q.length;N++){var y=w(Q[N]);p.push([Z.Posn[N][0],y])}M.Grad.v.Intr.v=0;
l.T.yq(p,M.Grad.v);var V=Z.Posn,W=new eN(V[0][0],V[0][1]),v=new eN(V[1][0],V[1][1]);if(m.Type==0)W=new eN((W.x+v.x)/2,(W.y+v.y)/2);
l.T.Q2(W,v,new aS(0,0,1,1),M)}function X(m){var M=w(m);return{t:"Objc",v:l.T.CT({z:M[0]*255,B:M[1]*255,K:M[2]*255})}}function w(m){var M=m._col,Z=m._type;
if(Z=="HSLA"){var Q=l.vr(M[0],M[1],M[2]);return[Q.z,Q.B,Q.K,M[3]]}else if(Z=="RGBA")return M;else if(Z=="CMYK"){var p=1-M[3];
return[(1-M[0])*p,(1-M[1])*p,(1-M[2])*p]}else if(Z=="GRAY")return[M[0],M[1],M[2]];else{console.log(M);
throw Z}}function G(m,M,Z){var Q=m.Frmt,S="";if(Q!=0&&Q!=4&&Q!=6)throw Q;var p=m.BmpW,y=m.BmpH,V=Q==4?5:Q==0?4:1,W=Math.ceil(p/256),v=Math.ceil(y/256),j=new aS(0,0,W,v),e=new aS;
for(var N=0;N<V;N++){var T=new Uint8Array(m["Sta"+(N+1)]),O=l.Wx(T,j);e=e.ae(O)}var L=[];for(var N=0;
N<V;N++){var T=new Uint8Array(m["Sta"+(N+1)]),$=l.Z(e.$());l.MD(T,j,$,e);L[N]=[];for(var H=0;H<$.length;
H++)L[N][H]=$[H];S+=JSON.stringify(L[N])+","+JSON.stringify(m["Idx"+(N+1)])+","}if(Z[S]==null){var f=e.m*256,F=e.n*256,U=new Array(V);
for(var N=0;N<V;N++){var T=U[N]=new Uint8Array(f*F);R(T,m["Idx"+(N+1)],L[N],M,f,F)}var r=l.Z(f*F*4);
if(Q==0)l.bc({z:U[0],B:U[1],K:U[2],Bk:U[3]},r);else if(Q==4){for(var N=0;N<U[0].length;N++){var E=N*4,k=U[0][N]*(1/255),P=U[1][N]*(1/255),z=U[2][N]*(1/255),s=U[3][N]*(1/255),Y=UDOC.C.cmykToRgb([k,P,z,s]);
r[E]=Y[0]*255;r[E+1]=Y[1]*255;r[E+2]=Y[2]*255;r[E+3]=U[4][N]}}else{r.fill(255);l.B2(U[0],r)}var t=new aS(0,0,f,F),n={buffer:r,rect:t};
l.JF(n);Z[S]=[n.rect,n.buffer]}var O=Z[S][2]=Z[S][0].clone();O.x+=e.x*256;O.y+=e.y*256;return Z[S]}function R(m,M,Z,Q,p,y){var V=0,W=p>>>8,v=y>>>8;
for(var j=0;j<v;j++)for(var e=0;e<W;e++){var T=e*256,O=j*256,L=j*W+e,S=O*p+T,$=Z[L];if($<=1)d(m,S,0,p,256,256);
else if($==2)d(m,S,4294967295,p,256,256);else if($==4){var H=M[V];V++;var f=Q[H.Data.DatI],F=H.Rect;
if(F==null)F=[0,0,256,256];d(m,S,0,p,256,256);q(m,(O+F[1])*p+T+F[0],f,F[1]*256+F[0],p,256,F[2]-F[0],F[3]-F[1])}else console.log($)}}function d(m,M,Z,Q,p,y){var V=M+Q*y;
for(;M<V;M+=Q){var W=M+p;for(var v=M;v<W;v++){m[v]=Z}}}function q(m,M,Z,Q,p,y,V,W){var v=M+p*W,j=Q+y*W;
for(;M<v&&Q<j;M+=p,Q+=y){for(var N=0;N<V;N++)m[M+N]=Z[Q+N]}}return o}();function e3(){}e3.kR=function(o,g){var C=e3,a=aQ.parse(o),K=0;
if(a.pages.length>1)console.log(a.pages.length,"pages");var x=[],h=new aS;for(var X=0;X<a.pages.length;
X++){var w=a.pages[X],G=w.layers,R=C.TO(G,X),q=!1;if(R.$()>8e3*8e3||R.m>3e4||R.n>3e4){C.tg(G,!0);var d=C.TO(G,X);
if(d.$()>=R.$())C.tg(G,!1)}R=C.TO(G,X);for(var m=0;m<G.length;m++){var M=G[m];if(C.Li(M)=="artboard")q=!0}if(!q){console.log("no artboard");
var Z={};for(var Q in w)Z[Q]=w[Q];Z._class="group";w.layers=[Z]}x.push(R.clone());if(R.to())continue;
R.x=0;R.y=K;K+=R.n+200;h=h.ae(R)}var p={};if(a.foreignSymbols)for(var N=0;N<a.foreignSymbols.length;
N++){var y=a.foreignSymbols[N].symbolMaster;p[y.symbolID]={bk:y}}C.fo(a.pages,p,g);for(var V in p){var M=p[V].bk,W=C.fA(M.layers)}var v=e3.tG(h,8192*8192);
g.UG=!0;g.m=Math.round(h.m/v);g.n=Math.round(h.n/v);g.buffer=l.Z(g.m*g.n*4);g.dU(a.pages[0].layers.length);
g.ZR={};g.Jv=[];K=0;for(var X=0;X<a.pages.length;X++){var j=a.pages[X],R=x[X],e=new kp(v,0,0,v,R.x,R.y-K);
C.gR(j.layers,g,e,a,p,{},[]);K+=R.n+200}delete g.ZR;delete g.Jv;if(v!=1)alert("File scaled down "+v+"x");
g.au0()};e3.ah3=0;e3.Li=function(o){return o._class?o._class:o.$class};e3.tG=function(o,g){var C=1;while(Math.round(o.m/C)*Math.round(o.n/C)>g||Math.max(Math.round(o.m/C),Math.round(o.n/C))>3e4)C++;
if(C!=1&&!window.confirm("Your image is quite large ("+o.m+" x "+o.n+" px).\n"+"Press OK to scale it down "+C+"x, or Cancel to keep the size."))C=1;
return C};e3.TO=function(o,g){var C=[],a=e3;for(var x=0;x<o.length;x++){var K=o[x],h=a.Q6(K.frame);if(g==0||a.Li(K)=="artboard")C.push(h)}return l.rect.qx(C)};
e3.tg=function(o,g){var C=[],a=e3;for(var x=0;x<o.length;x++){var K=o[x],h=a.Q6(K.frame);h.m+=150;h.n+=150;
C.push(h)}var X=l.rect.qx(C);l.rect.akM(C,g);var w=l.rect.qx(C);if(w.$()*1.5<X.$()||X.m>3e4&&w.m<=3e4||X.n>3e4&&w.n<=3e4){alert("Re-arranging artboards");
for(var x=0;x<o.length;x++){var G=C[x],K=o[x],R=K.frame;R.x=G.x;R.y=G.y}}};e3.fo=function(o,g,C){var a=e3;
for(var x=0;x<o.length;x++){var K=o[x],h=a.Li(K);if(["page","artboard","group"].indexOf(h)!=-1)a.fo(K.layers,g,C);
else if(h=="symbolMaster")g[K.symbolID]={bk:K}}};e3.fA=function(o){var g=e3;for(var C=0;C<o.length;C++){var a=o[C],x=g.Li(a),K=null;
if(["page","artboard","group"].indexOf(x)!=-1)K=g.fA(a.layers);if(x=="symbolMaster"||x=="symbolInstance")K=a;
if(K!=null)return K}return null};e3.gR=function(o,g,C,a,x,K,h){var X=e3,w=[];for(var G=0;G<o.length;
G++){var R=o[G],d=R.frame?X.Q6(R.frame):null,q=R.style,p="",e=null,T=!1;if(q==null){console.log("no styles")}var m=X.PD(R,C),M=X.Li(R),Z=M=="shapeGroup"||M=="shapePath"||M=="rectangle"||M=="oval"||M=="triangle"||M=="polygon",Q=["page","artboard","group"].indexOf(M)!=-1;
if(M=="shapeGroup"){for(var N=0;N<R.layers.length;N++)if(X.Li(R.layers[N])=="shapeGroup")Q=!0}var y=R.exportOptions;
if(y){var V=y.exportFormats;if(V==null)V=y.sizes;if(M!="artboard"&&(V&&V.length!=0)){var W=V[0].scale}}var v=g.HL();
v.Su(R.isVisible);var j=R.name;if(!(typeof j=="string"))j=M;v.XH(p+j.slice(0,250));if(q!=null)e=X.adQ(a,g,q,d,m,v.getName(),Z||M=="artboard"||Q);
if(M=="rectangle"&&q&&q.fills&&q.fills[0]){var O=q.fills[0];if(O.fillType==4&&O.patternFillType>1&&O.image!=null)T=!0}if(R.shouldBreakMaskChain){while(w.length!=0)X.Na(w.pop(),g)}if(Q){v.add.lsct=R.layerListExpandedType==2?kj.ah:kj.vz;
v.WN="pass";v.qX=24;v.Su(R.isVisible);g.g.push(g.kF());if(M=="artboard"){var L=d.clone(),S=m.Bo();L.x=-Math.floor(m.NO/S);
L.y=-Math.floor(m.Mx/S);L.m=Math.floor(L.m/S);L.n=Math.floor(L.n/S);v.xJ(L);var $=R.backgroundColor,H=$?{z:255*$.red,B:255*$.green,K:255*$.blue}:{z:255,B:255,K:255};
v.add.artb.Clr={t:"Objc",v:l.T.CT(H)};v.add.artb.artboardBackgroundType={t:"long",v:4}}X.gR(R.layers,g,m,a,x,K,h)}else if(Z&&!T){v.add.vmsk=new A.A3;
v.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));v.add.vstk.strokeEnabled.v=!1;var f=e!=null&&e.frameFXMulti.v.length==1,F=q?q.fills:null,U=q?X.Ey(a,F,d,m,v.getName(),g,X.Gb(h,R.do_objectID+"_image")):[];
if(U.length==0){if(f)v.add.vstk.fillEnabled.v=!1;else v.add.iOpa=0;v.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.T.CT({z:0,B:0,K:0})}}}else{var r=U[0],E=null,k=null;
if(r.type=="SoFi"){E="SoCo";k=hf.nD}if(r.type=="GrFl"){E="GdFl";k=hf.mK}if(r.type=="patternFill"){E="PtFl";
k=hf.ti}if(E!=null){v.add[E]={classID:"null"};for(var N=0;N<k.length;N++){var P=k[N];v.add[E][P]=r.k.v[P]}var z=r.k.v.Opct.v.val;
if(f&&z==0)v.add.vstk.fillEnabled.v=!1;else v.add.iOpa=Math.round(255*z/100)}}v.qX|=16;v.add.vmsk.i=X.z7(R.layers?R.layers:[R],R.layers?m:C);
var s=q?q.blur:null;if(s&&s.isEnabled&&s.type<=1)v.add.vmsk.Bs=s.radius;if(v.add.vmsk.i.length==2){console.log("shape with no content:",v.getName())}if(f){var Y=e.frameFXMulti.v[0].v,t=v.add.vstk,n=q.borders[0];
e.frameFXMulti.v=[];bd.akI(Y,t);var J=q.borderOptions,I=q.miterLimit;if(J){var fp=J.dashPattern;t.strokeStyleLineCapType.v.strokeStyleLineCapType=hf.ly.sj[J.lineCapStyle];
t.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hf.ly.join[J.lineJoinStyle];if(fp)t.strokeStyleLineDashSet.v=bd.Av(fp,1/Y.Sz.v.val);
if(I!=null)t.strokeStyleMiterLimit.v=I}}v.fb();v.Rw(g)}else if(M=="bitmap"||T){if(!T&&R.image==null)continue;
var cH=T?q.fills[0]:null,b=T?cH.image.bdata:R.image.bdata,jL=g.Lz(b,v.getName(),0,0);jL.qX=v.qX;v=jL;
var s=q?q.blur:null,aq=q?q.colorControls:null;if(s||aq){v.add.SoLd.filterFX=hb.pG();g.cg({id:v.add.SoLd.placed.v,rect:new aS,buffer:l.Z(1),d:new A.QX});
var F=v.add.SoLd.filterFX.v.filterFXList.v;if(s){var cJ=hb.dI("GsnB",{});cJ.v.enab.v=s.isEnabled;cJ.v.Fltr.v.Rds.v.val=s.radius;
F.push(cJ)}if(aq){var aB=aq.brightness,au=aq.contrast,ea=aq.hue,ax=aq.saturation;if(ea!=0||ax!=1){var cJ=hb.dI("hue2",{});
cJ.v.enab.v=aq.isEnabled;aw.eV(cJ.v.Fltr.v,0,[Math.round(ea*180/Math.PI),Math.round((ax-1)*100),0]);
F.push(cJ)}if(aB!=0||au!=1){var cJ=hb.dI("brit",{});cJ.v.enab.v=aq.isEnabled;au=au-1;if(au>0)au/=2;var f1=cJ.v.Fltr.v;
f1.Brgh.v=Math.round(aB*255);f1.Cntr.v=Math.round(au*255);f1.useLegacy.v=!0;F.push(cJ)}}}if(T){var fk=cH.patternFillType;
if(fk==3){var hF=v.rect.m/v.rect.n,fm=d.m/d.n;if(hF<fm){m.translate(-(d.m*(1-hF/fm))/2,0);m.scale(fm/hF,1)}else{m.translate(0,-(d.n*(1-fm/hF))/2);
m.scale(1,hF/fm)}}}d.x=d.y=0;var jE=l.o.IW(d).w;m.rq();l.o.D(jE,m,jE);v.add.SoLd.Trnf=c.V.SS(jE);v.add.SoLd.nonAffineTransform=c.V.SS(jE);
v.R9(g,!1)}else if(M=="text"){if(R.attributedString==null)continue;var ff=m.clone(),d5,eF,bt=0;ff.rq();
ff.Bk=ff.rX=Math.min(ff.Bk,ff.rX);v.add.lnsr="rend";v.add.TySh=bv.hT(0,0);v.add.TySh.Vf=new aS(0,0,d.m,d.n);
v.add.TySh.D=ff;var gI=R.attributedString;if(gI.archivedAttributedString)gI=gI.archivedAttributedString;
var fE=gI.NSString;if(fE==null)fE=gI.string;if(fE==null)fE="";if(fE["NS.string"])fE=fE["NS.string"];
if(K[R.do_objectID]!=null)fE=K[R.do_objectID];var js=X.Gb(h,R.do_objectID+"_stringValue");if(js)fE=js.value;
if(gI.attributes!=null){d5=[];eF=[];var d8=gI.attributes;for(var N=0;N<d8.length;N++){d5.push(d8[N].length,N);
eF.push(d8[N].attributes)}}else if(gI.NSAttributeInfo==null){d5=[fE.length,0];eF=[gI.NSAttributes]}else{d5=gI.NSAttributeInfo["NS.data"];
eF=gI.NSAttributes;d5=e3.aoE(d5,eF)}for(var N=0;N<d5.length;N+=2)bt+=d5[N];if(bt!=fE.length){while(bt>fE.length){d5[d5.length-2]--;
bt--;if(d5[d5.length-2]==0){d5.pop();d5.pop()}}d5[d5.length-2]+=fE.length-bt}fE=fE.replace(/\u2028/g,"\n");
fE=fE.replace(/\u2029/g,"\n");fE=fE.replace(/\r/g,"\n");var io=v.add.TySh.cp;bv.l6(io,0,fE);if(fE!=""){var ha=R.textBehaviour,dp=q.textStyle,gS=dp?dp.verticalAlignment:0,aP=X.ahm(io,d5,eF,fE),S=ff.Bo(),gD=bv.SX(io,0,1),aM=0;
if(gD.Fn.Font){var fA=gD.pv[gD.Fn.Font].Name;if(fA=="FontAwesome"||fA=="Ionicons")aP*=.87}var jH=gD.Fn.AutoLeading?0:gD.Fn.Leading*.6,jc=Math.max(aP,jH)*S,eQ=d.m,j1=d.n;
if(ha==0){bv.lr(io,0);var i7=bv.bw(gD.Yt);if(i7==1)aM=eQ*S;if(i7==2)aM=eQ*S*.5;if(gS==0)jc*=1;else jc*=.9}else{bv.lr(io,1);
bv.yy(io,[0,0,Math.round(eQ),Math.round(j1)]);if(ha==2&&gS==0)jc=jc*.2;else if(ha==2&&gS==1){jc=S*.5*(j1-gD.Fn.FontSize)}else if(ha==1&&gS==0)jc=jc*.2;
else jc=jc*.35}v.add.TySh.D.translate(aM,jc)}}else if(M=="symbolInstance"||M=="symbolMaster"){var fT=R.symbolID;
if(K[R.do_objectID])fT=K[R.do_objectID].symbolID;var hy=X.Gb(h,R.do_objectID+"_symbolID");if(hy)fT=hy.value;
if(fT=="")continue;var hJ={};for(var P in K)hJ[P]=K[P];if(R.overrides)for(var P in R.overrides)hJ[P]=R.overrides[P];
var jK=h.slice(0);if(R.overrideValues)jK=jK.concat(R.overrideValues);var h_=x[fT];if(h_==null){console.log("Unknown master master",R.symbolID);
continue}var dM=e3.Q6(h_.bk.frame),ip=dM.m/d.m,hS=dM.n/d.n,bB=m.clone();bB.scale(ip,hS);v.add.lsct=kj.vz;
v.WN="pass";v.qX=24;v.Su(R.isVisible);g.g.push(g.kF());var g_=h_.bk;if(g.Jv.indexOf(g_)==-1){g.Jv.push(g_);
X.gR(g_.layers,g,bB,a,x,hJ,jK);g.Jv.pop()}}else if(M=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+M,R);continue}if(q&&q.contextSettings){var e4=q.contextSettings,e0=e4.blendMode;
if(e0<X.PY.length){v.WN=cP.CH[cP.J1.indexOf(X.PY[e0])];if(Q&&v.WN=="norm")v.WN="pass"}v.opacity=Math.round(v.opacity*e4.opacity)}if(e!=null){v.add.lmfx=e}g.g.push(v);
if(R.hasClippingMask&&o.length>1){w.push(v);g.g.push(g.kF())}}while(w.length!=0)X.Na(w.pop(),g)};e3.Gb=function(o,g){for(var N=0;
N<o.length;N++)if(o[N].overrideName.startsWith(g))return o[N]};e3.aoE=function(o,g){var C=0,a=[];while(C+1<o.length){var x=o[C];
C++;if(x>127){x+=128*(o[C]-1);C++;if(o[C-1]>127){x+=128*(o[C]-1);C++}}var K=o[C];C++;a.push(x,K)}return a};
e3.ahm=function(o,g,C,a){var x=e3,h=0,d=0,q=0;for(var N=0;N<a.length;N++){var X=a.charCodeAt(N),w=1473<=X&&X<=1479||1488<=X&&X<=1514||1520<=X&&X<=1524,G=1569<=X&&X<=1594||1600<=X&&X<=1749;
if(w||G)h++}var R=h>a.length/2;for(var N=0;N<g.length;N+=2){var m=g[N],j=14,e="DejaVuSans";if(m==0)continue;
var M=g[N+1],Z=C[M],Q=bv.SX(o,d,d+m-1),p=Z.NSColor;if(p==null){var p=Z.MSAttributedStringColorDictionaryAttribute;
if(p==null)p=Z.MSAttributedStringColorAttribute;if(p==null)p="0 0 0";else p=[p.red,p.green,p.blue].join(" ")}else if(x.Li(p)=="MSArchivedColor")p=p.dr+" "+p.dg+" "+p.db;
else if(p.NSRGB){p=p.NSRGB;p=u.M7(p,0,p.length-1)}else if(p.NSCMYK){p=p.NSCMYK;p=u.M7(p,0,p.length-1);
p=p.split(" ").map(parseFloat);var y=1-p[0],V=1-p[1],W=1-p[2],v=1-p[3];p=y*v+" "+V*v+" "+W*v}else if(p.NSWhite){p="1 1 1"}p=p.split(" ");
Q.Fn.FillColor={Type:1,Values:[1,parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]};var T=Z.MSAttributedStringFontAttribute;
if(Z.NSFont){j=Z.NSFont.NSSize;e=Z.NSFont.NSName}else if(T){if(T.attributes){T=T.attributes;j=T.size;
e=T.name}else{var O=T.NSFontDescriptorAttributes;if(O==null)O=T.UIFontDescriptorAttributes;T=O;j=T.NSFontSizeAttribute;
e=T.NSFontNameAttribute}if(e==null)e="DejaVuSans"}var q=Math.max(q,j);Q.Fn.FontSize=Math.round(j);bv.s2(Q,e);
var L=Z.NSKern;if(L==null)L=Z.kerning;if(L!=null)Q.Fn.Tracking=Math.round(1e3*L/j);if(Z.NSUnderline!=null)Q.Fn.Underline=Z.NSUnderline>0;
var S=Z.NSStrikethrough;if(S==null)S=Z.strikethroughStyle;if(S!=null)Q.Fn.Strikethrough=S>0;if(Z.MSAttributedStringTextTransformAttribute==1)Q.Fn.FontCaps=2;
var $=Z.NSParagraphStyle;if($==null)$=Z.paragraphStyle;if($){var H=$.paragraphSpacing;if(H!=null){Q.Yt.SpaceAfter=H}var f=$.NSAlignment;
if(f==null)f=$.alignment;if(f!=null){var F=0;if(!1){}else if(f==1)F=1;else if(f==2)F=2;else if(f==4)F=0;
else{F=f;console.log("unknown align",f)}if(R&&F<2)F=1-F;Q.Yt.Justification=F}var U=$.NSMinLineHeight;
if(U==null)U=$.minimumLineHeight;if(U!=null){Q.Fn.AutoLeading=!1;Q.Fn.Leading=U}}Q.Yt._Direction=R?1:0;
bv.dG(o,d,d+m,Q);d+=m}return q};e3.adQ=function(o,g,C,a,x,K,h){var X=e3,w=JSON.parse(hf.default),G=!1;
for(var N=0;N<hf.order.length;N++)w[hf.l8[N]]={t:"VlLs",v:[]};var R=C.fills,d=X.Ey(o,R,a,x,K,g);for(var q=0;
q<2;q++){var m=C[["shadows","innerShadows"][q]];if(m==null)continue;var M=["DrSh","IrSh"][q],Z=hf.l8[hf.order.indexOf(M)];
for(var N=0;N<m.length;N++){var Q=m[N];if(!Q.isEnabled)continue;if(Q.contextSettings.opacity==0||Q.color.alpha==0)continue;
var p=JSON.parse(hf.QI[hf.order.indexOf(M)]);w[Z].v.unshift({t:"Objc",v:p});G=!0;p.Clr.v=X.Wo(Q.color);
p.blur.v.val=Math.round(Q.blurRadius/x.Bo());var y=x.clone();y.NO=y.Mx=0;y.rq();var V=y.nx(new eN(Q.offsetX,Q.offsetY)),W=Math.sqrt(V.x*V.x+V.y*V.y);
p.Dstn.v.val=Math.round(W);p.lagl.v.val=Math.round(Math.atan2(V.y,-V.x)*(180/Math.PI));if(p.layerConceals)p.layerConceals.v=d.length!=0;
X.uc(Q,p)}}var v=C.borders;if(v!=null&&(d.length==0||C.blur==null||!C.blur.isEnabled))for(var N=0;N<v.length;
N++){var j=v[N];if(!j.isEnabled)continue;var p=JSON.parse(hf.QI[hf.order.indexOf("FrFX")]),Z=hf.l8[hf.order.indexOf("FrFX")];
w[Z].v.unshift({t:"Objc",v:p});G=!0;p.Clr.v=X.Wo(j.color);if(j.fillType!=0&&j.gradient){var e=X.M9(j.gradient,a,x,K),T=["Type","Angl","Ofst","Scl"];
for(var N=0;N<T.length;N++)p[T[N]]=e[T[N]];p.Grad.v=e.Grad.v;p.PntT.v.FrFl="GrFl"}p.Sz.v.val=j.thickness/x.Bo();
p.Styl.v.FStl=["CtrF","InsF","OutF"][j.position];X.uc(j,p)}for(var N=h?1:0;N<d.length;N++){var O=d[N],Z=hf.l8[hf.order.indexOf(O.type)];
w[Z].v.unshift(O.k);G=!0}return G?w:null};e3.Ey=function(o,g,C,a,x,K,h){if(g==null)return[];var X=e3,w=[];
for(var N=0;N<g.length;N++)if(g[N].isEnabled)w.push(g[N]);g=w;var G=[];for(var N=0;N<g.length;N++){var R=g[N],d=null,q=null;
if(R.fillType==0){d="SoFi";var m=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]);q={t:"Objc",v:m};q.v.Clr.v=X.Wo(R.color)}else if(R.fillType==1){d="GrFl";
q={t:"Objc",v:X.M9(R.gradient,C,a,x)}}else if(R.fillType==4&&R.image!=null){var M=R.image;if(h)M=h.value;
var Z=bl.tt(M.bdata.buffer);if(Z!=null&&Z!="pdf"&&Z!="eps"){var Q,j=0,e=0,T=0;if(K.ZR[M.key])Q=K.ZR[M.key];
else{var p=bl.qC(Z).gd(M.bdata)[0],y=p.m_.clone();Q={};Q.id=aX.PJ()+"-d71c-11e5-b1ae-a548a96e5f9f";Q.name="someImage";
Q.Bd=[new Uint8Array(p.data),y];K.Gq(Q);K.ZR[M.key]=Q}var V=Q.Bd[1],m=JSON.parse(hf.QI[hf.order.indexOf("patternFill")]);
d="patternFill";q={t:"Objc",v:m};var W=R.patternFillType,v=R.patternTileScale;m.Algn.v=!0;m.Ptrn.v.Idnt.v=Q.id;
if(W==0){j=v*V.m/Math.min(V.m,V.n);e=-a.NO;T=-a.Mx}else{j=Math.max(C.m/V.m,C.n/V.n);e=-a.NO-(V.m*j-C.m)/2;
T=-a.Mx-(V.n*j-C.n)/2}m.Scl.v.val=100*j*(1/a.Bo());m.phase.v.Hrzn.v=Math.round(e/a.Bo());m.phase.v.Vrtc.v=Math.round(T/a.Bo())}}else if(R.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",R.fillType);
if(d!=null){X.uc(R,q.v);G.push({type:d,k:q})}}return G};e3.apU=function(o){var g=e3,C=new aS(0,0,1,1);
o=o.slice(0);while(!0){var a=!1;for(var N=0;N<o.length-1;N++){var x=o[N],K=o[N+1],h=null,X=x.contextSettings;
if(x.fillType==0&&(X==null||X.opacity==1&&X.blendMode==0)&&x.color.alpha==1){var w="norm",G=1,X=K.contextSettings;
if(X){G=X.opacity;w=cP.Ye(g.PY[X.blendMode])}if(K.fillType==0){h=JSON.parse(JSON.stringify(K));g.N1(h.color,x.color,h.color,C,w,G)}if(K.fillType==1){h=JSON.parse(JSON.stringify(K));
var R=h.gradient.stops;for(var d=0;d<R.length;d++)g.N1(R[d].color,x.color,R[d].color,C,w,G)}if(h!=null&&h.contextSettings){var X=h.contextSettings;
X.opacity=1;X.blendMode=0}}if(h!=null){o.splice(N,0,h);a=!0;break}}if(!a||o.length<2)break}return o};
e3.N1=function(o,g,C,a,x,K){var h=e3,X=l.Z(4);h.p1(o,X);var w=l.Z(4);h.p1(g,w);l.j.Ly(x,X,a,w,a,a,K);
h.agL(w,C)};e3.p1=function(o,g){g[0]=255*o.red;g[1]=255*o.green;g[2]=255*o.blue;g[3]=255*o.alpha};e3.agL=function(o,g){g.red=o[0]/255;
g.green=o[1]/255;g.blue=o[2]/255;g.alpha=o[3]/255};e3.Na=function(o,g){o=o.clone();o.qX=24;o.XH("Mask by "+o.getName());
g.g.push(o);o.add.lsct=kj.ah;o.add.lyid=g.HY();delete o.add.lmfx;delete o.add.SoCo;delete o.add.GdFl;
delete o.add.PtFl;delete o.add.iOpa;if(o.add.vmsk)o.add.vmsk.fD=!0;o.fb();o.Rw(g);if((o.qX&16)==16)o.qX-=16;
if((o.qX&2)==2)o.qX-=2;o.WN="pass";o.opacity=255};e3.PY="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
e3.M9=function(o,g,C,a){C=C.clone();C.rq();C.NO=C.Mx=0;var x=C.Bo(),q=0,m=0;C.scale(1/x,1/x);var K=e3,h=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]),X=h.Grad.v;
X.Intr.v=0;if(o==null)return h;var w=o.gradientType,G=K.qK(o.from),R=K.qK(o.to);G.offset(-.5,-.5);R.offset(-.5,-.5);
G=C.nx(G);R=C.nx(R);var d=Math.atan2(-(R.y-G.y),R.x-G.x);h.Type.v.GrdT=["Lnr","Rdl","Angl"][w];h.Scl.v.val=100*eN.ig(G,R);
if(w==0){h.Angl.v.val=180/Math.PI*d;h.Scl.v.val=100*eN.ig(G,R);q=(G.x+R.x)/2;m=(G.y+R.y)/2}if(w==1){h.Scl.v.val=200*eN.ig(G,R);
q=G.x;m=G.y}if(w==2){h.Angl.v.val=180/Math.PI*(d-Math.PI/2)}var M=h.Ofst.v;M.Hrzn.v.val=q*100;M.Vrtc.v.val=m*100;
var Z=[];for(var N=0;N<o.stops.length;N++){var Q=o.stops[N],p=Q.color;Z.push([Q.position,p?[p.red,p.green,p.blue]:[0,0,0],p.alpha])}l.T.yq(Z,X);
return h};e3.uc=function(o,g){var C=e3,a=1,x=o.contextSettings;if(x!=null){g.Md.v.BlnM=C.PY[x.blendMode];
a*=x.opacity}else g.Md.v.BlnM=C.PY[0];g.enab.v=o.isEnabled;if(g.uglg!=null)g.uglg.v=!1;if(o.color!=null)a*=o.color.alpha;
g.Opct.v.val=Math.round(a*100)};e3.Wo=function(o){return l.T.CT(o?{z:o.red*255,B:o.green*255,K:o.blue*255}:{z:0,B:0,K:0})};
e3.z7=function(o,g){var C=e3,a=[{type:6},{type:8,all:0}];for(var x=0;x<o.length;x++){var K=o[x],h=K.booleanOperation,X=0,w=K._class,M=!1;
if(w=="group"||w=="text"||w=="symbolInstance"||w=="slice"){console.log(w+" inside ShapeGroup");continue}if(h==-1)X=0;
else if(h==0)X=1;else if(h==1)X=2;else if(h==2)X=3;else if(h==3)X=0;if(x==0)X=1;var G=e3.Q6(K.frame),R=C.PD(K,g),d=K.path?K.path:K,q=[{type:0,length:0,j4:X,Y9:2,yc:0,km:0}],m=d.points;
for(var N=0;N<m.length;N++){var Z=m[N],Q=C.qK(Z.curveTo),p=C.qK(Z.point),y=C.qK(Z.curveFrom);M=M||Z.hasCurveFrom&&!y.$s(p)||Z.hasCurveTo&&!Q.$s(p)}var V=[];
if(!M){var W=[],ee=m.length;if(ee==0)continue;for(var N=0;N<ee;N++){V[N]=m[N].cornerRadius;var Z=C.qK(m[N].point);
W.push(Z.x,Z.y)}R.scale(1/G.m,1/G.n);R.rq();l.o.D(W,R,W);q=l.M.MG.rO(W,V).slice(2);q[0].j4=X}else{var v=m.length;
q[0].length=v;for(var N=0;N<v;N++){var Z=m[N],j=Z.curveMode,e=C.qK(Z.point);q[1+N]={type:j==2||j==4?1:2,rD:Z.hasCurveTo?C.qK(Z.curveTo):e.clone(),H:e,lu:Z.hasCurveFrom?C.qK(Z.curveFrom):e.clone()}}R.scale(1/G.m,1/G.n);
R.rq();l.M.Jg(q,R);var V=[];for(var N=0;N<v;N++){var Z=m[N],j=Z.curveMode,T=Z.cornerRadius;if(j==1&&T!=0)V.push(T);
else V.push(0)}}if(!d.isClosed)for(var N=0;N<q.length;N++)q[N].type+=3;a=a.concat(q);var O=C.Li(K);if(R.K==0&&R.U9==0){var L=R.NO,S=R.Mx,$=L+R.Bk,H=S+R.rX,f=[L,S,$,H]}}return a};
e3.PD=function(o,g){var C=g.clone(),a=o.frame?e3.Q6(o.frame):null;if(a)C.translate(-a.x-a.m/2,-a.y-a.n/2);
if(o.isFlippedHorizontal)C.scale(-1,1);if(o.isFlippedVertical)C.scale(1,-1);C.rotate(-o.rotation*(Math.PI/180));
if(a)C.translate(a.m/2,a.n/2);return C};e3.qK=function(o){o=o.slice(1,o.length-1).split(",");return new eN(parseFloat(o[0]),parseFloat(o[1]))};
e3.Q6=function(o){return new aS(o.x,o.y,o.width,o.height)};e3.VE=function(o){return{_class:"rect",constrainProportions:!1,x:o.x,y:o.y,width:o.m,height:o.n}};
function jg(){}jg.kR=function(o,g){var C=Date.now(),a=jg,x=UZIP.parse(o),K=JSON.parse(u.SP(x.manifest)),h=JSON.parse(u.SP(x["resources/graphics/graphicContent.agc"])).resources,X=[],w=[],G=K.children;
for(var N=0;N<G.length;N++){var R=G[N];if(R.name=="artwork"){var d=R.children;for(var q=0;q<d.length;
q++){var m=d[q],M=JSON.parse(u.SP(x["artwork/"+m.path+"/graphics/graphicContent.agc"])),Z=M.children;
if(Z.length==0){}else if(Z.length==1){if(m["uxdesign#bounds"]){m._node=Z[0];X.push(m)}}else{var Q=Z[0],p=Q.transform,y=Q.shape;
if(y==null)y={x:0,y:0,width:1e3,height:1e3};if(y.type=="path"){var V=l.o.Gw(Typr.U.SVGToPath(y.path).crds);
y={x:V.x,y:V.y,width:V.m,height:V.n}}y=JSON.parse(JSON.stringify(y));if(p){y.x+=p.tx;y.y+=p.ty}m["uxdesign#bounds"]=y;
m._node={type:"artboard",artboard:{children:Z}};w.push(m)}}}}if(X.length==0)X=w;var W=[],v=new aS;for(var N=0;
N<X.length;N++){var m=X[N],j=e3.Q6(m["uxdesign#bounds"]);W.push(j);v=v.ae(j)}var e=e3.tG(v,8192*8192);
g.UG=!0;g.m=Math.round(v.m/e);g.n=Math.round(v.n/e);g.buffer=l.Z(g.m*g.n*4);g.dU(X.length);var T=new kp(e,0,0,e,v.x,v.y);
g.ZR={};for(var N=0;N<X.length;N++){var m=X[N],j=e3.Q6(m["uxdesign#bounds"]),O=m._node,L=T.clone(),S=j.clone(),$=L.Bo();
L.translate(-j.x,-j.y);S.x=-Math.floor(L.NO/$);S.y=-Math.floor(L.Mx/$);S.m=Math.floor(S.m/$);S.n=Math.floor(S.n/$);
L.translate(j.x,j.y);jg.jA(O,g,L,h,x,S);var H=g.g[g.g.length-1];H.XH(m.name);H.xJ(S);if(N!=X.length-1)H.add.lsct=kj.vz}delete g.ZR};
jg.Mb=function(o){if(o==null)return new kp;return new kp(o.a,o.b,o.c,o.d,o.tx,o.ty)};jg.jA=function(o,g,C,a,x,K){var h=jg,X=o.type,w=o[X],G=o.style,R=h.Mb(o.transform),M,Z="none",Q,p="none",y,V;
R.rq();var d=C.clone();d.concat(R);var q=g.HL(),m=o.name;q.XH(m?m.slice(0,250):"Layer");if(o.visible!=null)q.Su(o.visible);
if(G){M=G.stroke;Z=M?M.type:"none";Q=G.fill;p=Q?Q.type:"none";y=G.filters;V=G.clipPath;if(V&&a.clipPaths[V.ref])V=a.clipPaths[V.ref].children;
else V=null;if(G.opacity)q.opacity=Math.round(255*G.opacity);if(p=="solid"&&Q.color.alpha)q.opacity=Math.round(q.opacity*Q.color.alpha);
if(y){q.add.lmfx=h.avO(y);for(var N=0;N<y.length;N++)if(y[N].type=="uxdesign#blur"){var W=y[N],v=W.params,j=v.brightnessAmount;
if(j==null)j=0;j=Math.abs(j/100);if((W.visible==null||W.visible==!0)&&v.backgroundEffect)q.opacity=Math.round(q.opacity*(j+(1-j)*v.fillOpacity))}}if(p=="pattern"&&Q.pattern.meta.ux.uid=="")p="none"}if(V==null&&o.meta&&o.meta.ux&&o.meta.ux.clipPathResources)V=o.meta.ux.clipPathResources.children;
if(X=="artboard"||X=="group"){if(V){var e=V[0],T=e.shape,O=T!=null&&T.type=="rect"&&T.width*T.height>1e6;
if(e.type!="text"&&!O){if(T){var R=h.Mb(e.transform);R.rq();var L=d.clone();L.concat(R);q.add.vmsk=new A.A3;
q.add.vmsk.i=h.z7(T);L=L.clone();L.rq();l.M.Jg(q.add.vmsk.i,L);q.fb();q.Rw(g)}}else if(!O)alert("Clipping by text has been ignored")}q.add.lsct=kj.ah;
q.WN="pass";q.qX=24;if(o.visible!=null)q.Su(o.visible);g.g.push(g.kF());var S=w.children,$=Q;if($)$=$.color;
if($)$=$.value;if(Q){if(X=="artboard"&&p=="solid"){q.xJ(new aS(0,0,10,10));q.add.artb.Clr={t:"Objc",v:l.T.CT({z:$.r,B:$.g,K:$.b})};
q.add.artb.artboardBackgroundType={t:"long",v:4}}else{var H=g.HL();H.XH("BACKGROUND");H.qX|=16;H.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));
H.add.vmsk=new A.A3;H.add.vmsk.i=h.z7({type:"rect",x:K.x,y:K.y,width:K.m,height:K.n});h.b9(Q,p,d,K,K,H,g,a,x);
H.fb();H.Rw(g);g.g.push(H)}}for(var N=0;N<S.length;N++){jg.jA(S[N],g,d,a,x,K)}}else if(X=="shape"&&(w.type=="rect"&&(w.r==null||w.r==0)||w.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(w.path)))&&p=="pattern"&&(Math.abs(w.width/w.height-Q.pattern.width/Q.pattern.height)<.01||G.fill.pattern.meta.ux.scaleBehavior=="fill")){var f=Q.pattern,F=f.meta.ux,U=F.uid,r=x["resources/"+U];
if(r==null){console.log(f);return}var E=g.Lz(r,q.getName(),0,0);E.qX=q.qX;E.opacity=q.opacity;q=E;var k=l.M.se(h.z7(w),null),P=l.o.IW(new aS(0,0,f.width,f.height)).w,z=new kp;
z.scale(f.width/k.m,f.height/k.n);if(F.offsetX)z.translate(-F.offsetX*f.width,0);if(F.offsetY)z.translate(0,-F.offsetY*f.height);
d.concat(z);d.rq();l.o.D(P,d,P);q.add.SoLd.Trnf=c.V.SS(P);q.add.SoLd.nonAffineTransform=c.V.SS(P);q.R9(g,!1)}else if(X=="shape"){q.qX|=16;
q.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));q.add.vmsk=new A.A3;q.add.vmsk.i=h.z7(w);var k=l.M.se(q.add.vmsk.i,null),L=d.clone();
L.rq();l.M.Jg(q.add.vmsk.i,L);var s=l.M.se(q.add.vmsk.i,null);if(Z=="none"){}else{var Y=M.color.value,t,n;
t="SoFi";var J=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]);n={t:"Objc",v:J};n.v.Clr.v=l.T.CT({z:Y.r,B:Y.g,K:Y.b});
var I=M.align,fp=M.cap;if(I==null)I="center";var cH=q.add.vstk;cH.strokeEnabled.v=!0;cH.strokeStyleLineWidth.v.val=M.width;
if(I)cH.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hf.ly.sx[["inside","center","outside"].indexOf(I)];
if(fp)cH.strokeStyleLineCapType.v.strokeStyleLineCapType=hf.ly.sj[["butt","round","square"].indexOf(fp)];
var b=["SoFi","GrFl","patternFill"].indexOf(t),jL=[hf.nD,hf.mK,hf.ti][b];cH.strokeStyleContent.v={classID:hf.ly.iJ[0]};
var aq=cH.strokeStyleContent.v={classID:hf.ly.iJ[b]};for(var N=0;N<jL.length;N++)aq[jL[N]]=n.v[jL[N]]}if(y)for(var N=0;
N<y.length;N++)if(y[N].type=="uxdesign#blur"&&y[N].visible){var cJ=y[N];q.add.vmsk.Bs=cJ.params.blurAmount}h.b9(Q,p,d,k,s,q,g,a,x);
q.fb();q.Rw(g)}else if(X=="text"&&o.text){var aB=o.text,au=aB.frame,ea=G.font,ax=G.textAttributes,R=d.clone(),ff=0;
R.rq();q.add.lnsr="rend";q.add.TySh=bv.hT(0,0);q.add.TySh.Vf=new aS(0,0,100,100);q.add.TySh.D=R;var f1=q.add.TySh.cp,fk=aB.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
bv.l6(f1,0,fk);if(fk!=""){var hF=bv.SX(f1,0,1),fm=ea.postscriptName;if(fm==null)fm=ea.family;bv.s2(hF,fm);
hF.Fn.FontSize=Math.round(ea.size);if(Q){var Y=Q.color.value;hF.Fn.FillColor={Type:1,Values:[1,Y.r/255,Y.g/255,Y.b/255]}}if(ax){if(ax.paragraphAlign)hF.Yt.Justification=["left","right","center"].indexOf(ax.paragraphAlign);
if(ax.letterSpacing)hF.Fn.Tracking=Math.round(ax.letterSpacing);if(ax.lineHeight){hF.Fn.AutoLeading=!1;
hF.Fn.Leading=Math.round(ax.lineHeight)}}bv.dG(f1,0,fk.length,hF)}var jE=o.meta.ux.rangedStyles;if(jE)for(var N=0;
N<jE.length;N++){var w=jE[N],d5=Math.min(w.length,fk.length-ff);if(N==jE.length-1)d5=fk.length-ff;var hF=bv.SX(f1,ff,ff+d5),fm=w.postscriptName;
if(fm==null)fm=w.family;if(fm!=null)bv.s2(hF,fm);var eF=w.textScript,gI=w.underline,fE=w.fontSize,W=w.fill,js=w.textTransform;
if(eF&&eF!="none")hF.Fn.FontBaseline=eF=="superscript"?1:2;if(gI!=null)hF.Fn.Underline=gI;if(fE!=null)hF.Fn.FontSize=Math.round(fE);
if(js!=null)hF.Fn.FontCaps=js=="uppercase"?2:0;if(js=="lowercase"){bv._L(f1,ff,ff+d5);bv.l6(f1,ff,fk.slice(ff,ff+d5).toLowerCase())}if(W!=null){var d8=W.value;
hF.Fn.FillColor={Type:1,Values:[1,(d8>>>16&255)/255,(d8>>>8&255)/255,(d8>>>0&255)/255]}}bv.dG(f1,ff,ff+d5,hF);
ff+=d5}if(au.type=="area"||au.type=="autoHeight"){var bt=au.width,io=au.height;bv.lr(f1,1);bv.yy(f1,[0,0,bt,io!=null?io:bt*2])}}else if(X=="syncRef"){var ha=o.syncSourceGuid,dp=a.meta.ux.symbols,gS=h._3(dp,ha);
if(gS){var aP=d.clone();aP.concat(h.Mb(gS.transform));jg.jA(gS,g,aP,a,x,K)}return}else console.log(X,o);
g.g.push(q)};jg._3=function(o,g){for(var N=0;N<o.length;N++){var C=o[N],a=C.group;if(C.id==g)return C;
if(a){var x=jg._3(a.children,g);if(x)return x}}return null};jg.z7=function(o){var g=o.type,C=[{type:6},{type:8,all:0}];
if(g=="rect"){var a=o.r,x=o.x,K=o.y,h=o.width,X=o.height;C=l.M.MG.Rect(x,K,h,X,a?a:0)}else if(g=="circle"){var a=o.r;
C=l.M.MG.Hy(o.cx-a,o.cy-a,2*a,2*a)}else if(g=="ellipse"){var w=o.rx,G=o.ry;C=l.M.MG.Hy(o.cx-w,o.cy-G,2*w,2*G)}else if(g=="path"||g=="compound"){var R=Typr.U.SVGToPath(o.path);
C=l.o.RS({G:R.cmds,w:R.crds},!1)}else if(g=="line"){var d=o.x1,q=o.x2,m=o.y1,M=o.y2;C=l.M.MG.rO([d,m,q,M],0,!0)}else if(g=="polygon"){var Z=o.points,Q=[];
for(var N=0;N<Z.length;N++)Q.push(Z[N].x,Z[N].y);C=C.concat(l.M.MG.rO(Q,0,!1).slice(2))}else console.log(g,o);
return C};jg.avO=function(o){var g=JSON.parse(hf.default);for(var N=0;N<hf.order.length;N++)g[hf.l8[N]]={t:"VlLs",v:[]};
for(var N=0;N<o.length;N++){var C=o[N],a=C.type,x=C.params,K=C.visible;if(a=="dropShadow"){var h=hf.l8[hf.order.indexOf("DrSh")],X=JSON.parse(hf.QI[hf.order.indexOf("DrSh")]);
g[h].v.unshift({t:"Objc",v:X});var w=x.dropShadows;if(w.length!=1)throw"e";var G=w[N],R=G.color,d=R.value,q=G.dx,m=G.dy;
X.Clr.v=l.T.CT({z:d.r,B:d.g,K:d.b});X.Opct.v.val=Math.round((R.alpha!=null?R.alpha:1)*100);X.uglg.v=!1;
X.enab.v=K!=null?K:!0;X.lagl.v.val=Math.round(180/Math.PI*Math.atan2(m,-q));X.Dstn.v.val=Math.round(Math.sqrt(q*q+m*m));
X.blur.v.val=Math.round(G.r*2.3)}}return g};jg.b9=function(o,g,C,a,x,K,h,X,w){var G=jg;if(g=="none"){K.add.vstk.fillEnabled.v=!1;
K.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.T.CT({z:0,B:0,K:0})}}}else{var R,d,q;if(g=="solid"){var m=o.color.value;
R="SoCo";d=hf.nD;var M=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]);q={t:"Objc",v:M};q.v.Clr.v=l.T.CT({z:m.r,B:m.g,K:m.b})}else if(g=="gradient"){R="GdFl";
d=hf.mK;var M=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]),Z=M.Grad.v,W,v,j;Z.Intr.v=0;var Q=o[g],p=Q.ref?X.gradients[Q.ref]:Q.meta.ux.gradientResources,y=["linear","radial","angular"].indexOf(p.type),V=p.stops;
M.Type.v.GrdT=["Lnr","Rdl","Angl"][y];if(y==0){var W=new eN(Q.x1,Q.y1),v=new eN(Q.x2,Q.y2);W.x=v.x+.5*(W.x-v.x);
W.y=v.y+.5*(W.y-v.y)}else{var W=new eN(Q.cx,Q.cy),v=new eN(Q.cx+Q.r,Q.cy)}j=x;if(Q.units=="objectBoundingBox"){var e=new kp(a.m,0,0,a.n,a.x,a.y);
W=e.nx(W);v=e.nx(v)}var e=G.Mb(Q.transform);W=e.nx(W);v=e.nx(v);e=C.clone();e.rq();W=e.nx(W);v=e.nx(v);
l.T.Q2(W,v,j,M);var T=[];for(var N=0;N<V.length;N++){var O=V[N],L=O.color,m=L.value,S=L.alpha;if(S==null)S=1;
T.push([O.offset,[m.r/255,m.g/255,m.b/255],S])}l.T.yq(T,Z);q={t:"Objc",v:M}}else if(g=="pattern"){R="PtFl";
d=hf.ti;var M=JSON.parse(hf.QI[hf.order.indexOf("patternFill")]),P;q={t:"Objc",v:M};var $=o[g],H=$.meta.ux,f=H.uid,F=w["resources/"+f].buffer,U=H.flipX,r=H.flipY,E=f+U+r,k=bl.tt(F);
if(h.ZR[E])P=h.ZR[E];else{var z=new aS(0,0,$.width,$.height),s;if(z.to()||k==null){z=new aS(0,0,1,1);
s=new ArrayBuffer(4)}else{var Y=bl.qC(k);if(Y.dA){var t=new aX;Y.gd(F,t);s=t.cf().buffer}else{try{var n=Y.gd(F)[0];
s=n.data;z=n.m_}catch(fF){s=new ArrayBuffer(z.$()*4)}}}P={};P.id=aX.PJ()+"-d71c-11e5-b1ae-a548a96e5f9f";
P.name="someImage";P.Bd=[new Uint8Array(s),z];if(U)l.S.tR(P.Bd[0].slice(0),P.Bd[0],z.m,z.n);if(r)l.S.axv(P.Bd[0].slice(0),P.Bd[0],z.m,z.n);
h.Gq(P);h.ZR[E]=P}var J=C.clone();J.rq();J.translate(a.x,a.y);var I=a.m,fp=a.n,cH=P.Bd[1].m,b=P.Bd[1].n,jL=Math.max(I/cH,fp/b);
if(H.scale)jL*=H.scale;var aq=new kp;aq.translate(-cH/2,-b/2);aq.scale(1/cH,1/b);if(H.offsetX!=null)aq.translate(H.offsetX,H.offsetY);
aq.scale(cH,b);aq.scale(jL,jL);aq.translate(I/2,fp/2);aq.concat(J);bd.aey(P,M,0,0,1e3,aq)}else console.log(g);
if(R!=null){K.add[R]={classID:"null"};for(var N=0;N<d.length;N++){var cJ=d[N];K.add[R][cJ]=q.v[cJ]}}}};
function gJ(){}gJ.kR=function(o,g,C){o=new Uint8Array(o);var a=u.SP(o,0,o.length),x=new DOMParser,K=x.parseFromString(a,"image/svg+xml"),h=K.getElementsByTagName("style")[0],m=1;
if(h)h=Typr.U.SVG.cssMap(h.textContent);else h={};var X=K.firstChild;while(X.tagName!="svg")X=X.nextSibling;
var w=new aS(0,0,100,100),G=X.getAttribute("viewBox"),R=X.getAttribute("width"),d=X.getAttribute("height");
if(G){var q=gJ.Ew(G);w.x=q[0];w.y=q[1];w.m=q[2];w.n=q[3]}else if(R!=null||d!=null){w.m=R!=null?parseFloat(R):parseFloat(d);
w.n=d!=null?parseFloat(d):parseFloat(R)}w=l.o.ul(w);while(C&&Math.max(w.m*m,w.n*m)<Math.max(C[0],C[1]))m++;
while(C==null&&Math.max(w.m,w.n)*m>8192)m*=.5;g.UG=!0;g.m=~~(w.m*m);g.n=~~(w.n*m);g.buffer=l.Z(g.m*g.n*4);
var M=new kp(m,0,0,m,-w.x*m,-w.y*m),Z={ex:gJ.y$(X),a7P:h,Le:0};gJ.b3(K,X.children,g,M,Z,new kp,0);if(g.g.length==0){var Q=g.HL();
Q.XH("Layer");g.g.push(Q)}};gJ.Ew=function(o){var g=" ";if(o.indexOf(",")!=-1)g=",";return o.split(g).map(parseFloat)};
gJ.b3=function(o,g,C,a,x,K,h,X){var w=gJ,G=["display","opacity","fill-opacity","filter"];for(var R=0;
R<g.length;R++){var d=g[R],q=d.tagName,m=d.getAttribute("id"),Q=13,v=1,T="clip-path",O=null,E=0;if(m==null)m=d.getAttribute("data-name");
var M=w.y$(d,x.a7P);for(var Z in x.ex)if(G.indexOf(Z)==-1&&M[Z]==null)M[Z]=x.ex[Z];if(M["font-size"])Q=w.g8(M["font-size"],Q);
if(d.getAttribute("dx"))a.NO+=w.g8(d.getAttribute("dx"),Q);if(d.getAttribute("dy"))a.Mx+=w.g8(d.getAttribute("dy"),Q);
var p=w.sr(d);p.concat(a);var y=d.getAttribute("visibility"),V=M.display,W=C.HL();if(y=="hidden"||V=="none")W.Su(!1);
W.XH(m!=null?m.split(":::")[0]:"Layer");if(M.opacity)v*=parseFloat(M.opacity);if(M["fill-opacity"]){var j=parseFloat(M["fill-opacity"]);
if(j!=0)v*=j}W.opacity=Math.round(255*v);if(M["mix-blend-mode"]){var e=cP.av6.indexOf(M["mix-blend-mode"]);
if(e!=-1)W.WN=cP.CH[e]}if(d.getAttribute(T)==null)T="mask";if(d.getAttribute(T)!=null){var L=d.getAttribute(T);
L=L.slice(4,L.length-1);var S=o.getElementById(L.slice(1));if(S){var $=S.children;O=C.HL();O.XH("Clip-Path"+(m?": "+m:""));
O.add.lsct=h<2?kj.ah:kj.vz;O.WN="pass";O.qX=24;var H=O.add.vmsk=new A.A3;C.g.push(C.kF());var f=[];if(S.getAttribute(T)){var L=S.getAttribute(T);
L=L.slice(4,L.length-1);f=o.getElementById(L.slice(1)).children}for(var N=0;N<$.length;N++){var F=w.sr($[N]);
F.concat(p);var U=w.z7(o,$[N],!1).slice(2);l.M.Jg(U,F);H.i=H.i.concat(U)}for(var N=0;N<f.length;N++){var F=w.sr($[N]);
F.concat(p);var U=w.z7(o,f[N],!1).slice(2);for(var r=0;r<U.length;r++)if(U[N].j4!=null)U[N].j4=3;l.M.Jg(U,F);
H.i=H.i.concat(U)}O.fb();O.Rw();h++}}if(M.filter&&M.filter!="none"){var k=M.filter,z,s,Y,n=!1,J=!1,I=!1;
k=k.slice(5,k.length-1);var P=o.getElementById(k),t=[0,0,0,.5],fp=c.V.Bo(p);if(P)for(var N=0;N<P.children.length;
N++){var cH=P.children[N];if(cH.tagName=="feGaussianBlur"){n=!0;z=parseFloat(cH.getAttribute("stdDeviation"))*fp}if(cH.tagName=="feColorMatrix"){var b=cH.getAttribute("values").split(" ").map(parseFloat);
t=[b[4],b[9],b[14],b[18]]}if(cH.tagName=="feComposite"){I=!0}if(cH.tagName=="feOffset"){J=!0;var jL=cH.getAttribute("dx"),aq=cH.getAttribute("dy");
s=parseFloat(jL?jL:0)*fp;Y=parseFloat(aq?aq:0)*fp}}if(I||J){var cJ=I?"IrSh":"DrSh";if(cJ=="IrSh"){W.add.iOpa=0}var aB=JSON.parse(hf.QI[hf.order.indexOf(cJ)]);
aB.blur.v.val=Math.round(z*2.4);var au=Math.sqrt(s*s+Y*Y);aB.uglg.v=!1;aB.Dstn.v.val=Math.round(au);
aB.lagl.v.val=Math.round(Math.atan2(Y,-s)*(180/Math.PI));aB.Clr.v=l.T.CT({z:t[0]*255,B:t[1]*255,K:t[2]*255});
aB.Opct.v.val=Math.round(t[3]*100);w.sb(W,hf.l8[hf.order.indexOf(cJ)],aB)}else if(n)E=z}if(q=="g"||q=="a"||q=="svg"||q=="switch"||(q=="text"||q=="textPath")&&d.children.length>0||q=="symbol"&&X){if(q=="text")K=w.Ti(d,K);
var ea=d.getAttribute("viewBox"),ax=d.getAttribute("width"),f1=d.getAttribute("height");if(ea&&ax&&f1){var fk=gJ.Ew(ea),hF=w.Ti(d),fm=new kp;
fm.translate(-fk[0],-fk[1]);fm.scale(parseFloat(ax)/fk[2],parseFloat(f1)/fk[3]);fm.translate(hF.NO,hF.Mx);
fm.concat(p);p=fm}var jE=d.children.length,ff=x.ex;x.ex=M;var d5=x.Le;x.Le=Math.max(x.Le,E);var eF=q!="text"&&q!="textPath"||jE>1;
if(eF){var gI=W.aL();W.add.lsct=h<2&&gI&&(m==null||!m.endsWith(":::"))?kj.ah:kj.vz;W.WN="pass";W.qX=24;
W.Su(gI);C.g.push(C.kF())}w.b3(o,d.children,C,p,x,K,h+1);if(eF)C.g.push(W);else{var fE=C.g[C.g.length-1];
fE.opacity=W.opacity;fE.WN=W.WN}x.Le=d5;x.ex=ff}else if(q=="use"){var fm=w.Ti(d);fm.concat(p);var js=w.J6(d),d8=o.getElementById(js.slice(1));
if(d8){var ff=x.ex;x.ex=M;if(M.filter)d8.setAttribute("filter",M.filter);w.b3(o,[d8],C,fm,x,K,h+1,!0);
x.ex=ff}}else if(q=="path"||q=="rect"||q=="circle"||q=="ellipse"||q=="polygon"||q=="polyline"||q=="line"){W.qX|=16;
W.add.vmsk=new A.A3;W.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));W.add.vstk.strokeEnabled.v=!1;
var bt=W.add.vstk,H=W.add.vmsk,io=M.fill,ha=io=="none"||M["fill-opacity"]&&parseFloat(M["fill-opacity"])==0;
H.i=w.z7(o,d,M["fill-rule"]=="evenodd",ha);l.M.Jg(H.i,p);var dp=l.M.se(H.i),gS=M.stroke,aP=M["stroke-width"],gD=M["stroke-dasharray"],fA=M["stroke-linejoin"],jH=M["stroke-linecap"],aM=M["paint-order"];
if(gS==null||gS=="none"||gS=="null"){}else{var jc=w.$o(o,gS,p,dp),j1=["SoFi","GrFl","patternFill"].indexOf(jc.type),i7=jc.k.v.Opct.v,hJ=1;
if(i7.val!=100){W.opacity=Math.round(W.opacity*i7.val/100);i7.val=100}var fT=[hf.nD,hf.mK,hf.ti][j1],hy=bt.strokeStyleContent.v={classID:hf.ly.iJ[j1]};
for(var N=0;N<fT.length;N++)hy[fT[N]]=jc.k.v[fT[N]];aP=aP?parseFloat(aP):1;if(aM&&aM.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){hJ=2;
aP/=2}bt.strokeEnabled.v=!0;if(fA)bt.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hf.ly.join[["miter","round","bevel"].indexOf(fA)];
if(jH)bt.strokeStyleLineCapType.v.strokeStyleLineCapType=hf.ly.sj[["butt","round","square"].indexOf(jH)];
bt.strokeStyleLineWidth.v.val=aP*c.V.Bo(p);bt.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hf.ly.sx[hJ];
bt.strokeStyleOpacity.v.val=100*(M["stroke-opacity"]?parseFloat(M["stroke-opacity"]):1);if(gD!=null&&gD!="none")bt.strokeStyleLineDashSet.v=bd.Av(gD.split(",").map(parseFloat),1/aP)}if(ha){W.add.vstk.fillEnabled.v=!1;
W.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.T.CT({z:0,B:0,K:0})}}}else{var jc=w.$o(o,io,p,dp),db=null,jK=null;
if(jc.type=="SoFi"){db="SoCo";jK=hf.nD}if(jc.type=="GrFl"){db="GdFl";jK=hf.mK}if(jc.type=="patternFill"){db="PtFl";
jK=hf.ti}if(db!=null){var i7=jc.k.v.Opct.v;if(i7.val!=100){W.opacity=Math.round(W.opacity*i7.val/100);
i7.val=100}W.add[db]={classID:"null"};for(var N=0;N<jK.length;N++){var Z=jK[N];W.add[db][Z]=jc.k.v[Z]}}}var h_=Math.max(E,x.Le);
if(h_!=0)W.add.vmsk.Bs=h_;W.fb();W.Rw(C);C.g.push(W)}else if((q=="text"||q=="tspan")&&d.textContent!=""){K=w.Ti(d,K);
var fm=K.clone(),Y=0;fm.concat(p);if(d.children.length>0){var dM=w.y$(d.children[0],x.a7P);for(var Z in dM)if(G.indexOf(Z)==-1)M[Z]=dM[Z]}var eW=M["xml:space"],ip=d.textContent;
if(eW=="preserve")ip=ip.replace(/\t/g," ").replace(/\n/g," ");if(m==null)W.XH(ip);W.add.lnsr="rend";
W.add.TySh=bv.hT(0,0);W.add.TySh.Vf=new aS(0,0,100,100);W.add.TySh.D=fm.clone();var fS=W.add.TySh.cp;
bv.l6(fS,0,ip);var io=M.fill,hS=M["font-weight"],bB=M["font-family"],g_=M["text-decoration"],gS=M.stroke,aP=M["stroke-width"],e4=M["dominant-baseline"];
if(e4=="text-before-edge")Y=Q;else if(e4=="middle")Y=Q/2;else if(e4=="hanging")Y=Q;if(Y!=0)W.add.TySh.D.translate(0,Y);
var e0=bv.SX(fS,0,1);if(io&&io!="none"){var t=CSS.Wo(io);e0.Fn.FillColor={Type:1,Values:[1,t.z/255,t.B/255,t.K/255]}}if(g_=="underline")e0.Fn.Underline=!0;
e0.Fn.FontSize=Math.round(Q);bv.s2(e0,"LiberationSans");if(hS=="bold")bv.s2(e0,"LiberationSans-Bold");
if(bB){bB=bB.split(",")[0].trim();if(bB[0]=="\"")bB=bB.slice(1);if(bB[bB.length-1]=="\"")bB=bB.slice(0,bB.length-1);
var jC=bB+":"+(hS?hS:"normal"),i4={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(i4[jC])bv.s2(e0,i4[jC]);else bv.s2(e0,bB)}if(M["text-anchor"])e0.Yt.Justification=["start","end","middle"].indexOf(M["text-anchor"]);
bv.dG(fS,0,ip.length,e0);if(gS==null||gS=="none"){}else{var aB=JSON.parse(hf.QI[hf.order.indexOf("FrFX")]);
aB.Clr.v=l.T.CT(CSS.Wo(gS));aB.Sz.v.val=Math.round(parseFloat(aP)*c.V.Bo(fm));w.sb(W,"frameFXMulti",aB)}C.g.push(W)}else if(q=="image"){var js=w.J6(d);
if(js&&js.slice(0,4)=="data"){var hO=bl.OQ(js),eq=hO,ig=C.Lz(eq,W.getName(),0,0);ig.qX=W.qX;W=ig;var bc=W.rect.clone();
bc.x=bc.y=0;var aa=d.getAttribute("width"),cn=d.getAttribute("height");if(aa)bc.m=parseFloat(aa);if(cn)bc.n=parseFloat(cn);
var iu=w.Ti(d);iu.concat(p);var hY=l.o.IW(bc).w;l.o.D(hY,iu,hY);W.add.SoLd.Trnf=c.V.SS(hY);W.add.SoLd.nonAffineTransform=c.V.SS(hY);
W.R9(C,!1);C.g.push(W)}}else console.log("unknown tag: "+q,d.children.length,d.textContent.length);if(O!=null){C.g.push(O);
h--}}};gJ.sb=function(o,g,C){var a=o.add.lmfx;if(a==null){var a=o.add.lmfx=JSON.parse(hf.default);for(var N=0;
N<hf.order.length;N++)a[hf.l8[N]]={t:"VlLs",v:[]}}a[g].v.push({t:"Objc",v:C})};gJ.z7=function(o,g,C,a){var x=gJ,K=[{type:6},{type:8,all:0}],h=g.tagName;
if(h=="use"){var X=x.J6(g),w=o.getElementById(X.slice(1)),G=new kp;if(w.tagName!="rect")G=x.Ti(w);G.concat(x.sr(w));
K=x.z7(o,w,C,a);l.M.Jg(K,G)}else if(h=="path"){var R=g.getAttribute("d");if(R==null)return K;var d=Typr.U.SVGToPath(R);
K=l.o.RS({w:d.crds,G:d.cmds},C,a)}else if(h=="rect"){var q=g.getAttribute("rx"),m=x.Ti(g);K=l.M.MG.Rect(m.NO,m.Mx,parseFloat(g.getAttribute("width")),parseFloat(g.getAttribute("height")),q?parseFloat(q):0)}else if(h=="circle"||h=="ellipse"){var M=[0,0,0,0],Z=["cx","cy","rx","ry","r"];
for(var N=0;N<5;N++){var Q=g.getAttribute(Z[N]);if(Q){Q=parseFloat(Q);if(N<4)M[N]=Q;else M[2]=M[3]=Q}}K=l.M.MG.Hy(M[0]-M[2],M[1]-M[3],2*M[2],2*M[3])}else if(h=="polygon"||h=="polyline"||h=="line"){var p;
if(h=="line")p=[g.getAttribute("x1"),g.getAttribute("y1"),g.getAttribute("x2"),g.getAttribute("y2")].map(parseFloat);
else p=g.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
K=l.M.MG.rO(p,0,h!="polygon")}return K};gJ.g8=function(o,g){if(o.charAt(o.length-1)=="m")return g*parseFloat(o.slice(0,o.length-2));
else return parseFloat(o)};gJ.$o=function(o,g,C,a){var x,K,h=gJ,X=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]),w=g!=null?g.indexOf("("):-1;
if(w!=-1){var G=g.indexOf(")"),R=g.slice(0,w).trim(),d=g.slice(w+1,G).trim();if(d.charAt(0)=="'")d=d.slice(1,d.length-1);
if(R=="url"){if(d.charAt(0)=="#"){var q=o.getElementById(d.slice(1));if(q&&q.tagName.toLowerCase().endsWith("gradient")){var m=h.M9(o,q,C,a);
x="GrFl";K={t:"Objc",v:m}}else{x="SoFi";K={t:"Objc",v:X}}}else console.log("unknown url",d)}else if(R=="rgb"||R=="rgba"){x="SoFi";
K={t:"Objc",v:X};K.v.Clr.v=l.T.CT(CSS.Wo(g));if(R=="rgba")K.v.Opct.v.val=Math.round(100*parseFloat(g.split(",").pop()))}else console.log("unknown fill",g)}else{x="SoFi";
K={t:"Objc",v:X};var M=CSS.Wo(g);K.v.Clr.v=l.T.CT(M);if(M.Bk!=null)K.v.Opct.v.val=Math.round(100*M.Bk/255)}return{type:x,k:K}};
gJ.sr=function(o){var g=new kp,C=o.getAttribute("transform");if(C)g=gJ.Se(C);var a=o.getAttribute("style");
if(a!=null){var x={};gJ.Md(x,a,["transform"]);a=x.transform;if(a)g.concat(gJ.Se(a))}return g};gJ.Ti=function(o,g){var C=new kp,a=o.getAttribute("x"),x=o.getAttribute("y");
if(a)C.NO=parseFloat(a);else if(g)C.NO=g.NO;if(x)C.Mx=parseFloat(x);else if(g)C.Mx=g.Mx;return C};gJ.Se=function(o){var g=Typr.U.SVG.readTrnf(o);
return new kp(g[0],g[1],g[2],g[3],g[4],g[5])};gJ.y$=function(o,g){var C={},a="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var N=0;N<a.length;N++){var x=o.getAttribute(a[N]);if(x!=null&&x!="inherit")C[a[N]]=x}var K=o.getAttribute("class");
if(g!=null&&K!=null&&g["."+K]!=null)gJ.Md(C,g["."+K],a);var h=o.getAttribute("id");if(g!=null&&h!=null&&g["#"+h]!=null)gJ.Md(C,g["#"+h],a);
var X=o.getAttribute("style");if(X!=null)gJ.Md(C,X,a);return C};gJ.Md=function(o,g,C){g=g.trim().split(";");
for(var N=0;N<g.length;N++){var a=g[N].split(":"),x=a[0]?a[0].trim():"",K=a[1]?a[1].trim():"";for(var h=0;
h<C.length;h++)if(x==C[h]&&K!="inherit")o[C[h]]=K}};gJ.J6=function(o){var g=o.getAttribute("xlink:href");
if(g==null)g=o.getAttribute("href");if(g==null)g=o.getAttribute("xl:href");return g};gJ.M9=function(o,g,C,a){var x=gJ,m=!1;
function K(S,$,H){var f=g.getAttribute(S);if(f==null)return;var F=parseFloat(f);if(f.endsWith("%"))F*=(H?a.m:a.n)/100;
if(H)$.x=F;else $.y=F}var h=new kp,X=g.getAttribute("gradientTransform");if(X)h=x.Se(X);h.concat(C);
var w=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]),G=w.Grad.v;G.Intr.v=0;var R=g.tagName,d=new eN(0,0),q=new eN(a.m,0);
if(R=="linearGradient"){w.Type.v.GrdT="Lnr";K("x1",d,!0);K("y1",d,!1);K("x2",q,!0);K("y2",q,!1);d.x=q.x+.5*(d.x-q.x);
d.y=q.y+.5*(d.y-q.y)}if(R=="radialGradient"){w.Type.v.GrdT="Rdl";if(g.getAttribute("cx"))d.x=parseFloat(g.getAttribute("cx"));
if(g.getAttribute("cy"))d.y=parseFloat(g.getAttribute("cy"));q.fR(d.x,d.y);if(g.getAttribute("r"))q.x+=parseFloat(g.getAttribute("r"))}var M=g;
while(!0){if(M.getAttribute("gradientUnits")=="userSpaceOnUse")m=!0;var Z=x.J6(M);if(Z==null)break;M=o.getElementById(Z.slice(1))}if(m){d=h.nx(d);
q=h.nx(q)}else{d.x=a.x+d.x*a.m;d.y=a.y+d.y*a.n;q.x=a.x+q.x*a.m;q.y=a.y+q.y*a.n}l.T.Q2(d,q,a,w);var Q=g.children;
if(Q.length==0){var p=x.J6(g);if(p==null)throw"gradient has no stops";var y=o.getElementById(p.slice(1));
if(y==null){console.log(p.slice(1))}else{var V=x.M9(o,y,h,a);w.Grad=V.Grad}}else{var W=[];for(var N=0;
N<Q.length;N++){var v=Q[N],j=x.y$(v),e=j["stop-color"],T=j["stop-opacity"],O=v.getAttribute("offset");
if(e==null)e="#000000";T=T==null?1:parseFloat(T);var L=O?parseFloat(O):0;e=CSS.Wo(e);if(e.Bk!=null)T*=e.Bk/255;
W.push([L,[e.z/255,e.B/255,e.K/255],parseFloat(T)])}l.T.yq(W,G)}return w};gJ._O=function(o,g,C){var a=[],x=gJ,w=" { ",G=" } ",R=!1;
x.ya=g.ei?"":"\t";var K=g.ajb,h=g.ank;a.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+o.m+" "+o.n+"\" width=\""+K+"\" height=\""+h+"\">");
if(!g.ei)a.push(x.Qa(1)+"<title>"+gJ.zv(o.name.split(".")[0])+"</title>");var X={Un:[],B9:[],Zg:0,p8:0,$U:0,OU:{},Ws:{},qV:0,NQ:{},AC:{},gf:0,zM:[]};
gJ.LK(o,X,o.root.children,1,g,C);if(X.Un.length!=0){a.push(x.Qa(1)+"<defs>");a=a.concat(X.Un);a.push(x.Qa(1)+"</defs>")}a.push(x.Qa(1)+"<style>");
if(g.ei){w="{";G="}"}for(var N=0;N<o.g.length;N++)if(o.g[N].add.TySh)R=!0;if(R&&!g.aot&&!g.ajL)a.push(x.Qa(2)+"tspan"+w+"white-space:pre"+G);
for(var d in X.NQ)a.push(x.Qa(2)+"."+d+w+X.NQ[d]+G);a.push(x.Qa(1)+"</style>");a=a.concat(X.B9);a.push("</svg>");
a=a.join(g.ei?"":"\n");if(x.yh){console.log(x.yh);var q="SVGParser.gen.db = [\n";for(var N=0;N<x.yh.length;
N++){var m=x.yh[N];q+="{\n\tnam: \""+m.QH+"\",\n\tpts: [\n";for(var M=0;M<m.tv.length;M++){var Z=m.tv[M];
q+="\t\t[\""+Z[0]+"\", { cmds: "+JSON.stringify(Z[1].G)+", crds:"+JSON.stringify(Z[1].w)+" } ]"+(M==m.tv.length-1?"":",")+"\n"}q+="\t]\n}"+(N==x.yh.length-1?"":",")+"\n"}q+="]\n";
console.log(q)}return u.Jz(a)};gJ.ya="";gJ.Qa=function(ee){var o="";for(var N=0;N<ee;N++)o+=gJ.ya;return o};
gJ.du=function(ee,o){if(o==null)o=1;var g=""+parseFloat(ee.toFixed(o));if(g.startsWith("0."))g=g.slice(1);
return g};gJ.LK=function(o,g,C,a,x,K){var h=gJ;function X(R,bt){var T=R.add.lmfx;if(T)T=T[bt].v[0];if(T)T=T.v;
if(T&&!T.enab.v)T=null;return T}function w(R,Z){var db=X(R,"frameFXMulti");if(db){var jK=db.Sz.v.val;
if(db.Styl.v.FStl=="OutF"){Z.push("paint-order:stroke fill markers");jK*=2}Z.push("stroke: "+CSS.aM(db.Clr.v));
Z.push("stroke-width: "+jK);Z.push("stroke-linejoin: round;")}}for(var G=0;G<C.length;G++){var R=C[G].l,d=R.add.lsct,q=R.add.vmsk,m=R.add.vstk,M=R.add.TySh;
if(q&&!q.isEnabled)q=m=null;var Z=[];if(!x.hidden&&!R.aL())continue;var Q=R.opacity/255,p=R.add.iOpa?R.add.iOpa/255:1;
if(Q!=1)Z.push("opacity: "+h.du(Q));if(p!=1)Z.push("fill-opacity: "+h.du(p));if(R.WN!="norm"){var y=cP.av6[cP.CH.indexOf(R.WN)];
if(y!=null)Z.push("mix-blend-mode: "+y)}if(!R.aL())Z.push("display: none");var V=[],W=[],v=R.getName(),j=v.indexOf(" .");
if(j!=-1){W.push(v.slice(j+2));v=v.slice(0,j)}if(!x.ei)V.push("id=\""+h.zv(v)+"\"");var e=bd.LD(R.add.lmfx,R.add),T=e[0],O=e[1];
if(R.sP()){var L=C[G].children;if(!(L.length==1&&L[0].l.add.SoLd&&!x.oW)){if(h.yh&&R.getName().split("-").length==3){h.yh.push({QH:R.getName(),va:0,tv:[]})}gJ.RB(R,q,g,V);
if(Z.length!=0)V.push("style=\""+Z.join(";")+"\"");var S=h.b8(V,W),$=x.ei&&S=="";if(!$)g.B9.push(h.Qa(a)+"<g"+(S==""?"":" "+S)+">");
h.LK(o,g,L,a+1,x,K);if(!$)g.B9.push(h.Qa(a)+"</g>")}}else if(R.eU()&&q==null){var H=new aS(0,0,o.m,o.n);
h.rR(o,Z,R.add,g,H,x);if(Z.length!=0)V.push("style=\""+Z.join(";")+"\"");g.B9.push(h.Qa(a)+"<rect width=\""+o.m+"\" height=\""+o.n+"\" "+h.b8(V,W)+" />")}else if(q&&R.add.SoLd==null){var H=l.M.se(q.i,null,!0),f=l.M.Z$(q.i,1);
if(f.PX!=0){V.push("fill-rule=\"evenodd\"")}var F=f.dH;h.rR(o,Z,R.add,g,H,x);if(Z.length!=0){var U=Z.join(";"),r=g.AC[U];
if(r==null){r="s"+g.gf;g.gf++;g.AC[U]=r;g.NQ[r]=U}W.push(r)}g.B9.push(h.Qa(a)+"<path "+h.b8(V,W)+" d=\""+F+"\" />");
if(h.yh&&h.yh[h.yh.length-1]){var E=l.o.rA(q.i);E.w=E.w.map(Math.round);var k=h.yh[h.yh.length-1];k.va+=JSON.stringify(E).length;
k.tv.push([Z[0].split("#").pop(),E])}}else if(M&&x.aot){var P=M.cp,z=new bM(P,K),s=null;if(T)s=CSS.aM(T.Clr.v);
if(O){var H=R.rect.clone();h._w(O,g,H,x);s=" url(#g"+g.Zg+")"}if(s)V.push("fill=\""+s+"\"");w(R,Z);if(Z.length!=0)V.push("style=\""+Z.join(";")+"\"");
var Y=d2.c6(z,M),t=l.o.Ui(Y);for(var n in t){var J=V.length;if(s==null){V.push("fill=\""+n.slice(0,7)+"\"");
if(n.length>7){var F=n.slice(7).split("-");console.log(F);V.push("stroke=\""+F[1]+"\"");V.push("stroke-width=\""+F[2]+"\"")}}var I=t[n],F=Typr.U.pathToSVG({crds:I.w,cmds:I.G},2);
g.B9.push(h.Qa(a)+"<path "+h.b8(V,W)+" "+h.pe(M)+" d=\""+F+"\" />");while(V.length>J)V.pop()}}else if(M&&!x.ajL){var P=M.cp,fp=M.D.clone(),s=null;
Z.push("transform: "+h.qb(fp));var cH=bv.cR(P),z=new bM(P,K);w(R,Z);if(Z.length!=0)V.push("style=\""+Z.join(";")+"\"");
g.B9.push(h.Qa(a)+"<text "+h.b8(V,W)+" >");if(T)s=CSS.aM(T.Clr.v);if(O){var H=R.rect.clone();H.x-=fp.NO;
H.y-=fp.Mx;h._w(O,g,H,x);s=" url(#g"+g.Zg+")"}for(var N=0;N<z.Yt.length;N++){var b=z.Yt[N];if(b.pt.length==1&&b.pt[0].xz)continue;
for(var jL=0;jL<b.T$.length;jL++){var aq=b.T$[jL],cJ=b.ep.y+aq.ep.y,aB=b.pt[aq.start].start,au=b.pt[aq.end-1].end,ea=bv.atD(P,aB,au),ax="";
for(var f1=0;f1<ea.length;f1++){var fk=z.TW(aB),hF=ea[f1],fm=bv.SX(P,aB,aB),jE=fm.pv[fm.Fn.Font].Name,n=bv.Xh(fm.Fn.FillColor),ff=Math.round(fm.Fn.FontSize),d5=cH.slice(aB,aB+hF);
if(fm.Fn.FontCaps==2)d5=d5.toUpperCase();var eF=new kp;eF.translate(fk.Cn.x,-cJ);var gI=[];CSS.amx(gI,fm,null,!0,!0,s);
var U=gI.join(";"),r=g.AC[U];if(r==null){r="t"+g.gf;g.gf++;g.AC[U]=r;g.NQ[r]=U}var fE=fk.Cn.x,js=h.acv(fm,d5);
ax+="<tspan "+(f1==0?"x=\""+h.du(fk.Cn.x)+"\"":"")+" y=\""+h.du(cJ)+"\" class=\""+r+"\""+js+">"+h.zv(d5)+"</tspan>";
aB+=hF}g.B9.push(h.Qa(a+1)+ax)}}g.B9.push(h.Qa(a)+"</text>")}else if(R.add.SoLd&&x.oW){var d8=R.add.SoLd,bt=d8.Idnt.v,io=0,ha=d8.Crop?d8.Crop.v:null;
if(g.Ws[bt]!=null)io=g.Ws[bt];else{g.qV++;io=g.qV;g.Ws[bt]=g.qV;var dp=o.fs(bt,ha),gD="";if(dp==null)return;
var gS=dp.zm,aP=bl.tt(dp.raw.buffer);if(aP=="pdf"){var fA=new aX("h");bl.qC("PDF").gd(dp.raw.buffer,fA);
fA.vg();fA.Va();fA.L();fA.II();if(d8.Crop&&d8.Crop.v==1){c.ro.BF(fA,fA.root.QR(fA,!0))}var jH=bl.qC("SVG").oe(fA,fA.m,fA.n,null,{zM:K});
gD="data:image/svg+xml;base64,"+bl.H8(jH)}else if(aP=="jpg"||aP=="png"||aP=="gif"||aP=="svg"){var aM={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
gD="data:"+aM[aP]+";base64,"+bl.H8(dp.raw.buffer)}else{gD=bl.Mq(gS[0].buffer,gS[1].m,gS[1].n)}g.Un.push(h.Qa(2)+"<image width=\""+gS[1].m+"\" height=\""+gS[1].n+"\" id=\"img"+io+"\" href=\""+gD+"\"/>")}var jc=l.S.Ek(d8),j1=[];
gJ.RB(R,q,g,j1);if(j1.length!=0)g.B9.push(h.Qa(a)+"<g "+h.b8(j1,W)+">");if(Z.length!=0)V.push("style=\""+Z.join(";")+"\"");
var fT=h.b8(V,W);g.B9.push(h.Qa(a)+"<use "+fT+" href=\"#img"+io+"\" transform=\""+h.qb(jc)+"\"/>");if(j1.length!=0)g.B9.push(h.Qa(a)+"</g>")}else if(!R.rect.to()&&(x.oW||M)){if(Z.length!=0)V.push("style=\""+Z.join(";")+"\"");
var fT=h.b8(V,W),hy=R.buffer;if(T)hy=bd.apG(hy,T,R.rect);var hJ=R.rect;g.qV++;var gD=bl.Mq(hy.buffer,hJ.m,hJ.n,"png",null,!0);
g.Un.push(h.Qa(2)+"<image "+h.pe(M)+" width=\""+R.rect.m+"\" height=\""+R.rect.n+"\" id=\"img"+g.qV+"\" href=\""+gD+"\"/>");
g.B9.push(h.Qa(a)+"<use "+fT+" href=\"#img"+g.qV+"\" x=\""+hJ.x+"\" y=\""+hJ.y+"\" />")}}};gJ.acv=function(o,g){var C=o.Fn.Tracking,a="";
if(C!=null&&C!=0){C=Math.round(C*o.Fn.FontSize/1e3);a=" dx=\"0";for(var x=1;x<g.length;x++)a+=" "+C;
a+="\" "}return a};gJ.pe=function(o){if(o==null)return"";var g=o.cp,C=bv.cR(g);C=gJ.zv(C.slice(0,C.length-1));
return"aria-label=\""+C+"\" "};gJ.b8=function(o,g){if(g.length!=0)o.push("class=\""+g.join(" ")+"\"");
return o.join(" ")};gJ.zv=function(o){return String(o).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
gJ.qb=function(o){var g=[o.Bk,o.K,o.U9,o.rX,o.NO,o.Mx];for(var N=0;N<6;N++)g[N]=gJ.du(g[N],3);return"matrix("+g.join(",")+")"};
gJ.RB=function(o,g,C,a){var x=gJ;if(g||o.add.artb){var K;if(g)K=l.M.Z$(g.i).dH;else{var h=o.zz(),X=l.o.IW(h);
K=Typr.U.pathToSVG({crds:X.w,cmds:X.G},2)}C.$U++;a.push("clip-path=\"url(#cp"+C.$U+")\"");C.Un.push(x.Qa(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+C.$U+"\">");
C.Un.push(x.Qa(3)+"<path d=\""+K+"\" />");C.Un.push(x.Qa(2)+"</clipPath>")}};gJ.rR=function(o,g,C,a,x,K){var h=K.ei?"":" ",X=gJ,w=C.vstk,G=C.vmsk,R=C.lmfx,d=[];
if(G&&G.Bs!=0){var q=X.du(G.Bs);if(a.OU[q]==null){a.p8++;a.OU[q]=a.p8;a.Un.push(X.Qa(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+a.p8+"\"> <feGaussianBlur stdDeviation=\""+q+"\" /> </filter>")}d.push("url(#f"+a.OU[q]+")")}if(R)for(var N=0;
N<hf.order.length;N++){var m=hf.order[N],M=hf.l8[N],Z=R[M].v;for(var Q=0;Q<Z.length;Q++){var p=Z[Q].v,y=p.classID;
if(!p.enab.v)continue;if(y=="OrGl"||y=="DrSh"){a.p8++;d.push("url(#f"+a.p8+")");var V=0,W=0,v=p.blur.v.val/2.4,j=p.Opct.v.val/100;
if(y=="DrSh"){var e=p.uglg&&p.uglg.v?o.T6():p.lagl.v.val;e=e*(Math.PI/180);var T=p.Dstn.v.val;V=-Math.cos(e)*T;
W=Math.sin(e)*T}if(y=="OrGl")j/=p.Inpr.v.val/100;var O="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+a.p8+"\" >";
O+="<feDropShadow dx=\""+V+"\" dy=\""+W+"\" stdDeviation=\""+v+"\" flood-color=\""+CSS.aM(p.Clr.v)+"\" flood-opacity=\""+X.du(j)+"\"/>";
O+="</filter>";a.Un.push(X.Qa(2)+O)}}}if(d.length!=0)g.push("filter:"+h+d.join(" "));var L=bd.LD(R,C),S=L[0],$=L[1];
if(w&&!w.fillEnabled.v)g.push("fill:"+h+"none");else if(S){var H=CSS.aM(S.Clr.v);g.push("fill:"+h+H)}else if($){X._w($,a,x,K);
g.push("fill:"+h+"url(#g"+a.Zg+")")}if(w==null||!w.strokeEnabled.v)w=bd.eL(R);if(w&&w.strokeEnabled.v){var f=w.strokeStyleContent.v,F=f.classID;
if(F=="solidColorLayer")g.push("stroke:"+h+CSS.aM(f.Clr.v));else{X._w(f,a,x,K);g.push("stroke:"+h+"url(#g"+a.Zg+")")}var U=hf.ly.sj.indexOf(w.strokeStyleLineCapType.v.strokeStyleLineCapType),r=hf.ly.join.indexOf(w.strokeStyleLineJoinType.v.strokeStyleLineJoinType),E=w.strokeStyleOpacity.v.val/100,k=w.strokeStyleLineWidth.v.val,P=hf.ly.sx.indexOf(w.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(P==2){k*=2;g.push("paint-order:stroke fill markers")}var z=w.strokeStyleLineDashSet.v,s=[];for(var N=0;
N<z.length;N++)s.push(Math.round(z[N].v.val*k));if(U!=0)g.push("stroke-linecap:"+h+["butt","round","square"][U]);
if(r!=0)g.push("stroke-linejoin:"+h+["miter","round","bevel"][r]);if(E!=1)g.push("stroke-opacity:"+h+X.du(E));
if(k!=1)g.push("stroke-width:"+h+X.du(k));if(s.length!=0)g.push("stroke-dasharray:"+h+s.join(","))}};
gJ._w=function(o,g,C,a){g.Zg++;var x=gJ,K=o.Grad.v,h=JSON.parse(JSON.stringify(K.Clrs.v)),X=JSON.parse(JSON.stringify(K.Trns.v)),w=o.Ofst.v,G=o.Type.v.GrdT,R=G=="Rdl"||G=="Dmnd"?1:0,d=(R==1?"radial":"linear")+"Gradient",q=l.T.kQ(o,C),M="";
if(R==0){q[0].x=q[1].x+2*(q[0].x-q[1].x);q[0].y=q[1].y+2*(q[0].y-q[1].y)}var m=x.Qa(2)+"<"+d+" id=\"g"+g.Zg+"\"";
if(a.ei){if(g.Zg==1)g.Un.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");M=" href=\"#P\""}else M=" gradientUnits=\"userSpaceOnUse\"";
if(R==0)g.Un.push(m+" x1=\""+x.du(q[0].x)+"\" y1=\""+x.du(q[0].y)+"\" x2=\""+x.du(q[1].x)+"\" y2=\""+x.du(q[1].y)+"\""+M+">");
if(R==1)g.Un.push(m+" cx=\""+x.du(q[0].x)+"\" cy=\""+x.du(q[0].y)+"\" r=\""+x.du(eN.ig(q[0],q[1]))+"\""+M+">");
if(G=="Rflc"){for(var Z=0;Z<2;Z++){var Q=Z==0?h:X;for(var N=Q.length-1;N>=0;N--){var p=Q[N];p.v.Lctn.v=2048+(p.v.Lctn.v>>>1);
var y=JSON.parse(JSON.stringify(p));y.v.Lctn.v=4096-y.v.Lctn.v;Q.push(y)}Q.sort(function(O,L){return O.v.Lctn.v-L.v.Lctn.v})}}var V=o.Rvrs.v;
if(V){h.reverse();X.reverse()}for(var N=0;N<h.length;N++){var W=h[N].v,v=W.Lctn.v/4096;if(V)v=1-v;var j=N<X.length?X[N].v.Opct.v.val/100:1,j=j==1?"":" stop-opacity=\""+x.du(j)+"\"",e=v==0&&a.ei?"":" offset=\""+x.du(v)+"\"",T=CSS.aM(W.Clr.v);
T=a.ei&&T=="#000000"?"":" stop-color=\""+T+"\"";g.Un.push(x.Qa(3)+"<stop"+e+T+j+"/>")}g.Un.push(x.Qa(2)+"</"+d+">")};
gJ.MG=function(o,g,C,a,x){var K=[],h=gJ.MG,X=!1,w={MI:o,fB:g,ol:[!0,!0,!0],Mv:!1,JO:C,ab8:0};w.AL=Math.round(Math.max(o,g)*(.02+h.Q_(w)*.03));
w.vR=h.agU(w);w.ej=h.alX(w.vR,(h.Q_(w)<.5?-1:1)*(.2+h.Q_(w)*.3));if(h.Q_(w)<.5){var G=w.vR;w.vR=w.ej;
w.ej=G}w.axS=h.Q_(w)<.4&&h.at4(w.ej,{z:1,B:1,K:1})>.3;w.a7w=h.Q_(w)<.5?0:1;K.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+o+" "+g+"\" width=\""+o+"\" height=\""+g+"\">");
w.SN=a[Math.floor(h.t$(w)*a.length)];w.TL=a[Math.floor(h.t$(w)*a.length)];K.push("<style>");K.push("@font-face {  font-family: "+w.SN[2]+";  src: url(rsrc/fonts/"+w.SN[5]+");  }");
K.push("@font-face {  font-family: "+w.TL[2]+";  src: url(rsrc/fonts/"+w.TL[5]+");  }");K.push("</style>");
var R=[0,0,o,g],d=R;if(x==null)K.push("<path style=\"fill: "+h.lg(w.vR)+"\" d=\""+h.Rect(R[0],R[1],R[2]-R[0],R[3]-R[1])+"\" id=\"Background\" />");
else{w.Mv=!0;h.X9(w,R,K,x)}if(h.Q_(w)<.25&&!w.Mv){w.ol[0]=w.ol[2]=!1;h.a1o(R,w,K);d=R}else if(h.Q_(w)<.25||w.Mv)d=R;
else{var q=.52+h.Q_(w)*.2;if(h.Q_(w)<.5)q=1-q;var m=R.slice(0),M=R.slice(0);if(h.Q_(w)<.5)m[2]=M[0]=Math.round(q*o);
else m[3]=M[1]=Math.round(q*g);if(h.Q_(w)<.5){var G=m;m=M;M=G}d=m;h.adm(w,M,K,x)}h.acb(w,d,K);K.push("</svg>");
K=K.join("\n");var Z=l.Z(Math.round(K.length*1.5)),Q=u.At(K,Z,0);return[Z.buffer.slice(0,Q),w.QS]};gJ.MG.a1o=function(o,g,C){var a=gJ.MG,x=o[2]-o[0],K=o[3]-o[1];
if(a.Q_(g)<.5){C.push("<path id=\"Border\" style=\"fill: "+a.lg(g.ej)+"\" d=\""+a.ath(o[0],o[1],o[2]-o[0],o[3]-o[1],g.AL)+"\" />")}else if(a.Q_(g)<-.4){a.axT(g,o,C)}else{var h=a.Q_(g)<.5?0:1,X=(h==0?K:x)/4,w=a.e7(g,h,o,C,X,!0),w=a.e7(g,h+2,o,C,X,!0,w)}};
gJ.MG.acb=function(o,g,C){var a=gJ.MG,x="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),K=2*Math.floor(a.Q_(o)*x.length/2),h=g[2]-g[0],X=g[3]-g[1],G=0,d=0;
o.vQ=(o.MI+h)*.5*(.04+a.Q_(o)*.05);o.vQ=Math.min(o.vQ,X*.4,h*.12);o.vQ=Math.round(o.vQ);var w=Math.min(o.vQ*x[K].length*(.35+.3*a.Q_(o)),h*.9),R=(g[1]+g[3])/2,q=l.Is(o.vR)<.85?{z:1,B:1,K:1}:{z:.1,B:.1,K:.1};
if(a.Q_(o)<.25&&o.ol[0]){d=0;G=g[0]+o.AL}else if(a.Q_(o)<.33&&o.ol[2]){d=2;G=g[2]-o.AL}else{d=1;G=(g[0]+g[2])/2}var m=q.z==1?"0,0,0":"255,255,255",M=o.Mv&&a.Q_(o)<1;
if(M){var Z=g[0],Q=h,p=R-o.vQ*1.1,y=o.vQ*2.2,V=.7;if(d==1&&a.Q_(o)<.5){Z=p=.2*Math.min(h,X);Q=h-2*p;
y=X-p-p}else if(a.Q_(o)<.7){Z=p=0;Q=h;y=X;V=.25}C.push("<path id=\"Strip\" style=\"fill: rgb("+m+"); opacity: "+V+"\" d=\""+a.Rect(Z,p,Q,y)+"\" />")}if(a.Q_(o)<.4){var W=o.vQ*.07;
W*=1.5+a.Q_(o)*1;if(d==-1&&h/X<3&&!M){C.push("<path id=\"Bar-bottom\" style=\"fill: "+a.lg(q)+"\" d=\""+a.Rect(G-w/2,R+o.vQ*1.1-W/2,w,W)+"\" />");
C.push("<path id=\"Bar-top\"    style=\"fill: "+a.lg(q)+"\" d=\""+a.Rect(G-w/2,R-o.vQ*1.1-W/2,w,W)+"\" />")}if(d!=1){C.push("<path id=\"Bar\" style=\"fill: "+a.lg(q)+"\" d=\""+a.Rect(G-W/2,R-o.vQ*.8,W,o.vQ*.8*2)+"\" />");
G+=(d==0?1:-1)*o.vQ/3}}var v=o.vQ*.4;C.push(a.gl(x[K+1],G,R+v*1.6,v,q,d,o.TL));C.push(a.gl(x[K],G,R+o.vQ*.04,o.vQ,q,d,o.SN))};
gJ.MG.adm=function(o,g,C,a){var x=g[2]-g[0],K=g[3]-g[1],h=Math.max(x,K),X=Math.min(x,K),w=gJ.MG;if(h/X<5&&!o.Mv&&!1){w.X9(o,g,C,a)}else if(w.Q_(o)<0)C.push("<path style=\"fill: "+w.lg(o.ej)+"\" d=\""+w.Rect(g[0],g[1],x,K)+"\" />");
else{var G=0;if(g[3]!=o.fB)G=0;if(g[2]!=o.MI)G=3;if(g[0]!=0)G=1;if(g[1]!=0)G=2;var R=G+2&3;if(h/X<3){var d=w.awv(R),q=d[Math.round(w.Q_(o)*(d.length-1))],m=q.QH.slice(0,4),M=m.indexOf(1);
q=JSON.parse(JSON.stringify(q));var Z=-1;if(m!="0000"){var Q=new kp;if(q.QH[5]=="0"){if(M==3&&G==1){Z=1;
Q.scale(-1,1)}else Z=M}else{var p=R;while(p==R)p=Math.floor(w.Q_(o)*4)&3;Q.rotate((-M+p)*Math.PI/2)}w.D(q,Q)}var y=w.TO(q),V=x-2*o.AL,W=K-2*o.AL;
if(Z!=-1){if((Z&1)==0)W-=o.AL;else V-=o.AL}var v=Math.min(V/y.m,W/y.n),j=new kp;j.translate(-y.x,-y.y);
j.scale(v,v);var e=(x-y.m*v)/2,T=(K-y.n*v)/2;if(Z!=-1){if(Z==3)e=0;if(Z==0)T=0;if(Z==1)e=x-y.m*v;if(Z==2)T=K-y.n*v}j.translate(g[0]+e,g[1]+T);
w.CC(o,q,j,o.ej,C)}else{w.e7(o,G,g,C,1e9)}}};gJ.MG.X9=function(o,g,C,a){var x=g[2]-g[0],K=g[3]-g[1],h=Math.max(x,K),X=Math.min(x,K),w=gJ.MG,G=w.t$(o),R,d,q,m=a[0]instanceof ArrayBuffer;
if(m){R="data:image/jpg;base64,"+c4.R3(a[0]);d=a[1];q=a[2]}else{var M=Math.floor(G*a.length),Z=a[M];
o.QS=Z;R=Z.webformatURL;d=Z.webformatWidth;q=Z.webformatHeight}var Q=g[0],p=g[1],y=x,V=K;if(x/K>d/q){V=y*q/d;
p=p-(V-K)/2}else{y=V*d/q;Q=Q-(y-x)/2}if(m){C.push("<defs>");C.push("<image width=\""+d+"\" height=\""+q+"\" id=\"Background\" href=\""+R+"\" />");
C.push("</defs>");var W=y/d;C.push("<use href=\"#Background\" transform=\""+gJ.qb(new kp(W,0,0,W,Q,p))+"\" />")}else{var v="cp"+Math.random();
C.push("<clipPath id=\""+v+"\">");C.push("<path style=\"fill: "+w.lg(o.ej)+"\" d=\""+w.Rect(g[0],g[1],x,K)+"\" />");
C.push("</clipPath>");C.push("<image  clip-path=\"url(#"+v+")\" xlink:href=\""+R+"\" x=\""+Q+"\" y=\""+p+"\" width=\""+y+"\" height=\""+V+"\" />")}};
gJ.MG.gl=function(o,g,C,a,x,K,h){var X=gJ.MG;return"<text x=\""+g+"\" y=\""+C+"\" style=\"fill:"+X.lg(x)+"; font-size:"+a+"px; text-anchor:"+["start","middle","end"][K]+"; font-family:"+h[2]+";\"><tspan>"+o+"</tspan></text>"};
gJ.MG.CC=function(o,g,C,a,x){var K=gJ.MG,h=[];for(var N=0;N<g.tv.length;N++){h.push(a);if(o.axS){a=(N&1)==o.a7w?{z:1,B:1,K:1}:h[0]}}x.push("<g id=\""+g.QH.split("-")[2]+":::\" style=\"transform: "+gJ.qb(C)+";\" >");
for(var N=0;N<g.tv.length;N++){var X=g.tv[N];a=h.pop();x.push("<path style=\"fill: "+(a?K.lg(a):"#"+X[0])+"\" d=\""+Typr.U.pathToSVG({crds:X[1].w,cmds:X[1].G})+"\" />")}x.push("</g>")};
gJ.MG.axT=function(o,g,C){var a=gJ.MG,x=gJ.MG.B5,K=[];for(var N=0;N<x.length;N++){var h=x[N],X=h.QH.slice(0,4);
if(X!="1001")continue;K.push(h)}var h=K[Math.floor(a.Q_(o)*K.length)];if(a.Q_(o)<.5)a.D(h,new kp(0,1,1,0,0,0));
var w=g[3]-g[1],G=g[2]-g[0],R=a.TO(h),d=.7*Math.min(G,w,.5*Math.max(G,w))/Math.max(R.m,R.n),q=new kp;
q.scale(d,d);if(a.Q_(o)<.5){q.scale(1,-1);q.translate(0,w)}a.CC(o,h,q,o.ej,C);q.rotate(Math.PI);q.translate(G,w);
a.CC(o,h,q,o.ej,C)};gJ.MG.awv=function(o){var g=gJ.MG.B5,C=[];for(var N=0;N<g.length;N++){var a=g[N],x=a.QH.slice(0,4);
if(x=="0000"){C.push(a);continue}if(["1000","0100","0010","0001"].indexOf(x)==-1)continue;var K=x.indexOf("1");
if(a.QH[5]=="0"&&o==K&&K!=3)continue;C.push(a)}return C};gJ.MG.e7=function(o,g,C,a,x,K,h){var X=gJ.MG.B5,w=gJ.MG,G=[],y,V;
for(var N=0;N<X.length;N++){var R=X[N],d=R.QH.slice(0,4);if(["1110","1101","1011","0111"].indexOf(d)==-1)continue;
var q=d.indexOf("0")+2&3;if(R.QH[5]=="0")if(K==!0||g!=q&&!(g==1&&q==3))continue;G.push(R)}var m=h!=null?h:Math.floor(w.Q_(o)*G.length),R=G[m],R=JSON.parse(JSON.stringify(R)),d=R.QH.slice(0,4),q=d.indexOf("0")+2&3;
if(q==3&&g==1)l.D(R,new kp(1,0,0,-1,0,1e3));var M=new kp;M.translate(-500,-500);M.rotate(-q*Math.PI/2);
M.translate(500,500);w.D(R,M);var Z=C[3]-C[1],Q=C[2]-C[0],p=w.TO(R);if(p.y<0){p.n+=p.y;p.y=0}if(p.y>0){p.n+=p.y;
p.y=0}if((g&1)==0){V=Z;y=Q}else{y=Z;V=Q}var W=Math.min(Math.min(.5+.5*w.Q_(o))*Math.min(Q,Z),x)/p.n,v=Math.ceil(y/(1e3*W)),j=new kp,e=new kp;
e.scale(W,W);if(g==0||g==2){e.translate(-(Q/2),-(Z/2));e.rotate(-g*Math.PI/2);e.translate(Q/2+C[0],Z/2+C[1])}else{e.rotate(Math.PI/2);
e.scale(1,-1);e.translate(C[0],C[1]);if(g==1){e.scale(-1,1);e.translate(Q,0)}}a.push("<g id=\"Border-"+["top","right","bottom","left"][g]+":::\">");
for(var N=0;N<v;N++){var T=j.clone();T.concat(e);w.CC(o,R,T,o.ej,a);j.translate(1e3-2,0)}a.push("</g>");
return m};gJ.MG.Rect=function(o,g,C,a){return Typr.U.pathToSVG({crds:[o,g,o+C,g,o+C,g+a,o,g+a],cmds:["M","L","L","L","Z"]})};
gJ.MG.ath=function(o,g,C,a,x){var K=[o,g,o+C,g,o+C,g+a,o,g+a];o+=x;g+=x;C-=2*x;a-=2*x;K.push(o,g,o,g+a,o+C,g+a,o+C,g);
return Typr.U.pathToSVG({crds:K,cmds:"M L L L Z M L L L Z".split(" ")})};gJ.MG.alX=function(o,g){var C=l.p7(o.z,o.B,o.K);
C.EN=Math.max(.1,Math.min(.9,C.EN+g));return l.vr(C.fB,C.ZQ,C.EN)};gJ.MG.a85=function(o,g){var C=l.p7(o.z,o.B,o.K);
C.fB+=g;return l.vr(C.fB,C.ZQ,C.EN)};gJ.MG.a3Y=function(o){var g=l.p7(o.z,o.B,o.K);g.EN=1-g.EN;return l.vr(g.fB,g.ZQ,g.EN)};
gJ.MG.at4=function(o,g){var C=o.z-g.z,a=o.B-g.B,x=o.K-g.K;return Math.sqrt(C*C+a*a+x*x)};gJ.MG.agU=function(o){var g=gJ.MG;
return{z:g.Q_(o),B:g.Q_(o),K:g.Q_(o)}};gJ.MG.lg=function(o){return CSS.PH({z:o.z*255,B:o.B*255,K:o.K*255})};
gJ.MG.TO=function(o){var g=o.tv,C=new aS;for(var N=0;N<g.length;N++)C=C.ae(l.o.TO(g[N][1].w));return C};
gJ.MG.D=function(o,g){var C=o.tv;for(var N=0;N<C.length;N++)l.o.D(C[N][1].w,g,C[N][1].w)};gJ.MG.Q_=function(o){o.ab8++;
var g=o.ab8&3;if(g==0)o.JO=gJ.MG.YZ(o.JO);var C=o.JO>>>8*g&255;return C*(.99999999/255)};gJ.MG.t$=function(o){var g=gJ.MG.YZ(o.JO);
o.JO=gJ.MG.YZ(g);return g*(1/4294967295)};gJ.MG.YZ=function(o){o=(o^61^o>>>16)>>>0;o=o+(o<<3)>>>0;o=(o^o>>>4)>>>0;
o=o*668265261>>>0;o=(o^o>>>15)>>>0;return o};gJ.MG.B5=[{QH:"0001-0-bird",tv:[["4b3c34",{G:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),w:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{G:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),w:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{G:"M C C C C C C C C C C C C L Z".split(" "),w:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{QH:"0001-0-bird2",tv:[["ff7f2a",{G:"M L L L Z M L L L Z".split(" "),w:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{G:"M C C C C C C C C C C C L Z".split(" "),w:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{G:"M C C C C C C L Z M C C Z".split(" "),w:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{G:"M L L L Z M L L L Z".split(" "),w:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{G:"M L C C C C C C C C L Z".split(" "),w:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{G:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),w:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{QH:"0000-1-flower",tv:[["7a59a2",{G:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),w:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{QH:"0000-1-flower",tv:[["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),w:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{QH:"0000-1-flower",tv:[["ffac42",{G:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),w:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{QH:"0000-1-flower",tv:[["d04040",{G:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),w:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{QH:"0000-1-flower",tv:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),w:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{G:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),w:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{QH:"0000-0-hearts",tv:[["d17070",{G:"M C C C C C C C C C L Z".split(" "),w:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{G:"M C C C C C C C C C L Z".split(" "),w:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{G:"M C C C C C C C C C L Z".split(" "),w:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{QH:"0000-0-anchor",tv:[["2a3b66",{G:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),w:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{QH:"0000-1-leaf",tv:[["fbb600",{G:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),w:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{QH:"0000-1-acorn",tv:[["a05a2c",{G:"M C C C C C C C L Z".split(" "),w:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{G:"M C C C C C C C C C C C Z".split(" "),w:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{QH:"0000-0-skull",tv:[["808080",{G:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),w:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{QH:"0000-0-ghost",tv:[["e6e6e6",{G:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),w:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{G:"M C C C C Z M C C C C Z".split(" "),w:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{QH:"1001-1-rose",tv:[["9e1460",{G:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),w:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{G:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),w:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{QH:"1001-1-curls",tv:[["53a7ab",{G:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),w:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{G:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),w:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{QH:"0111-0-pines",tv:[["e9e9e9",{G:"M C C C C C C C C L L L Z".split(" "),w:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{G:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),w:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{QH:"0111-0-flowers",tv:[["8cae40",{G:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),w:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),w:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{QH:"1101-1-confetti",tv:[["e789ff",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{QH:"1101-1-branch",tv:[["7f500b",{G:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),w:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{QH:"1101-1-sticks",tv:[["ec7272",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{QH:"1101-1-dots",tv:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{G:["M","C","C","Z"],w:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{QH:"1101-1-strips",tv:[["ffc88c",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{G:["M","C","C","Z"],w:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{QH:"1101-1-circs",tv:[["ec7272",{G:"M C C C C Z M C C C C Z".split(" "),w:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{G:"M C C C C Z M C C C C Z".split(" "),w:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{G:["M","C","C","Z"],w:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{QH:"1101-1-squares",tv:[["014ea7",{G:"M L L L L Z M L L L L Z".split(" "),w:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{G:"M L L L L Z M L L L L Z".split(" "),w:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{G:["M","C","C","Z"],w:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{QH:"1101-0-christmas",tv:[["014ea7",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),w:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),w:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var aQ={};aQ.parse=function(o){var g=new Uint8Array(o),C=null;if(g[0]==80&&g[1]==75){var a=Date.now(),x=UZIP.parse(g.buffer),C=x["document.json"];
C=JSON.parse(u.SP(C,0,C.length));aQ.Zl(C,x)}else{var K=bJ.parse(o);C=aQ.wa(K[2][0][1])}return C};aQ.Zl=function(o,g){var C=typeof o;
if(C=="string"||C=="number"||C=="boolean")return o;if(o instanceof Array){for(var N=0;N<o.length;N++)o[N]=aQ.Zl(o[N],g);
return o}var a=o._class;if(a==null)return o;if(a=="MSJSONFileReference"){var x=o._ref;if(!1){}else if(g[x+".json"]!=null){var K=g[x+".json"],h=K.length;
for(var N=0;N<h;N++)if(K[N]==11||K[N]==3)K[N]=32;var X=u.SP(K,0,h);o=JSON.parse(X)}else if(g[x+".png"]!=null)return{key:x.split("/").pop(),bdata:g[x+".png"]};
else if(g[x+".jpg"]!=null)return{key:x.split("/").pop(),bdata:g[x+".jpg"]};else if(g[x+".pdf"]!=null)return{key:x.split("/").pop(),bdata:g[x+".pdf"]};
else if(g[x]!=null)return{key:x.split("/").pop(),bdata:g[x]};else{console.log(o,g);return}}else if(a=="MSAttributedString"){var X=atob(o.archivedAttributedString._archive),w=X.length-1,G=new Uint8Array(w);
for(var N=0;N<w;N++)G[N]=X.charCodeAt(N);o.archivedAttributedString=aQ.wa(G)}for(var R in o)o[R]=aQ.Zl(o[R],g);
return o};aQ.uk=function(o,g,C,a){if(o instanceof Uint8Array)return null;if(a.indexOf(o)!=-1)return null;
a.push(o);if(o==g)return C;for(var x in o){C.push(x);var K=aQ.uk(o[x],g,C,a);if(K){console.log(o,K);
throw"e"}C.pop()}};aQ.wa=function(o){var g=a$.parse(o,0),C=g.$objects,a=new Uint8Array(C.length),x=aQ.ii(C,a,g.$top.root);
for(var N=0;N<C.length;N++)if(a[N]==0&&N!=0){console.log(N,C[N]);aQ.uk(x,N,[],[])}for(var N=0;N<C.length;
N++){var K=C[N];if(K._class&&(K._class=="bitmap"||K._class=="fill"&&K.fillType==4&&(K.image||K.imageSHA))){var h=K.image,X=K.imageSHA,w=null,G=null;
if(h=="$null")h=null;if(X=="$null")X=null;if(h&&h.data){G=h.sha1["NS.bytes"];G=btoa(u.M7(G,0,G.length));
w=h.data instanceof Uint8Array?h.data:h.data["NS.bytes"]}else if(h==null&&X==null){var R=bl.qC("PNG").oe([[l.Z(4).buffer]],1,1);
w=new Uint8Array(R)}else{var d=(x.assets?x.assets.imageCollection:x.images).images;if(X)G=X instanceof Uint8Array?X:X["NS.bytes"];
else G=h.sha1["NS.bytes"];G=btoa(u.M7(G,0,G.length));var w=d[G].data;if(w["NS.bytes"])w=w["NS.bytes"]}w=new Uint8Array(w.buffer.slice(w.byteOffset,w.byteOffset+w.length));
delete K.imageSHA;K.image={key:G,bdata:w}}}return x};aQ.a2B=function(o){return o.slice(0,11)=="MSImmutable"?"MS"+o.slice(11):o};
aQ.ii=function(o,g,C){var a=o[C];if(g[C]==1){return a}g[C]=1;if(typeof a=="string")return a;if(typeof a=="number")return a;
if(typeof a=="boolean")return a;if(a instanceof Array)return a;if(a instanceof Uint8Array){return a}if(o[a.$class]==null){if(a.$class==null&&a["NS.data"]!=null)return a;
console.log(C,a);throw"e"}var x=o[a.$class],K=aQ.a2B(x.$classname);g[a.$class]=1;a.$class=K;if(aQ.Us[K]){delete a.$class;
a._class=aQ.Us[K]}var h=aQ.ii;if(K=="NSMutableArray"||K=="NSArray"){var X=[];if(a["NS.objects"]!=null)for(var N=0;
N<a["NS.objects"].length;N++)X.push(h(o,g,a["NS.objects"][N]));else for(var N=0;a["NS.object."+N]!=null;
N++)X.push(h(o,g,a["NS.object."+N]));o[C]=X;return X}if(K=="NSDictionary"||K=="NSMutableDictionary"){var w={$class:K};
if(a["NS.keys"]!=null)for(var N=0;N<a["NS.keys"].length;N++){var G=h(o,g,a["NS.keys"][N]);if(G instanceof Uint8Array)G=btoa(aQ.Az.M7(G,0,G.length));
else if(typeof G!="string"&&typeof G!="number")G=btoa(aQ.Az.M7(G["NS.bytes"],0,G["NS.bytes"].length));
w[G]=h(o,g,a["NS.objects"][N])}else for(var N=0;a["NS.key."+N]!=null;N++){var G=h(o,g,a["NS.key."+N]);
if(G instanceof Uint8Array)G=btoa(aQ.Az.M7(G,0,G.length));else if(typeof G!="string"&&typeof G!="number")G=btoa(aQ.Az.M7(G["NS.bytes"],0,G["NS.bytes"].length));
w[G]=h(o,g,a["NS.object."+N])}for(var R in a)delete a[R];for(var R in w)a[R]=w[R];return a}if(K=="NSURL")return{$class:K,base:h(o,g,a["NS.base"]),relative:h(o,g,a["NS.relative"])};
if(aQ.atk.indexOf(K)!=-1){o[C]=h(o,g,a.array_do);return o[C]}if(a.do_objectID!=null)a.do_objectID=h(o,g,a.do_objectID);
if(aQ.awx.indexOf(K)!=-1)return a;var d=aQ.ach[K];if(d==null){console.log(o,a);throw"unknown class "+K}for(var N=0;
N<d.length;N++)if(a[d[N]]!=null)a[d[N]]=h(o,g,a[d[N]]);if(K=="MSTextLayer"){var q=a,m,M,Z,Q;if(q.attributedString)m=q.attributedString.archivedAttributedString;
else m=q.storage;Q=m.NSString;if(typeof Q!="string")Q=u.SP(Q["NS.bytes"],0,Q["NS.bytes"].length);if(m.NSAttributeInfo)M=m.NSAttributeInfo["NS.bytes"];
else{var p=Q.length,y=[];while(p>0){var V=Math.min(100,p);y.push(V,0);p-=V}M=new Uint8Array(y)}Z=m.NSAttributes instanceof Array?m.NSAttributes:[m.NSAttributes];
var W={$class:"NSAttributedString",NSString:Q,NSAttributes:Z};q.attributedString={_class:"MSAttributedString",archivedAttributedString:W};
W.NSAttributeInfo={$class:"NSMutableData","NS.data":M};delete q.storage}return a};aQ.Az={eX:function(o,g){return o[g+1]<<8|o[g]},s:function(o,g){return o[g+3]<<24|o[g+2]<<16|o[g+1]<<8|o[g]},M7:function(o,g,C){var a="";
for(var N=0;N<C;N++)a+=String.fromCharCode(o[g+N]);return a}};aQ.Us={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
aQ.atk=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
aQ.awx="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
aQ.ach={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var a$={};a$.parse=function(o,g){var C=u.M7(o,g,8);g+=8;var a=a$.parse.a6C(o,o.length-31),x=[];if(a.eK==1){var g=o.length-31-a.eK*a.Ji;
for(var N=0;N<a.Ji;N++)x.push(o[g+N])}else if(a.eK==2){var g=o.length-31-a.eK*a.Ji;for(var N=0;N<a.Ji;
N++)x.push(u.eX(o,g+N*2))}else if(a.eK==4){var g=o.length-31-a.eK*a.Ji;for(var N=0;N<a.Ji;N++)x.push(u.s(o,g+N*4))}else{throw"e"}var K=a$.parse.ii(o,x,a.root,a);
return K};a$.parse.ii=function(o,g,C,a){var x=a$.Az,K=a.a4e,h=K==4?x.s:K==2?x.eX:x.asW,X=a$.parse,w=g[C],G=o[w],R=G>>4,d=G&15,m=null;
w+=1;if([4,5,6,10,12,13].indexOf(R)!=-1&&d==15){var q=X.sU(o,w);w+=q.va;d=q.k}if(!1){}else if(R==0)m=d==8?!1:d==9?!0:null;
else if(R==1)m=X.sU(o,w-1).k;else if(R==2)m=1<<d==4?u.gg(o,w):u.Wq(o,w);else if(R==3)m=u.Wq(o,w);else if(R==4)m=new Uint8Array(o.buffer,w,d);
else if(R==5)m=u.M7(o,w,d);else if(R==6)m=u.HP(o,w,d);else if(R==8){m=0;for(var N=0;N<d+1;N++)m=m<<8|o[w+N]}else if(R==10){m=[];
for(var N=0;N<d;N++)m.push(X.ii(o,g,h(o,w+K*N),a))}else if(R==12){m=[];for(var N=0;N<d;N++)m.push(X.ii(o,g,h(o,w+K*N),a))}else if(R==13){m={};
for(var N=0;N<d;N++){var M=X.ii(o,g,h(o,w+K*N),a),Z=X.ii(o,g,h(o,w+K*(d+N)),a);m[M]=Z}}else throw"unknown mask "+R;
return m};a$.parse.sU=function(o,g){var C=1<<(o[g]&15),a=0;for(var N=0;N<C;N++)a=a<<8|o[g+1+N];return{k:a,va:C+1}};
a$.parse.a6C=function(o,g){var C={};g+=6;C.eK=o[g];g++;C.a4e=o[g];g++;g+=4;C.Ji=u.s(o,g);g+=4;g+=4;C.root=u.s(o,g);
g+=4;g+=4;C.a40=u.s(o,g);g+=4;return C};a$.Az={asW:function(o,g){return o[g]},eX:function(o,g){return o[g]<<8|o[g+1]},s:function(o,g){return o[g]<<24|o[g+1]<<16|o[g+2]<<8|o[g+3]},M7:function(o,g,C){var a="";
for(var N=0;N<C;N++)a+=String.fromCharCode(o[g+N]);return a}};var bJ={parse:function(o){var g=new Uint8Array(o),C=bJ.si(g),a=[],x=new Uint8Array(g.length),K=[];
a.push(K);bJ.YW(g,C,1,x,K);for(var N=0;N<K.length;N++){var h=[];a.push(h);bJ.YW(g,C,K[N][3],x,h);K[N][3]=N+1}return a},YW:function(o,g,C,a,x){C--;
var K=C*g.Gd+(C==0?100:0),h=o[K],X=bJ.eX(o,K+1);if(X!=0)throw"free block in a page";var w=bJ.eX(o,K+3),G=bJ.eX(o,K+5);
if(G==0)G=65536;var R=o[K+7],d=bJ.eX(o,K+8);if(h==2||h==5)K+=4;else d=0;for(var q=0;q<w;q++){var m=C*g.Gd+bJ.eX(o,K+8+2*q),M=-1,Z=0,Q=0,p=0;
if(h==2||h==5){M=bJ.s(o,m);m+=4}if(h==2||h==10||h==13){Z=bJ.C9(o,m);m+=Z.va}if(h==5||h==13){Q=bJ.C9(o,m);
m+=Q.va}if(h==5){bJ.YW(o,g,M,a,x);continue}var y=g.Gd-(C==0?100:0),V=Z.jr,W=h==13?y-35:Math.floor((y-12)*64/255)-23,v=Math.floor((y-12)*32/255)-23,j=v+(V-v)%(y-4);
if(V<=W){bJ.j5(o,m,a,0,V)}else{var e=j<=W?j:v,T=0;bJ.j5(o,m,a,0,e);T+=e;p=bJ.s(o,m+e);while(p!=0){var O=(p-1)*g.Gd;
p=bJ.s(o,O);var L=Math.min(g.Gd-4,V-T);bJ.j5(o,O+4,a,T,L);T+=L}}x.push(bJ.a6q(a,V))}},a6q:function(o,g){var C=0,a=bJ.C9(o,C);
C+=a.va;var x=[],K=[];while(C<a.jr){var h=bJ.C9(o,C);C+=h.va;x.push(h.jr)}if(C!=a.jr)throw"e";for(var N=0;
N<x.length;N++){var h=x[N];if(!1){}else if(h==0)K.push(null);else if(h==1){K.push(bJ.a4G(o,C));C+=1}else if(h==2){K.push(bJ.D3(o,C));
C+=2}else if(h==3){K.push(bJ.ajh(o,C));C+=3}else if(h==4){K.push(bJ.sU(o,C));C+=4}else if(h==7){K.push(bJ.afk(o,C));
C+=16}else if(h==8)K.push(0);else if(h==9)K.push(1);else if(h>=12&&(h&1)==0){var X=h-13>>1,w=new Uint8Array(X);
bJ.j5(o,C,w,0,X);K.push(w);C+=X}else if(h>=13&&(h&1)==1){var X=h-12>>1;K.push(bJ.SP(o,C,X));C+=X}else throw"unknonw type "+h}return K},si:function(o){if(!(o[18]==1&&o[19]==1&&o[20]==0&&o[21]==64&&o[22]==32&&o[23]==32))throw"unexpected SQL3 header";
var g={Fu:bJ.M7(o,0,15),Gd:bJ.eX(o,16),a3z:bJ.s(o,24),size:bJ.s(o,28),a9P:bJ.s(o,32),afI:bJ.s(o,36),auW:bJ.s(o,40),a5h:bJ.s(o,44),a9R:bJ.s(o,48),aqn:bJ.s(o,52),a4_:bJ.s(o,56),afD:bJ.s(o,60),ati:bJ.s(o,64)!=0,awh:bJ.s(o,68),a3W:bJ.s(o,92),a2X:bJ.s(o,96)};
if(g.Gd==1)g.Gd=65536;if(g.a4_!=1)throw"unsupported text encoding "+g.a4_;return g},avA:function(o,g){return o[g]<<16|o[g+1]<<8|o[g+2]},ajh:function(o,g){var C=bJ.avA(o,g),a=C&8388608;
return a?-(16777215-C+1):C},a4G:function(o,g){bJ.ml[0]=o[g];return bJ.ak4[0]},sU:function(o,g){var C=bJ.ml;
for(var N=0;N<4;N++)C[N]=o[g+3-N];return bJ.arC[0]},D3:function(o,g){var C=bJ.ml;C[0]=o[g+1];C[1]=o[g];
return bJ.ac$[0]},eX:function(o,g){return o[g]<<8|o[g+1]},s:function(o,g){return o[g]<<24|o[g+1]<<16|o[g+2]<<8|o[g+3]},afk:function(o,g){var C=bJ.ml;
for(var N=0;N<8;N++)C[N]=o[g+7-N];return bJ.aq8[0]},C9:function(o,g){var C=g,ee=0;while(!0){var a=o[g];
g++;ee=ee*128+(a&127);if(a<128)break}return{jr:ee,va:g-C}},M7:function(o,g,C){var a="";for(var N=0;N<C;
N++)a+=String.fromCharCode(o[g+N]);return a},SP:function(o,g,C){var a="";for(var N=0;N<C;N++)a+="%"+bJ.akD(o[g+N].toString(16));
return decodeURIComponent(a)},j5:function(o,g,C,a,x){if(o[g+x-1]==null||C[a+x-1]==null){console.log(g,a,x);
throw"e"}for(var N=0;N<x;N++)C[a+N]=o[g+N]},akD:function(ee){return ee.length<2?"0"+ee:ee}};bJ.ml=new Uint8Array(8);
bJ.ak4=new Int8Array(bJ.ml.buffer);bJ.ac$=new Int16Array(bJ.ml.buffer);bJ.arC=new Int32Array(bJ.ml.buffer);
bJ.aq8=new Float64Array(bJ.ml.buffer);function hv(o,g,C){this.Dn=o;this.M$=g;this.a3G=C;this.vu=new eN(0,0);
this.IO=-1;this.yk=0;this.yW=0;this.x_=new aS;this.oJ=[];this.Mm=null;this.a8n=null;this.v_=null;this.US=null;
this.g_=null;this.a7s=null}hv.prototype.StartPage=function(o,g,C,a,x){var K=this.M$,h=K.Bo(),X=1,w=(C-o)*(a-g);
if(x!=null)w=x;while(w*h*h/(X*X)>2*8192*8192)X++;K.scale(1/X,1/X);this.a8n=[o,g,C,a];var X=K.Bo();o=Math.round(o*X);
g=Math.round(g*X);C=Math.round(C*X);a=Math.round(a*X);var G=this.Dn,R=this.v_;if(R==null){K.NO=-o}else{var d=R[2]-R[0]+30,q=Math.round(C-o)+30;
if(this.vu.x+d+q>8192){K.NO=-o;this.vu.x=0;this.vu.y+=this.yW+120;this.yW=0}else{K.NO+=d;this.vu.x+=d}}K.Mx=this.vu.y+(this.a3G?a:-g);
this.yW=Math.max(this.yW,Math.round(a-g));this.v_=[o,g,C,a];G.g.push(G.kF())};hv.prototype.Nq=function(){var o=this.Dn,g=o.g[o.g.length-1];
return g};hv.prototype.vO=function(){var o=JSON.parse(JSON.stringify(hf.ly.default));o.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
o.strokeEnabled.v=!1;o.fillEnabled.v=!1;return o};hv.prototype.Ab=function(){var o=this.Dn,g=o.HL();
g.XH("Path "+o.g.length);this.Dn.g.push(g);g.qX|=16;g.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.T.CT({z:0,B:0,K:0})}};
g.add.vmsk=new A.A3;g.add.vstk=this.vO();return g};hv.prototype.oQ=function(o){var g={w:o.crds,G:o.cmds},C=l.o.RS(g,!1);
l.M.Jg(C,this.M$);return C};hv.abr=function(o,g){for(var N=0;N<o.length;N++)if(o[N].j4!=null)o[N].j4=g};
hv.a5r=function(o){return Math.sqrt(Math.abs(o[0]*o[3]-o[1]*o[2]))};hv.uH=function(o){return l.T.CT({z:o[0]*255,B:o[1]*255,K:o[2]*255})};
hv.vL=function(o){return new kp(o[0],o[1],o[2],o[3],o[4],o[5])};hv.prototype.Stroke=function(o){if(this.IO!=-1&&this.IO!=this.yk)return;
if(o.pth.cmds.length<=1)return;var g=this.oQ(o.pth);if(g.length<=2)return;this.FV(o);hv.abr(g,-1);g[2].j4=1;
var C=hv.uH(o.COLR),a=this.Nq(),x=this.vO();hv.hz(x,o,this.M$.Bo(),C);var K=a!=null&&a.add.vmsk!=null&&!a.sP(),h=K&&!a.add.vstk.strokeEnabled.v&&A.A3.af4(a.add.vmsk.i,g,!0),X=K&&!a.add.vstk.fillEnabled.v&&JSON.stringify(x)==JSON.stringify(a.add.vstk);
if(X){a.add.vmsk.i=a.add.vmsk.i.concat(g.slice(2))}else if(h){a.add.vstk=x;x.fillEnabled.v=!0}else{a=this.Ab();
a.add.vmsk.i=g;a.add.vstk=x}};hv.hz=function(o,g,C,a){o.strokeEnabled.v=!0;o.strokeStyleMiterLimit.v=g.mlimit;
o.strokeStyleLineDashSet.v=bd.Av(g.dash,1/g.lwidth);o.strokeStyleLineDashOffset.v.val=g.doff;o.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hf.ly.join[g.ljoin];
o.strokeStyleLineCapType.v.strokeStyleLineCapType=hf.ly.sj[g.lcap];o.strokeStyleLineWidth.v.val=Math.max(.4,g.lwidth*hv.a5r(g.ctm)*C);
o.strokeStyleContent.v.Clr.v=a};hv.prototype.Fill=function(o,g){if(this.IO!=-1&&this.IO!=this.yk)return;
if(o.ca==0)return;var C=o.pth.cmds;if(C.length==0)return;if(C.length==2&&JSON.stringify(C)=="[\"M\",\"L\"]")return;
var a=l.o.TO(o.pth.crds),x=l.o.TO(o.cpth.crds);if(a.Kw(x).to())return;var K=o.pth,h=UDOC.G.isBox(K,[a.x,a.y,a.x+a.m,a.y+a.n]),X=o.cpth,w=UDOC.G.isBox(X,[x.x,x.y,x.x+x.m,x.y+x.n]);
if(h&&w&&a.$()>x.$()*2){var G=a.Kw(x),R=G.x,d=G.y,q=R+G.m,m=d+G.n;K={cmds:["M","L","L","L","Z"],crds:[R,d,q,d,q,m,R,m]};
a=G}else if(this.US==null&&UDOC.G.isBox(K,[a.x,a.y,a.x+a.m,a.y+a.n])&&a.Xq(x)){K=X;a=x}else this.FV(o);
var M=this.oQ(K),Z=l.o.IW(a);l.o.D(Z.w,this.M$,Z.w);a=l.o.TO(Z.w);var Q=hv.OR(o.colr,this.M$,a),p=this.Nq(),y=p!=null&&p.opacity==Math.round(255*o.ca)&&p.add.vstk!=null&&!p.add.vstk.strokeEnabled.v&&p.add.SoCo&&Q.type=="SoFi"&&JSON.stringify(p.add.SoCo.Clr.v)==JSON.stringify(Q.k.v.Clr.v);
if(y){var V=!1;for(var N=0;N<M.length;N++){if(M[N].j4==0||M[N].j4==2)V=!0}if(V){var W=l.o.TO(l.M.XI(p.add.vmsk.i)),v=l.o.TO(l.M.XI(M));
y=W.Kw(v).to()}}if(y){var j=p.add.vmsk.i;for(var N=2;N<M.length;N++)j.push(M[N])}else{p=this.Ab();delete p.add.SoCo;
p.add.vmsk.i=A.A3.FL(M);hv.b9(o.colr,p,this.M$,a);hv.bO(o,p)}};hv.b9=function(o,g,C,a){var x=hv.OR(o,C,a),K=null,h=null;
g.add.vstk.fillEnabled.v=!0;if(x.type=="SoFi"){K="SoCo";h=hf.nD}if(x.type=="GrFl"){K="GdFl";h=hf.mK}if(x.type=="patternFill"){K="PtFl";
h=hf.ti}if(K!=null){g.add[K]={classID:"null"};for(var N=0;N<h.length;N++){var X=h[N];g.add[K][X]=x.k.v[X]}}};
hv.prototype.FV=function(o){var g=this.Dn,C=o.cpth,a=C.cmds.join(""),x=C.crds,K=a+" "+x.join(","),h=UDOC.G.isBox(C,this.a8n);
if(h&&this.US==null)return;if(K==this.US)return;this.cA();if(!h){this.US=K;g.g.push(g.kF());var X=g.HL();
X.XH("Mask");X.add.lsct=kj.vz;X.WN="pass";X.qX=24;var w=X.add.vmsk=new A.A3;w.i=this.oQ(o.cpth);if(UDOC.G.isBox(C)){this.g_=l.M.se(w.i);
this.g_.Uj(3,3)}else this.g_=null;this.a7s=X}};hv.prototype.cA=function(){var o=this.Dn;if(this.US!=null){var g=o.g.length-1,N=g,C=!1;
while(N>=0&&o.g[N].add.lsct!=kj.bH)N--;var a=this.g_;if(a){var x=new aS,K=g;while(K>N){x=o.g[K].y1(this.Dn,!1,!0);
K--}C=a.Xq(x)}if(C){this.oJ.splice(N,1);o.g.splice(N,1)}else{o.g.push(this.a7s)}this.US=null}};hv.OR=function(o,g,C){var a,x;
if(o.length!=null){a="SoFi";var K=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]);x={t:"Objc",v:K};x.v.Clr.v=hv.uH(o)}else{var h=hv.aqK(o,g,C);
a="GrFl";x={t:"Objc",v:h}}return{type:a,k:x}};hv.aqK=function(o,g,C){var a=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]),x=a.Grad.v;
x.Intr.v=0;var K=hv.vL(o.mat);K.concat(g);var h=new eN(0,0),X=new eN(C.m,0),w=o.crds;if(o.typ=="rad"){a.Type.v.GrdT="Rdl";
var G=.7;h.x=(1-G)*w[0]+G*w[3];h.y=(1-G)*w[1]+G*w[4];X.x=h.x;X.y=h.y;X.x+=Math.max(w[2],w[5])}else{a.Type.v.GrdT="Lnr";
h.x=w[0];h.y=w[1];X.x=w[2];X.y=w[3];h.x=X.x+.5*(h.x-X.x);h.y=X.y+.5*(h.y-X.y)}h=K.nx(h);X=K.nx(X);l.T.Q2(h,X,C,a);
var R=o.grad;l.T.yq(R,x);return a};hv.prototype.PutText=function(o,g,C,a){var x=g.charCodeAt(0),q=null;
if(this.IO!=-1&&this.IO!=this.yk)return;if(g.length==0||g.length==1&&(x==0||x==8203))return;this.FV(o);
var K=this.Dn,h=o.font,X=hv.vL(o.ctm);X.concat(this.M$);var w=hv.vL(h.Tm);w.concat(X);var G=c.V.Bo(w),R=new kp(1/G,0,0,-1/G,0,0);
R.concat(w);var d=h.Tfs*G,m=K.g.length-1;while(m>=0&&K.g[m].add.TySh==null)m--;if(R.K*R.K+R.U9*R.U9<.001&&a==null&&m>=0&&K.g[m].add.TySh&&K.g[m].opacity==Math.round(255*o.ca)){var M=K.g[m],Z=this.oJ[m],Q=M.add.TySh.D,p=(Q.NO+Z.y_-R.NO)/d,y=Math.abs(p),V=g.indexOf(" ")==-1,W=Q.Bk==R.Bk&&Q.K==R.K&&Q.U9==R.U9&&Q.rX==R.rX,v=W&&Math.abs(Z.q_-R.Mx)<1e-5&&y<.6,j=R.Mx-Z.q_;
if(v){q=M;Z.y_=R.NO-Q.NO;if(p>.2&&V&&[".",",","?",":","!"].indexOf(g)==-1)g=" "+g}else if(W&&Math.abs(R.NO-Q.NO)<1e-5&&0<j&&j<d*1.7&&Z.afv==d){q=M;
this.Wl(Z);Z.q_=R.Mx;g="\n"+g}}if(q==null){m=K.g.length;this.oJ[m]={EO:[],y_:0,q_:R.Mx,AR:"",afv:d};
q=K.HL();K.g.push(q);q.add.lnsr="rend";q.add.TySh=bv.hT(0,0);q.add.TySh.D=R}var Z=this.oJ[m];Z.y_+=C*d;
Z.AR+=g;var e=q.add.TySh.cp,T=bv.cR(e);if(a){bv.lr(e,1);var O=[0,0,Math.ceil(a[0]*G),Math.ceil(a[1]*G)];
bv.yy(e,O)}var L=T.length-1,S=L+g.length;bv.l6(e,L,g);if(this.Mm==null)this.Mm=bv.SX(e,L,L);var $=this.Mm;
$.Fn.FontSize=Math.round(d);$.Fn.Tracking=Math.round(h.Tc*100);$.Fn.Underline=h.Tun==1;$.Fn.FillColor={Type:1,Values:[1,o.colr[0],o.colr[1],o.colr[2]]};
if(h.Tal!=null)$.Yt.Justification=h.Tal;if(Z.EO.length!=0){$.Fn.AutoLeading=!1;$.Fn.Leading=Z.q_-Z.EO[Z.EO.length-1].y}var H=h.Tf;
H=H.replace(/#2B/g,"+");H=H.replace(/#2C/g,"-");H=H.split("+").pop();var f={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(f[H])H=f[H];bv.s2($,H);bv.dG(e,L,S-1,$);q.b7();q.opacity=Math.round(255*o.ca)};hv.prototype.Wl=function(o){o.EO.push({MI:o.y_,Nc:o.AR.slice(o.EO.length==0?0:1)+"\n",y:o.q_,ZQ:o.afv});
o.y_=0;o.AR=""};hv.prototype.FX=function(o,g,C){return new Uint8Array(bl.qC("PNG").oe([[o.buffer,0]],g,C))};
hv.prototype.PutImage=function(o,g,C,a,x,K,h){if(this.IO!=-1&&this.IO!=this.yk)return;var X=this.Dn,w=o.font.Tmode;
if(w==7&&X.g[X.g.length-1].add.TySh){return}this.FV(o);var G=hv.vL(o.ctm);G.concat(this.M$);var R=new kp(1/C,0,0,-1/a,0,1);
R.concat(G);G=R;g=hv.I3(g,C,a,K,!1);if(x)x=hv.I3(x,C,a,h,!0);if(x==null){if(g.length==C*a*4)g=this.FX(g,C,a)}else{g=this.ST(g,C,a,K,!1);
x=this.ST(x,C,a,h,!0);var d=l.Z(C*a);l.eP(x,d,0);l.Oa(d,g,3);g=this.FX(g,C,a)}var q=X.Lz(g,"Bitmap",0,0),m=q.rect.clone();
m.x=m.y=0;var M=l.o.IW(m).w;l.o.D(M,G,M);q.add.SoLd.Trnf=c.V.SS(M);q.add.SoLd.nonAffineTransform=c.V.SS(M);
q.R9(X,!1);hv.bO(o,q);X.g.push(q)};hv.bO=function(o,g){g.opacity=Math.round(255*o.ca);var C=hv.nA[o.bmode];
if(C==null)console.log("Unknown blend mode",C);else g.WN=C};hv.nA={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
hv.rc=function(o){for(var g in hv.nA)if(hv.nA[g]==o)return g};hv.I3=function(o,g,C,a,x){var K=bl.tt(o.buffer);
if(K=="jpg"){try{o=new Uint8Array(bl.qC("JPG").avp(o.buffer))}catch(fF){o=new Uint8Array(g*C*4)}}else if(K=="jb2"){o=new Uint8Array(bl.qC("JPG").gd(o.buffer,a,x)[0].data)}else if(o.length!=g*C*4){var h=new Uint8Array(g*C*4),X=Math.ceil(g/8),w=new Uint8Array(C*X);
UTIF.decode._decodeG4(o,0,o.length,w,0,g,1);var G=w[0]==(x?255:0);for(var R=0;R<C;R++){var d=X*R;for(var q=0;
q<g;q++){var N=R*g+q,m=N*4,M=(w[d+(q>>3)]>>7-(q&7)&1)*255;if(G)M=255-M;h[m]=M;h[m+1]=M;h[m+2]=M;h[m+3]=255}}o=h}return o};
hv.prototype.ST=function(o,g,C,a,x){if(o.length!=g*C*4){var K=bl.tt(o.buffer);if(K=="jb2")throw"e";var h=bl.qC(K);
if(h==null||K=="tga")h=bl.qC("jpg");o=new Uint8Array(h.gd(o,a,x)[0].data)}return o};hv.prototype.ShowPage=function(){var o=this.Dn;
this.yk++;var g=this.v_;this.cA();var C=o.HL();o.g.push(C);var a=new aS(Math.round(this.vu.x),Math.round(this.vu.y),Math.round(g[2]-g[0]),Math.round(g[3]-g[1]));
if(a.to())a.m=a.n=2e3;this.x_=this.x_.ae(a);C.xJ(a);C.add.artb.artboardBackgroundType.v=1;C.XH("Page "+this.yk);
C.add.lsct=kj.vz;C.WN="pass";C.qX=24};hv.prototype.Print=function(o){console.log("Print:",o)};hv.prototype.Done=function(){var o=this.Dn;
if(this.yk==1)o.g[o.g.length-1].add.lsct=kj.ah;o.dU(this.yk);for(var N=0;N<o.g.length;N++){var g=o.g[N],C=g.add.vmsk,a=g.add.TySh,x=this.oJ[N];
g.fb();if(C){var K=!1;for(var h=0;h<C.i.length;h++){var X=C.i[h];if((X.type==0||X.type==3)&&X.length>32767)K=!0}if(K){o.g.splice(N,1);
N--;continue}}g.Rw(o);if(a&&x.EO.length!=0){this.Wl(x);var w=a.cp,G=x.EO.length,R=x.EO[0],d=0,q=0;for(var h=0;
h<G;h++)d=Math.max(d,x.EO[h].MI);bv.lr(w,1);a.D.Mx-=R.ZQ*.7;bv.yy(w,[0,0,Math.ceil(d*1.1),Math.ceil(x.EO[G-1].y-R.y+R.ZQ*2)])}if(a){var w=a.cp;
bv.a25(w);var m=bv.cR(w).split("\n");for(var h=0;h<m.length-1;h++){var M=m[h],Z=0;for(var Q=0;Q<M.length;
Q++){var p=M.charCodeAt(Q);if(1473<=p&&p<=1524)Z++}if(Z>M.length/2){m[h]=M.split("").reverse().join("");
var y=w.EngineDict.ParagraphRun.RunArray[h].ParagraphSheet.Properties;y._Direction=1;y.Justification=bv.bw(y)}}bv.Iz(w,m.join("\n"))}}o.UG=!0;
o.m=this.x_.m;o.n=this.x_.n;o.buffer=l.Z(this.x_.$()*4)};var cl={};cl._O=function(o,g,C,a,x,K){if(x==null)x=o.m;
if(K==null)K=o.n;var h=!1,X=[o.root],w=o.root.children;if(o.add.artd){h=!0;for(var N=0;N<w.length;N++)if(w[N].l.add.artb==null)h=!1;
if(h)X=w}var G=new aS(0,0,o.m,o.n),R=g[0];R=R.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
R=R.split(" ");var d=[];for(var N=0;N<R.length;N++){var q=R[N];if(q=="-"){var m=d.pop(),M=parseInt(R[N+1]);
while(m<M){d.push(m);m++}}else d.push(parseInt(q))}R=d;for(var N=0;N<R.length;N++)if(isNaN(R[N])||R[N]<1||R[N]>X.length){R.splice(N,1);
N--}var Z=x/o.m,Q=K/o.n,p=Z*72/o.zC,y=Q*72/o.zC,V=g[5];if(V==null)V=0;var W=72*V,v=72*V;for(var j=0;
j<X.length;j++){var N=j;if(g[2])N=X.length-1-j;if(R.length!=0&&R.indexOf(N+1)==-1)continue;var e=X[N],T=h?e.l.zz():G;
if(!e.l.aL())continue;var O=Math.round(T.m*p+2*W),L=Math.round(T.n*y+2*v);C.StartPage(0,0,O,L);var S=UDOC.getState([[0,0,O,L]]),$=new kp;
$.translate(-T.x,-T.y-T.n);$.scale(p,-y);$.translate(W,v);if(h){var H=e.l.add.artb,f=H.artboardBackgroundType.v;
if(f!=1&&f!=3){var F=e.l.Zx(),U=W,r=v,E=U+T.m,k=r+T.n;S.colr=[(F>>>0&255)/255,(F>>>8&255)/255,(F>>>16&255)/255];
S.pth={cmds:["M","L","L","L","Z"],crds:[U,r,E,r,E,k,U,k]};C.Fill(S)}}if(g[3]){var P=o.cf();if(!G.$s(T)){P=l.Z(T.$()*4);
l.HT(o.cf(),G,P,T)}if(g[1]!=100){var z=bl.qC("JPG").oe([[P.buffer]],T.m,T.n,[g[1]]);P=new Uint8Array(z)}var s=new kp;
s.translate(T.x,T.y);cl.bn(S,C,P,T,s,$)}else{cl.j$(o,e,S,C,$,g,a);if(W!=0){var U=W,r=v,E=U+T.m,k=r+T.n,Y=E+W,t=k+W;
S.ca=1;S.colr=[1,1,1];S.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,t,Y,t,Y,0,U,r,E,r,E,k,U,k]};
C.Fill(S)}}C.ShowPage()}C.Done()};cl.cC=function(o){o=l.T.Xh(o);return[o.z/255,o.B/255,o.K/255]};cl.j$=function(o,g,C,a,x,K,h){var X=g.l,w=X.add.lsct,G=X.add.lmfx,R=X.add.vmsk,d=X.add.vstk,q=X.add.TySh,Q,p;
if(!X.aL())return;var m=X.opacity/255,M=X.add.iOpa!=null?X.add.iOpa/255:1;C.bmode=hv.rc(X.WN);C.ca=C.CA=m*M;
var Z=G;if(Z)Z=Z.solidFillMulti.v[0];if(Z)Z=Z.v;if(Z&&!Z.enab.v)Z=null;var y=X.rect;if(X.AY()&&(!X.sP()||X.ND&&X.ND.ua)){if(X.sP){Q=X.ND.ua;
y=X.ND.abw}else{Q=l.Z(X.rect.$());l.eP(X.buffer,Q,3)}p=bd.O4(G,X.add.fxrp,Q,y,o,y).type;var V=["DrSh","OrGl"];
if(M!=1||d&&!d.fillEnabled.v){var W=Q.slice(0);l.rq(W);for(var N=0;N<V.length;N++){var v=p[V[N]];for(var j=0;
j<v.length;j++){var e=v[j],T=e.Bc.clone();T.x+=y.x;T.y+=y.y;l.Mz(W,y,e.ab,T)}}}}if(p)cl.ux(X,Q,y,p,C,a,x,K,!0);
if(X.sP()){for(var N=0;N<g.children.length;N++)cl.j$(o,g.children[N],C,a,x,K,h)}else if(R&&X.eU()&&X.add.PtFl==null){var O=R.i,L=l.M.se(O),S=!1;
if(d.fillEnabled.v){var $=bd.LD(G,X.add),H=$[0],f=$[1];C.colr=cl.ju(H?H:f,x,L);S=!0}var F=bd.eL(G);if(!d.strokeEnabled.v&&F)d=F;
var U=l.o.xC(O,d.strokeEnabled.v),r=U.dH;l.o.D(r.w,x,r.w);C.pth={cmds:r.G,crds:r.w};cl.hG(a,C,S,d,x,L,U.PX!=0)}else if(q&&K[4]){var E=q.cp,k=new bM(E,h),r=d2.c6(k,q),P=l.o.Ui(r),z=bd.eL(G);
for(var s in P){var Y=parseInt(s.slice(1,7),16),t=0;C.colr=Z?cl.cC(Z.Clr.v):cl.gS(Y);var n=P[s];l.o.D(n.w,x,n.w);
n=l.o.al3(n);C.pth={cmds:n.G,crds:n.w};var d=z;if(s.length>7){d=JSON.parse(JSON.stringify(hf.ly.default));
var J=s.slice(7).split("-"),Y=parseInt(J[1].slice(1),16),I=cl.gS(Y);d.strokeEnabled.v=!0;d.strokeStyleLineWidth.v.val=parseFloat(J[2]);
d.strokeStyleContent.v.Clr.v=Z?Z.Clr.v:l.T.CT({z:I[0]*255,B:I[1]*255,K:I[2]*255});d.strokeStyleMiterLimit.v=parseFloat(J[2])}cl.hG(a,C,!0,d,x,null,!1)}}else if(q){var E=JSON.parse(JSON.stringify(q.cp));
bv.a25(E);var fp=q.D.clone(),cH=new kp(1,0,0,-1,0,0);cH.concat(fp);cH.concat(x);var b=bv.cR(E),k=new bM(E,h);
for(var N=0;N<k.Yt.length;N++){var jL=k.Yt[N];if(jL.pt.length==1&&jL.pt[0].xz)continue;for(var j=0;j<jL.T$.length;
j++){var aq=jL.T$[j],cJ=jL.ep.y+aq.ep.y,aB=jL.pt[aq.start].start,au=jL.pt[aq.end-1].end,ea=bv.atD(E,aB,au);
for(var ax=0;ax<ea.length;ax++){var f1=k.TW(aB),fk=ea[ax],hF=bv.SX(E,aB,aB),fm=hF.pv[hF.Fn.Font].Name;
C.font.Tf=fm;var s=bv.Xh(hF.Fn.FillColor);C.colr=Z?cl.cC(Z.Clr.v):[s.z/255,s.B/255,s.K/255];var jE=C.font.Tfs=Math.round(hF.Fn.FontSize),ff=b.slice(aB,aB+fk);
if(hF.Fn.FontCaps==2)ff=ff.toUpperCase();var d5=new kp;d5.translate(f1.Cn.x,-cJ);d5.concat(cH);C.ctm=[d5.Bk,d5.K,d5.U9,d5.rX,d5.NO,d5.Mx];
a.PutText(C,ff,0);for(var eF=0;eF<2;eF++){var gI=hF.Fn[eF==0?"Strikethrough":"Underline"];if(!gI)continue;
var fE=k.TW(aB+fk-1),js=eF==0?.27:-.2,d8=jE*js,bt=jE*(js+.07),t=fE.Cn.x+fE.Cn.m-f1.Cn.x,io=[0,d8,t,d8,t,bt,0,bt];
l.o.D(io,d5,io);C.pth={cmds:["M","L","L","L","Z"],crds:io};a.Fill(C)}C.ctm=[1,0,0,1,0,0];aB+=fk}}}}else if(!X.rect.to()){var ha,dp,gS=!1,aP=new kp,gD=X.add.SoLd,fA=!0;
if(gD)fA=l.S.Y5(c.V.aq(gD.Trnf));if(gD&&fA){var jH=gD.Idnt.v,aM=o.fs(jH,gD.Crop?gD.Crop.v:null),fT="";
if(aM==null)return;var jc=aM.zm,j1=bl.tt(aM.raw.buffer);if(K[6].indexOf(j1)!=-1){ha=aM.raw;gS=!0}else ha=jc[0];
dp=jc[1];aP=l.S.Ek(gD)}else{ha=X.buffer;dp=X.rect;aP.translate(dp.x,dp.y)}if(Z&&!gS)ha=bd.apG(ha,Z,dp);
cl.bn(C,a,ha,dp,aP,x);if(Z&&gS){var io=[0,0,dp.m,0,dp.m,dp.n,0,dp.n];l.o.D(io,aP,io);l.o.D(io,x,io);
var hy=JSON.parse(JSON.stringify(C));hy.ca=Z.Opct.v.val/100;hy.pth={cmds:["M","L","L","L","Z"],crds:io};
hy.colr=cl.cC(Z.Clr.v);a.Fill(hy)}}if(p)cl.ux(X,Q,y,p,C,a,x,K,!1)};cl.hG=function(o,g,C,a,x,K,h){var X=!1,w=0,G=0;
if(a&&a.strokeEnabled.v){var R=a.strokeStyleContent.v,d=a.strokeStyleLineDashSet.v;w=hf.ly.sx.indexOf(a.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
g.COLR=cl.ju(R,x,K);G=a.strokeStyleLineWidth.v.val*x.Bo();g.mlimit=a.strokeStyleMiterLimit.v;g.doff=a.strokeStyleLineDashOffset.v.val;
g.ljoin=hf.ly.join.indexOf(a.strokeStyleLineJoinType.v.strokeStyleLineJoinType);g.lcap=hf.ly.sj.indexOf(a.strokeStyleLineCapType.v.strokeStyleLineCapType);
g.dash=[];for(var N=0;N<d.length;N++)g.dash.push(d[N].v.val*g.lwidth);if(g.dash.length==1&&g.dash[0]==0)g.dash=[];
X=!0}var q=w==2;if(C&&!q)o.Fill(g,h);if(X){g.lwidth=G*(w==2?2:1);o.Stroke(g)}if(C&&q)o.Fill(g,h)};cl.gS=function(o){return[(o>>>16&255)/255,(o>>>8&255)/255,(o&255)/255]};
cl.ju=function(o,g,C){if(o.Clr)return cl.cC(o.Clr.v);var a=o,x=a.Rvrs?a.Rvrs.v:!1,K=a.Type.v.GrdT,h=[],X,w=K=="Rdl"||K=="Dmnd"?"rad":"lin",G=l.T.kQ(a,C),R=g.nx(G[0]),d=g.nx(G[1]);
if(w=="rad")X=[R.x,R.y,0,R.x,R.y,eN.ig(R,d)];else{R.fR(d.x+(R.x-d.x)*2,d.y+(R.y-d.y)*2);X=[R.x,R.y,d.x,d.y]}var q=a.Grad.v.Clrs.v;
for(var N=0;N<q.length;N++){var m=q[N].v,M=m.Lctn.v/4096;h.push([x?1-M:M,cl.cC(m.Clr.v)])}if(x)h.reverse();
return{typ:w,mat:[1,0,0,1,0,0],grad:h,crds:X}};cl.ux=function(o,g,C,a,x,K,h,X,w){var G=C.clone(),R=g;
if(o.add.TySh&&!X[3]&&!X[4])return;var d=x.ca,q=x.bmode;for(var N=hf.order.length-1;N>=0;N--){var m=hf.order[N];
if(m=="GrFl"||m=="SoFi")continue;if((o.add.vmsk||o.add.TySh)&&m=="FrFX")continue;var M=a[m],Z=N>7||m=="FrFX";
if(Z!=w)continue;for(var Q=0;Q<M.length;Q++){var p=M[Q];if(p.Bc==null)p=p.qJ?p.qJ:p.Za;var y=p.Bc.clone();
y.offset(G.x,G.y);if(!Z){if(!G.Xq(y)){var V=G.ae(y),W=l.Z(V.$());l.MD(R,G,W,V);R=W;G=V}l.Mz(R,G,p.ab,y)}if(Z&&m=="FrFX"&&p.TZ)l.Mz(p.TZ,y,p.ab,y);
var v=new kp;v.translate(y.x,y.y);x.ca=p._V;x.bmode=hv.rc(p.O6);cl.bn(x,K,p.ab,y,v,h)}}x.ca=d;x.bmode=q};
cl.bn=function(o,g,C,a,x,K){var h=new kp;h.scale(a.m,-a.n);h.translate(0,a.n);h.concat(x);h.concat(K);
o.ctm=[h.Bk,h.K,h.U9,h.rX,h.NO,h.Mx];g.PutImage(o,C,a.m,a.n);o.ctm=[1,0,0,1,0,0]};var er={};er.kR=function(o){var g=new Uint8Array(o);
return er.b1(g,0)};er.b1=function(o,g){var C=u.s,a=u.M7,x={f8:a(o,g,4),v:g+8,size:C(o,g+4)},K=x.f8=="FORM"||x.f8=="LIST"||x.f8=="CAT ";
if(K)x.iJ=a(o,g+8,4);if(x.size<0||x.v+x.size>o.length)throw"e";if(K){x.sub=[];g+=12;var h=x.v+x.size;
while(g<h){var X=er.b1(o,g);x.sub.push(X);g+=8+X.size+(X.size&1)}}return x};var hx={};hx.kR=function(o,g){var C=new Uint8Array(o);
return hx.b1(C,0,g)};hx.b1=function(o,g,C){var a=u.KI,x=u.M7,K={f8:x(o,g,4),v:g+8,size:a(o,g+4)};if(C&&C[K.size]!=null)K.size=C[K.size];
if(K.f8=="RIFF"||K.f8=="LIST"){K.iJ=x(o,g+8,4)}if(K.size<0||K.v+K.size>o.length)throw"e";if(K.f8=="RIFF"||K.f8=="LIST"&&(K.iJ!="cmpr"&&K.iJ!="stlt")){K.sub=[];
g+=12;var h=K.v+K.size;while(g<h){var X=hx.b1(o,g,C);K.sub.push(X);g+=8+X.size+(X.size&1)}}return K};
function bw(){}bw.kR=function(o,g){var C=new Uint8Array(o);g.UG=!0;var a=u.M7(C,0,2);if(a=="WL"){alert("Unsupported CDR version")}else{var x=bw.BW,K=hx.kR(C.buffer),h={data:C,v:0,Ex:bw.anu(C[11])},X,w,M=300;
h.Dt=h.Ex<600?16:32;bw.yp(h,K.sub,g,0);if(x(K,"cmpr")==null){X=x(K,"page");w=X}else{var G=x(K,"cmpr").sub;
X=G[0];w=G.slice(1)[1];var R=x(X,"filt").sub,d=x(X,"otlt").sub;X.kO={};for(var N=0;N<R.length;N++)X.kO[R[N].sub[0].k.id]=R[N].sub[0].k;
X.$l={};for(var N=0;N<d.length;N++)X.$l[d[N].k.id]=d[N].k}var q=x(X,"mcfg").k,m=q.axa;M/=e3.tG(new aS(0,0,Math.round(m.x*M),Math.round(m.y*M)),8192*8192);
var Z=Math.round(m.x*M),Q=Math.round(m.y*M);g.m=Z;g.n=Q;g.buffer=l.Z(g.m*g.n*4);var p=new kp(M,0,0,-M,m.x*M/2,m.y*M/2);
bw.jA(w,X,g,p);g.dU(1);g.g[g.g.length-1].xJ(new aS(0,0,Z,Q))}};bw.BW=function(o,g){var C=null;if(o.sub==null)return C;
for(var N=0;N<o.sub.length;N++){var a=o.sub[N];if(a.f8==g||a.iJ==g)C=a}return C};bw.jA=function(o,g,C,a){var x=bw.BW,K=o.iJ?o.iJ:o.f8,h=x(o,"lgob"),X=x(o,"txsm"),w,G;
if(h){w=x(h,"trfl");G=x(h,"loda")}else if(x(o,"lobj"))G=x(o,"lobj");var R=w?w.sub[0].t_.clone():new kp;
R.concat(a);var d=C.HL();if(K=="page"||K=="layr"||K=="grp "){d.XH((K=="page"?"Page":"Group")+" "+C.g.length);
d.add.lsct=kj.ah;d.WN="pass";d.qX=24;var q=[];if(K=="page")q=x(o,"gobj").sub;if(K=="layr")q=o.sub.slice(2);
if(K=="grp ")q=o.sub.slice(4);if(q.length==0)return;C.g.push(C.kF());for(var N=q.length-1;N>=0;N--)bw.jA(q[N],g,C,a)}else if(K=="obj "&&G.k&&G.k.path){d.XH("Object "+C.g.length);
var m,M;if(g.kO){m=g.kO[G.k.ax7];M=g.$l[G.k.alK]}var Z=d.getName(),Q=m&&m.type!=0,p=Q&&m.k!=null?m.k:[0,0,0];
d.qX|=16;d.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));var y=d.add.vstk;y.strokeEnabled.v=!1;
d.add.vmsk=new A.A3;if(M&&M.a8p!=1){y.strokeEnabled.v=!0;y.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
y.strokeStyleLineWidth.v.val=M.lineWidth*a.Bo();var V=M.color;y.strokeStyleContent.v.Clr.v=l.T.CT({z:V[0]*255,B:V[1]*255,K:V[2]*255})}var W=G.k.path;
d.add.vmsk.i=l.o.RS(W,!1);l.M.Jg(d.add.vmsk.i,R);hv.b9(p,d,R,l.M.se(d.add.vmsk.i));y.fillEnabled.v=Q;
d.fb();d.Rw(C)}else if(K=="obj "&&X){var v=G.k.arD,j=G.k.akz,O="";d.add.TySh=bv.hT(0,0);var e=R.Bo();
d.add.TySh.D.translate(R.NO,R.Mx);var T=d.add.TySh.cp,L=X.k.Hq;for(var N=0;N<L.length;N++){var S=L[N],$=O.length;
O+=S.text+"\n";bv.l6(T,$,S.text+"\n");var H=bw.aib(S.anf,g),f=bv.SX(T,$,O.length);if(H.align==3)f.Yt.Justification=1;
else f.Yt.Justification=0;var F=H.fill.k;f.Fn.FillColor={Type:1,Values:[1,F[0],F[1],F[2]]};f.Fn.FontSize=Math.round(H.akj.fontSize*R.Bo());
bv.dG(T,$,O.length-1,f)}if(j){bv.lr(T,0)}else{bv.lr(T,1);bv.yy(T,[0,0,Math.round(v.x*R.Bk),Math.round(-v.y*R.rX)])}d.XH(O.slice(0,10))}else{d=null}if(d)C.g.push(d)};
bw.aib=function(o,g){var C=bw.BW(g,"stlt").k,a=JSON.parse(JSON.stringify(C.E7[o]));if(a.h5!=0){var x=C.E7[a.h5];
for(var K in x)if(a[K]==null||a[K]==0)a[K]=x[K];delete a.h5}a.align=C.a60[a.a7N];a.fill=g.kO[C.aoA[a.ady]];
a.ahY=g.$l[C.a0I[a.awq]];a.akj=C.au8[a.as8];return a};bw.a1f=function(N){var ee=N.data[N.v];N.v+=1;return ee};
bw.sL=function(N){var ee=u.Kk(N.data,N.v);N.v+=2;return ee};bw.Bj=function(N){var ee=u.KI(N.data,N.v);
N.v+=4;return ee};bw.a0Z=function(N){var ee=u.KI(N.data,N.v);N.v+=8;return ee};bw.D0=function(N){var ee=u.Yp(N.data,N.v);
N.v+=2;return ee};bw.kJ=function(N){var ee=u.OC(N.data,N.v);N.v+=4;return ee};bw.Wq=function(N){var ee=u.E5(N.data,N.v);
N.v+=8;return ee};bw.Aj=function(N){if(N.v>=N.data.length)throw"e";var o=0;while(N.data[N.v+o]!=0)o++;
var g=u.M7(N.data,N.v,o);N.v+=o+1;return g};bw.an3=function(o){if(o.Ex<600)return Math.PI*bw.D0(o)/1800;
return Math.PI*bw.kJ(o)/18e7};bw.ag9=function(o){if(o.Ex<1500)return bw.cZ(o);else return bw.Wq(o)/254e3};
bw.cZ=function(o){if(o.Ex<600)return bw.D0(o)/1e3;else return bw.kJ(o)/254e3};bw.a62=function(o){if(o.Ex<600)return bw.sL(o);
else return bw.Bj(o)};bw.a8O=function(o){if(o.Ex<600)return CRDParser.D0(o);else return bw.kJ(o)};bw.yp=function(o,g,C,a){var x=bw,K=x.a1f,h=x.sL,X=x.Bj,w=x.a0Z,G=x.D0,R=x.kJ,d=x.Wq,q=x.cZ,m=x.ag9,M=x.an3,Z=x.a62,Q=x.a8O;
for(var p=0;p<g.length;p++){var y=o.Ex,V=g[p];o.v=V.v+(V.f8=="LIST"?4:0);if(V.f8=="vrsn"){var W=h(o);
o.Ex=W;console.log("Version",W);o.Dt=W<600?16:32}else if(V.f8=="DISP"){}else if(V.f8=="LIST"&&V.iJ=="cmpr"){var v=X(o),j=X(o),e=X(o),T=X(o),O=new Uint8Array(o.data.buffer,o.v+8+2,v-6-8),L=pako.inflateRaw(O),f=0;
o.v+=v;O=new Uint8Array(o.data.buffer,o.v+8+2);var S=pako.inflateRaw(O),$=[];for(var H=0;H<S.length;
H+=4)$.push(u.KI(S,H));V.sub=[];while(f<L.length){var F=hx.b1(L,f,$);f=F.v+F.size;V.sub.push(F)}var U={data:L,v:0,Ex:y,Dt:o.Dt};
bw.yp(U,V.sub,C,a+1)}else if(V.f8=="LIST"&&V.iJ=="stlt"){var r=o.v,aq=32;V.k={};var E=X(o);if(E==0)return;
V.k.aoA=bw.EC(o,y>=1300);V.k.a0I=bw.EC(o);V.k.au8={};var k=X(o);for(var N=0;N<k;N++){var P=X(o);o.v+=y<1e3?12:20;
var z=h(o),s=h(o);o.v+=8;var Y=q(o);o.v+=y<1e3?12:20;V.k.au8[P]={asw:z,a9e:s,fontSize:Y}}V.k.a60=bw.EC(o);
var t=X(o);o.v+=52*t;var n=X(o);o.v+=152*n;var J=X(o);o.v+=784*J;var I=X(o);for(var N=0;N<I;N++){o.v+=40;
if(y>1300)o.v+=4;if(y>=1300){if(X(o))o.v+=68;else o.v+=12}else{o.v+=20;if(y>=1e3)o.v+=8;if(X(o))o.v+=8;
o.v+=8}}var fp=X(o);V.k.are={};for(var N=0;N<fp;N++){var cH=X(o),b={};o.v+=12;b.right=q(o);b.a8j=q(o);
b.left=q(o);V.k.are[cH]=b}var jL=X(o);if(y>=1300)aq+=4;o.v+=aq*jL;var cJ=X(o);o.v+=28*cJ;if(y>800){var aB=X(o);
o.v+=12*aB}V.k.E7={};for(var N=0;N<E;N++){var au=X(o),ea=X(o),ax={};ax.h5=X(o);o.v+=8;var f1=X(o);if(y>=1200)f1*=2;
o.v+=f1;ax.ady=X(o);ax.awq=X(o);if(au>1){ax.as8=X(o);ax.a7N=X(o);ax.a9D=X(o);ax.arg=X(o);if(y>800)ax.a5R=X(o)}if(au>2){ax.ak2=X(o);
ax.a0B=X(o);ax.awM=X(o);ax.a2q=X(o);ax.au4=X(o)}V.k.E7[ea]=ax}}else if(V.f8=="LIST")bw.yp(o,V.sub,C,a+1);
else if(V.f8=="txsm"){V.k={};if(y<600)throw"e";if(y<700)throw"e";if(y>=1600)throw"e";if(y>=1500)o.v+=37;
else o.v+=36;if(X(o)){if(y<800)o.v+=32}if(y<800)o.v+=4;V.k.aaJ=X(o);V.k.Hq=[];o.v+=48;if(y>=800){if(X(o)){o.v+=32;
if(y>=1300)o.v+=8}}if(y>=1500)o.v+=12;var au=X(o),fk=1,hF=!1;if(!au){if(y>=800)o.v+=4;if(y>800)o.v+=2;
if(y>=1400)o.v+=2;o.v+=24;if(y<800)o.v+=8;fk=X(o)}for(var H=0;H<fk;H++){var fm=X(o),N=0;if(y>=1300&&au)o.v++;
o.v++;var E=X(o),jE=[];for(N=0;N<E;N++){var ff=K(o),eF=0;K(o);var d5=K(o);if(y>=800)eF=K(o);var ax={};
if(d5&1){ax.asw=h(o);var gI=h(o);if(gI)ax.aw5=gI}if(d5&2)o.v+=4;if(d5&4)ax.air=q(o);if(d5&8)o.v+=4;if(d5&16)o.v+=4;
if(d5&32)o.v+=4;if(d5&64){ax.ady=X(o);if(y>=1500)o.v+=48}if(d5&128){ax.awq=X(o)}if(eF&8){if(y>=1300){var fE=X(o);
if(o.v+fE*2>=o.data.length){hF=!0;break}o.v+=fE*2}else o.v+=4}if(eF&32){var js=K(o);if(js)o.v+=52}if(ff==2)if(y>=1300)o.v+=48;
jE.push(ax)}if(hF){break}var d8=X(o);if(o.v+d8*4>o.data.length)break;var bt=[];for(N=0;N<d8;N++){var io=0;
if(y>=1200)io=w(o)&4294967295;else io=X(o);bt[N]=io>>16|io&1}var ha=d8;if(y>=1200)ha=X(o);var dp=bw.Aj(o);
V.k.Hq.push({anf:fm,text:dp,E7:jE})}}else if(V.f8=="font"){var gS=h(o),aP=h(o);o.v+=14;var gD=bw.Aj(o);
V.k={id:gS,abU:aP,name:gD}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(V.f8)!=-1){}else if(V.f8=="flgs")V.k=X(o);
else if(V.f8=="bbox"){var fA=q(o),jH=q(o),aM=q(o),jc=q(o);V.k=new aS(fA,jH,aM-fA,jc-jH)}else if(V.f8=="fild"){var eQ=X(o),j1=0,fT;
if(y>=1300){o.v+=4;j1=h(o);o.v+=2}var i7=h(o);if(i7==0){}else if(i7==1){o.v+=y>=1300?13:2;fT=bw.Wo(o)}else if(i7==2){o.v+=y>=1300?8:2;
var hy=K(o),hJ=0;if(y>=1300){o.v+=17;hJ=G(o)}else if(y>=600){o.v+=19;hJ=R(o)}else{o.v+=11;hJ=G(o)}var db=M(o),jK=.5+Q(o),h_=.5+Q(o)-.5;
if(y>=600)o.v+=2;var dM=Z(o)&255,eW=K(o)/100;o.v++;var ip=Z(o)&65535;if(y>=1300)o.v+=3;var fS=[];for(var N=0;
N<ip;N++){var hS=bw.Wo(o);if(y>=1300){if(j1==158||y>=1600&&j1==150)o.v+=26;else o.v+=5}var bB=Z(o)/100;
if(y>=1300)o.v+=3;fS.push([bB,hS])}fT={typ:hy==1?"lin":"rad",crds:[jK-Math.cos(db)/2,h_-Math.sin(db)/2,jK,h_],grad:fS,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",i7);
V.k={id:eQ,type:i7,k:fT}}else if(V.f8=="outl"){var g_=X(o);if(y>=1300){var e4=0,e0=0;while(e4!=1){o.v+=e0;
e4=X(o);e0=X(o)}}var jC=h(o),i4=h(o),hO=h(o);if(y<1300&&y>=600)o.v+=2;var eq=q(o),ig=h(o)/100;if(y>=600)o.v+=2;
var bc=M(o);if(y>=1300)o.v+=46;else if(y>=600)o.v+=52;var fT=bw.Wo(o,g_==270963208||g_==276198e3,g_);
V.k={id:g_,a8p:jC,ary:i4,a81:hO,lineWidth:eq,color:fT}}else if(V.f8=="mcfg"){if(1300<=y)o.v+=12;else if(900<=y)o.v+=4;
else if(600<=y&&y<700)o.v+=28;var aa=0,cn=0;if(y<400){o.v+=2;var fA=q(o),jH=q(o),aM=q(o),jc=q(o);aa=Math.abs(aM-fA);
cn=Math.abs(jc-jH)}else{aa=q(o);cn=q(o)}V.k={axa:new eN(aa,cn)}}else if(V.f8=="loda"||V.f8=="lobj"){var r=o.v,iu=Z(o),hY=Z(o),b8=Z(o),b$=Z(o),cY=Z(o),bX=[],b_=[];
o.v=r+b8;for(var N=0;N<hY;N++)bX[N]=Z(o);o.v=r+b$;for(var N=hY-1;N>=0;N--)b_[N]=Z(o);V.k={};for(var N=0;
N<hY;N++){o.v=r+bX[N];var gu=b_[N];if(gu==10)V.k.alK=X(o);else if(gu==20)V.k.ax7=X(o);else if(gu==200)V.k.al7=Z(o);
else if(gu==30){if(y<400)cY--;if(cY==1){var fA=m(o),jH=m(o),cw=0,g9=0,eS=0,gK=0;if(y<1500){gK=m(o);eS=y<900?gK:m(o);
g9=y<900?gK:m(o);cw=y<900?gK:m(o)}else throw"e";V.k.path=l.o.rA(l.M.MG.Rect(0,0,fA,jH,cw))}else if(cY==2){var aW=q(o),jf=q(o),im=M(o),hE=M(o),c6=Math.abs(aW),dn=Math.abs(jf);
V.k.path=l.o.rA(l.M.MG.Hy(0,0,c6,-dn))}else if(cY==3){V.k.path=bw.afs(o)}else if(cY==4){V.k.akz=bw.au2(o)}else if(cY==6){V.k.arD=bw.avj(o)}else if(cY==37){V.k.path=bw.hf(o)}else console.log(cY)}}}else if(V.f8=="trfd"){var r=o.v,iu=Z(o),hY=Z(o),b8=Z(o);
o.v=r+b8;var bX=[];for(var N=0;N<hY;N++)bX[N]=Z(o);for(var N=0;N<hY;N++){o.v=r+bX[N];if(y>=1300)o.v+=8;
var aR=h(o);if(aR==8){var hK,bh,fA,f2,d0,jH;if(y>=600)o.v+=6;if(y>=500){hK=d(o);bh=d(o);fA=d(o)/(y<600?1e3:254e3);
f2=d(o);d0=d(o);jH=d(o)/(y<600?1e3:254e3)}else throw"e";V.t_=new kp(hK,f2,bh,d0,fA,jH)}else console.log(aR)}}else if(!1){console.log(V);
var jZ=Math.min(V.size,32);console.log(u.NW(data,V.v,jZ));console.log(u.ahQ(data,V.v,jZ))}}};bw.EC=function(o,g){var C=bw.Bj,a={},x=C(o);
for(var N=0;N<x;N++){var K=C(o);o.v+=4;var h=C(o);a[K]=h;if(g)o.v+=48}return a};bw.au2=function(o){var g=bw,C=g.cZ,a=C(o),x=C(o);
return new eN(a,x)};bw.avj=function(o){var g=bw,C=g.cZ;o.v+=4;var a=C(o),x=C(o);return new eN(a,x)};
bw.hf=function(o){var g=bw,C=g.Bj,a=g.sL,x=g.cZ;o.v+=4;var K=a(o)+a(o);o.v+=16;var h=bw.dY(o,K);return h};
bw.afs=function(o){var g=bw.sL(o);o.v+=2;return bw.dY(o,g)};bw.dY=function(o,g){var C=bw,a=C.cZ,x=o.Ex<600?2:4,K=o.v,h={w:[],G:[]},X=0,w=0,G=0;
for(var N=0;N<g;N++){var X=a(o),w=a(o),R=o.data[K+g*x*2+N];if(!(R&64)&&!(R&128)){h.w.push(X,w);h.G.push("M");
G+=2}else if(R&64&&!(R&128)){h.w.push(X,w);h.G.push("L");G+=2}else if(!(R&64)&&R&128){h.w.push(X,w);
h.G.push("C");G+=6}else if(R&64&&R&128){h.w.push(X,w)}}if(G!=h.w.length)throw"e";return h};bw.a4y=function(o,g){var C=u.KI;
g+=8;var a=C(o,g);g+=4;var x=C(o,g);g+=4;g+=4*7;var K=g,h=l.Z(a*x*4);g+=1024;for(var X=0;X<x;X++)for(var w=0;
w<a;w++){var N=X*a+w,G=(x-X-1)*a+w,R=o[g+N]<<2,d=G<<2;h[d+0]=o[K+R+2];h[d+1]=o[K+R+1];h[d+2]=o[K+R+0];
h[d+3]=255}return{ab:h,rect:new aS(0,0,a,x)}};bw.anu=function(o){if(o==32)return 300;else if(o<49)return 0;
else if(o<58)return 100*(o-48);else if(o<65)return 0;return 100*(o-55)};bw.Wo=function(o,g,C){var a=bw.sL,x=bw.Bj,K=o.Ex,h=0,X=0;
if(K>=500){h=a(o);if(h==1&&K>=1300)h=25;if(h==25||h==30){var w=0;if(h==30){h=25;w=30}else{w=a(o);o.v+=4}var G=a(o),R=a(o)}else if(h==14)throw"e";
else{o.v+=6;X=x(o)}}else throw"e";var d=[];if(h==2||h==9||h==17){var q=[X>>>0&255,X>>>8&255,X>>>16&255,X>>>24&255];
if(h==2)for(var N=0;N<4;N++)q[N]=Math.round(255*q[N]/100);for(var N=0;N<4;N++)q[N]/=255;d=UDOC.C.cmykToRgb(q)}else if(h==1||h==5){d=[X>>>0&255,X>>>8&255,X>>>16&255];
for(var N=0;N<3;N++)d[N]=d[N]/255}else console.log("Unknown color model "+h,X,X.toString(16));return d};
var cS=function(){var o,g,C=new ArrayBuffer(4),a=new Uint8Array(C),x=new Uint32Array(C),K=new Float32Array(C);
function h(q,m){for(var M=0;M<q.length;M++)if(q[M][0]==m)return q[M]}function X(){var q=0,m=0,M=0;do{M=o[g++];
q|=(M&127)<<m;m+=7}while(M&128&&m<35);return q>>>0}function w(q,m,M,Z,Q){o=q;g=m;var p=Z[0]=="mesg",y=Z[2],V={},W=1,v=p?1e9:y.length;
while(W<=v){var j=W;if(p){j=X();if(j==0)break}var e=h(y,j),T=e[2],O=e[1]==1,L=O?X():1,S=new Array(L);
if(T==3){if(!O)throw"e";S=o.slice(g,g+L);g+=L}else for(var N=0;N<L;N++){var $;if((T&1)==1){if(T==1)$=o[g++]==1;
else if(T==3)$=o[g++];else if(T==5){var H=X();$=H&1?~(H>>>1):H>>>1}else if(T==7)$=X();else if(T==9){if(o[g]==0){$=0;
g++}else{a[0]=o[g];a[1]=o[g+1];a[2]=o[g+2];a[3]=o[g+3];var f=x[0];x[0]=f<<23|f>>>9;$=K[0];g+=4}}else if(T==11){var F=G(o,g);
$=F[0];g+=F[1]+1}else throw T}else{var U=M[T>>>1];if(U[0]=="enum"){var r=o[g++];if(r>127)throw"e";$=U[2][r]}else{var E=w(o,g,M,U,Q+1);
$=E[0];g=E[1]}}S[N]=$}V[e[3]]=O?S:S[0];W++}return[V,g]}function G(q,m){var M=m;while(q[M]!=0)M++;return[u.SP(q,m,M-m),M-m]}function R(q,m){var M=m;
while(q[M]!=0)M++;for(var N=m;N<M;N++)if(q[N]>127)throw"e";return u.M7(q,m,M-m)}function d(q){o=q;g=1;
var m=[];while(g<q.length){var M=g,Z=m.length,Q=R(q,g);g+=Q.length+1;var p=X();if(p>2)throw"e";var y=X(),V=[];
for(var N=0;N<y;N++){var W=R(q,g);g+=W.length+1;var v=X(),j=X(),e=X();V.push(p==0?W:[e,j,v,W])}m.push([["enum","strc","mesg"][p],Q,V])}return m}return{a3i:d,axx:w}}();
function b9(){}b9.kR=function(o,g){var C=new Uint8Array(o),a=8,x=u.KI(C,a),G=0,U=0;a+=4;var K=[];while(a<C.length){var h=u.KI(C,a);
a+=4;var X=C.slice(a,a+h);if(C[a]==137&&C[a+1]==80){}else X=UZIP.inflateRaw(X);K.push(X);a+=h}var w=cS.a3i(K[0]);
for(var N=0;N<w.length;N++)if(w[N][1]=="Message")G=N;var R=cS.axx(K[1],0,w,w[G],0)[0],d={YO:{},hw:{},a9J:{}},q=R.nodeChanges;
for(var m=0;m<q.length;m++){var M=q[m],Z=M.guid;d.hw[Z.sessionID+","+Z.localID]=M}for(var m=0;m<q.length;
m++){var M=q[m],Z=M.parentIndex;if(Z){var Q=b9._3(d.hw,Z.guid);if(Q.children==null)Q.children=[];Q.children.push(M)}}var p=q[0],y=p.children,V=new aS,W=[],v=[];
for(var Z=0;Z<y.length;Z++){var j=y[Z],e=j.children;if(j.name=="Internal Only Canvas"||e==null)continue;
var T=new aS;for(var N=0;N<e.length;N++){var O=e[N],L=O.transform,S=O.size;if(L.m00==1&&L.m10==0&&L.m01==0&&L.m11==1){var $=new aS(L.m02,L.m12,S.x,S.y);
T=T.ae($)}}var H=V.n==0?0:V.n+100,f=T.clone();f.x=0;f.y=H;V=V.ae(f);W[Z]=T;v[Z]=H}var F=e3.tG(new aS(0,0,V.m,V.n),8192*8192);
g.m=Math.round(V.m/F);g.n=Math.round(V.n/F);g.buffer=l.Z(g.m*g.n*4);for(var Z=0;Z<y.length;Z++){var j=y[Z],e=j.children;
if(j.name=="Internal Only Canvas"||e==null)continue;e.sort(b9.AV);var r=new kp(1,0,0,1,-W[Z].x,v[Z]-W[Z].y);
r.scale(1/F,1/F);for(var N=0;N<e.length;N++){var O=e[N];b9.jA(O,[],r,R.blobs,g,0,d);U++}}g.dU(U);g.UG=!0;
if(F!=1)alert("File scaled down "+F+"x")};b9.jA=function(o,g,C,a,x,K,h){var X=b9,L=!1,S,f,F,U;g=JSON.parse(JSON.stringify(g));
var w=o.overrideKey?o.overrideKey:o.guid;for(var N=0;N<g.length;N++){var G=g[N],R=G.guidPath.guids;if(X.auU(R[0],w)){if(R.length==1){var d={};
for(var q in o)d[q]=G[q]!=null?G[q]:o[q];o=d}else G.guidPath.guids=R.slice(1)}}var m=o.type,M=o.children,Z=o.size,Q=o.effects,p=x.HL();
p.XH(o.name);p.Su(o.visible);p.opacity=Math.round(o.opacity*255);var y=X.Mb(o.transform),V=y.clone();
V.concat(C);var W=new aS(Math.round(V.NO),Math.round(V.Mx),Math.round(Z.x*V.Bo()),Math.round(Z.y*V.Bo()));
if(W.m==0||isNaN(W.m))W.m=100;if(W.n==0||isNaN(W.n))W.n=100;var v=o.fillPaints,j=o.inheritFillStyleID;
if(j){var d=X._3(h.hw,j);if(d)v=d.fillPaints}if(v==null)v=[];var v=X.jh(v),e=v[0],T=o.strokePaints,j=o.inheritFillStyleIDForStroke;
if(j){var d=X._3(h.hw,j);if(d)T=d.fillPaints}if(T==null)T=[];var T=X.jh(T),O="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(m)!=-1;
if(O||m=="FRAME"){S=new A.A3;X.zo(o,a,S);L=l.M.Jr(S.i);l.M.Jg(S.i,V);var $=l.o.ul(l.M.se(S.i));if(!$.to())W=$;
if(h.YO.BH&&e){var H=A.A3.FL(h.YO.BH.i);for(var N=2;N<H.length;N++)if(H[N].j4!=null)H[N].j4=3;S.i=S.i.concat(H.slice(2))}}if(e&&e.type=="IMAGE"){U=e.imageScaleMode;
f=X.cf(a,e.image.dataBlob);var r=f.m_.m/f.m_.n,E=Z.x/Z.y;F=Math.abs(r-E)}if(m=="FRAME"){}else if(O&&L&&f&&(U=="FIT"||U=="FILL"&&F<=.05)){var k=a[e.image.dataBlob].bytes,P=x.Lz(k,p.getName(),0,0);
P.qX=p.qX;P.opacity=p.opacity;p=P;var z=new aS(0,0,Z.x,Z.y);if(U=="FIT"){var s=f.m_.m,Y=f.m_.n,t=Math.min(Z.x/s,Z.y/Y),n=s*t,J=Y*t;
z=new aS(z.x+(z.m-n)/2,z.y+(z.n-J)/2,n,J)}var I=l.o.IW(z).w;l.o.D(I,V,I);p.add.SoLd.Trnf=c.V.SS(I);p.add.SoLd.nonAffineTransform=c.V.SS(I);
var fp=[],Q=o.effects,cH=e.paintFilter;if(Q)for(var N=0;N<Q.length;N++)if(Q[N].type=="FOREGROUND_BLUR"){var b=Q[N],jL=hb.dI("GsnB",{});
fp.push(jL);jL.v.enab.v=b.visible;jL.v.Fltr.v.Rds.v.val=b.radius/2.4}if(cH&&cH.exposure!=0){var jL=hb.dI("brit",{});
fp.push(jL);jL.v.Fltr.v.Brgh.v=Math.round(cH.exposure*160);jL.v.Fltr.v.useLegacy.v=!0}if(cH&&cH.vibrance!=0){var jL=hb.dI("vibA",{});
fp.push(jL);console.log(jL);jL.v.Fltr.v.Strt.v=Math.round(Math.round(cH.vibrance*100))}if(fp.length!=0){p.add.SoLd.filterFX=hb.pG();
x.cg({id:p.add.SoLd.placed.v,rect:new aS,buffer:l.Z(1),d:new A.QX});p.add.SoLd.filterFX.v.filterFXList.v=fp}p.R9(x,!1);
X.Z3(h,p,x)}else if(O){X.Ud(p,S,o,e,T,V,W,a,x,h);if(Q)for(var N=0;N<Q.length;N++){var b=Q[N];if(b.type!="FOREGROUND_BLUR")continue;
S.Bs=b.radius/2.4}p.fb();p.Rw(x)}else if(m=="TEXT"){var aq=o.textData,cJ=aq.layoutSize,aB=["LEFT","RIGHT","CENTER"].indexOf(o.textAlignHorizontal);
p.add.lnsr="rend";p.add.TySh=bv.hT(0,0);p.add.TySh.Vf=new aS(0,0,100,100);var au=V.clone();p.add.TySh.D=au;
var ea=p.add.TySh.cp,ax=aq.characters;if(o.textCase=="TITLE"){for(var N=0;N<ax.length;N++)if(N==0||ax[N-1]==" "){var f1=ax.slice(0,N),fk=ax.slice(N+1);
ax=f1+ax[N].toUpperCase()+fk}}ax=ax.replace(/\u2028/g,"\n");ax=ax.replace(/\u2029/g,"\n");ax=ax.replace(/\r\n/g," \n");
bv.l6(ea,0,ax);var hF=o.textAutoResize,fm=aq.baselines;if(hF=="WIDTH_AND_HEIGHT"){var jE=aB==0?0:aB==1?cJ.x:cJ.x/2,ff=fm?fm[0].position.y:0;
au.translate(jE*V.Bo(),ff*V.Bo());bv.lr(ea,0)}else if(hF=="HEIGHT"||hF=="NONE"||hF==null){var ff=fm?fm[0].position.y-o.fontSize*.7:0;
au.translate(0,ff*V.Bo());bv.lr(ea,1);bv.yy(ea,[0,0,Math.round(cJ.x),Math.round((hF=="NONE"?1.8:1)*cJ.y)])}else throw hF;
if(ax!=""){var d5=bv.SX(ea,0,1);X.YS(o,V,Z,d5,p,a,x,h);bv.dG(ea,0,ax.length,d5);var eF=aq.characterStyleIDs,gI=aq.styleOverrideTable;
if(eF){eF=eF.slice(0);for(var N=0;N<eF.length;N++)if(ax[N]=="\n")eF[N]=-N-1;var fE=[0],js=0,d8=0;for(var N=0;
N<eF.length;N++){d8++;var bt=eF[N];if(N==0||bt==eF[N-1]){}else{fE.push(d8-1,N);d8=1}}fE.push(d8);for(var N=0;
N<fE.length;N+=2){var io=fE[N],ha=fE[N+1];if(ax[io]=="\n")continue;var bt=eF[io];if(bt!=0){var dp;for(var gS=0;
gS<gI.length;gS++)if(gI[gS].styleID==bt)dp=gI[gS];var d5=bv.SX(ea,io,io+1);X.YS(dp,V,Z,d5,p,a,x,h);bv.dG(ea,io,io+ha-1,d5)}}}}}else if(m=="SYMBOL"){}else if(m=="INSTANCE"){var aP=o.symbolData,gD=aP.symbolOverrides,d=X._3(h.hw,aP.symbolID);
if(d)M=d.children;else console.log(o.name,"symbol not found",aP.symbolID);g=g.slice(0);for(var N=0;N<gD.length;
N++)g.push(gD[N])}else console.log(m);if(!1){}else if(M&&!O){x.g.push(x.kF());var fA=!1,jH=K==0&&m!="SYMBOL"&&m!="INSTANCE";
if(jH){if(W.to())console.log(W);p.xJ(W)}e=v[v.length-1];if(jH&&e&&e.type=="SOLID"){var aM=e.color;p.add.artb.artboardBackgroundType.v=4;
p.add.artb.Clr=X.Wo(aM)}else if((e||T[0])&&S){var jc=x.HL();jc.XH("Background");X.Ud(jc,S,o,e,T,V,W,a,x,h);
jc.fb();jc.Rw(x);x.g.push(jc);fA=!0}M.sort(X.AV);var eQ=h.YO;h.YO={};for(var j1=0;j1<M.length;j1++)X.jA(M[j1],g,V,a,x,K+1,h);
h.YO=eQ;p.add.lsct=!1?kj.ah:kj.vz;p.WN="pass";var i7=p.aL();p.qX=24;p.Su(i7);var fT=K!=0&&v.length!=0&&!o.frameMaskDisabled&&o.containerSupportsFillStrokeAndCorners;
if(!fA&&fT&&S){p.add.vmsk=S;p.fb();p.Rw(x)}else X.Z3(h,p,x);x.g.push(p)}else if(o.mask){if(S){h.YO.BH=S}}else{var hy=[],ip=1;
if(Q)for(var hJ=0;hJ<Q.length;hJ++){var b=Q[hJ],db=b.color,jK=b.type,h_=["DROP_SHADOW","INNER_SHADOW"].indexOf(jK);
if(h_!=-1){var dM=["DrSh","IrSh"][h_],eW=JSON.parse(hf.QI[hf.order.indexOf(dM)]);hy.push([dM,eW]);eW.enab.v=b.visible;
eW.Md.v.BlnM=cP.Cw(X.acl(b.blendMode));eW.Opct.v.val=Math.round(100*db.a);eW.blur.v.val=Math.round(b.radius*V.Bo());
eW.Clr=X.Wo(db);var jE=b.offset.x,ff=b.offset.y;eW.uglg.v=!1;eW.lagl.v.val=Math.round(180/Math.PI*Math.atan2(ff,-jE));
eW.Dstn.v.val=Math.round(Math.sqrt(jE*jE+ff*ff)*V.Bo())}}if(m=="TEXT"&&v[0]&&v[0].type!="SOLID")ip=0;
for(var N=ip;N<v.length;N++){var fS=v[N],hS=X.Q5(o,fS,V,W,a,x,h);if(hS[0]=="GdFl")hy.push(["GrFl",hS[1]]);
else if(hS[0]=="SoCo")hy.push(["SoFi",hS[1]]);else if(hS[0]=="PtFl")hy.push(["patternFill",hS[1]]);else throw hS}if(!O)for(var N=0;
N<T.length;N++){var fS=T[N],hS=X.Q5(o,fS,V,W,a,x,h);if(hS[0]=="SoCo"){var eW=JSON.parse(hf.QI[hf.order.indexOf("FrFX")]);
hy.push(["FrFX",eW]);eW.enab=hS[1].enab;eW.Opct=hS[1].Opct;eW.Md=hS[1].Md;eW.Clr=hS[1].Clr;eW.Sz.v.val=o.strokeWeight}}if(hy.length!=0){var bB=JSON.parse(hf.default);
for(var N=0;N<hf.order.length;N++)bB[hf.l8[N]]={t:"VlLs",v:[]};for(var N=0;N<hy.length;N++){var g_=hy[N],dM=hf.l8[hf.order.indexOf(g_[0])];
bB[dM].v.unshift({t:"Objc",v:g_[1]})}if(M==null)p.add.lmfx=bB}x.g.push(p)}};b9.Ud=function(o,g,C,a,x,K,h,X,w,G){var R=b9;
o.qX|=16;o.add.vmsk=g;var d=o.add.vstk=JSON.parse(JSON.stringify(hf.ly.default)),q=R.Q5(C,a,K,h,X,w,G);
if(q[0]=="None"){d.fillEnabled.v=!1;o.add.SoCo=q[1]}else{R.GK(q,o);o.add[q[0]]=q[1]}var q=R.Q5(C,x[0],K,h,X,w,G);
if(q[0]!="None"){var d=o.add.vstk;d.strokeEnabled.v=!0;d.strokeStyleLineWidth.v.val=C.strokeWeight*K.Bo();
d.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hf.ly.sx[["INSIDE","CENTER","OUTSIDE"].indexOf(C.strokeAlign)];
var m={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[q[0]],M=["SoFi","GrFl","patternFill"].indexOf(m),Z=[hf.nD,hf.mK,hf.ti][M];
d.strokeStyleContent.v={classID:hf.ly.iJ[0]};var Q=C.dashPattern;if(Q)d.strokeStyleLineDashSet.v=bd.Av(Q,1/C.strokeWeight);
var p=d.strokeStyleContent.v={classID:hf.ly.iJ[M]};for(var N=0;N<Z.length;N++)p[Z[N]]=q[1][Z[N]];if(!d.fillEnabled.v)R.GK(q,o)}};
b9.GK=function(o,g){var C=o[1].Opct.v.val;if(C!=100)g.opacity=Math.round(g.opacity/255*(C/100)*255)};
b9.AV=function(o,g){var C=o.parentIndex.position,a=g.parentIndex.position;return C>a?1:-1};b9.jh=function(o){for(var N=1;
N<o.length;N++){var g=o[N];if(g.type=="IMAGE"&&g.opacity==1){o=o.slice(N);break}}for(var N=0;N<o.length;
N++){var g=o[N],C=g.imageThumbnail;if(g.type=="IMAGE"&&(g.image==null||g.image.dataBlob==null)&&C&&C.dataBlob)g.image=C;
if(!g.visible||g.type=="IMAGE"&&g.image.dataBlob==null){o.splice(N,1);N--}}return o};b9.Z3=function(o,g,C){if(o.YO.BH){g.add.vmsk=o.YO.BH.clone();
g.fb();g.Rw(C)}};b9.YS=function(o,g,C,a,x,K,h,X){var w=o.fontSize,G=o.lineHeight,R=o.fontName,d=o.textAlignHorizontal,q=o.textTracking,m=o.textCase,M=o.textDecoration;
if(w==null)w=a.Fn.FontSize;if(R)bv.s2(a,R.postscript);if(w!=null)a.Fn.FontSize=Math.round(w);if(M=="UNDERLINE")a.Fn.Underline=!0;
if(q)a.Fn.Tracking=Math.round(q*1e3);if(m)a.Fn.FontCaps=m=="UPPER"?2:0;if(G&&(G.units!="PERCENT"||G.value!=100)){if(w==null)w=15;
var Z=G.value;if(G.units=="PERCENT")Z=1*w*Z/100;if(G.units=="RAW")Z=1*w*Z;a.Fn.AutoLeading=!1;a.Fn.Leading=Math.round(Z)}if(d)a.Yt.Justification=["LEFT","RIGHT","CENTER"].indexOf(d);
var Q=o.fillPaints,p=o.inheritFillStyleID;if(p){var y=b9._3(X.hw,p);if(y)Q=y.fillPaints}if(Q&&Q[0]){var V=b9.Q5(o,Q[0],g,C,K,h,X);
if(V[0]=="SoCo"){var W=l.T.Xh(V[1].Clr.v);a.Fn.FillColor={Type:1,Values:[1,W.z/255,W.B/255,W.K/255]};
b9.GK(V,x)}}};b9.Q5=function(o,g,C,a,x,K,h){var X=b9,w,G,R=o.size;if(g){var d=g.type,q=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(d);
if(d=="SOLID"){w="SoCo";var m=g.color;G=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]);G.Clr=X.Wo(m)}else if(q!=-1){var M=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]),Z=M.Grad.v;
Z.Intr.v=0;M.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][q];var Q=[],p=g.stops;for(var N=0;N<p.length;N++){var y=p[N],V=y.color;
Q.push([y.position,[V.r,V.g,V.b],V.a])}l.T.yq(Q,Z);var W=X.Mb(g.transform);W.rq();var v=W.clone();if(R)v.scale(R.x,R.y);
v.concat(C);var j=new eN(0,.5),e=new eN(1,.5);j=v.nx(j);e=v.nx(e);if(!0){j.x=e.x+.5*(j.x-e.x);j.y=e.y+.5*(j.y-e.y)}l.T.Q2(j,e,a,M);
if(q==3){if(v.Bk*v.rX-v.K*v.U9<0)M.Rvrs.v=!M.Rvrs.v}w="GdFl";G=M}else if(d=="IMAGE"){var M=JSON.parse(hf.QI[hf.order.indexOf("patternFill")]),T=g.image.dataBlob,O=h.a9J[T];
if(O==null){var L=X.cf(x,T);O=h.a9J[T]={};O.id=aX.PJ()+"-d71c-11e5-b1ae-a548a96e5f9f";O.Bd=[new Uint8Array(L.data),L.m_];
O.name="someImage";K.Gq(O)}var S=["FILL","FIT","STRETCH","TILE"].indexOf(g.imageScaleMode),W=X.Mb(g.transform);
W.rq();var $=S==3?g.scale:1;bd.aey(O,M,R.x,R.y,S,C,W,$);w="PtFl";G=M}else throw d;if(G)G.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(g.opacity*100)}}}else{w="None";
G={classID:"null",Clr:{t:"Objc",v:l.T.CT({z:0,B:0,K:0})}}}return[w,G]};b9.cf=function(o,g){var C=o[g];
if(C.rslt)return C.rslt;var a=C.bytes.buffer,x=bl.tt(a),K=bl.qC(x);try{C.rslt=K.gd(a)[0]}catch(fF){C.rslt={data:l.Z(4),m_:new aS(0,0,1,1)}}return C.rslt};
b9.zo=function(o,g,C){var a=o.type,x=o.size,K=o.cornerRadius,G;if(K==null)K=0;var h=x.x,X=x.y,w=[K,K,K,K],R=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var N=0;N<4;N++)if(o[R[N]]!=null)w[N]=o[R[N]];if(a=="RECTANGLE"||a=="ROUNDED_RECTANGLE"||a=="FRAME"){G=l.M.MG.Rect(0,0,h,X,w)}else if(a=="ELLIPSE"){var d=o.arcData,q=d?d.startingAngle:0,m=d?d.endingAngle:2*Math.PI,M=d?d.innerRadius:0;
if(q==0&&m>1.999*Math.PI)G=l.M.MG.Hy(0,0,h,X,0);else G=l.M.MG.as9(h/2,X/2,X/2,q,m);if(M!=0&&M!=1){var Z=A.A3.FL(G).slice(3);
Z.reverse();for(var N=0;N<Z.length;N++){var Q=Z[N],p=Q.rD;Q.rD=Q.lu;Q.lu=p}var y=new kp;y.translate(-h/2,-X/2);
y.scale(M,M);y.translate(h/2,X/2);l.M.Jg(Z,y);G=G.concat(Z);G[2].length*=2}}else if(a=="LINE"){G=l.M.MG.Rect(0,0,h,X,0);
G.pop();G.pop();G[2].length=2}else if(a=="STAR"){G=l.M.MG.wQ(h/2,X/2,h/2,2*Math.PI*(1/4),5,0,o.starInnerScale)}else if(a=="REGULAR_POLYGON"){G=l.M.MG.UA(.5,.5,.5,Math.PI/2,o.count,0);
var V=new kp;V.scale(h,X);l.M.Jg(G,V)}else if(a=="BOOLEAN_OPERATION"){G=[{type:6},{type:8,all:0}];var W=o.children,v=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(o.booleanOperation);
if(v==-1)throw o;if(W==null)W=[];for(var N=0;N<W.length;N++){var j=W[N],e=new A.A3,T=b9.zo(j,g,e);if(e.i==null)continue;
l.M.Jg(e.i,b9.Mb(j.transform));G=G.concat(e.i.slice(2))}for(var N=3;N<G.length;N++)if(G[N].j4!=null)G[N].j4=v}else if(a=="VECTOR"){var O,L,z=3;
if(!0){var S=o.vectorData;if(S==null)return;O=S.normalizedSize;L=S.vectorNetworkBlob}var $=g[L].bytes,H=new Uint32Array($.buffer),f=new Float32Array($.buffer),F=H[0],U=H[1],r=H[2],E=[],k=[],P=[],s=z+F*3,Y=s+U*7;
for(var N=0;N<F;N++){var t=z+N*3,n=new eN(f[t+1],f[t+2]);E.push(n)}for(var N=0;N<U;N++){var J=s+N*7;
k.push([H[J+0],H[J+1],f[J+2],f[J+3],H[J+4],f[J+5],f[J+6]])}for(var N=0;N<r;N++){var I=H[Y+1],fp=P[N]=[];
Y+=2;for(var cH=0;cH<I;cH++){var b=H[Y++],jL=fp[cH]=[];for(var aq=0;aq<b;aq++)jL[aq]=H[Y+aq];Y+=b}}if(Y!=H.length)throw"e";
if(r==0){var cJ=-1;for(var N=0;N<U;N++){if(cJ==-1){}else{var aB=-1;for(var cH=N;cH<U;cH++)if(k[cH][4]==cJ)aB=cH;
for(var cH=N;cH<U;cH++)if(k[cH][1]==cJ)aB=cH;if(aB!=-1){var au=0,p=k[aB];k[aB]=k[N];k[N]=p;if(p[1]!=cJ){au=p[1];
p[1]=p[4];p[4]=au;au=p[2];p[2]=p[5];p[5]=au;au=p[3];p[3]=p[6];p[6]=au}}}cJ=k[N][4]}P.push([[]]);for(var N=0;
N<U;N++)P[0][0].push(N)}var ea=[],ax=[];for(var f1=0;f1<P.length;f1++){for(var fk=0;fk<P[f1].length;
fk++){var hF=P[f1][fk],fm=0;if(hF.length>1){var jE=k[hF[0]],ff=k[hF[1]];fm=jE[4]==ff[1]?1:0}for(var N=0;
N<hF.length;N++){var d5=k[hF[N]],eF=1,gI=4;if(fm==0){eF=4;gI=1}var fE=E[d5[eF]],js=E[d5[gI]];if(N==0){ax.push("M");
ea.push(fE.x,fE.y)}ax.push("C");ea.push(fE.x+d5[eF+1],fE.y+d5[eF+2],js.x+d5[gI+1],js.y+d5[gI+2],js.x,js.y)}}}G=l.o.RS({w:ea,G:ax},!1);
if(K!=0){var w=[],d8=G[2].length;for(var N=0;N<d8;N++)w.push(K);if(l.M.Yv(G))l.M.SO(G,2,w)}var io=new kp;
io.scale(O.x==0?1:x.x/O.x,O.y==0?1:x.y/O.y);l.M.Jg(G,io)}C.i=G};b9._3=function(o,g){return o[g.sessionID+","+g.localID]};
b9.auU=function(o,g){return o.sessionID==g.sessionID&&o.localID==g.localID};b9.acl=function(o){var g={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[o];
if(g==null)throw o;return g};b9.Wo=function(o){return{t:"Objc",v:l.T.CT({z:o.r*255,B:o.g*255,K:o.b*255})}};
b9.Mb=function(o){var g=[o.m00,o.m10,o.m01,o.m11,o.m02,o.m12];for(var N=0;N<6;N++)if(Math.abs(g[N])<1e-20)g[N]=0;
return new kp(g[0],g[1],g[2],g[3],g[4],g[5])};function ji(){}ji.kR=function(){var o=u.M7;function g(m,M,Z,Q){var p=Q?[]:{};
while(M<m.length-1&&m[M]!=125){var y=o(m,M,3),V=o(m,M+3,1),W;M+=4;M++;if(V=="v"){var v=g(m,M,Z+1,y=="ELM"||y=="TIL");
W=v.k;M=v.v}else if(V=="i"||V=="f"){var j=M;while(m[j]!=125)j++;var e=o(m,M,j-M);W=V=="i"?parseInt(e,16):parseFloat(e);
M=j+1}else if(V=="s"){var T=u.eX(m,M),e="";M+=2;for(var N=0;N<T;N++)e+=String.fromCharCode(m[M+2*N+1]);
W=e;M=M+2*T+1}else if(V=="b"){W=m[M]==49;M=M+2}else throw"e";if(Q)p.push([y,W]);else if(p[y]==null)p[y]=W;
else{if(!(p[y]instanceof Array))p[y]=[p[y]];p[y].push(W)}}M++;return{k:p,v:M}}function C(m,M){var Z=a(m).slice(1),m=M.Clr.v;
m.Rd.v=Z[0]*255;m.Grn.v=Z[1]*255;m.Bl.v=Z[2]*255}function a(m){return[(m>>>24&255)/255,(m>>>16&255)/255,(m>>>8&255)/255,(m>>>0&255)/255]}function x(m,M){var Z=M&4278190080|(M&255)<<16|(M>>>8&255)<<8|M>>>16&255;
new Uint32Array(m.buffer).fill(Z)}function K(m,M){var Z=m.TSZ,Q=m.WPX,p=m.HPX,y=m.TIL,V=new aS(0,0,Q,p),W=l.Z(Q*p*4),v=0;
for(var j=0;j<p;j+=Z)for(var e=0;e<Q;e+=Z){var T=new aS(e,j,Z,Z),O,L=y[v];if(L[0]=="TMC"){O=l.Z(T.$()*4);
x(O,L[1])}else if(L[0]=="TID"){O=M[L[1]]}l.HT(O,T,W,V);v++}return[W,V]}function h(m,M){m=new Uint8Array(m);
var Z=8,Q,p={},U=0;while(Z<m.length){var y=u.s(m,Z);Z+=4;var V=o(m,Z,4);Z+=4;if(V=="mkTS"){var W=pako.inflate(m.slice(Z,Z+y)),v=g(W,0,0);
Q=v.k}else if(V=="mkBT"){var j=u.s(m,Z+4),e=u.s(m,Z+8),W=pako.inflate(m.slice(Z+76,Z+y));if(e==0)for(var N=0;
N<W.length;N+=4){var T=W[N],O=W[N+1],L=W[N+2],S=W[N+3];W[N+3]=T;W[N+2]=S;W[N+1]=L;W[N]=O}else{var $=l.Z(W.length*4);
$.fill(255);l.B2(W,$);W=$}p[j]=W}Z+=y+4}var H=Q.PDC,f=H?H instanceof Array?H:[H]:[Q.MKB],F=new aS;for(var N=0;
N<f.length;N++){var r=f[N];F=F.ae(new aS(0,U,r.WID,r.HIT));U+=r.HIT+100}M.m=F.m;M.n=F.n;M.buffer=l.Z(F.$()*4);
M.dU(f.length);U=0;for(var E=0;E<f.length;E++){M.g.push(M.kF());var r=f[E],k=r.WID,P=r.HIT,z=r.BGC,s=(r.LYL?r:Q).LYL.LAY,n=3;
for(var N=0;N<s.length;N++)w(s[N],M,null,p,new kp(1,0,0,1,-r.XLC,-r.YLC+U));var Y=M.HL();M.g.push(Y);
var t=new aS(0,U,k,P);U+=P+100;Y.xJ(t);if(z>>>24!=0){var J=l.T.CT({z:z>>>16&255,B:z>>>8&255,K:z>>>0&255});
Y.add.artb.Clr={t:"Objc",v:J};n=4}Y.add.artb.artboardBackgroundType.v=n;Y.XH(r.PGN?r.PGN:"Page "+(E+1));
Y.add.lsct=kj.vz;Y.WN="pass";Y.qX=24}}function X(m,M,Z){var Q=m[M];return Q instanceof Array?Q[Z]:Q}function w(m,M,Z,Q,p){var y=M.HL();
if(m.VIS!=null)y.Su(m.VIS);if(m.VIF!=null)y.Su(m.VIF.VIS);if(m.OPA!=null)y.opacity=Math.round(255*m.OPA/1e3);
y.WN=m.CLL||Z=="GRP"?"pass":"norm";if(m.BLD!=null){var V=m.BLD,W={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[V+""];
if(W==null)console.log(m.OBN,V);else y.WN=W;if(V==30)y.opacity>>>=1}if(m.CLL){y.XH(m.LNM);M.g.push(M.kF());
var v=m.CLL.CEL;if(v.length==null)v=[v];for(var j=v.length-1;j>=0;j--){var e=v[j].ELM;for(var N=e.length-1;
N>=0;N--)w(e[N][1],M,e[N][0],Q,p)}y.add.lsct=m.DIS?kj.ah:kj.vz;y.qX|=24}else if(Z=="GRP"){var T=y.add.lmfx=R(m.EFL),O;
M.g.push(M.kF());var e=m.ELM;if(m.MNA){O=e[0][1];e=e.slice(1)}y.XH("Group: "+e.length+" objects");for(var N=e.length-1;
N>=0;N--)w(e[N][1],M,e[N][0],Q,p);if(O){if(m.MRX){var L=K(O,Q),S=y.d=new A.QX;S.rect=L[1].clone();S.rect.x=O.XLC;
S.rect.y=O.YLC+p.Mx;S.channel=l.Z(S.rect.$());l.eP(L[0],S.channel,0);l.rq(S.channel)}else{G(y,O,p);y.fb();
y.Rw(M)}}y.add.lsct=kj.vz;y.qX|=24}else if(Z=="IMG"){y.XH(m.OBN?m.OBN:"Bitmap");var L=K(m,Q);y.rect=L[1].clone();
y.rect.x=m.XLC;y.rect.y=m.YLC+p.Mx;y.buffer=L[0]}else if(Z=="TXT"){var $=m.TFS,H=$.TRN instanceof Array?$.TRN.length:1,r="",E="Arial",k=20,P=0;
y.add.lnsr="rend";y.add.TySh=bv.hT(0,0);y.add.TySh.Vf=new aS(0,0,100,100);var f=new kp(1,0,0,1,m.LFT,m.TOP);
if(m.MTX){var F=m.MTX,S=new kp(F.M00,F.M01,F.M10,F.M11,F.M20,F.M21);f.concat(S)}f.concat(p);y.add.TySh.D=f;
var U=y.add.TySh.cp;for(var N=0;N<H;N++){var z=X($,"TRN",N);if(z==null)continue;z=z.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
bv.l6(U,r.length,z);var s=bv.SX(U,0,1),Y=X($,"FON",N);if(Y)E=Y;bv.s2(s,E);var t=X($,"PTS",N);if(t!=null)k=t;
s.Fn.FontSize=Math.round(k);var n=X($,"FCL",N);if(n!=null)P=n;s.Fn.FillColor={Type:1,Values:a(P)};bv.dG(U,r.length,r.length+z.length,s);
r+=z}y.XH(r.slice(0,255));var J=m.RIT-m.LFT,I=m.BOT-m.TOP;if(m.IMG){w(m.IMG,M,"IMG",Q,p);var fp=M.g.pop();
y.buffer=fp.buffer;y.rect=fp.rect.clone()}bv.lr(U,1);bv.yy(U,[0,0,J,I])}else if(Z=="PTH"){y.XH(m.OBN?m.OBN:"Path");
y.qX|=16;var cH=!1;G(y,m,p);var b=y.add.vmsk,jL=y.add.vstk,aq=l.M.se(b.i),cJ=m.PAT,aB=cJ.BPL,au=cJ.FPL,ea=cJ.TXF;
if(au&&au.FEF)b.Bs+=au.FEF/2.4;if(aB){var ax=aB.CAT;jL.strokeEnabled.v=!0;jL.strokeStyleLineWidth.v.val=aB.BDI;
jL.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hf.ly.sx[m.BRP];C(cJ.BCL,jL.strokeStyleContent.v);
if(ax!="bc_Basic"&&ax!="bc_Pencil")cH=!0}if(au==null){jL.fillEnabled.v=!1;y.add.SoCo=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]);
C(0,y.add.SoCo)}else if(au.CAT=="fc_Solid"){y.add.SoCo=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]);C(m.PAT.FCL,y.add.SoCo)}else if(au.CAT=="fc_Linear"||au.CAT=="fc_Circular"||au.CAT=="fc_Elliptical"){var f1=au.CAT=="fc_Linear",fk=y.add.GdFl=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]),hF=fk.Grad.v,fm=[],jE=au.FGL,ff,d5=[];
if(jE.FGY){var eF=jE.FGY,ff=eF.FG0.FGI,d5=eF.FG1.FGI}else ff=jE.FGV.FGI;for(var N=0;N<ff.length;N++){var gI=ff[N],fE=a(gI.FGC),js=1;
if(d5.length==ff.length)js=a(d5[N].FGC)[0];fm.push([gI.FGP,fE.slice(1),js])}fk.Type.v.GrdT=f1?"Lnr":"Rdl";
l.T.yq(fm,hF);hF.Intr.v=0;var d8=m.PRI?m.PRI:m,bt=new eN(d8.PSX,d8.PSY),io=new eN(d8.PEX,d8.PEY);if(au.CAT=="fc_Elliptical"&&d8.PFX!=null){var ha=new eN(d8.PFX,d8.PFY),dp=eN.ig(bt,io),gS=eN.ig(bt,ha);
if(gS<dp){var aP=dp;dp=gS;gS=aP}io=new eN(bt.x+(dp+gS)/2,bt.y);if(dp/gS<.5)cH=!0}if(f1){bt.x=(bt.x+io.x)/2;
bt.y=(bt.y+io.y)/2}l.T.Q2(bt,io,aq,fk)}else console.log(au.CAT);var T=y.add.lmfx=R(m.EFL,b);if(au&&au.FTB!=0&&ea){var L=K(ea.MSK,Q),gD={};
gD.id=aX.PJ()+"-d71c-11e5-b1ae-a548a96e5f9f";gD.name="someImage";gD.Bd=L;M.Gq(gD);var fA=L[0];for(var N=0;
N<fA.length;N+=4){fA[N+3]=255-fA[N];fA[N]=fA[N+1]=fA[N+2]=255}var fk=JSON.parse(hf.QI[hf.order.indexOf("patternFill")]);
fk.Opct.v.val=Math.round(au.FTB/10);fk.Algn.v=!0;fk.Ptrn.v.Idnt.v=gD.id;T.patternFillMulti.v.unshift({t:"Objc",v:fk})}if(cH&&m.IMG){w(m.IMG,M,"IMG",Q,p);
var jH=M.g[M.g.length-1];jH.opacity=y.opacity;return}y.fb();y.Rw(M)}else if(Z=="URL")return;else{console.log("unknown layer type",Z,m);
y.XH("Layer")}M.g.push(y)}function G(m,M,Z){if(M.PBL==null)return;var Q=m.add.vmsk=new A.A3,p=m.add.vstk=JSON.parse(JSON.stringify(hf.ly.default)),y=M.PBL.PBP;
if(!(y instanceof Array))y=[y];for(var V=0;V<y.length;V++){var W=y[V].PBT;if(W==null)continue;if(!(W instanceof Array))W=[W];
var v=y[V].ISC?0:3;Q.i.push({type:v,length:W.length,j4:0,Y9:2,yc:0,km:0});for(var N=0;N<W.length;N++){var j=W[N],e=j.XLC,T=j.YLC,O=[e,T,e,T,e,T],L="XPC YPC XLC YLC XSC YSC".split(" ");
for(var S=0;S<6;S++){var $=L[S],H=j[$];if(H!=null)O[S]=H}Q.i.push({type:v+2,H:new eN(e,T),rD:new eN(O[0],O[1]),lu:new eN(O[4],O[5])})}}l.M.Jg(Q.i,Z)}function R(m,M){var Z=JSON.parse(hf.default);
for(var N=0;N<hf.order.length;N++)Z[hf.l8[N]]={t:"VlLs",v:[]};if(m==null)return Z;var Q=m.EPS;if(!(Q instanceof Array))Q=[Q];
for(var N=0;N<Q.length;N++){var p=Q[N].DCE,y={};for(var V=0;V<p.length;V++)y[p[V].DCK]=p[V].DCV;if(y.EffectIsVisible=="false")continue;
var W=y.mkbFile_WriteOnly_TemporaryEffectUiName;if(W=="Gaussian Blur..."&&M){M.Bs+=parseFloat(y.gaussian_blur_radius);
continue}var v=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(W);if(v==-1){continue}var j=["DrSh","ebbl","IrGl","OrGl"][v],e=hf.l8[hf.order.indexOf(j)],T=JSON.parse(hf.QI[hf.order.indexOf(j)]);
Z[e].v.unshift({t:"Objc",v:T});if(j=="DrSh"){T.uglg.v=!1;d(y,"ShadowDistance",T,"Dstn");d(y,"ShadowBlur",T,"blur");
d(y,"ShadowAngle",T,"lagl",180);T.Opct.v.val=100;q(y,"ShadowColor",T,"Clr")}if(j=="IrGl"){T.Md.v.BlnM="Nrml";
var O=y.MaskSoftness,L=y.GlowWidth;if(O&&L){O=parseInt(O);L=parseInt(L);T.blur.v.val=L+O;T.Ckmt.v.val=Math.round(100*L/(L+O))}d(y,"BevelContrast",T,"Opct");
q(y,"OuterBevelColor",T,"Clr")}if(j=="OrGl"){T.Md.v.BlnM="Nrml";var O=y.MaskSoftness,L=y.GlowWidth;if(O&&L){O=parseInt(O);
L=parseInt(L);T.blur.v.val=L+O}d(y,"BevelContrast",T,"Opct");q(y,"OuterBevelColor",T,"Clr")}if(j=="ebbl"){T.uglg.v=!1;
d(y,"BevelWidth",T,"blur");d(y,"AngleSoftness",T,"Sftn");d(y,"BevelContrast",T,"srgR");d(y,"LightAngle",T,"lagl")}}return Z}function d(m,M,Z,Q,p){var y=m[M];
if(p==null)p=0;if(y)Z[Q].v.val=parseInt(y)+p}function q(m,M,Z,Q){var p=m[M];if(p){p=p.slice(1);if(p.length==6)p=p+"ff";
if(p.length!=8)throw"e";var y=a(parseInt(p,16)),V=Z[Q].v;V.Rd.v=y[0]*255;V.Grn.v=y[1]*255;V.Bl.v=y[2]*255;
Z.Opct.v.val=Math.round(Z.Opct.v.val/100*y[3]*100)}}return h}();function gM(){}gM.kR=function(){function o(L,S){var $=!1,H=Date.now(),f=y(L,$),ff=1;
if($)console.log("part found",Date.now()-H);H=Date.now();var F=p(f),U=F.Layer,r=F.Header;if($)console.log(F);
var E=U[0];E=F.Layer[0];if($)console.log("document parsed",Date.now()-H);H=Date.now();F.Setup.Gradient=Q(F.Setup.Gradient,f);
if($)console.log("grads loaded",Date.now()-H);H=Date.now();F.Setup.Pattern=Z(F.Setup.Pattern,f);if($)console.log("patts loaded",Date.now()-H);
H=Date.now();F.Setup.DocumentData=M(F.Setup.DocumentData,f).pop();if($)console.log("docdata loaded",Date.now()-H);
H=Date.now();F.Setup.SVGFilter=M(F.Setup.SVGFilter,f);if($)console.log("svgfilter loaded",Date.now()-H);
H=Date.now();var k=r.Cropmarks,P=r.BoundingBox.split(" ").map(parseFloat),z=r.ArtSize?r.ArtSize.split(" ").map(parseFloat):[P[2]-P[0],P[3]-P[1]];
S.m=Math.round(z[0]);S.n=Math.round(z[1]);var s=[1,0,0,1,-P[0]+(S.m-(P[2]-P[0]))/2,-P[1]+(S.n-(P[3]-P[1]))/2];
s[3]=-1;s[5]=S.n-s[5];if(k){k=k.split(" ").map(parseFloat);S.m=Math.round(k[2]-k[0]);S.n=Math.round(k[3]-k[1]);
s=[1,0,0,-1,-k[0],S.n+k[1]]}var Y=F.Setup.DocumentData;if(Y&&Y[0]&&Y[0].ArtboardArray){var t=Y[0].ArtboardArray;
if(t.length!=1)console.log(t.length,"artboards");var n=new aS;for(var N=0;N<t.length;N++){var J=t[N],I=J.PositionPoint1,fp=J.PositionPoint2,cH=I[0],b=Math.min(I[1],fp[1]),jL=fp[0],aq=Math.max(I[1],fp[1]);
n=n.ae(new aS(cH,b,jL-cH,aq-b))}S.m=Math.round(n.m);S.n=Math.round(n.n);s[4]=-n.x;s[5]=n.y+S.n}if(Y&&Y[0]&&Y[0]["#document"]){var cJ=Y[0]["#document"],aB=cJ["xmlnode-children"][0];
if(aB&&aB["xmlnode-children"])aB=aB["xmlnode-children"][0];if(aB["xmlnode-nodename"]=="variableSets"){var au=aB["xmlnode-children"][0]["xmlnode-children"],ea=au[0],ax=au[1],f1=O(ea);
S.fU=cL.Y6("<variableSets><variableSet>"+f1+"</variableSet></variableSets>");if(ax){var fk=O(ax),hF=S.XO=cL.jc(fk);
for(var N=0;N<hF.length;N++)for(var fm=0;fm<hF[N].length;fm++)hF[N][fm]=hF[N][fm].trim()}}}var jE=Math.max(S.m,S.n);
while(jE*ff<1200)ff++;while(jE*ff>6e3)ff*=.5;S.m=Math.round(S.m*ff);S.n=Math.round(S.n*ff);S.zC=Math.round(72*ff);
S.buffer=l.Z(S.m*S.n*4);for(var N=0;N<6;N++)s[N]*=ff;for(var d5=0;d5<U.length;d5++){var eF=U[d5];eF.Raster=g(eF,"Raster");
eF.Place=g(eF,"Place");var gI=q(f,eF);C(S,gI,s,F,eF,f)}if($)console.log("layers created",Date.now()-H);
H=Date.now()}function g(L,S){var $=L.Layer,H=L[S];if(H==null)H=[];if($){for(var N=0;N<$.length;N++){var f=$[N],F=f[S]=g(f,S);
H=H.concat(F)}H.sort(function(U,r){return U._begin-r._begin})}return H}function C(L,S,$,H,f,F){var U="",r=0,E="",k=!1,P=UDOC.G,z=UDOC.getState(),s="norm",Y=1,t="SoCo",I=!1,fp=0,b=null,jL=!1,aq=0,cJ=null,aB,au,ea=0,ax=0,f1=0,fm=0,jE=!1;
z.ctm=$;var n=[0,0,0],J=[0,0,0],cH=[],fk=[],hF=[];for(var ff=0;ff<S.length;ff++){var d5=S[ff],js=1e9;
if(d5[0]=="%"){if(d5=="%_/ArtDictionary :"&&aq==0)b=[d5.slice(2)];else if(b!=null){if(d5=="%_"&&aq==0){var eF=v(b)[0],gI=eF.AI10_ArtUID;
if(gI&&!gI.startsWith("XMLID"))L.g[L.g.length-1].XH(e(gI));b=null}else{b.push(d5.slice(jL?1:2));if(d5=="%_X=")aq++;
if(d5=="%_X+")aq--;if(d5=="%_/Binary : /ASCII85Decode ,")jL=!0;if(jL&&d5.endsWith("~>"))jL=!1}}else if(cJ){aB+=(aB==""?"":" ")+d5.slice(2);
if(aB.endsWith("X#")){cJ.push(aB.slice(0,aB.length-3));aB=""}}continue}else if(d5=="/Mesh X!"){cJ=[];
aB="";continue}else if(d5=="/End X!"){a(cJ,z,L);cJ=null;continue}var fE="Xa XR m l c f U u *U w J j M d".split(" "),d8=-1,bt=d5.indexOf("(")!=-1;
for(var N=0;N<fE.length;N++){var io=d5.indexOf(" "+fE[N]+" ");if(io!=-1&&io<js&&!bt){js=io;d8=N}}if(d8!=-1){k=!0;
var ha=js+1+fE[d8].length;S[ff]=d5.slice(0,ha);var dp=S[ff+1];if(dp==null||dp[0]=="%"||d8>9)S.splice(ff+1,0,d5.slice(ha));
else S[ff+1]=(d5.slice(ha)+" "+dp).replace(/\s\s+/g," ");ff--;continue}d5=d5.trim();var gS=d5.split(" "),aP=gS[gS.length-1],gD=aP.toLowerCase(),fA=gS.map(parseFloat);
if(aP=="m")P.moveTo(z,fA[0],fA[1]);else if(aP=="L"||aP=="l")P.lineTo(z,fA[0],fA[1]);else if(aP=="V"||aP=="v"||aP=="Y"||aP=="y")P.quadCurveTo(z,fA[0],fA[1],fA[2],fA[3]);
else if(aP=="C"||aP=="c")P.curveTo(z,fA[0],fA[1],fA[2],fA[3],fA[4],fA[5]);else if(aP=="H"||aP=="h"){if(aP==gD)P.closePath(z);
cH.push(JSON.parse(JSON.stringify(z.pth)))}else if(aP=="Xy"){s=["norm","mul ","scrn","over","sLit"][fA[0]];
Y=fA[1];if(s==null){s="norm";console.log("unknown blend mode",fA[0])}}else if(aP=="Xd"){var jH=L.g[L.g.length-1];
jH.opacity=Math.round(255*Y);jH.WN=jH.sP()&&s=="norm"?"pass":s}else if(aP=="AE")ea=fA[0];else if(aP=="Ae")ax=fA[0];
else if(aP=="Xw")f1=fA[0];else if(aP=="*"){var aM=z.pth.crds,jc=z.ctm,io=aM[0]==aM[2]?0:1;L.Pa.push([io,aM[io]]);
P.newPath(z)}else if(aP=="XN")au=d5.split(" ")[0];else if(aP=="XI"){var eQ=f.Raster,j1,i7;if(eQ==null||eQ.length==0){console.log("no Raster");
continue}if(d5!="XI"){continue}else{var fT=eQ[r++].Data,hy=fT._begin,hJ=fT._end;while(F[hy]!=88)hy++;
hy+=3;j1=F.slice(hy,hJ);i7=S[ff-2].split(" ").map(parseFloat)}var db=i7.slice(8),jK=db[2],h_=db[3],dM=jK*h_,eW=l.Z(dM*4);
eW.fill(255);var ip=db[7],fS=db[8],hS=db[6],bB=Math.ceil(jK*ip*hS/8);if(ip==1){if(hS==8)for(var N=0;
N<dM;N++)for(var g_=0;g_<3;g_++)eW[4*N+g_]=j1[N];else if(hS==1)for(var e4=0;e4<h_;e4++)for(var e0=0;
e0<jK;e0++)for(var g_=0;g_<3;g_++)eW[4*(e4*jK+e0)+g_]=255*(j1[e4*bB+(e0>>>3)]>>>7-(e0&7)&1);else throw hS}else if(ip==3)for(var N=0;
N<dM;N++)for(var g_=0;g_<3;g_++)eW[4*N+g_]=j1[3*N+g_];else if(ip==4||ip==5)for(var N=0;N<dM;N++){var jC=G([j1[ip*N+0]/255,j1[ip*N+1]/255,j1[ip*N+2]/255,j1[ip*N+3]/255]);
eW[4*N+0]=jC[0]*255;eW[4*N+1]=jC[1]*255;eW[4*N+2]=jC[2]*255}else if(ip==7)for(var N=0;N<dM;N++){eW[4*N+0]=j1[ip*N+0];
eW[4*N+1]=j1[ip*N+1];eW[4*N+2]=j1[ip*N+2]}else console.log("unknown number of channels",ip);if(fS==1){var i4=h_*bB;
for(var N=0;N<dM;N++)eW[4*N+3]=j1[i4+N]}var hO=l.HN(eW,jK,h_)?"JPG":"PNG";if(jK*h_<700*700)hO="PNG";
var eq=bl.qC(hO).oe([[eW.buffer]],jK,h_),ig=L.Lz(new Uint8Array(eq),"<Image>",0,0);L.g.push(ig);ig.WN=s;
ig.opacity=Math.round(255*Y);ig.Su(f1==0);var $=new kp;$.scale(1,-1);$.concat(w(i7.slice(1)));$.concat(w(z.ctm));
var bc=ig.rect.clone();bc.x=bc.y=0;var gS=l.o.IW(bc).w;l.o.D(gS,$,gS);ig.add.SoLd.Trnf=c.V.SS(gS);ig.add.SoLd.nonAffineTransform=c.V.SS(gS);
ig.R9(L,!1)}else if(aP=="Ln"){U=K(d5)}else if(aP=="u"||aP=="q"||aP=="Lb"){fk.push(ax==1);hF.push((aP=="Lb"?1-fA[0]:f1)==0);
if(I)continue;L.g.push(L.kF())}else if(aP=="U"||aP=="Q"||aP=="LB"){if(fk.length==0||hF.length==0)throw ff;
var aa=fk.pop(),cn=hF.pop();if(aP=="LB")aa=ea==1;if(I)continue;var ig=L.HL();ig.XH((aP=="U"?"<Group>":"<Clip Group>")+E);
if(aP=="LB")ig.XH(U);if(aP=="Q"&&cH.length!=0){var iu=cH.pop(),hY=UDOC.G.isBox(iu,[0,0,L.m,L.n]);if(!hY)R(ig,iu,L)}ig.add.lsct=aa?kj.ah:kj.vz;
ig.WN="pass";ig.qX=24;ig.Su(cn);L.g.push(ig);if(jE){if(L.g[L.g.length-3].getName()=="</Layer group>"){L.g.pop();
L.g.splice(L.g.length-2,1)}jE=!1}}else if(aP=="Bb"||aP=="Bh"||aP=="BB"){}else if(aP=="Bg"){var b8=H.Setup.Gradient,b$=b8[K(d5)];
if(b$==null){for(var cY in b8){b$=b8[cY];break}}t="GdFl";n=x(b$.a0,b$.aeN)}else if(aP=="Bm"||aP=="Xm"){var bX=n.Type.v.GrdT;
if(bX=="Lnr"&&aP!="Xm"||bX=="Rdl"&&aP!="Bm")continue;var b_=new eN(0,0),gu=new eN(1,0),cw=new kp;cw.concat(w(fA));
cw.concat(w(z.ctm));b_=cw.nx(b_);gu=cw.nx(gu);var g9=l.o.TO(z.pth.crds);if(g9.to())g9=l.o.TO([b_.x,b_.y,gu.x,gu.y]);
if(bX=="Lnr"){b_.x=(b_.x+gu.x)/2;b_.y=(b_.y+gu.y)/2}l.T.Q2(b_,gu,g9,n)}else if(aP=="p"){var eS=K(d5),gK=H.Setup.Pattern[eS];
if(gK.raw==null){var g9=gK.oD,jK=Math.round(g9[2]-g9[0]),h_=Math.round(g9[3]-g9[1]),eF=new aX;eF.m=jK;
eF.n=h_;eF.buffer=l.Z(jK*h_*4);C(eF,gK.EO,[1,0,0,-1,-gK.oD[0],h_+gK.oD[1]],H,f,F);gK.raw=new Uint8Array(bl.qC("PSD").oe(eF))}var aW=d5.slice(d5.indexOf(")")+2),jf=aW.slice(0,aW.indexOf("[")-1).split(" ").map(parseFloat),im=aW.slice(aW.indexOf("[")+1,aW.indexOf("]")).split(" ").map(parseFloat);
t="patt";n=[eS,jf,im]}else if(aP=="J"||aP=="j"||aP=="w"||aP=="M"||aP=="d"){for(var N=1;N<gS.length;N++){var hE=gS[N],c6=fA[N-1];
if(hE=="w")z.lwidth=c6;if(hE=="j")z.ljoin=c6;if(hE=="J")z.lcap=c6;if(hE=="d"){var dn=d5.slice(d5.indexOf("[")+1,d5.indexOf("]")).trim();
if(dn.length!=0){var aR=dn.split(" ").map(parseFloat);z.dash=aR}}}}else if(gD=="xa"||gD=="xx"){var hK=fA[4]==null?fA.slice(0,3):[fA[4],fA[5],fA[6]];
if(gD=="xx"&&fA[fA.length-2]==2)hK=G(fA);t="SoCo";if(aP=="Xa"||aP=="Xx")n=hK;else J=hK}else if(gD=="xk"){var hK,bh=fA[fA.length-2],f2=fA[fA.length-3];
if(bh==0)hK=G(fA);else if(bh==1){hK=[fA[4],fA[5],fA[6]];for(var N=0;N<3;N++)hK[N]=f2*1+(1-f2)*hK[N]}else throw d5;
t="SoCo";if(aP=="Xk")n=hK;else J=hK}else if(gD=="k"||gD=="x"){if(gD=="x"){fA.pop();var d0=1-fA.pop();
for(var N=0;N<4;N++)fA[N]*=d0}var hK=G(fA);t="SoCo";if(aP==gD)n=hK;else J=hK}else if(gD=="g"){var hK=[fA[0],fA[0],fA[0]];
t="SoCo";if(aP==gD)n=hK;else J=hK}else if(gD=="n"){if(!I)P.newPath(z)}else if(aP=="*u"){I=!0;fp=0}else if(aP=="*U"||gD=="s"||gD=="f"||gD=="b"){if(aP!="*U"&&I){if(gD=="f"||gD=="b")fp|=1;
if(gD=="s"||gD=="b")fp|=2;continue}if(aP==gD)P.closePath(z);if(aP=="*U"){I=!1}var ig;if(t=="patt"){var gK=H.Setup.Pattern[n[0]];
ig=L.Lz(gK.raw,"<Pattern>",0,0);var bc=ig.rect.clone();bc.x=bc.y=0;var gS=l.o.IW(bc).w,im=w(n[2]);im.NO=im.Mx=0;
l.o.D(gS,im,gS);ig.add.SoLd.Trnf=c.V.SS(gS);ig.add.SoLd.nonAffineTransform=c.V.SS(gS);ig.R9(L,!1)}else{ig=L.HL();
ig.qX|=16;var jZ=ig.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));jZ.strokeEnabled.v=jZ.fillEnabled.v=!1;
if(t=="SoCo"){ig.add.SoCo=JSON.parse(hf.QI[hf.order.indexOf("SoFi")]);var aU=ig.add.SoCo.Clr.v;h(aU,n)}if(t=="GdFl")ig.add.GdFl=n;
if(gD=="f"||gD=="b"||aP=="*U"&&fp&1)jZ.fillEnabled.v=!0;if(gD=="s"||gD=="b"||aP=="*U"&&fp&2)hv.hz(jZ,z,1,hv.uH(J))}ig.XH("<"+(aP=="*U"?"Compound ":"")+"Path>"+E);
ig.WN=s;ig.opacity=Math.round(255*Y);ig.Su(f1==0);R(ig,z.pth,L);L.g.push(ig);P.newPath(z)}else if(aP==","&&gS[0]=="/XMLUID"){var jH=L.g[L.g.length-1];
for(var N=0;N<L.fU.length;N++)if("("+L.fU[N].docRef+")"==gS[2])L.fU[N].docRef="id('"+jH.add.lyid+"')"}else if(aP==","&&gS[1]=="/FreeUndo"){fm=fA[0]}else if(aP==","&&gS[1]=="/StoryIndex"){var a7=H.Setup.TextDocument,gO=null;
if(!(a7 instanceof Array))a7=H.Setup.TextDocument=m(a7,F);var ja=a7[0],hC=a7[2];if(ja._DocumentResources)ja=a7[0]=aN.a4d(ja);
else aN.a0m(ja);var ig=L.HL();ig.add.lnsr="rend";ig.add.TySh=bv.hT(0,0);var jP=fA[0];if(fm==1){for(var N=1;
N<60;N++){var dp=S[ff+N];if(dp.endsWith("/StoryIndex ,")){jP=parseFloat(dp.slice(2,dp.indexOf(" ")));
jE=!0;break}}fm=0}var fG=jl.auR(ja),b4=ig.add.TySh.cp=fG[jP];if(b4==null){console.log("text not found");
jE=!1;continue}ig.XH(bv.cR(b4).slice(0,50));ig.WN=s;ig.opacity=Math.round(255*Y);ig.Su(f1==0);var d0=ja._1._1[jP]._1._0[0]._0;
d0=parseInt(d0.slice(1));var ix=ja._0._8._0,dd=ix[d0]._0;if(dd._0)gO=X(dd._0);else if(dd._1)gO=X(dd._1._0);
else gO=X(dd._2._2).slice(3);if(gO.length!=2){var g9=l.o.TO(gO);gO=[g9.x,g9.y];if(g9.$()!=0){bv.lr(b4,1);
bv.yy(b4,[0,0,Math.round(g9.m),Math.round(g9.n)])}}var ab=new kp,du=new kp(1,0,0,1,gO[0],gO[1]),cG=new kp(1,0,0,1,-hC[0],-hC[1]),gY=w(z.ctm),c8=new kp;
if(dd._2&&dd._2._2){var $=X(dd._2._2);c8=new kp($[0],$[1],$[2],$[3],$[4],$[5])}ab.concat(du);ab.concat(c8);
ab.concat(cG);ab.scale(1,-1);ab.concat(gY);ig.add.TySh.D=ab;L.g.push(ig);L.UG=!0}else if(k&&fA.length>3){var ag=!1;
for(var N=0;N<fA.length;N++)if(isNaN(fA[N]))ag=!0;if(!ag)S[ff+1]=(d5+" "+S[ff+1]).replace(/\s\s+/g," ")}}}function a(L,S,$){var H=UDOC.G,f=[],F=[],U="/DeviceGray",r=1,E=[],k=1;
for(var P=0;P<L.length;P++){var z=L[P];if(z.endsWith(" /CS")){var s=z.indexOf("/NChannel"),Y=z.indexOf("/Process");
if(z.startsWith("/DeviceRGB")){U="/DeviceRGB";r=3}else if(z.startsWith("/DeviceGray")){U="/DeviceGray";
r=1}else if(z.startsWith("/DeviceCMYK")){U="/DeviceCMYK";r=4;E=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(s!=-1){U="/DeviceCMYK";
r=parseInt(z.slice(s-2,s-1));var t=1;for(var N=0;N<r;N++){t=z.indexOf("[",t);E[r-1-N]=z.slice(t+1,t+8).split(" ").map(parseFloat);
t++}}else if(Y){U="/DeviceGray";r=1}else throw z}else if(z[0]=="["){var n=z.indexOf("]"),J=z.slice(1,n).split(" ").map(parseFloat),I=z.slice(n+2),fp,cH,b,jL,aq,cJ;
if(I=="/Size"||I=="/P"||I=="/R")continue;if(I=="/S"||I=="/A"){fp=J[0];cH=J[1];b=J[2];jL=J[3];aq=J[4];
cJ=J[5]}else if(I=="/N"){var aB=r+(k==1?0:1),au;fp=J[aB+0];cH=J[aB+1];b=J[aB+2];jL=J[aB+3];aq=J[aB+5];
cJ=J[aB+6];if(U=="/DeviceRGB")au=J.slice(0,3);else if(U=="/DeviceGray")au=[J[0],J[0],J[0]];else if(U=="/DeviceCMYK"){var ea=[0,0,0,0];
for(var N=0;N<r;N++){var ax=J[N],f1=E[N];ea[0]+=ax*f1[0];ea[1]+=ax*f1[1];ea[2]+=ax*f1[2];ea[3]+=ax*f1[3]}au=G(ea)}else throw au;
au.push(J[r]);F.push([au,fp,cH])}else throw I;f.push([I,aq,cJ,fp,cH,b,jL])}else if(z=="/E"){var fk=f.slice(0),hF=0;
for(var N=0;N<f.length;N++){var fm=f[N][0];if(fm=="/N"){hF++;continue}var jE=N,ff=N+1;while(f[ff][0]!="/N"&&ff<f.length)ff++;
if(hF==0||hF==3){for(var d5=0;d5<ff-jE;d5++)fk[jE+d5]=f[ff-1-d5]}else for(var d5=jE;d5<ff;d5++){var eF=fk[d5],gI=eF[1];
eF[1]=eF[5];eF[5]=gI;gI=eF[2];eF[2]=eF[6];eF[6]=gI}N=ff-1}f=[];for(var N=0;N<fk.length;N++){var eF=fk[N];
f.push(eF[1],eF[2],eF[3],eF[4],eF[5],eF[6])}var fE=f.length;H.moveTo(S,f[2],f[3]);for(var N=0;N<fE;N+=6){var b=f[(N+4)%fE],jL=f[(N+5)%fE],aq=f[(N+6)%fE],cJ=f[(N+7)%fE],fp=f[(N+8)%fE],cH=f[(N+9)%fE];
H.curveTo(S,b,jL,aq,cJ,fp,cH)}H.closePath(S);f=[]}else if(z.endsWith("/Version"))k=parseFloat(z[0])}var js=$.HL();
js.qX|=16;js.XH("<Mesh>");var d8=js.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));d8.strokeEnabled.v=!1;
if(F.length>=2){var bt=0,io=0,ha=0;for(var N=0;N<F.length;N++)for(var d5=N+1;d5<F.length;d5++){var dp=F[N][0],gS=F[d5][0],aP=dp[0]-gS[0],gD=dp[1]-gS[1],fA=dp[2]-gS[2],jH=Math.sqrt(aP*aP+gD*gD+fA*fA);
if(jH>ha){ha=jH;bt=N;io=d5}}var aM=F[bt],jc=F[io],eQ=js.add.GdFl=x(0,[[0,aM[0]],[1,jc[0]]]),j1=w(S.ctm),i7=j1.nx(new eN(aM[1],aM[2])),fT=j1.nx(new eN(jc[1],jc[2])),hy=l.o.TO(S.pth.crds);
i7.x=(i7.x+fT.x)/2;i7.y=(i7.y+fT.y)/2;l.T.Q2(i7,fT,hy,eQ)}R(js,S.pth,$);$.g.push(js);H.newPath(S)}function x(L,S){var $=JSON.parse(hf.QI[hf.order.indexOf("GrFl")]),H=$.Grad.v;
H.Intr.v=0;$.Type.v.GrdT=["Lnr","Rdl"][L];l.T.yq(S,H);return $}function K(L){return L.slice(L.indexOf("(")+1,L.indexOf(")"))}function h(L,S){L.Rd.v=S[0]*255;
L.Grn.v=S[1]*255;L.Bl.v=S[2]*255}function X(L){var S=[];for(var N=0;N<L.length;N++)S[N]=parseFloat(L[N].slice(1));
return S}function w(L){return new kp(L[0],L[1],L[2],L[3],L[4],L[5])}function G(L){return UDOC.C.cmykToRgb(L)}function R(L,S,$){L.add.vmsk=new A.A3;
if(S.crds.length!=0)L.add.vmsk.i=d(S);L.fb();L.Rw($)}function d(L){var S={w:L.crds,G:L.cmds},$=l.o.RS(S,!1);
return $}function q(L,S){var $=[],k=0,Y=0;for(var H=0;H<2;H++){var f=S[["Raster","Place"][H]];if(f){for(var N=0;
N<f.length;N++){var F=f[N][["Data","PlacedObjectPreview"][H]];if(F==null)continue;var U=F._begin,r=F._end;
if(U>r)U=r;$.push([U,r])}}}$.sort(function(n,J){return n[0]-J[0]});var E=[S._begin];for(var N=0;N<$.length;
N++){var P=$[N],U=P[0]+32;E.push(U,P[1]);k+=P[1]-U}E.push(S._end);var z=S._end-S._begin,s=new Uint8Array(z-k);
for(var N=0;N<E.length;N+=2){var U=E[N],t=E[N+1]-U;s.set(new Uint8Array(L.buffer,U,t),Y);Y+=t}return u.SP(s).split(/\r\n|\r|\n/)}function m(L,S){if(L==null)return[];
var $=q(S,L),H="",f="",F=0,U;for(var N=2;N<$.length;N++){var r=$[N];if(r[0]=="%"){if(F==0)H+=r.slice(1);
else f+=r.slice(1)}else if(r==";")F++;else if(r.endsWith("/RulerOrigin ,"))U=r.split(" ").slice(0,2).map(parseFloat)}var E=[H,f],k=[];
for(var N=0;N<2;N++){var P=E[N],z=new Uint8Array(P.length);u.P9(z,0,P);var s=FromPS.F.ASCII85Decode({buff:z,off:0}),Y=dZ.kR(s);
k.push(Y)}k.push(U);return k}function M(L,S){if(L==null)return[];var $=q(S,L);$=$.slice(1);for(var N=0;
N<$.length;N++){var H=$[N];if(H[0]=="%")$[N]=H.slice(H[1]=="_"?2:1)}var f=v($);return f}function Z(L,S){var $={};
if(L==null)return $;for(var N=0;N<L.length;N++){var H=q(S,L[N]),f=H[1],F=K(f),U=f.slice(f.indexOf(")")+2).split(" ").map(parseFloat),r=[];
for(var E=2;E<H.length;E++)r.push(H[E].slice(2));$[F]={oD:U,EO:r}}return $}function Q(L,S){var $={},H,f;
if(L==null)return $;var F=[];for(var N=0;N<L.length;N++){var U=q(S,L[N]);for(var r=0;r<U.length;r++){var E=U[r];
if(E.endsWith("%_Bs")){var k=E.slice(0,E.length-4);if(!k.endsWith(" "))k+=" ";E=k+"%_BS"}if(E[0]=="("){var P=E.split(")");
H=P[0].slice(1);var z=P[1].split(" ");f=parseInt(z[1])}else if(E.endsWith("%_BS")){var P=E.split(" "),n,J=1;
P.pop();P=P.map(parseFloat);var s=P.pop(),Y=P.pop(),t=P.pop();if(t==0)n=[P[0],P[0],P[0]];else if(t==2||t==4)n=[P[4],P[5],P[6]];
else if(t==1||t==3)n=G(P);else if(t==6){if(P.length==3)n=[P[0],P[0],P[0]];else n=G(P);J=P.pop()}else{throw t}F.push([s/100,n,J,Y/100])}else if(E=="BD"){for(var I=0;
I<F.length-1;I++)F[I][3]=F[I+1][3];F.sort(function(fp,cH){return fp[0]-cH[0]});$[H]={a0:f,aeN:F};F=[]}}}return $}function p(L){var S="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),$=Date.now(),H=0,f=[],F={Header:{}},U=[F],r=L.length;
while(H<r){var E=H;while(E!=r&&L[E]!=13&&L[E]!=10){E++}if(L[H]==37&&L[H+1]==95&&L[H+2]==37)H+=2;if(L[H]==37&&(L[H+1]==37||L[H+1]==65)){var k=u.M7(L,H,E-H);
if(k=="%%EOF")break;if(k=="%%EndComments"||k=="%EndComments"||k=="%AI5_Begin_NonPrinting"||k=="%AI5_End_NonPrinting--"||k.startsWith("%AI17_Begin_Content_if_version_gt")||k=="%AI17_End_Versioned_Content"){}else{var P=k.indexOf("Begin"),z=Math.max(k.indexOf("_End"),k.indexOf("%End"));
if(P!=-1){var s=k.slice(P+5).split(":")[0],Y={_begin:H,_end:H},t=U[U.length-1];if(S.indexOf(s)!=-1){if(t[s]==null)t[s]=[];
t[s].push(Y)}else{if(t[s]!=null){console.log(U);throw k}t[s]=Y}U.push(Y);if(k.startsWith("%%BeginData")){E=u.k$(L,"%%EndData",H)}else if(k=="%AI9_BeginDocumentData")E=u.k$(L,"%AI9_EndDocumentData",E);
else if(k=="%AI11_BeginTextDocument")E=u.k$(L,"%AI11_EndTextDocument",E)}else if(z!=-1){U.pop()._end=H}else if(U.length==1&&(k.startsWith("%AI")||k.startsWith("%%")&&k.indexOf(" ")!=-1)){var n=1;
if(k.startsWith("%AI"))while(k[n]!="_"&&n<k.length)n++;var J=k.indexOf(":");if(J==-1)J=k.indexOf(" ");
var I=k.slice(n+1,J),fp=k.slice(J+1).trim();F.Header[I]=fp}}}H=E;if(L[H]==13)H++;if(L[H]==10)H++}return F}function y(L,S){var $=Date.now(),H=new Uint8Array(L),f,F=H[2]==68;
if(S)console.log(!F?"EPS":"PDF");if(F){var U=u.k$(H,"/AIMetaData "),jL=!1,aq=!1;while(H[U]!=60)U--;U--;
var r=u.k$(H,">>",U),E=u.M7(H,U+2,r-U-2).split("/"),k=[];for(var N=0;N<E.length;N++){var P=E[N],z=P.startsWith("AIPrivateData"),s=P.startsWith("AIPDFPrivateData");
if(!z&&!s)continue;var Y=P.trim().split(/\s+/),t=parseInt(Y[1]),n=parseInt(Y[0].slice(z?13:16));k.push([n,t])}if(S)console.log("--- map made",Date.now()-$);
$=Date.now();var J=FromPDF.indexOfXref(H),I=[],fp=FromPDF.readXrefTrail(H,J,I),cH={buff:H,off:0},b=new Array(k.length),cJ=U;
for(var N=0;N<k.length;N++){var n=k[N][0],t=k[N][1],aB=FromPDF.getIndirect(t,0,cH,I),au=aB.buff,ea=aB["/Filter"],ax=0;
if(ea!=null&&typeof ea=="string")ea=[ea];var f1=u.M7(au,ax,ax+20);if(f1=="%AI12_CompressedData"){ax+=20;
jL=!0}else if(f1=="%AI24_ZStandard_Data"){ax+=20;aq=!0}au=new Uint8Array(au.buffer,au.byteOffset+ax,au.length-ax);
if(ea)for(var fk=0;fk<ea.length;fk++){var hF=ea[fk];if(hF=="/FlateDecode")au=pako.inflate(au);else if(hF=="/ASCIIHexDecode")au=FromPS.F.HexDecode({buff:au,off:0});
else if(hF=="/ASCII85Decode")au=FromPS.F.ASCII85Decode({buff:au,off:0});else throw hF}b[n-1]=au}if(S)console.log("--- arrays found",Date.now()-$);
$=Date.now();var fm=u.M7(b[0],0,13);if(fm=="%%BoundingBox"||fm=="%AI7_Thumbnai")b=b.slice(1);if(fm=="%AI24_ZStanda"){b[0]=b[0].slice(20);
aq=!0}if(u.M7(b[0],0,13)=="%AI12_Compres"){b[0]=b[0].slice(20);jL=!0}f=V(b);if(S)console.log("--- concatenated",Date.now()-$);
$=Date.now();if(jL)f=UZIP.inflate(f);if(aq)f=bl.Tr.Lg(f);if(S)console.log("--- inflated",Date.now()-$);
$=Date.now()}else{var jE=u.SP(H);if(jE.indexOf("%AI5_BeginLayer")!=-1){f=H}else{var ff=jE.split(/[\n\r]+/),d5=[],eF=!1;
for(var gI=0;gI<ff.length;gI++){var fE=ff[gI].trim();if(fE=="%AI9_PrivateDataEnd"){eF=!1;break}else if(fE=="%AI9_DataStream"||fE=="%AI24_DataStream"){eF=!0}else if(eF)d5.push(fE.slice(1))}var js=u.Jz(d5.join("")),d8=FromPS.F.ASCII85Decode({buff:js,off:0});
if(d8[0]==120&&d8[1]==156)f=UZIP.inflate(d8);else f=bl.Tr.Lg(d8)}}return f}function V(L){var S=0,H=0;
for(var N=0;N<L.length;N++)S+=L[N].length;var $=new Uint8Array(S);for(var N=0;N<L.length;N++){var f=L[N];
$.set(f,H);H+=f.length}return $}function W(L,S){for(var N=0;N<S.length;N++)if(L.startsWith(S[N]))return!0;
return!1}function v(L){var S=[],$=[],top=-1,H,f=null,F=null,U=0;for(var r=0;r<L.length;r++){var E=L[r];
if(H){E=H+E;H=null}var k="\t".repeat(S.length);if(f!=null){f.push(E);if(E.endsWith("~>")){var P=u.Jz(f.join("")),z=FromPS.F.ASCII85Decode({off:0,buff:P});
S.push(z);$.push(!1);top++;f=null}}else if(F!=null){if(E=="X+"){if(U==1){S.push(F);$.push(!1);top++;
F=null}else U--}else if(E=="X=")U++;else F.push(E)}else if(E=="/Binary : /ASCII85Decode ,"){f=[]}else if(E=="X="){F=[];
U++}else if(E=="/SVGFilter :"||E=="; /Def ;")continue;else if(E.startsWith("/XMLUIDREF :")){var s=j(E);
S[top][s[4]]=s[2]}else if(E.startsWith("/")&&E[1].toUpperCase()!=E[1].toLowerCase()){if(E.startsWith("/XMLUID")){var s=j(E);
if($[top])throw"e";S[top][s[4]]=s[2]}if(E.startsWith("/GObjRef")){var s=j(E);if(!$[top])throw"e";S[top].push(s[2])}else{var Y=E.startsWith("/Array")||E.startsWith("/Document");
S.push(Y?[]:{});$.push(Y);top++}}else if(E.endsWith(",")){var t,n,s=j(E);s.pop();if(s[0]==";"||s.length==1){n=S.pop();
$.pop();top--;t=$[top]?null:s.pop()}else{t=$[top]?null:s.pop();var J=s.pop(),I=s[0];if(J=="/Int")n=parseInt(I);
else if(J=="/Real")n=parseFloat(I);else if(J=="/Bool")n=I=="1";else if(J=="/String"||J=="/UnicodeString")n=s.join("");
else if(J=="/RealMatrix"||J=="/RealPoint"||J=="/RealPointRelToROrigin")n=s.map(parseFloat);else throw J}if($[top])S[top].push(n);
else S[top][t]=n}else if(E==";"){}else if(E==""){}else{if(E.indexOf("/RealPoint")!=-1){}else if(E.startsWith("(")&&E.endsWith(")")){}else if(E.endsWith("/RealMatrix")){}else throw E;
H=H?H+E:E}}return S}function j(L){var S=0,$=[];while(S<L.length){var H=L[S],f=H.charCodeAt(0);if(H==" ")S++;
else if(H==","||H==";"||H==":"){$.push(H);S++}else if(H=="("){var F=S+1;while(!(L[F]==")"&&L[F-1]!="\\"))F++;
var U=L.slice(S+1,F);$.push(U);S=F+1}else if(H=="/"||H=="-"||48<=f&&f<=57){var F=S;while(L[F]!=" ")F++;
$.push(L.slice(S,F));S=F}else throw H}return $}function e(L){var S="";for(var N=0;N<L.length;N++){if(L[N]=="_"&&L[N+1]=="x"){var ee=parseInt(L.slice(N+2,N+4),16);
S+=String.fromCharCode(ee);N+=4}else if(L[N]=="_")S+=" ";else S+=L[N]}return S}function T(L){var S="xmlnode-nodename",$="xmlnode-nodevalue",H="xmlnode-attributes",f="xmlnode-children",F=L[S],U=L[H],r=L[f],E={_nam:F};
for(var k in U){var P=U[k];if(Object.keys(P[H]).length!=0||P[f].length!=0)throw"e";if(P[S]!=k)throw"e";
E[k]=P[$]}if(r.length==0)return E;var z=E.cln=[];for(var N=0;N<r.length;N++)z.push(T(r[N]));return E}function O(L){var S="xmlnode-nodename",$="xmlnode-nodevalue",H="xmlnode-attributes",f="xmlnode-children",F=L[S].split(":").pop().replace("#",""),U=L[H],r=L[f],E="<"+F;
for(var k in U)if(k!="xmlns"&&k!="xmlns:v")E+=" "+k.split(":").pop()+"=\""+U[k][$]+"\"";E+=">"+(r.length==0?"":"\n");
for(var N=0;N<r.length;N++)E+=O(r[N]);if(L[$])E+=L[$];return E+"</"+F+">\n"}return o}();function fC(){}fC.kR=function(){var o,g,C,a,x,p,y,V;
function K(U){return u.E5(o,U)}function h(U){return u.Kk(o,U)}function X(U){return u.KI(o,U)}function w(U){return u.OC(o,U)}function G(U,r){var E=[];
for(var N=0;N<r;N++)E.push(X(U+N*4));return E}function R(U,r){var E=[];for(var N=0;N<r;N++)E.push(K(U+N*8));
return E}function d(U){return X((U+1)*4096-12)}function q(U){return X((U+1)*4096-8)}function m(U,g,r,E){if(a[U]==null)a[U]=[];
a[U].push([E,new Uint8Array(o.buffer,g,r)])}function M(U,r,E,k){var P=C[U],g=P*4096;g=g+X(g+4096-24-12-r*4);
var z=h(g),s=o[g+2],Y=o[g+3];if(r!=s)throw s;if(Y==0)m(k,g+4,E,9);else{var t=h(g+6),n=X(g+8);m(k,g+12,z-12,9);
M(n,t,E-(z-12),k)}}function Z(){var U=X(352),r=X(U*4096+128),E=X(936),k=X(E*4096+128);C=G(k*4096+128,4096-128-12>>>2);
a={};x={};for(var P=0;P<C.length;P++){var z=C[P],s=d(z);if(s!=6)continue;var g=z*4096,Y=X(g);g+=4;for(var N=0;
N<Y;N++){var t=X(g);g+=4;var n=X(g);g+=4;var J=X(g);g+=4;var I=X(g);g+=4;if(t==0)x[n]=J;else{var fp=J&65535,cH=J>>>16;
if(cH==0)m(n,I*4096,fp,8);else M(I,cH,fp,n)}}}var p={};for(var b in a){var jL=a[b],aq=jL.length;if(aq==1)p[b]=jL[0][1];
else{var cJ=0,g=0;for(var N=0;N<aq;N++)cJ+=jL[N][1].length;var aB=p[b]=new Uint8Array(cJ);for(var N=0;
N<aq;N++){aB.set(jL[N][1],g);g+=jL[N][1].length}}}return p}function Q(g,U){var r=U?X(g):h(g),E="";g+=U?4:2;
while(E.length<r){var k=o[g++],P=o[g++],z=0;k+=(P&15)*256;P=P&240;for(var N=0;N<k;N++){if(P==64)z=o[g++];
else if(P==128)z=o[g++]|o[g++]<<8;else throw P;E+=String.fromCharCode(z)}}return[E,g]}function W(g,U,r){var E=G(g,U);
for(var N=0;N<U;N++){r.push(N);if(E[N]>y)throw"e";E[N]=j(E[N],r);r.pop()}return E}var v={};function j(U,r){if(V.indexOf(U)!=-1)return p[U];
if(U==0)return null;if(p[U]==null)return null;if(!(p[U]instanceof Uint8Array))return p[U];var E=o,g=0;
o=p[U];V.push(U);var k=x[U].toString(16),P=p[U]={_type:F[k]?F[k]+":"+k:"typ-"+k,_eid:U};while(g+8<o.length){var z=X(g);
g+=4;var s=z.toString(16),Y=X(g);g+=4;var t=g+Y;if(g+Y>o.length){P._bin=o;break}e(s,S,P,g,Y,r);g=t}o=E;
V.pop();return P}function e(U,r,E,g,k,P){var z=r[U+":"+E.Yf];if(z==null)z=r[U];P.push(z?z[0]==""?U:z[0]:U);
if(z){var s=z[0],Y=null,t=z[1];if(s=="")s=t+"-"+U;if(H[t]&&k!=H[t]){console.log(t);console.log(U,z);
console.log(o.slice(g,g+k));throw"e"}if(t=="mat")Y=R(g,6);else if(t=="mmat")Y=[j(X(g),P),R(g+6,6)];else if(t=="rect")Y=R(g,4);
else if(t=="mrct"){Y=R(g,4);Y.push(h(g+32))}else if(t=="doub")Y=K(g);else if(t=="pointArr"){var n=h(g);
Y=G(g+2,n*2)}else if(t=="usrt")Y=h(g);else if(t=="uint")Y=X(g);else if(t=="pntr"||t=="ptr6"){Y=j(X(g),P)}else if(t=="bool2"){if(h(g)!=0&&h(g)!=1)throw h(g);
Y=h(g)==1}else if(t=="bool4"){if(X(g)!=0&&X(g)!=1)throw X(g);Y=X(g)==1}else if(t=="color"){if(k!=38&&k!=30)throw k;
var J=X(g),I=h(g+4);Y=[J];for(var N=0;N<I;N++)Y.push(K(g+6+N*8))}else if(t=="path"){var fp=g+k;Y={tv:[]};
var cH=X(g);g+=4;for(var N=0;N<cH;N++){var b=[];Y.tv.push(b);var jL=X(g);g+=4;for(var aq=0;aq<jL;aq++){var J=X(g);
g+=4;if(J<2){b.push([J,K(g),K(g+8),K(g+16),K(g+24),K(g+32),K(g+40)]);g+=48}else if(J==2){b.push([J,K(g),K(g+8)]);
g+=16}else throw J}}Y.Uf=h(g)}else if(t=="ptrAndList"){var cJ=X(g),aB=X(g+4);Y=W(g+8,aB,P);Y.unshift(j(cJ,P))}else if(t=="ptrArray"||t=="ptrArrayX"){var au=k>>2;
if(t=="ptrArray"){au=X(g);g+=4;if(k!=4+au*4)throw k}Y=W(g,au,P)}else if(t=="ptrArray2"){var au=X(g);
g+=4;Y=W(g,au,P);g+=au*4;au=X(g);g+=4;Y.push(W(g,au,P))}else if(t=="cldrn"){var ea=X(g),ax=X(g+4),au=X(g+8);
Y={t:j(ea,P),A_:j(ax,P),Mg:W(g+12,au,P)};if(k!=12+au*4){console.log(U,sa);throw"e"}if(ea==0)throw ea}else if(t=="aprnc"){var au=X(g);
g+=4;Y={};for(var N=0;N<au;N++){var f1=X(g),fk=h(g+4),hF=h(g+6);g+=8;var fm=f[f1.toString(16)];if(fm==null)fm="prm-"+f1.toString(16);
else fm=L(fm);Y[fm]=[];for(var aq=0;aq<hF;aq++){var jE=X(g),ff=h(g+4),d5=null;g+=6;if(jE==28264)d5=K(g);
else if(jE==28263)d5=X(g);else if(jE==279)d5=j(X(g),P);else if(jE==28261)d5=h(g)==1;else if(jE==28265)d5=[K(g),K(g+4)];
else if(jE==28259||jE==28260||jE==23094)d5=o.slice(g,g+ff);else throw jE;Y[fm].push(d5);g+=ff}}}else if(t=="lopts"){Y={agc:h(g+0)==1,show:h(g+2)==1,ap9:h(g+4)==1,_S:X(g+10),name:Q(g+21)[0]}}else if(t=="origin"){g++;
var n=X(g);g+=4;var eF=u.M7(o,g,n);g+=n;g+=16;var gI=Q(g,!0)[0];g+=4+2+gI.length;g+=19;var fE=Q(g)[0];
g+=2+2+fE.length;Y={file:eF,id:gI,Ts:fE}}else if(t=="string")Y=Q(g+3)[0];else if(t=="relEnt"){var js=h(g);
g+=2;Y=[];for(var N=0;N<js;N++)Y.push([X(g+N*8),j(X(g+N*8+4),P)])}else if(t=="textData"){var fp=g+k,d8=X(g);
g+=4;var f1=X(g);g+=4;var I=h(g);g+=2;var bt=[];for(var N=0;N<I;N++){var io=X(g);g+=4;if(d8==514)bt.push(Q(g,!0)[0]);
else if(d8==515){var ha=X(g),U=X(g+4),dp=T(g+8,P);bt.push([ha,j(U,P),dp])}else if(d8==516){var ha=X(g),U=X(g+4),gS=h(g+8),dp=T(g+8,P);
bt.push([ha,j(U,P),dp])}else bt.push(o.slice(g,g+io));g+=io}if(fp-g!=12)throw fp-g;Y=bt}else if(t=="storyProps"){var aP=X(g);
if(h(g+4)!=1)throw"e";var gD=j(X(g+6),P),I=X(g+10),fA=j(X(g+14+I*4),P);Y={awn:aP,a4v:gD,Mg:W(g+14,I,P),am9:fA,aua:G(g+14+I*4+4,4)}}else if(t=="styleProps")Y=T(g,P);
else if(t=="bounds"){var jH=g,js=X(g);g+=4;Y=[];for(var N=0;N<js;N++){var aM=[];Y.push(aM);for(var aq=0;
aq<4;aq++)aM.push(K(g+aq*8));g+=32;aM.push(o[g]);g++}if(g!=jH+k)throw"e"}else if(t=="columnPos"){var js=X(g);
g+=4;Y=[R(g,js),K(g+js*8)];g+=js*8+8}else if(t=="StyleName"){Y=[X(g+4)]}else if(t=="fontName"){var fp=g+k;
Y=[h(g)];g+=2;for(var N=0;N<2;N++){var eF=Q(g+3);g=eF[1];Y.push(eF[0])}Y.push(X(g));g+=4;var jc=h(g);
g+=2;Y.push(jc);var eQ=h(g);g+=2;var j1=[];Y.push(j1);for(var i7=0;i7<eQ;i7++){var fT=[];j1.push(fT);
var eF=Q(g+3);g=eF[1];fT.push(eF[0]);var hy=h(g);g+=2;var eF=u.M7(o,g,hy);g+=hy;fT.push(eF);for(var N=0;
N<3;N++){var eF=Q(g+3);g=eF[1];fT.push(eF[0])}fT.push(X(g));g+=4;var eF=Q(g,!0);g=eF[1];fT.push(eF[0])}if(g+4!=fp)throw"e";
Y.push(X(g))}else throw t;if(Y==null)throw"e";if(E[s]!=null){console.log(s,E[s],Y);console.log(P.slice(0));
console.log(eid,U,g,E[s],z,Y);throw"e"}E[s]=Y}else{var hJ=o.slice(g,g+k);E["prop-"+U]=hJ}P.pop()}function T(g,U){var r=h(g);
g+=2;var E={};for(var N=0;N<r;N++){var k=X(g);g+=4;var P=k.toString(16),z=h(g);g+=2;var s=h(g);g+=2;
for(var Y=0;Y<s;Y++){var t=X(g);g+=4;var n=h(g);g+=2;e(P,$,E,g,n,U);g+=n}}return E}function O(U){o=new Uint8Array(U);
p=Z();var r=p[2147483649];r=u.SP(r,4,r.length-4);delete p[2147483649];y=0;for(var E in p)y=Math.max(y,parseInt(E));
V=[];var k={};for(var E in p)k[E]=p[E];for(var E in p)j(parseInt(E),[]);return p}function L(U){U=U.split(" ").join("");
return U[0].toLowerCase()+U.slice(1)}var S={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"118":["","bool4"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},$={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["fontSize","doub"],"1b11":["case","usrt"],"1b1b":["leading","doub"],"1b2a":["underline","bool2"],"1b2b":["font","pntr"],"1b7e":["align","usrt"]},H={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},f={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length"},F={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","3e03":"Font","6201":"Path",ca18:"StoryText"};
return O}();function j6(){}j6.kR=function(){var o=0;function g(w,G){var R=fC.kR(w),L=1;o=0;var d=R[1];
console.log(d);var q=d.spreads,m=d.layers,M=[],Z=new aS;for(var Q=0;Q<q.length;Q++){var p=q[Q],y=p.children.Mg,V=a(p),W=y[0].children.Mg,v=new aS;
for(var j=0;j<W.length;j++){var e=W[j],T=a(e);T.concat(V);var O=C(e);O.offset(T.NO,T.Mx);O=l.o.ul(O);
v=v.ae(O)}M.push(v);Z=Z.ae(v)}while(Math.sqrt(Z.$())*L<1e3)L++;G.m=Z.m*L;G.n=Z.n*L;G.buffer=new Uint8Array(4*G.m*G.n);
G.UG=!0;G.dU(q.length);for(var Q=0;Q<q.length;Q++){var S=G.HL(),$=m[Math.min(Q+1,m.length-1)].lopts;
S.qX=24;S.add.lsct=kj.ah;S.XH($.name);S.Su($.show);if($.agc)S.add.lspf=1<<31;var H=M[Q].clone();H.offset(-Z.x,-Z.y);
H.x*=L;H.y*=L;H.m*=L;H.n*=L;H=l.o.ul(H);S.xJ(H);S.WN="pass";G.g.push(G.kF());var p=q[Q],y=p.children.Mg,V=new kp;
V.concat(a(p));V.translate(-Z.x,-Z.y);V.scale(L,L);var f=y[2].children.Mg;for(var N=0;N<f.length;N++)K(f[N],G,V,R);
G.g.push(S)}}function C(w){var G=w.rect;return new aS(G[0],G[1],G[2],G[3])}function a(w){var G=w.transform;
return new kp(G[0],G[1],G[2],G[3],G[4],G[5])}function x(w){var G=w.color,R=G[0],d;if(R==5)d=G.slice(1);
else if(R==6)d=UDOC.C.cmykToRgb(G.slice(1));else{console.log(G);throw R}return d}function K(w,G,R,d){var q=a(w);
q.concat(R);R=q;var m=w.path,M=w.appearance,Z=w.visible,Q=w.children.Mg,p=G.HL();if(Z!=null)p.Su(Z);
if(Q&&Q.length==1&&Q[0].bitmapFill){p.XH("bitmap");var y=Q[0],V=C(y),W=a(y);W.concat(R);var v=y.bitmapFill.bitmap;
v=d[v]._bin;var j=G.Lz(v,"img.jpg",0,0);j.qX=p.qX;p=j;var e=[0,0,V.m,0,V.m,V.n,0,V.n];l.o.D(e,W,e);p.add.SoLd.Trnf=c.V.SS(e);
p.add.SoLd.nonAffineTransform=c.V.SS(e);p.R9(G,!1);var T=y.path;if(T&&T.tv.length!=0)p.add.vmsk=X(T,W);
else if(m&&m.tv.length!=0)p.add.vmsk=X(m,R);p.fb();p.Rw(G)}else if(w["bool2-1623"]){if(M&&M.strokeSwatch){var O=G.HL();
h(O,G,M,m,R);G.g.push(O)}var L=Q[0],V=C(L),W=a(L),z=0;W.concat(R);var S=L.children.Mg[0],$=S.obj228,H=$[0].story[1];
console.log(H);var f=H.stoProps.a4v.relEnt,F=H.stoProps.Mg[0].relEnt,U=H.stoProps.Mg[1]["ptrArrayX-210"][0].textData,r=d[f[0][1].textData[0][1].name[0]],E=r?r.styProps:{};
U=U.join("").replace(/\r/g,"\n");U=U.slice(0,U.length-1);p.XH("text");p.add.lnsr="rend";p.add.TySh=bv.hT(0,0);
p.add.TySh.Vf=V;p.add.TySh.D=W;var k=p.add.TySh.cp;bv.l6(k,0,U);var P=bv.SX(k,0,U.length);P.Fn.FontSize=10;
bv.dG(k,0,U.length,P);for(var s=0;s<2;s++){z=0;var Y=s==0?F:f;for(var t=0;t<Y.length;t++){var n=Y[t][1].textData;
for(var N=0;N<n.length;N++){var J=n[N][0],I=Math.min(z+J,U.length-1),fp=n[N][1],cH=n[N][2],b=fp.styProps;
if(b==null)b={};var jL={};for(var aq in E)jL[aq]=E[aq];for(var aq in b)jL[aq]=b[aq];for(var aq in cH)jL[aq]=cH[aq];
var P=bv.SX(k,z,I);if(s==0){if(jL.underline)P.Fn.Underline=!0;if(jL.fillColor){var cJ=x(jL.fillColor);
P.Fn.FillColor={Type:1,Values:[1].concat(cJ)}}if(jL.fontSize)P.Fn.FontSize=jL.fontSize;if(jL.font){var aB=jL.font.name[5],au=jL.fontStyle;
if(au==null)au="Regular";for(var ea=0;ea<aB.length;ea++)if(aB[ea][0]==au)bv.s2(P,aB[ea][1])}if(jL.leading!=null&&jL.leading>1){P.Fn.Leading=jL.leading;
P.Fn.AutoLeading=!1}if(jL.case!=null)P.Fn.FontCaps=jL.case}else{if(jL.align!=null)P.Yt.Justification=[0,2,1,6,3,5,4,0,0,0][jL.align]}bv.dG(k,z,I,P);
z+=J}}}bv.lr(k,1);bv.yy(k,[0,0,Math.round(V.m),Math.round(V.n)])}else if(m){h(p,G,M,m,R)}else if(Q){p.XH("group");
p.qX=24;p.add.lsct=kj.ah;G.g.push(G.kF());for(var N=0;N<Q.length;N++)K(Q[N],G,R,d)}if(M){var ax=M.objectBlendingMode,f1=M.objectOpacity;
if(ax)p.WN="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[ax[0]];
if(f1)p.opacity=Math.round(255*f1[0]/100)}if(w.name)p.XH(w.name);G.g.push(p)}function h(w,G,R,d,q){w.XH("path");
w.qX|=16;var m=w.add.vstk=JSON.parse(JSON.stringify(hf.ly.default)),M=[0,0,0];if(R){var Z=R.strokeSwatch,Q=R.fillSwatch,p=R.strokeWeight;
m.strokeEnabled.v=Z!=null;m.fillEnabled.v=Q!=null;if(Z){m.strokeStyleLineWidth.v.val=p?p[0]:1;M=x(Z[0]);
m.strokeStyleContent.v.Clr.v=l.T.CT({z:M[0]*255,B:M[1]*255,K:M[2]*255})}if(Q){M=x(Q[0])}}w.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.T.CT({z:M[0]*255,B:M[1]*255,K:M[2]*255})}};
w.add.vmsk=X(d,q);w.fb();w.Rw(G)}function X(w,G){var R=new A.A3,d=R.i,q=w.Uf==0;for(var m=0;m<w.tv.length;
m++){var M=w.tv[m],Z=M.length,Q=q?0:3;d.push({type:Q,length:Z,j4:0,Y9:2,yc:0,km:0});for(var N=0;N<Z;
N++){var p=M[N],y=p[0],V=new eN(p[1],p[2]),W=new eN(p[3],p[4]),v=new eN(p[5],p[6]);if(y==0||y==1)d.push({type:Q+2,rD:V,H:W,lu:v});
else if(y==2)d.push({type:Q+2,rD:V,H:V,lu:V});else throw y}}l.M.Jg(d,G);return R}return g}();var c={};
c.r=function(o){return window.devicePixelRatio||1};c.YD=function(o,g){return(g.au$=="touch"?12:8)*c.r()/o.u.R};
c.rr=function(o,g,C){this.name=o;this.id=g;this.s0=null;if(C!=null)this.DM=C};c.rr.prototype.i2=function(o,g,C,a,x){};
c.rr.prototype.enable=function(o,g,C,a,x,K){var h=new jO(D.E.X,!0);h.data={C:D.t._N,Hz:"default"};g.c(h)};
c.rr.prototype.disable=function(o,g,C,a,x){};c.rr.prototype.xy=function(o,g,C,a,x){return!1};c.rr.prototype.xA=function(o,g,C,a,x){};
c.rr.prototype.Pg=function(o,g,C,a,x){};c.rr.prototype.kh=function(o,g,C,a,x){};c.rr.prototype.eO=function(o,g,C,a,x,K){};
c.rr.prototype.qG=function(o,g,C,a,x){};c.rr.prototype.Uh=function(o,g,C,a){};c.rr.prototype.Lu=function(o,g,C,a){};
c.rr.prototype.SW=function(o,g){};c.rr.prototype.Op=function(o,g){};c.rr.prototype.jD=function(o,g,C,a,x){};
c.rr.prototype.Xt=function(o,g){};c.rr.prototype.td=function(o,g){return!1};c.rr.prototype.qt=function(o,g){return!1};
c.rr.prototype.rJ=function(){return!1};c.rr.prototype.I9=function(o,g){return!0};c.rr.prototype.eq=function(){return null};
c.rr.prototype._M=function(o,g,C){};c.rr.prototype.Zv=function(){return!1};c.rr.prototype.xQ=function(o,g,C,a){};
c.rr.prototype.track=function(o){var g=new jO(D.E._h,!0);g.data=o;o.zu=!0;this.s0.c(g)};c.rr.Jj=function(o,g,C,a){var x=10*c.r()*(o.au$=="touch"?2:1),K=o.x+x,h=o.y-x,X=l.aE.Cg(g.m,C.zC,a,C.m,!0),w=l.aE.Cg(g.n,C.zC,a,C.n,!0);
while(X.length<w.length)X=" "+X;while(X.length>w.length)w=" "+w;c.rr.Rd(K,h,[fF.get([12,41]).charAt(0)+": "+X,fF.get([12,42]).charAt(0)+": "+w],C)};
c.rr.Rd=function(o,g,C,a){function x(G,Z,Q,p,y,V){G.beginPath();G.moveTo(Z,Q+V);G.arcTo(Z,Q+y,Z+V,Q+y,V);
G.arcTo(Z+p,Q+y,Z+p,Q+y-V,V);G.arcTo(Z+p,Q,Z+p-V,Q,V);G.arcTo(Z,Q,Z,Q+V,V)}var K=c.r(),h=Math.round,X=h(11*K),w=c.rr.Ze,R=0;
if(w==null)w=c.rr.Ze=document.createElement("canvas");var G=w.getContext("2d");G.font=X+"px monospace";
for(var N=0;N<C.length;N++)R=Math.max(R,G.measureText(C[N]).width);var d=h(R+12*K),q=h((C.length*14+5)*K),m=new aS(o,g-q,d,q);
if(w.width!=d||w.height!=q){w.width=d;w.height=q}G.clearRect(0,0,d,q);G.fillStyle="rgba(0,0,3,0.8)";
x(G,0,0,d,q,h(4*K));G.fill();G.fillStyle="rgba(255,255,255,1)";for(var N=0;N<C.length;N++)G.fillText(C[N],h(6*K),h((N+1)*13*K));
var M=[G.getImageData(0,0,d,q).data,m.clone()];if(a)a.b.hl=[M];return M};c.rr.Ze=null;c.zO="0";c.pn="1";
c.I0="2";c.h4="3";c.w_="5";c.z8="6";c.sI="7";c.wg="8";c.nX="9";c.IM="10";c.T7="11";c.i7="12";c.hh="13";
c.sd="14";c.UC="16";c.jy="18";c.Zm="19";c.Qi="20";c.YE="21";c.oU="22";c.Yc="23";c.yC="24";c.oL="25";
c.em="27";c.p_="31";c.G0="32";c.zb="34";c.Cm="35";c.vw="36";c.B8="37";c.bt="38";c.dv="39";c.Xs="40";
c.gD="41";c.x1="42";c.Hf="43";c.XJ="44";c.rv="47";c.v7="48";c.zL="51";c.iM="52";c.FA="54";c.Gh="55";
c.yu="56";c.Ie="57";c.Et="58";c.rT="59";c.Ue="60";c.SL="61";c.Uo="70";c.GD="100";c.bC="101";c.JA="102";
c.V6="103";c.zQ="120";c.i1="230";c.aen="231";c.DY="232";c.qd="233";c.gc="234";c.C3="235";c.nk="236";
c.arI=function(o){var g=c.Zs,C=null;for(var a in g)if(g[a][1].indexOf(o[1].classID)!=-1)C=a;return C};
c.Zs={};c.Zs[c.Yc]=["tools/brush",["PbTl"]];c.Zs[c.yC]=["tools/pencil",["PcTl"]];c.Zs[c.p_]=["tools/eraser",["ErTl"]];
c.de=function(o,g,C){c.rr.call(this,o,g,C);this.i8={brush:o?e5.pf():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.wq=null;this.gi=null;this.pW=null;this.TP=null;this.St=null;this.MY=null;this.z_=null;this.dZ=null;
this.tC=null;this.gY=null;this.tE=null;this.fl=null;this.sh=null;this.li=1;this.dW=!1;this.$M=null;this.caller=null};
c.de.prototype=new c.rr;c.de.prototype.qt=function(o,g){return o.H3&&g.a(c_.sH)};c.de.prototype.Pg=function(o,g,C,a,x){if(a.a(c_.LW)){this.MY=new eN(x.x,x.y);
var K=this.i8.brush.Brsh.v,h=K.Dmtr.v.val,X=K.Hrdn!=null?K.Hrdn.v.val:-1;this.z_=[h,X,!0,JSON.parse(JSON.stringify(this.i8.brush)),x];
this.MW(C)}};c.de.prototype.Ec=function(o,g,C){var a=this.z_,x=o.u.R,K=C.x-a[4].x,h=C.y-a[4].y,X=a[0],w=a[1],G=Math.abs(K)>Math.abs(h);
if(G&&a[2]){var R=Math.round(2*K/x);X+=R;C.x-=K-.5*R*x}if(!G&&!a[2]&&w!=-1){var R=Math.round(.25*h);
w+=R;C.y-=h-4*R}X=Math.max(1,X);w=a[1]==-1?-1:Math.max(0,Math.min(100,w));var d=a[3];d.Brsh.v.Dmtr.v.val=X;
if(w!=-1)d.Brsh.v.Hrdn.v.val=w;this.z_=[X,w,G,d,C];var q=fn.bh(d,g.v1.H7,x),m=q[1];m.x=Math.round(this.MY.x-m.m/2);
m.y=Math.round(this.MY.y-m.n/2);o.b.gk=[q];var M=o.u.w2(this.MY.x,this.MY.y);o.b.uL={Jw:[],kG:[M.x-X/2,M.y,M.x+X/2,M.y]};
if(w!=-1)o.b.uL.kG.push(M.x+50/x,M.y-w/2,M.x+50/x,M.y+w/2);o.dF=!0};c.de.prototype.qG=function(o,g,C,a,x){if(this.id==c.Qi||this.id==c.YE)return;
if(this.MY){this.MY=null;this.fO(JSON.parse(JSON.stringify(this.z_[3])));o.b.gk=[];o.b.uL=null;o.dF=!0;
return}var K=new jO(D.E.X,!0);K.data={C:D.t.Gy,F:this.id,aif:"showBrushOpts",YA:new eN(x.El+4,x._i)};
g.c(K)};c.de.prototype.fO=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.sM,eA:e1.OL,qn:o};this.caller.c(g)};
c.de.p3=function(o,g,C,a,x,K){if(o==null)o="FrgC";if(g==null)g="norm";if(C==null)C=1;if(x==null)x=!1;
var h={classID:"Fl",Usng:{t:"enum",v:{FlCn:o}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(C*100)}},PrsT:{t:"bool",v:x},Md:{t:"enum",v:{BlnM:cP.Cw(g)}}};
if(o=="Clr")h.Clr={t:"Objc",v:a};if(o=="contentAware")h.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(o=="Ptrn")h.Ptrn={t:"Objc",v:K};return{j7:"fill",FS:h}};c.de.prototype.i2=function(o,g,C,a,x){this.s0=g;
var K=C.Ix.length;if(K==0&&!C.zj())return;var h=K!=0?-1-C.Ix[0]:C.A[0],X=C.g[h];if(o.C=="fromAction"){var w=o.mb,G=w.FS;
if(G&&G.null&&G.null.v[0]&&G.null.v[0].v.classID=="Path"){var R=C.DE(),d=R[0],q=R[1],m=d[q.length==0?0:q[0]].add.vmsk;
if(w.j7=="fill"){var M=m.KN(),Z=x.L$,Q=this.i8,p=Z>>16&255,y=Z>>8&255,V=Z>>0&255;this.l0(C,X,M,p,y,V,Math.round(Q.opacity*255),Q.bmode,"Fill Path")}else{for(var W=0;
W<1e3;W++){var v=l.M.Fq(m.i,W,!0);if(v==-1){this.eO(C,g,x,a,null);break}var j=m.i[v],e=m.i.slice(v,v+1+j.length),T=l.o.rA(e,!0).w,O=T.slice(0,8);
for(var L=8;L<T.length;L+=6)O.push(T[L-2],T[L-1],T[L],T[L+1],T[L+2],T[L+3],T[L+4],T[L+5]);var S={};S.Points=O;
S.TextOnPathTRange=m.tv.slice(0);var S=bM.PF(S,2),$=S[0];if(W==0)this.xA(C,g,x,a,C.u.Er($[0],$[1]));
else this.gi.moveTo($[0],$[1]);for(var N=2;N<$.length;N+=2){var H=C.u.Er($[N],$[N+1]);H.H3=!0;this.kh(C,g,x,a,H,this.i8.flow)}}}}else if(w.j7=="fill"){var f=G.PrsT?G.PrsT.v:!1,F=X?X.add.lspf:0;
if(f&&X){X.add.lspf=F==null?1:F|1}var U=(G.Opct?G.Opct.v.val:100)/100,r=G.Md?cP.Ye(G.Md.v.BlnM):"norm",E=G.Usng.v.FlCn;
if(E=="contentAware"){if(C._==null){alert("Select an area to heal first.");return}if(!C.zj())return;
this.V7(C);this.RL(C,0);var k=C._,P=l.Z(k.rect.$()*4);l.Oa(k.channel,P,3);this.$b(C,"sheal",P,k.rect,k.rect);
this.L(C,k.rect);this.finish(C,k.rect)}else if(E=="Ptrn"){var z=x.XA,s=C._?C._.rect.clone():new aS(0,0,C.m,C.n),Y=l.Z(s.$()*4);
bd.pA(G,Y,s,z,new eN(0,0));this.D4(C,X,C._,Y,"norm",[6,48,0,2])}else{var Z;if(E=="FrgC")Z=x.L$;else if(E=="BckC")Z=x.KT;
else if(E=="Blck")Z=0;else if(E=="Wht")Z=16777215;else if(E=="Gry")Z=8421504;else if(E=="Clr"){var t=l.T.Xh(G.Clr.v);
Z=t.z<<16|t.B<<8|t.K}var p=Z>>16&255,y=Z>>8&255,V=Z>>0&255;this.l0(C,X,C._,p,y,V,Math.round(255*U),r,[2,3])}if(f&&X){X.add.lspf=F==null?0:F}}else if(w.j7=="delete"){var n=h<0?1:X.U3,k=C._,cH;
if(k==null)return;var J=h<0?C.JH[-h-1]:n<=0?null:n==1?X.KN():X.WW(C).d,s=n<=0?X.rect:J.rect,I=n<=0?k.rect.Kw(s):k.rect.clone();
if(I.to())return;var fp=I.$();if(n<=0){cH=l.Z(fp*4);l.HT(X.buffer,X.rect,cH,I)}else{cH=l.Z(fp);J.extend(I);
l.MD(J.channel,J.rect,cH,I)}if(0<=h&&X.pz(C,k)){if(n<=0){l.th(cH,0);l.HT(X.Dq.oD,X.Dq.AJ,cH,I)}else{cH.fill(255);
l.MD(X.Dq.oD,X.Dq.AJ,cH,I)}}else{if(n<=0){var b=l.Z(cH.length>>2);l.eP(cH,b,3);l.j.QD(l.oX(k.rect.$()),k.rect,b,I,k.channel,I,1);
l.Oa(b,cH,3)}else{var jL=l.Z(k.rect.$()),p=x.KT>>>16&255,y=x.KT>>8&255,V=x.KT>>0&255;jL.fill(Math.round(l.mD(p,y,V)));
l.j.QD(jL,k.rect,cH,I,k.channel,I,1)}}this.ZO(C,!0,[2,2],h,n,I,cH)}}if(o.C=="stroke"){var aq=o.af$,k=C._;
if(k==null){k={rect:X.rect.clone(),channel:l.Z(X.rect.$())};l.eP(X.buffer,k.channel,3)}var cJ=bd.NZ(aq),aB=c.vk.aa8(k,Math.ceil(cJ[0]),Math.ceil(cJ[1])),Z=l.T.Xh(aq.Clr.v),p=Math.round(Z.z),y=Math.round(Z.B),V=Math.round(Z.K);
this.l0(C,X,aB,p,y,V,Math.round(255*aq.Opct.v.val/100),cP.Ye(aq.Md.v.BlnM),[14,9])}if(o.C=="fillBMP"){this.D4(C,X,C._,o.Qj,o.O6,o.Wm)}if(o.C=="draw"){var au=o.Xz,ea=au.rect;
this.V7(C);var ax=C.g[C.A[0]];if(o.aqf&&ax&&ax.U3<=0&&C.Ix.length==0){ea=c.Nk.art(au,C);ax.buffer=au.buffer.slice(0);
ax.rect=ea.clone()}else{var f1=this.i8.bmode;this.i8.bmode="norm";this.$b(C,"draw",au.buffer,ea,ea.Kw(new aS(0,0,C.m,C.n)));
this.i8.bmode=f1}this.L(C,ea);C.n6=!0;this.finish(C,ea,o.Wm,o.aqf)}};c.de.prototype.l0=function(o,g,C,a,x,K,h,X,w){var G=C==null?new aS(0,0,o.m,o.n):C.rect,R=h<<24|K<<16|x<<8|a<<0,d=l.Z(G.$()*4);
l.th(d,R);this.D4(o,g,C,d,X,w)};c.de.prototype.D4=function(o,g,C,a,x,K){var h=o.Ix.length!=0?-1-o.Ix[0]:o.A[0],X=h<0?1:g.U3,w=h<0?o.JH[-1-h]:X<=0?null:X==1?g.KN():g.WW(o).d,G=X<=0?g.rect:w.rect,R=C==null?new aS(0,0,o.m,o.n):C.rect,d=C==null?l.Cz(o.m*o.n):C.channel,q=R.$(),m,M=null;
if(X<=0){m=l.Z(q*4);l.HT(g.buffer,g.rect,m,R)}else{m=l.Z(q);w.extend(R);l.MD(w.channel,w.rect,m,R)}if(C!=null)l.v6(d,a);
if(X>0){M=l.Z(q);l.cr(a,M)}if(0<=h&&C&&g.pz(o,C)){var Z=g.Dq.G_,Q=g.Dq.G_.slice(0);if(X<=0)l.j5(a,Q);
else l.j5(M,Q);var p=new dC([2,3],this);p.data={C:"drawtemp",l:o.A[0],hH:X,am2:Z,asL:Q};o.zn(p);this.SW(p.data,o)}else{if(X<=0){var y;
if(g.GS(0)){y=l.Z(R.$());l.eP(m,y,3)}l.j.Ly(x,a,R,m,R,R,1);if(g.GS(0))l.Oa(y,m,3)}else l.j.QD(M,R,m,R,d,R,1);
this.ZO(o,!0,K,h,X,R,m)}};c.de.prototype.td=function(o){if(c_.CQ.indexOf(o)!=-1)return!0;return!1};c.de.prototype.Uh=function(o,g,C,a){var x=this.i8.brush,K=a.a(c_.LW),h=K!=this.dW,X=c.de.Tm(x,a);
if(X!=null)this.fO(X);if(!a.a(c_.Ns)&&a.JY()!=-1){var w=c_._P(Math.round(this.i8.opacity*100),a.JY())/100;
this.Ky({opacity:w},g)}if(this.id==c.wg&&h&&o!=null){var G=this.i8.qsmode;if(G==2)G=o._==null?0:1;else G=2;
this.Ky({qsmode:G},g)}this.dW=K;if(h){if(o)this.li=o.u.R;this.MW(C,a)}};c.de.Tm=function(o,g){var C=o.Brsh.v.Dmtr.v.val,a=o.Brsh.v.Hrdn!=null?o.Brsh.v.Hrdn.v.val:-1,x=C,K=a,h=g.a(c_.sH);
if(g.a(c_.N$)){if(h)a=25*Math.floor((a-1)/25);else{if(C<=10)C--;else if(C<=50)C=5*Math.floor((C-1)/5);
else if(C<=100)C=10*Math.floor((C-1)/10);else if(C<=200)C=25*Math.floor((C-1)/25);else if(C<=400)C=50*Math.floor((C-1)/50);
else C=100*Math.floor((C-1)/100)}}if(g.a(c_.A6)){if(h)a=25*Math.ceil((a+1)/25);else{if(C<10)C++;else if(C<50)C=5*Math.ceil((C+1)/5);
else if(C<100)C=10*Math.ceil((C+1)/10);else if(C<200)C=25*Math.ceil((C+1)/25);else if(C<400)C=50*Math.ceil((C+1)/50);
else C=100*Math.ceil((C+1)/100)}}C=Math.max(1,C);a=Math.max(0,Math.min(100,a));if(K==-1)a=-1;if(C!=x||a!=K){var X=JSON.parse(JSON.stringify(o));
X.Brsh.v.Dmtr.v.val=C;if(K!=-1)X.Brsh.v.Hrdn.v.val=a;return X}return null};c.de.prototype.MW=function(o,g,C,a){if(o.v1.list.length==0)return;
var x=this.id,K;if((x==c.em||x==c.Zm||x==c.Yc||x==c.yC)&&(g!=null&&g.a(c_.LW)||this.i8.alt[0]))K="crosshair";
else{var h=this.li,X=this.i8.brush;if((x==c.em||x==c.Zm)&&C&&this.fl&&this.fl.length==this.tE.$()*4){var w=C.u.w2(a.x,a.y),G=this.awa(w),R=this.fl,d=this.tE,q=new aS(d.x+G.x,d.y+G.y,d.m,d.n),m=fn.bh(X,o.v1.H7,h),M=m[0],Z=m[1],Q=Math.ceil(Z.m/h),p=new aS(Math.round(w.x-Q/2),Math.round(w.y-Q/2),Q,Q),y=l.Z(p.$()*4),V,W;
l.HT(R,q,y,p);if(h==1){V=y;W=p}else{var v=new kp(h,0,0,h,0,0),j=c.V.Sk([y,p],v,!0);W=Z.clone();W.x=j.rect.x;
W.y=j.rect.y;if(W.$s(j.rect))V=j.buffer;else{V=l.Z(W.$()*4);l.HT(j.buffer,j.rect,V,W)}}var e=this.i8.opacity/255;
for(var N=0;N<V.length;N+=4)V[N+3]=e*(M[N+3]*V[N+3]);fn.aeX(new Uint32Array(V.buffer),W,4278190080,4294967295);
K={QS:V,Cn:W,kN:new eN(W.m/2,W.n/2)}}else K=fn.$I(X,o.v1.H7,h,x==c.oL)}var T=new jO(D.E.X,!0);T.data={C:D.t._N,Hz:K};
if(this.caller)this.caller.c(T)};c.de.prototype.enable=function(o,g,C,a){this.wq=C;this.caller=g;this.fO(JSON.parse(JSON.stringify(this.i8.brush)));
if(o&&o.u.R!=0)this.li=o.u.R;this.MW(C,a)};c.de.prototype.Xt=function(o,g){if(g==e1.OL){this.i8.brush=o.v1.WE;
this.MW(o)}};c.de.prototype.jD=function(o,g,C,a,x){for(var K in o)this.i8[K]=o[K];if(this.i8.alt[0])this.MW(x,a,C)};
c.de.prototype.asY=function(o){var g=o.Ix.length!=0?-1-o.Ix[0]:o.A[0],C=o.g[g],a=g<0?1:C.U3,x=g<0?o.JH[-g-1]:a<=0?null:a==1?C.KN():C.WW(o).d,K=x?x.channel:C.buffer,h=(x?x.rect:C.rect).clone();
return[C,a,x,K,h]};c.de.prototype.V7=function(o,g){this.sh=o._==null?null:{rect:o._.rect.clone(),channel:o._.channel.slice(0)};
var C=this.asY(o),a=C[0],x=C[1],K=C[2];this.gY=C[3];this.tC=C[4];var h=new aS(0,0,o.m,o.n),X=h.ae(this.tC);
if((this.U7()&&x<=0||X.$s(this.tC))&&g!=!0)this.gY=this.gY.slice(0);else{if(K)K.extend(X);else a.extend(X)}};
c.de.prototype.RL=function(o,g){var C=this.asY(o),a=C[1],x=C[3],K=C[4],h=[x,K],X=g!=null?g:this.i8.sfrom;
if(a<=0&&X!=0){h[1]=new aS(0,0,o.m,o.n);h[0]=o.cf(X==1&&o.A[0]!=o.g.length-1?o.A[0]:null).slice(0)}this.tE=h[1].clone();
this.fl=h[0].slice(0)};c.de.prototype.NY=function(o,g,C){if(o.a(c_.LW)){var a=new jO(D.E.q,!0);a.F=c.sd;
a.data={C:"pickhere",a1$:C};g.c(a);return!0}return!1};c.de.prototype.t6=function(o,g,C,a,x,K){if(this.id!=c.wg&&!o.zj(this.caller)){this.gi=null;
return}if(this.id!=c.wg&&this.gi)return;this.V7(o);var h=new aS(0,0,o.m,o.n),X=null;if(K!=null){var w=o.Ix.length!=0?-1-o.Ix[0]:o.A[0],G=o.g[w],R=w<0?o.JH[-w-1]:G.U3<=0?null:G.U3==1?G.KN():G.WW(o).d;
X=l.Z(h.$()*4);if(R)c.de.sg(this.gY,this.tC,R.color,X,h);else l.HT(this.gY,this.tC,X,h)}var d=this.i8;
if(this.gi&&this.id==c.wg&&d.qsmode!=0&&o._!=null){}else{var q=g.L$,m=g.KT;if(this.$M=="erase"){var M=q;
q=m;m=M}var Z=this.id==c.wg?this.tC:h;this.gi=new fn(d.brush,g.v1.H7,g.v1.ys,{xW:x,dq:K,aio:d.smth*50/o.u.R,Ln:this.id==c.yC||d.emode==1,wz:d.prsr,pZ:o.pZ},q,m,Z,X)}if(this.id==c.wg){this.gi.ar4(d.brush,d.qsmode==2?0:16777215)}var Q=o.u.w2(a.x,a.y);
if(C.a(c_.sH)&&this.pW){var p=this.pW;this.gi.moveTo(p.x,p.y,a.EE);this.gi.lineTo(.001*p.x+.999*Q.x,.001*p.y+.999*Q.y,a.EE);
this.gi.lineTo(Q.x,Q.y,a.EE)}else this.gi.moveTo(Q.x,Q.y,a.EE);this.pW=Q;this.TP=Q.clone();this.St=new a8(Q,o.u.BD)};
c.de.prototype.qq=function(o,g,C){if(o&&o.u.R!=0&&o.u.R!=this.li){this.li=o.u.R;this.MW(C)}};c.de.prototype.x$=function(o,g,C,a){if(this.gi==null)return;
var x=o.g[o.A[0]],K=o.u.w2(a.x,a.y),h=this.St.bu(K,C);if(h.$s(this.pW))return 1;this.gi.lineTo(h.x,h.y,a.EE);
this.pW=h;if(this.id==c.em||this.id==c.Zm){var X=this.ki(),w=11;X=o.u.Er(K.x-X.x,K.y-X.y);var G=w>>>1,R=new aS(Math.round(X.x)-G,Math.round(X.y)-G,w,w),d=l.Z(R.$()*4);
l.th(16777215);for(var N=0;N<w;N++)d[(N*w+G)*4+3]=d[(w*G+N)*4+3]=255;o.b.hl=[[d,R]];o.dF=!0}};c.de.prototype.Lu=function(o,g,C,a){if(C.MR!=this.id)return;
if(this.id!=c.wg||o==null)return;if(o._==null||o.A[0]!=this.a3_){this.a3_=o.A[0];this.Ky({qsmode:0},g)}};
c.de.prototype.L=function(o,g){if(o.Ix.length!=0){o.dF=!0;return}var C=o.g[o.A[0]];if(g==null){g=this.gi.Lh();
if(this.U7()&&C.U3<=0)g=g.Kw(this.tC)}var a=C.U3;if(a==1||a==3){var x=Math.round((a==1?C.KN():C.WW(o).d).Bs*2.4);
g=g.clone();g.Uj(x,x)}if(g.to())return;if(a<=0){C.L(g)}if(a==1){C.KN().fD=!0;C.Rw(o,g)}if(a==3){C.L(g)}o.L(o.root.ta(g,o,o.A[0],!0))};
c.de.prototype.eO=function(o,g,C,a,x){if(this.gi==null)return;this.gi.finish();if(this.id!=c.jy&&this.id!=c.Zm&&this.id!=c.wg)this.R_(o);
if(this.id==c.em||this.id==c.Zm){o.b.hl=[];o.dF=!0}if(this.id==c.wg){var K=o._;o._=this.sh;var h=new jO(D.E.q,!0);
h.data={C:"setsel",Wm:this.name,_:K};h.F=c.pn;g.c(h);if(this.i8.qsmode==0)this.Ky({qsmode:1},g)}else{this.finish(o,this.gi.S7());
this.gi=null;this.dZ=null}this.dir=0};c.de.prototype.Ky=function(o,g){for(var C in o)this.i8[C]=o[C];
var a=new jO(D.E.X,!0);a.data={C:D.t.Gy,F:this.id,yv:o};g.c(a)};c.de.prototype.U7=function(){var o=this.id;
return o==c.wg||o==c.p_||o==c.dv||o==c.Xs||o==c.gD||o==c.oU};c.de.prototype.finish=function(o,g,C,a,x){var K=o.Ix.length!=0?-1-o.Ix[0]:o.A[0],h=o.g[K],X=K<0?1:h.U3,w=K<0?o.JH[-K-1]:X<=0?null:X==1?h.KN():h.WW(o).d,G=w?w.rect:h.rect,q;
if(this.U7()||!G.$s(this.tC)){if(w==null){if(this.U7())h.T3();else{var R=g.ae(this.tC),d=l.Z(R.$()*4);
l.HT(h.buffer,h.rect,d,R);h.buffer=d;h.rect=R}}else w.T3();this.L(o,G)}if(X<=0){q=l.Z(g.$()*4);l.HT(this.gY,this.tC,q,g)}else{q=l.Z(g.$());
q.fill(w.color);l.MD(this.gY,this.tC,q,g)}this.ZO(o,!1,C?C:this.name,K,X,g,q,a,x)};c.de.prototype.ZO=function(o,g,C,a,x,K,h,X,w){var G=h;
if(x>0){G=l.Z(K.$()*4);c.de.sg(h,K,0,G,K)}var R=new dC(C,this);R.data=[{l:a,hH:x,Cn:K,CL:G}];if(X)R.data.Vr=[o._,null];
if(w)R.data.Vr=[this.sh,o._];o.zn(R);if(g)this.SW(R.data,o);else if(X)o._=null;c.i$.adW(o,R.data)};c.de.prototype.Op=function(o,g){this.abB(o,g,!1)};
c.de.prototype.SW=function(o,g){this.abB(o,g,!0)};c.de.prototype.abB=function(o,g,C){if(o.C=="drawtemp"){var a=C?o.asL:o.am2,x=g.g[o.l];
x.Dq.G_=a;x.AO(g,0,0,g._);x.L();g.n6=!0}else{c.i$.o7(g,o);if(o.Vr){g._=o.Vr[C?1:0];g.f4=!0}}g.L()};c.de.prototype.R_=function(o){this.$b(o,this.$M,this.gi.Sv(),this.gi.QR(),this.gi.Lh());
this.L(o)};c.de.prototype.$b=function(o,g,C,a,x){var K=this.i8,h=o.g[o.A[0]],X=o.Ix.length!=0?o.JH[o.Ix[0]]:h.U3<=0?null:h.U3==1?h.KN():h.WW(o).d,w=l.Z(x.$()*4),G,R=h.GS(0);
if(X==null){if(this.id==c.YE&&g=="heal")l.HT(h.buffer,h.rect,w,x);else l.HT(this.gY,this.tC,w,x);if(R){G=l.Z(x.$());
l.eP(w,G,3)}}else{c.de.sg(this.gY,this.tC,X.color,w,x)}if(o._&&g!="qselect"){var d=x.Kw(o._.rect),q=l.Z(d.$()*4);
if(g=="copy"){var m=l.Z(d.$());l.MD(o._.channel,o._.rect,m,d);l.HT(w,x,q,d);l.j.GL(C,a,q,d,m,d,0,d,1,!1)}else{l.HT(C,a,q,d);
l.Mz(o._.channel,o._.rect,q,d)}C=q;a=d}function M(p,f1){var hF=Math.max(f1.x,Math.min(f1.x+f1.m-1,p.x)),fm=Math.max(f1.y,Math.min(f1.y+f1.n-1,p.y));
return new eN(hF,fm)}if(g=="idraw"||g=="ierase"){if(this.dZ==null)this.dZ=l.Z(this.tC.$());var Z=this.i8.samp,Q=this.wq.KT,p=M(this.pW,x),y=Z==0?p:this.TP,V=y.x,W=y.y,v=c.hm.ald(this.gY,this.tC,[y,new eN(V-2,W),new eN(V+2,W),new eN(V,W-2),new eN(V,W+2)]);
if(Z==2)v=[[Q>>>16&255,Q>>>8&255,Q>>>0&255,255]];var j=c.hm.agb(w,x,p,v,this.i8.wconf),e=l.Z(x.$());
l.MD(this.dZ,this.tC,e,x);l.qp.ae(j,e,e);l.MD(e,x,this.dZ,this.tC);l.Mz(e,x,C,a);g=g.slice(1)}if(g=="erase"&&(c.i$.a1d(o)!=16777215||X))g="draw";
if(g=="draw")l.j.Ly(K.bmode,C,a,w,x,x,K.opacity);else if(g=="erase"){var T=l.Z(x.$()*4);l.HT(C,a,T,x);
if(X==null){var O=l.Z(x.$());l.eP(T,O,3);l.QK(O,K.opacity);l.rq(O);l.Mz(O,x,w,x)}else{l.th(T,0,4278190080);
l.j.Ly("norm",T,x,w,x,x,K.opacity)}}else if(g=="clone"||g=="heal"){var L=this.ki(),S=this.tE.clone();
S.offset(L.x,L.y);var $=x.clone();$.Uj(1,1);var H=l.Z($.$()*4),f=l.Z($.$());l.HT(C,a,H,$);l.eP(H,f,3);
l.th(H,0);if(X==null){l.HT(this.fl,S,H,$);var F=l.Z($.$());l.eP(H,F,3);l.BX(F,f)}else c.de.sg(this.fl,S,X.color,H,$);
if(g=="clone"){l.Oa(f,H,3);l.j.Ly(K.bmode,H,$,w,x,x,K.opacity)}if(g=="heal"){var U=f.slice(0);l.round(U,20);
var r=l.Z($.$()*4);if(X==null)l.HT(this.gY,this.tC,r,$);else c.de.sg(this.gY,this.tC,X.color,r,$);l.j.GL(H,$,r,$,U,$,0,$,1,!1);
l.NU.Qk(r,U,$);l.j.GL(r,$,w,x,f,$,0,x,1,!1)}}else if(g=="dodge"||g=="burn"){var H=l.Z(x.$()*4),P=1,z=0,s=0,Y=0;
l.HT(C,a,H,x);var E=x.$()*4,k=c.de.yS;if(this.dW){if(g=="dodge")g="burn";else g="dodge"}var t=K.rng;
if(g=="dodge"){z=[1-P/2,1,1+P][t];s=[1,1/(1+P),1][t];Y=[P/2,0,0][t]}if(g=="burn"){z=[1/(1-P/2),1,1-P/2][t];
s=[1,1+P,1][t];Y=[-(P/2)/(1-P/2),0,0][t]}for(var N=0;N<E;N+=4){var n=H[N+3];w[N+0]=k(w[N+0],z,s,Y,n);
w[N+1]=k(w[N+1],z,s,Y,n);w[N+2]=k(w[N+2],z,s,Y,n)}}else if(g=="sponge"||g=="redeye"){var H=l.Z(x.$()*4),f=l.Z(x.$());
l.HT(C,a,H,x);l.eP(H,f,3);l.j5(w,H);var J=K.smode;if(this.dW)J=1-J;var I=hb.l3("hue2");if(g=="sponge")aw.eV(I,0,[0,[-50,46][J],[6,5][J]]);
else aw.eV(I,1,{vU:[265,305,25,55],yF:[0,-90,-70]});var fp=f6.v4("hue2",I);f6.la(fp,H,H,x);l.j.GL(H,x,w,x,f,x,0,x,1,!1)}else if(g=="copy")l.HT(C,a,w,x);
else if(g=="sheal"){var H=l.Z(x.$()*4),f=l.Z(x.$());l.HT(C,a,H,x);l.eP(H,f,3);H.fill(0);var cH=this.fl,b=this.tE;
if(X){cH=l.Z(b.$()*4);c.de.sg(this.fl,b,0,cH,b)}var jL=l.tn.Qk(cH,b,f,H,x);if(jL!=0)l.HT(cH,b,H,x);if(this.i8.sfrom==0)l.HT(H,x,w,x);
else{l.HT(this.gY,this.tC,w,x);l.Oa(f,H,3);l.j.Ly("norm",H,x,w,x,x,1)}}else if(g=="qselect"){var aq=this.tC,cJ=aq.m,aB=aq.n,au=cJ*aB,ea=this.gi.Sv(),v=this.gY,ax=c.vk.C7,f=ax.tz;
f.fill(128);for(var N=0;N<au;N++){var f1=ea[N<<2],fk=ea[(N<<2)+3];if(fk==255&&(f1==0||f1==255))f[N]=f1}f[0]=f[cJ-1]=0;
f[(aB>>>1)*cJ]=f[(aB>>>1)*cJ+cJ-1]=0;c.yj.LY(ax,!0);o._={rect:aq,channel:ax._.slice(0)};o.f4=!0}if(X==null){if(R)l.Oa(G,w,3);
l.HT(w,x,h.buffer,h.rect)}else c.de.gX(w,x,X)};c.de.ki=function(){return null};c.de.yS=function(o,g,C,a,x){var K=o*(1/255),h=a+g*Math.pow(K,C),X=Math.round(h*x+K*(255-x));
return Math.max(0,Math.min(255,X))};c.de.sg=function(o,g,C,a,x){var K=l.Z(x.$());K.fill(C);l.MD(o,g,K,x);
a.fill(255);l.B2(K,a)};c.de.gX=function(o,g,C){var a=l.Z(g.$());l.cr(o,a);l.MD(a,g,C.channel,C.rect)};
c.vk=function(o,g,C){c.rr.call(this,o,g,C);this.i8={binop:0,feat:0,cstr:{Nc:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.VZ=new eN(-1,-1);this.Qv=new eN(-1,-1);this.A8="default";this.s0=null;this.asd=!0;this.Jt=!1;this.jt=new bo;
this.xO=!1;this.Co=null;this.__=null;this.GV=!1;this.iH=!1};c.vk.prototype=new c.rr;c.vk.prototype.agG=function(){var o=this.i8,g=[o.binop,o.feat];
if(this.id==c.nX)g.push(o.wconf);return g};c.vk.prototype.ajU=function(o,g,C){var a=this.i8;a.binop=o[0];
a.feat=o[1];a.wconf=o[2];var x=new jO(D.E.X,!0);x.data={C:D.t.Gy,F:this.id,i8:a};C.c(x)};c.vk.C7={key:""};
c.vk._8=function(o,g,C){var a={j7:o,FS:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(g)a.FS.T=g;if(C!=null)a.FS.AntA={t:"bool",v:C};return a};c.vk.GM=function(o,g,C){return c.vk._8("set",{t:"Objc",v:{classID:o,Top:{t:"UntF",v:{type:"#Pxl",val:g.y}},Left:{t:"UntF",v:{type:"#Pxl",val:g.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:g.y+g.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:g.x+g.m}}}},C)};
c.vk.Ch=function(o,g,C){var a=[],x=[],h="set";for(var N=0;N<o.length;N+=2){a.push(o[N]);x.push(o[N+1])}var K={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:a},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:x}]}}}};
if(g)h=["set","addTo","subtractFrom","interfaceWhite"][g];return c.vk._8(h,K,C)};c.vk.adk=function(o,g,C){var a={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o.y}}}},x=c.vk._8("set",a);
x.FS.Tlrn={t:"long",v:g[0]};x.FS.AntA={t:"bool",v:g[1]};x.FS.Cntg={t:"bool",v:g[2]};if(C==!0)x.FS.Mrgd={t:"bool",v:C};
return x};c.vk.K9=function(o){return c.vk._8("set",{t:"enum",v:{Ordn:o?"Al":"None"}})};c.vk.aam=function(o,g,C){var a={classID:"null"};
if(o!="border")a.selectionModifyEffectAtCanvasBounds={t:"bool",v:C};var x={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[o[0]];
a[x]={t:"UntF",v:{type:"#Pxl",val:g}};return{j7:o,FS:a}};c.vk.akL=function(o,g,C){var a={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},x={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:g}}]};
if(C)x.v.push({t:"name",v:{classID:"Lyr",val:C}});var K=[{classID:"null",null:a,T:x},{classID:"null",null:x,T:a},{classID:"null",null:x,From:a},{classID:"null",null:x,With:a}],h=["set","add","subtract","interfaceIconFrameDimmed"];
return{j7:h[o],FS:K[o]}};c.vk.aga=function(o,g){var C=new jO(D.E.X,!0);C.data={C:D.t.sM,eA:e1.P8};if(!g.Ha)o.c(C);
C.data={C:D.t.sM,eA:e1.s1};if(!g.M8.Zi)o.c(C)};c.vk.prototype.i2=function(o,g,C,a,x){c.vk.aga(g,x);this.s0=g;
var K=o.C,h,X,w=new aS(0,0,C.m,C.n),ha=!1,dp,gS,aP,gD;if(K=="fromAction"){var G=o.mb,R=G.j7,d=G.FS,q=d?d.selectionModifyEffectAtCanvasBounds:null,m=q&&q.v;
if(R=="colorRange"){if(d.Clrs){var M=d.Clrs.v.Clrs,Z=0,Q=255,p=["Shdw","Mdtn","Hghl"].indexOf(M),v=.4;
if(p==0)Q=60;else if(p==1){Z=100;Q=150}else Z=190;var y=["shadows","midtones","highlights"][p],V=d[y+"LowerLimit"],W=d[y+"UpperLimit"];
if(V)Z=V.v;if(W)Q=W.v;var j=d[y+"Fuzziness"];if(j)v=j.v/100;h=c.vk.d0(C,Z,Q,v,!0)}else{var Z=d.Mnm.v,Q=d.Mxm.v,v;
Z={pY:Z.Lmnc.v,Bk:Z.A.v,K:Z.B.v};Q={pY:Q.Lmnc.v,Bk:Q.A.v,K:Q.B.v};v=d.Fzns.v/200;h=c.vk.d0(C,Z,Q,v)}X=[7,8]}else if(R=="inverse"){if(C._==null){alert("No selection!");
return}h={channel:l.Z(w.$()),rect:w};l.MD(C._.channel,C._.rect,h.channel,h.rect);l.rq(h.channel);X=[7,2]}else if(R=="expand"){var e=d.By.v.val,T=C._.rect.clone();
T.Uj(e,e);var O=l.Z(T.$()),L=l.Z(T.$());l.MD(C._.channel,C._.rect,L,T);l.style.stroke(L,O,T,e);h={channel:O,rect:T};
X=[7,4]}else if(R=="contract"){var e=d.By.v.val,S=C._.rect.clone();S.Uj(1,1);if(!m)S=S.Kw(w);var L=l.Z(S.$()),$=l.Z(L.length);
l.MD(C._.channel,C._.rect,L,S);l.rq(L);l.style.stroke(L,$,S,e);l.rq($);h={channel:$,rect:S};l.T3(h);
X=[7,5]}else if(R=="border"){var e=d.Wdth.v.val;h=c.vk.aa8(C._,e/2,e/2);X=[7,9]}else if(R=="feather"||R=="smoothness"){var e=d.Rds.v.val;
h=c.vk.axN(C._,e,R=="smoothness",w,m);X=R=="feather"?[7,6]:[19,3,0]}else if(R=="move"){var H=d.T.v,T=C._.rect.clone();
T.x+=H.Hrzn.v.val;T.y+=H.Vrtc.v.val;h={channel:C._.channel,rect:T};X=[7,7]}else{var f=d.null.v,F=d.AntA!=null&&d.AntA.v;
function U(eW){var ip=eW.Top.v.val,jc=eW.Left.v.val;return new aS(jc,ip,eW.Rght.v.val-jc,eW.Btom.v.val-ip)}function r(eW){var ip=eW[0].arr,fS=eW[1].arr,hS={w:[],G:[]};
for(var N=0;N<ip.length;N++){hS.G.push(N==0?"M":"L");hS.w.push(ip[N],fS[N])}hS.G.push("Z");return hS}var E=["set","addTo","subtractFrom","interfaceWhite"].indexOf(R),k=d.T?d.T.v:null;
if(k&&k.classID=="Elps"){h=this.adC(c.zD.avr(U(k)));X=[10,4]}else if(k&&k.classID=="Rctn"){var P=U(k);
h={channel:l.Z(P.$()),rect:P.clone()};h.channel.fill(255);X=[10,15]}else if(k&&k.classID=="ObSl"){var P=U(k),z=c.vk.C7,s=z.rect,Y=z.tz,t=s.m,n=s.n,J=P.x-s.x,I=J+P.m-1,fp=Math.max(J,Math.min(I,J+I>>>1)),cH=P.y-s.y,b=cH+P.n-1,jL=Math.max(cH,Math.min(b,cH+b>>>1)),aq=Math.max(J,0),cJ=Math.min(I,t),aB=Math.max(cH,0),au=Math.min(b,n);
Y.fill(128);if(0<=cH)for(var ea=aq;ea<cJ;ea++)Y[cH*t+ea]=0;if(b<n)for(var ea=aq;ea<cJ;ea++)Y[b*t+ea]=0;
if(0<=J)for(var ax=aB;ax<au;ax++)Y[ax*t+J]=0;if(I<t)for(var ax=aB;ax<au;ax++)Y[ax*t+I]=0;var f1=c.KR.aj5,fk=Math.round(P.m*f1),hF=Math.round(P.n*f1);
for(var ea=Math.max(0,fp-fk);ea<Math.min(t,fp+fk);ea++)Y[jL*t+ea]=255;for(var ax=Math.max(0,jL-hF);ax<Math.min(n,jL+hF);
ax++)Y[ax*t+fp]=255;c.yj.LY(z,!0);h={channel:z._.slice(0),rect:s.clone()};X=[10,44]}else if(k&&k.classID=="Plgn"){h=this.adC(r(k.Pts.v.arr));
X=[10,9]}else if(k&&k.classID=="Pnt"){h=c.hm.aw1(C,new eN(k.Hrzn.v.val,k.Vrtc.v.val),[d.Tlrn.v,F,d.Cntg==null||d.Cntg.v],d.Mrgd?d.Mrgd.v:!1);
X=[10,12]}else if(k&&k.Ordn=="None"){h=null;X=[7,1]}else if(k&&k.Ordn=="Al"){var fm=w;if(C.A.length!=0){var jE=C.root.V0(C.A[0]);
while(jE.parent&&jE.parent.parent)jE=jE.parent;if(jE.l.add.artb)fm=jE.l.zz()}h={channel:l.Z(fm.$()),rect:fm};
h.channel.fill(255);X=[7,0]}else if(k&&k[0]&&k[0].v.keyID=="WrPt"){var ff={C:"frompath",d2:[-1,0,0]};
this.i2(ff,g,C,a,x);return}else{var d5=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(R),eF=R=="set"?k:f,gI=eF[0].v.enum,ff;
if(gI=="Trsp"||gI=="Msk"||gI=="vectorMask"||gI=="Trgt"){var fE=C.A[0];if(eF.length==2)fE=kn.qz(C,eF[1]);
var js=["Trsp","Msk","vectorMask"].indexOf(gI);if(gI=="Trgt"&&C.g[fE].U3==1)js=1;ff={C:"fromlayer",d2:[fE,js,d5]}}else{if(eF[0].t=="name"){var fE=0;
for(var N=0;N<C.JH.length;N++)if(C.JH[N].name==eF[0].v.val)fE=N;ff={C:"fromchannel",d2:[-5-fE,0,d5]}}else{var d8=["RGB","Rd","Grn","Bl"].indexOf(gI);
ff={C:"fromchannel",d2:[-1-d8,0,d5]}}}this.i2(ff,g,C,a,x);return}if(!F&&h)l.round(h.channel);if(d.Fthr)h=c.vk.axN(h,d.Fthr.v.val,!1);
if(R!="set"&&C._!=null)h=l.qp.Zn(h,C._,E)}if(R=="expand"||R=="contract")if(!m&&!w.contains(h.rect)){var bt=h.rect.Kw(w),io=l.Z(bt.$());
l.MD(h.channel,h.rect,io,bt);h.channel=io;h.rect=bt}}if(K=="qmask"){ha=!0;var fA=C.Sh(),jH=new aS(0,0,C.m,C.n);
if(fA){h=fA.rect.$s(jH)&&l.jN(fA.channel,255)?null:{rect:fA.rect.clone(),channel:fA.channel.slice(0)};
dp=fA}else{h=null;gS=new A.QX;gS.color=0;gS.name="Quick Mask";gS.nR=!0;if(C._){gS.rect=C._.rect.clone();
gS.channel=C._.channel.slice(0)}else{gS.rect=jH;gS.channel=l.Z(gS.rect.$());gS.channel.fill(255)}}X=[6,6,1];
C.n6=!0}if(K=="setsel"){h=o._;X=o.Wm}if(K=="crange"){var Z=o.rd,Q=o.U4;h=c.vk.d0(C,Z,Q,o.lI);X=[7,8]}if(K=="fromlayer"||K=="fromchannel"||K=="frompath"){var aM=o.d2[0],js=o.d2[1],E=o.d2[2];
if(K=="fromlayer"){if(aM==null)aM=C.A[0];var jc=C.g[aM];if(js==0){var eQ=jc.rect,j1=jc.buffer;if(eQ.to())return;
var i7=l.Z(j1.length>>>2);l.eP(j1,i7,3);h={channel:i7,rect:eQ.clone()}}else{if(jc.d==null)jc.Rw(C);var fT=js==1?jc.KN():jc.d;
h=c.vk.a43(fT,w)}this.track(c.vk.akL(E,["Trsp","Msk"][js],jc.getName()))}else if(K=="frompath"){var hy=C.DE(),hJ=hy[1],hy=hy[0];
if(aM==null)if(hy.length==0||hJ.length==0)return;var jK=hy[hJ[0]];if(aM!=null)for(var N=0;N<hy.length;
N++)if(hy[N].XE==aM)jK=hy[N];var fT=jK.add.vmsk.KN(),h_=fT.QR();if(h_.$()==0)return;var i7=fT.he();if(o.d2[3]!=null)this.asd=o.d2[3];
if(this.asd){i7=i7.slice(0);l.round(i7)}aP=[JSON.stringify(C.AW),JSON.stringify(C.ls)];gD=["[]","[]"];
C.AW=[];C.ls=[];h={channel:i7,rect:h_}}else{if(aM==null)aM=c.vk.alv(C);h=c.vk.amZ(C,aM)}if(E!=0&&C._)h=l.qp.Zn(h,C._,E);
X=[14,11]}if(h!=null&&l.jN(h.channel,0)){h=null;X=[7,1]}if(h)l.T3(h);var dM=new dC(X,this);dM.data={C:"changesel",sh:C._,lQ:h,Sh:ha,a7a:dp,afC:gS,B_:aP,agC:gD};
C.zn(dM);this.SW(dM.data,C)};c.vk.alv=function(o){var g=0;if(o.Ix.length!=0)g=-5-o.Ix[0];else if(JSON.stringify(o.u.dp)=="[1,1,1]")g=-1;
else g=-2-o.u.dp.indexOf(1);return g};c.vk.amZ=function(o,g){var C,a=new aS(0,0,o.m,o.n);if(-5<g&g<0){var x=-g-1,K=o.cf(),h=l.Z(a.$());
if(x==0)l.cr(K,h);else l.eP(K,h,x-1);C={channel:h,rect:a.clone()}}if(g<-4){C=c.vk.a43(o.JH[-g-5],a)}return C};
c.vk.a43=function(o,g){var C,a;if(o.Xh()==0){a=o.QR().clone();if(a.$()==0)return;C=o.he()}else{a=g;C=l.Z(a.$());
o.Gc(a,C)}return{channel:C,rect:a}};c.vk.prototype.qt=function(o){return this.xO||o.H3&&this.id!=c.w_};
c.vk.prototype.pC=function(o,g,C){var a=new jO(g,!0);a.data=C;o.c(a)};c.vk.prototype.ap4=function(o,g){var C=new jO(D.E.X,!0);
C.data={C:D.t._N,Hz:g};o.c(C)};c.vk.prototype.QR=function(o,g,C){g=o._==null||this.jt.iX(1)||this.jt.Xo(1)?g:null;
var a=this.VZ,x=this.Qv;if(C){a.x=Math.max(0,Math.min(o.m,a.x));a.y=Math.max(0,Math.min(o.n,a.y));x.x=Math.max(0,Math.min(o.m,x.x));
x.y=Math.max(0,Math.min(o.n,x.y))}var K=c.CC.MS(a,x,g,!0,this.i8.cstr),h=K[0].x,X=K[0].y;return new aS(h,X,K[1].x-h,K[1].y-X)};
c.vk.prototype.xA=function(o,g,C,a,x){this.iH=!0;if(this.Ba())return;this.s0=g;this.Jt=!1;this.jt.xA(a);
this.VZ=o.u.w2(x.x,x.y);this.VZ=c.YV.Pu(o,this.VZ,C);if(this.a8Z(o,this.VZ,a)){this.xO=!0;this.Co=o._.rect.clone();
return}this.eb(o,C,a,x);o.u.N5=new aS};c.vk.prototype.a8Z=function(o,g,C){var a=C.a(c_.sH),x=C.a(c_.LW);
if(o._&&!a&&!x&&this.i8.binop==0)return l._9(g,o._.channel,o._.rect);return!1};c.vk.prototype.kh=function(o,g,C,a,x){this.s0=g;
if(this.GV)return;var K=o.u.w2(x.x,x.y);if(eN.ig(this.VZ,K)*o.u.R>5){this.Jt=!0;this.jt.kh()}if(a.a(c_.NN)){if(this.__==null)this.__=new eN(K.x-this.VZ.x,K.y-this.VZ.y);
this.VZ.x=K.x-this.__.x;this.VZ.y=K.y-this.__.y}else this.__=null;this.Qv=K;if(!this.xO)this.Qv=c.YV.Pu(o,this.Qv,C);
if(this.a8Z(o,this.Qv,a))this.ap4(g,"move");else this.ap4(g,this.A8);if(this.xO){var h=this.Co.clone();
h.x+=this.Qv.x-this.VZ.x;h.y+=this.Qv.y-this.VZ.y;var X=c.YV.k6(o,h,C);o._.rect.x=Math.round(this.Qv.x-this.VZ.x+this.Co.x+X[0]);
o._.rect.y=Math.round(this.Qv.y-this.VZ.y+this.Co.y+X[1]);o.f4=!0;c.YV.QB(o,h,X);return}this.y8(o,C,a,x);
if(o.u.N5)o.u.N5=this.QR(o,a)};c.vk.prototype.Ba=function(){return!1};c.vk.prototype.eO=function(o,g,C,a,x,K){var h=this.iH;
this.iH=!1;if(K||!h)return;o.u.N5=null;this.Qv=o.u.w2(x.x,x.y);this.Qv=c.YV.Pu(o,this.Qv,C);if(this.xO){this.xO=!1;
if(o!=null&&o.b.mE){o.b.mE=null;o.dF=!0}if(this.Qv.$s(this.VZ)&&this.Y_()==0){this.pC(g,D.E._h,c.vk.K9());
return}this.a2h(o,this.Co,o._.rect.clone());return}this.bX(o,C,a,x);c.vk.aga(g,C);this.jt.eO();this.q3(g)};
c.vk.prototype.a2h=function(o,g,C){var a=o.XW();if(a!=null&&a.F==this&&a.data.C=="movesel"){}else{a=new dC([7,7],this);
a.data={C:"movesel",M5:g};o.zn(a)}a.data.Ay=C;this.SW(a.data,o)};c.vk.prototype.Pg=function(o,g,C,a,x){this.GV=!0};
c.vk.prototype.qG=function(o,g,C,a,x){var K=new jO(D.E.X,!0);K.data={C:D.t.Gy,F:this.id,ma:x,Dn:o,zP:C};
g.c(K);this.GV=!1};c.vk.prototype.Uh=function(o,g,C,a){this.jt.Uh(a);if(o!=null&&o._!=null){var x=a.c4();
if(x.x!=0||x.y!=0){var K=o._.rect.clone();K.x+=x.x;K.y+=x.y;this.a2h(o,o._.rect.clone(),K)}}this.q3(g)};
c.vk.prototype.q3=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.Gy,F:this.id,_V:this.Y_()};o.c(g)};
c.vk.prototype.Y_=function(){var o=this.jt.iX(0),g=this.jt.Xo(0);return c.vk.qs(this.i8.binop,o,g)};
c.vk.qs=function(o,g,C){if(g)o=1;if(C)o=2;if(g&&C)o=3;return o};c.vk.prototype.finish=function(o,g,C,a){var x=o._,K=this.getSelection(o,g,C,a);
if(K==null)K=c.vk.K9();else{var h=this.i8.feat,X=this.Y_();if(h!=0)K.FS.Fthr={t:"UntF",v:{type:"#Pxl",val:h}};
if(X!=0&&X!=4)K.j7=["","addTo","subtractFrom","interfaceWhite",""][X]}this.pC(this.s0,D.E._h,K);this.VZ.fR(-1,-1);
this.Qv.fR(-1,-1)};c.vk.prototype.getSelection=function(o,g,C,a){return null};c.vk.prototype.eb=function(o,g,C,a){};
c.vk.prototype.y8=function(o,g,C,a){};c.vk.prototype.bX=function(o,g,C,a){};c.vk.prototype.Op=function(o,g){var C=o.C;
if(C=="changesel")g._=o.sh;if(C=="movesel")g._.rect=o.M5;if(o.Sh){if(o.a7a){g.Ix=[g.JH.length];g.JH.push(o.a7a)}else{g.JH.pop();
g.Ix=[]}}if(o.B_){g.AW=JSON.parse(o.B_[0]);g.ls=JSON.parse(o.B_[1])}g.f4=!0};c.vk.prototype.SW=function(o,g){var C=o.C;
if(C=="changesel")g._=o.lQ;if(C=="movesel")g._.rect=o.Ay;if(o.Sh){if(o.afC){g.Ix=[g.JH.length];g.JH.push(o.afC)}else{g.JH.pop();
g.Ix=[]}}if(o.B_){g.AW=JSON.parse(o.agC[0]);g.ls=JSON.parse(o.agC[1])}g.f4=!0};c.vk.prototype.jD=function(o){this.i8=o.i8};
c.vk.prototype.adC=function(o){var g=l.o.Gw(o.w);if(g.to())return null;var C=l.Z0(g.m,g.n);C.save();
C.beginPath();C.translate(-g.x,-g.y);Typr.U.pathToContext({cmds:o.G,crds:o.w},C);C.closePath();C.fill();
C.restore();var a=l.Z(g.$()),x=C.getImageData(0,0,g.m,g.n);l.eP(x.data,a,3);return{rect:g,channel:a}};
c.vk.axN=function(o,g,C,a,x){if(C)g=Math.round(g*.7);var K=Math.ceil(2.6*g),h=o.rect.clone();h.Uj(K,K);
if(a&&!x)h=h.Kw(a);var X=l.Z(h.$()),w=l.Z(X.length);l.MD(o.channel,o.rect,w,h);l.EB.OV(w,X,h,g);if(C){var G=X.length;
for(var N=0;N<G;N++){var R=(X[N]-128)*g*2.5;X[N]=Math.max(0,Math.min(255,Math.round(128+R)))}}return{channel:X,rect:h}};
c.vk.aa8=function(o,g,C){var a=Math.max(1,Math.ceil(C)),x=o.rect.clone();x.Uj(a,a);var K=x.$(),h={channel:l.Z(K),rect:x},X=l.Z(K);
l.MD(o.channel,o.rect,X,h.rect);if(C!=0)l.style.stroke(X,h.channel,h.rect,C);else l.j5(X,h.channel);
var w=l.Z(K);l.rq(X);if(g!=0)l.style.stroke(X,w,h.rect,g);else l.j5(X,w);l.qp.Kw(h.channel,w,h.channel);
return h};c.vk.d0=function(o,g,C,a,x){var K=new aS(0,0,o.m,o.n),h=o.cf();if(o._){var X=o._.rect.Kw(K),w=l.Z(X.$()*4);
l.HT(h,K,w,X);K=X;h=w}var G=K.$(),R=l.Z(G),d=1/a;if(x){if(g>=C)g=C-1;var q=g*(1-a),m=g,M=C,Z=C+(255-C)*a,Q=q==m?0:1/(m-q),p=M==Z?0:1/(Z-M);
for(var N=0;N<G;N++){var y=N<<2,V=l.mD(h[y],h[y+1],h[y+2]),W=0;if(V<q)W=0;else if(V<m)W=(V-q)*Q;else if(V<=M)W=1;
else if(V<=Z)W=1-(V-M)*p;else W=0;R[N]=h[y+3]*W*W}}else for(var N=0;N<G;N++){var y=N<<2,v=l.Kj(h[y],h[y+1],h[y+2]),W=l.ev(v,g,C,a,d);
R[N]=h[y+3]*W}return{rect:K,channel:R}};c.RE=function(){c.de.call(this,[10,18],c.vw,"tools/blur");this.$M="copy"};
c.RE.prototype=new c.de;c.RE.prototype.xA=function(o,g,C,a,x){var K=a.a(c_.LW)?fn.Ll:fn.vw;this.t6(o,C,a,x,this.i8.strn,K);
if(this.gi==null)return;this.R_(o)};c.RE.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);if(this.MY)this.Ec(o,C,x);
if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.Dr=function(){c.de.call(this,[10,0],c.Yc,"tools/brush");
this.$M="draw"};c.Dr.prototype=new c.de;c.Dr.prototype.xA=function(o,g,C,a,x){if(this.NY(a,g,x))return;
this.t6(o,C,a,x,this.i8.flow);if(this.gi==null)return;this.R_(o)};c.Dr.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);
if(this.MY)this.Ec(o,C,x);if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.Rg=function(){c.de.call(this,[10,42],c.oL,"tools/crepl");
this.$M="idraw";this.i8.bmode="hue "};c.Rg.prototype=new c.de;c.Rg.prototype.xA=function(o,g,C,a,x){if(this.NY(a,g,x))return;
this.t6(o,C,a,x,this.i8.flow);if(this.gi==null)return;this.R_(o)};c.Rg.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);
if(this.MY)this.Ec(o,C,x);if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.ru=function(){c.de.call(this,[10,43],c.oU,"tools/redeye");
this.i8.smode=0;this.$M="redeye"};c.ru.prototype=new c.de;c.ru.prototype.xA=function(o,g,C,a,x){this.t6(o,C,a,x,this.i8.flow);
if(this.gi==null)return;this.R_(o)};c.ru.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);if(this.MY)this.Ec(o,C,x);
if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.mN=function(){c.de.call(this,[10,38],c.yC,"tools/pencil");
this.$M="draw"};c.mN.prototype=new c.de;c.mN.prototype.xA=function(o,g,C,a,x){if(this.NY(a,g,x))return;
this.t6(o,C,a,x,this.i8.flow);if(this.gi==null)return;this.R_(o)};c.mN.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);
if(this.MY)this.Ec(o,C,x);if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.d7=function(){c.de.call(this,[10,22],c.Xs,"tools/burn");
this.$M="burn"};c.d7.prototype=new c.de;c.d7.prototype.xA=function(o,g,C,a,x){this.t6(o,C,a,x,this.i8.expo/Math.E);
if(this.gi==null)return;this.R_(o)};c.d7.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);if(this.MY)this.Ec(o,C,x);
if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.fy=function(o,g,C){c.de.call(this,o==""?null:o?o:[10,1],g?g:c.em,C?C:"tools/clone");
this.$M="clone";this.TK=null;this.v=null};c.fy.prototype=new c.de;c.fy.prototype.xA=function(o,g,C,a,x){var K=this.i8,h=K.alt[0];
if(a.a(c_.LW)||a.a(c_.IK)||h){this.TK=o.u.w2(x.x,x.y);this.v=null;if(h)this.Ky({alt:[!1]},g);this.RL(o);
this.MW(C,a,o,x);return}if(this.TK==null){alert(fF.get([15,7,0]));return}this.MW(C,a);this.t6(o,C,a,x,this.i8.flow);
if(this.gi==null)return;this.v=this.awa(o.u.w2(x.x,x.y));this.R_(o)};c.fy.prototype.awa=function(o){var g=this.v;
if(g==null||!this.i8.algnd)g=new eN(Math.round(o.x-this.TK.x),Math.round(o.y-this.TK.y));return g};c.fy.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);
if(this.MY)this.Ec(o,C,x);if(this.gi==null){if(this.TK!=null)this.MW(C,a,o,x);return}if(!x.H3||this.TK==null)return;
this.x$(o,C,a,x);this.R_(o)};c.fy.prototype.ki=function(){return this.v};c.ro=function(o,g,C){c.rr.call(this,o,g,C);
this.ws={p5:{Nc:0,x:0,y:0},BF:!1};this.r7=!1;this.mi=null;this.cursor=null;this.alR=0;this.f_=null;this.VZ=null;
this.RT=null;this.ks=!1};c.ro.prototype=new c.rr;c.ro.prototype.rJ=function(){return this.mi!=null};
c.ro.prototype.qt=function(o){return this.VZ!=null||this.mi&&this.mi.as0()};c.ro.prototype.xA=function(o,g,C,a,x){this.f_=x;
var K=o.u.w2(x.x,x.y);K.x=Math.round(K.x);K.y=Math.round(K.y);var h=this.ws.p5,X=h.Nc!=0?h.x/h.y:null,w=this.ks;
this.ks=!1;if(this.mi){var G=this.mi.h_(K,o.u.R);if(w&&G==null){this.mi.clear(o);this.mi=null}else{this.mi.xA(o,C,a,K,X,!1,x);
return}}this.VZ=c.YV.Pu(o,K,C)};c.ro.prototype.OI=function(o,g,C){if(C==null)C=[o.x,o.y,o.x+o.m,o.y,o.x+o.m,o.y+o.n,o.x,o.y+o.n];
return new dH(C,!0,!1,this.id==c.T7,!0,g,this.id==c.T7?2:0,this.id==c.T7?4:3)};c.ro.prototype.MW=function(o){var g=new jO(D.E.X,!0);
g.data={C:D.t._N,Hz:this.cursor};o.c(g)};c.ro.prototype.enable=function(o,g,C,a){this.s0=g;this.cursor="crosshair";
this.MW(g);if(o!=null&&this.mi==null){var x=o._?{LR:"cropby",atT:3}:{LR:"config",ws:this.ws,ajv:!0};
this.jD(x,g,o,a,C);if(o._==null&&this.ws.p5.Nc==0)this.ks=!0}};c.ro.prototype.kh=function(o,g,C,a,x){this.f_=x;
var K=o.u.w2(x.x,x.y);if(!x.H3){var h="crosshair";if(this.mi){var X=this.mi.h_(K,o.u.R,null,x);if(X)h=X;
else h="default"}if(h!=this.cursor){this.cursor=h;this.MW(g)}}if(this.mi)this.mi.kh(o,C,a,K);else if(this.VZ){if(this.r7){o.b.IQ={G:["M","L"],w:[this.VZ.x,this.VZ.y,K.x,K.y]}}else{var w=c.CC.MS(this.VZ,c.YV.Pu(o,K,C),a,!0,this.ws.p5),G=w[0].x,R=w[0].y,d=this.RT=new aS(G,R,w[1].x-G,w[1].y-R);
o.b.IQ=l.o.IW(d);c.rr.Jj(x,d,o,C)}o.dF=!0}};c.ro.ase=function(o,g,C){var a,x,X,w;if(g<=C){a=g;x=C}else{a=C;
x=g}var K=o-Math.floor((o+Math.PI)/(2*Math.PI))*2*Math.PI;K=Math.abs(K);if(K>Math.PI/2)K=Math.PI-K;var h=a/(x*Math.sin(K)+a*Math.cos(K));
if(g<=C){X=a*h;w=x*h}else{X=x*h;w=a*h}return{MI:X,fB:w}};c.ro.prototype.eO=function(o,g,C,a,x){this.f_=x;
var K=o.u.w2(x.x,x.y);if(this.mi==null){var h=this.RT;if(this.VZ&&(h||this.r7)){if(this.r7){var X=this.VZ,w=K;
if(X.x>w.x){var G=X;X=w;w=G}var X=Math.atan2(-(w.y-X.y),w.x-X.x),R=c.ro.ase(X,o.m,o.n),d=[0,0,R.MI,0,R.MI,R.fB,0,R.fB],q=new kp;
q.translate(-R.MI/2,-R.fB/2);q.rotate(X);q.translate(o.m/2,o.n/2);l.o.D(d,q,d);this.mi=this.OI(h,!1,d);
o.b.IQ=null;this.r7=!1}else{var m=this.ws.p5;this.mi=this.OI(h,m.Nc!=0)}this.mi.zf(o,C);this.RT=null;
this.pC(g,D.E.X,{C:D.t.Gy,F:this.id,ca:!0});this.VZ=null;o.b.hl=[];o.dF=!0}return}this.mi.eO(o,C,a,K);
this.pC(g,D.E.X,{C:D.t.Gy,F:this.id,ca:!0});var d=this.mi.ou();if(Math.abs(d[0]-d[4])<2&&Math.abs(d[1]-d[5])<2){this.disable(o,g,null,a);
return}if(Date.now()-this.alR<200&&this.mi.vs(K)){this.P$(o,C);this.disable(o,g,C,a);return}this.alR=Date.now()};
c.ro.prototype.Uh=function(o,g,C,a){var x=this.mi;if(x==null||this.f_&&this.f_.H3)return;if(a.a(c_.kD)){this.P$(o,C);
this.disable(o,g,C,a)}else if(a.a(c_.oc)){this.disable(o,g,C,a)}else x.Uh(o,C,a)};c.ro.aun=function(o,g,C){var a={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:o[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:o[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:o[1]+o[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:o[0]+o[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:g!=null?g:0}},Dlt:{t:"bool",v:C!=null?C:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{j7:"crop",FS:a}};c.ro.uu=function(o,g){if(g==null)g=[!0,!0,!0,!0];var C={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][o]}}},a=["Top","Left","Btom","Rght"];
for(var N=0;N<4;N++)C[a[N]]={t:"bool",v:g[N]};return{j7:"trim",FS:C}};c.ro.apk=function(o,g,C,a){var x={classID:"null"};
if(a!=null){x.Wdth={t:"UntF",v:{type:"#Pxl",val:o}};x.Hght={t:"UntF",v:{type:"#Pxl",val:g}};x.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][a]}}}if(C!=null)x.Rslt={t:"UntF",v:{type:"#Rsl",val:C}};
return{j7:"imageSize",FS:x}};c.ro.a6v=function(o,g,C){if(C==null)C=4;var a=Math.floor(C/3),x=C%3;return{j7:"canvasSize",FS:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:o}},Hght:{t:"UntF",v:{type:"#Pxl",val:g}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][x]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][a]}}}}};
c.ro.prototype.i2=function(o,g,C,a,x){var K=new aS(0,0,C.m,C.n),h=[11,3],X=C.zC,w=C.m/2,G=C.n/2,R=1,n,J;
if(o.C=="fromAction"){var d=o.mb,q=d.j7,m=d.FS,M=C.m/C.n,Z=m.Wdth?m.Wdth.v.val:-1,Q=m.Hght?m.Hght.v.val:-1,X=m.Rslt?m.Rslt.v.val:null,p=m.Wdth?m.Wdth.v.type:m.Hght?m.Hght.v.type:-1,y=1,V;
if(p=="#Prc"){if(Z!=-1)Z=Math.round(C.m*Z/100);if(Q!=-1)Q=Math.round(C.n*Q/100)}if(q=="imageSize"){if(m.Intr){if(m.Intr.v.Intp=="Nrst")y=0;
if(m.Intr.v.Intp=="bicubicSharper")y=2;if(Z==-1&&Q==-1){var W=X/C.zC;Z=Math.round(C.m*W);Q=Math.round(C.n*W)}if(m.CnsP&&m.CnsP.v){if(Z==-1)Z=Math.round(Q*M);
if(Q==-1)Q=Math.round(Z/M)}}else{if(p=="#Prc")X=Math.round(C.zC*(C.m/Z));else if(p==-1)X=Math.round(X);
else throw"e";Z=C.m;Q=C.n}V={C:"imgsize",JK:Z,q7:Q,sf:X,qL:y}}else if(q=="canvasSize"){if(Z==-1)Z=C.m;
if(Q==-1)Q=C.n;if(m.Rltv&&m.Rltv.v==!0){if(m.Wdth)Z+=C.m;if(m.Hght)Q+=C.n}var v=m.Vrtc?m.Vrtc.v.VrtL:"Cntr",j=m.Hrzn?m.Hrzn.v.HrzL:"Cntr";
V={C:"canvsize",JK:Z,q7:Q,YX:3*["Top","Cntr","Btom"].indexOf(v)+["Left","Cntr","Rght"].indexOf(j)}}else if(q=="revealAll"){V={C:"revealAll"}}else if(q=="trim"){var e={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[m.trimBasedOn.v.trimBasedOn];
if(e==null)throw"e";var T=["Top","Left","Btom","Rght"],O=[!0,!0,!0,!0];for(var N=0;N<4;N++)if(m[T[N]])O[N]=m[T[N]].v;
V={C:"trim",ajj:e,$P:O}}else if(q=="crop"){var L,S,$,H;if(m.T){var f=m.T.v,L=Math.round(f.Left.v.val),S=Math.round(f.Top.v.val),$=Math.round(f.Rght.v.val)-L,H=Math.round(f.Btom.v.val)-S}else{var F=C.g[C.A[0]],U=F.rect;
U=U.Kw(new aS(0,0,C.m,C.n));L=U.x;S=U.y;$=U.m;H=U.n}V={C:"canvsize",JK:$,q7:H,v:new eN(L,S),ahw:m.Dlt!=null&&m.Dlt.v}}else console.log(d);
if(V)this.i2(V,g,C,a,x);return}else if(o.C=="imgsize"){K=new aS(0,0,o.JK,o.q7);if(o.sf)X=o.sf;R=o.qL}else if(o.C=="canvsize"){var r=o.YX!=null?o.YX:0;
K=new aS(0,0,o.JK,o.q7);var E=C.m-o.JK,k=C.n-o.q7,P=Math.round(E/2),z=Math.round(k/2);if(r==1||r==4||r==7)K.x=P;
if(r==2||r==5||r==8)K.x=E;if(r==3||r==4||r==5)K.y=z;if(r==6||r==7||r==8)K.y=k;if(o.v){K.x=o.v.x;K.y=o.v.y}}else if(o.C=="rot"&&(o.k+2*Math.PI)%(Math.PI/2)!=0){var s=l.o.IW(K).w,Y=new kp;
Y.translate(-w,-G);Y.rotate(o.k);Y.translate(w,G);l.o.D(s,Y,s);K=l.o.Gw(s)}else if(o.C=="rot"&&o.k!=Math.PI&&o.k!=-Math.PI){K=new aS(w-C.n/2,G-C.m/2,C.n,C.m);
if((C.m+C.n&1)==1){w=Math.floor(w);G=Math.floor(G);K=new aS(w-Math.floor(C.n/2),G-Math.floor(C.m/2),C.n,C.m);
if((C.m&1)==1&&o.k!=-Math.PI/2)K.y--;if((C.n&1)==1&&o.k==-Math.PI/2)K.x--}}else if(o.C=="trim"){h=[11,12,0];
var t=C.cf(),U=new aS(0,0,C.m,C.n);K=l.AQ(t,U,o.ajj,o.$P);if(K.to())K=U}else if(o.C=="cropbysel"){h=[11,12,1];
K=C._.rect.clone()}else if(o.C=="revealAll"){h=[11,12,2];K=C.root.QR(C,!0)}var I=o.C=="canvsize"&&o.ahw;
if(o.C=="imgsize"||o.C=="rot"||o.C=="scl"||I){var fp=new kp;if(o.C=="imgsize"){h=[11,10];fp.scale(o.JK/C.m,o.q7/C.n)}else if(I){}else{fp.translate(-w,-G);
if(o.C=="rot")fp.rotate(o.k);if(o.C=="scl")fp.scale(o.k.x,o.k.y);fp.translate(w,G);h=o.Wm}J=l.S.xN(fp);
n=this.BZ(C,x,!0,J,R,I?K:null)}else if(o.C=="auto-align"){if(C.A.length<2){alert("Select two or more layers.");
return}var cH=[];for(var N=0;N<C.A.length;N++){var F=C.g[C.A[N]];if(!F.MC()&&F.add.SoLd==null){alert("Unsupported layer selected.");
return}if(F.rect.to()){alert("Empty layer selected.");return}cH.push([F.buffer,F.rect])}var b=l.YL._u(cH,0);
if(b==null){alert("No similarity found.");return}J=b[1];var jL=C.A;C.A=C.A.slice(1);n=this.BZ(C,x,!1,b.slice(1),R);
C.A=jL;K=C.root.QR(C,!0);h=[2,10,1]}var aq=new aS(0,0,C.m,C.n);if(!K.to()&&(!K.$s(aq)||n!=null)){var cJ=new dC(h,this);
cJ.data={avl:C.zC,sf:X,vH:n,GN:J,Bx:c.ro.arW(C,K,aq,n!=null)};c.ro.amz(C,cJ.data,K);C.zn(cJ);this.SW(cJ.data,C)}};
c.ro.arW=function(o,g,C,a){if(o.Ng.length==0)return null;var x=JSON.stringify(o.Ng),K=JSON.parse(x);
c.ho.awj(K,g,C,a);K=JSON.stringify(K);return[x,K]};c.ro.prototype.BZ=function(o,g,C,a,x,K){var h={g:[],MJ:null,Zc:null};
if(C){for(var N=0;N<o.g.length;N++)h.g.push(N);for(var N=0;N<o.eJ.length;N++)h.g.push(-1-N);for(var N=0;
N<o.JH.length;N++)h.g.push(-1e3-N)}else h.g=o.A.slice(0);h.MJ=c.V.sk(o,h.g,!0);c.V.fF(o,g,h.g,h.MJ,x,a,null,!0,K);
h.Zc=c.V.sk(o,h.g,!0);return h};c.ro.prototype.SW=function(o,g){if(o.sf)g.zC=o.sf;if(o.Bx)g.Ng=JSON.parse(o.Bx[1]);
if(o.vH){c.ro.Ss(g,l.S.Td(o.GN));c.V.UO(g,o.vH.g,o.vH.Zc)}c.ro.rp(g,o)};c.ro.prototype.Op=function(o,g){if(o.avl)g.zC=o.avl;
if(o.Bx)g.Ng=JSON.parse(o.Bx[0]);c.ro.jb(g,o);if(o.N4)g.u.v.lR(o.N4);g.a50();if(o.vH){var C=l.S.Td(o.GN).clone();
C.rq();c.ro.Ss(g,C);c.V.UO(g,o.vH.g,o.vH.MJ)}};c.ro.Ss=function(o,g){for(var N=0;N<o.g.length;N++){var C=o.g[N];
if(C.add.artb==null)continue;var a=l.o.IW(C.zz()).w;l.o.D(a,g,a);var x=l.o.Gw(a);C.xJ(x)}};c.ro.$$=function(o){var g=new aS,C=0,a=o.root.children.length;
for(var N=0;N<a;N++){var x=o.root.children[N].l;if(x.add.artb==null)continue;g=g.ae(x.zz());C++}var K=new aS(0,0,o.m,o.n);
if(!g.to()&&!K.$s(g))return g;return null};c.ro.dO=function(o){var g=c.ro.$$(o);if(g)c.ro.BF(o,g,!0);
return g};c.ro.BF=function(o,g,C){var a=o.m,x=o.n,K=g.m,h=g.n,X=g.x==0&&g.y==0;if(X&&a==K&&x==h)return;
o.m=K;o.n=h;var w=[];for(var N=0;N<o.g.length;N++)w.push(N);if(!X)c.YV.EI(o,w,null,-g.x,-g.y);for(var N=0;
N<o.g.length;N++){o.g[N].Rw(o)}o.a50();if(C){var G=o.u.v,R=o.u.R;G.x+=Math.round((g.x+(K-a)/2)*R);G.y+=Math.round((g.y+(h-x)/2)*R)}else o.u.v.fR(0,0);
if(o._)o._.rect.offset(-g.x,-g.y);var d=o.Kc();for(var q=0;q<d[0].length;q++)if(d[1][q]==-1){var m=o.Pa[q];
m[1]-=m[0]==0?g.x:g.y}for(var N=0;N<o.JH.length;N++)o.JH[N].rect.offset(-g.x,-g.y)};c.ro.prototype.jD=function(o,g,C,a,x){if(o.LR=="commit"){this.P$(C,x);
this.disable(C,g,null,a)}else if(o.LR=="cancel"){this.disable(C,g,null,a)}var K=null,h=new aS(0,0,C.m,C.n),X=this.ws.p5;
if(o.LR=="config"){this.ws=o.ws;X=this.ws.p5;if(C==null||!o.ajv)return;K=h;if(X.Nc==1){var w=X.x/X.y;
if(K.m/w<K.n)K.n=Math.round(K.m/w);else K.m=Math.round(K.n*w)}if(X.Nc==2){K.m=X.x;K.n=X.y}K.x=Math.round((C.m-K.m)/2);
K.y=Math.round((C.n-K.n)/2)}if(o.LR=="straighten"){alert("Draw a line in the image.");this.r7=!0}if(o.LR=="cropby"){if(C==null)return;
var G=o.atT,K;if(G==0)K=C.root.QR(C,!0);if(G==1){if(C.A.length==0)alert("No layer is selected.");else{var R=C.root.V0(C.A[0]);
K=R.QR(C,!0)}}if(G==2){if(C.A.length==0)alert("No layer is selected.");else{K=l.AQ(C.cf(),h,0);if(K.to())K=h.clone()}}if(G==3){if(C._!=null)K=C._.rect;
else alert("There is no selection.")}if(G==4){K=new aS(0,0,C.m,C.n)}}if(K&&K.to())K=null;if(K!=null){this.mi=this.OI(K,X.Nc!=0);
this.mi.zf(C,x);this.pC(g,D.E.X,{C:D.t.Gy,F:this.id,ca:!0})}};c.ro.prototype.P$=function(o,g){var C=this.mi.ou(),a=l.o.Gw(C),x=this.auq(o,C),K=!1,h=this.ws.p5,X=this.ws.BF,w=h.x,G=h.y,q;
if(this.id==c.IM&&h.Nc==2&&x.$()!=w*G){x=new aS(x.x,x.y,w,G);K=!0}var R=l.S.sV(C,x);R=l.S.rq(R);var d=l.S.Y5(R),m=Math.atan2(R[3],R[0]);
if(Math.abs(m)>1e-9||!d||K||X)q=this.BZ(o,g,!0,R,1,a);var M=new dC(this.name,this),Z=new aS(0,0,o.m,o.n);
M.data={vH:q,GN:R,N4:o.u.v.clone(),Bx:c.ro.arW(o,x,Z,!1)};c.ro.amz(o,M.data,x);o.zn(M);this.SW(M.data,o);
this.track(c.ro.aun([a.x,a.y,a.m,a.n],null,X))};c.ro.amz=function(o,g,C){if(C==null)return;g.M5=new aS(0,0,o.m,o.n);
g.Ay=C};c.ro.rp=function(o,g){if(g.Ay==null)return;c.ro.BF(o,g.Ay)};c.ro.jb=function(o,g){if(g.Ay==null)return;
var C=g.M5.clone();C.offset(-g.Ay.x,-g.Ay.y);c.ro.BF(o,C)};c.ro.prototype.auq=function(o,g){var C=l.S.sV(g),a=l.S.Y5(C),x=l.S.Td(C),K=x.NO,h=x.Mx,X=Math.atan2(x.K,x.Bk);
x.rotate(X);var w=new aS(K,h,x.Bk,x.rX);if(!a){function G(V,N,W){var v=V[N]-V[W],j=V[N+1]-V[W+1];return Math.sqrt(v*v+j*j)}var R=G(g,0,2),d=G(g,4,6),q=Math.max(R,d),m=G(g,2,4),M=G(g,6,0),Z=Math.max(m,M),Q=c.ro.aiW(g,o.m/2,o.n/2),p,y;
if(isNaN(Q)||Q==Infinity||Q==-Infinity||Math.min(Q,1/Q)<.1)Q=(R+d)/(m+M);if(q/Z>Q){p=q*1;y=p/Q}else{y=Z*1;
p=y*Q}w.m=p;w.n=y}w.x=Math.round(w.x);w.y=Math.round(w.y);w.m=Math.round(w.m);w.n=Math.round(w.n);return w};
c.ro.aiW=function(o,g,C){var a=o[0]-g,x=o[1]-C,K=o[2]-g,h=o[3]-C,X=o[6]-g,w=o[7]-C,G=o[4]-g,R=o[5]-C,d=((x-R)*X-(a-G)*w+a*R-x*G)/((h-R)*X-(K-G)*w+K*R-h*G),q=((x-R)*K-(a-G)*h+a*R-x*G)/((w-R)*K-(X-G)*h+X*R-w*G),m=-((q*w-x)*(d*h-x)+(q*X-a)*(d*K-a))/((q-1)*(d-1));
function M(Q){return Q*Q}var Z=Math.sqrt((M(d-1)+M(d*h-x)/m+M(d*K-a)/m)/(M(q-1)+M(q*w-x)/m+M(q*X-a)/m));
if(d==1&&q==1)Z=Math.sqrt((M(h-x)+M(K-a))/(M(w-x)+M(X-a)));return Z};c.ro.prototype.disable=function(o,g,C,a){if(o==null)return;
if(this.mi)this.mi.clear(o);this.mi=null;this.pC(g,D.E.X,{C:D.t.Gy,F:this.id,ca:!1})};c.ro.prototype.pC=function(o,g,C,a){var x=new jO(g,!0);
x.data=C;if(a)x.F=a;o.c(x)};c.ajP=function(){c.ro.call(this,[10,2],c.IM,"tools/rcrop")};c.ajP.prototype=new c.ro;
c.a1Q=function(){c.ro.call(this,[10,39],c.T7,"tools/pcrop")};c.a1Q.prototype=new c.ro;c.Wb=function(){c.de.call(this,[10,21],c.dv,"tools/dodge");
this.$M="dodge"};c.Wb.prototype=new c.de;c.Wb.prototype.xA=function(o,g,C,a,x){this.t6(o,C,a,x,this.i8.expo/Math.PI);
if(this.gi==null)return;this.R_(o)};c.Wb.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);if(this.MY)this.Ec(o,C,x);
if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.Oe=function(){c.de.call(this,[10,3],c.p_,"tools/eraser");
this.$M="erase"};c.Oe.prototype=new c.de;c.Oe.prototype.xA=function(o,g,C,a,x){this.t6(o,C,a,x,this.i8.flow);
if(this.gi==null)return;this.R_(o)};c.Oe.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);if(this.MY)this.Ec(o,C,x);
if(this.gi==null)return;if(!x.H3)return;var K=this.x$(o,C,a,x);this.R_(o)};c.So=function(){c.de.call(this,[10,45],c.G0,"tools/beraser");
this.$M="ierase"};c.So.prototype=new c.de;c.So.prototype.xA=function(o,g,C,a,x){if(this.NY(a,g,x))return;
this.t6(o,C,a,x,this.i8.flow);if(this.gi==null)return;this.R_(o)};c.So.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);
if(this.MY)this.Ec(o,C,x);if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.l$=function(){c.vk.call(this,[10,15],c.pn,"tools/rselect");
this.A8="crosshair"};c.l$.prototype=new c.vk;c.l$.prototype.y8=function(o,g,C,a){if(!a.H3||!this.Jt)return;
var x=this.QR(o,C,!0);o.b.IQ=l.o.IW(x);o.dF=!0;c.rr.Jj(a,x,o,g)};c.l$.prototype.bX=function(o,g,C,a){o.b.IQ=null;
o.b.hl=[];o.dF=!0;this.finish(o,g,C,a)};c.l$.prototype.getSelection=function(o,g,C,a){if(this.VZ.$s(this.Qv)||!this.Jt)return null;
var x=this.QR(o,C,!0);if(x.to())return null;return c.vk.GM("Rctn",x,this.i8.anta)};c.zD=function(){c.vk.call(this,[10,4],c.I0,"tools/eselect");
this.A8="crosshair"};c.zD.prototype=new c.vk;c.zD.prototype.y8=function(o,g,C,a){if(!a.H3||!this.Jt)return;
var x=this.QR(o,C);o.b.IQ=c.zD.avr(x);o.dF=!0;c.rr.Jj(a,x,o,g)};c.zD.prototype.bX=function(o,g,C,a){o.b.IQ=null;
o.b.hl=[];o.dF=!0;this.finish(o,g,C,a)};c.zD.prototype.getSelection=function(o,g,C,a){if(this.VZ.$s(this.Qv)||!this.Jt)return null;
var x=this.QR(o,C);if(!x.fp(new aS(0,0,o.m,o.n)))return null;return c.vk.GM("Elps",x,this.i8.anta)};
c.zD.avr=function(o){var g=o.x,C=o.y,a=o.x+o.m,x=o.y+o.n,K=(g+a)/2,h=(C+x)/2,X=(g-a)/2,w=(C-x)/2,G=.5522848,R={w:[K,h-w],G:["M","C","C","C","C"]};
R.w.push(K+G*X,h-w,K+X,h-G*w,K+X,h);R.w.push(K+X,h+G*w,K+G*X,h+w,K,h+w);R.w.push(K-G*X,h+w,K-X,h+G*w,K-X,h);
R.w.push(K-X,h-G*w,K-G*X,h-w,K,h-w);return R};c.aG=function(o){c.rr.call(this,[10,5],o?c.V6:c.sd,"tools/eyedropper");
this.AF=null;this.Wu=0;this._I=null;this.g5=1;this.yx=2;this.aba=!0;this.gV=!1};c.aG.prototype=new c.rr;
c.aG.prototype.qt=function(o){return o.H3};c.aG.prototype.i2=function(o,g,C,a,x){if(o.C=="pickhere")this.h1(C,g,x,null,o.a1$);
if(o.C=="supertool")this.AF=o.F};c.aG.prototype.xA=function(o,g,C,a,x){var K=this.AF;if(K){K.xA(o,g,C,a,x);
return}this.Wu=C.L$;this._I=x;var h=this.h1(o,null,C,a,x);this.MW(o,g,h,x)};c.aG.prototype.kh=function(o,g,C,a,x){var K=this.AF;
if(K){K.kh(o,g,C,a,x);return}var h=this._I;if(h){var X=x.x-h.x,w=x.y-h.y,G=1,R=new eN(h.x+X*G,h.y+w*G),d=this.h1(o,null,C,a,R);
this.MW(o,g,d,R,new eN(X*(1-G),w*(1-G)))}};c.aG.prototype.MW=function(o,g,C,a,x){var K=this.aba,h=this.gV,G=12,R=11;
if(o.u.R>4)h=!1;if(!h&&!K)return;if(x==null)x=new eN(0,0);var X=new aS(0,0,o.m,o.n),w=o.cf(),d=(G*2+1)*R,q=new eN(d/2,d/2),m=new aS(0,0,d,d),M=l.Z(m.$()*4),Z=o.u.w2(a.x,a.y),Q=Math.floor(Z.x),p=Math.floor(Z.y),y=new kp;
y.scale(1/R,1/R);y.translate(Q-G,p-G);if(h)l.scale.Fd(w,X,y,M,m);var V=(G-3.4)*R,W=(G-1.7)*R,v=G*R;for(var j=0;
j<d;j++)for(var e=0;e<d;e++){var T=eN.ig(new eN(e,j),q);if(T>V){if(K){var O=Math.max(0,V-T+1),L=(j*d+e)*4,S=M[L+3]<<24|M[L]<<16|M[L+1]<<8|M[L+2],$=255<<24|(j<v+R*.5?C:this.Wu);
if(T>W){O=Math.max(0,W-T+1);S=$;$=4286611584}else if(!h){S=$&16777215}M[L+0]=(1-O)*($>>>16&255)+O*(S>>>16&255);
M[L+1]=(1-O)*($>>>8&255)+O*(S>>>8&255);M[L+2]=(1-O)*($>>>0&255)+O*(S>>>0&255);M[L+3]=(1-O)*($>>>24&255)+O*(S>>>24&255)}if(T>v){M[(j*d+e)*4+3]=Math.max(0,255*(v-T+1))}}}function H(N){var J=N<<2;
M[J]=0;M[J+1]=0;M[J+2]=0;M[J+3]=255}function f(N){var J=N<<2;M[J]=255;M[J+1]=255;M[J+2]=255;M[J+3]=255}var F=this.g5*R+2,U=d-F>>>1,r=U+F-1;
if(h&&F<d)for(var N=0;N<F;N++){var E=U*d+U+N,k=r*d+U+N,P=(U+N)*d+U,z=(U+N)*d+r;H(E);H(k);H(P);H(z);if(N!=0&&N!=F-1){f(E+d);
f(k-d);f(P+1);f(z-1)}}if(!h)for(var N=-9;N<=9;N++){if(-3<N&&N<3)continue;var s=d>>>1,e=s*d+s+N,j=(s+N)*d+s;
f(e-d);H(e);f(e+d);f(j-1);H(j);f(j+1)}var Y=c.rr.Rd(0,0,["#"+l.eh(C),"RGB "+(C>>>16&255)+","+(C>>>8&255)+","+(C>>>0&255)]),X=Y[1];
X.y=0;X.x=d-X.m>>>1;l.HT(Y[0],X,M,m);var t={QS:M,Cn:m,kN:new eN(q.x+x.x,q.y+x.y)},n=new jO(D.E.X,!0);
n.data={C:D.t._N,Hz:t};g.c(n)};c.aG.prototype.eO=function(o,g,C,a,x,K){this.h1(o,g,C,a,x);var h=this.AF;
if(h){h.eO(o,g,C,a,x);return}if(this._I){this._I=null;if(K)this.h1(o,g,C,a,x,this.Wu);var X=new jO(D.E.X,!0);
X.data={C:D.t._N,Hz:"default"};g.c(X)}};c.aG.prototype.h1=function(o,g,C,a,x,K){if(K==null)K=c.aG.gs(o,x,this.g5,this.yx);
var h=new jO(D.E.X);h.data={C:D.t.sM,eA:e1.Zr,JI:a&&a.a(c_.LW)?1:0,k:K};if(g)g.c(h);return K};c.aG.gs=function(o,g,C,a){if(a==null)a=2;
var x=o.u.w2(g.x,g.y),K,h,X=o.A.length==1&&o.g[o.A[0]].U3>0,w=o.Ix.length!=0,W=0,v=0,j=0;if(X||w){var G;
if(w)G=o.JH[o.Ix[0]];else{var R=o.g[o.A[0]];G=R.U3==1?R.KN():R.apP()}h=G.QR();if(!h.Yo(x))return G.color==0?0:16777215;
K=l.Z(h.$()*4);K.fill(255);var d=G.he();l.B2(d,K)}else if(a==0&&o.A.length!=0){var R=o.g[o.A[0]];K=R.buffer;
h=R.rect}else{K=a==2?o.cf():o.cf(o.A[0]);h=new aS(0,0,o.m,o.n)}var q=Math.floor(x.x)-h.x,m=Math.floor(x.y)-h.y,M=(C-1)/2,Z=Math.max(0,q-M),Q=Math.max(0,m-M),p=Math.min(h.m,q+M+1),y=Math.min(h.n,m+M+1),V=(p-Z)*(y-Q);
for(var q=Z;q<p;q++)for(var m=Q;m<y;m++){var N=4*(m*h.m+q);W+=K[N];v+=K[N+1];j+=K[N+2]}W=Math.round(W/V);
v=Math.round(v/V);j=Math.round(j/V);return W<<16|v<<8|j};c.aG.prototype.jD=function(o){var g=o.i8;this.g5=[1,3,5,11,31][g[0]];
this.yx=g[1];this.aba=g[2];this.gV=g[3]};c.Wt=function(){c.rr.call(this,[10,6],c.zb,"tools/gradient");
this.i8={T:JSON.parse(hf.xH.axH).v,ex:"Lnr",e0:!1,a5j:!1,a8D:"norm",xW:1};this.Hd=!1;this.Fe=null};c.Wt.prototype=new c.rr;
c.Wt.prototype.enable=function(o,g,C,a){var x=new jO(D.E.X,!0);x.data={C:D.t._N,Hz:"default"};g.c(x)};
c.Wt.prototype.jD=function(o){this.i8=o.eA};c.Wt.prototype.xA=function(o,g,C,a,x){if(!o.zj())return;
this.Fe=o.u.w2(x.x,x.y);this.Fe=c.YV.Pu(o,this.Fe,C);this.Hd=!0};c.Wt.prototype.kh=function(o,g,C,a,x){if(!this.Hd)return;
var K=o.u.w2(x.x,x.y);K=c.YV.Pu(o,K,C);if(a.a(c_.sH))K=c.Wt.kp(this.Fe,K);o.b.IQ={w:[this.Fe.x,this.Fe.y,K.x,K.y],G:["M","L"]};
o.b.rM=[this.Fe.x,this.Fe.y,K.x,K.y];o.dF=!0};c.Wt.prototype.eO=function(o,g,C,a,x){if(!this.Hd)return;
var K=o.g[o.A[0]],h=o.u.w2(x.x,x.y);h=c.YV.Pu(o,h,C);if(a.a(c_.sH))h=c.Wt.kp(this.Fe,h);var X=h.fK(this.Fe),w=eN.CR(this.Fe,h,.5),G=Math.atan2(X.y,X.x),R=eN.ig(this.Fe,h),d=Math.sin(G),q=Math.cos(G);
if(R>2){var m;if(o._)m=o._.rect;else m=new aS(0,0,o.m,o.n);var M=l.Z(m.$()*4),Z=this.i8,Q=Z.ex;if(Q!="Lnr"){R*=2;
w=this.Fe}l.T.hd(Z.T,M,m,[q*1/R,d*1/R,-d*1/R,q*1/R],w.x,w.y,Z.e0,hf.T.types.indexOf(Q),C.L$,C.KT,null,Z.a5j);
var p=Math.round(Z.xW*256),y=M.length;if(p!=256)for(var N=0;N<y;N+=4)M[N+3]=M[N+3]*p>>>8;var V=new jO(D.E.q);
V.F=c.p_;V.data={C:"fillBMP",Qj:M,O6:Z.a8D,Wm:this.name};g.c(V)}o.b.IQ=null;o.b.rM=[];o.dF=!0;this.Hd=!1};
c.Wt.kp=function(o,g){if(o.$s(g))return o;var C=g.x-o.x,a=g.y-o.y,x=Math.abs(C),K=Math.abs(a);if(x>K)K=x/2>K?0:x;
if(K>x)x=K/2>x?0:K;x=C>0?x:-x;K=a>0?K:-K;var h=Math.sqrt(C*C+a*a)/Math.sqrt(x*x+K*K);return new eN(o.x+x*h,o.y+K*h)};
c.Wt.zJ=function(o,g,C,a,x,K,h){if(h==null)h=document.createElement("canvas");var X=h.getContext("2d");
h.width=g;h.height=C;var w=new aS(0,0,g,C),G=l.Z(g*C*4);l.kz(G,g,C,4);var R=Math.sin(a),d=Math.cos(a),q=l.Z(g*C*4);
l.T.hd(o,q,w,[d*1/g,R*1/g,-R*1/C,d*1/C],g/2,C/2,!1,0,x,K);l.j.Ly("norm",q,w,G,w,w,1);var m=X.getImageData(0,0,g,C);
l.j5(G,m.data);X.putImageData(m,0,0);return h.toDataURL()};c.Wt.apX=function(o,g,C){var a=JSON.parse(JSON.stringify(o));
if(a.Clrs)for(var N=0;N<a.Clrs.v.length;N++){var x=a.Clrs.v[N].v,K=x.Type.v.Clry;if(K=="UsrS")continue;
var h=K=="FrgC"?g:C;x.Type.v.Clry="UsrS";x.Clr={t:"Objc",v:l.T.CT({z:h>>16&255,B:h>>8&255,K:h&255})}}return a};
c.DI=function(){c.rr.call(this,[10,7],c.rT,"tools/hand");this._I=new eN(0,0);this.SQ=null;this.h$=0};
c.DI.prototype=new c.rr;c.DI.prototype.i2=function(o,g,C,a,x){var K=o.C;if(K=="setcls"){C.u.dp=o.dp;
C.dF=!0;C.b0=!0}if(K=="scroll"&&!a.a(c_.LW)){if(a.a(c_.Ns))c.DI.TV(C,C.u.v.x-o.$E.y,C.u.v.y-o.$E.x);
else c.DI.TV(C,C.u.v.x-o.$E.x,C.u.v.y-o.$E.y)}};c.DI.prototype.enable=function(o,g,C,a){this.SQ=null;
var x=new jO(D.E.X,!0);x.data={C:D.t._N,Hz:"grab"};g.c(x);if(o&&Date.now()-this.h$<300){x.type=D.E.q;
x.F=c.SL;x.data={C:"adapt",k:"fitscr"};g.c(x)}this.h$=Date.now()};c.DI.prototype.xA=function(o,g,C,a,x){this.SQ=o.u.v.clone();
this._I.fR(x.x,x.y)};c.DI.prototype.kh=function(o,g,C,a,x){if(!x.H3)return;if(this.SQ==null)this.xA(o,g,C,a,x);
c.DI.TV(o,this.SQ.x+(x.x-this._I.x),this.SQ.y+(x.y-this._I.y))};c.DI.prototype.eO=function(o,g,C,a,x){this.SQ=null};
c.DI.TV=function(o,g,C){var a=o.u.R,x=o.u.B9,K=x.m,h=x.n,X=o.m*a,w=o.n*a,G=X<K&&w<h,R=K/2+X/2-64,d=h/2+w/2-64;
o.u.v.fR(Math.max(-R,Math.min(R,g)),Math.max(-d,Math.min(d,C)));o.b0=!0};c.Ho=function(){c.rr.call(this,[10,47],c.Ue,"tools/rview");
this._I=new eN(0,0);this.pW=null;this.LA=null;this.h$=0};c.Ho.prototype=new c.rr;c.Ho.prototype.enable=function(o,g,C,a){this.SQ=null;
var x=new jO(D.E.X,!0);x.data={C:D.t._N,Hz:"grab"};g.c(x);if(o&&Date.now()-this.h$<300&&o.u.BD!=0){o.u.BD=0;
o.dF=!0}this.h$=Date.now();if(o)this.lj(o,g)};c.Ho.prototype.disable=function(o,g,C,a,x){if(o)this.lj(o,g)};
c.Ho.prototype.xQ=function(o,g,C,a){if(o)this.lj(o,g)};c.Ho.prototype.xA=function(o,g,C,a,x){this._I.fR(x.x,x.y);
var K=o.u;this.pW=K.w2(K.B9.m/2,K.B9.n/2);this.LA=K.Ii();var h=K.w2(K.B9.m/2,K.B9.n/2),X=Math.min(K.B9.m,K.B9.n)*.35/K.R,w=X*.2,G=h.x,R=h.y;
o.b.IQ={G:"M L L L L L".split(" "),w:[G,R,G,R-X,G+w,R,G,R+X,G-w,R,G,R-X]};o.dF=!0};c.Ho.prototype.ao3=function(o){var g=o.u,C=g.w2(g.B9.m/2,g.B9.n/2);
o.b.IQ={G:["M","L"],w:[C.x,C.y,C.x,C.y-200]}};c.Ho.prototype.kh=function(o,g,C,a,x){if(!x.H3)return;
var K=o.u,h=this.pW,X=this._I,w=new eN(K.B9.m/2,K.B9.n/2),G=Math.atan2(x.y-w.y,x.x-w.x),R=Math.atan2(X.y-w.y,X.x-w.x),d=Math.atan2(this.LA.K,this.LA.Bk),q=G-R,m=Math.PI/4;
if(a.a(c_.sH)){q=d+m*Math.round((q-d)/m)}this.agI(o,g,this.LA.clone(),h,q)};c.Ho.prototype.eO=function(o,g,C,a,x){o.b.IQ=null;
o.dF=!0};c.Ho.prototype.jD=function(o,g,C,a){this.agI(C,g,null,null,o.iC-C.u.BD);C.u.BD=o.iC};c.Ho.prototype.agI=function(o,g,C,a,x){var K=o.u;
if(C==null)C=K.Ii();if(a==null)a=K.w2(K.B9.m/2,K.B9.n/2);C.translate(-a.x,-a.y);C.rotate(x);C.translate(a.x,a.y);
K.aeo(C);if(o.m*K.R<K.B9.m&&o.n*K.R<K.B9.n)K.v.fR(0,0);o.dF=!0;this.lj(o,g)};c.Ho.prototype.lj=function(o,g){var C=new jO(D.E.X,!0);
C.data={C:D.t.Gy,F:this.id,iC:o.u.BD};g.c(C)};c.RK=function(){c.fy.call(this,[10,25],c.Zm,"tools/hbrush")};
c.RK.prototype=new c.fy("");c.RK.prototype.eO=function(o,g,C,a,x){if(this.gi==null)return;this.$b(o,"heal",this.gi.Sv(),this.gi.QR(),this.gi.S7());
this.L(o,this.gi.S7());c.de.prototype.eO.call(this,o,g,C,a,x);if(!this.i8.algnd)this.v=null};c.me=function(o){c.rr.call(this,o?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],o?c.v7:c.rv,o?"tools/vtype":"tools/htype");
this.s6=[];this.zP=null;this.caller=null;this.$T=1;this.Je=null;this.a6x=0;this.o3=0;this.a3y=null;this.vE=null;
this.Fx=null;this.iY=null;this.ln=null;this.UU=null;this.arQ=null;this.il=null;this.mi=null;this.zl=null;
this.ab0=null;this.mz=!1;this.Lk=!1;this.rn=!1;this.mB=null;this.L8=null;this.a4W=null;this.co=!1;this.Xm=!1;
this.Rj=-1;this.A1=-1;this.Qg=document.createElement("textarea");this.Qg.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Qg.addEventListener("input",this._p.bind(this),!1);this.Qg.addEventListener("keydown",this.ajV.bind(this),!1);
this.Qg.addEventListener("keyup",this.a2s.bind(this),!1)};c.me.prototype=new c.rr;c.me.prototype.qt=function(o){return o.H3};
c.me.prototype.Lu=function(o,g,C,a){if(this.Fx!=null||this.id==c.v7)return;this.caller=g;var x=this.axG(o);
if(x.length!=0){var K=null,h=[],X=[];for(var N=0;N<x.length;N++){var w=o.g[x[N]],G=w.add.TySh,R=0,d=bv.cR(G.cp).length-2,q=bv.SX(G.cp,R,d);
bv.U$(q,c.V.Bo(G.D));if(q.Fn.Font!=null)q.Fn.Font=q.pv[q.Fn.Font].Name;K=q.pv;h.push(q.Fn);X.push(q.Yt)}var q={pv:K,Fn:bv._t(h),Yt:bv._t(X)};
if(q.Fn.Font!=null)bv.s2(q,q.Fn.Font);this.adG(g,q,G)}};c.me.prototype.axG=function(o){var g=[];for(var N=0;
N<o.A.length;N++)if(o.g[o.A[N]]&&o.g[o.A[N]].add.TySh)g.push(o.A[N]);return g};c.me.prototype.i2=function(o,g,C,a,x){var K=o.C=="insertGlyph";
if((K||o.C=="insertText")&&this.Fx){var h=K?String.fromCharCode(65533):o.k,X=this.Qg,w=X.value,G=X.selectionStart,R=X.selectionEnd;
X.value=w.slice(0,G)+h+w.slice(R);X.selectionStart=X.selectionEnd=G+h.length;this._p(null,K?o.k:null);
X.focus()}if(o.C=="updateStyles"){if(this.Fx==null){var d=this.axG(C),q=!1;if(d.length!=0){this.Fk(C,g,x,d);
for(var N=0;N<d.length;N++){var m=C.g[d[N]],M=m.add.TySh;bv.qO(M,this.$T);this.Fx=m;var Z=bv.cR(M.cp);
this.Rj=0;this.A1=Z.length-1;bv.dG(M.cp,this.Rj,this.A1,this.iW(x,M));var Q=this.f9(C,x);if(Q==!1)q=!0}if(q){this.co=!0;
return}this.om(C,g)}return}this.gm(x)}if(o.C.startsWith("warp")){var p=this.Xm;if(o.C=="warp"||o.C=="warpCancel"){if(this.Fx==null)return;
if(o.C=="warp")this.Fx.add.TySh.xr=o.X0;else this.Fx.add.TySh.xr=this.arQ;this.f9(C,x);if(!p)this.L9(C)}if(o.C!="warp")this.Qg.focus();
if((o.C=="warpConfirm"||o.C=="warpCancel")&&p){this.Xm=!1;if(o.C=="warpConfirm")this.om(C,g);else this.eI(C,g)}}if(o.C=="editCurr"){if(x.MR!=c.rv){this.Je=x.MR;
var y=new jO(D.E.X,!0);y.data={C:D.t.JG,F:c.rv};g.c(y)}if(this.Fx!=null)this.disable(C,g,x,a);this.zP=x;
this.caller=g;this.Fk(C,g,x,[o.fJ]);var Z=bv.cR(this.Fx.add.TySh.cp);this.Rj=0;this.A1=Z.length-1;this.L9(C);
this.oV();this.Qg.focus()}if(o.C=="switchPntPrgr"){if(this.Fx)return;var m=C.g[C.A[0]],M=m.add.TySh,V=M.D.Bo(),W=JSON.parse(JSON.stringify(M.cp)),v=bv.gH(W),j=v==1?bv.w$(W):[0,0,Math.round(m.rect.m*1.05/V),Math.round(m.rect.n*1.25/V)],e=bv.SX(W,0,0),T=e.pv[e.Fn.Font].Name,O=x.zM.Zo(T),L=[0,j[2],j[2]/2][e.Yt.Justification%3],S=O?bM.qi(O,T,e.Fn):e.Fn.FontSize*.8;
bv.lr(W,1-v);if(v==0){L=-L;S=-S;bv.yy(W,[0,0,j[2],j[3]])}var $=new kp(1,0,0,1,L,S);$.concat(M.D);this.i2({$w:C.A[0],C:"newED",Ps:W,D:$,a17:[16,3,v==1?0:1]},g,C,a,x)}if(o.C=="newED"){var m=C.g[o.$w],M=m.add.TySh,H=this.EY(C,[o.$w]);
M.cp=o.Ps;if(o.D)M.D=o.D;if(d2.wc(M,x.zM,g)){var f=new bM(M.cp,x.zM),F=d2.Sj(f,M);m.rect=F.Cn;m.buffer=F.ab;
m.L();C.L()}else C.UG=!0;var U=new dC(o.a17?o.a17:this.name,this);U.data={yX:H,VY:this.EY(C,[o.$w])};
C.zn(U)}if(o.C=="fromAction"){var r=o.mb.FS.Usng.v,E=r.TxtC.v,k=[];for(var N=0;N<2;N++){var P=E[N==0?"Hrzn":"Vrtc"].v,h=P.val;
if(P.type=="#Prc")h=(N==0?C.m:C.n)*(h/100);k[N]=h}this.vA(C,g,x,a,C.u.Er(k[0],k[1]));var m=C.g[C.A[0]],M=m.add.TySh,z=M.cp,w=bv.cR(z);
bv._L(z,0,w.length-1);bv.l6(z,0,r.Txt.v.replace(/\r/g,"\n"));w=bv.cR(z);for(var v=0;v<2;v++){var s=r[v==0?"Txtt":"paragraphStyleRange"].v;
for(var N=0;N<s.length;N++){var Y=s[N].v,G=Y.From.v,R=Math.min(Y.T.v-1,w.length-1);Y=Y[v==0?"TxtS":"paragraphStyle"].v;
var t=bv.SX(z,G,R),n=v==0?t.Fn:t.Yt;for(var J in Y){var I=Y[J].v;if(J=="Sz")n.FontSize=Math.round(I.val);
else if(J=="fontPostScriptName")bv.s2(t,I);else if(J=="Algn")n.Justification={Left:1,Cntr:2}[I.Alg];
else if(J=="leading")n.Leading=Y[J].v.val;else if(J=="baselineShift")n.BaselineShift=Y[J].v.val;else if(J=="autoLeading")n.AutoLeading=Y[J].v;
else if(J=="syntheticBold")n.FauxBold=Y[J].v;else if(J=="syntheticItalic")n.FauxItalic=Y[J].v;else if(J=="Trck")n.Tracking=Y[J].v;
else if(J=="verticalScale")n.VerticalScale=Y[J].v/100;else if(J=="horizontalScale")n.HorizontalScale=Y[J].v/100;
else if(J=="Clr")n.FillColor={Type:1,Values:[1,I.Rd.v/255,I.Grn.v/255,I.Bl.v/255]}}bv.dG(z,G,R,t)}}var f=new bM(M.cp,x.zM),F=d2.Sj(f,M);
m.rect=F.Cn;m.buffer=F.ab;m.L();C.L();this.om(C,g)}};c.me.prototype.gm=function(o){var g=Math.min(this.Rj,this.A1),C=Math.max(this.Rj,this.A1),a=this.Fx.add.TySh;
bv.qO(a,this.$T);var x=this.iW(o,a);bv.dG(a.cp,g,C-1,x);var K=this.caller.$t(),h=this.f9(K,o);if(h)this.L9(K);
if(document.activeElement.tagName.toLowerCase()!="input")this.Qg.focus()};c.me.prototype.td=function(o){return this.s6.indexOf(o)!=-1};
c.me.prototype.enable=function(o,g,C,a){var x=this.Qg;g.e.appendChild(x);this.il="default";this.MW(g)};
c.me.prototype.rJ=function(){return this.Fx!=null};c.me.HR=function(o,g){for(var N=o.g.length-1;N>=0;
N--){var C=o.g[N];if(C.add.TySh&&C.rect.Yo(g)&&o.ai2(N)){var a=C.GS(2)||C.GS(31);return a?-2:N}}return-1};
c.me.prototype.xA=function(o,g,C,a,x){this.zP=C;this.caller=g;var K=o.u.w2(x.x,x.y),h=this.Fx==null;
if(h){var X=c.me.HR(o,K);if(X==-2){alert(fF.get([6,57,0]));return}if(X>=0&&!a.a(c_.sH)){if(!d2.wc(o.g[X].add.TySh,C.zM,g)){alert("Fonts not loaded yet");
return}this.Fk(o,g,C,[X])}else{this.rn=!0;this.mB=x;return}}var w=h?-1:bv.gH(this.Fx.add.TySh.cp),G=this.zl?this.zl:this.mi;
if(G&&G.xA(o,C,a,K,null,null,x)&&l.X0.L1(this.Fx.add.TySh.xr)||!h&&l.o.XY(K,this.Fx.rect)>20/o.u.R&&(w==0||w==1)){this.mz=!0;
this.L8=K;this.a4W=this.Fx.add.TySh.D.clone();if(this.Rj==-1&&this.A1==-1)this.Rj=this.A1=this.pB(K)}else{if(this.ln==null){alert("Fonts not loaded yet");
return}this.Lk=!0;this.Rj=this.A1=this.pB(K);var R=Date.now();if(R-this.a6x>300)this.o3=0;this.o3++;
this.a6x=R;if(this.o3==2)this.aqB();if(this.o3==3)this.a35();if(this.o3>1){this.Lk=!1}}this.oV();this.L9(o)};
c.me.prototype.Fk=function(o,g,C,a){var x=o.g[a[0]];this.Fx=x;this.pC(g,D.E.X,{C:D.t.Gy,F:this.id,LR:"showactive"});
this.iY=a;o.A=a.slice(0);o.SU();o.Z5=!0;this.UU=this.EY(o,a);this.D$(x.add.TySh);this.f9(o,C)};c.me.prototype.D$=function(o){if(bv.gH(o.cp)!=1)return;
var g=bv.w$(o.cp);g=new aS(0,0,g[2]-g[0],g[3]-g[1]);var C=[g.x,g.y,g.x+g.m,g.y,g.x+g.m,g.y+g.n,g.x,g.y+g.n];
l.o.D(C,o.D,C);this.mi=new dH(C,!1,!1,!1,!0)};c.me.prototype.aqB=function(){var o=bv.cR(this.Fx.add.TySh.cp);
this.Rj=this.a5H(o,this.Rj);this.A1=this.aca(o,this.Rj)};c.me.prototype.a5H=function(o,g){var C=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",a=[];
for(var N=0;N<C.length;N++)a.push(C.charAt(N));var x=a.indexOf(o[g])==-1?!0:!1;for(var N=g-1;N>=0;N--)if(a.indexOf(o.charAt(N))!=-1==x)return N+1;
return 0};c.me.prototype.aca=function(o,g){var C=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",a=[];for(var N=0;
N<C.length;N++)a.push(C.charAt(N));var x=a.indexOf(o[g])==-1?!0:!1;for(var N=g+1;N<o.length;N++)if(a.indexOf(o.charAt(N))!=-1==x)return N;
return o.length-1};c.me.prototype.a35=function(){var o=this.ln.asK(this.Rj);this.Rj=o[0];this.A1=o[1]};
c.me.prototype.MW=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t._N,Hz:this.il};o.c(g)};c.me.prototype.kh=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y),h=this.Fx;
if(!x.H3){var X="default",w=this.mi,G=this.zl?this.zl:w;if(G&&l.X0.L1(h.add.TySh.xr)){var R=G.h_(K,o.u.R,null,x);
if(R)X=R;else if(G==w&&w.vs(K))X="text"}else if(h&&l.o.XY(K,h.rect)>20/o.u.R)X="move";else if(c.me.HR(o,K)>=0)X="text";
if(X!=this.il){this.il=X;this.MW(g)}}var d=this.mB;if(this.rn&&Math.min(x.x-d.x,x.y-d.y)>4/o.u.R){this.rn=!1;
this.vA(o,g,C,a,x);h=this.Fx;this.mz=!0;this.mi=new dH(null,!1,!1,!1,!0);var q=o.u.w2(this.mB.x,this.mB.y);
q.x=Math.round(q.x);q.y=Math.round(q.y);this.mi.xA(o,C,a,q,null,null,x,o.u.BD)}if(this.mz){var m=h.add.TySh;
if(this.zl){this.zl.kh(o,C,a,K);var M=l.S.Td(l.S.sV(this.zl.ou(),this.ab0));m.D=M;this.f9(o,C);bv.hf(m)}else if(this.mi){this.mi.kh(o,C,a,K);
var Z=m.D.clone(),Q=Math.atan2(Z.K,Z.Bk);Z.rotate(Q);var M=l.S.Td(l.S.sV(this.mi.ou())),p=Math.atan2(M.K,M.Bk);
M.rotate(p);if(!isNaN(M.Bk)&&M.Bk*M.rX-M.K*M.U9!=0){var y=new aS(0,0,M.Bk/Z.Bk,M.rX/Z.rX),V=Math.round(y.m),W=Math.round(y.n),v=m.cp.Curve;
if(v){var j=bv.w$(m.cp),e=new kp(V/j[2],0,0,W/j[3],0,0);l.o.D(v.Points,e,v.Points);bv.hf(m)}bv.yy(m.cp,[0,0,V,W]);
m.D=l.S.Td(l.S.sV(this.mi.ou(),y));this.f9(o,C);bv.hf(m)}}else{var T=K.x-this.L8.x,O=K.y-this.L8.y;m.D=this.a4W.clone();
var L=new eN(m.D.NO+T,m.D.Mx+O);L=c.YV.Pu(o,L,C);m.D.NO=L.x;m.D.Mx=L.y;this.f9(o,C)}}if(this.Lk)this.A1=this.pB(K);
if(this.mz||this.Lk)this.L9(o)};c.me.prototype.vA=function(o,g,C,a,x){var K=o.DE(),h=K[0],X=K[1],w=o.HL();
w.add.lnsr="rend";var G=o.g.slice(0);w.XH("Text layer "+G.length);this.Fx=w;var R=o.A.length==0?o.g.length-1:o.A[o.A.length-1],d=R+1;
if(G[R].add.lsct==kj.ah)d--;this.UU={XK:G.slice(0),sh:o.A.slice(0)};G.splice(d,0,w);o.A=[d];this.Rj=this.A1=0;
o.jZ(G);this.UU.Zk=G.slice(0);this.UU.lQ=o.A.slice(0);this.pC(g,D.E.X,{C:D.t.Gy,F:this.id,LR:"showactive"});
var q=o.u.w2(x.x,x.y),m=C.iq;console.log(m);if(this.id==c.v7){m=JSON.parse(JSON.stringify(m));m.Fn.BaselineDirection=1}w.add.TySh=bv.hT(q.x,q.y,m,o.u.BD);
var M=w.add.TySh,Z=M.cp;if(this.id==c.v7)Z._LineOrientation=2;bv.qO(M,this.$T);if(x.H3)bv.lr(Z,1);else{bv.lr(Z,0);
var Q=h[X.pop()],p=Q?Q.add.vmsk:null;if(p&&!a.a(c_.sH)){p=p.clone();var y=p.i,W,v;for(var N=0;N<y.length;
N++)if(y[N].j4!=null)y[N].j4=0;var V=5/o.u.R;W=l.M._9(p.i,q,!0,V);if(W.XE==-1)W=l.M._9(p.i,q);if(W.XE!=-1){bv.lr(Z,1);
var j=l.M.Fq(y,W.XE),e=l.M.LQ(y,W.XE)-1;y=p.i=y.slice(0,2).concat(y.slice(j,j+e+1));p.A=[];M.add={vmsk:p,vogk:A.fb(y)};
Z.Curve={};bv.Ys(M);if(W.YO!=null){var T=bM.PF(Z.Curve);l.o.D(T[0],M.D,T[0]);var O=l.o.mL(T[0],q.x,q.y),L=C.iq.Yt.Justification;
if(L==2||L==5){var S=(T[2][O]+T[3]*.5)%T[3];O=bM.Qo(S,T[2])}var $=T[1][O];$=$%e;p.tv=[$,$];bv.Ys(M)}else this.D$(M)}}}return w};
c.me.prototype.eO=function(o,g,C,a,x,K){if(K){this.rn=!1;return}if(this.Fx==null&&!this.rn)return;var h=o.u.w2(x.x,x.y),X=this.rn;
if(this.rn){this.rn=!1;this.vA(o,g,C,a,x);this.Lk=!0}if(this.mz||this.Lk){this.L9(o);this.oV();if(X)this.gm(C)}if(this.mz&&this.mi)this.mi.eO(o,C,a,h);
this.mz=this.Lk=!1;this.Qg.focus()};c.me.prototype.oV=function(){var o=this.Fx.add.TySh,g=Math.min(this.Rj,this.A1),C=Math.max(this.Rj,this.A1),a,x;
if(g==C){var K=bv.cR(o.cp);if(g==0||K.charAt(g-1)=="\n")a=x=g;else a=x=g-1}else{a=g;x=C-1}var h=bv.SX(o.cp,a,x);
bv.U$(h,c.V.Bo(o.D));this.adG(this.caller,h,o)};c.me.prototype.adG=function(o,g,C){this.pC(o,D.E.X,{C:D.t.sM,eA:e1.Nf,iq:g});
var a=this.$T=bv.Vd(C);this.pC(this.caller,D.E.X,{C:D.t.Gy,F:this.id,LR:"changeAA",kq:a})};c.me.prototype.a3L=function(){var o=this.Fx;
if(o&&!this.mz&&this.zl!=null){var g=this.caller.$t();this.zl.eO(g,this.zP,null,null);this.zl=null;this.D$(o.add.TySh);
this.L9(g)}};c.me.prototype.disable=function(o,g,C,a){var x=this.Fx;this.om(o,g)};c.me.prototype.jD=function(o,g,C,a,x){if(this.Xm)return;
if(o.LR=="commit")this.om(C,g);if(o.LR=="cancel")this.eI(C,g);if(o.LR=="changeAA"){this.$T=o.kq;if(C!=null)this.i2({C:"updateStyles"},g,C,a,x)}if(o.LR=="showwarp"){if(C==null)return;
if(this.Fx==null){var K=C.g[C.A[0]],h=K.add.TySh;if(h==null)return;this.Fk(C,g,x,[C.A[0]]);this.Qg.focus();
this.Xm=!0}this.arQ=this.Fx.add.TySh.xr;var X=new jO(D.E.X,!0);X.data={C:D.t.gC,$j:"textwarp"};g.c(X)}};
c.me.prototype.Xt=function(o,g){if(g!=e1.ye)return;if(this.co){this.co=!1;var C=this.caller.$t(),a=this.iY;
for(var N=0;N<a.length;N++){this.Fx=C.g[a[N]];this.f9(C,o)}this.om(C,this.caller);return}if(this.Fx)this.gm(o)};
c.me.prototype.iW=function(o,g){var C=JSON.parse(JSON.stringify(o.iq));bv.U$(C,1/c.V.Bo(g.D));return C};
c.me.prototype.SW=function(o,g){if(o.yX!=null)this.eR(g,o.VY);else this.axL(g,o.Zk,o.lQ)};c.me.prototype.Op=function(o,g){if(o.yX!=null)this.eR(g,o.yX);
else this.axL(g,o.XK,o.sh)};c.me.prototype.eR=function(o,g){for(var N=0;N<g.length;N++){var C=g[N],a=C.$w,x=o.g[a];
x.buffer=C.CL;x.rect=C.Cn.clone();x.L();var K=x.add.TySh;K.xr=C.X0;K.Vf=C.Vf.clone();K.D=C.D.clone();
K.cp=JSON.parse(JSON.stringify(C.cp));x.b7()}o.L()};c.me.prototype.EY=function(o,g){var C=[];for(var N=0;
N<g.length;N++){var a=g[N],x=o.g[a],K=x.add.TySh;C.push({$w:a,D:K.D.clone(),X0:JSON.parse(JSON.stringify(K.xr)),Vf:K.Vf.clone(),cp:JSON.parse(JSON.stringify(K.cp)),CL:x.buffer.slice(0),Cn:x.rect.clone()})}return C};
c.me.prototype.axL=function(o,g,C){o.A=C;o.jZ(g);o.L();o.n6=!0};c.me.prototype.f9=function(o,g,C){if(C==null)C=!1;
var a=this.Fx.add.TySh;if(!d2.wc(a,g.zM,this.caller))return!1;this.ln=new bM(a.cp,g.zM);if(!C){var x=bv.cR(a.cp);
this.Qg.value=x.slice(0,x.length-1)}var K=d2.Sj(this.ln,a);if(l.X0.L1(a.xr))a.Vf=new aS;else{if(bv.gH(a.cp)==1){var h=bv.w$(a.cp),ee=K.Vf.y;
a.Vf=new aS(0,ee,h[2]-h[0],h[3]-h[1]-ee)}else{a.Vf=K.Vf}}var X=this.Fx.rect;this.Fx.rect=K.Cn;this.Fx.buffer=K.ab;
this.Fx.L();o.vg();o.L(o.root.ta(K.Cn.ae(X),o,o.g.indexOf(this.Fx)));return!0};c.me.prototype._p=function(o,g){if(this.Fx==null||this.Xm)return;
var C=this.Qg.selectionStart,a=this.Fx.add.TySh,x=bv.cR(a.cp),K=this.Qg.value+"\n",h=Math.min(this.Rj,this.A1),X=Math.max(this.Rj,this.A1),q=!1;
this.Rj=Math.min(C,h);if(K.length-C<x.length-this.A1)this.A1=x.length-K.length+C;if(x!=K){while(this.Rj>0&&x.charAt(this.Rj-1)!=K.charAt(this.Rj-1))this.Rj--}var w=x.substring(0,this.Rj),G=x.substring(this.A1,x.length),R=K.substring(this.Rj,K.length-G.length);
bv._L(a.cp,this.Rj,this.A1);bv.l6(a.cp,this.Rj,R);if(g!=null)bv.asO(a.cp,this.Rj,g);var d=this.iW(this.zP,a),m=-1,M=Array.from(R);
for(var N=0;N<M.length;N++)m=Math.max(m,M[N].codePointAt(0));if(m!=-1&&m>128&&m!=65533&&d.Fn.Font!=null){var Z=d.pv[d.Fn.Font].Name,Q=this.zP.zM.ot(m,Z,d.pv);
if(Z!=Q){bv.s2(d,Q);q=!0}}if(this.vE!=null&&R==this.vE){var p=JSON.parse(this.a3y);d.Fn=p.Fn;d.pv=p.pv;
q=!0}bv.dG(a.cp,this.Rj,this.Rj+R.length-1,d);this.Rj=this.A1=w.length+R.length;var y=this.caller.$t(),V=this.f9(y,this.zP,!0);
if(V)this.L9(y,!0);if(q)this.oV()};c.me.prototype.a2s=function(o){var g=c_;if(!o.ctrlKey)this.a3L();
o.stopPropagation()};c.me.prototype.ajV=function(o){o.stopPropagation();var g=o.ctrlKey||o.metaKey,C=c_,w=0,G=0,$=!1;
if(this.Fx==null||this.Xm)return;if(this.Fx==null)return;var a=this.caller.$t();if(this.zl==null&&g){var x=this.Fx.add.TySh,K=bv.gH(x.cp),h;
if(K==1){h=bv.w$(x.cp);h=new aS(0,0,h[2]-h[0],h[3]-h[1])}else h=this.ln.e$();var X=[h.x,h.y,h.x+h.m,h.y,h.x+h.m,h.y+h.n,h.x,h.y+h.n];
l.o.D(X,x.D,X);this.zl=new dH(X,!0,!0,!1,!1);this.ab0=h;this.L9(a)}if(C.NM(o.code,C._l))w=1;if(C.NM(o.code,C.IX))w=-1;
if(C.NM(o.code,C.N8))G=-1;if(C.NM(o.code,C.DH))G=1;var R=C.NM(o.code,c_.t5),d=C.NM(o.code,c_.atZ);if(C.NM(o.code,c_.kD)&&g){this.om(a,this.caller);
return}if(C.NM(o.code,c_.oc)){this.eI(a,this.caller);return}if(C.NM(o.code,c_.d9)){o.preventDefault();
var q=this.Qg,m=q.value,M=q.selectionStart,Z=q.selectionEnd;q.value=m.substring(0,M)+"\t"+m.substring(Z);
q.selectionStart=q.selectionEnd=M+1;this._p(null);return}var Q=C.NM(o.code,C.LL),p=C.NM(o.code,C.kT);
if(g&&(Q||p)){o.preventDefault();var y=new jO(D.E.q,!0);y.F=c.SL;y.data={C:"zoom",ri:Q};this.caller.c(y)}if(o.altKey&&w!=0){var V=this.Rj==this.A1,W=JSON.parse(JSON.stringify(this.zP.iq));
if(V){W.Fn.Kerning+=20*w;W.Fn.AutoKerning=!1}else W.Fn.Tracking+=20*w;o.preventDefault();var v=new jO(D.E.X,!0);
v.data={C:D.t.sM,eA:e1.Nf,iq:W};this.caller.c(v);var y=new jO(D.E.q,!0);y.F=c.rv;y.data={C:"updateStyles"};
this.caller.c(y);return}if((C.NM(o.code,C.sp)||C.NM(o.code,C.Hi))&&g){var j=this.Rj,T=this.A1;if(j>T){var O=j;
j=T;T=O}var x=this.Fx.add.TySh,L=bv.cR(x.cp);if(j!=T){this.vE=L.slice(j,T);this.a3y=JSON.stringify(this.zP.iq)}}var S=bv.cR(this.Fx.add.TySh.cp);
if(w!=0||G!=0||R||d){o.preventDefault();var H=this.Rj;if(w!=0){if(g&&w==-1)H=this.a5H(S,this.Rj-1);else if(g&&w==1)H=this.aca(S,this.Rj);
else{var q=this.Qg,m=q.value;H=this.Rj+w;if(H!=0&&m.codePointAt(H-1)>65535)H+=w}}else if(G!=0){var f=this.ln.TW(this.Rj);
if(G==-1&&f.l2==0)H=0;else if(G==1&&f.l2==this.ln.anY()-1)H=99999999999;else H=this.ln.a2F(new eN(f.Cn.x+f.Cn.m/2,0),f.l2+G)}else if(R){var F=this.Rj-1;
while(F>0&&S.charCodeAt(F)!=10)F--;H=F==0?0:F+1}else if(d){var F=this.Rj;while(F<S.length-1&&S.charCodeAt(F)!=10)F++;
H=F}H=Math.max(0,Math.min(S.length-1,H));if(o.shiftKey)this.Rj=H;else this.Rj=this.A1=H;$=!0}if(C.NM(o.code,c_.t)&&g){this.Rj=0;
this.A1=S.length-1;$=!0}if($){this.oV();this.L9(a)}};c.me.avq=function(o,g){var C=o.length;if(C!=g.length)return!1;
for(var N=0;N<C;N++)if(o[N].$w!=g[N].$w)return!1;return!0};c.me.prototype.om=function(o,g){if(this.Fx==null)return;
this.Fx.b7();var C=this.UU;if(C instanceof Array){var a=this.EY(o,this.iY),x=o.XW();if(x!=null&&x.F==this&&x.data.yX&&c.me.avq(x.data.yX,C))x.data.VY=a;
else{var K=new dC(this.name,this);K.data={yX:C,VY:a};o.zn(K)}}else{var K=new dC(this.name,this);K.data={XK:C.XK,Zk:C.Zk,sh:C.sh,lQ:C.lQ};
o.zn(K)}this.escape(o,g)};c.me.prototype.eI=function(o,g){if(this.Fx==null)return;if(this.UU instanceof Array){this.eR(o,this.UU);
if(this.Fx)bv.hf(this.Fx.add.TySh)}else{o.A=this.UU.sh;o.jZ(this.UU.XK)}o.L();this.escape(o,g)};c.me.prototype.escape=function(o,g){this.a3L();
this.Fx=null;this.iY=null;this.ln=null;this.mi=null;this.Qg.blur();o.b.IQ=null;o.b.hg=null;o.b.rM=[];
o.dF=!0;this.mz=!1;this.Lk=!1;this.Rj=this.A1=-1;this.pC(g,D.E.X,{C:D.t.Gy,F:this.id,LR:"hideactive"});
if(this.Je){var C=new jO(D.E.X,!0);C.data={C:D.t.JG,F:this.Je};g.c(C);this.Je=null}};c.me.prototype.pC=function(o,g,C,a){var x=new jO(g,!0);
x.data=C;if(a)x.F=a;o.c(x)};c.me.prototype.pB=function(o){var g=this.Fx.add.TySh,C=this.ln,a=g.D.clone();
a.rq();var x=a.nx(o),K=bv.QR(g,C),h=l.X0.Nw(g.xr,K),X=l.dD.a0g(h,x);if(X==null)X=new Float64Array(2);
x=new eN(K.x+X[0]*K.m,K.y+X[1]*K.n);if(C.v5){var w=C.v5.clone();w.rq();x=w.nx(x)}var G=C.a2F(x);return G};
c.me.prototype.L9=function(o,g){if(g==null)g=!1;var C=this.Fx.add.TySh,a=bv.gH(C.cp),x=this.ln,K=x?bv.QR(C,x):null;
o.b.rM=[];o.b.IQ=null;o.b.hg=null;var h=this.zl?this.zl:this.mi;if(h){h.zf(o,this.zP,!l.X0.L1(C.xr));
var X=C.D.clone();X.rq();if(x&&x.v5&&x.a0==1){var w=x.v5.clone();w.rq();X.concat(w)}l.o.D(o.b.rM,X,o.b.rM);
l.o.D(o.b.IQ.w,X,o.b.IQ.w);if(x&&x.v5==null&&x.ajS()){var G=K.m-20,R=K.n+8;o.b.IQ.w.push(G,R,G+10,R,G+5,R-5,G+5,R+5);
o.b.IQ.G.push("M","L","M","L")}}else if(a==0)this.a6M(o,C,x);else o.b.IQ={w:[],G:[]};var d=Math.min(this.Rj,this.A1),q=Math.max(this.Rj,this.A1);
if(!g){this.Qg.selectionStart=d;this.Qg.selectionEnd=q}if(x!=null){var m=function(h,W){var v=h.x,j=h.y+h.n,e=new kp;
e.translate(-v,-j);e.rotate(-W);e.translate(v,j);h.y+=h.n*.27;var V=l.o.IW(h);l.o.D(V.w,e,V.w);return V};
if(d==q){d=Math.max(d,0);var M=x.TW(d);if(M){var Z=M.Cn,Q=this.zP.iq.Fn.FontSize;if(Q!=null&&Q!=0){Q/=C.D.Bo();
Z.y+=Z.n-Q;Z.n=Q}var p=x.a0S(d);if(p!=null&&p.hb==1)Z.x+=Z.m;var y=m(Z,M.BD).w;o.b.IQ.G.push("M","L");
o.b.IQ.w.push(y[0],y[1]-1,y[6],y[7]-1)}}else{o.b.hg={w:[],G:[]};for(var N=d;N<q;N++){var M=x.TW(N),V=m(M.Cn,M.BD);
l.o.concat(o.b.hg,V)}}}o.b.IQ=d2.uq(o.b.IQ,C,x);o.b.hg=d2.uq(o.b.hg,C,x);o.b.rM=d2.uq({w:o.b.rM},C,x).w;
o.dF=!0};c.me.prototype.a6M=function(o,g,C){if(C==null)return;o.b.rM.push(0,0);if(o.b.IQ==null)o.b.IQ={G:[],w:[]};
for(var N=0;N<C.Yt.length;N++){var a=C.Yt[N];for(var x=0;x<a.T$.length;x++){var K=a.T$[x],h=a.ep.x+K.ep.x+K.Cn.x,X=a.ep.y+K.ep.y+K.Cn.y+K.Cn.n;
o.b.IQ.G.push("M","L");o.b.IQ.w.push(h,X,h+K.Cn.m,X)}}o.dF=!0};c.avZ=function(){c.me.call(this,!0)};
c.avZ.prototype=new c.me;c.CJ=function(){c.vk.call(this,[10,9],c.w_,"tools/lasso");this.A8="crosshair";
this.RZ=null;this.DQ=null;this.L8=null};c.CJ.prototype=new c.vk;c.CJ.prototype.eb=function(o,g,C,a){this.RZ=this.VZ;
this.DQ={w:[this.RZ.x,this.RZ.y],G:["M"]}};c.CJ.prototype.y8=function(o,g,C,a){this.L8=a;var x=this.DQ;
if(x==null)return;if(!a.H3){if(this.DQ!=null&&this.N9>1&&C.a(c_.LW)){x.w.pop();x.w.pop();x.w.push(this.Qv.x,this.Qv.y);
o.b.IQ=x;o.dF=!0}return}x.G.push("L");x.w.push(this.Qv.x,this.Qv.y);this.RZ=this.Qv;if(this.Jt){o.b.IQ=x;
o.dF=!0}};c.CJ.prototype.rJ=function(){return this.DQ!=null};c.CJ.prototype.Ba=function(){return this.DQ!=null};
c.CJ.prototype.Uh=function(o,g,C,a){c.vk.prototype.Uh.call(this,o,g,C,a);if(this.DQ&&this.N9>1&&this.L8&&!this.L8.H3&&!a.a(c_.LW))this.aoi(o,C,a)};
c.CJ.prototype.bX=function(o,g,C,a){this.L8=a;var x=this.DQ;if(x==null)return;if(this.N9>1&&C.a(c_.LW)){x.G.push("L");
x.w.push(this.Qv.x,this.Qv.y);return}this.aoi(o,g,C)};c.CJ.prototype.aoi=function(o,g,C){this.finish(o,g,C,this.L8);
this.DQ=null;o.b.IQ=null;o.dF=!0};c.CJ.prototype.getSelection=function(o,g,C,a){if(this.VZ.$s(this.Qv)||!this.Jt)return null;
return c.vk.Ch(this.DQ.w,null,this.i8.anta)};c.YV=function(){c.rr.call(this,[10,11],c.zO,"tools/move");
this.tX=new eN(0,0);this.Ov=new eN(0,0);this.LF=null;this.St=null;this.rZ=new eN(0,0);this.zH=null;this.wq=null;
this.s0=null;this.h$=0;this.QM=null;this._E=[];this.bj=null;this.d_=null;this.Hd=!1;this.C=0;this.Ow=null;
this.Vk=null;this.$p=null;this.zF=!1;this.i8={hn:!1,Ug:!1,uL:!1};this.abI=!1;this.alz=!1;this.mi=null;
this.gL=null;this.ajl=null;var o=[];for(var N=0;N<l.aE.$W.length;N++)o.push({name:l.aE.$W[N],N:function(g,C,a){return{WU:C.M8.oK==a}}});
this.IR=new g0(o);this.IR.h("select",this.EF,this)};c.YV.prototype=new c.rr;c.rr.prototype.qt=function(o){return this.Hd&&this.C!=2};
c.YV.prototype.Zv=function(){return this.Hd&&(this.C==0||this.C==1)};c.YV.prototype.xQ=function(o,g,C,a){this.dN(o,-this.rZ.x,-this.rZ.y);
this.rZ.fR(0,0);this.b6(o,null,C);this.x9(o)};c.YV.prototype.eq=function(){var o=this.i8;return[o.hn?1:0,o.Ug?1:0,o.uL?1:0]};
c.YV.prototype._M=function(o,g,C){var a=this.i8;if(o&&o[0]!=null)a.hn=o[0]==1;if(o&&o[1]!=null)a.Ug=o[1]==1;
if(o&&o[2]!=null)a.uL=o[2]==1;var x=new jO(D.E.X,!0);x.data={C:D.t.Gy,F:this.id,HB:a,aof:g};C.c(x)};
c.YV.amR=function(o,g,C,a,x,K,h){if(h==null)h=[!1,!0];var X=o.TD(null,x,!0),w,G;if(o.add.artd&&o.A.length==1&&o.g[o.A[0]].add.artb){var R=o.g[o.A[0]].zz();
w=o.Gs(X,R,R)[0]}else{var d=new aS(0,0,o.m,o.n),w=o.Gs(X,h[0]?d:null,h[1]?null:d)[0];delete w.add.artd;
if(h[1]){var q=l.AQ(w.cf(),new aS(0,0,w.m,w.n),2);c.ro.BF(w,q)}}if(C!=1){var m=new aS(0,0,Math.round(w.m*C),Math.round(w.n*C));
c.ro.BF(w,m);var M=[];for(var N=0;N<w.g.length;N++)M.push(N);var Z=c.V.sk(w,M,!0);c.ro.Ss(w,new kp(C,0,0,C,0,0));
c.V.fF(w,a,M,Z,1,l.S.xN(new kp(C,0,0,C,0,0)),null,!0);w.II()}else if(G){w.L();w.II()}var Q=[];for(var N=0;
N<g.length;N++)if(w.m*w.n!=0)Q.push(bl.XS(w,g[N].toUpperCase(),null,null,K?K[N]:null,a));return Q};c.YV.prototype.atf=function(o,g,C,a,x){if(o==null||o.A.length==0)return;
var K=c.YV.amR(o,[g],C,a,null)[0],h=new jO(D.E.X,!0);h.data={C:D.t.Mh,data:K,name:o.g[o.A[0]].getName()+(C==1?"":"@"+C+"x")+"."+g};
x.c(h)};c.YV.prototype.jD=function(o,g,C,a,x){if(o.JI=="getPNG"){this.atf(C,"png",o.pS,x,g)}else if(o.JI=="getSVG"){this.atf(C,"svg",o.pS,x,g)}if(o.JI=="prms"){this.i8=o;
this.x9(C)}};c.YV.ais=function(o){var ee=o.length,C=0;o.sort(function(K,h){return K[0]+K[1]/2-(h[0]+h[1]/2)});
var g=o[ee-1][0]+o[ee-1][1]-o[0][0];for(var N=0;N<ee;N++)C+=o[N][1];var a=Math.round((g-C)/(ee-1)),x=o[0][0];
for(var N=0;N<ee;N++){o[N][0]=x;x+=o[N][1]+a}};c.YV.prototype.i2=function(o,g,C,a,x){var K=o.C;if(K=="trsl"){var h=Math.round(o.pV),X=Math.round(o.Ed);
this.rZ.fR(h,X);this.lU(C,g,a,x,!1,o.l);this.dN(C,h,X);this.b6(C,null,x)}else if(K=="fcmy"){var K=new dC(["RGB","CMYK"][o.k]+" Color",this);
K.data={C:o.C,zT:C.add.fcmy==null?0:C.add.fcmy,kq:o.k};C.zn(K);this.SW(K.data,C)}else if(K=="pview"){var K=new dC("Pattern Preview",this);
K.data={C:o.C};C.zn(K);this.SW(K.data,C)}else if(K=="lockguides"){if(C)C.LV=!C.LV}else if(K=="gids"||K=="gidsFromLayer"){var w=o.Vk,G,R;
if(w==null)w=C.Kc();if(K=="gids"){G=o.SR;var d=w[0].length,q=G[0].length;R=d==q?[23,2]:d>q?[23,3]:[23,4];
if(q==0)R=[11,15,0]}else if(K=="gidsFromLayer"){var m=[],M=[],Z=C.M4();for(var N=0;N<C.A.length;N++){var Q=C.g[C.A[N]].rect;
if(Q.to())continue;m.push([0,Q.x],[1,Q.y],[0,Q.x+Q.m],[1,Q.y+Q.n]);M.push(Z,Z,Z,Z)}R=[11,15,1];G=C.Kc();
c.YV.K3(G,[m,M])}if(JSON.stringify(w)==JSON.stringify(G))return;var K=new dC(R,this);K.data={C:2,Vk:w,SR:G};
C.zn(K);this.SW(K.data,C)}else if(K=="algn"){var p=o.k;if(C==null)return;if(C.A.length<2&&!(C._!=null&&p!=3&&p!=7)){alert(fF.get([15,7,5]));
return}var y=C._;C._=null;var Q=y?y.rect:c.V.QR(C);this.lU(C,g,a,x,!1);if(!this.Hd)return;var V=this.QM,W={},v=[],j=[],e=[];
for(var N=0;N<V.length;N++){var T=V[N];while(C.g[T].getName()=="</Layer group>")T++;var O=C.root.V0(T),L=O;
while(O.parent!=null){O=O.parent;if(V.indexOf(O.index)!=-1)L=O}var S=j.indexOf(L.index);if(S==-1){S=j.length;
j.push(L.index)}v[N]=S}var $=[],H=[],f=[];for(var N=0;N<j.length;N++){var F=c.V.QR(C,C.TD(!0,j[N]));
f.push(F);var U=p==3?[F.y,F.n]:[F.x,F.m];$[N]=U;H.push(U)}c.YV.ais(H);for(var N=0;N<j.length;N++){var F=f[N],r=F.x,E=F.y;
if(p==0)r=Q.x;if(p==1)r=Q.x+(Q.m-F.m)/2;if(p==2)r=Q.x+(Q.m-F.m);if(p==3)E=$[N][0];if(p==4)E=Q.y;if(p==5)E=Q.y+(Q.n-F.n)/2;
if(p==6)E=Q.y+(Q.n-F.n);if(p==7)r=$[N][0];e.push(Math.round(r-F.x),Math.round(E-F.y))}var k=[];for(var N=0;
N<V.length;N++){var P=v[N];k[2*N]=e[2*P];k[2*N+1]=e[2*P+1]}this.dN(C,0,0,null,k);var z=p==3||p==7?[20,4,6]:[20,4,p<3?p:p-1];
this.b6(C,null,x,k,z);C._=y}else if(K=="disabAuto"){this._M([!1],null,g)}};c.YV.K3=function(o,g){for(var N=0;
N<g[0].length;N++){var C=g[0][N],a=g[1][N],x=!1;for(var K=0;K<o[0].length;K++){var h=o[0][K],X=o[1][K];
if(C[0]==h[0]&&C[1]==h[1]&&a==X)x=!0}if(!x){o[0].push(C.slice(0));o[1].push(a)}}};c.YV.prototype.enable=function(o,g,C,a,x){this.wq=C;
this.s0=g;this.zF=x?!0:!1;this.x9(o);this.MW("default",g)};c.YV.prototype.disable=function(o,g,C,a){this.amP(o)};
c.YV.prototype.amP=function(o){if(o==null)return;if(this.mi){this.mi.clear(o);this.mi=null}if(o.b.uL){o.b.uL=null;
o.dF=!0}if(o.b.mE){o.b.mE=null;o.dF=!0}if(o.b.iw[this.id]){delete o.b.iw[this.id];o.dF=!0}if(o.b.hl.length!=0){o.b.hl=[];
o.dF=!0}};c.YV.prototype.Lu=function(o,g,C,a){if(C.MR!=this.id)return;this.x9(o)};c.YV.prototype.x9=function(o,g){if(o==null)return;
var C=this.i8;this.amP(o);if(!this.zF){var a;if(C.Ug||C.uL)a=l.o.ul(c.V.QR(o));if(C.Ug&&!a.to()){this.mi=new dH([a.x,a.y,a.x+a.m,a.y,a.x+a.m,a.y+a.n,a.x,a.y+a.n],!0);
this.mi.zf(o,this.wq)}if(C.uL){var x=null,R=null,d=!1;if(o.M4()!=-1)x=o.g[o.M4()].zz();else x=new aS(0,0,o.m,o.n);
o.b.uL={Jw:[a],kG:[]};var K=o.b.uL.kG,h=a.x+a.m,X=a.y+a.n,w=a.x+Math.floor(a.m/2),G=a.y+Math.floor(a.n/2);
if(g){var q=o.root._9(new eN(Math.floor(g.x),Math.floor(g.y)));if(q){R=l.o.ul(q.l.y1(o));if(R.fp(a)){d=(R.Xq(a)||a.Xq(R))&&!a.$s(R);
if(!d)R=null}}}this.a8y(a,K);if(R!=null){o.b.uL.Jw.push(R);var m=R.x+R.m,M=R.y+R.n,Z=R.x+Math.floor(R.m/2),Q=R.y+Math.floor(R.n/2);
if(d){var p=w,y=G;if(a.Xq(R)){p=Z;y=Q}K.push(a.x,y,R.x,y);K.push(h,y,m,y);K.push(p,a.y,p,R.y);K.push(p,X,p,M)}else{this.a8y(R,K);
var V=X<R.y||M<a.y,W=h<R.x||m<a.x;if(h<R.x)K.push(h,G,R.x,G);if(m<a.x)K.push(m,G,a.x,G);if(X<R.y)K.push(w,X,w,R.y);
if(M<a.y)K.push(w,M,w,a.y);if(V&&!W){if(a.x<R.x)K.push(a.x,Q,R.x,Q);if(R.x<a.x)K.push(R.x,G,a.x,G)}}}else{if(a.y>x.y)K.push(w,x.y,w,a.y);
if(X<x.y+x.n)K.push(w,X,w,x.y+x.n);if(a.x>x.x)K.push(x.x,G,a.x,G);if(h<x.x+x.m)K.push(h,G,x.x+x.m,G)}o.dF=!0}}if(this.C==2&&this.Hd){var v=new aS(0,0,o.m,o.n),j=o.M4();
if(j!=-1){var e=o.Kc(),T=e[1][this.QM];if(T==-1)T=j;v=o.g[T].zz()}var O=o.Pa[this.QM],L=O[0],S=(L==0?"X":"Y")+": "+l.aE.Cg(O[1]-(L==0?v.x:v.y),o.zC,this.wq,L==0?v.m:v.n,!0);
c.rr.Rd(Math.round(this.LF.x)+10,Math.round(this.LF.y)-10,[S],o);o.dF=!0}if(this.C==3&&this.Hd){var $=l.o.IW(this.Ow);
o.b.iw[this.id]={IQ:$};o.dF=!0}};c.YV.prototype.a8y=function(o,g){var C=o.m,a=o.n,x=o.x+Math.floor(C*.2),K=o.y+Math.floor(a*.2);
g.push(x,o.y,x,o.y+a);g.push(o.x,K,o.x+C,K)};c.YV.prototype.MW=function(o,g){var C={C:D.t._N,Hz:o},a=new jO(D.E.X,!0);
a.data=C;g.c(a)};c.YV.prototype.pb=function(o){var g=this.gL.Xl()[0],C=this.zH,a=this.ajl[g];this.aon(C,a)};
c.YV.prototype.EF=function(o){var g=JSON.parse(JSON.stringify(this.wq.M8));g.oK=this.IR.Xl()[0];var C=new jO(D.E.X,!0);
C.data={C:D.t.sM,eA:e1.Kd,kq:g};this.s0.c(C)};c.YV.prototype.qG=function(o,g,C,a,x){if(this.Hd)this.eO(o,g,C,a,x);
this.zH=o;this.wq=C;this.s0=g;var K=o.u.w2(x.x,x.y),h;if(c.YV.Kx(C,x,o.u)){h=this.IR}else{if(this.gL)this.gL.removeEventListener("select",this.pb);
var X=[];o.root._9(K,X);if(X.length==0)return;var w=[];this.ajl=X;for(var N=0;N<X.length;N++)w.push({name:o.g[X[N]].getName()});
h=this.gL=new g0(w);h.h("select",this.pb,this)}h.parent=g;h.Q();h.update(o,C);var G=new jO(D.E.X,!0);
G.data={C:D.t.Sd,u6:h,x:x.El+2,y:x._i+1};g.c(G)};c.YV.prototype.xy=function(o,g,C,a,x){var K=c.YV.Tv(o,x);
return K!=-1||c.YV.Kx(C,x,o.u)};c.YV.Tv=function(o,g){if(o==null||o.add.artd==null)return-1;var C=o.u.w2(g.x,g.y),a=12*c.r()/o.u.R;
for(var N=0;N<o.g.length;N++){var x=o.g[N];if(!x.aL()||x.add.artb==null)continue;var K=x.zz(),h=new aS(K.x,K.y-1.7*a,a*x.getName().length*.5,a);
if(h.Yo(C))return N}return-1};c.YV.prototype.xA=function(o,g,C,a,x){var K=c.YV.Tv(o,x),h=c.YV.aeO(o,o.u.w2(x.x,x.y));
if(K!=-1){o.A=[K];if(C.MR==c.zO){var X=new jO(D.E.X);X.data={C:D.t.JG,F:c.Uo};g.c(X)}return}if(h!=-1){o.u.Bv=h;
o.b0=!0;var X=new jO(D.E.X,!0);X.data={C:D.t.tq,$j:iU.yt.a00};g.c(X);return}this.LF=x;this.tX.fR(x.x,x.y);
this.Ov=o.u.w2(x.x,x.y);this.St=new a8(this.Ov);this.lU(o,g,a,C,!0)};c.YV.Kx=function(o,g,C,a){var x=l.aE.E6,K=C.B9.n;
return o.rl&&(0<g.x&&g.x<x||0<g.y&&g.y<x||a&&0<g.x&&g.x<4*x&&K-x<g.y&&g.y<K)};c.YV.prototype.lU=function(o,g,C,a,x,K){var h,X=this.Ov,w=!1;
if(x){var G=a.Ha&&a.M8.Pa;if(c.YV.Kx(a,this.tX,o.u)){h=o.Kc();var R=o.Kc(),d=null;if(this.tX.x<l.aE.E6){d=[0,X.x]}if(this.tX.y<l.aE.E6){d=[1,X.y]}R[0].push(d);
R[1].push(o.M4());o.mu(R);if(!G){var q=new jO(D.E.X);if(!a.M8.Pa){q.data={C:D.t.sM,eA:e1.in};g.c(q)}if(!a.Ha){q.data={C:D.t.sM,eA:e1.P8};
g.c(q)}G=!0}}var m=this.a7X(o,X);if(G&&m!=null&&!o.LV){this.C=2;this.Vk=h?h:o.Kc();this.QM=m;this.Hd=!0;
this.d_=c.V.QR(o);return}if(o.Ix.length!=0){this.C=4;this.d_=o.JH[o.Ix[0]].rect.clone();this.Hd=!0;return}if(this.mi&&this.mi.h_(X,o.u.R,!0,this.LF)!=null){var q=new jO(D.E.X);
q.data={C:D.t.JG,F:c.GD,auz:!0};g.c(q);return}if(o._&&o._.rect.Yo(X)){var M=Math.round(X.x),Z=Math.round(X.y),Q=o._.rect;
w=o._.channel[(Z-Q.y)*Q.m+M-Q.x]>128}if(!w&&(!this.zF&&this.i8.hn||this.zF&&this.i8.hn&&(C.a(c_.sH)||o.A.length<2))){var p=this.a8x(o,X,C);
if(!p){o.A=[];o.ls=null;o.n6=o.bq=!0;this.C=3;this.Ow=new aS;this.Hd=!0;return}}if(C.a(c_.LW)&&!w){var y=new jO(D.E.q);
y.F=c.qd;y.data={C:A.XC,amG:!0};g.c(y)}}if(o.Ix.length!=0){this.C=4;this.d_=o.JH[o.Ix[0]].rect.clone();
this.Hd=!0;return}this.QM=o.TD(K==null,K,null,!0);for(var N=0;N<this.QM.length;N++){var V=this.QM[N],W=o.g[V];
if(W.GS(2)||W.GS(31)||o.k3(V)){alert(fF.get([6,57,0]));return}}if(o.add.artd&&x){var v=this.QM,j=!1;
for(var N=0;N<v.length;N++)if(o.g[v[N]].add.artb)j=!0;if(!j){this.bj=[o,o.g.slice(0),o.A.slice(0),-1];
this.QM.sort(function(f,F){return f-F})}}this._E=c.YV.aqC(o,this.QM);this.C=0;if(o._&&(!x||w)&&o.A.length==1&&o.zj(!1)){if(!o.afT()){this.Hd=!1;
return}var e=o.g[o.A[0]],T=C.a(c_.LW);this.C=1;var O=o.history[o.za];if(O.F==this&&O.data.C==1&&O.data.l==o.A[0]&&e.U3==e.Dq.U3&&!T){this.$p=O}else{var L=e.Dq,S=!1,$;
if(!e.pz(o,o._)||T){S=!0;e.Xb(o,o._,T)}if(e.Dq.U3<=0){$=l.Z(e.Dq.G_.length>>2);l.eP(e.Dq.G_,$,3)}else $=o._.channel.slice(0);
var H={rect:e.Dq.PX.clone(),channel:$};this.$p=new dC(T?[12,53]:[12,54],this);this.$p.data={C:1,l:o.A[0],Dq:e.Dq,mF:L,Db:S,sh:o._,lQ:H,rX:new eN(0,0)};
o.zn(this.$p);o._=H;o.f4=!0}}this.Hd=!0;this.d_=c.V.QR(o)};c.YV.prototype.a8x=function(o,g,C){var a=o.root._9(new eN(Math.floor(g.x),Math.floor(g.y)));
if(a){if(a.l.add.vmsk)o.dF=!0;var x=o.g.indexOf(a.l);if(C.a(c_.sH)){var K=o.A.indexOf(x);if(K==-1)o.A.push(x);
else if(o.A.length>1)o.A.splice(K,1)}else if(o.A.indexOf(x)==-1){this.aon(o,x)}}return a!=null};c.YV.prototype.aon=function(o,g){o.g[g].U3=0;
o.A=[g];o.ls=null;o.SU();o.Z5=!0;o.n6=!0};c.YV.aeO=function(o,g){var C=o.add.Anno;if(C==null||C.length==0)return-1;
var a=30/o.u.R;for(var N=0;N<C.length;N++)if(new aS(C[N][0],C[N][1],a,a).Yo(g))return N;return-1};c.YV.prototype.kh=function(o,g,C,a,x){this.LF=x;
var K=o.u.w2(x.x,x.y),m,M;if(this.St&&this.C<2)K=this.St.bu(K,a);if(!this.Hd){if(C.Ha&&C.M8.Pa&&o&&!o.LV){var h=this.a7X(o,K),X="default",w=c.YV.Tv(o,x);
if(h!=null)X=["col-resize","row-resize"][o.Pa[h][0]];else if(this.mi){var G=this.mi.h_(K,o.u.R,null,x);
if(G)X=G}else if(w!=-1||c.YV.aeO(o,K)!=-1){X="pointer"}this.MW(X,g)}this.x9(o,K);return}var R=this.Ov,d=Math.round(K.x-R.x)-this.rZ.x,q=Math.round(K.y-R.y)-this.rZ.y;
if(this.d_){if(this.C==2){var Z=[];if(o._)Z.push(o._.rect);if(this.d_)Z.push(this.d_);if(o.u.N5)Z.push(o.u.N5);
K=c.YV.Pu(o,K,C,[!1,Z,!0])}else{M=this.d_.clone();M.offset(this.rZ.x+d,this.rZ.y+q);m=c.YV.k6(o,M,C);
var Q=this.St.aac(a);if(Q==1){m[0]=0;m[2]=1e9}if(Q==2){m[1]=0;m[3]=1e9}d+=Math.round(m[0]);q+=Math.round(m[1])}}this.rZ.x+=d;
this.rZ.y+=q;var p=this.bj;if(p&&o==p[0]){o.jZ(p[1]);o.A=p[2].slice(0);p[3]=-1}this.dN(o,d,q,K,null,a.a(c_.sH));
if(p&&o==p[0]){var y=this.d_.clone();y.offset(this.rZ.x,this.rZ.y);var V=K,w=o.M4(),W=-1;for(var N=0;
N<o.g.length;N++){var v=o.g[N];if(!v.aL()||v.add.artb==null)continue;var j=v.zz();if(j.Yo(V))W=N}if(W!=-1&&W!=w){var e=c.Nk.PB(o,this.QM,W,!0,null,!1);
o.jZ(e[0]);o.A=e[1];p[3]=W}}this.x9(o,K);if(m)c.YV.QB(o,M,m)};c.YV.prototype.a7X=function(o,g){var C=c.YD(o,this.LF);
g=[g.x,g.y];var a=o.Kc(),x=o.M4();for(var N=0;N<a[0].length;N++){var K=a[0][N],h=a[1][N];if(h!=-1&&h!=x)continue;
if(Math.abs(K[1]-g[K[0]])<C)return N}return null};c.YV.prototype.dN=function(o,g,C,a,x,K){if(this.C==0){if(x)c.YV.ym(o,this.QM,this._E,x);
else c.YV.EI(o,this.QM,this._E,g,C)}else if(this.C==1){var h=this.$p.data;h.rX.offset(g,C);c.YV.sy(o,h.l,g,C)}else if(this.C==2){var X=1e-5;
if(K)X=o.u.R<=1?10:1;else if(o.u.R<=1)X=1;var w=X*Math.round(a.x/X),G=X*Math.round(a.y/X),R=[w,G],d=o.Pa[this.QM];
d[1]=R[d[0]]}else if(this.C==3){var q=this.Ov,m=l.o.Gw([q.x,q.y,a.x,a.y]);this.Ow=m;var M=[];o.root.acG(m,M);
if(JSON.stringify(o.A)!=JSON.stringify(M)){o.A=M;o.n6=o.bq=!0}}else if(this.C==4){for(var N=0;N<o.Ix.length;
N++)o.JH[o.Ix[N]].rect.offset(g,C);o.dF=!0}};c.YV.sy=function(o,g,C,a){var x=o.g[g];o._.rect.offset(C,a);
x.AO(o,C,a,o._);o.f4=!0;o.L()};c.YV.prototype.eO=function(o,g,C,a,x,K){this.b6(o,x,C);this.x9(o);if(Date.now()-this.h$<300&&!K){var h=c.me.HR(o,o.u.w2(x.x,x.y));
if(c.YV.Kx(C,x,o.u,!0)){var X=new jO(D.E.X);if(x.y>o.u.B9.n-20){X.data={C:D.t.gC,$j:"doczoom",zT:o.u.R*100,Tl:{W:D.E.q,F:c.SL,P:{C:"pzoom"}}}}else{X.data={C:D.t.gC,$j:"preferences"}}g.c(X)}else if(h>=0){var w=new jO(D.E.q,!0);
w.F=c.rv;w.data={C:"editCurr",fJ:h};g.c(w)}}this.h$=Date.now();c.ro.dO(o)};c.YV.prototype.b6=function(o,g,C,a,x){if(!this.Hd)return;
this.Hd=!1;if(this.C==0){if(a){this.a61(o,null,a,x)}else{if(this.rZ.x==0&&this.rZ.y==0)return;this.a61(o,this.rZ.clone())}o.b0=!0}else if(this.C==2){var K=0;
g=[g.x,g.y];var h=this.QM,X=o.Pa[h],gC=this.Vk[0].length,w=o.Pa.length;if(C.rl&&g[X[0]]<l.aE.E6){var G=o.Kc();
G[0].splice(h,1);G[1].splice(h,1);o.mu(G);K=1;if(gC==w-1)return}if(gC<w)K=2;var R=new dC([[23,2],[23,3],[23,4]][K],this);
R.data={C:2,Vk:this.Vk,SR:o.Kc()};o.zn(R)}else if(this.C==4){var R=new dC([12,54],this);R.data={C:4,A:o.Ix.slice(0),v:this.rZ.clone()};
o.zn(R)}this.rZ.fR(0,0)};c.YV.prototype.Uh=function(o,g,C,a){var x=a.c4();if(o!=null&&(x.x!=0||x.y!=0)){if(a.a(c_.LW)&&o._==null){var K=new jO(D.E.q);
K.F=c.qd;K.data={C:A.XC,amG:!0};g.c(K)}this.rZ.fR(x.x,x.y);this.lU(o,g,a,C,!1);if(!this.Hd)return;this.dN(o,x.x,x.y);
this.b6(o,null,C);this.x9(o)}var h=a.a(c_.Ns);if(!this.zF&&this.alz!=h){if(h){this.abI=this.i8.hn;this.i8.hn=!0}else{this.i8.hn=this.abI}this.alz=h;
var X=new jO(D.E.X,!0);X.data={C:D.t.Gy,F:this.id,HB:this.i8};g.c(X)}};c.YV.prototype.Op=function(o,g){if(o.C==0){var C=o.XP;
if(C){g.jZ(C.XK);g.A=C.gW.slice(0);g.L();g.n6=!0}c.YV.ym(g,o.A,o.tI,o.gu,!0);c.ro.dO(g)}else if(o.C=="fcmy"){if(o.zT==0)delete g.add.fcmy;
else g.add.fcmy=o.zT;g.dF=!0}else if(o.C=="pview"){g.pZ=!g.pZ;g.L()}else if(o.C==2){g.mu(o.Vk);g.dF=!0}else if(o.C==4){for(var N=0;
N<o.A.length;N++)g.JH[o.A[N]].rect.offset(-o.v.x,-o.v.y);g.dF=!0}else{var a=g.g[o.l];if(o.Db){a.VO(g,o.mF);
g._=o.sh;g.f4=!0;g.L();a.L()}else{c.YV.sy(g,o.l,-o.rX.x,-o.rX.y)}}};c.YV.prototype.SW=function(o,g){if(o.C==0){c.YV.ym(g,o.A,o.tI,o.gu);
var C=o.XP;if(C){g.jZ(C.Zk);g.A=C.Ok.slice(0);g.L();g.n6=!0}c.ro.dO(g)}else if(o.C=="fcmy"){if(o.kq==0)delete g.add.fcmy;
else g.add.fcmy=o.kq;g.dF=!0}else if(o.C=="pview"){g.pZ=!g.pZ;g.L()}else if(o.C==2){g.mu(o.SR);g.dF=!0}else if(o.C==4){for(var N=0;
N<o.A.length;N++)g.JH[o.A[N]].rect.offset(o.v.x,o.v.y);g.dF=!0}else{var a=g.g[o.l];if(o.Db){a.Dq=o.Dq;
g._=o.lQ;c.YV.sy(g,o.l,0,0);a.L()}else{c.YV.sy(g,o.l,o.rX.x,o.rX.y)}}};c.YV.prototype.a61=function(o,g,C,a){if(C){var x=!0;
for(var N=0;N<C.length;N++)if(C[N]!=0)x=!1;if(x)return}var K=o.history[o.za],h=this.bj,X=h!=null&&h[3]!=-1&&h[0]==o;
if(!X&&C==null&&K.data&&K.F==this&&K.data.C==0&&JSON.stringify(K.data.A)==JSON.stringify(this.QM)&&JSON.stringify(K.data.tI)==JSON.stringify(this._E)){var w=K.data.gu,G=K.data.akf.FS.T.v;
G.Hrzn.v.val+=g.x;G.Vrtc.v.val+=g.y;for(var N=0;N<w.length;N+=2){w[N]+=g.x;w[N+1]+=g.y}}else{if(g==null)g=new eN(C[0],C[1]);
var R={j7:"move",FS:{classID:"null",null:kn.C8("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:g.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:g.y}}}}}},d=null;
if(X)d={XK:h[1],gW:h[2],Zk:o.g.slice(0),Ok:o.A.slice(0)};this.bj=null;var q=new dC(a?a:[12,54],this);
if(C)q.data={C:0,A:this.QM,tI:this._E,XP:d,gu:C};else q.data={C:0,A:this.QM,tI:this._E,XP:d,gu:c.YV.aps(this.QM,g.x,g.y)};
q.data.akf=R;o.zn(q);this.track(R)}};c.YV.aps=function(o,g,C){var a=[];for(var N=0;N<o.length;N++)a.push(g,C);
return a};c.YV.EI=function(o,g,C,a,x){c.YV.ym(o,g,C,c.YV.aps(g,a,x))};c.YV.ym=function(o,g,C,a,x){if(g.length==0)return;
if(C==null){C=[];for(var N=0;N<g.length;N++){C.push(o.g[g[N]].Au(o,!0))}}var K=new aS,h=new aS(0,0,o.m,o.n);
for(var N=0;N<g.length;N++){var X=a[2*N],w=a[2*N+1];if(x){X=-X;w=-w}var G=o.g[g[N]],R=C[N];if(G.add.fxrp&&(R.indexOf(0)!=-1||G.eU()))G.add.fxrp.offset(X,w);
for(var d=0;d<R.length;d++){var q=R[d];if(q==0){G.rect.offset(X,w);if(G.xT()&&G.WW(o))G.WW(o).rect.offset(X,w);
if(G.add.artb){var m=G.zz();m.offset(X,w);G.xJ(m);var M=G.add.artb.guideIndeces;M=M?M.v:[];for(var Z=0;
Z<M.length;Z++){var Q=o.Pa[M[Z].v];Q[1]+=Q[0]==0?X:w}}if(G.add.TySh){G.add.TySh.D.translate(X,w);if(G.add.TySh.add){G.add.TySh.add.vmsk.offset(X,w)}}if(G.add.SoLd){var p=new kp(1,0,0,1,X,w),y=G.add.SoLd,V=c.V.aq(y.Trnf),W=c.V.aq(y.nonAffineTransform);
l.o.D(V,p,V);l.o.D(W,p,W);y.Trnf=c.V.SS(V);y.nonAffineTransform=c.V.SS(W);c.V.ahI(y,p)}}if(q==1)G.KN().rect.offset(X,w);
if(q==2){G.add.vmsk.offset(X,w);if(G.add.vogk)l.vm.D(G.add.vogk,[1,0,X,0,1,w,0,0],[])}if(q==3){G.WW(o).d.rect.offset(X,w);
if(R.length==1)G.L()}}if(R.length>0){var v=G.add.GdFl;if(v==null)v=G.add.PtFl;if(G.eU()&&!G.VU()&&G.add.vmsk!=null&&l.M.$n(G.add.vmsk.i)&&G.add.vmsk.TR==255&&(v==null||v.Algn&&v.Algn.v)){G.rect.offset(X,w)}else G.Rw(o);
var j=o.root.ta(G.y1(o),o,g[N]);if(G.add.artb)j=j.ae(G.zz());K=K.ae(j);j.offset(-X,-w);K=K.ae(j);if(G.AY()&&G.d&&G.d.color==255)K=K.ae(h);
G.ahy()}}o.L(l.o.ul(K))};c.YV.aqC=function(o,g){var C=[];for(var N=0;N<g.length;N++){var a=o.g[g[N]];
C.push(a.Au(o))}return C};c.YV.QB=function(o,g,C){var a=o.b.mE={w:[],G:[]},x=g.x+C[0],K=g.y+C[1];if(C[2]!=1e9){a.G.push("M","L");
a.w.push(C[2],K,C[2],K+g.n)}if(C[3]!=1e9){a.G.push("M","L");a.w.push(x,C[3],x+g.m,C[3])}o.dF=!0};c.YV.Pu=function(o,g,C,a){var x=c.YV.a8d(o,[[g.x],[g.y]],C,a);
return new eN(g.x+x[0],g.y+x[1])};c.YV.k6=function(o,g,C,a,x){var K=x==!0?1:.5,h=c.YV.a8d(o,[[g.x,g.x+Math.round(g.m*K),g.x+g.m],[g.y,g.y+Math.round(g.n*K),g.y+g.n]],C,a);
return h};c.YV.a8d=function(o,g,C,a){if(a==null)a=[!0,null,!0];var x=[0,0,1e9,1e9];if(!C.rK)return x;
var K=JSON.parse(JSON.stringify(g));for(var h=0;h<2;h++){var X=1e9,w=g[h],G=0;for(var R=0;R<w.length;
R++){var d=c.YV.aiw(o,w[R],K[1-h][R],h,C,a);if(d!=1e9)K[h][R]=d;if(d!=1e9&&Math.abs(d-w[R])<Math.abs(X)){X=d-w[R];
G=d}}if(X!=1e9){x[h]=X;x[h+2]=G}}return x};c.YV.aiw=function(o,g,C,a,x,K){var h=1e9,X=x.XX,w=x.M8,G=[o.root];
while(G.length!=0&&X[2]){var R=G.pop(),d=R.l,q=d.rect;if(!d.aL())continue;if(R.children)for(var N=0;
N<R.children.length;N++)G.push(R.children[N]);if(o.A.indexOf(R.index)!=-1||q.to())continue;if(a==0){var m=q.m,M=m>>>1;
if(Math.abs(q.x-g)<Math.abs(h-g))h=q.x;if(Math.abs(q.x+M-g)<Math.abs(h-g))h=q.x+M;if(Math.abs(q.x+m-g)<Math.abs(h-g))h=q.x+m}else{var Z=q.n,Q=Z>>>1;
if(Math.abs(q.y-g)<Math.abs(h-g))h=q.y;if(Math.abs(q.y+Q-g)<Math.abs(h-g))h=q.y+Q;if(Math.abs(q.y+Z-g)<Math.abs(h-g))h=q.y+Z}}if(K[0]&&X[0]&&w.Pa&&x.Ha){var p=o.Kc(),y=p[0],V=p[1],W=o.M4();
for(var N=0;N<y.length;N++)if((V[N]==-1||V[N]==W)&&y[N][0]==a&&Math.abs(y[N][1]-g)<Math.abs(h-g))h=y[N][1]}if(X[1]&&w.at&&x.Ha){var v=Math.round(l.aE.p6(w.YG,o.zC,o.m,w.ts));
if(a==1&&w.nu==1){var j=C*.5*Math.sqrt(4/3),e;v*=Math.sqrt(4/3);e=Math.round((g-j)/v)*v+j;if(Math.abs(e-g)<Math.abs(h-g))h=e;
e=Math.round((g+j)/v)*v-j;if(Math.abs(e-g)<Math.abs(h-g))h=e}else{var e=Math.round(g/v)*v;if(Math.abs(e-g)<Math.abs(h-g))h=e}}var T=o.Ng;
if(X[3]&&w.Ng&&x.Ha&&T.length!=0){for(var N=0;N<T.length;N++){if(!K[2]&&o.jB.indexOf(N)!=-1)continue;
var O=c.ho.Ep(T,N);for(var L=0;L<3;L+=2)if(O[L+a]!=g&&Math.abs(O[L+a]-g)<Math.abs(h-g))h=O[L+a]}}if(K[1])for(var S=0;
S<K[1].length;S++){var q=K[1][S],m=q.m,Z=q.n,$=[q.x,q.y,q.x+(m>>>1),q.y+(Z>>>1),q.x+m,q.y+Z];for(var N=0;
N<6;N+=2)if(Math.abs($[N+a]-g)<Math.abs(h-g))h=$[N+a]}if(X[4]){var q=new aS(0,0,o.m,o.n),W=o.M4();if(W!=-1)q=o.g[W].zz();
var m=q.m,Z=q.n,$=[q.x,q.y,q.x+(m>>>1),q.y+(Z>>>1),q.x+m,q.y+Z];for(var N=0;N<6;N+=2)if(Math.abs($[N+a]-g)<Math.abs(h-g))h=$[N+a]}var H=Math.abs(h-g)<=4*c.r()/o.u.R?h:1e9;
return H};c.hm=function(){c.vk.call(this,[10,12],c.nX,"tools/mwand")};c.hm.prototype=new c.vk;c.hm.prototype.eq=c.vk.prototype.agG;
c.hm.prototype._M=c.vk.prototype.ajU;c.hm.prototype.eb=function(o,g,C,a){this.finish(o,g,C,a)};c.hm.prototype.getSelection=function(o,g,C,a){var x=this.Qv,K=c.vk.adk(new eN(Math.floor(x.x),Math.floor(x.y)),this.i8.wconf,this.i8.sall);
return K};c.hm.aw1=function(o,g,C,a,x){if(o.A.length!=1){alert("More than one layer selected.");return null}var K=o.g[o.A[0]],h=null,X;
if(x)h=K.U3<=0?null:K.U3==1?K.KN():K.WW(o).d;if(h==null&&K.add.lsct!=null&&K.add.lsct!=kj.sw){alert("No layer selected.");
return null}if(g.x<0||g.x>o.m||g.y<0||g.y>o.n)return null;var w=new aS(0,0,o.m,o.n);if(a){X=o.cf()}else if(h==null&&w.$s(K.rect))X=K.buffer;
else{X=l.Z(w.$()*4);if(h==null)l.HT(K.buffer,K.rect,X,w);else c.de.sg(h.channel,h.rect,h.color,X,w)}var G=c.hm.agb(X,w,g,null,C),R=l.Wx(G,w),d=l.Z(R.$());
l.MD(G,w,d,R);return{rect:R,channel:d}};c.hm.ald=function(o,g,C){var a=g.m,x=g.n,h=0,X=0,w=0,G=0;o=new Uint32Array(o.buffer);
var K=[],R=C.length;for(var N=0;N<R;N++){var d=C[N],q=Math.round(d.x-.5-g.x),m=Math.round(d.y-.5-g.y);
q=Math.max(0,Math.min(a-1,q));m=Math.max(0,Math.min(x-1,m));var M=m*a+q,Z=o[M];K.push([Z&255,Z>>8&255,Z>>16&255,Z>>>24])}return K};
c.hm.agb=function(o,g,C,a,x){o=new Uint32Array(o.buffer);var K=g.m,h=g.n,X=K*h;if(a==null)a=c.hm.ald(o,g,[C]);
var w=Math.round(C.x-.5-g.x),G=Math.round(C.y-.5-g.y),R=G*K+w,d=Date.now(),q=l.Z(K*h),m=x[0],M=1/m,Z=x[1]&&m>0?255:0;
if(x[2]){var Q=l.Z(q.length),p=new Uint32Array(X),y=1;p[0]=w<<16|G;Q[R]=1;while(y>0){var V=p[y-1];y--;
var W=V>>>16,v=V&65535,N=v*K+W,j=c.hm.N6(o[N],a);if(j>m){var e=Z*(1-Math.max(0,Math.min(1,(j-m)*M)));
q[N]=~~e}else{q[N]=255;if(v!=h-1&&Q[N+K]==0){p[y++]=W<<16|v+1;Q[N+K]=1}if(v!=0&&Q[N-K]==0){p[y++]=W<<16|v-1;
Q[N-K]=1}if(W!=K-1&&Q[N+1]==0){p[y++]=W+1<<16|v;Q[N+1]=1}if(W!=0&&Q[N-1]==0){p[y++]=W-1<<16|v;Q[N-1]=1}}}}else{for(var N=0;
N<X;N++){var j=c.hm.N6(o[N],a);if(j<=m)q[N]=255}for(var v=0;v<h;v++)for(var W=0;W<K;W++){var N=v*K+W;
if(q[N]==0&&(W>0&&(q[N-1]==255||v>0&&q[N-K-1]==255||v<h-1&&q[N+K-1]==255)||W<K-1&&(q[N+1]==255||v>0&&q[N-K+1]==255||v<h-1&&q[N+K+1]==255)||v>0&&q[N-K]==255||v<h-1&&q[N+K]==255)){var j=c.hm.N6(o[N],a),e=Z*(1-Math.max(0,Math.min(1,(j-m)*M)));
q[N]=~~e}}}return q};c.hm.N6=function(o,g){var C=g.length,a=c.hm.as$(o,g[0]),N=1;while(N!=C){a=Math.min(a,c.hm.as$(o,g[N]));
N++}return a};c.hm.as$=function(o,g){var C=o&255,a=o>>>8&255,x=o>>>16&255,K=o>>>24&255;if(g[3]==0)return K<5?0:255;
var h=Math.max(Math.abs(C-g[0]),Math.max(Math.abs(a-g[1]),Math.abs(x-g[2])));return K==0?255:h};c.wy=function(o,g){if(g)c.de.call(this);
else if(o)c.de.call(this,[10,49],c.YE,"tools/camove");else c.de.call(this,[10,26],c.Qi,"tools/patch");
this.RZ=null;this.DQ=null;this.v=null;this.ep=null;this.Q1=new eN;this.CY=null;this.qj=null};c.wy.prototype=new c.de;
c.wy.prototype.xA=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y);if(o._&&l._9(K,o._.channel,o._.rect)){var h=new aS(0,0,o.m,o.n),X=h.Kw(o._.rect);
if(!o.zj()||X.to())return;if(!0){var w=l.Z(X.$());l.MD(o._.channel,o._.rect,w,X);o._={channel:w,rect:X}}this.V7(o);
this.RL(o);this.ep=K;this.Q1=new eN(K.x-o._.rect.x,K.y-o._.rect.y);this.qj=l.Z(o._.rect.$()*4);this.qj.fill(255);
if(this.i8.patch==1){var G=o.g[o.A[0]];G.Xb(o,o._,!0);if(G.Dq==null)this.ep=null}this.CY=o._.rect.clone()}else{this.DQ={w:[K.x,K.y],G:["M"]};
this.RZ=K}};c.wy.prototype.kh=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y);if(this.ep){if(this.i8.patch==1){if(o.Ix.length==0){var h=o.g[o.A[0]].Dq,X=K.x-this.Q1.x,w=K.y-this.Q1.y;
c.YV.sy(o,o.A[0],Math.round(X-h.PX.x),Math.round(w-h.PX.y))}}else this.a1G(o,K,"clone")}if(this.RZ){this.DQ.G.push("L");
this.DQ.w.push(K.x,K.y);this.RZ=K;o.b.IQ=this.DQ;o.dF=!0}};c.wy.prototype.eO=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y);
if(this.ep){var h=o._.rect.clone();if(this.id==c.YE){var X=o.g[o.A[0]];X.VO(o,X.Dq);o._.rect=this.CY.clone();
var w=l.Z(o._.rect.$()*4);l.Oa(o._.channel,w,3);this.$b(o,"sheal",w,o._.rect,o._.rect);o._.rect=h;h=h.ae(this.CY)}this.a1G(o,K,"heal");
this.finish(o,h,null,null,!0);o.L(h);this.ep=null}if(this.RZ){var G=c.vk.qs(this.i8.setop,a.a(c_.sH),a.a(c_.LW)),R=new jO(D.E._h,!0);
if(this.DQ.w.length<=4)R.data=c.vk.K9();else R.data=c.vk.Ch(this.DQ.w,G);g.c(R);this.RZ=null;o.b.IQ=null;
o.dF=!0}};c.wy.prototype.ki=function(){return this.v};c.wy.prototype.jD=function(o,g,C,a,x){c.de.prototype.jD.call(this,o,g,C,a,x);
this.MW(x,a)};c.wy.prototype.MW=function(o,g){var C="auto;";if(g!=null&&g.a(c_.sH)&&!g.a(c_.LW)||this.i8.setop=="union")C="copy";
var a=new jO(D.E.X,!0);a.data={C:D.t._N,Hz:C};if(this.caller)this.caller.c(a)};c.wy.prototype.a1G=function(o,g,C){var a=new eN(Math.round(this.ep.x-g.x),Math.round(this.ep.y-g.y));
if(this.i8.patch==1)a.fR(-a.x,-a.y);this.v=a;this.$b(o,C,this.qj,o._.rect,o._.rect);this.L(o,o._.rect)};
c.adT=function(){c.wy.call(this,!0);this.i8.patch=1};c.adT.prototype=new c.wy(!0,!0);c.XG=function(){c.de.call(this,[10,13],c.Cm,"tools/pbucket");
this.k5=!1};c.XG.prototype=new c.de;c.XG.prototype.enable=function(o,g,C,a){var x=new jO(D.E.X,!0);x.data={C:D.t._N,Hz:"default"};
g.c(x)};c.XG.prototype.Xt=function(o,g){};c.XG.prototype.xA=function(o,g,C,a,x){this.k5=!0};c.XG.prototype.eO=function(o,g,C,a,x,K){var h=this.k5;
this.k5=!1;if(!h||K)return;if(this.NY(a,g,x))return;if(!o.zj())return;var X=o.u.w2(x.x,x.y),w=c.hm.aw1(o,X,this.i8.wconf,this.i8.sall,!0);
if(w==null)return;var G=l.Z(w.rect.$()*4);l.th(G,(C.L$&255)<<16|(C.L$>>8&255)<<8|(C.L$>>16&255)<<0);
l.Oa(w.channel,G,3);this.V7(o);this.$b(o,"draw",G,w.rect,w.rect);this.L(o,w.rect);this.finish(o,w.rect)};
c.JU=function(){c.vk.call(this,[10,14],c.z8,"tools/plasso");this.A8="crosshair";this.s6=[];this.Bz=null;
this.DQ=null;this.aiK=0};c.JU.prototype=new c.vk;c.JU.prototype.disable=function(o,g,C,a){this.GQ(o)};
c.JU.prototype.eb=function(o,g,C,a){this.s6=[c_.nJ,c_._k]};c.JU.prototype.td=function(o){return this.s6.indexOf(o)!=-1};
c.JU.prototype.qt=function(o){return this.DQ!=null};c.JU.prototype.Ba=function(){return this.DQ!=null};
c.JU.prototype.rJ=function(){return this.DQ!=null};c.JU.prototype.y8=function(o,g,C,a){if(this.DQ==null)return;
var x=this.DQ,K=x.w,h=K.length-2,X=this.Qv;if(this.jt.Xo(1)&&C.a(c_.LW)&&a.H3){K.push(0,0);x.G.push("L");
h+=2}else if(C.a(c_.sH))X=c.Wt.kp(new eN(K[h-2],K[h-1]),X);K[h]=X.x;K[h+1]=X.y;o.b.IQ=x;o.dF=!0};c.JU.prototype.bX=function(o,g,C,a){var x=Date.now();
if(this.DQ==null)this.DQ={w:[this.Qv.x,this.Qv.y,this.Qv.x,this.Qv.y],G:["M","L"]};else{this.y8(o,g,C,a);
if(x-this.aiK<250||eN.ig(this.Qv,new eN(this.DQ.w[0],this.DQ.w[1]))<c.YD(o,a)){this.Bz=this.DQ;this.finish(o,g,C,a);
this.GQ(o);return}this.DQ.G.push("L");this.DQ.w.push(this.Qv.x,this.Qv.y)}this.aiK=x;o.b.IQ=this.DQ};
c.JU.prototype.GQ=function(o){this.DQ=null;this.s6=[];if(o!=null){o.b.IQ=null;o.dF=!0}};c.JU.prototype.Uh=function(o,g,C,a){c.vk.prototype.Uh.call(this,o,g,C,a);
if(a.a(c_.oc)&&this.DQ==null&&this.Bz&&o._!=null){var x=new jO(D.E.q);x.F=c.DY;x.data={C:"h_stepbck"};
g.c(x);this.eb(o,C,a,null);this.DQ=this.Bz;return}if(this.DQ==null)return;if(a.a(c_.nJ)||a.a(c_._k)){this.DQ.w.pop();
this.DQ.w.pop();this.DQ.G.pop();this.y8(o,C,a)}if(a.a(c_.kD)){if(this.DQ.w.length>4){this.Bz=this.DQ;
this.finish(o,C,a)}this.DQ=null}if(a.a(c_.oc)){this.DQ=null}o.b.IQ=this.DQ;o.dF=!0};c.JU.prototype.getSelection=function(o,g,C,a){return c.vk.Ch(this.DQ.w,null,this.i8.anta)};
c.Lo=function(){c.vk.call(this,[10,10],c.sI,"tools/mlasso");this.A8="crosshair";this.s6=[];this.i=[];
this.KP=[];this.T$=[];this.tu=null;this.Km=null;this.pM=null;this.h$=0;this.DJ=0};c.Lo.prototype=new c.vk;
c.Lo.prototype.disable=function(o,g,C,a){this.clear(o)};c.Lo.prototype.qt=function(o){return this.i.length!=0};
c.Lo.prototype.rJ=function(){return this.i.length!=0};c.Lo.prototype.td=function(o){return this.s6.indexOf(o)!=-1};
c.Lo.prototype.eb=function(o,g,C,a){this.s6=[c_.nJ,c_._k];var x=this.qW(this.VZ,o);if(this.i.length!=0&&(eN.ig(x,this.i[0])<c.YD(o,a)||Date.now()-this.h$<300)){this.Qx(o,this.i[0]);
this.finish(o,g,C);this.clear(o);return}this.h$=Date.now();if(this.i.length!=0)x=this.fQ(x,o);else{var K=o.m,h=o.n,X=l.Z(K*h),w=o.cf(),G=K*h*4;
for(var N=0;N<G;N+=4)X[N>>>2]=~~(.5+l.mD(w[N],w[N+1],w[N+2])*(w[N+3]*(1/255)));this.tu=l.BM.abG(X,K,h);
this.pM=new Uint16Array(X.length)}this.Qx(o,x);this.DJ=C.a(c_.LW)?1:0;this.Ga(o)};c.Lo.prototype.Qx=function(o,g){var C=this.i;
this.KP[C.length]=this.T$.length;if(C.length!=0){l.BM.Jx(this.Km,g.y*o.m+g.x);var a=this.jE(o,g);a.reverse();
var x=c.Lo.a4b(o,a);this.T$=this.T$.concat(x)}C.push(g);this.abJ(o)};c.Lo.prototype.abJ=function(o){var g=this.i[this.i.length-1],C=g.y*o.m+g.x;
this.Km=l.BM.agt(this.tu.p$,this.tu.EN,C);this.pM.fill(0)};c.Lo.prototype.qW=function(o,g){return new eN(Math.floor(Math.max(0,Math.min(g.m-1,o.x))),Math.floor(Math.max(0,Math.min(g.n-1,o.y))))};
c.Lo.prototype.clear=function(o){this.T$=[];this.i=[];this.KP=[];this.tu=null;this.Km=null;this.pM=null;
if(o!=null){o.b.IQ=null;o.b.rM=[];o.dF=!0}this.s6=[]};c.Lo.prototype.y8=function(o,g,C,a){var x=this.i,K=x.length;
if(K==0)return;var h=this.fQ(this.qW(this.Qv,o),o),X=this.jE(o,h);for(var N=0;N<X.length;N++){var w=X[N],G=new eN(w%o.m,Math.floor(w/o.m));
if(this.pM[w]>30&&eN.ig(G,x[K-1])>20){this.Qx(o,G);return}this.pM[w]++}if(this.DJ==1&&a.H3)this.Qx(o,h);
this.Ga(o)};c.Lo.prototype.Ga=function(o){var g=this.i;if(g.length!=0){var C=this.fQ(this.qW(this.Qv,o),o),a=this.jE(o,C);
a.reverse();var x=c.Lo.a4b(o,a),K=this.T$.concat(x),h=o.b.IQ={w:K,G:["M"]};for(var N=2;N<K.length;N+=2)h.G.push("L")}o.b.rM=[];
for(var N=0;N<g.length;N++)o.b.rM.push(g[N].x+.5,g[N].y+.5);o.dF=!0};c.Lo.prototype.bX=function(o,g,C,a){};
c.Lo.prototype.Uh=function(o,g,C,a){if(this.i.length==0)return;if(a.a(c_.nJ)||a.a(c_._k)){this.i.pop();
this.T$=this.T$.slice(0,this.KP[this.i.length]);this.KP.pop();if(this.i.length==0)this.clear(o);else this.abJ(o);
this.Ga(o)}if(a.a(c_.kD)){var x=this.qW(this.Qv,o);this.Qx(o,x);this.finish(o,C,a);this.clear(o)}if(a.a(c_.oc)){this.clear(o)}};
c.Lo.prototype.getSelection=function(o,g,C,a){return c.vk.Ch(this.T$,null,this.i8.anta)};c.Lo.prototype.jE=function(o,g){var C=this.i[this.i.length-1],a=C.y*o.m+C.x,x=g.y*o.m+g.x;
if(this.DJ==1)return[x,a];var K=[x];while(x!=a){x=this.Km.D7[x];K.push(x);if(K.length>5e3){console.log(K);
throw"e"}}return K};c.Lo.a4b=function(o,g){var C=[],a=o.m;for(var N=0;N<g.length;N++){var x=g[N];C.push(x%a+.5,Math.floor(x/a)+.5)}return C};
c.Lo.prototype.fQ=function(o,g){var C=g.m,a=g.n,x=o.clone(),h=3;l.BM.Jx(this.Km,o.y*C+o.x);var K=this.Km.EQ[o.y*C+o.x];
for(var X=-h+1;X<h;X++)for(var w=-h+1;w<h;w++){var G=o.x+w,R=o.y+X;if(G<0||G>=C||R<0||R>=a)continue;
l.BM.Jx(this.Km,R*C+G);if(this.Km.EQ[R*C+G]<K)x.fR(G,R)}return x};c.ub=function(){c.rr.call(this,[10,36],c.UC,"tools/ruler");
this.tv=null;this.$O=null;this.t8=null;this.o9=null;this.cc=null};c.ub.prototype=new c.rr;c.ub.prototype.qt=function(o){return o.H3};
c.ub.prototype.enable=function(o,g,C,a){c.rr.prototype.enable.call(this,o,g,a,C);if(o)this.x9(o)};c.ub.prototype.disable=function(o,g,C,a){if(o)this.GQ(o)};
c.ub.prototype.i2=function(o,g,C,a,x){this.tv=this.t8=null;this.x9(C)};c.ub.prototype.xA=function(o,g,C,a,x){var K=c.YD(o,x),h=o.u.w2(x.x,x.y);
h.x=Math.round(h.x);h.y=Math.round(h.y);var X=this.tv;this.$O=X?X.slice(0):null;var w=X&&eN.ig(h,X[0])<K,G=X&&eN.ig(h,X[1])<K,R=X&&X[2]&&eN.ig(h,X[2])<K;
if(w||G||R){if(a.a(c_.LW)&&X.length==2){if(G){var d=X[0];X[0]=X[1];X[1]=d}X[2]=X[0].clone();this.t8=[2]}else this.t8=[w?0:G?1:2]}else if(X&&c.ub.afj(X[0],X[1],h)<K&&Math.min(X[0].x,X[1].x)-5<=h.x&&h.x<=Math.max(X[0].x,X[1].x)+5&&Math.min(X[0].y,X[1].y)-5<=h.y&&h.y<=Math.max(X[0].y,X[1].y)+5){this.t8=[];
this.cc=[];for(var N=0;N<X.length;N++){this.t8.push(N);this.cc.push(X[N].clone())}this.o9=h}else{this.tv=[h.clone(),h.clone()];
this.t8=[1]}};c.ub.prototype.kh=function(o,g,C,a,x){if(this.t8==null)return;var K=this.tv,h=this.t8,X=o.u.w2(x.x,x.y);
X.x=Math.round(X.x);X.y=Math.round(X.y);if(h.length>1){var w=X.x-this.o9.x,G=X.y-this.o9.y;for(var N=0;
N<K.length;N++){K[N]=this.cc[N].clone();K[N].offset(w,G)}}else{K[h[0]].fR(X.x,X.y);if(a.a(c_.sH)){K[h[0]]=c.Wt.kp(K[1-h[0]],K[h[0]])}}this.x9(o);
this.pC(g,D.E.X,{C:D.t.Gy,F:this.id,a6U:K[0],bY:K[1],z6:K[2],zC:o.zC,aae:o.m});o.u.N5=l.o.Gw([K[0].x,K[0].y,K[1].x,K[1].y]);
console.log(o.u.N5)};c.ub.prototype.eO=function(o,g,C,a,x,K){this.t8=null;if(K){this.tv=this.$O.slice(0);
this.x9(o)}};c.ub.prototype.pC=function(o,g,C){var a=new jO(g,!0);a.data=C;o.c(a)};c.ub.prototype.x9=function(o){var g=this.tv;
if(g==null)this.GQ(o);else{var C=[g[1].x,g[1].y,g[0].x,g[0].y],a=["M","L"];if(g.length>2){C.push(g[2].x,g[2].y);
a.push("L")}o.b.IQ={G:a,w:C};o.b.rM=C}o.dF=!0};c.ub.prototype.GQ=function(o){o.b.IQ=null;o.b.rM=[]};
c.ub.afj=function(o,g,C){var a=g.x-o.x,x=g.y-o.y,K=Math.abs(x*C.x-a*C.y+g.x*o.y-g.y*o.x),h=Math.sqrt(a*a+x*x);
return h==0?0:K/h};c.Y7=function(){c.de.call(this,[10,19],c.B8,"tools/sharpen");this.$M="copy"};c.Y7.prototype=new c.de;
c.Y7.prototype.xA=function(o,g,C,a,x){var K=this.i8.pdetail?fn.Ll:fn.B8;if(a.a(c_.LW))K=fn.vw;this.t6(o,C,a,x,this.i8.strn,K);
if(this.gi==null)return;this.R_(o)};c.Y7.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);if(this.MY)this.Ec(o,C,x);
if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.Ij=function(){c.de.call(this,[10,24],c.jy,"tools/shbrush");
this.$M="draw";this.i8.opacity=.5};c.Ij.prototype=new c.de;c.Ij.prototype.xA=function(o,g,C,a,x){this.t6(o,C,a,x,1);
if(this.gi==null)return;this.RL(o);this.R_(o)};c.Ij.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);
if(this.MY)this.Ec(o,C,x);if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.Ij.prototype.eO=function(o,g,C,a,x){if(this.gi==null)return;
this.$b(o,"sheal",this.gi.Sv(),this.gi.QR(),this.gi.S7(),null);this.L(o,this.gi.S7());c.de.prototype.eO.call(this,o,g,C,a,x)};
c.Dj=function(){c.de.call(this,[10,20],c.bt,"tools/smudge");this.$M="copy"};c.Dj.prototype=new c.de;
c.Dj.prototype.xA=function(o,g,C,a,x){this.t6(o,C,a,x,this.i8.strn,fn.bt);if(this.gi==null)return;this.R_(o)};
c.Dj.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);if(this.MY)this.Ec(o,C,x);if(this.gi==null)return;
if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.qY=function(){c.de.call(this,[10,23],c.gD,"tools/sponge");
this.$M="sponge"};c.qY.prototype=new c.de;c.qY.prototype.xA=function(o,g,C,a,x){this.t6(o,C,a,x,this.i8.flow);
if(this.gi==null)return;this.R_(o)};c.qY.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);if(this.MY)this.Ec(o,C,x);
if(this.gi==null)return;if(!x.H3)return;this.x$(o,C,a,x);this.R_(o)};c.yd=function(){c.rr.call(this,[10,17],c.SL,"tools/zoom");
this.rq=!1;this.ri=!0;this.BO=0;this.S1=null;this.Fe=null;this.J5=0;this.N4=null;this.C_=0;this.IR=new g0([{name:[8,0],Cb:"Ctrl + +"},{name:[8,1],Cb:"Ctrl + -",lL:!0},{name:[20,3],Cb:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Cb:"Ctrl + 1"}],[{W:D.E.q,F:c.SL,P:{C:"zoom",ri:!0}},{W:D.E.q,F:c.SL,P:{C:"zoom",ri:!1}},{W:D.E.q,F:c.SL,P:{C:"adapt",k:"fitscr"}},{W:D.E.q,F:c.SL,P:{C:"adapt",k:"pixel"}}])};
c.yd.prototype=new c.rr;c.yd.prototype.qG=function(o,g,C,a,x){var K=this.IR;K.Q();K.parent=g;K.update(o,C);
var h=new jO(D.E.X,!0);h.data={C:D.t.Sd,u6:K,x:x.El+2,y:x._i+1};g.c(h)};c.yd.prototype.enable=function(o,g,C,a){this.RG(g,a);
if(o&&Date.now()-this.BO<300)this.i2({C:"adapt",k:"pixel"},g,o,a,C);this.BO=Date.now()};c.yd.prototype.xA=function(o,g,C,a,x){this.Fe=new eN(x.x,x.y);
this.J5=o.u.R;this.N4=o.u.v.clone()};c.yd.prototype.kh=function(o,g,C,a,x){if(this.Fe==null)return;var K=Math.exp(Math.log(this.J5)+(x.x-this.Fe.x)/64);
K=Math.max(.02,Math.min(c.yd.ie[0],K));o.u.R=this.J5;o.u.v=this.N4.clone();this.i2({C:"zoom",R:K,LF:this.Fe},g,o,a,C)};
c.yd.prototype.eO=function(o,g,C,a,x){if(eN.ig(this.Fe,x)<4){var K=this.adM(a);this.i2({C:"zoom",ri:K,LF:x},g,o,a,C)}this.Fe=null};
c.yd.ie=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
c.yd.a4K=function(o,g,C,a){var x=1;while(o*x*1/2>C||g*x*1/2>a)x*=1/2;if(o*x*2/3>C||g*x*2/3>a)x*=1/2;
else if(o*x>C||g*x>a)x*=2/3;return x};c.yd.abg=function(o,g){var C=c.yd.afr(o);if(g&&C==0)return o;if(!g&&C==c.yd.ie.length-1)return o;
return c.yd.ie[g?C-1:C+1]};c.yd.afr=function(o){var g=0;while(c.yd.ie[g]>o)g++;return g};c.yd.zU=function(o,g,C,a){var x=o.db;
if(a==0||a==null){a=c.yd.abg(o.R,C);if(a==o.R)return}var K=o.w2(g.x,g.y);if(x.m*a<=o.B9.m&&x.n*a<=o.B9.n){o.v.fR(0,0);
o.R=a}else{var h=o.Ii(),X=o.R/a;h.translate(-K.x,-K.y);h.scale(X,X);h.translate(K.x,K.y);o.aeo(h)}};
c.yd.prototype.i2=function(o,g,C,a,x){if(o.C=="pzoom"){if(typeof o.k=="string")return;o={C:"zoom",R:o.k/100}}var K=0,h=!1,X=null;
if(o.C=="adapt"){var w=0;if(o.k=="pixel")w=1;if(o.k=="fitscr"){var w=0,G=C.u.B9.m,R=C.u.B9.n,d=x.rl?l.aE.E6+4:8;
w=Math.min((G-d*2)/C.m,(R-d*2)/C.n)}X=new eN(Math.round(C.u.B9.m/2),Math.round(C.u.B9.n/2));K=w;c.yd.zU(C.u,X,h,K);
C.b0=!0}if(o.C.startsWith("multi")){function q(e){var T=e[0].x-e[1].x,O=e[0].y-e[1].y;return Math.sqrt(T*T+O*O)}function m(e){return new eN((e[0].x+e[1].x)/2,(e[0].y+e[1].y)/2)}var M=o.FO,Z=m(M);
if(o.C=="multidown"){this.S1=[M,C.u.R,C.u.w2(Z.x,Z.y)]}else{var Q=c.yd.ie;K=this.S1[1]*q(M)/q(this.S1[0]);
K=Math.max(Q[Q.length-1],Math.min(Q[0],K));if(K!=C.u.R)c.yd.zU(C.u,Z,h,K);var p=this.S1[2],y=C.u.Er(p.x,p.y),V=C.u.v;
V.x=Math.round(V.x+Z.x-y.x);V.y=Math.round(V.y+Z.y-y.y);C.b0=!0}}if(o.C=="scroll"){X=o.LF;this.C_+=o.$E.y;
var W=14;if(this.C_<-W){h=!0;this.C_=Math.max(this.C_+W,-(W-1))}else if(this.C_>W){h=!1;this.C_=Math.min(this.C_-W,W-1)}else return;
c.yd.zU(C.u,X,h,K);C.b0=!0}if(o.C=="zoom"){X=o.LF?o.LF:new eN(Math.round(C.u.B9.m/2),Math.round(C.u.B9.n/2));
if(o.R!=null)K=o.R;else h=o.ri;c.yd.zU(C.u,X,h,K);C.b0=!0}if(o.C=="mskView"){var v=C.g[C.A[0]];if(v.U3<=0){v.U3=1;
C.n6=!0}var j=v.U3==3?v.WW(C).d:v.KN();if(o.k==0){C.u.dp=[1,1,1];j.nR=!1}if(o.k==1){C.u.dp=[1,1,1];j.nR=!0}if(o.k==2){C.u.dp=[0,0,0];
j.nR=!0}for(var N=0;N<C.JH.length;N++)C.JH[N].nR=!1;C.Ix=[];C.dF=!0}};c.yd.prototype.Uh=function(o,g,C,a){if(this.rq!=a.a(c_.LW)){this.rq=a.a(c_.LW);
var x={C:D.t.Gy,F:this.id,rq:this.rq},K=new jO(D.E.X,!0);K.data=x;g.c(K);this.RG(g,a)}};c.yd.prototype.RG=function(o,g){var C=new jO(D.E.X,!0),a=this.adM(g);
C.data={C:D.t._N,Hz:a?"zoom-in":"zoom-out"};o.c(C)};c.yd.prototype.jD=function(o,g,C,a){this.ri=o.ri;
this.RG(g,a)};c.yd.prototype.adM=function(o){var g=this.ri;if(o.a(c_.NN)&&o.a(c_.Ns))g=!0;if(this.rq)g=!g;
return g};c.yd.a0y=function(o,g){if(o.a(c_.LL)||o.a(c_.acg)){g.F=c.SL;g.data={C:"zoom",ri:!0}}if(o.a(c_.kT)){g.F=c.SL;
g.data={C:"zoom",ri:!1}}if(o.a(c_.PV)){g.F=c.SL;g.data={C:"adapt",k:"fitscr"}}if(o.a(c_.FJ)){g.F=c.SL;
g.data={C:"adapt",k:"pixel"}}};c.R7=function(o,g,C){c.rr.call(this,o,g,C);this.qh=null;this.wq=null;
this.s0=null;this.a2I=0};c.R7.prototype=new c.rr;c.R7.hX=function(o){var g={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},C=o==0?{classID:"null",null:g,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:g,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{j7:o==0?"fill":"stroke",FS:C}};c.R7.prototype.enable=function(o,g,C,a,x){this.wq=C;var K=new jO(D.E.X,!0);
K.data={C:D.t._N,Hz:"default"};g.c(K)};c.R7.prototype.qG=function(o,g,C,a,x){var K=o.DE(),h=K[0],X=K[1];
if(X.length==0)return;var w=h[X[0]],G=w.add.vmsk,R=o.u.w2(x.x,x.y),d=4*c.r()/o.u.R,q=new aS(R.x-d,R.y-d,d*2,d*2),m=l.M.kU(G.i,q)[0];
if(m.length!=0){G.EP=m;o.dF=!0}var M=l.M._9(G.i,R).XE;if(M!=-1){G.A=[M];o.dF=!0}var Z=new jO(D.E.X,!0);
Z.data={C:D.t.Gy,F:this.id,ma:x,Dn:o,zP:C};g.c(Z)};c.R7.prototype.anB=function(o,g){var C=new jO(D.E.X,!0);
C.data={C:D.t.sM,eA:e1.P8};if(!g.Ha)o.c(C);C.data={C:D.t.sM,eA:e1.ZA};if(!g.M8.eJ)o.c(C)};c.R7.prototype.Lu=function(o,g,C,a){if(C.MR!=this.id)return;
if(o.A.length==0)return;var x=o.g[o.A[0]],K=x.add.vmsk,h=x.add.vstk,X=c.R7.Kp(o,o.A[0]);this.qh=o;this.s0=g;
if(x.eU()&&K!=null&&(JSON.stringify(h)!=JSON.stringify(C.nf)||JSON.stringify(X)!=JSON.stringify(C.le))){this.a2I=Date.now();
var w=new jO(D.E.X,!0);w.data={C:D.t.sM,eA:e1.Yx,k:X};g.c(w);w.data={C:D.t.sM,eA:e1.Q0,k:h};g.c(w)}};
c.R7.prototype.Xt=function(o,g){if(this.qh==null)return;if(g==e1.B3||g==e1.Yx||g==e1.Q0){if(Date.now()-this.a2I<50)return;
var C=g==e1.Yx,a=this.qh,x=C?o.le:o.nf,K=[],h=a.A;for(var N=0;N<h.length;N++){var X=h[N],w=a.g[X];if(!w.eU()||w.add.vmsk==null)continue;
K.push(X)}var G=new jO(D.E.q,!0);G.F=c.qd;G.data={C:A.GF,IA:K,I2:C,k:x};if(K.length!=0)this.s0.c(G)}};
c.R7.prototype.auC=function(o){if(typeof o=="number"){var g=new jO(D.E._h,!0);g.data=c.CC.p3(0);g.data.FS.Usng.v.Type.v.Clr.v=l.T.CT({z:o>>>16&255,B:o>>>8&255,K:o>>>0&255});
this.s0.c(g)}};c.R7.prototype.i2=function(o,g,C,a,x){this.s0=g;if(o.C=="newfill"){if(o.a0==0){var K=new jO(D.E.X,!0);
K.data={C:D.t.gC,$j:"colorpicker",Qe:x.L$,Ef:this.auC.bind(this)};g.c(K)}}else if(o.C=="pathedit"){var h=o.JI,X="",w=C.eJ.slice(0),G=C.AW.slice(0),R=C.eJ.slice(0),d=C.AW.slice(0);
if(h=="rnm"){var q=-1-o.XE,m=w[q],M=aX.Xy(o.name,m.add);if(q!=0)R[q]=M;else{d=[R.length];R.push(M);R[0]=aX.Xy("Work Path")}X="Rename"}else if(h=="new"){var M=aX.Xy("Path "+w.length);
if(o.alf){var Z=C.DE(),Q=Z[0],p=Z[1],y=Q[p[0]];M.add.vmsk=y.add.vmsk.clone();M.add.vogk=JSON.parse(JSON.stringify(y.add.vogk));
if(y.XE==-1){var V=R[d[0]]=aX.Xy("Path "+w.length);V.name=y.name;V.XE=y.XE}}R.push(M);d=[R.length-1];
X="New"}else if(h=="del"){if(d.length==0)return;d.sort(function(f,s){return f-s});if(d[0]==0){R[0]=aX.Xy(w[0].name);
d=d.slice(1)}var W=0;while(d.length!=0){R.splice(d[0]-W,1);d=d.slice(1);W++}X="Delete"}else if(h=="fromsel"){var v=R[0]=aX.Xy("Work Path");
d=[0];if(C._==null)return;var j=C._.channel.slice(0);for(var N=0;N<j.length;N++)j[N]=j[N]>128?2:1;var T=C._.rect.clone();
T.Uj(1,1);var O=l.Z(T.$());l.MD(j,C._.rect,O,T);var L=h1.mZ(O,T.m,T.n,Math.round(T.$()*5e-4)),Q=h1.DE(L),S=new kp(1,0,0,1,-1+C._.rect.x,-1+C._.rect.y);
for(var N=0;N<Q.length;N++)l.o.D(Q[N].path.w,S,Q[N].path.w);for(var N=0;N<Q.length;N++){var $=Q[N];if($.color==1&&$.parent==-1)continue;
var H=l.o.RS(Q[N].path,!1);v.add.vmsk.i=v.add.vmsk.i.concat(H.slice(2))}v.add.vogk=A.fb(v.add.vmsk.i);
X="Selection to"}var f=new dC(X+" Path",this);f.data={$O:w,az:G,acS:R,kw:d};if(h=="fromsel"){f.data.sh=C._;
f.data.lQ=null}C.zn(f);this.SW(f.data,C)}else{var F=o.Wm,Z=C.DE(o.C=="append"),Q=Z[0],p=Z[1],v=Q[p[0]],U=v.add.vmsk,r=v.add.vogk,E=U.clone(),k=U.clone(),P=JSON.stringify(r);
if(o.C=="remove"){if(o.E2&&k.EP.length!=0){k.i=l.M.akA(k.i,k.EP,r,o.avu);var z=l.M.Ac(k.i);for(var N=0;
N<k.A.length;N++)if(k.A[N]>=z){k.A.splice(N,1);N--}k.EP=[];F="Delete Anchors"}else{if(k.A.length==0)return;
var W=0;for(var N=0;N<k.A.length;N++){r.splice(k.A[N]+W,1);W--}k.i=l.M.a8H(k.i,k.A);k.A=[];k.EP=[];if(F==null)F="Delete Paths"}}if(o.C=="append"){c.R7.dj(o.a4x,k,r)}this.ap(C,v.XE,k,r);
this.vl(C,F,v.XE,E,k.clone(),null,P,JSON.stringify(r))}};c.R7.X6=function(o,g){var C=l.M.a1y(o.i,o.A),a=[];
for(var N=0;N<o.A.length;N++)a.push(JSON.parse(JSON.stringify(g[o.A[N]])));return[C,a]};c.R7.dj=function(o,g,C){var a=l.M.Ac(g.i),x=l.M.Ac(o[0]);
g.i=g.i.concat(o[0].slice(2));g.A=[];for(var N=0;N<x;N++)g.A.push(a+N);for(var N=0;N<x;N++)C.push(JSON.parse(JSON.stringify(o[1][N])))};
c.R7.prototype.td=function(o,g){if(g==null)return!1;var C=g.DE(),a=C[0],x=C[1];if(x.length==0)return!1;
var K=a[x[0]],h=K.add.vmsk;if(h&&h.A.length+h.EP.length!=0)return[c_.nJ,c_._k].indexOf(o)!=-1};c.R7.prototype.Uh=function(o,g,C,a){if(o==null)return;
var x=o.DE(),K=x[0],h=x[1];if(h.length==0)return;var X=K[h[0]],w=X.add.vmsk;if(a.a(c_.oc)||a.a(c_.kD)||this.id==c.x1&&a.a(c_.S2)){w.EP=[];
o.dF=!0}if(w.A.length!=0){var G=a.c4();if(G.x!=0||G.y!=0){var R=w.clone(),d=w.clone(),q=new kp(1,0,0,1,G.x,G.y),m=X.add.vogk,M=JSON.stringify(m);
if(a.a(c_.LW)){var Z=c.R7.X6(d,m);c.R7.dj(Z,d,m)}l.M.Jg(d.i,q,d.A);l.vm.D(m,l.S.xN(q),d.A);this.ap(o,X.XE,d,m);
this.vl(o,"Move Paths",X.XE,R,d.clone(),!0,M,JSON.stringify(m))}if(a.a(c_.nJ)||a.a(c_._k))this.i2({C:"remove",E2:this.id==c.x1},g,o,a,C)}};
c.R7.prototype.vl=function(o,g,C,a,x,K,h,X){var w=new dC(g,this);w.data={IF:C,pQ:a,HJ:x,aqe:K,axs:h,jm:X};
o.zn(w)};c.R7.prototype.SW=function(o,g){if(o.IF!=null)this.ap(g,o.IF,o.HJ.clone(),JSON.parse(o.jm));
else{g.eJ=o.acS.slice(0);g.AW=o.kw.slice(0);g.dF=g.n6=!0}if(o.sh||o.lQ){g._=o.lQ;g.f4=!0}};c.R7.prototype.Op=function(o,g){if(o.IF!=null)this.ap(g,o.IF,o.pQ.clone(),JSON.parse(o.axs));
else{g.eJ=o.$O.slice(0);g.AW=o.az.slice(0);g.dF=g.n6=!0}if(o.sh||o.lQ){g._=o.sh;g.f4=!0}};c.R7.prototype.ap=function(o,g,C,a){var x=g<0?o.eJ[-1-g]:g<1e6?o.g[g]:o.g[g-1e6].add.TySh,K=x.add.vmsk;
K.channel=null;K.fD=!0;if(K.Re){K.Re.channel=null;K.Re.fD=!0}x.add.vmsk=C;x.add.vogk=a;if(1e6<=g){bv.Ys(x);
var h=o.g[g-1e6],X=x,w=this.wq,G=new bM(X.cp,w.zM),R=d2.Sj(G,X);h.rect=R.Cn;h.buffer=R.ab;h.L();o.L()}else if(0<=g){C.fD=!0;
x.Rw(o);o.L()}o.dF=o.n6=!0};c.R7.Kp=function(o,g){var C=o.g[g],a=C.add.vstk,x=null;if(a&&!a.fillEnabled.v)x={mf:0};
else if(C.add.SoCo)x={mf:1,NL:C.add.SoCo};else if(C.add.GdFl)x={mf:2,NL:C.add.GdFl};else if(C.add.PtFl)x={mf:3,NL:C.add.PtFl};
return x};c.R7.jq=function(o,g){var C=o.add.vmsk,a=o.add.vstk,x=g.mf;if(a)a.fillEnabled.v=x!=0;if(x>0){var K=["SoCo","GdFl","PtFl"][x-1];
for(var N=0;N<3;N++)delete o.add[["SoCo","GdFl","PtFl"][N]];o.add[K]=g.NL}};c.CC=function(o,g,C,a){c.R7.call(this,o,g,C);
this.i8={shape:dK.l3(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{Nc:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.alS=a;this.mG=null;this.Tf=null;this.Gf=null;this.jt=new bo};c.CC.prototype=new c.R7;c.CC.prototype.qt=function(o){return o.H3&&this.id!=c.Hf};
c.CC.prototype.enable=function(o,g,C,a,x){this.wq=C;var K=new jO(D.E.X,!0);K.data={C:D.t._N,Hz:"crosshair"};
g.c(K)};c.CC.prototype.Uh=function(o,g,C,a){c.R7.prototype.Uh.call(this,o,g,C,a);this.jt.Uh(a);this.q3(g,C)};
c.CC.prototype.q3=function(o,g){var C=new jO(D.E.X,!0);C.data={C:D.t.Gy,F:this.id,_V:this.Y_(g)};o.c(C)};
c.CC.prototype.Y_=function(o){var g=this.jt.iX(0),C=this.jt.Xo(0),a=c.vk.qs(this.i8.binop,g,C);if(o.nj==1&&a==0)a=1;
return a};c.CC.prototype.EG=function(o,g,C,a){};c.CC.prototype.xA=function(o,g,C,a,x){var K=C.nj;if(K!=2)this.anB(g,C);
if(K==2&&!o.zj())return;var h=o.u.w2(x.x,x.y);h=c.YV.Pu(o,h,C);this.Gf=[h.x,h.y];this.mG=h;this.Tf=new eN(0,0);
this.jt.xA(a)};c.CC.prototype.ap1=function(o,g,C,a){var x=[this.mG.clone(),g.clone()];C=this.jt.iX(1)||C.a(c_.sH)||this.jt.Xo(1)?C:null;
if(this.alS)x=c.CC.MS(x[0],x[1],C,!0,this.i8.cstr);if(o)o.u.N5=new aS(x[0].x,x[0].y,x[1].x-x[0].x,x[1].y-x[0].y);
return this.EG(x[0],x[1],this.jt.iX(1)&&C.a(c_.sH),this.Gf,o.u,a)};c.CC.prototype.a9W=function(o,g,C){var a=o.u.w2(g.x,g.y);
if(this.id==c.Hf)return a;var x=this.i8.cstr;if(x.Nc==2){var K=new aS(a.x-x.x,a.y-x.y,x.x,x.y),h=c.YV.k6(o,K,C);
a.x+=h[0];a.y+=h[1];c.YV.QB(o,K,h)}else a=c.YV.Pu(o,a,C);return a};c.CC.prototype.kh=function(o,g,C,a,x){if(this.mG==null)return;
var K=this.Gf,h=K.length,X=x?this.a9W(o,x,C):new eN(K[h-2],K[h-1]);if(a.a(c_.NN))this.mG=X.fK(this.Tf);
else this.Tf=X.fK(this.mG);K.push(X.x,X.y);if(this.i8.shape==null)this.i8.shape=C.lz[0];var w=this.ap1(o,X,a,!0)[0],G=l.o.rA(w);
o.b.IQ=G;if(this.id!=c.Hf&&this.id!=c.yu&&this.id!=c.Ie)c.rr.Jj(x,o.u.N5,o,C);o.dF=!0;this.jt.kh()};
c.CC.prototype.awp=function(o,g,C,a){var x=o[4].clone();if(a){x.x-=g/2;x.y-=C/2}if(this.id==c.yu){g/=2;
C/=2;x.x+=g;x.y+=C;C=-C;g=0}var K=this.EG(x,new eN(x.x+g,x.y+C),!1,this.Gf);this.aeQ(o[0],o[1],o[2],K)};
c.CC.prototype.aeQ=function(o,g,C,a){var x=new jO(D.E._h,!0);x.data=c.CC.aea(a[1],C);g.c(x);if(a[1].v.classID=="customShape"&&a[1].v.Nm.v.startsWith("--")){var K=o.DE(),h=K[0],X=K[1],w=h[X.pop()],G=w.add.vmsk,R=w.add.vogk;
l.vm.xp(R);var d=G.clone();d.i=a[0];this.ap(o,w.XE,d,R)}};c.CC.prototype.eO=function(o,g,C,a,x,K){if(this.mG==null)return;
var h=this.a9W(o,x,C),X=this.Y_(C),w=C.nj,G=this.Gf,R=G.length;if(this.id==c.Hf&&R<=4){}else if(R<=4){h.x=Math.round(h.x);
h.y=Math.round(h.y);var d=new jO(D.E.X);d.data={C:D.t.gC,$j:"createshape",a1q:this.awp.bind(this),amA:this.name,atX:[o,g,C,a,h]};
if(!K)g.c(d)}else if(R!=2){var q=this.ap1(o,h,a),m=q[0],M=o.DE(!0),Z=M[0],Q=M[1],p=Q.length-1;if(w==1&&m.length>2||w==0&&X!=0&&p!=-1&&Z[Q[p]].XE>=0){m[2].j4=[1,2,3,0][X-1];
var y=Z[Q.pop()],V=y.add.vmsk,W=y.add.vogk,v=V.clone(),j=V.clone(),e=JSON.stringify(W);j.i=j.i.concat(m.slice(2));
j.A=[l.M.Ac(j.i)-1];var T=l.vm.UP(q[1]);W.push(T?T:l.vm.oX());this.ap(o,y.XE,j,W);this.vl(o,this.name,y.XE,v,j,null,e,JSON.stringify(W))}else if(w==0){this.aeQ(o,g,C,q)}else if(w==2){var j=new A.A3;
j.i=j.i.concat(m.slice(2));var O=j.KN();if(!this.i8.anta)l.round(O.channel);var L=l.Z(O.rect.$()*4);
l.th(L,(C.L$&255)<<16|(C.L$>>8&255)<<8|(C.L$>>16&255)<<0);l.Oa(O.channel,L,3);var S=new jO(D.E.q,!0);
S.F=c.Yc;S.data={C:"draw",Xz:{buffer:L,rect:O.rect.clone()},Wm:this.name};g.c(S)}}this.mG=null;o.b.IQ=null;
o.b.mE=null;o.b.hl=[];o.u.N5=null;o.dF=!0;this.jt.eO();this.q3(g,C)};c.CC.prototype.jD=function(o,g,C,a,x){for(var C in o)this.i8[C]=o[C]};
c.CC.MS=function(o,g,C,a,x){var K=o.x,h=o.y,X=g.x,w=g.y;if(x&&x.Nc==2){if(a){X=Math.round(X);w=Math.round(w)}K=X-x.x;
h=w-x.y}else{var G=0;if(x&&x.Nc==1)G=x.y/x.x;else if(C&&C.a(c_.sH))G=1;if(G!=0){if(a){if(K<X)K=Math.floor(K);
else K=Math.ceil(K);if(h<w)h=Math.floor(h);else h=Math.ceil(h)}var R=Math.abs(X-K),d=Math.abs(w-h),q=R;
if(d/R<G)q*=d/R/G;X=X>K?K+q:K-q;w=w>h?h+q*G:h-q*G}if(C&&C.a(c_.LW)){K-=X-K;h-=w-h}}var o=new eN(K,h),g=new eN(X,w);
if(a)c.CC.aqh(o,g);return[o,g]};c.CC.aqh=function(o,g){if(o.x>g.x){var C=o.x;o.x=g.x;g.x=C}if(o.y>g.y){var C=o.y;
o.y=g.y;g.y=C}o.x=Math.floor(o.x);o.y=Math.floor(o.y);g.x=Math.ceil(g.x);g.y=Math.ceil(g.y)};c.CC.ac_=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
c.CC.p3=function(o,g){var C=c.CC.ac_();if(g==null)g=JSON.parse(JSON.stringify(hf.vq[o]));c.Nk.u8(g,C.Usng.v.Type.v,o);
return{j7:"make",FS:C}};c.CC.aea=function(o,g){var C=g.le,a=JSON.parse(JSON.stringify(g.nf));if(C.mf==0)a.fillEnabled.v=!1;
var x=c.CC.p3(Math.max(0,C.mf-1),C.NL);x.FS.Usng.v.Shp=o;x.FS.Usng.v.strokeStyle={t:"Objc",v:a};return x};
c._U=function(o){c.R7.call(this,o==0?[10,29]:[10,51],o==0?c.x1:c.XJ,o==0?"tools/pen":"tools/cpen");this.DJ=o;
this.yr=null;this.lm=null;this.cn=null;this.axf=0;this.SK=null;this.lE=!1;this.zK=!1;this.Wp=!1;this.Mf=!1;
this.BO=0};c._U.prototype=new c.R7;c._U.prototype.qt=function(o){return this.lm!=null};c._U.prototype.Uh=function(o,g,C,a){if(!a.a(c_.LW))this.Wp=!1;
if(this.DJ==1&&(a.a(c_.nJ)||a.a(c_._k))&&this.td(c_.nJ,o)){this.i2({C:"remove",E2:!0},g,o,a,C);return}c.R7.prototype.Uh.call(this,o,g,C,a)};
c._U.prototype.xA=function(o,g,C,a,x){this.yr=x;this.anB(g,C);var K=o.u.w2(x.x,x.y),Z,Q;K.x=Math.round(K.x);
K.y=Math.round(K.y);var h=c.YV.Pu(o,K,C),X=C.nj,w=this.axf;if(X==2)X=0;var G=o.DE(X==1),R=G[0],d=G[1],q=R[d.pop()],m=q?q.add.vmsk:null;
if(X==0&&w!=0&&q&&q.XE>=0)X=1;var M=c.YD(o,x);if(m)Z=l.M._9(m.i,K,!0,M);var p=a.a(c_.LW);if(X==0&&(m==null||m.EP.length==0&&Z.XE==-1)){var y=new jO(D.E._h,!0),V=l.vm.H2("customShape",[0,0,1,1],null,null,null,"--");
y.data=c.CC.aea(V,C);g.c(y);this.Mf=!0;G=o.DE(!0);R=G[0];d=G[1];q=R[d.pop()];m=q.add.vmsk;m.i=m.i.slice(0,2)}var W=q.add.vogk;
this.lm=m.clone();this.cn=JSON.stringify(W);var v=m.i,j=l.M.Ac(v);Q=l.M.kU(m.i,new aS(K.x-M,K.y-M,M*2,M*2),m.EP);
Z=l.M._9(m.i,K,!0,M);var T=Q[0].length+Q[1].length+Q[2].length;if(Z.XE!=-1&&Q[0].length==0){var O=l.M.Fq(v,Z.XE);
while(v[O].length<=Z.YO){Z.YO-=v[O].length;O+=v[O].length+1}v[O].length++;var L={type:4,rD:h.clone(),H:h.clone(),lu:h.clone()};
v.splice(O+2+Z.YO,0,L);m.EP=[O+2+Z.YO];if(this.DJ==1){L.rD.x+=2;this.mA(m)}}else if(T!=0&&p){var S=0;
for(var N=0;N<3;N++)if(Q[N].length!=0){S=Q[N][0];this.zK=N==1;break}if(Q[0].length!=0){var $=m.i.length-1,H=m.i[S];
H.lu=H.H.clone();var f=H.type>=3?3:0;if(S!=$){H.rD=H.H.clone();H.type=f+1;this.Wp=!0}else H.type=f+2}m.EP=[S]}else if(Q[0].length==1&&v[Q[0][0]-1]&&(v[Q[0][0]-1].H!=null||v[Q[0][0]-1].type==0||v[Q[0][0]-1].length==1)){var S=Q[0][0];
if(this.DJ==1){var F=v[S],U=F.H,r=Math.abs(l.o.anW(F.rD.x,F.rD.y,U.x,U.y,F.lu.x,F.lu.y));if(r>.01){F.rD=U.clone();
F.lu=U.clone()}if(Date.now()-this.BO<300){var E=F.rD.$s(U)&&F.lu.$s(U);if(E)F.lu.offset(2,2);else{F.rD=U.clone();
F.lu=U.clone()}this.BO=0}else this.BO=Date.now();m.EP=[S];this.mA(m)}else{var O=l.M.Fq(v,l.M.Tq(v,S)),V=v[O],k=O+V.length;
if(S!=k||V.type==0){v[O].length--;v.splice(S,1);k--;if(V.length==0){v.splice(O,1);k=-1}}if(k!=-1)m.EP=[k];
else m.EP=[]}}else{var P=0;if(m.EP.length!=1){m.A=[j];v.push({type:3,length:1,j4:[1,2,3,0][Math.max(0,w-1)],Y9:0,yc:0,km:0});
P=v.length;W.push(l.vm.oX())}else{var F=m.EP[0],z=l.M.Tq(v,F),O=l.M.Fq(v,z);F=O+v[O].length;if(eN.ig(K,v[O+1].H)<M){v[O].type=0;
m.EP=[O+1];this.SK=h;this.lE=!0;this.ap(o,q.XE,m,W);o.dF=!0;return}v[O].length++;P=F+1;if(F==O+1&&v[O].length!=2)P=O+1}if(a.a(c_.sH)&&v[P-1]&&v[P-1].H)h=c.Wt.kp(v[P-1].H,h);
var L={type:4,rD:h.clone(),H:h.clone(),lu:h.clone()};v.splice(P,0,L);m.EP=[P];this.SK=h;if(this.DJ==1){L.rD.x+=2;
this.mA(m)}this.BO=Date.now()}this.ap(o,q.XE,m,W);o.dF=!0};c._U.prototype.mA=function(o){var g=o.i,C=o.EP[0],a=l.M.Fq(g,l.M.Tq(g,C))+1,x=g[a-1].length;
if(x<3)return;var K=[],h=[];for(var N=0;N<5;N++){var X=a+(C-a-2+N+5*x)%x;h.push(X);var w=g[X].H;K.push(w.x,w.y)}var G=l.o.ap3(K);
for(var N=1;N<4;N++){var R=N*4,d=g[h[N]],w=d.H,q=d.rD.$s(w)&&d.lu.$s(w);if(!q){d.rD.fR(G[R],G[R+1]);
d.lu.fR(G[R+2],G[R+3])}else{d.rD=w.clone();d.lu=w.clone()}}};c._U.prototype.kh=function(o,g,C,a,x){if(this.lm==null)return;
var K=this.yr;if(K&&eN.ig(K,x)<c.YD({u:{R:1}},x))return;this.yr=null;var h=o.u.w2(x.x,x.y),X=c.YV.Pu(o,h,C),w=o.DE(C.nj==1),G=w[0],R=w[1],d=G[R.pop()],q=d.add.vmsk,m=q.i,M=m[q.EP[0]];
if(this.DJ==1){var Z=M.H.$s(M.rD)&&M.H.$s(M.lu);M.H=h.clone();M.rD=h.clone();M.lu=h.clone();if(!Z)M.rD.x+=2;
this.mA(q)}else if(a.a(c_.NN)){if(a.a(c_.sH))X=c.Wt.kp(this.SK,X);var Q=M.H.fK(M.lu),p=M.rD.fK(M.H);
M.lu=X;M.H=X.add(Q);M.rD=M.H.add(p)}else{if(a.a(c_.sH))X=c.Wt.kp(M.H,X);if(this.zK){var y=M.rD;M.rD=M.lu;
M.lu=y}if(this.lE){var V=eN.ig(M.H,X),W=V==0?0:eN.ig(M.H,M.lu)/V;M.lu.x=M.H.x+W*(X.x-M.H.x);M.lu.y=M.H.y+W*(X.y-M.H.y)}else M.lu=X;
if(a.a(c_.LW)&&!this.Wp)M.type=5;else{M.type=4;M.rD=M.H.add(M.H.fK(X))}this.SK=X;if(this.zK){var y=M.rD;
M.rD=M.lu;M.lu=y}}this.ap(o,d.XE,q,d.add.vogk);o.dF=!0};c._U.prototype.eO=function(o,g,C,a,x){if(this.lm==null)return;
var K=o.DE(C.nj==1),h=K[0],X=K[1],w=h[X.pop()],G=w.add.vmsk,R=w.add.vogk;if(this.lE){G.EP=[];this.ap(o,w.XE,G,w.add.vogk)}var d=this.lm.i.length,q=G.i.length;
if(!this.Mf)this.vl(o,this.lE?"Close Path":(d==q?"Move":d<q?"Add":"Delete")+" Anchor Point",w.XE,this.lm,G.clone(),null,this.cn,JSON.stringify(R));
this.Mf=!1;this.lE=!1;this.zK=!1;this.Wp=!1;this.lm=null};c._U.prototype.jD=function(o,g,C,a,x){this.axf=o.binop};
c.vN=function(){c.CC.call(this,[10,30],c.Hf,"tools/fpen",!1)};c.vN.prototype=new c.CC;c.vN.prototype.EG=function(o,g,C,a,x,K){var h=a.length-1,X=Math.sqrt((a[h-1]-a[0])*(a[h-1]-a[0])+(a[h]-a[1])*(a[h]-a[1]))<6/x.R;
return[l.M.Eh(a,X,K),l.vm.H2("customShape",[0,0,1,1],null,null,null,"--")]};c.tb=function(){c.R7.call(this,[10,27],c.zL,"tools/pselect");
this.ix=null;this.Jo=!1;this.DQ=null;this.lm=null;this.Oq=null;this.cn=null;this.n0=null;this.d_=null;
this.q4=null;this.St=null};c.tb.prototype=new c.R7;c.tb.prototype.qt=function(o){return o.H3};c.tb.prototype.xA=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y),h=o.DE(),X=h[0],w=h[1],G,R;
for(var N=0;N<w.length;N++){var d=X[w[N]],q=d.add.vmsk,m=l.M._9(q.i,K).XE;if(m!=-1){this.DQ=G=d;R=m}for(var M=0;
M<q.tv.length;M++){var Z=l.M._4(q.i,q.tv[M]);if(Z==null)continue;var Q=eN.ig(Z,K);if(Q<4*c.r()/o.u.R){var p=o.g[d.XE-1e6].add.TySh,y=p.cp.Curve,V=p.D,W=y.Reversed;
y.Reversed=!1;var y=bM.PF(p.cp.Curve);y.Reversed=W;l.o.D(y[0],V,y[0]);this.q4=[y,M,V.Bk*V.rX-V.K*V.U9];
this.DQ=G=d;R=0}}if(this.q4)break}if(G!=null){var q=G.add.vmsk;q.EP=[];var v=q.A.indexOf(R);if(a.a(c_.sH)){if(v==-1){q.A.push(R);
this.Jo=!0}else q.A.splice(v,1)}else{if(v==-1)q.A=[R];this.Jo=!0}this.d_=l.M.se(q.i,q.A)}this.ix=K;this.St=new a8(K);
o.n6=!0;o.dF=!0};c.tb.prototype.kh=function(o,g,C,a,x){if(this.ix==null)return;var K=o.u.w2(x.x,x.y);
if(this.Jo){K=this.St.bu(K,a);var h=this.DQ;if(this.lm==null){this.lm=this.Oq=h.add.vmsk.clone();this.cn=this.n0=JSON.stringify(h.add.vogk);
if(a.a(c_.LW)){var X=this.lm.clone(),w=JSON.parse(this.cn),G=c.R7.X6(X,w);c.R7.dj(G,X,w);this.Oq=X;this.n0=JSON.stringify(w)}}var X=this.Oq.clone(),w=JSON.parse(this.n0);
if(this.q4){var R=this.q4,d=R[0][0],q=l.o.mL(d,K.x,K.y);X.tv[R[1]]=R[0][1][q];var m=d[q*2],M=d[q*2+1],Z=(d[q*2+2]-m)*(K.y-M)-(d[q*2+3]-M)*(K.x-m);
if(R[2]<0)Z=-Z;X.e0=Z>0}else{var Q=this.d_.clone(),p=Q.x,y=Q.y;Q.offset(K.x-this.ix.x,K.y-this.ix.y);
Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);var V=c.YV.k6(o,Q,C),W=new kp(1,0,0,1,Q.x-p+V[0],Q.y-y+V[1]);
l.M.Jg(X.i,W,X.A);l.vm.D(w,l.S.xN(W),X.A);c.YV.QB(o,Q,V)}this.ap(o,h.XE,X,w)}else{var v=this.ix;o.b.IQ=l.o.IW(new aS(v.x,v.y,K.x-v.x,K.y-v.y));
o.dF=!0}};c.tb.prototype.eO=function(o,g,C,a,x){if(this.ix==null)return;var K=o.u.w2(x.x,x.y),h=this.DQ,X=h?h.add.vmsk:null;
if(this.Jo){var w=JSON.stringify(h.add.vogk);if(!this.ix.$s(K))this.vl(o,"Move Paths",h.XE,this.lm,X,null,this.cn,w);
if(o!=null&&o.b.mE){o.b.mE=null;o.dF=!0}}else{if(X){var G=this.ix,R=new aS(G.x,G.y,K.x-G.x,K.y-G.y),d=l.M.arY(X.i,R);
if(a.a(c_.sH)){for(var N=0;N<d.length;N++)if(X.A.indexOf(d[N])==-1)X.A.push(d[N])}else X.A=d}o.b.IQ=null;
o.dF=!0}this.ix=null;this.lm=null;this.q4=null;this.Jo=!1;this.St=null};c.tb.prototype.Lu=function(o,g,C,a){c.R7.prototype.Lu.call(this,o,g,C,a);
if(C.MR!=this.id)return;if(o.A.length==0)return;var x=o.DE(),K=x[0],h=x[1];if(h.length==0)return;var X=K[h[0]],w=X.add.vmsk,G=X.add.vstk,R=X.add.vogk,d=new jO(D.E.X,!0);
d.data={C:D.t.Gy,F:this.id,LR:"main",BH:w?w:null,vm:R};g.c(d)};c.tb.prototype.jD=function(o,g,C,a,x){var K=o.d2;
if(K.BH){var h=C.DE(),X=h[0],w=h[1];if(w.length==0)return;var G=X[w[0]],R=G.add.vmsk.clone(),d=JSON.stringify(G.add.vogk),q=K.BH;
this.ap(C,G.XE,q,K.vm);var m=[18,5];if(R.i.length==q.i.length)m=R.A[0]==q.A[0]?"Fill Rule":"Path Order";
this.vl(C,m,G.XE,R,q,null,d,JSON.stringify(K.vm))}};c.Vt=function(){c.R7.call(this,[10,28],c.iM,"tools/dselect");
this.VD=-1;this.wN=-1;this.S8=null;this.ix=null;this.DQ=null;this.lm=null;this.cn=null;this.qh=null;
this.h$=0;this.aC={psnap:!1};this.St=null};c.Vt.prototype=new c.R7;c.Vt.prototype.qt=function(o){return o.H3};
c.Vt.prototype.jD=function(o){this.aC=o};c.Vt.prototype.i2=function(o,g,C,a,x){if(o.C=="crnr"){if(C==null)return;
var K=C.DE(),h=K[0],X=K[1];if(X.length==0){alert("No paths selected");return}var w=h[X[0]],G=w.add.vmsk;
if(G.EP.length==0){alert("No corners selected");return}for(var N=0;N<G.EP.length;N++){var R=G.i[G.EP[N]];
if(!R.H.$s(R.lu)||!R.H.$s(R.rD)){alert("Only sharp corners can be rounded");return}}if(this.lm==null){this.lm=w.add.vmsk.clone();
this.cn=JSON.stringify(w.add.vogk);this.DQ=w;this.qh=C}var d=new jO(D.E.X,!0);d.data={C:D.t.gC,$j:"cornerradius",zT:5,op:this.aql.bind(this)};
g.c(d)}else c.R7.prototype.i2.call(this,o,g,C,a,x)};c.Vt.prototype.aql=function(o){if(o=="confirm"){var g=this.qh,C=this.DQ,a=C.add.vmsk,x=C.add.vogk;
this.vl(g,[12,94,0],C.XE,this.lm,a,null,this.cn,JSON.stringify(x));this.GQ();return}var a=this.lm.clone(),x=JSON.parse(this.cn),K=a.EP;
if(o=="cancel"){}else{var h=[];for(var N=0;N<K.length;N++){var X=K[N],w=l.M.Tq(a.i,X,!0),d=0;if(h.indexOf(w)!=-1)continue;
h.push(w);var G=l.M.Fq(a.i,w,!0),R=a.i[G].length,q=[];for(var m=0;m<R;m++){var M=a.EP.indexOf(G+m+1)==-1?0:o;
q.push(M);if(M!=0)d++}l.M.SO(a.i,G,q);for(var m=0;m<K.length;m++)if(K[m]>G+R)K[m]+=d}this.VC(a,x);a.EP=[]}this.ap(this.qh,this.DQ.XE,a,x);
if(o=="cancel")this.GQ()};c.Vt.prototype.disable=function(o,g,C,a){this.lk(o)};c.Vt.prototype.xA=function(o,g,C,a,x){this.lk(o);
var K=o.u.w2(x.x,x.y),d,q,m;this.S8=K.clone();var h=o.DE(),X=h[0],w=h[1];if(w.length==0)return;var G=c.YD(o,x),R=new aS(K.x-G,K.y-G,G*2,G*2);
for(var M=0;M<w.length;M++){d=this.DQ=X[w[M]];q=d.add.vmsk;m=l.M.kU(q.i,R);if(m[0].length+m[1].length+m[2].length!=0)break}var Z=[!1,!1,!1];
for(var N=0;N<3;N++){for(var Q=0;Q<m[N].length;Q++){var p=m[N][Q],y=q.i[p];if(q.EP.indexOf(p)!=-1||N==1&&q.EP.indexOf(p-1)!=-1&&!y.H.$s(y.rD)||N==2&&q.EP.indexOf(p+1)!=-1&&!y.H.$s(y.lu)){m[N]=[p];
Z[N]=!0;break}}}if(m[0].length!=0&&(Z[0]||!Z[1]&&!Z[2])){var V=m[0][0],W=q.EP.indexOf(V);if(a.a(c_.sH)){if(W==-1)q.EP.push(V);
else{q.EP.splice(W,1);o.dF=!0;return}}else if(W==-1)q.EP=[V];this.VD=V;this.wN=0}else if(m[1].length!=0&&Z[1]){this.VD=m[1][0];
this.wN=1}else if(m[2].length!=0&&Z[2]){this.VD=m[2][0];this.wN=2}else{var v=l.M._9(q.i,K,!0,G);if(v.XE==-1)this.ix=K;
else{q.A=[v.XE];q.EP=[]}}if(this.lm==null){this.lm=d.add.vmsk.clone();this.cn=JSON.stringify(d.add.vogk)}this.St=new a8(K);
o.dF=!0};c.Vt.prototype.kh=function(o,g,C,a,x){if(o==null)return;var K=o.u.w2(x.x,x.y),h=this.DQ;if(this.VD!=-1){var X=this.lm.clone(),w=h.add.vogk,G=X.i[this.VD];
G=[G.H,G.rD,G.lu][this.wN];if(a.a(c_.sH)){if(this.wN==0){K=this.St.bu(K,a);K.x+=G.x-this.S8.x;K.y+=G.y-this.S8.y}else K=c.Wt.kp(X.i[this.VD].H,K)}else{if(this.aC.psnap){K.x=Math.round(K.x);
K.y=Math.round(K.y)}K=c.YV.Pu(o,K,C)}if(this.wN==0){var R=new kp(1,0,0,1,K.x-G.x,K.y-G.y);l.M.Jg(X.i,R,null,X.EP)}else{var d=X.i[this.VD],q=d.rD,m=d.lu;
if(this.wN==2){q=d.lu;m=d.rD}if(a.a(c_.LW)&&(d.type==1||d.type==4))d.type++;q.fR(K.x,K.y);if(d.type==1||d.type==4){var M=eN.ig(q,d.H),Z=eN.ig(m,d.H);
if(Z!=0){m.x=d.H.x-(q.x-d.H.x)*(Z/M);m.y=d.H.y-(q.y-d.H.y)*(Z/M)}}}this.VC(X,w);this.ap(o,h.XE,X,w)}else if(this.ix!=null){var Q=this.ix;
o.b.IQ=l.o.IW(new aS(Q.x,Q.y,K.x-Q.x,K.y-Q.y));o.dF=!0}else{var p=o.DE(),y=p[0],V=p[1],h,X,j;if(V.length==0)return;
var W=c.YD(o,x),v=new aS(K.x-W,K.y-W,W*2,W*2);for(var e=0;e<V.length;e++){h=y[V[e]];X=h.add.vmsk;j=l.M.kU(X.i,v);
if(j[0].length+j[1].length+j[2].length!=0)break}this.lk(o);for(var N=0;N<3;N++){for(var T=0;T<j[N].length;
T++){var O=j[N][T],L=X.i[O];L=N==0?L.H:N==1?L.rD:L.lu;o.b.Pz.push(o.b.lS.length>>>1);o.b.lS.push(L.x,L.y);
o.dF=!0}}}};c.Vt.prototype.lk=function(o){if(o&&o.b.lS.length!=0){o.b.lS=[];o.b.Pz=[];o.dF=!0}};c.Vt.prototype.eO=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y),h=this.DQ,X=h?h.add.vmsk:null,w=h?h.add.vogk:null;
if(this.VD!=-1){if(Date.now()-this.h$<300){var G=X.i[this.VD],R=this.wN,d=null;if(R==0){var q=G.rD.$s(G.H),m=G.lu.$s(G.H);
if(!q&&!m){d="Anchor Type";if(G.type==1||G.type==4)G.type++;else{G.type--;G.lu=G.H.add(G.H.fK(G.rD))}}else{d="Add Handles";
if(q&&m){G.rD.x-=30;G.lu.x+=30}else if(q)G.rD=G.H.add(G.H.fK(G.lu));else if(m)G.lu=G.H.add(G.H.fK(G.rD))}}else{d="Remove Handle";
if(R==1)G.rD.lR(G.H);else G.lu.lR(G.H)}this.VC(X,w);this.ap(o,h.XE,X,w);this.vl(o,d,h.XE,this.lm,X,null,this.cn,JSON.stringify(w))}else if(!this.S8.$s(K)){this.vl(o,"Drag Anchors",h.XE,this.lm,X,null,this.cn,JSON.stringify(w))}this.h$=Date.now()}else if(this.ix!=null){var M=this.ix,Z=new aS(M.x,M.y,K.x-M.x,K.y-M.y);
if(Z.m<0)Z.x+=Z.m;if(Z.n<0)Z.y+=Z.n;Z.m=Math.abs(Z.m);Z.n=Math.abs(Z.n);var Q=l.M.kU(X.i,Z);X.EP=Q[0].concat(a.a(c_.sH)?X.EP:[]);
o.b.IQ=null}this.GQ();o.dF=!0};c.Vt.prototype.GQ=function(){this.DQ=null;this.lm=null;this.ix=null;this.VD=this.wN=-1;
this.St=null};c.Vt.prototype.VC=function(o,g){for(var N=0;N<o.EP.length;N++){var C=l.M.Tq(o.i,o.EP[N]);
l.vm.$c(g,C)}};c.Vt.prototype.Uh=function(o,g,C,a){if(o==null)return;var x=o.DE(),K=x[0],h=x[1];if(h.length==0)return;
var X=K[h[0]],w=X.add.vmsk;if(w==null||w.EP.length==0)return;var G=X.add.vogk,R=JSON.stringify(G),d=a.c4();
if(d.x!=0||d.y!=0){var q=w.clone(),m=w.clone(),M=new kp(1,0,0,1,d.x,d.y);l.M.Jg(m.i,M,null,m.EP);this.VC(m,G);
this.ap(o,X.XE,m,G);this.vl(o,"Move Anchors",o.A[0],q,m.clone(),!0,R,JSON.stringify(G))}if(a.a(c_.nJ)||a.a(c_._k))this.i2({C:"remove",E2:!0,avu:!0},g,o,a,C)};
c.Vt.prototype.vl=function(o,g,C,a,x,K,h,X){var w=o.XW();if(K&&w!=null&&w.F==this&&w.data.aqe&&w.data.IF==C&&JSON.stringify(w.data.pQ.EP)==JSON.stringify(a.EP)){w.data.HJ=x;
w.data.jm=X}else{var w=new dC(g,this);w.data={IF:C,pQ:a,HJ:x,aqe:K,axs:h,jm:X};o.zn(w)}};c.Rect=function(){c.CC.call(this,[10,32],c.FA,"tools/rect",!0)};
c.Rect.prototype=new c.CC;c.Rect.prototype.EG=function(o,g,C){var a=this.i8.crad,x=g.x-o.x,K=g.y-o.y;
return[l.M.MG.Rect(o.x,o.y,x,K,a),l.vm.H2("Rctn",[o.x,o.y,g.x,g.y],[a,a,a,a])]};c.Hy=function(){c.CC.call(this,[10,33],c.Gh,"tools/ellipse",!0)};
c.Hy.prototype=new c.CC;c.Hy.prototype.EG=function(o,g,C){var a=g.x-o.x,x=g.y-o.y;return[l.M.MG.Hy(o.x,o.y,a,x),l.vm.H2("Elps",[o.x,o.y,g.x,g.y])]};
c.r1=function(){c.CC.call(this,[10,34],c.yu,"tools/pshape",!1);this.i8.aopts=[!1,!0,50,100,0]};c.r1.prototype=new c.CC;
c.r1.prototype.EG=function(o,g,C){var a=this.i8.pshape,x=this.i8.crad,K=this.i8.irad/100,h=this.i8.sides,X=this.i8.width,w=this.i8.aopts,G=this.i8.length,Q;
g=g.clone();var R=o.x,d=o.y,q=g.x,m=g.y,M=Math.sqrt((q-R)*(q-R)+(m-d)*(m-d)),Z=Math.atan2(-m+d,q-R);
if(C)Z=Math.round(Z*180/Math.PI/15)*15*Math.PI/180;if(a==0)Q=l.M.MG.UA(R,d,M,Z,h,x);if(a==1)Q=l.M.MG.wQ(R,d,M,Z,h,x,K);
if(a==2)Q=l.M.MG.g7(o.x,o.y,g.x,g.y,X,w);if(a==3)Q=l.M.MG.afR(R,d,M,Z,G);return[Q,l.vm.H2("customShape",[o.x,o.y,g.x,g.y],null,null,null,"--")]};
c.r1.prototype.Uh=function(o,g,C,a){c.CC.prototype.Uh.call(this,o,g,C,a);var x=a.c4(),K=this.i8,h,X;
if(x.y!=0){var w=-x.y,G=K.pshape;if(G<2){h="sides";X=Math.max(3,Math.min(100,K.sides+w))}else if(G==2){h="width";
X=Math.max(1,Math.min(100,K.width+w))}else if(G==3){h="length";X=Math.max(4,Math.min(40,K.length+w))}}if(x.x!=0){h="pshape";
X=Math.max(0,Math.min(3,K.pshape+x.x))}if(h){var R=new jO(D.E.X,!0),d={};d[h]=X;K[h]=X;R.data={C:D.t.Gy,F:this.id,JI:"vals",aiv:d};
g.c(R);this.kh(o,g,C,a)}};c.e8=function(){c.CC.call(this,[10,35],c.Ie,"tools/line",!1)};c.e8.prototype=new c.CC;
c.e8.prototype.EG=function(o,g,C){var a=this.i8.width,x=this.i8.aopts;g=g.clone();if(C){g=c.Wt.kp(o,g)}return[l.M.MG.g7(o.x,o.y,g.x,g.y,a,x),l.vm.H2("Ln",null,null,[o.x,o.y,g.x,g.y],a,null,x)]};
c.MO=function(){c.CC.call(this,[10,31],c.Et,"tools/cshape",!0)};c.MO.prototype=new c.CC;c.MO.prototype.EG=function(o,g,C){var a=this.i8.shape,x=a.oD.m/a.oD.n,K=A.A3.FL(a.i);
g=g.clone();var h=g.x-o.x,X=g.y-o.y;l.M.Jg(K,new kp(h,0,0,X,o.x,o.y));return[K,l.vm.H2("customShape",[o.x,o.y,g.x,g.y],null,null,null,a.Zb)]};
c.V=function(o,g,C){c.rr.call(this,o,g,C);this.Lq=0;this.g=null;this.IV=null;this.zP=null;this.qL=1;
this.oC=!1;this.cursor=null;this.mF=null;this.sh=null;this.Db=!1;this.MJ=null;this.a49=0;this.G8=null;
this.DJ=0;this.M5=null;this.mi=null;this.o8=null;this.S9=null;this.awF=null;this.RV=null};c.V.prototype=new c.rr;
c.V.oG=function(o,g){var C={classID:"null",null:kn.C8("Dcmn",!0)};if(o)C.Angl={t:"UntF",v:{type:"#Ang",val:g}};
else C.Axis={t:"enum",v:{Ornt:g}};return{j7:o?"rotateEventEnum":"flip",FS:C}};c.V.prototype.qG=function(o,g,C,a,x){var K=new jO(D.E.X,!0);
K.data={C:D.t.Gy,F:this.id,ma:x,Dn:o,zP:C};g.c(K);this.GV=!1};c.V.prototype.qt=function(o){return this.mi&&this.mi.as0()};
c.V.prototype.i2=function(o,g,C,a,x){this.zP=x;if(o.C=="again"&&this.G8==null)return;if(!this.I9(C,x))return;
if(this.mi){this.au7(o,this.mi.bJ());this.mq(C,x,0,!0);this.bQ(C);return}this.a0x(C,o.l==null,o.l);this.am0(C);
this.au7(o);this.om(C,g,o.Wm,!1)};c.V.prototype.au7=function(o,g){var C=this.M5;if(g==null){var a=o.YX!=null?o.YX:4;
g=this.mi.a91()[a]}var x=g.x,K=g.y;if(o.C=="rot"&&o.k!=Math.PI&&(C.m+C.n&1)==1){x=Math.floor(x);K=Math.floor(K)}var h=new kp;
h.translate(-x,-K);if(o.C=="rot")h.rotate(o.k);if(o.C=="scl")h.scale(o.k.x,o.k.y);if(o.C=="mat")h.concat(o.k);
h.translate(x,K);if(o.C=="again")h=this.G8;var X=this.mi.ou();l.o.D(X,h,X);this.mi.q1(X)};c.V.prototype.rJ=function(){return!0};
c.V.prototype.I9=function(o,g){if(o==null)return!1;if(this.id==c.bC)return o._!=null;var C=o.TD(!0,null,null,!0);
if(this.id==c.JA&&o.g[C[0]].rect.to()){alert("Layer is empty.");return!1}for(var N=0;N<C.length;N++){var a=o.g[C[N]];
if(a.GS(2)||a.GS(31)){alert(fF.get([6,57,0]));return!1}if(a.add.artb){alert("You can not transform the whole artboard");
return!1}if(a.add.TySh)if(!d2.wc(a.add.TySh,g.zM))return!1;if(a.add.SoLd){if(C.length==1&&!l.X0.L1(a.add.SoLd.warp.v)&&(a.KN()&&a.KN().j3||a.add.vmsk&&a.add.vmsk.j3)){alert("Unlink masks before transforming Smart Object");
return!1}if(!o.adY(a.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+o.u9(a.add.SoLd.Idnt.v).vo+")");
return!1}}}if(o._==null)return!0;if(!o.zj())return!1;return o.afT()};c.V.prototype.xA=function(o,g,C,a,x){var K=this.ape(x,o),h=K[0],X=K[1],w=this.DJ==0?this.mi:this.o8;
o.u.R*=X;this.oC=w.xA(o,C,a,h,null,null,x);o.u.R/=X;if(this.oC&&w.vs(h)){if(Date.now()-this.a49<250)this.om(o,g,null,!0);
this.a49=Date.now()}};c.V.prototype.MW=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t._N,Hz:this.cursor};
o.c(g)};c.V.prototype.ape=function(o,g){var C=1;o=g.u.w2(o.x,o.y);if(this.DJ==1){var a=l.S.sV(this.mi.ou(),this.M5);
C=l.S.Td(a).Bo();var x=l.S.rq(a);o=l.S.a5X(x,o)}return[o,C]};c.V.prototype.kh=function(o,g,C,a,x){var K=this.ape(x,o),h=K[0],X=K[1],w=this.DJ==0?this.mi:this.o8;
if(!x.H3){var G="default";if(w){var R=w.h_(h,o.u.R*X,null,x);if(R)G=R}if(G!=this.cursor){this.cursor=G;
this.MW(g)}}if(!this.oC)return;o.u.R*=X;w.kh(o,C,a,h);o.u.R/=X;this.mq(o,C,0,!0);this.bQ(o);this.jP(g)};
c.V.prototype.eO=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y);this.mi.eO(o,C,a,K);this.oC=!1};c.V.prototype.Uh=function(o,g,C,a){if(a.a(c_.kD))this.om(o,g,null,!0);
else if(a.a(c_.oc))this.eI(o,g);else{var x=this.mi.Uh(o,C,a);if(x){this.mq(o,C,0,!0);this.jP(g)}}};c.V.prototype.jD=function(o,g,C,a){if(o.LR=="commit")this.om(C,g,null,!0);
else if(o.LR=="cancel")this.eI(C,g);else if(o.LR=="switchWarp"){this.DJ=1-this.DJ;this.adz();this.bQ(C);
this.jP(g)}else if(o.LR=="wrp"){this.o8.abS(o.bI);this.bQ(C);this.mq(C,this.zP,0,!0)}else if(o.LR=="ctyp"){this.mi.axn(o.eF);
this.bQ(C);this.jP(g)}else if(o.LR=="cen"){this.mi.aih(o.kN);this.bQ(C);this.mq(C,this.zP,0,!0)}else if(o.LR=="trn"){var x=l.S.xN(o.n8),K=this.M5,h=l.S.sV(this.mi.ou(),this.M5);
x[6]=h[6],x[7]=h[7];var X=[K.x,K.y,K.x+K.m,K.y,K.x+K.m,K.y+K.n,K.x,K.y+K.n];l.S.D(x,X);this.qL=o.qL;
this.mi.q1(X);this.bQ(C);this.mq(C,this.zP,0,!0)}};c.V.prototype.bQ=function(o){if(this.DJ==0)this.mi.zf(o,this.zP);
else{this.o8.zf(o);var g=l.S.sV(this.mi.ou(),this.M5);l.S.D(g,o.b.IQ.w);l.S.D(g,o.b.rM)}};c.V.prototype.om=function(o,g,C,a){this.mq(o,this.zP,this.qL);
var x=new dC(C?C:this.name,this);if(this.Lq==0)x.data={type:this.Lq,g:this.g,MJ:this.IV,Zc:c.V.sk(o,this.g)};
else if(this.Lq==1){var K=o.g[this.g[0]],h;if(K.Dq.U3<=0){h=l.Z(K.Dq.PX.$());l.eP(K.Dq.G_,h,3)}else h=o._.channel;
var X={rect:K.Dq.PX.clone(),channel:h};x.data={type:this.Lq,l:this.g[0],sh:this.sh,lQ:X,mF:this.mF,Db:this.Db,Dq:K.Dq,MJ:this.MJ,Zc:{Cn:K.Dq.PX,CL:K.Dq.G_}}}else if(this.Lq==2){x.data={type:this.Lq,sh:this.sh,lQ:{rect:o._.rect.clone(),channel:o._.channel.slice(0)}}}o.zn(x);
var w=this.M5,G=new eN(w.x+w.m/2,w.y+w.n/2),R=l.S.sV(this.mi.ou(),w),d=l.S.Td(R),q=new kp;q.translate(G.x,G.y);
q.concat(d);q.translate(-G.x,-G.y);d=q.clone();var m=-Math.atan2(-d.K,d.Bk),M=new kp;M.rotate(m);d.concat(M);
function Z(y,V){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][V],val:y}}}var Q=kn.C8("Lyr",!0);if(this.id==c.bC)Q.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var p={classID:"null",null:Q,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:Z(q.NO,0),Vrtc:Z(q.Mx,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:Z(Math.atan(d.U9)*180/Math.PI,2),Vrtc:Z(0,2)}},Wdth:Z(d.Bk*100,1),Hght:Z(d.rX*100,1),Angl:Z(m*180/Math.PI,2)};
this.s0=g;this.track({j7:"transform",FS:p});this.escape(o,g,a)};c.V.prototype.eI=function(o,g){if(this.Lq==0)c.V.UO(o,this.g,this.IV);
else if(this.Lq==1){var C=o.g[this.g[0]];o._=this.sh;if(!this.Db){C.Dq.PX=this.MJ.Cn;C.Dq.G_=this.MJ.CL;
C.AO(o,0,0,o._)}else{C.VO(o,this.mF)}o.L();o.f4=!0}else if(this.Lq==2){o._=this.sh;o.f4=!0}this.escape(o,g,!0)};
c.V.prototype.escape=function(o,g,C){this.mi.clear(o);this.mi=null;this.o8=null;this.RV=null;this.DJ=0;
if(C)this.pC(g,D.E.X,{C:D.t.o_})};c.V.prototype.SW=function(o,g){if(o.type==0)c.V.UO(g,o.g,o.Zc);else{if(o.type==1){var C=g.g[o.l];
if(o.Db){C.Dq=o.Dq}else{C.Dq.PX=o.Zc.Cn;C.Dq.G_=o.Zc.CL}C.AO(g,0,0,g._);g.L()}g._={rect:o.lQ.rect.clone(),channel:o.lQ.channel.slice(0)};
g.f4=!0}};c.V.prototype.Op=function(o,g){if(o.type==0)c.V.UO(g,o.g,o.MJ);else{if(o.type==1){var C=g.g[o.l];
if(o.Db){C.VO(g,o.mF)}else{C.Dq.PX=o.MJ.Cn;C.Dq.G_=o.MJ.CL;C.AO(g,0,0,g._)}g.L()}g._=o.sh;g.f4=!0}};
c.V.prototype.a0x=function(o,g,C){o.DE();var a=[];if(C==null)for(var N=0;N<o.AW.length;N++)if(o.eJ[o.AW[N]].add.vmsk.i.length>2)a.push(-1-o.AW[N]);
var x=[],K=o.u.dp;if(K[0]+K[1]+K[2]==3)if(C!=null||a.length==0||o.ls!=null&&o.ls.length!=0){if(o.A.length==1){var h=o.g[o.A[0]];
if(h.sP()&&h.$u)x=[o.A[0]]}if(x.length==0)x=o.TD(g,C,null,!0)}x=x.concat(a);for(var N=0;N<o.Ix.length;
N++)x.push(-1e3-o.Ix[N]);this.g=x};c.V.prototype.enable=function(o,g,C,a,x,K){if(this.cursor==null)this.cursor="default";
this.MW(g);if(this.mi)return;this.zP=C;this.a0x(o,!0);this.am0(o,K&&K.ZY!=null&&K.ZY!=-1?K.ZY:null);
this.jP(g);this.bQ(o);if(K&&K.ZY==-1)this.jD({LR:"switchWarp"},g,o,a)};c.V.prototype.jP=function(o){var g={C:D.t.Gy,F:this.id};
if(this.DJ==0){var C=l.S.sV(this.mi.ou(),this.M5),a=l.S.Td(C);g.n8={t_:a,eF:this.mi.aa_(),kN:this.mi.bJ(),Cn:this.M5.clone()}}else{g.bI=this.o8.Vh()}g.a29=this.o8!=null;
this.pC(o,D.E.X,g)};c.V.prototype.am0=function(o,g){var C=this.id==c.bC,a=!0,x=this.g[0],K=o.g[x],X=null,w=null;
if(C){this.Lq=2;this.sh=o._}else if(o._&&this.g.length==1&&x>=0&&!K.rect.to()){this.Lq=1;this.sh=o._;
this.mF=K.Dq;this.Db=!1;if(!K.pz(o,o._)){this.Db=!0;K.Xb(o,o._,!1)}this.MJ={CL:K.Dq.G_,Cn:K.Dq.PX}}else{this.Lq=0;
this.IV=c.V.sk(o,this.g,null);for(var N=0;N<this.IV.length;N++)if(this.IV[N][3]!=null)a=!1}var h=this.Lq==1;
if(this.IV&&this.IV.length==1){var G=this.IV[0];if(G[2]!=null&&G[2].vm){var R=G[2].BH.A;if(R.length<2){w=G[2].vm[R.length==0?0:R[0]].v;
if(!l.vm.kj(w))w=null}}if(G[3]==null)h=!0;if(G[4]!=null){X=o.g[this.g[0]].add.SoLd;if(G[1]||G[2])h=!1}}var d=C?o._.rect.clone():c.V.QR(o,this.g);
this.M5=d;if(!C&&X){var q=c.V.aq(X.nonAffineTransform);this.M5=l.o.TO(l.X0.Nw(X.warp.v));if(h)this.o8=new cX(X.warp.v);
this.S9=l.S.sV(q,this.M5);this.mi=new dH(q,!0,!0,a,!1,!1,g)}else{if(h||C)this.o8=new cX(l.X0.Z(this.M5));
this.S9=[1,0,0,0,1,0,0,0];if(this.id==c.JA)g=3;this.mi=new dH([d.x,d.y,d.x+d.m,d.y,d.x+d.m,d.y+d.n,d.x,d.y+d.n],!0,!0,a,!1,!1,g)}this.awF=[1,0,0,0,1,0,0,0];
if(this.id==c.JA){var m,M;if(this.IV){var Z=this.IV[0][0],Q=Z.Ci;m=Q[0];M=Q[1]}else if(this.MJ){m=this.MJ.CL;
M=this.MJ.Cn}this.RV=l.K4.av0(m,M.m,M.n)}};c.V.QR=function(o,g){if(g==null)g=o.TD(!0,null,null,!0);var C=new aS,a=new aS;
if(o._&&g.length==1&&g[0]>=0)C=o._.rect.clone();else for(var N=0;N<g.length;N++){var x=g[N],K=0<=x?o.g[x]:-1e3<x?o.eJ[-1-x]:o.JH[-1e3-x],h=K.add?K.add.vmsk:null,X=0<=x?K.y1(o,g.length==1,!1,!0):-1e3<x?l.M.se(h.i,g.length==1&&h.A.length!=0?h.A:null):K.rect.clone();
C=C.ae(X);if(x>0&&K.add.artb)a=a.ae(K.zz())}return!a.to()?a:C};c.V.prototype.pC=function(o,g,C,a){var x=new jO(g,!0);
x.data=C;if(a)x.F=a;o.c(x)};c.V.sk=function(o,g,C){var a=[];for(var N=0;N<g.length;N++){var x=g[N],K,h;
if(x>=0){K=o.g[x];h=K.Au(o,C,!0)}else if(x>-1e3){K=o.eJ[-1-x];h=[2]}else{a.push([null,null,null,null,null,null,null,o.JH[-1e3-x].clone()]);
continue}var X=[];if(h.indexOf(0)!=-1){var w={Ci:[K.buffer.slice(0),K.rect.clone()]};X.push(w);if(K.xT()){var G=K.WW(o);
w.axu=G.buffer.slice(0);w.apR=G.rect.clone()}}else X.push(null);if(h.indexOf(1)!=-1)X.push(K.KN().clone());
else X.push(null);if(h.indexOf(2)!=-1)X.push({BH:K.add.vmsk.clone(),ly:K.add.vstk?JSON.parse(JSON.stringify(K.add.vstk)):null,NL:K.add.vstk?c.R7.Kp(o,x):null,vm:K.add.vogk?JSON.parse(JSON.stringify(K.add.vogk)):null});
else X.push(null);if(K.add.TySh&&X[0]){bv.Ys(K.add.TySh);X.push(K.add.TySh.D.clone())}else X.push(null);
if(K.add.SoLd&&X[0])X.push(JSON.parse(JSON.stringify(K.add.SoLd)));else X.push(null);if(h.indexOf(3)!=-1)X.push(K.WW(o).d.clone());
else X.push(null);if(K.add.lmfx)X.push(JSON.stringify(K.add.lmfx));else X.push(null);a.push(X)}return a};
c.V.UO=function(o,g,C){for(var N=0;N<g.length;N++){var a=g[N],x=0<=a?o.g[a]:-1e3<a?o.eJ[-1-a]:o.JH[-1e3-a],K=C[N];
if(K[0]){x.rect=K[0].Ci[1].clone();x.buffer=K[0].Ci[0].slice(0);if(x.xT()){var h=x.WW(o);h.buffer=K[0].axu.slice(0);
h.rect=K[0].apR.clone()}}if(K[1]){x.KN().channel=K[1].channel.slice(0);x.KN().rect=K[1].rect.clone();
x.KN().fD=!0}if(K[2]){x.add.vmsk=K[2].BH.clone();if(K[2].NL)c.R7.jq(x,K[2].NL);if(K[2].ly)x.add.vstk=JSON.parse(JSON.stringify(K[2].ly));
if(K[2].vm)x.add.vogk=JSON.parse(JSON.stringify(K[2].vm))}if(K[3]){x.add.TySh.D=K[3].clone();bv.hf(x.add.TySh)}if(K[4]){x.add.SoLd=JSON.parse(JSON.stringify(K[4]))}if(K[5]){var X=x.WW(o).d;
X.channel=K[5].channel.slice(0);X.rect=K[5].rect.clone()}if(K[6]){x.add.lmfx=JSON.parse(K[6])}if(K[7]){x.channel=K[7].channel.slice(0);
x.rect=K[7].rect.clone();x.fD=!0}if(0<=a){x.Rw(o);x.L()}}o.L()};c.V.Bo=function(o){var g=o.clone(),C=Math.atan2(-g.K,g.Bk),a=new kp;
a.rotate(-C);g.concat(a);return(Math.abs(g.Bk)+Math.abs(g.rX))/2};c.V.fF=function(o,g,C,a,x,K,h,X,w,G){if(typeof K[0]=="number"){var R=[];
for(var N=0;N<C.length;N++)R[N]=K;K=R}for(var N=0;N<C.length;N++){var d=K[N],q=l.S.Td(d),m=c.V.Bo(q),M=C[N],Z=0<=M?o.g[M]:-1e3<M?o.eJ[-1-M]:o.JH[-1e3-M],Q=a[N];
if(Z.add&&Z.add.lmfx&&X)bd.lH(Z.add.lmfx,m);if(Q[0]&&!Q[3]&&!Q[4]&&!Q[5]){var p=Q[0].Ci;if(w){var y=w.clone(),V=l.Z(y.$()*4);
l.HT(p[0],p[1],V,y);p=[V,y]}var W=c.V.Bp(p,x,d,h,x==0?Z.buffer.buffer:null,null,null,G);if(W){Z.rect=W.rect;
Z.buffer=W.buffer}}if(Q[1]){var v=Z.KN();c.V.np(o,Q[1],v,x,d,h);if(w){var y=Z.rect.Kw(w),j=l.Z(y.$());
l.MD(v.channel,v.rect,j,y);v.channel=j;v.rect=y}}if(Q[2]){var e=h&&!l.X0.L1(h),T=Q[2].BH.clone(),O=C.length==1&&T.A.length!=0,L=C.length==1&&T.EP.length>1;
if(L)O=!1;var S=O?T.A:null,$=L?T.EP:null;if(e){var H=l.X0.Nw(h);l.S.D(d,H);l.M.a4c(T.i,H,S,$)}else l.M.a0j(T.i,d,S,$);
if(Z.add.vstk&&X){Z.add.vstk.strokeStyleLineWidth.v.val=Q[2].ly.strokeStyleLineWidth.v.val*m;var f=Q[2].NL;
if(f&&f.mf==3){f=JSON.parse(JSON.stringify(f));var F=f.NL.phase.v;f.NL.Scl.v.val=Math.round(f.NL.Scl.v.val*m);
F.Hrzn.v=Math.round(F.Hrzn.v*m);F.Vrtc.v=Math.round(F.Vrtc.v*m);c.R7.jq(Z,f)}}if(Z.add.vogk){Z.add.vogk=JSON.parse(JSON.stringify(Q[2].vm));
if(e||L)l.vm.xp(Z.add.vogk);else l.vm.D(Z.add.vogk,d,C.length>1?[]:T.A,X)}T.Bs*=m;Z.add.vmsk=T;if(Z.add.vogk)l.vm.zk(Z.add.vogk,Z.add.vmsk)}if(Q[3]){var U=Q[3].clone();
U.concat(q);Z.add.TySh.D=U;bv.hf(Z.add.TySh);var r=new bM(Z.add.TySh.cp,g.zM),E=d2.Sj(r,Z.add.TySh);
Z.rect=E.Cn;Z.buffer=E.ab}if(Q[4]){var k=Z.add.SoLd,P=c.V.aq(Q[4].nonAffineTransform);l.S.D(d,P);var z=l.o.Gw(P);
if(dH.PG(P)){if(h){var s=l.o.TO(l.X0.Nw(Q[4].warp.v)),j=l.S.sV(P,s),Y=l.o.TO(l.X0.Nw(h));P=[Y.x,Y.y,Y.x+Y.m,Y.y,Y.x+Y.m,Y.y+Y.n,Y.x,Y.y+Y.n];
l.S.D(j,P);k.warp.v=h}var t=l.S.sV(P),n=P;if(!l.S.Y5(t)){t[6]=t[7]=0;n=[0,0,1,0,1,1,0,1];l.S.D(t,n)}k.Trnf=c.V.SS(n);
k.nonAffineTransform=c.V.SS(P);if(k.filterFX)k.filterFX=JSON.parse(JSON.stringify(Q[4].filterFX));c.V.ahI(k,q);
Z.R9(o,x==0,g.zM)}}if(Q[5])c.V.np(o,Q[5],Z.WW(o).d,x,d,h);if(Q[7])c.V.np(o,Q[7],Z,x,d,h);if(0<=M){if(x!=0)Z.T3();
Z.Rw(o);Z.L()}}o.L()};c.V.Sk=function(o,g,C,a,x,K){if(C==null)C=!1;return c.V.Bp(o,C?0:1,l.S.xN(g),null,a,x,K,C)};
c.V.Bp=function(o,g,C,a,x,K,h,X){if(X==null)X=!1;if(X&&h)throw"e";var w={},q=0,m=.3;if(a&&!l.X0.L1(a)){var G=l.X0.Nw(a);
l.S.D(C,G);w.rect=l.o.Gw(G);w.buffer=l.Z(w.rect.$()*4);l.dD.drawImage(G,o[0],o[1].m,o[1].n,w.buffer,w.rect,g==0);
return w}l.WP(o);var R=o[0],d=o[1],M=d.$()*c.V.Bo(l.S.Td(C));if(X&&M>4e6)m=M>8e6?2.2:1.2;while(q+3<o.length&&o[q+3].$()>16&&l.S.Y5(C)&&c.V.Bo(l.S.Td(C))<m){q+=2;
var Z=o[q],Q=o[q+1],p=d.m/Q.m,y=d.n/Q.n;C=l.S._t(C,[1,0,d.x,0,1,d.y,0,0]);C=l.S._t(C,[p,0,0,0,y,0,0,0]);
C=l.S._t(C,[1,0,-d.x,0,1,-d.y,0,0]);d=Q;R=Z}var V=l.S._t(C,l.S.xN(new kp(d.m,0,0,d.n,d.x,d.y))),W=[0,0,1,0,1,1,0,1];
l.S.D(V,W);w.rect=l.o.Gw(W);if(h)w.rect=w.rect.Kw(h);if(X){while((w.rect.m&3)!=0)w.rect.m++;while((w.rect.n&3)!=0)w.rect.n++}if(!dH.PG(W)||w.rect.m>1e5||w.rect.n>1e5||w.rect.$()>3e4*3e4)return null;
var v=w.rect.$()*4;if(x&&x.byteLength>=v&&v>=x.byteLength>>2){w.buffer=new Uint8Array(x)}else{w.buffer=l.Z(v)}l.S.drawImage(V,R,d.m,d.n,w.buffer,w.rect,g==0,K,X);
if(g==2&&w.buffer){var j=w.rect.m,e=w.rect.n,T;T=[0,-1,0,-1,16,-1,0,-1,0];T=l.nw.rs(T);var O=w.buffer.slice(0);
l.nw.Dv(O,w.buffer,j,e,T,255,!1,!0)}if(w.buffer)return w};c.V.np=function(o,g,C,a,x,K){if(g.color==255)l.rq(g.channel);
var h=g.rect,X=l.Z(h.$()*4);l.Oa(g.channel,X,3);var w=c.V.Bp([X,h],a,x,K);if(w){C.rect=w.rect;C.channel=l.Z(w.rect.$());
l.eP(w.buffer,C.channel,3);C.fD=!0}if(g.color==255){l.rq(g.channel);if(w)l.rq(C.channel)}};c.V.ahI=function(o,g){var C=o.filterFX;
if(C)C=C.v.filterFXList;if(C)C=C.v;if(C)for(var a=0;a<C.length;a++){var x=C[a].v.Fltr;if(x==null||x.v.classID!="rigidTransform")continue;
x=x.v;console.log(x);var K=[];for(var h=0;h<4;h++)K.push(x["PuX"+h].v,x["PuY"+h].v);l.o.D(K,g,K);for(var h=0;
h<4;h++){x["PuX"+h].v=K[h*2];x["PuY"+h].v=K[h*2+1]}var X=["PinP","posFinalPins"],w=["originalVertexArray","deformedVertexArray"],G=x.puppetShapeList.v;
for(var R=0;R<G.length;R++){var d=G[R].v;for(var q=0;q<X.length;q++){var m=c.V.aq(d[X[q]]);l.o.D(m,g,m);
d[X[q]]=c.V.SS(m);var M=new Uint8Array(d[w[q]].v),Z=new Float32Array(M.buffer);l.o.D(Z,g,Z);var Q=[];
for(var p=0;p<M.length;p++)Q[p]=M[p];d[w[q]].v=Q}}}};c.V.aq=function(o){var g=[],C=o.v.length;for(var N=0;
N<C;N++)g.push(o.v[N].v);return g};c.V.SS=function(o){var g={t:"VlLs",v:[]},C=o.length;for(var N=0;N<C;
N++)g.v.push({t:"doub",v:o[N]});return g};c.V.prototype.adz=function(){var o=l.o.TO(l.X0.Nw(this.o8.Vh())),g=l.S.sV(this.mi.ou(),this.M5),C=[o.x,o.y,o.x+o.m,o.y,o.x+o.m,o.y+o.n,o.x,o.y+o.n];
l.S.D(g,C);this.mi.q1(C);this.M5=o};c.V.prototype.mq=function(o,g,C,a){var x=l.S.sV(this.mi.ou(),this.M5);
x=l.S._t(x,l.S.rq(this.S9));var K=this.o8?this.o8.Vh():null;if(this.Lq==0){var h=this.G8=l.S.Td(x);if(this.id==c.JA){var X=this.IV[0][0],w=X.Ci,G=w[1],R=~~(G.m*Math.max(0,h.Bk)),d=~~(G.n*Math.max(0,h.rX)),q=new aS(Math.round(h.Bk*G.x+h.NO),Math.round(h.rX*G.y+h.Mx),R,d),m=l.K4.D(this.RV,q),M=o.g[this.g[0]];
M.buffer=m;M.rect=q;M.L();o.L()}else c.V.fF(o,g,this.g,this.IV,C,x,K,null,null,a)}else if(this.Lq==1){var Z=o.g[this.g[0]],G=this.MJ.Cn;
if(Z.U3<=0){var Q=this.MJ.CL,p=this.sh,y=null;if(K&&!l.X0.L1(K)&&!p.rect.$s(G)){var m=l.Z(p.rect.$()*4);
l.HT(Q,G,m,p.rect);Q=m;G=p.rect}if(this.id==c.JA){var h=this.G8=l.S.Td(x),R=~~(G.m*Math.max(0,h.Bk)),d=~~(G.n*Math.max(0,h.rX)),q=new aS(Math.round(h.Bk*G.x+h.NO),Math.round(h.rX*G.y+h.Mx),R,d),m=l.K4.D(this.RV,q);
y={buffer:m,rect:q}}else y=c.V.Bp([Q,G],C,x,K);if(y){Z.Dq.G_=y.buffer;Z.Dq.PX=y.rect;var V=l.Z(y.rect.$());
l.eP(Z.Dq.G_,V,3);o._={channel:V,rect:Z.Dq.PX.clone()}}}else{var W=l.Z(G.$()*4);l.Oa(this.MJ.CL,W,3);
var y=c.V.Bp([W,G],C,x,K);if(y){Z.Dq.G_=l.Z(y.rect.$());l.eP(y.buffer,Z.Dq.G_,3);Z.Dq.PX=y.rect}this.afB(o,C,x,K)}Z.AO(o,0,0,o._);
if(C!=0){Z.T3();l.T3(o._)}o.f4=!0;o.L()}else if(this.Lq==2)this.afB(o,C,x,K)};c.V.prototype.afB=function(o,g,C,a){var x=this.sh.rect,K=l.Z(x.$()*4);
l.Oa(this.sh.channel,K,3);var h=c.V.Bp([K,x],g,C,a),X=l.Z(h.rect.$());l.eP(h.buffer,X,3);o._={channel:X,rect:h.rect};
o.f4=!0};c.V.prototype.disable=function(o,g,C,a){if(this.mi)this.om(o,g,null,!0)};c.aaA=function(){c.V.call(this,[10,16],c.GD,"tools/transform")};
c.aaA.prototype=new c.V;c.a6w=function(){c.V.call(this,[7,10],c.bC,"tools/transform")};c.a6w.prototype=new c.V;
c.aij=function(){c.V.call(this,[10,48],c.JA,"tools/transform")};c.aij.prototype=new c.V;c.Fl=function(o,g,C){c.rr.call(this,[10,46],c.zQ,"tools/transform");
this.l_=[1,1,2,!0];this.KA="rigidTransform";this.s3=null;this.a6_=null;this.Pv=null;this.Gm=null;this.L8=null;
this.vD=null;this.jz=[]};c.Fl.prototype=new c.rr;c.Fl.prototype.rJ=function(){return!0};c.Fl.adg=function(o){if(o==null)return!1;
if(o.A.length!=1)return!1;var g=o.g[o.A[0]];return g.add.SoLd||o.zj(!1)};c.Fl.prototype.I9=function(o,g){return c.Fl.adg(o)};
c.Fl.prototype.enable=function(o,g,C,a,x,K,h){this.a6_=K.hN;var X=K.hN,w,Z=null;if(X){var G=o.g[X.l];
if(G.add.SoLd.filterFX!=null){var R=G.add.SoLd.filterFX.v.filterFXList.v;if(R[X.index])w=JSON.parse(JSON.stringify(R[X.index].v.Fltr.v))}}var d=w==null,G=o.g[o.A[0]],q=G.buffer,m=G.rect,M=G.add.SoLd;
if(M){var Q=M.nonAffineTransform.v;Z=[];for(var N=0;N<4;N++)Z.push(Q[N*2].v,Q[N*2+1].v);if(d)this.$R("edit",g);
var p=G.WW(o);q=p.buffer;m=p.rect}this.s3={buffer:q.slice(0),rect:m.clone(),aaV:Z};if(d)w=c.Fl.P6(this.s3,this.l_);
this.Pv=w;this.Gm=c.Fl.$g(this.Pv,this.l_);this.wV();this.x9(o);if(d)this.Ty(g);var y=new jO(D.E.X,!0);
y.data={C:D.t.Gy,F:this.id,eA:this.l_};g.c(y);y.data={C:D.t._N,Hz:"default"};g.c(y)};c.Fl.prototype.disable=function(o,g,C,a){if(this.Gm)this.om(o,g,!0)};
c.Fl.prototype.wV=function(o){var g=this.Gm;this.jz=[];for(var N=0;N<g.length;N++){var C=g[N];for(var a=0;
a<C.A.length;a++)this.jz.push([N,C.A[N]]);C.bW=l.ez.Mo(C);if(o)l.ez.os(C)}};c.Fl.prototype.jD=function(o,g,C,a){if(o.LR=="commit")this.om(C,g,!0);
else if(o.LR=="cancel")this.eI(C,g,!0);else if(o.LR=="prm"){var x=!1;for(var N=0;N<3;N++)if(this.l_[N]!=o.eA[N])x=!0;
this.l_=o.eA;if(x){this.Pv=c.Fl.P6(this.s3,this.l_,this.Pv);this.Gm=c.Fl.$g(this.Pv,this.l_);this.wV(!0);
this.Ty(g)}this.x9(C)}else if(o.LR=="moveDepth"){var K=this.Gm;for(var h=0;h<K.length;h++){var X=K[h];
for(var N=0;N<X.A.length;N++){var w=X.A[N];X.vM[w]+=o.aom?1:-1}}this.Ty(g)}};c.Fl.prototype.td=function(o,g){return o==c_.nJ||o==c_._k};
c.Fl.prototype.Uh=function(o,g,C,a){var x=a.c4();if(a.a(c_.kD))this.om(o,g,!0);else if(a.a(c_.oc))this.eI(o,g,!0);
else if(a.a(c_.nJ)||a.a(c_._k)){var K=this.Gm;for(var h=0;h<K.length;h++){var X=K[h];X.A.sort(function(R,d){return d-R});
for(var N=0;N<X.A.length;N++){var w=X.A[N],G=w*2;X.vM.splice(w,1);X.oT.splice(w,1);X.Jp.splice(w,1);
X.fe.splice(w,1);X.R8.splice(G,2);X.YI.splice(G,2)}X.A=[];if(X.fe.length==0){X.V3=X.L3.slice(0);X.Vy=X.L3.slice(0)}}this.wV(!0);
this.Ty(g);this.x9(o)}else if(x.x!=0||x.y!=0){this.aim(o,x.x,x.y,g);this.j_=null}};c.Fl.prototype.om=function(o,g,C){this.$R("confirm",g);
this.escape(o,g,C)};c.Fl.prototype.eI=function(o,g,C){this.$R("cancel",g);this.escape(o,g,C)};c.Fl.prototype.escape=function(o,g,C){o.b.IQ=null;
o.b.lS=[];o.dF=!0;this.Gm=null;var a=new jO(D.E.X,!0);a.data={C:D.t.o_};if(C)g.c(a)};c.Fl.prototype.xA=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y),h=K.x,X=K.y,w=this.Gm,G=null,R=[0,2,4,1.2,1.2,1.2],d=-1,q=c.YD(o,x);
for(var N=0;N<w.length;N++){var m=w[N],M=l.o.mL(m.YI,h,X,q);if(M!=-1)G=[N,M];if(d==-1&&l.ez.n1.a8T(m.Vy,m.Wn,h,X))d=N}if(G==null&&d!=-1){var m=w[d];
c.Fl.a4H(m,h,X,h,X,0);G=[d,m.fe.length-1];m.bW=l.ez.Mo(m)}this.L8=K;if(G){var Z=w[G[0]].A.indexOf(G[1])!=-1;
if(a.a(c_.sH)&&!Z){w[G[0]].A.push(G[1]);this.jz.push(G)}else if(!Z){w[G[0]].A=[G[1]];this.jz=[G]}}this.x9(o)};
c.Fl.a4H=function(o,g,C,a,x,K){var h=l.o.mL(o.Vy,g,C);o.fe.push(h);o.YI.push(a,x);o.R8.push(o.Vy[h*2]-g,o.Vy[h*2+1]-C);
o.Jp.push(0);o.oT.push(!1);o.vM.push(K)};c.Fl.prototype.kh=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y),h=this.L8;
if(h)this.aim(o,K.x-h.x,K.y-h.y,g)};c.Fl.prototype.aim=function(o,g,C,a){var x={},K=this.jz,h=this.Gm;
if(this.j_==null){this.j_=[];for(var N=0;N<h.length;N++)this.j_.push(h[N].YI.slice(0))}for(var N=0;N<K.length;
N++){var X=this.jz[N],w=X[0],G=h[X[0]],R=X[1]*2;G.YI[R+0]=this.j_[w][R+0]+g;G.YI[R+1]=this.j_[w][R+1]+C;
x[w]=w}for(var w in x)l.ez.os(this.Gm[x[w]]);this.x9(o);this.Ty(a)};c.Fl.prototype.$R=function(o,g){var C=new jO(D.E.q,!0);
C.F=c.C3;C.data={C:o,hN:this.a6_,KA:this.KA,jr:this.Pv};g.c(C)};c.Fl.prototype.eO=function(o,g,C,a,x){this.L8=null;
this.j_=null};c.Fl.prototype.Ty=function(o){c.Fl.agW(this.Gm,this.l_,this.Pv);this.$R("edit",o)};c.Fl.prototype.x9=function(o){var g=this.Gm,C=this.Pv;
o.b.IQ={w:[],G:[]};o.b.lS=[];o.b.Pz=[];for(var N=0;N<g.length;N++){var a=g[N];for(var x=0;x<a.A.length;
x++)o.b.Pz.push((o.b.lS.length>>>1)+a.A[x]);o.b.lS=o.b.lS.concat(a.YI);if(this.l_[3])l.o.concat(o.b.IQ,l.o.akO(a.Vy,a.Wn))}o.dF=!0};
c.Fl.P6=function(o,g,C){var a=o.buffer,x=o.rect,K=o.aaV,h=hb.l3("rigidTransform");if(K)for(var N=0;N<4;
N++){h["PuX"+N].v=K[N*2];h["PuY"+N].v=K[N*2+1]}var X=h.puppetShapeList.v,w=l.ez.a1s(a,x.m,x.n,g[1],g[2]),G=[];
for(var R=0;R<w.length;R++){var d={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
d.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var q=w[R];X.push({t:"Objc",v:d});var m=q.L3.slice(0);l.o.D(m,new kp(1,0,0,1,x.x,x.y),m);var M=q.Wn;
for(var N=0;N<M.length;N+=3){var Z=M[N+1];M[N+1]=M[N+2];M[N+2]=Z}G.push({Wn:M,L3:m,V3:m,Vy:m,fe:[],R8:[],YI:[],bW:null,A:[],Jp:[],oT:[],vM:[]})}if(C){var Q=c.Fl.$g(C,[]),p=G[0];
for(var N=0;N<Q.length;N++){var y=Q[N];for(var V=0;V<y.A.length;V++)p.A.push((p.YI.length>>>1)+y.A[V]);
for(var V=0;V<y.fe.length;V++){var W=y.fe[V]*2,v=y.L3[W]-y.R8[V*2],j=y.L3[W+1]-y.R8[V*2+1];c.Fl.a4H(p,v,j,y.YI[V*2],y.YI[V*2+1],y.vM[V])}}}c.Fl.agW(G,g,h);
return h};c.Fl.$g=function(o,g){var C=c.V.aq,a=o.puppetShapeList.v,x=[];for(var K=0;K<a.length;K++){var h=a[K].v;
g[0]=h.meshRigidity.v-1;g[1]=h.meshQuality.v-1;g[2]=h.meshExpansion.v;var X=h.pinVertexIndices.v.length,w=h.meshBoundaryPath.v.pathComponents.v;
if(w.length!=0){var G=w[0].v.SbpL.v[0].v.Pts;G.v=[]}var R=new Uint32Array(new Uint8Array(h.indexArray.v).buffer),d=new Float32Array(new Uint8Array(h.originalVertexArray.v).buffer),q=new Float32Array(new Uint8Array(h.deformedVertexArray.v).buffer),m=[],M=[],Z=[];
for(var N=0;N<R.length;N++)m.push(R[N]);for(var N=0;N<d.length;N++){M.push(d[N]);Z.push(q[N])}var Q=C(h.pinVertexIndices),p=C(h.pinOffsets),y=C(h.posFinalPins),V=C(h.PnRt),W=C(h.PnOv),v=C(h.PnDp),j=C(h.selectedPin);
x.push({Wn:m,L3:M,V3:Z.slice(0),Vy:Z,fe:Q,R8:p,YI:y,bW:null,Jp:V,oT:W,vM:v,A:j})}return x};c.Fl.agW=function(o,g,C){function a(q,m){var M=[];
for(var N=0;N<q.length;N++)M.push({t:m,v:q[N]});return M}function x(q,m,M){var Z=new(M?Uint32Array:Float32Array)(q),Q=new Uint8Array(Z.buffer);
for(var N=0;N<Q.length;N++)m[N]=Q[N]}var K=C.puppetShapeList.v;for(var h=0;h<K.length;h++){var X=o[h],w=K[h].v;
w.meshRigidity.v=g[0]+1;w.meshQuality.v=g[1]+1;w.meshExpansion.v=g[2];x(X.Wn,w.indexArray.v,!0);x(X.L3,w.originalVertexArray.v);
x(X.Vy,w.deformedVertexArray.v);var G=[];for(var N=0;N<X.fe.length;N++){var R=X.fe[N]*2,d=N*2;G[d]=X.L3[R]-X.R8[d];
G[d+1]=X.L3[R+1]-X.R8[d+1]}w.PinP.v=a(G,"doub");w.pinVertexIndices.v=a(X.fe,"long");w.pinOffsets.v=a(X.R8,"doub");
w.posFinalPins.v=a(X.YI,"doub");w.PnRt.v=a(X.Jp,"long");w.PnOv.v=a(X.oT,"bool");w.PnDp.v=a(X.vM,"doub");
w.selectedPin.v=a(X.A,"long")}};c.ho=function(o,g,C){c.rr.call(this,o?o:[10,40],g?g:c.i7,C?C:"tools/slice");
this.Em=null;this.s0=null;this.Hc=null;this.aow=null;this.wo=null;this.IR=null};c.ho.prototype=new c.rr;
c.ho._9=function(o,g){var C=-1;for(var N=0;N<o.length;N++){var a=c.ho.Ep(o,N);if(a[0]<=g.x&&g.x<=a[2]&&a[1]<=g.y&&g.y<=a[3]){C=N;
break}}return C};c.ho.prototype.i2=function(o,g,C,a,x){if(C==null)return;this.Ge(C);if(o.C=="fromAction"){var K=C.Kc(),h=C.M4(),X=h==-1?new aS(0,0,C.m,C.n):C.g[h].zz(),w=[X.x,X.x+X.m],G=[X.y,X.y+X.n];
for(var N=0;N<K[0].length;N++){var R=K[0][N],d=Math.round(R[1]),q=K[1][N];if(q!=-1&&q!=h)continue;if(R[0]==0&&w.indexOf(d)==-1)w.push(d);
if(R[0]==1&&G.indexOf(d)==-1)G.push(d)}w.sort(function(e,T){return e-T});G.sort(function(e,T){return e-T});
for(var m=1;m<G.length;m++)for(var M=1;M<w.length;M++){C.Ng.push(c.ho.jo());c.ho.Vs(C.Ng,C.Ng.length-1,[w[M-1],G[m-1],w[M],G[m]]);
C.dF=!0}}else if(o.C=="reorder"){if(C.jB.length==0)return;var Z=C.Ng,Q=C.jB;Q.sort(function(e,T){return e-T});
console.log(Q);var p=Z.slice(0),y=[],V=[];for(var N=0;N<Q.length;N++){var W=Q[N],v=Z[W];V.push(v);p.splice(p.indexOf(v),1)}var j=Math.max(0,Math.min(p.length,Q[0]-o.dir));
for(var N=0;N<V.length;N++){p.splice(j+N,0,V[N]);y.push(j+N)}C.Ng=p;C.jB=y}else if(o.C=="delete"){var Z=C.Ng.slice(0);
for(var N=0;N<C.jB.length;N++)C.Ng.splice(C.Ng.indexOf(Z[C.jB[N]]),1);C.jB=[]}else if(o.C=="deleteAll"){C.Ng=[];
C.jB=[]}else{C.Ng[C.jB[0]].v=o;C.dF=!0}this.LE(C)};c.ho.prototype.enable=function(o,g,C,a,x,K){c.rr.prototype.enable.call(this,o,g,C,a,x,K);
if(!C.M8.Ng){var h=new jO(D.E.X,!0);h.data={C:D.t.sM,eA:e1.pU};g.c(h)}};c.ho.prototype.disable=function(){this.Em=null;
this.s0=null};c.ho.prototype.qG=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y),h=c.ho._9(o.Ng,K);if(h==-1)return;
this.Em=o;this.s0=g;o.jB=[h];o.dF=!0;if(this.IR==null){this.IR=new g0([{name:[5,4]},{name:[8,11,1],Dd:!0}]);
this.IR.h("select",this.EF,this)}var X=this.IR;X.parent=g;X.Q();X.update(o,C);var w=new jO(D.E.X,!0);
w.data={C:D.t.Sd,u6:X,x:x.El+2,y:x._i+1};g.c(w)};c.ho.prototype.EF=function(o){var g=this.IR.Xl()[0],C=this.Em;
if(g==0){this.Ge(C);C.Ng.splice(C.jB[0],1);C.jB=[];C.dF=!0;this.LE(C)}if(g==1){var a=new jO(D.E.X,!0);
a.data={C:D.t.gC,$j:"soptions",k:C.Ng[C.jB[0]].v};this.s0.c(a)}};c.ho.prototype.xA=function(o,g,C,a,x){if(o==null)return;
this.Ge(o);var K=o.u.w2(x.x,x.y);K=c.YV.Pu(o,K,C,[!0,null,!1]);K.x=Math.round(K.x);K.y=Math.round(K.y);
this.wo=K;o.Ng.unshift(c.ho.jo());o.jB=[0];c.ho.Vs(o.Ng,0,[K.x,K.y,K.x+20,K.y+20]);o.dF=!0};c.ho.prototype.kh=function(o,g,C,a,x){if(this.Hc==null)return;
var K=o.u.w2(x.x,x.y),h=this.wo;K=c.YV.Pu(o,K,C,[!0,null,!1]);K.x=Math.round(K.x);K.y=Math.round(K.y);
var X=[h.x,h.y,K.x,K.y];c.ho.akN(X);c.ho.Vs(o.Ng,0,X);o.dF=!0};c.ho.prototype.eO=function(o,g,C,a,x){this.LE(o);
this.wo=null};c.ho.prototype.Ge=function(o){this.Hc=JSON.stringify(o.Ng);this.aow=JSON.stringify(o.jB)};
c.ho.prototype.LE=function(o){var g=JSON.stringify(o.Ng);if(g!=this.Hc){var C=new dC(this.name,this);
C.data={MJ:this.Hc,Zc:g,acp:this.aow,afa:JSON.stringify(o.jB)};o.zn(C)}this.Hc=null};c.ho.prototype.Op=function(o,g){g.Ng=JSON.parse(o.MJ);
g.jB=JSON.parse(o.acp);g.dF=!0};c.ho.prototype.SW=function(o,g){g.Ng=JSON.parse(o.Zc);g.jB=JSON.parse(o.afa);
g.dF=!0};c.ho.prototype.td=function(o,g){return g!=null&&g.jB.length!=0&&(o==c_.nJ||o==c_._k)};c.ho.prototype.Uh=function(o,g,C,a){if(o==null)return;
if(a.a(c_.nJ)||a.a(c_._k))this.i2({C:"delete"},g,o,a,C);var x=a.c4();if(x.x!=0||x.y!=0){this.Ge(o);c.ho.Lk(o,x);
this.LE(o)}};c.ho.prototype.jD=function(o,g,C,a,x){};c.ho.awj=function(o,g,C,a){var x=new eN(-g.x,-g.y),K=g.m/C.m,h=g.n/C.n,X=[0,0,g.m,g.n];
for(var N=0;N<o.length;N++){var w=c.ho.Ep(o,N);if(a){w[0]=Math.round(w[0]*K);w[1]=Math.round(w[1]*h);
w[2]=Math.round(w[2]*K);w[3]=Math.round(w[3]*h)}else{c.ho.xf(w,x);c.ho.ak5(w,X)}if(w[0]>=w[2]||w[1]>=w[3]){o.splice(N,1);
N--;continue}c.ho.Vs(o,N,w)}};c.ho.Lk=function(o,g){var C=o.Ng;for(var N=0;N<o.jB.length;N++){var a=c.ho.Ep(C,o.jB[N]);
c.ho.xf(a,g);c.ho.Vs(C,o.jB[N],a)}};c.ho.ak5=function(o,g){if(o[0]<g[0])o[0]=g[0];if(o[1]<g[1])o[1]=g[1];
if(g[2]<o[2])o[2]=g[2];if(g[3]<o[3])o[3]=g[3]};c.ho.xf=function(o,g){o[0]=Math.round(o[0]+g.x);o[2]=Math.round(o[2]+g.x);
o[1]=Math.round(o[1]+g.y);o[3]=Math.round(o[3]+g.y)};c.ho.Vs=function(o,N,g){var C=o[N].v.bounds.v;C.Left.v=g[0];
C.Top.v=g[1];C.Rght.v=g[2];C.Btom.v=g[3]};c.ho.Ep=function(o,N){var g=o[N].v.bounds.v;return[g.Left.v,g.Top.v,g.Rght.v,g.Btom.v,N]};
c.ho.akN=function(o){if(o[2]<o[0]){var g=o[0];o[0]=o[2];o[2]=g}if(o[2]==o[0])o[2]++;if(o[3]<o[1]){var g=o[1];
o[1]=o[3];o[3]=g}if(o[3]==o[1])o[3]++};c.ho.TO=function(o,g){var C=1e9,a=-1e9,x=1e9,K=-1e9;for(var N=0;
N<g.length;N++){var h=c.ho.Ep(o,g[N]);C=Math.min(C,h[0]);x=Math.min(x,h[1]);a=Math.max(a,h[2]);K=Math.max(K,h[3])}return[C,x,a,K]};
c.ho.jo=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
c.jC=function(){c.ho.call(this,[10,41],c.hh,"tools/sselect");this.wo=null;this.Hw=null;this.AS=null;
this.vD=null;this.UD=!1};c.jC.prototype=new c.ho;c.jC.prototype.xA=function(o,g,C,a,x){if(o==null)return;
var K=o.u.w2(x.x,x.y),h=c.jC.a2j(K,4/o.u.R,o.Ng,o.jB);h.pop();if(h.length!=0){this.wo=K;this.AS=h;this.Ge(o);
return}var X=o.Ng,w=c.ho._9(X,K);if(w==-1)o.jB=[];else{var G=o.jB.indexOf(w);if(a.a(c_.sH)){if(G==-1)o.jB.push(w);
else o.jB.splice(G,1)}else{o.jB.sort(function(Z,Q){return Z-Q});if(G==-1)o.jB=[w];this.wo=K;this.Ge(o);
this.Hw=c.ho.TO(X,o.jB);this.vD=[];for(var N=0;N<o.jB.length;N++)this.vD.push(c.ho.Ep(X,o.jB[N]));if(a.a(c_.LW)){var R=X.slice(0),d=o.jB,q=[];
for(var N=0;N<d.length;N++){var w=d[N],m=R[w],M=X.indexOf(m);q.push(M);X.splice(M,0,JSON.parse(JSON.stringify(m)))}o.jB=q}}}o.dF=!0};
c.jC.prototype.kh=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y);if(this.wo==null){var h=c.jC.a2j(K,4/o.u.R,o.Ng,o.jB),X=h.pop(),w=h.length==0?"default":["ew","nwse","ns","nesw"][X]+"-resize",G=new jO(D.E.X,!0);
G.data={C:D.t._N,Hz:w};g.c(G);return}if(!this.UD&&K.$s(this.wo))return;this.UD=!0;var R=o.Ng,h=this.AS;
if(h){K=c.YV.Pu(o,K,C,[!0,null,!1]);var d=Math.round(K.x),q=Math.round(K.y);for(var N=0;N<h.length;N+=2){var m=c.ho.Ep(R,h[N]),M=h[N+1];
m[M]=(M&1)==0?d:q;c.ho.akN(m);c.ho.Vs(R,h[N],m)}}else{var Z=K.fK(this.wo),Q=this.Hw.slice(0);c.ho.xf(Q,Z);
var p=new aS(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1]),y=c.YV.k6(o,p,C,[!0,null,!1],!0);c.YV.QB(o,p,y);Z.x+=y[0];
Z.y+=y[1];for(var N=0;N<o.jB.length;N++)c.ho.Vs(R,o.jB[N],this.vD[N]);c.ho.Lk(o,Z)}o.dF=!0};c.jC.prototype.eO=function(o,g,C,a,x){if(this.wo==null)return;
this.LE(o);o.b.mE=null;o.dF=!0;this.wo=null;this.AS=null;this.vD=null;this.UD=!1};c.jC.a2j=function(o,g,C,a){var x=o.x,K=o.y,h=[],X=-1,w=[];
for(var N=0;N<a.length;N++){var G=a[N],R=c.ho.Ep(C,G),d=R[0],q=R[1],m=R[2],M=R[3];if(x<d-g||m+g<x||K<q-g||M+g<K)continue;
var Z=[x<d+g,K<q+g,m-g<x,M-g<K],Q=-1;for(var p=0;p<4;p++){if(Z[p]&&Z[p+1&3])Q=1+2*(p&1);if(Z[p])h.push(G,p)}if(Q==-1){if(Z[0]||Z[2])Q=0;
if(Z[1]||Z[3])Q=2}if(Q!=-1){X=Q;w.push(G)}}var y=h.length;for(var N=0;N<y;N+=2){var G=h[N],V=h[N+1],W=c.ho.Ep(C,G)[V];
for(var p=0;p<a.length;p++){var v=a[p];if(w.indexOf(v)!=-1)continue;var R=c.ho.Ep(C,v);if(R[V&1]==W)h.push(v,V&1);
if(R[2+(V&1)]==W)h.push(v,2+(V&1))}}h.push(X);return h};c.KR=function(){c.vk.call(this,[10,44],c.h4,"tools/oselect");
this.A8="crosshair";this.a26=0};c.KR.prototype=new c.vk;c.KR.prototype.eb=function(o,g,C,a){if(Math.random()<1/(1+this.a26)){alert("The cross should be fully inside the object.",3500);
this.a26++}};c.KR.prototype.y8=function(o,g,C,a){c.yj.L5(o,c.vk.C7,this.s0);if(!a.H3||!this.Jt)return;
var x=this.QR(o,C,!1),K=x.m,h=x.n,X=x.x,w=x.y,G=x.x+K,R=x.y+h,d=X+K/2,q=w+h/2,m=c.KR.aj5;o.b.IQ={w:[X,w,G,w,G,R,X,R,d-K*m,q,d+K*m,q,d,q-h*m,d,q+h*m],G:"M L L L Z M L M L".split(" ")};
o.dF=!0};c.KR.aj5=.12;c.KR.prototype.bX=function(o,g,C,a){o.b.IQ=null;o.dF=!0;this.finish(o,g,C,a)};
c.KR.prototype.getSelection=function(o,g,C,a){if(this.VZ.$s(this.Qv)||!this.Jt)return null;var x=this.QR(o,C,!1),K=o.g[o.A[0]];
if(x.to()||!x.fp(K.rect))return null;return c.vk.GM("ObSl",x)};c.yj=function(){c.de.call(this,[10,37],c.wg,"tools/qselect");
this.$M="qselect"};c.yj.prototype=new c.de;c.yj.prototype.xA=function(o,g,C,a,x){c.yj.L5(o,c.vk.C7,g,!0);
this.t6(o,C,a,x,1);if(this.gi==null)return;this.R_(o)};c.yj.prototype.kh=function(o,g,C,a,x){this.qq(o,g,C);
c.yj.L5(o,c.vk.C7,g);if(this.MY)this.Ec(o,C,x);if(this.gi==null)return;if(!x.H3)return;var K=this.x$(o,C,a,x);
if(K!=1)this.R_(o)};c.yj.L5=function(o,g,C,a){if(o&&g.key!=c.yj.Wz(o)){g.key=c.yj.Wz(o);var x=o.g[o.A[0]].rect.$(),h="Image Analysis ...";
if(x==0)return;var K=x>1e6&&a!=!0,X=new jO(D.E.X,!0);X.data={C:D.t.a9,eG:h};if(K)C.c(X);var w=function(){var G=c.yj.a4m(o);
for(var R in G)g[R]=G[R];var X=new jO(D.E.X,!0);X.data={C:D.t.y7,eG:h};if(K)C.c(X)};if(a)w();else setTimeout(w,30)}};
c.yj.Wz=function(o){var g=o.A[0],C=o.g[g],a=C.rect,x=a.m,K=a.n,h=x*K,X=C.buffer;return[g,a.x,a.y,x,K,X[0],X[1],X[2],X[3]].join(",")};
c.yj.a4m=function(o){var g=o.A[0],C=o.g[g],a=C.rect,x=a.m,K=a.n,h=x*K,X=C.buffer,w=Date.now(),G=l.Z(h);
G.fill(128);var R=l.Lb.Ju(X,x,K);console.log(Date.now()-w);var d={key:c.yj.Wz(o),u1:X,rect:a.clone(),MI:x,fB:K,lI:12,a96:!1,tz:G,QU:R,_:l.Z(h),QO:null,Zf:null,Sr:null};
c.yj.LY(d);return d};c.yj.LY=function(o,g){var C=o.MI,a=o.fB,x=0,K=0,h=Date.now(),X=o.QO!=null&&l.Lb.a8K(o.QU.Wn,o.QO.Wn,o.QO.IK,o.tz);
x=Date.now()-h;h=Date.now();if(!X&&!o.a96){o.QO=l.Lb.Eh(o.QU,C,a,o.tz,o.lI);if(!l.Lb.a8K(o.QU.Wn,o.QO.Wn,o.QO.IK,o.tz)){o.a96=!0;
console.log("conflict")}o.Zf=l.Lb.ats(o.u1,C,a,o.QO.Wn,o.QO.IK);o.Sr=[o.Zf[0].slice(0),[]];K=Date.now()-h;
h=Date.now()}var h=Date.now();if(g){o.Sr[0].set(o.Zf[0]);var w=o.Zf[1],G=o.Sr[1];for(var R=0;R<w.length;
R++)G[R]=w[R].slice(0);l.Lb.ac8(o.QO.Wn,C,a,o.QO.IK,o.tz,o._,o.Sr)}};c.fh=function(){c.rr.call(this,[10,50],c.Uo,"tools/artb");
this.J0=null;this.aA=!1;this.mi=null;this.vp=!1;this.aqR=null;this.J2=100;this.cS=null;this.h$=0};c.fh.prototype=new c.rr;
c.fh.prototype.i2=function(o,g,C,a,x){this.kI(C,o.a7Q,g,o.ZY)};c.fh.ahv=function(o,g){var C=o[0],a=0,x=0;
if(C==0)x=-1;else if(C==1)a=1;else if(C==2)x=1;else a=-1;return[20/g.aK,o[1]+a*60/g.aK,o[2]+x*60/g.aK]};
c.fh.prototype.jD=function(o,g,C,a,x){this.J0=o.eA;this.h$=Date.now()};c.fh.prototype.Lu=function(o,g,C,a){if(C.MR!=this.id)return;
if(o==null||o.A.length!=1){this.GQ(o);return}var x=o.A[0],K=o.g[x],h=K.add.artb;if(h==null){this.GQ(o);
return}if(this.vp)return;if(Date.now()-this.h$>50){this.J0={};var X=["artboardBackgroundType","Clr"];
for(var N=0;N<X.length;N++)if(h[X[N]])this.J0[X[N]]=JSON.parse(JSON.stringify(h[X[N]]));var w=new jO(D.E.X,!0);
w.data={C:D.t.Gy,F:this.id,HB:this.J0};g.c(w)}var G=K.zz(),R=l.o.IW(G).w,d=this.mi=new dH(R,!0,!1,!1,!0,!1,3,!1);
d.zf(o,C,!1);var q={w:[1,0],G:["M"]};for(var N=1;N<30;N++){var m=Math.PI*2*N/30;q.w.push(Math.cos(m),Math.sin(m));
q.G.push("L")}q.G.push("Z","M","L","M","L");q.w.push(-.5,0,.5,0,0,-.5,0,.5);var M=G.x+G.m/2,Z=G.y+G.n/2,Q=this.J2*1.1,p=this.aqR=[M,G.y,G.x+G.m,Z,M,G.y+G.n,G.x,Z],y=[0,-Q,Q,0,0,Q,-Q,0],V=o.root.children;
o.b.Zd=[];for(var N=0;N<4;N++){var W=new eN(p[N*2]+y[N*2],p[N*2+1]+y[N*2+1]),v=!1;for(var j=0;j<V.length;
j++){var K=V[j].l;if(K.add.artb==null)continue;var G=K.zz();if(G.Yo(W))v=!0}if(v){p[N*2]=1e9;continue}o.b.Zd.push([N,p[N*2],p[N*2+1]])}};
c.fh.prototype.disable=function(o,g,C,a,x){this.GQ(o)};c.fh.prototype.GQ=function(o){if(this.mi){this.mi.clear(o);
this.mi=null;o.b.Zd=null}};c.fh.prototype.xA=function(o,g,C,a,x){this.h$=Date.now();var K=o.u.w2(x.x,x.y),h=this.mi;
if(h){var X=new jO(D.E.q),w=h.a0k(null,K,o,x);if(w<9){this.vp=h.xA(o,C,a,K,null,!0,x);return}else if(h.vs(K)){X.F=c.zO;
X.data={C:"disabAuto"};g.c(X);var G=new jO(D.E.X);G.data={C:D.t.JG,F:c.zO,auz:!0};g.c(G);return}else{var R=-1,d=o.b.Zd;
for(var N=0;N<d.length;N++){var q=c.fh.ahv(d[N],o.u);if(eN.ig(K,new eN(q[1],q[2]))<q[0])R=d[N][0]}if(R!=-1){var m=o.g[o.A[0]].zz(),M=m.clone(),Z=(R==0||R==2?m.n:m.m)+this.J2;
if(R==0||R==3)Z=-Z;if(R==0||R==2)m.y+=Z;else m.x+=Z;if(a.a(c_.LW)){var Q=new aS(0,0,o.m,o.n);X.F=c.qd;
X.data={C:A.XC};g.c(X);c.YV.EI(o,o.TD(null,o.A[0],null,!0),null,m.x-M.x,m.y-M.y);var p=c.ro.dO(o);if(p){var y=o.XW();
y.data.M5=Q;y.data.Ay=p}o.A=y.data.Ok=o.A.slice(o.A.length-1)}else this.kI(o,m,g);return}}}this.cS=c.YV.Pu(o,K,C)};
c.fh.prototype.kI=function(o,g,C,a){if(a==null)a=0;var x=o.g.slice(0),K=[o.g.length+1],h=o.HL();h.XH(fF.get([1,16,0])+" "+(o.add.artd==null?1:o.root.children.length+1));
h.add.lsct=kj.ah;h.xJ(g);if(this.J0){var X=h.add.artb,w=this.J0;for(var G in w)X[G]=w[G]}h.WN="pass";
h.qX=24;if(a==0){if(o.add.artd||g.Kw(new aS(0,0,o.m,o.n)).to())x.push(o.kF());else x.unshift(o.kF())}else{var R=o.TD();
R.sort(function(Z,Q){return Z-Q});var d=c.Nk.PB(o,R,x.length-1,!1,null,!1),q=d.pop(),m=d.pop();x=d.pop();
x.splice(o.g.length-R.length,0,o.kF())}x.push(h);var M=new jO(D.E.q);M.F=c.qd;M.data={C:A.uR,Zk:x,lQ:K,Wm:[1,16,2]};
C.c(M)};c.fh.prototype.kh=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y),h=this.mi,X=this.cS;if(h){if(this.vp){h.kh(o,C,a,K)}else{var w=h.h_(K,o.u.R,null,x);
if(w==null)w="default";var G=new jO(D.E.X,!0);G.data={C:D.t._N,Hz:w};g.c(G)}}if(X){var R=this.Ep(o,K,a,C);
o.b.IQ=l.o.IW(R);o.dF=!0;c.rr.Jj(x,R,o,C)}};c.fh.prototype.eO=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y),h=this.cS;
if(this.vp){this.mi.eO(o,C,a,K);this.vp=!1;var X=l.o.Gw(this.mi.ou()),w=A.xI(X),G=o.g[o.A[0]],R=JSON.parse(JSON.stringify(G.add.artb));
R.artboardRect.v=w;var d=new jO(D.E.q,!0);d.F=c.qd;d.data={C:A.Z2,wt:R};g.c(d)}if(h){var q=this.Ep(o,K,a,C);
if(q.$()>20)this.kI(o,q,g);o.b.IQ=null;o.dF=!0;this.cS=null;o.b.hl=[]}};c.fh.prototype.Ep=function(o,g,C,a){var x=this.cS,K=c.YV.Pu(o,g,a),h=c.CC.MS(x,K,C,!0);
x=h[0];K=h[1];return l.o.Gw([x.x,x.y,K.x,K.y])};function dH(o,g,C,a,x,K,h,X){this.$O=null;this.tv=o?o.slice(0):null;
this.bA=4;this.Qv=null;this.lO=null;this.pD=null;this.zX=-1;this.Rl=null;this.a55=!1;this.akl=[];for(var N=0;
N<8;N++)this.akl.push(bl.a7f(0,PIMG.rotate,-.5,-.5,-45-N*45));this.avs=g;this.avC=C;this.a4z=a;this.ag$=x;
this.fx=K;this.ZY=h;this.anF=X==null?1:X}dH.prototype.as0=function(){return this.zX!=-1};dH.prototype.ou=function(){return this.tv.slice(0)};
dH.prototype.q1=function(o){this.tv=o};dH.prototype.a91=function(){return this.B6(this.tv)};dH.prototype.aa_=function(){return this.bA};
dH.prototype.axn=function(o){this.bA=o};dH.prototype.bJ=function(o){if(o==null)o=this.tv;if(this.bA==9)return this.Qv;
else return this.B6(o)[this.bA]};dH.prototype.aih=function(o){if(this.bA==9)this.Qv=o.clone();else{var g=this.bJ(),C=new kp(1,0,0,1,o.x-g.x,o.y-g.y);
l.o.D(this.tv,C,this.tv)}};dH.prototype.h_=function(o,g,C,a){var x=this.pc(null,o,g,a),K;if(x==9)return"default";
if(x==10){if(C)return null;return!this.avs?"move":null}if(x==-1||x==4)return null;if(x==11){var h=this.bJ().fK(o);
K=90-Math.atan2(h.y,h.x)*180/Math.PI;var X=Math.round(8*(K/360));X=(X+8)%8;return this.akl[X]}else{var w=this.Rm(o,this.tv);
K=[135,90,45,180,0,0,225,270,315][x];var G=l.S.sV(this.tv);K+=Math.atan2(-G[3],G[0])*180/Math.PI;var R="ew nesw ns nwse ew nesw ns nwse".split(" "),X=Math.round(8*(K/360));
X=(X+8)%8;return R[X]+"-resize"}};dH.prototype.Rm=function(o,g){var C=l.S.rq(l.S.sV(g)),a=new Float64Array(2);
l.S.w3(o.x,o.y,C,a);return new eN(a[0],a[1])};dH.prototype.vs=function(o){var g=this.Rm(o,this.tv);return 0<=g.x&&g.x<=1&&0<=g.y&&g.y<=1};
dH.prototype.xA=function(o,g,C,a,x,K,h,X){this.a55=K;this.Rl=a;var w=o.u.R,G;if(this.tv==null)a=c.YV.Pu(o,a,g);
this.pD=a.clone();if(this.tv==null){if(X==null)X=0;var R=new kp;R.rotate(X);var d=R.nx(new eN(1,1));
this.pD.offset(d.x,d.y);var q=x==null?1:1/x,m=this.tv=[0,0,1,0,1,q,0,q];R.translate(a.x,a.y);l.o.D(this.tv,R,this.tv);
G=8}else{G=this.pc(C,a,w,h);if(0<=G&&G<=8)this.pD=this.B6(this.tv)[G];if(G==9){this.bA=9;this.Qv=a.clone()}}this.$O=this.tv.slice(0);
this.zX=G;this.zf(o,g);this.lO=this.bJ();return G!=-1};dH.prototype.a0k=function(o,g,C,a){return this.pc(o,g,C.u.R,a)};
dH.prototype.pc=function(o,g,C,a){var x=-1,K=this.B6(),h=[0,2,6,8,1,3,5,7],X=a?c.YD({u:{R:C}},a):8*c.r()/C;
if(x==-1)if(eN.ig(this.bJ(),g)<X)x=9;if(x==-1)for(var N=0;N<h.length;N++)if(eN.ig(K[h[N]],g)<X)x=h[N];
if(x==-1&&o&&o.a(c_.LW))x=9;if(x==-1||this.ZY==4){if(this.vs(g)){if(this.avs)x=10}else{var w=this.Rm(g,this.tv),G=new aS(0,0,1,1);
G.Uj(.2,.2);x=G.Yo(w)&&this.ZY!=3?11:10}}return x};dH.prototype.kh=function(o,g,C,a){if(this.zX==-1)return;
this.Rl=a;var x=C.a(c_.sH),K=C.a(c_.LW),h=C.a(c_.Ns),X=o.u.R,w=this.pD,G=this.zX,R=this.B6(),d=c.YV.Pu(o,w,g),q=c.YV.Pu(o,a,g),m,M;
if(G==9){var R=this.B6(),Z=-1;for(var N=0;N<R.length;N++)if(eN.ig(R[N],q)*X<10)Z=N;this.bA=Z==-1?9:Z;
this.Qv=x?c.Wt.kp(d,q):q.clone()}else if(G==10){M=l.o.TO(this.$O);var Q=M.x,p=M.y;M.offset(a.x-w.x,a.y-w.y);
if(this.a3E()){M.x=Math.round(M.x);M.y=Math.round(M.y)}m=c.YV.k6(o,M,g);var y=new kp(1,0,0,1,M.x-Q+m[0],M.y-p+m[1]);
l.o.D(this.$O,y,this.tv)}else if(G==11){var V=this.bJ(this.$O),W=V.fK(a),v=V.fK(w),j=Math.atan2(W.y,W.x),e=Math.atan2(v.y,v.x),y=new kp(1,0,0,1,-V.x,-V.y),T=Math.PI/12;
if(x)y.rotate(Math.round((e-j)/T)*T);else y.rotate(e-j);y.translate(V.x,V.y);l.o.D(this.$O,y,this.tv)}else{var O,L=this.$O,S=G==0||G==2||G==6||G==8;
if(this.ZY==1){if(S)x=K=h=!0}else if(this.ZY==2&&S&&this.a55!=!0)h=!0;if(this.ZY==3)h=!1;if(this.a4z&&S&&h){var N=[0,0,2,0,0,0,6,0,4,0][G],$=-1,H=q.x,f=q.y;
if(x){var F=N+6&7,U=N+10&7,r=dH.anw(L[N],L[N+1],L[F],L[F+1],q.x,q.y),E=dH.anw(L[N],L[N+1],L[U],L[U+1],q.x,q.y),k=r[2]<E[2]?r:E;
H=k[0];f=k[1];if(K)$=r[2]<E[2]?F:U}else if(K)$=N+4&7;O=L.slice(0);if($!=-1){var P=L[$],z=L[$+1],s=(L[N]+P)/2,Y=(L[N+1]+z)/2;
O[$]=s-(H-s);O[$+1]=Y-(f-Y)}O[N]=H;O[N+1]=f}else if(S&&K){var V=this.lO,t=V.x,n=V.y,J=d.x-t,I=d.y-n,fp=1,cH=1;
if(Math.abs(J)>=1)fp=(q.x-t)/J;if(Math.abs(I)>=1)cH=(q.y-n)/I;if(x||this.fx)fp=cH=(fp+cH)/2;var y=new kp;
y.translate(-t,-n);y.scale(fp,cH);y.translate(t,n);O=L.slice(0);l.o.D(O,y,O)}else{if(this.a3E()){q.x=Math.round(q.x);
q.y=Math.round(q.y)}var b=[0,1,2,5,8,7,6,3],jL=b[(b.indexOf(G)+4)%8],aq=[];for(var N=0;N<3;N++)for(var $=0;
$<3;$++)aq.push(new eN($/2,N/2));var V=this.lO,cJ=this.Rm(q,L),aB=this.Rm(w,L),au=K&&(this.bA==4||this.bA==9)?this.Rm(V,L):aq[jL],ea=new kp,ax=new kp,fp=(cJ.x-au.x)/(aB.x-au.x);
if(fp==0)fp=1e-4;var cH=(cJ.y-au.y)/(aB.y-au.y);if(cH==0)cH=1e-4;if(this.ag$){fp=Math.max(fp,0);cH=Math.max(cH,0)}if(G==0||G==2||G==6||G==8){if(x||this.fx)ea.scale(fp,fp);
else ea.scale(fp,cH)}if(G==1||G==3||G==5||G==7){var f1=this.fx;if(G==1||G==7)ea.scale(f1?cH:1,cH);else ea.scale(fp,f1?fp:1);
if(this.avC&&h){if(G==1||G==7)ax.U9=(cJ.x-au.x)/(cJ.y-au.y);else ax.K=(cJ.y-au.y)/(cJ.x-au.x)}}var y=new kp;
y.translate(-au.x,-au.y);y.concat(ea);y.concat(ax);y.translate(au.x,au.y);O=[0,0,1,0,1,1,0,1];l.o.D(O,y,O);
var k=l.S.sV(L);l.S.D(k,O)}if(dH.PG(O))this.tv=O}this.zf(o,g);if(m)c.YV.QB(o,M,m)};dH.anw=function(o,g,C,a,x,K){var h=C-o,X=a-g,w=x-o,G=K-g,R=h*h+X*X,d=w*h+G*X,q=d/R,m=o+q*h,M=g+q*X,Z=x-m,Q=K-M;
return[m,M,Math.sqrt(Z*Z+Q*Q)]};dH.prototype.a3E=function(){var o=this.tv;return Math.abs(o[1]-o[3])<1e-6&&Math.abs(o[2]-o[4])<1e-6||Math.abs(o[0]-o[2])<1e-6&&Math.abs(o[3]-o[5])<1e-6};
dH.PG=function(o){return l.o.WJ(o)||l.o.WJ([o[6],o[7],o[4],o[5],o[2],o[3],o[0],o[1]])};dH.prototype.eO=function(o,g,C,a){this.zX=-1;
this.Rl=null;o.b.mE=null;o.b.hl=[];o.dF=!0};dH.prototype.Uh=function(o,g,C){var a=C.c4();if(a.x||a.y){var x=new kp(1,0,0,1,a.x,a.y);
l.o.D(this.tv,x,this.tv);this.zf(o,g);return!0}return!1};dH.prototype.B6=function(o){if(o==null)o=this.tv;
var g=o[6]-o[0],C=o[7]-o[1],a=o[4]-o[2],x=o[5]-o[3],K=[o[0],o[1],o[2],o[3],o[0]+g/2,o[1]+C/2,o[2]+a/2,o[3]+x/2,o[6],o[7],o[4],o[5]],h=[];
for(var N=0;N<3;N++){var X=N*4,w=K[X+0],G=K[X+1],R=K[X+2],d=K[X+3];h.push(new eN(w,G));h.push(new eN(w+(R-w)/2,G+(d-G)/2));
h.push(new eN(R,d))}return h};dH.prototype.zf=function(o,g,C){if(C==null)C=!1;var a=this.B6(),x=a[0],K=a[2],h=a[6],X=a[8];
o.b.IQ={G:[],w:[]};o.b.IQ.G.push("M","L","L","L","Z");o.b.IQ.w.push(x.x,x.y,K.x,K.y,X.x,X.y,h.x,h.y);
var w=this.anF;if(w>1){var G=K.fK(x),R=h.fK(x),d=X.fK(K),q=X.fK(h);for(var N=1;N<w;N++){o.b.IQ.G.push("M","L","M","L");
var m=N/w;o.b.IQ.w.push(x.x+G.x*m,x.y+G.y*m,h.x+q.x*m,h.y+q.y*m);o.b.IQ.w.push(x.x+R.x*m,x.y+R.y*m,K.x+d.x*m,K.y+d.y*m)}}o.u.N5=new aS(0,0,eN.ig(a[0],a[2]),eN.ig(a[0],a[6]));
if(this.zX!=-1&&this.zX<9&&this.Rl){var M=o.u.Er(this.Rl.x,this.Rl.y);c.rr.Jj(M,o.u.N5,o,g)}if(!C){o.b.rM=[];
for(var N=0;N<a.length;N++)if(N!=4)o.b.rM.push(a[N].x,a[N].y);var Z=this.bJ();o.b.rM.push(Z.x,Z.y)}o.dF=!0};
dH.prototype.clear=function(o){o.u.N5=null;o.b.mE=null;o.b.IQ=null;o.b.rM=[];o.dF=!0};function cX(o,g){this.X0=null;
this.zX=-1;this.abS(o)}cX.prototype.Vh=function(){return JSON.parse(JSON.stringify(this.X0))};cX.prototype.abS=function(o){this.X0=JSON.parse(JSON.stringify(o))};
cX.prototype.vs=function(o){return!0};cX.prototype.h_=function(o,g,C,a){var x=this.pc(o,g,a);if(x==-1)return"default";
return"pointer"};cX.prototype.xA=function(o,g,C,a,x,K,h){this.zX=this.pc(a,o.u.R,h);return this.zX!=-1};
cX.prototype.pc=function(o,g,C){var a=this.aje(),x=-1,K=1e6;for(var N=0;N<a.length;N++){var h=eN.ig(a[N],o);
if(h<K){x=N;K=h}}return K<(C?c.YD({u:{R:g}},C)*2:20*c.r()/g)?x:-1};cX.prototype.kh=function(o,g,C,a){if(this.zX==-1)return;
var x=o.u.R,K=this.zX,h=l.X0.Nw(this.X0);h[K*2]=a.x;h[K*2+1]=a.y;l.X0.r$(h,this.X0)};cX.prototype.eO=function(o,g,C,a){this.zX=-1;
o.dF=!0};cX.prototype.Uh=function(o,g,C){var a=C.c4();if(a.x||a.y){var x=new kp(1,0,0,1,a.x,a.y);l.o.D(this.tv,x,this.tv);
this.zf(o)}};cX.prototype.aje=function(o){var g=l.X0.Nw(this.X0),C=[];for(var N=0;N<g.length;N+=2)C.push(new eN(g[N],g[N+1]));
return C};cX.prototype.zf=function(o){var g=this.aje();o.b.IQ={G:[],w:[]};o.b.IQ.G.push("M","C","C","C","C");
var C=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var N=0;N<C.length;N++)o.b.IQ.w.push(g[C[N]].x,g[C[N]].y);
o.b.IQ.G.push("M","L","L","M","L","L","M","L","L","M","L","L");C=[4,0,1,2,3,7,11,15,14,13,12,8];for(var N=0;
N<C.length;N++)o.b.IQ.w.push(g[C[N]].x,g[C[N]].y);o.b.rM=[];for(var N=0;N<g.length;N++)o.b.rM.push(g[N].x,g[N].y);
o.dF=!0};cX.prototype.clear=function(o){o.b.IQ=null;o.b.rM=[];o.dF=!0};function bo(){this.rh=!1;this.lY=!1;
this.amd=!1;this.a8m=!1;this.Nx=!1;this.dW=!1;this.BI=0;this.N9=0}bo.prototype.xA=function(o){this.rh=!0;
this.lY=!1;this.Nx=o.a(c_.sH);this.dW=o.a(c_.LW);this.BI=this.Nx?0:1;this.N9=this.dW?0:1};bo.prototype.Uh=function(o){var g=this.a8m=o.a(c_.sH),C=this.amd=o.a(c_.LW);
if(this.lY){if(this.BI==0&&!g)this.BI++;if(this.BI==1&&g)this.BI++;if(this.N9==0&&!C)this.N9++;if(this.N9==1&&C)this.N9++}};
bo.prototype.kh=function(){this.lY=!0};bo.prototype.eO=function(){this.rh=!1};bo.prototype.Xo=function(N){if(N==0)return this.rh?this.dW:this.amd;
if(N==1)return this.lY?this.N9==2:!1};bo.prototype.iX=function(N){if(N==0)return this.rh?this.Nx:this.a8m;
if(N==1)return this.lY?this.BI==2:!1};c.History=function(){c.rr.call(this,"History",c.DY);this.sG=!0;
this.ajz=0};c.History.prototype=new c.rr;c.History.prototype.i2=function(o,g,C,a){C.b0=!0;if(o.C=="h_itemchange"){if(o.index<C.za)for(var N=C.za;
N>o.index;N--)this.c_(C);if(o.index>C.za)for(var N=C.za;N<o.index;N++)this.LJ(C)}if(o.C=="h_stepfwd")this.LJ(C);
if(o.C=="h_stepbck")this.c_(C);if(o.C=="h_undoredo"){var x=this.sG||this.ajz!=C.za;if(x){this.c_(C);
x=!1}else{this.LJ(C);x=!0}this.sG=x;this.ajz=C.za}if(o.C=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
C.history=[new dC([1,0],null)];C.za=0}else this.sG=!0};c.History.prototype.c_=function(o){if(o.za==0)return;
var g=o.history[o.za];g.F.Op(g.data,o);o.za--};c.History.prototype.LJ=function(o){if(o.za==o.history.length-1)return;
var g=o.history[o.za+1];g.F.SW(g.data,o);o.za++};c.Nk=function(){c.rr.call(this,"Layers",c.qd);this.s0=null};
c.Nk.prototype=new c.rr;c.Nk.prototype.i2=function(o,g,C,a,x){this.s0=g;var K=o.C,h=o.l!=null?o.l:C.A.length!=0?C.A[0]:C.g.length-1,X=C.g[h];
C.n6=!0;var w=a.a(c_.LW),G=a.a(c_.sH),R=a.a(c_.Ns);if(K==A.j9&&C._==null&&(C.A.length>1||!C.zj(!1)))K=A.XC;
if(K==A.Eq){var d=new dC([6,33],this),q=X.sP()?["pass"].concat(cP.CH):cP.CH,m=q[o.kq],M=o.l!=null?[o.l]:C.A,Z=JSON.stringify(M),Q=[];
for(var N=0;N<M.length;N++)Q.push(C.g[M[N]].WN);d.data={C:K,IA:Z,NK:Q,kq:m};C.zn(d);this.SW(d.data,C);
this.track(kn.Ft("Md",{t:"enum",v:{BlnM:cP.Cw(m)}}))}if(K==A.D9){var d,p=C.XW(),M=o.l!=null?[o.l]:C.A,Z=JSON.stringify(M);
if(p&&p.data&&p.data.C==K&&p.data.IA==Z)d=p;else{var y=kn.Ft("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(y);var Q=[];for(var N=0;N<M.length;N++)Q.push(C.g[M[N]].opacity);d=new dC([6,32],this);d.data={C:K,IA:Z,NK:Q,kq:o.kq,Pq:y.FS};
C.zn(d)}d.data.kq=o.kq;d.data.Pq.T.v.Opct.v.val=Math.round(o.kq*100/255);this.SW(d.data,C)}if(K==A.fH){if(X.add.iOpa==null)X.add.iOpa=255;
var d,p=C.XW();if(p&&p.data&&p.data.C==K&&p.data.l==h)d=p;else{d=new dC("Fill Opacity Change",this);
d.data={C:K,l:h,NK:X.add.iOpa,kq:o.kq};C.zn(d)}d.data.kq=o.kq;this.SW(d.data,C)}if(K==A.Tg){var V=o.kq,W=o.l!=null?[o.l]:C.A.slice(0),v=[],j=[],d;
for(var e=0;e<W.length;e++){var T=C.g[W[e]];if(T.add.lspf==null)T.add.lspf=0;var Q=T.add.lspf,m=Q;for(var N=0;
N<V[0].length;N++){var O=V[1][N],L=1<<O;if((m&L)==0&&V[0][N])m^=L;else if((m&L)!=0&&!V[0][N])m^=L}v.push(Q);
j.push(m)}var p=C.XW(),M=JSON.stringify(W);if(p&&p.data&&p.data.C==K&&JSON.stringify(p.data.IA)==M){d=p;
d.data.kq=j}else{var d=new dC([6,57,1],this);d.data={C:K,IA:M,NK:v,kq:j};C.zn(d)}this.SW(d.data,C)}if(K==A.DL){var S="----",$=o.JS,m=null;
for(var N=0;N<d4.bb.m5.length;N++)if(X.add[d4.bb.m5[N]])S=d4.bb.m5[N];var H=X.add[S];if($=="TySh")m=bv.hT(50,50,x.iq);
var d=new dC("Layer Type",this);d.data={C:K,l:h,awB:[S,H],JS:[$,m]};C.zn(d);this.SW(d.data,C)}if(K==A.Jb){var W=[];
if(w){var f=C.XW(),F=f?f.data:null;if(f!=null&&f.F==this&&F.C==A.Jb&&F.IA.length!=1){var U=new jO(D.E.q);
U.F=c.DY;U.data={C:"h_stepbck"};g.c(U);if(F.l==h)return}var r=C.root.V0(h),E=C.TD(null,h);while(r.parent!=C.root){E.push(r.parent.index);
r=r.parent}for(var N=0;N<C.g.length;N++){var k=C.g[N],P=k.aL(),z=E.indexOf(N)!=-1;if(!z&&P)W.push(N);
if(N==h&&!P)W.push(N)}}else if(o.IA)W=o.IA;else{W.push(h);var P=C.g[h].aL(),y={j7:P?"hide":"show",FS:{classID:P?"Hd":"Shw",null:{t:"VlLs",v:[kn.C8("Lyr",!0)]}}};
this.track(y)}var d=new dC("Layer visibility",this,!0);d.data={C:K,IA:W,l:h};C.zn(d);this.SW(d.data,C)}if(K==A.Cy){if(x.MR==c.Uo){var s=new jO(D.E.X);
s.data={C:D.t.JG,F:c.zO};g.c(s)}var Y=o.alW,t=o.hi,I,escape=!1,jL=!1;if(o.B4){if(R&&(t==0||t==1||t==2)){var n=0;
if(G)n++;if(w)n+=2;var J=new jO(D.E.q,!0);J.F=c.pn;J.data={C:"fromlayer",d2:[o.l,t,n]};g.c(J);return}}var y={j7:"select",FS:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(C.u.dp.join("")!="111"){C.u.dp=[1,1,1];C.dF=!0}for(var N=0;N<C.g.length;N++){var k=C.g[N],fp=k.add.vmsk;
if(k.xT()){var cH=k.WW(C);if(cH&&cH.d&&cH.d.nR){cH.d.nR=!1;C.dF=!0}}var b=k.KN();if(b&&b.nR){b.nR=!1;
C.dF=!0}if(fp){if(fp.A.length!=0)fp.A=[];if(fp.EP.length!=0)fp.EP=[]}}if(a.a(c_.Ns)||o.K0==0){var aq=C.A.indexOf(h);
if(aq==-1)C.A.push(h);else if(C.A.length>1){if(o.K0!=0)C.A.splice(aq,1)}C.A.sort(function(d,ii){return d-ii});
y.FS.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};I=h}else if(G&&!w&&t>0){K=t==1?A.NV:t==2?A.RI:A.Ah;
escape=!0}else if((G||o.K0==1)&&C.A.length>0){var cJ=Math.min(h,C.A[0]),aB=Math.max(h,C.A[C.A.length-1]);
C.A=[];for(var N=cJ;N<=aB;N++)if(C.g[N].add.lsct!=kj.bH)C.A.push(N);y.FS.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
I=h}else{I=h;if(h>=C.g.length)return;var k=C.g[h];if(k&&k.sP()&&o.a4q)k.add.lsct=kj.ah;else if(C.A.length==1&&C.A[0]==h&&Math.max(0,t)==k.U3){jL=!0;
C.n6=!1}if(!jL){C.A=[h];C.SU()}}if(!jL){if(I!=null&&I<C.g.length){y.FS.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:C.g[I].getName()}}]},this.track(y)}if(!escape){console.log("no escape");
if(C.A.length==1){var au=C.A[0];for(var N=0;N<C.g.length;N++){if(N==au)continue;var T=C.g[N];T.U3=0;
T.$u=!1}var X=C.g[au];if(t==2){X.$u=!X.$u;C.AW=[]}else if(X){X.U3=t<=0?0:t}}else for(var N=0;N<C.g.length;
N++){var T=C.g[N];T.U3=0;T.$u=!1}C.ls=null;C.b0=!0}}if(o.B4&&w){if((t==1||t==3)&&Y!=null){var J=new jO(D.E.q,!0);
J.F=c.SL;J.data={C:"mskView",k:Y!=0?0:G?1:2};g.c(J)}else{this.i2({C:A.zG,l:o.l},g,C,a,x)}}}if(K==A.NV||K==A.Ah){var ea=K==A.NV,ax=ea?X.KN():X.WW(C).d;
if(ax==null)return;var d=new dC(ax.isEnabled?ea?[6,15]:[6,42]:ea?[6,14]:[6,41],this);d.data={C:K,l:h};
C.zn(d);this.SW(d.data,C)}if(K==A.RI){var ax=X.add.vmsk;if(ax==null)return;var d=new dC(ax.isEnabled?[6,17]:[6,16],this);
d.data={C:K,l:h};C.zn(d);this.SW(d.data,C)}if(K==A.auZ){var f1=X.add.lsct==kj.ah?kj.vz:kj.ah;if(a.a(c_.Ns)){var fk=C.root.V0(C.g.indexOf(X)).parent;
for(var N=0;N<fk.children.length;N++){var hF=fk.children[N].l;if(hF.sP())hF.add.lsct=f1}}else X.add.lsct=f1;
C.b0=!0}if(K==A.zG){if(!C.nG(h))return;var d=new dC(X.tN?[6,19]:[6,18],this);d.data={C:K,l:h};C.zn(d);
if(o.kq==null||o.kq!=X.tN)this.SW(d.data,C)}if(K==A.atJ){if(X.l9())X.qX-=32;else X.qX+=32;C.b0=!0}if(K==A.RM||K==A._f){var d;
if(K==A.RM)d=new dC(X.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(K==A._f)d=new dC(X.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
d.data={C:K,l:h};C.zn(d);this.SW(d.data,C)}if(K==A.e1||K==A.kd){var au=o.index,d;if(K==A.e1)d=new dC(X.add.lmfx[hf.l8[au[0]]].v[au[1]].v.enab.v?[6,30]:[6,29],this);
if(K==A.kd)d=new dC(X.add.SoLd.filterFX.v.filterFXList.v[au].v.enab.v?[6,44]:[6,43],this);d.data={C:K,l:h,index:o.index};
C.zn(d);this.SW(d.data,C)}if(K==A.G3){if(o.src==o.vf)return;var fm=C.g[o.src],jE=C.g[o.vf],ff=fm.add.lmfx?JSON.stringify(fm.add.lmfx):"",d5=jE.add.lmfx?JSON.stringify(jE.add.lmfx):"";
if(jE.add.lmfx==null){jE.add.lmfx=JSON.parse(hf.default);for(var N=0;N<hf.order.length;N++)jE.add.lmfx[hf.l8[N]]={t:"VlLs",v:[]}}if(o.Im==null){jE.add.lmfx=JSON.parse(ff);
if(!w)delete fm.add.lmfx}else{var eF=o.Im[0],gI=hf.l8[eF];if(hf.aln.indexOf(hf.order[eF])==-1)jE.add.lmfx[gI].v=[];
jE.add.lmfx[gI].v.push(fm.add.lmfx[gI].v[o.Im[1]]);if(!w)fm.add.lmfx[gI].v.splice(o.Im[1],1)}var fE=fm.add.lmfx?JSON.stringify(fm.add.lmfx):"",js=jE.add.lmfx?JSON.stringify(jE.add.lmfx):"";
if(!jE.l9())jE.qX+=32;var d=new dC("Move Layer Styles",this);d.data={C:K,di:o.src,YC:o.vf,ajG:ff,aqu:d5,a74:fE,as_:js};
C.zn(d);this.SW(d.data,C)}if(K==A.fV){if(o.src!=null)h=o.src;var T=C.g[h],d8=JSON.stringify(T.add.SoLd),bt=JSON.parse(d8),io=bt.filterFX.v.filterFXList.v;
io.splice(o.Im,1);var d=new dC([6,53],this);d.data={C:A.TU,tI:[{IF:h,DW:[d8,JSON.stringify(bt)]}]};C.zn(d);
this.SW(d.data,C)}if(K==A.aj$){var ha=w,fm=C.g[o.src],jE=C.g[o.vf],dp=[];if(fm!=jE&&jE.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(fm==jE&&!ha&&(o.Im==o.Bg||o.Im==-1))return;var gS=fm.WW(C),d8=JSON.stringify(fm.add.SoLd),bt=JSON.parse(d8),io=bt.filterFX.v.filterFXList.v;
if(fm==jE){io.splice(o.Bg,0,io[o.Im]);if(!ha)io.splice(o.Im+(o.Im<o.Bg?0:1),1);dp.push({IF:o.src,DW:[d8,JSON.stringify(bt)]})}else if(o.Im==-1){var aP=bt.filterFX;
if(!ha){delete bt.filterFX;dp.push({IF:o.src,DW:[d8,JSON.stringify(bt)],Gv:[gS,null]})}var gD=jE.xT()?jE.WW(C):null,fA=aX.asc(gS),jH=JSON.stringify(jE.add.SoLd),aM=JSON.parse(jH);
aM.placed.v=fA.id;aM.filterFX=aP;dp.push({IF:o.vf,DW:[jH,JSON.stringify(aM)],Gv:[gD,fA]})}else{var jc=io[o.Im];
if(!ha){io.splice(o.Im,1);dp.push({IF:o.src,DW:[d8,JSON.stringify(bt)]})}var jH=JSON.stringify(jE.add.SoLd),aM=JSON.parse(jH);
if(aM.filterFX==null)aM.filterFX=hb.pG();var eQ=aM.filterFX.v.filterFXList.v;eQ.splice(o.Bg,0,jc);var j1={IF:o.vf,DW:[jH,JSON.stringify(aM)]};
if(!jE.xT()){var fA=aX.aex(jE.add.SoLd.placed.v);j1.Gv=[null,fA]}dp.push(j1)}var d=new dC([6,52],this);
d.data={C:A.TU,tI:dp};C.zn(d);this.SW(d.data,C)}if(K==A.Lx){var ax=X.KN(),d=new dC(ax.j3?[6,26]:[6,25],this);
d.data={C:K,l:h};C.zn(d);this.SW(d.data,C);this.track({j7:"set",FS:{classID:"setd",null:{t:"obj ",v:[kn.C8("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:ax.j3}}}}})}if(K==A.gG){var ax=X.add.vmsk,d=new dC(ax.j3?[6,28]:[6,27],this);
d.data={C:K,l:h};C.zn(d);this.SW(d.data,C)}if(K==A.vK){var d=new dC("Variables / Datasets",this),i7=JSON.stringify([C.fU,C.XO]);
if(i7==o.k)return;d.data={C:K,a1u:i7,a5S:o.k};C.zn(d);this.SW(d.data,C)}if(K==A.x6){var fT=[],d;for(var N=0;
N<C.A.length;N++){var e=C.A[N],k=C.g[e];if(k.add.vogk)fT.push(e,JSON.stringify(k.add.vogk))}for(var N=0;
N<C.AW.length;N++){var e=C.AW[N],k=C.eJ[e];if(k.add.vogk)fT.push(-1-e,JSON.stringify(k.add.vogk))}l.vm.akg(C,o.k);
var hy=[];for(var N=0;N<C.A.length;N++){var e=C.A[N],k=C.g[e];if(k.add.vogk)hy.push(e,JSON.stringify(k.add.vogk))}for(var N=0;
N<C.AW.length;N++){var e=C.AW[N],k=C.eJ[e];if(k.add.vogk)hy.push(-1-e,JSON.stringify(k.add.vogk))}var p=C.XW();
if(p&&p.data&&p.data.C==K){var hJ=!0;for(var N=0;N<fT.length;N+=2)if(fT[N]!=p.data.Te[N])hJ=!1;if(hJ){d=p;
d.data.yv=hy}}if(d==null){var d=new dC([12,91,1],this);d.data={C:K,Te:fT,yv:hy};C.zn(d)}this.SW(d.data,C)}if(K==A.Z2){var db=JSON.stringify(X.add.artb),jK=JSON.stringify(o.wt),d;
C.g[h].add.artb=JSON.parse(jK);var dM=new aS(0,0,C.m,C.n),eW=c.ro.$$(C),p=C.XW();if(p&&p.data&&p.data.C==K&&p.data.l==h){d=p;
d.data.wt=jK}if(d==null){var d=new dC("Editing Artboard",this);d.data={C:K,l:h,adE:db,wt:jK,M5:dM};C.zn(d)}d.data.Ay=eW;
this.SW(d.data,C)}if(K==A.W9){var hy=C.JH.slice(0),ip=C.Ix.slice(0),fS=C._,hS=C._;if(o.JI=="fromAction"){var bB=o.k.j7,g_=o.k.FS;
if(bB=="make"||bB=="duplicate"){var e4=hy.length,jC=!1,i4=!1;if(C.Sh())e4--;var e0=new A.QX;e0.name="Alpha "+(e4+1);
if(bB=="make"){var hO=g_.Nw.v;e0.color=255;ip=[e4];e0.nR=!0;e0.Zj=hO.Opct.v;if(hO.Nm)e0.name=hO.Nm.v;
if(hO.classID=="SCch"){jC=!0;hS=null;e0.a0=1}}else{var eq=g_.null.v[0].v;if(eq.keyID=="fsel")jC=!0;else{var ig=c.vk.alv(C);
hS=c.vk.amZ(C,ig);e0.color=0;e0.rect=hS.rect;e0.channel=hS.channel}}if(jC){e0.color=0;if(C._){e0.rect=C._.rect.clone();
e0.channel=C._.channel.slice(0)}if(i4){e0.color=255-e0.color;l.rq(e0.channel)}}hy.splice(e4,0,e0)}else if(bB=="delete"){if(X&&X.KN()&&X.U3==1){this.i2({C:A.M1},g,C,a,x);
return}var E=C.Ix;E.sort(function(d,ii){return ii-d});if(E.length==0)return;for(var N=0;N<E.length;N++)hy.splice(E[N],1);
ip=[]}else if(bB=="hide"){hy[ip[0]]=hy[ip[0]].clone();hy[ip[0]].nR=!1}}if(o.JI=="rnm"){hy[o.XE]=hy[o.XE].clone();
hy[o.XE].name=o.name}var d=new dC("Channel Edit",this);d.data={C:K,Te:C.JH.slice(0),az:C.Ix.slice(0),yv:hy,kw:ip,sh:fS,lQ:hS};
this.SW(d.data,C);C.zn(d)}if(K==A.uR){var bc=new aS(0,0,C.m,C.n),d=new dC(o.Wm,this);d.data={C:A.uR,XK:C.g.slice(0),Zk:o.Zk,gW:C.A.slice(0),Ok:o.lQ};
C.zn(d);this.SW(d.data,C);var aa=c.ro.dO(C);if(aa){d.data.M5=bc;d.data.Ay=aa}}if(K==A.pr){var cn=C.TD(null,o.l),hY=1e10;
if(cn.length==0)return;if(C.g.length==cn.length){alert("Project must have at least 1 layer");return}var iu=[];
for(var N=0;N<C.g.length;N++)if(cn.indexOf(N)==-1)iu.push(C.g[N]);for(var N=0;N<cn.length;N++)hY=Math.min(hY,cn[N]);
hY=Math.max(hY-1,0);while(iu[hY].name=="</Layer group>")hY++;this.track({j7:"delete",FS:{classID:"Dlt",null:kn.C8("Lyr",!0)}});
var dM=new aS(0,0,C.m,C.n),d=new dC([6,31],this);d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:[hY]};
C.zn(d);this.SW(d.data,C);var eW=c.ro.$$(C);if(eW){d.data.Ay=eW;d.data.M5=dM;c.ro.dO(C)}}if(K==A.Pw){if(!a.a(c_.sH))return;
var d=new dC("Switch Layer Link",this);d.data={C:K,l:o.l};C.zn(d);this.SW(d.data,C)}if(K==A.Or){var E=o.a5d?o.a5d:C.A,b8=0,bX=!1;
if(E.length==0)return;if(E.length==1&&C.g[E[0]].Fy==0){alert(fF.get([15,7,5]));return}var b$=[];for(var N=0;
N<C.g.length;N++){var cY=C.g[N].Fy;b$.push(cY);b8=Math.max(b8,cY)}var b_=-1,gu=-1;for(var N=0;N<E.length;
N++){var cY=C.g[E[N]].Fy;if(cY==0)bX=!0;else if(b_==-1||b_==cY)b_=cY;else gu=cY}if(!bX)for(var N=0;N<E.length;
N++)C.g[E[N]].Fy=0;else if(b_!=-1&&gu==-1)for(var N=0;N<E.length;N++)C.g[E[N]].Fy=b_;else for(var N=0;
N<E.length;N++)C.g[E[N]].Fy=b8+1;var cw=[];for(var N=0;N<C.g.length;N++){var cY=C.g[N].Fy;if(cw[cY]==null)cw[cY]=0;
cw[cY]++}for(var N=0;N<C.g.length;N++){var cY=C.g[N].Fy;if(cw[cY]==1)C.g[N].Fy=0}var g9=b$;b$=[];for(var N=0;
N<C.g.length;N++){var cY=C.g[N].Fy;b$.push(cY);b8=Math.max(b8,cY)}var d=new dC(bX?[6,54,0]:[6,54,1],this);
d.data={C:A.Or,auk:g9,a6X:b$};C.zn(d);this.SW(d.data,C)}if(K==A.XC&&(o.l!=null||C.A.length!=0)||K==A.wv){var eS=C.oa(K==A.XC?o.l:h,null,o.amG),gK;
if(K==A.wv){var T=eS[0],bB=T.add.SoLd.Idnt.v,aW=C.u9(bB).clone();T.add.SoLd.Idnt.v=aW.f8=aX.PJ()+bB.slice(8);
C.add.lnk2.push(aW)}if(K==A.XC){var jf={j7:"duplicate",FS:{classID:"null",null:kn.C8("Lyr",!0)}};if(o.fT){eS[0].XH(o.fT);
jf.Nm={t:"TEXT",v:o.fT}}this.track(jf);o.arZ=o.l}K=A.N3;o.g=eS;o.lv=C;o.jJ=C}if(K==A.N3){var im,hE,c6=o.lv,dn=o.jJ,d0=0,jZ=0,jP=!1,fG,gO=0,ab=0;
if(c6!=dn){console.log("ADDLAYERS different projs");var im=new aS(0,0,c6.m,c6.n),hE=new aS(0,0,dn.m,dn.n),aR=[],hK=[];
for(var N=0;N<o.g.length;N++){var T=o.g[N];if(T.add.SoLd==null)continue;var bB=T.add.SoLd.Idnt.v;if(aR.indexOf(bB)==-1){aR.push(bB);
hK.push(aX.PJ()+bB.slice(8))}T.add.SoLd.Idnt.v=hK[aR.indexOf(bB)];var gS=T.WW(c6);if(gS){c6.E1(gS);dn.cg(gS)}}if(aR.length>0){if(dn.add.lnk2==null)dn.add.lnk2=[];
for(var N=0;N<aR.length;N++){var bh=c6.u9(aR[N]),aW=bh.clone();aW.f8=hK[N];dn.add.lnk2.push(aW)}}}var fS=dn.A.slice(0);
fS.sort(function(d,ii){return d-ii});var iu=dn.g.slice(0),hS=[],f2=-1;for(var N=0;N<fS.length;N++)f2=Math.max(f2,fS[N]);
if(o.arZ!=null)f2=o.arZ;var aU=c6.M4();if(o.FQ){f2=o.FQ-1;var a7=dn.g[o.FQ].zz();d0+=a7.x;jZ+=a7.y}if(aU!=-1&&(c6!=dn||o.FQ)){var ja=c6.g[aU].zz();
d0-=ja.x;jZ-=ja.y}var hC=dn.Kc();f2++;for(var N=0;N<o.g.length;N++){var k=o.g[N],b4=k.add.artb;iu.splice(f2,0,k);
hS.push(f2);f2++;if(b4){fG=!0;var ix=b4.guideIndeces;if(ix){ix=ix.v;console.log(ix);for(var dd=0;dd<ix.length;
dd++){hC[0].push(c6.Pa[ix[dd].v].slice(0));hC[1].push(iu.indexOf(k));jP=!0}}}}for(var N=0;N<o.g.length;
N++){var k=o.g[N];if(k.add.lsct==kj.bH){if(gO==0)ab++;gO++}else if(k.sP())gO--}if(ab==1)hS=[f2-1];var d=new dC([6,0],this);
d.data={C:A.uR,XK:dn.g.slice(0),Zk:iu,gW:fS,Ok:hS};if(jP){d.data.EM=[dn.Kc(),hC]}dn.zn(d);this.SW(d.data,dn);
if(d0!=0||jZ!=0)c.YV.EI(dn,dn.TD(),null,d0,jZ);if(fG){d.data.M5=new aS(0,0,dn.m,dn.n);d.data.Ay=c.ro.$$(dn);
c.ro.dO(dn)}}if(K==A.a9Y){var du=o.l!=null?[o.l]:C.TD(),iu=C.g.slice(0);for(var N=0;N<du.length;N++){var k=C.g[du[N]].clone();
k.Ve(C);iu.splice(du[N],1,k)}var d=new dC([6,8],this);d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:C.A.slice(0)};
C.zn(d);this.SW(d.data,C)}if(K==A.ajm){var iu=C.g.slice(0),k=iu[C.A[0]]=iu[C.A[0]].clone(),cG=k.add.lmfx,gY,a7;
delete k.add.lmfx;var c8=C.A[0],ag=c8+1;if(k.sP()){var aH=C.g[C.A[0]].ND;a7=aH.abw;gY=aH.ua;var r=C.root.V0(c8);
c8=r.Qr}else{a7=k.rect;gY=l.Z(a7.$());l.eP(k.buffer,gY,3)}var iP=bd.O4(cG,k.add.fxrp,gY,a7,C,a7).type;
for(var N=0;N<hf.order.length;N++){var kb=hf.order[N],bG=iP[kb];bG.reverse();for(var dd=0;dd<bG.length;
dd++){var d_=bG[dd],M=C.HL(),jR=N>7;if(kb=="ebbl"){if(d_.Za||d_.qJ){var iW=d_.Za?d_.Za:d_.qJ;if(d_.Za)delete d_.Za;
else delete d_.qJ;if(d_.qJ||d_.n4)dd--}else if(d_.n4||d_.Ir){var iW=d_.Ir?d_.Ir:d_.n4;if(d_.Ir){delete d_.Ir;
if(d_.n4)dd--}jR=!0}d_=iW}M.WN=d_.O6;M.opacity=Math.round(255*d_._V);M.buffer=d_.ab;M.rect=d_.Bc.clone();
M.rect.offset(a7.x,a7.y);if(kb=="FrFX"){M.buffer=M.buffer.slice(0);l.Oa(d_.TZ?d_.TZ:d_.$Q,M.buffer,3);
if(d_.TZ){jR=!0;delete d_.TZ;if(d_.$Q)dd--}}M.tN=!jR;M.XH(k.getName()+"'s "+fF.get(hf.names[N]));iu.splice(jR?c8:ag,0,M);
if(jR)ag++}}var d=new dC("Styles to Layers",this);d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:[ag-1]};
C.zn(d);this.SW(d.data,C)}if(K==A.pq){var du=C.TD(),iu=C.g.slice(0),fX=new aS(0,0,C.m,C.n);for(var N=0;
N<du.length;N++){var eG=C.g[du[N]],hD=eG.aL();eG.Su(!0);var gB=C.root.V0(du[N]);if(eG.sP())continue;
if(gB==null)continue;var k=eG.clone();k.Ve(C);var aV=gB.QR(C,!0),dW=C.g;C.jZ([eG]);C.L();C.II();k.buffer=l.Z(aV.$()*4);
l.HT(C.cf(),fX,k.buffer,aV);k.rect=aV;k.opacity=255;k.add.iOpa=255;k.WN="norm";k.L();k.ND.nb=!0;C.jZ(dW);
if(k.add.lmfx)delete k.add.lmfx;k.d=k.Re=null;iu.splice(du[N],1,k);k.Su(hD);eG.Su(hD)}var d=new dC([6,34],this);
d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:C.A.slice(0)};C.zn(d);this.SW(d.data,C)}if(K==A.akQ){var du=C.TD(),iu=C.g.slice(0);
for(var N=0;N<du.length;N++){var k=C.g[du[N]],e_=k.add.TySh;if(e_==null)continue;var T=new bM(e_.cp,x.zM),eR=l.o.Ui(d2.c6(T,e_));
for(var fr in eR){var ba=eR[fr],hF=k.clone();delete hF.add.TySh;hF.qX=hF.qX|1<<4;hF.add.SoCo=JSON.parse(JSON.stringify(hf.vq[0]));
var ci=hF.add.SoCo.Clr.v;ci.Rd.v=parseInt(fr.slice(1,3),16);ci.Grn.v=parseInt(fr.slice(3,5),16);ci.Bl.v=parseInt(fr.slice(5,7),16);
var go=new A.A3;go.i=l.o.RS(ba,!1);if(hF.add.vmsk!=null){hF.add.vmsk.afo();go.concat(hF.add.vmsk)}hF.add.vmsk=go;
hF.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));hF.fb();hF.Rw(C);iu.splice(iu.indexOf(k),0,hF)}iu.splice(iu.indexOf(k),1)}var hS=C.A.slice(0);
for(var N=hS.length-1;N>=0;N--)if(hS[N]>=iu.length)hS.splice(N,1);var d=new dC([6,40],this);d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:hS};
C.zn(d);this.SW(d.data,C)}if(K==A.asN){var hc=C.A.length;if(hc<2){alert("Select two or more layers.");
return}if(!C.Al())return;var hF=C.g[C.A[0]].clone(),iu=[];for(var N=0;N<C.g.length;N++)if(C.A.indexOf(N)==-1)iu.push(C.g[N]);
iu.splice(C.A[0],0,hF);for(var N=1;N<hc;N++)if(C.g[C.A[N]].rect.$()>2e6){alert("Blended areas are too large.");
return}for(var N=1;N<hc;N++){var k=C.g[C.A[N]],ae=k.rect.clone();ae.Uj(1,1);var ii=l.Z(ae.$()*4);l.HT(k.buffer,k.rect,ii,ae);
hF.extend(ae);var dS=l.Z(ae.$()*4);l.HT(hF.buffer,hF.rect,dS,ae);var d=l.Z(ae.$());l.eP(ii,d,3);l.round(d,200);
l.Oa(d,ii,3);l.j.Ly("norm",ii,ae,dS,ae,ae,1);l.NU.Qk(dS,d,ae);l.HT(dS,ae,hF.buffer,hF.rect)}var d=new dC([2,10,0],this);
d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:[C.A[0]]};C.zn(d);this.SW(d.data,C)}if(K==A.Ks){var iu=C.g.slice(0),ip=C.A.slice(0);
for(var N=0;N<iu.length;N++){var k=iu[N],fp=k.add.vmsk;if(k.eU()&&fp&&k.add.vstk.strokeEnabled.v&&!k.add.vstk.fillEnabled.v){var kh=fp.i,hm=0,bA=-1;
for(var dd=0;dd<kh.length;dd++){if((kh[dd].type==0||kh[dd].type==3)&&kh[dd].j4!=-1){hm++;if(kh[dd].type==3&&bA==-1){kh[dd].Y9=kh[dd].j4=1;
bA=dd}}}if(hm>1&&bA!=-1&&hm<10){console.log("separating an open path into a new layer");k=k.clone();
fp=k.add.vmsk;kh=fp.i;var M=kh[bA].length,j0=k.clone();j0.add.lyid=C.HY();fp.i=kh.slice(0,2).concat(kh.slice(bA,bA+M+1));
fp.A=[];k.Rw(C);k.L();var bV=j0.add.vmsk.i;j0.add.vmsk.i=bV.slice(0,bA).concat(bV.slice(bA+M+1,bV.length));
j0.add.vmsk.A=[];j0.Rw(C);iu[N]=k;iu.splice(N+1,0,j0);for(var dd=0;dd<ip.length;dd++)if(ip[dd]>N)ip[dd]++;
var b7=ip.indexOf(N);if(b7!=-1){ip.splice(b7+1,0,N+1)}}}}if(iu.length!=C.g.length){var d=new dC("Splitting open paths",this);
d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:ip};C.zn(d);this.SW(d.data,C)}}if(K==A.fa){this.i2({C:A.Ks},g,C,a,x);
var fS=C.A.slice(0),dW=C.g.slice(0),du=C.TD();if(du.length==0)return;C.aqt(du,!1,o.Ts);var d=new dC([6,36,0],this);
d.data={C:A.uR,XK:dW,Zk:C.g.slice(),gW:fS,Ok:C.A.slice(0)};C.zn(d);this.SW(d.data,C)}if(K==A.a7J){var d8=X.add.SoLd;
if(d8==null)return;var bB=d8.Idnt.v,jG=C.u9(bB);jG.cf(!1);var dI=jG.zm[0],ae=jG.zm[1];if(l.er(dI)){alert("The smart object contains transparency.");
return}var gU=bl.qC("jpg").oe([[dI.buffer]],ae.m,ae.n,[90]);this.i2({C:A.gz,db:C,data:new Uint8Array(gU),id:bB,Ts:"jpg"},g,C,a,x);
console.log(C.add);return}if(K==A.gz){var bh=o.db.u9(o.id),aW=bh.clone();aW.raw=o.data;if(o.vo)aW.vo=o.vo;
if(o.Ts){aW.I4="    ";aW.mf="    ";aW.vo=aW.vo+"."+o.Ts}else{aW.I4="8BIM";aW.mf="8BPB";aW.vo=aW.vo+(aW.vo.endsWith(".psd")?"":".psd")}aW.cf(!1);
bh.cf(!1);var d=new dC([6,36,1],this);d.data={C:A.gz,id:o.id,xL:bh,MK:aW};o.db.zn(d);this.SW(d.data,o.db)}if(K==A.HF){var d=new dC([6,36,4],this);
d.data={C:K,l:h,zT:X.add.SoLd.Impr.v.classID,kq:o.kq};C.zn(d);this.SW(d.data,C)}if(K==A.a5Y){var bi,j9;
if(o.uv){bi=o.db;j9=o.uv}else{o.db.vg();o.db.Va();o.db.L();o.db.II();o.db.cf();bi=bl.qC("PSD").oe(o.db,0,0,[!0,!0]);
j9=o.db.name}if(!(bi instanceof ArrayBuffer))throw"e";bi=new Uint8Array(bi);var aq=o.fJ;if(aq==null){if(C.A.length==0)aq=C.A.length;
else{var fs=C.A[C.A.length-1],M=C.g[fs];aq=M.sP()?fs:fs+1}}var aL=new aS(0,0,C.m,C.n),iN=C.M4();if(iN!=-1)aL=C.g[iN].zz();
var e2=C.Lz(bi,j9,0,0,aL,x.zM,g),iu=C.g.slice(0);iu.splice(aq,0,e2);var d=new dC([6,36,2],this);d.data={C:A.uR,XK:C.g.slice(),Zk:iu,gW:C.A.slice(0),Ok:[iu.indexOf(e2)]};
C.zn(d);this.SW(d.data,C)}if(K==A.uY&&o.JI=="merge"){var hq=[],hi=C.root.children,gr=0;for(var N=0;N<hi.length;
N++){var r=hi[N],k=r.l,dX=r.children,d6=!0;if(!k.sP()||dX.length==0)continue;for(var dd=0;dd<dX.length;
dd++)if(!dX[dd].l.getName().startsWith("_a_")){d6=!1;break}if(d6)hq.push(C.g.indexOf(k))}var bQ=[];for(var N=0;
N<hq.length;N++)if(C.A.indexOf(hq[N])!=-1)bQ.push(hq[N]);if(bQ.length>=2)hq=bQ;if(hq.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var cq=[];for(var N=0;N<hq.length;N++)cq.push(C.g[hq[N]].getName());var bG=[];for(var gG=0;gG<hq.length;
gG++){var r=C.root.V0(hq[gG]),j1=[[],[],0,gG];bG.push(j1);for(var N=0;N<r.children.length;N++){var e=r.children[N].index,k=r.children[N].l,e0=k.getName(),gg=20,hP=e0.split(",");
if(hP.length>1){var aJ=parseInt(hP.pop());if(!isNaN(aJ)&&aJ!=0)gg=aJ}j1[0].push(k);j1[1].push(gg);j1[2]+=gg}}bG.sort(function(d,ii){return ii[2]-d[2]});
var c5=bG[0],ft=c5[2];for(var id=1;id<bG.length;id++){var j1=bG[id],aC=1,cQ=j1[1].slice(0),aT=0;while((aC+1)*j1[2]<=c5[2]){aC++;
cQ=cQ.concat(j1[1])}j1[1]=cQ;j1[2]*=aC;var it=c5[2]/j1[2];for(var N=0;N<j1[1].length;N++){var h6=Math.floor(j1[1][N]*it);
j1[1][N]=h6;aT+=h6}while(aT<ft){aT++;j1[1][j1[1].length-1]++}j1[2]=aT}var hW=[],es=[],h6=[];for(var N=0;
N<bG.length;N++){hW.push(0);es.push(0)}while(gr<ft){var ia=1e9,e4=-1;for(var N=0;N<bG.length;N++){var iG=bG[N][1],c8=hW[N];
if(c8!=iG.length&&es[N]+iG[c8]<gr+ia){e4=N;ia=es[N]+iG[c8]-gr}}es[e4]+=bG[e4][1][hW[e4]];hW[e4]++;if(ia!=0){h6.push(ia);
gr+=ia}}for(var N=1;N<h6.length;N++){var i$=h6[N];if(i$<16&&(h6[N-1]<16||N<h6.length-1&&16<=h6[N+1])){h6[N-1]+=i$;
h6.splice(N,1);N--}}var hD=[],fX=new aS(0,0,C.m,C.n);for(var N=0;N<C.g.length;N++){hD[N]=C.g[N].aL();
C.g[N].Su(!1)}var aZ=C.A.slice(0);C.A=hq;var cn=C.TD();cn.sort(function(d,ii){return d-ii});var iu=[];
for(var N=0;N<C.g.length;N++){if(cn.indexOf(N)==-1)iu.push(C.g[N])}bG.sort(function(d,ii){return d[3]-ii[3]});
function ju(iG,eU){var N=0,h9=0;while(h9+iG[N]<=eU){h9+=iG[N];N++}return N}gr=0;iu.splice(cn[0],0,C.kF());
for(var ei=0;ei<h6.length;ei++){var W=[];for(var N=0;N<bG.length;N++){var c8=ju(bG[N][1],gr)%bG[N][0].length,k=bG[N][0][c8];
W.push(k)}var k=C.HL();for(var N=0;N<bG.length;N++){var cm=W[N],fk=C.g[hq[N]];cm.Su(!0);fk.Su(!0)}C.L();
C.II();var dI=C.cf();k.rect=l.AQ(dI,fX,2);k.buffer=l.Z(k.rect.$()*4);l.HT(dI,fX,k.buffer,k.rect);for(var N=0;
N<bG.length;N++){var cm=W[N],fk=C.g[hq[N]];cm.Su(!1);fk.Su(!1)}k.Su(ei==0);k.XH("_a_frm"+ei+","+h6[ei]);
iu.splice(cn[0]+1+ei,0,k);gr+=h6[ei]}var k=C.HL();k.XH(cq.join(" + "));k.WN="pass";k.add.lsct=kj.vz;
k.qX=24;iu.splice(cn[0]+1+h6.length,0,k);for(var N=0;N<C.g.length;N++)C.g[N].Su(hD[N]);var d=new dC([6,12,0],this);
d.data={C:A.uR,XK:C.g,Zk:iu,gW:aZ,Ok:[cn[0]+1+h6.length]};C.zn(d);this.SW(d.data,C)}if(K==A.nd||K==A.e9){var iM=C.A.length==1,iD=!0,e2=null,hS;
if(iM&&C.A[0]==0)return;var dW=C.g.slice(0),fS=C.A.slice(0);if(iM)C.A=[h,h-1];if(K==A.e9){C.A=[];for(var N=0;
N<C.g.length;N++)if(C.g[N].aL())C.A.push(N)}var du=C.TD();du.sort(function(d,ii){return d-ii});var dj=new aS,fX=new aS(0,0,C.m,C.n);
for(var N=0;N<du.length;N++){var e=du[N],k=C.g[e];if(k.sP()||k.getName()=="</Layer group>")continue;
iD=iD&&k.eU()&&k.add.vmsk!=null;dj=dj.ae(C.root.V0(e).QR(C,!0))}if(iD){var fp=null;for(var N=0;N<du.length;
N++){var M=C.g[du[N]];if(M.rect.$()==0)continue;if(e2==null){e2=M.clone();fp=e2.add.vmsk}else{var M=C.g[du[N]],bV=A.A3.FL(M.add.vmsk.i);
fp.i=fp.i.concat(bV.slice(2));e2.add.vogk=e2.add.vogk.concat(JSON.parse(JSON.stringify(M.add.vogk)))}}e2.add.vmsk.fD=!0;
e2.Rw(C)}else if(fX.Xq(dj)){e2=C.HL();e2.XH(C.g[du[du.length-1]].getName());e2.rect=dj;e2.buffer=l.Z(dj.$()*4);
var by=C.add.artd;delete C.add.artd;var fO=C.cf(du);if(by)C.add.artd=by;l.HT(fO,fX,e2.buffer,dj);e2.T3();
e2.L()}else{C.aqt(du,!0);e2=C.g[C.A[0]];C.g.splice(C.A[0],1);var gR=C.u9(e2.add.SoLd.Idnt.v);C.add.lnk2.splice(C.add.lnk2.indexOf(gR),1);
delete e2.add.SoLd}var de=w,jQ=-1;if(o.FS&&o.FS.Dplc&&o.FS.Dplc.v)de=!0;if(de&&K==A.e9&&C.g[fS[0]].MC()&&C.g[fS[0]].rect.to()){jQ=fS[0]}if(jQ!=-1||iM){var ht=C.g[jQ!=-1?jQ:h-1];
e2.XH(ht.getName());e2.add.lclr=ht.add.lclr}var iu=[];for(var N=0;N<C.g.length;N++)if(de||du.indexOf(N)==-1)if(N!=jQ)iu.push(C.g[N]);
var bn=du[du.length-1],ew=bn==C.g.length-1?null:C.g[bn+1],fo=ew?iu.indexOf(ew):iu.length;iu.splice(fo,0,e2);
hS=[fo];var d=new dC([6,12,0],this);d.data={C:A.uR,XK:dW,Zk:iu,gW:fS,Ok:hS};C.zn(d);this.SW(d.data,C)}if(K==A.an2){var hF=C.HL();
hF.rect=new aS(0,0,C.m,C.n);hF.buffer=l.Z(hF.rect.$()*4);l.th(hF.buffer,4294967295);l.j.Ly("norm",C.cf(),hF.rect,hF.buffer,hF.rect,hF.rect,1);
hF.XH("Background");hF.add.lspf=1<<2;var d=new dC([6,12,1],this);d.data={C:A.uR,XK:C.g.slice(),Zk:[hF],gW:C.A.slice(0),Ok:[0]};
C.zn(d);this.SW(d.data,C)}var dr=K==A.j9||K==A.D5;if(K==A.Hv||K==A.Sc||K==A.AU||K==A.cB||dr){var k=dr?C.oa()[0]:C.HL(),eX=fF.get([0,3]),fq=o.fT,h0=!1,jA,e6;
if(K==A.AU)eX=fF.get([12,76,1]);if(dr){if(C._){var eG=C.g[C.A[0]],bu=eG.WX(C,C._);if(bu==null){alert("Copied area is empty");
return}k.rect=bu.rect;k.buffer=bu.CL;k.Ve(C);k.Su(!0)}else fq=k.getName();k.add.lspf=0;k.tN=!1;if((k.qX&1)!=0)k.qX--}if(K==A.cB){k.rect=c.Nk.art(o.Xz,C);
k.buffer=o.Xz.buffer.slice(0);if(o.O9&&C._){k.d=new A.QX;k.d.rect=C._.rect;k.d.color=0;k.d.channel=C._.channel.slice(0)}}if(K==A.Hv){this.track({j7:"make",FS:{classID:"Mk",null:kn.C8("Lyr")}})}if(K==A.Sc){k.qX|=16;
var fb=o.FS.Usng.v,jt=fb.Type.v,hg=f6.su[jt.classID];eX=fF.get(f6.names[hg]);if(fb.Nm)fq=fb.Nm.v;k.add[hg]=hb.l3(hg);
if(k.add[hg]==null)k.add[hg]={};for(var iY in jt)k.add[hg][iY]=JSON.parse(JSON.stringify(jt[iY]));k.d=c.Nk.apy(C);
k.U3=1}if(K==A.AU){k.qX|=16;var g_=o.FS,fb=g_.Usng.v,aF=fb.Type.v,dQ=fb.Shp;if(fb.Nm)fq=fb.Nm.v;if(dQ==null){var ai=C.DE(),eR=ai[0],jX=ai[1];
if(jX.length!=0&&eR[jX[0]].XE<0){var iA=eR[jX[0]].add;k.add.vmsk=iA.vmsk.clone();k.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));
k.add.vogk=JSON.parse(JSON.stringify(iA.vogk));C.AW=[]}else k.d=c.Nk.apy(C)}else{console.log(fb);k.add.vmsk=new A.A3;
k.add.vstk=JSON.parse(JSON.stringify(fb.strokeStyle?fb.strokeStyle.v:hf.ly.default));k.add.vogk=[];if(dQ){var eh=l.vm.UP(dQ);
if(eh){k.add.vogk=[eh];k.add.vmsk.i.push({type:0,j4:1,length:0});l.vm.zk(k.add.vogk,k.add.vmsk)}else{dQ=dQ.v;
var iq=dQ.classID;if(iq=="Plgn"){var ad=dQ.Cntr.v,ja=dQ.corner.v;ad=new eN(ad.Hrzn.v.val,ad.Vrtc.v.val);
ja=new eN(ja.Hrzn.v.val,ja.Vrtc.v.val);k.add.vmsk.i=l.M.MG.UA(ad.x,ad.y,Math.sqrt(ja.x*ja.x+ja.y*ja.y),Math.atan2(ja.y,ja.x),dQ.sides.v,0)}else if(iq=="customShape"){var f8=l.vm.po(dQ),eK=f8[2]-f8[0],iL=f8[3]-f8[1],i_=x.lz,bI,dP;
for(var N=0;N<i_.length;N++)if(i_[N].Zb==dQ.Nm.v)bI=i_[N];if(bI){dP=A.A3.FL(bI.i);l.M.Jg(dP,new kp(eK,0,0,iL,f8[0],f8[1]))}else dP=l.M.MG.Rect(f8[0],f8[1],eK,iL,0);
k.add.vmsk.i=dP}k.fb()}}}var hN={solidColorLayer:0,gradientLayer:1,patternLayer:2}[aF.classID],eO=["SoCo","GdFl","PtFl"][hN];
k.add[eO]=JSON.parse(JSON.stringify(hf.vq[hN]));c.Nk.u8(aF,k.add[eO],hN);if(dQ==null)eX=fF.get([6,48,0,hN]);
if(eO=="PtFl"){var cu=k.add[eO].Ptrn.v,hP=bd.k0(cu,x.XA);if(hP==null)hP=bd.k0(cu,C.add.Patt);cu.Idnt.v=hP.id;
C.Gq(hP)}k.Rw(C)}var hc=c.Nk.cx(C,eX+" ");k.XH(eX+" "+(hc+1));if(fq)k.XH(fq);var bq=C.A.length==0?C.g.length-1:C.A[C.A.length-1],iF=C.g[bq];
if(K==A.AU&&iF.MC()&&iF.rect.to()){h0=!0;k.XH(iF.getName());jA=bq}else{jA=bq+(K==A.Hv&&R&&!G?0:1);if(iF&&iF.add.lsct==kj.ah)jA--}if(o.amh)jA=Math.max(0,jA-1);
var iu=C.g.slice(0);if(K==A.D5){var fQ=iu[C.A[0]]=iu[C.A[0]].clone(),b6=C._.channel.slice(0);l.rq(b6);
l.Mz(b6,C._.rect,fQ.buffer,fQ.rect)}iu.splice(jA,h0?1:0,k);var fi=[5,2];if(K==A.Hv)fi=[6,13];if(K==A.Sc)fi=[6,1];
if(K==A.AU){fi=[6,48,1];var dQ=o.FS.Usng.v.Shp;if(dQ){var kg={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[dQ.v.classID];
if(kg)fi=kg}}if(dr){fi=[6,49,K==A.j9?0:1]}if(dr||K==A.AU||K==A.cB||K==A.Sc)if(C._)e6=[C._,null];var d=new dC(fi,this);
d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:[jA],Wa:e6};C.zn(d);this.SW(d.data,C);if(K==A.AU&&dQ==null&&hN!=0||K==A.Sc){var s=new jO(D.E.X);
s.data={C:D.t.tq,$j:iU.yt.SV};g.c(s)}}if(K==A._g){var k=C.HL(),eX=fF.get([0,4]),hc=c.Nk.cx(C,eX+" ");
k.XH(eX+" "+(hc+1));k.WN="pass";k.add.lsct=kj.ah;k.qX=24;if(o.fT)k.XH(o.fT);if(o.iL!=null)k.add.lclr=o.iL;
var co=C.kF(),bq=h,jA=bq+(R?0:1),iu=C.g.slice(0);iu.splice(jA,0,co,k);var d=new dC([6,20],this);d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:[jA+1]};
C.zn(d);this.SW(d.data,C)}if(K==A.Bq||K==A.Xx){var aO=K==A.Bq?o.source:C.A[0],ga,b0,aI=C.A.indexOf(aO)!=-1,i8=w|o.akt,km,ia=null;
if(aI)km=C.TD();else km=C.x2(aO);km.sort(function(d,ii){return d-ii});if(K==A.Bq){ga=o.target;b0=o.rF>.5}else if(o.target!=null){ga=Math.min(o.target,C.g.length-1);
b0=o.target<C.g.length;C.Z5=!0}else{var j7=o.JI;b0=j7>1;if(j7==0){ga=C.g.length-1}if(j7==1){ga=km[km.length-1]+1;
var M=C.x2(ga);if(M.indexOf(aO)==-1)ga+=M.length-1}if(j7==2){ga=km[0]-1;var M=C.x2(ga);if(M.indexOf(aO)==-1)ga-=M.length-1}if(j7==3){ga=0;
if(C.g[0].add.lnsr=="bgnd")ga++}if(ga<0||ga>C.g.length-1)return;C.Z5=!0}if(km.indexOf(ga)!=-1&&!i8)return;
var jq=c.Nk.PB(C,km,ga,b0,i8?C.oa(aI?null:aO):null,K==A.Bq&&o.rF>.8),gz=jq.pop(),ip=jq.pop(),iu=jq.pop(),ac=C.A;
C.A=[aO];var aU=C.M4();C.A=[ga];var fy=C.M4();if(fy==ga&&!b0)fy=-1;C.A=ac;if(aO==aU){}else if(aU!=fy){var ia=new eN(0,0);
if(aU!=-1){var ae=C.g[aU].zz();ia.x-=ae.x;ia.y-=ae.y}if(fy!=-1){var ae=C.g[fy].zz();ia.x+=ae.x;ia.y+=ae.y}}var d=new dC(i8?[6,0]:[6,35],this);
d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:ip,FU:ia};C.zn(d);this.SW(d.data,C);var g_={classID:"move",null:kn.C8("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:gz+(b0?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:i8}};
this.track({j7:"move",FS:g_})}if(K==A.Sb){if(o.xt){if(X==null||!X.sP())return;var r=C.root.V0(h),hB=C.g.indexOf(r.a5A),iu=C.g.slice(0);
iu.splice(h,1);iu.splice(hB,1);var ip=[];for(var N=hB;N<h-1;N++)ip.push(N);var d=new dC("Ungroup Layers",this);
d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:ip};C.zn(d);this.SW(d.data,C)}else{var k=C.HL(),cZ=fF.get([0,4])+" ";
k.XH(cZ+(c.Nk.cx(C,cZ)+1));k.WN="pass";if(o.fT)k.XH(o.fT);if(o.iL!=null)k.add.lclr=o.iL;k.add.lsct=C.A.length==1?kj.ah:kj.vz;
k.qX=24;var co=C.kF(),km=C.TD();if(km.length==0)return;km.sort(function(d,ii){return d-ii});var iu=[];
for(var N=0;N<C.g.length;N++)if(km.indexOf(N)==-1)iu.push(C.g[N]);var bq=C.A[C.A.length-1]-km.length;
iu.splice(bq+1,0,co);for(var N=0;N<km.length;N++)iu.splice(bq+2+N,0,C.g[km[N]]);iu.splice(bq+2+km.length,0,k);
var d=new dC([6,9],this);d.data={C:A.uR,XK:C.g.slice(0),Zk:iu,gW:C.A.slice(0),Ok:[iu.indexOf(k)]};C.zn(d);
this.SW(d.data,C);var y={j7:"make",zu:!0};y.FS={classID:"Mk",null:kn.C8("layerSection"),From:kn.C8("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:k.getName()}}}};
this.track(y)}}if(K==A.a3F){if(C.A.length!=1)return;var aq=C.A[0],jS=w;if(C.g[aq].KN()==null&&!a.a(c_.Ns)){K=A.VS;
o.ZY=C._?!jS?"RvlS":"HdSl":!jS?"RvlA":"HdAl"}else{K=A.xg;o.a1z=!0}}if(K==A.VS){if(C.A.length!=1)return;
var aq=C.A[0],k=C.g[aq];if(k.add.vmsk&&k.d==null)k.Rw(C);var aK=k.KN();if(aK==null||o.anE){var d=new dC([6,21],this),hk=new A.QX,ib=o.ZY,j8=ib=="RvlS"||ib=="HdSl";
if(ib=="RvlS"||ib=="HdAl"||ib=="Trns")hk.color=0;if(j8){hk.channel=C._.channel.slice(0);hk.rect=C._.rect.clone();
if(ib=="HdSl")l.rq(hk.channel)}if(ib=="Trns"){hk.rect=k.rect.clone();hk.channel=l.Z(k.rect.$());l.eP(k.buffer,hk.channel,3)}d.data={C:A.TS,s7:[aq,aK,hk],Wa:j8?[C._,null]:null};
C.zn(d);this.SW(d.data,C);C.g[aq].U3=1;this.track({j7:"make",FS:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:ib}}}})}}else if(K==A.abQ){var fm=C.g[o.src],jE=C.g[o.vf],d=new dC([6,21],this),dy=fm.KN(),ao=jE.KN(),ax=[o.src,dy,null,o.vf,ao,dy];
if(w||G){var e0=dy.clone();if(w)ax=[o.vf,ao,e0];else ax[5]=e0;if(G){l.rq(e0.channel);e0.color=255-e0.color}}d.data={C:A.TS,s7:ax};
C.zn(d);this.SW(d.data,C)}if(K==A.M1){if(C.A.length!=1)return;var aq=h,fR=C.g[aq].KN();if(fR!=null){var d=new dC([6,22],this);
d.data={C:A.TS,s7:[h,fR,null]};C.zn(d);this.SW(d.data,C)}}if(K==A.Hn){var dW=C.g.slice(0),hF=X.clone(),b=hF.KN();
l.Mz(b.Gc(hF.rect),hF.rect,hF.buffer,hF.rect);c.Nk.u7(C,hF);hF.T3();C.g[C.A[0]]=hF;var d=new dC([5,8],this);
d.data={C:A.uR,XK:dW,Zk:C.g.slice(),gW:C.A.slice(0),Ok:C.A.slice(0)};C.zn(d);this.SW(d.data,C)}if(K==A.Oh){if(C.A.length!=1)return;
var aq=C.A[0];if(C.g[aq].WW(C).d==null){var d=new dC([6,45],this);d.data={C:K,l:aq,d:new A.QX};C.zn(d);
this.SW(d.data,C)}}if(K==A.e6){if(C.A.length!=1)return;var aq=C.A[0];if(C.g[aq].WW(C).d!=null){var d=new dC([6,46],this);
d.data={C:K,l:aq,d:C.g[aq].WW(C).d};C.zn(d);this.SW(d.data,C)}}if(K==A.Bm){if(o.src==null&&C.A.length!=1)return;
if(o.src!=null)h=o.src;if(C.g[h].xT()){var d=new dC([6,47],this),d8=JSON.stringify(C.g[h].add.SoLd),bt=JSON.parse(d8);
delete bt.filterFX;d.data={C:A.TU,tI:[{IF:h,DW:[d8,JSON.stringify(bt)],Gv:[C.g[h].WW(C),null]}]};C.zn(d);
this.SW(d.data,C)}}if(K==A.xg){if(C.A.length!=1)return;if(X.add.vmsk==null){var d=new dC([6,23],this),kh=C.DE(),E=kh[1],kh=kh[0],hk,eh;
if(o.a1z&&E.length!=0){var iA=kh[E[0]].add;hk=iA.vmsk.clone();eh=iA.vogk}else{hk=new A.A3;eh=[];hk.i[1].all=o.alV?0:1}d.data={C:K,l:h,ww:!0,d:hk,vm:JSON.stringify(eh),ly:null};
if(X.eU()){d.data.ly=JSON.stringify(hf.ly.default)}C.zn(d);this.SW(d.data,C)}}if(K==A.NH){var fm=C.g[o.src],jE=C.g[o.vf];
if(jE.add.vmsk)return;var d=new dC([6,23],this),fp=fm.add.vmsk;d.data={l:o.vf,ww:fm.$u,d:fp.clone(),vm:JSON.stringify(fm.add.vogk),ly:fm.add.vstk?JSON.stringify(fm.add.vstk):null};
if(w){d.data.C=A.xg}else{d.data.C=K;d.data.src=o.src;d.data.vf=o.vf}C.zn(d);this.SW(d.data,C)}if(K==A.Es||K==A.yU){if(C.A.length!=1)return;
var k=C.g[h],fp=k.add.vmsk;if(fp!=null){var cv=K==A.yU,d=new dC(cv?[6,8]:[6,24],this);d.data={C:A.Es,l:h,ww:k.$u,d:fp,vm:JSON.stringify(k.add.vogk),ly:k.add.vstk?JSON.stringify(k.add.vstk):null};
if(cv){d.data.Re=fp.KN(k.add.vstk)}C.zn(d);this.SW(d.data,C)}}if(K==A.wk){var d=new dC("Metadata",this);
d.data={C:K,MJ:JSON.stringify(C.Eb),Zc:JSON.stringify(o.Zc)};C.zn(d);this.SW(d.data,C)}if(K==A.aD){var a4=o.vf?o.vf:C,bO=a4.name,fq=o.k+".psd";
if(bO==fq)return;var d=new dC([6,37],this);d.data={C:K,abx:bO,fT:fq};if(o.ao5!=!0)a4.zn(d);this.SW(d.data,a4)}if(K==A.uY&&o.JI.endsWith("makeframes")){var ic=[],dV=o.JI.startsWith("make");
for(var N=0;N<C.A.length;N++){var e=C.A[N],k=C.g[e],gT=k.getName(),iI=gT.startsWith("_a_");if(dV==iI||k.add.lsct==kj.bH)continue;
var fc=dV?"_a_"+gT:gT.slice(3);ic.push([e,gT,fc,k.add.lnsr,null])}var d=new dC([6,37],this);d.data={C:A.Hg,eA:ic};
C.zn(d);this.SW(d.data,C)}if(K==A.Hg){var bO=X.getName(),fq=o.name.substring(0,255);if(bO==fq)return;
var d=new dC([6,37],this);d.data={C:K,eA:[[h,bO,fq,X.add.lnsr,null]]};C.zn(d);this.SW(d.data,C);this.track(kn.Ft("Nm",{t:"TEXT",v:fq}))}if(K==A.hJ){var iX=C.TD(),gt=[],jj=[];
for(var N=0;N<iX.length;N++){gt.push(C.g[iX[N]].add.lclr);jj.push(o.abd)}var d=new dC([6,38],this);d.data={C:K,g:iX,a9V:gt,iL:jj};
C.zn(d);this.SW(d.data,C)}if(K==A.Mn){var d=C.history[C.za];if(d!=null&&d.F==this&&d.data.C==K&&d.data.l==o.bD&&d.data.kq.It==o.Fa.It)d.data.kq=o.Fa;
else{d=new dC("Mask Density / Feather",this);d.data={C:K,l:o.bD,zT:C.g[o.bD].D_(o.Fa.It),kq:o.Fa};C.zn(d)}this.SW(d.data,C)}if(K==A.GF){var ed=JSON.stringify(o.k),af=JSON.parse(ed),d=C.history[C.za];
if(d!=null&&d.F==this&&d.data.C==K&&d.data.I2==o.I2&&d.data.IA.join(",")==o.IA.join(",")){for(var N=0;
N<o.IA.length;N++)d.data.pI[N]=af;if(d.data.FS&&af.mf!=0)c.Nk.u8(af.NL,d.data.FS.T.v,af.mf-1)}else{d=new dC([11,6],this);
d.data={C:K,IA:o.IA,I2:o.I2,apT:[],pI:[]};var dt=!1;for(var N=0;N<o.IA.length;N++){var e=o.IA[N],k=C.g[e],ck=o.I2?c.R7.Kp(C,e):JSON.parse(JSON.stringify(k.add.vstk));
d.data.apT.push(ck);d.data.pI.push(af);if(JSON.stringify(ck)!=ed)dt=!0}if(!dt)return;C.zn(d);if(o.I2&&af.mf>0){var g_=d.data.FS={classID:"setd",null:kn.C8("contentLayer",!0),T:{t:"Objc",v:{}}},eO=["SoCo","GdFl","PtFl"][af.mf-1];
c.Nk.u8(af.NL,g_.T.v,af.mf-1);this.track({j7:"set",FS:g_})}}if(o.I2&&af.mf==3)C.Gq(bd.k0(af.NL.Ptrn.v,x.XA));
if(!o.I2){var hQ=af.strokeStyleContent.v;if(hQ.classID==hf.ly.iJ[2])C.Gq(bd.k0(hQ.Ptrn.v,x.XA))}this.SW(d.data,C)}};
c.Nk.PB=function(o,g,C,a,x,K){var h=o.g[C],X=[];if(x)X=o.g.slice(0);else for(var N=0;N<o.g.length;N++)if(g.indexOf(N)==-1)X.push(o.g[N]);
var w=X.indexOf(h);if(K&&h.sP()&&h.add.lsct==kj.vz)w-=o.x2(C).length-1;var G=[];for(var N=0;N<g.length;
N++){var R=w+(a?0:1)+N,d=x?x[N]:o.g[g[N]];X.splice(R,0,d);G.push(R)}return[X,G,w]};c.Nk.u8=function(o,g,C){var a=[hf.nD,hf.mK,hf.ti][C];
if(g.classID==null)g.classID=["solidColorLayer","gradientLayer","patternLayer"][C];for(var N=0;N<a.length;
N++)if(o[a[N]])g[a[N]]=JSON.parse(JSON.stringify(o[a[N]]))};c.Nk.apy=function(o){var g=new A.QX;if(o._!=null){g.color=0;
g.channel=o._.channel.slice(0);g.rect=o._.rect.clone()}return g};c.Nk.lP=function(o,g,C,a,x){var K=a.m/C.m,h=a.n/C.n,X=a.m/2,w=a.n/2,G=l.o.IW(a).w;
for(var N=0;N<o.g.length;N++){var R=o.g[N],d=R.add.SoLd;if(d==null||d.Idnt.v!=g)continue;if(K!=1||h!=1){var q=c.V.aq(d.nonAffineTransform),m=l.S.sV(q,a),M=new kp;
M.translate(-X,-w);M.scale(K,h);M.translate(X,w);var Z=l.S._t(m,l.S.xN(M)),Q=G.slice(0);l.S.D(Z,Q);d.Trnf=c.V.SS(Q);
d.nonAffineTransform=c.V.SS(Q);if(l.X0.L1(d.warp.v)){var p=d.warp.v.bounds.v;p.Rght.v.val=a.m;p.Btom.v.val=a.n}}R.R9(o,null,x)}o.L()};
c.Nk.aaM=function(o,g,C){g.color=255-g.color;l.rq(g.channel);g.fD=!0;o.Rw(C);C.L()};c.Nk.prototype.Op=function(o,g){var C=o.C,a=g.g[o.l];
g.n6=!0;if(C==A.gz){g.add.lnk2.splice(g.add.lnk2.indexOf(o.MK),1,o.xL);c.Nk.lP(g,o.id,o.MK.zm[1],o.xL.zm[1])}if(C==A.HF){a.add.SoLd.Impr.v.classID=o.zT;
a.R9(g)}if(C==A.Eq){var x=JSON.parse(o.IA);for(var N=0;N<x.length;N++)g.g[x[N]].WN=o.NK[N];g.L()}if(C==A.D9){var x=JSON.parse(o.IA);
for(var N=0;N<x.length;N++)g.g[x[N]].opacity=o.NK[N];g.L()}if(C==A.Tg){var x=JSON.parse(o.IA);for(var N=0;
N<x.length;N++)if(g.g[x[N]].add.lsct!=kj.bH)g.g[x[N]].add.lspf=o.NK[N]}if(C==A.DL){var K=o.JS,h=o.awB;
delete a.add[K[0]];if(h[0]!="----")a.add[h[0]]=h[1]}if(C==A.fH){a.add.iOpa=o.NK;g.L()}if(C==A.Jb){for(var N=0;
N<o.IA.length;N++){var X=g.g[o.IA[N]];X.Su(!X.aL())}g.L()}if(C==A.NV){var w=a.KN();w.isEnabled=!w.isEnabled;
a.Rw(g);g.L()}if(C==A.Ah){var w=a.WW(g).d;w.isEnabled=!w.isEnabled;a.L();g.L()}if(C==A.RI){var w=a.add.vmsk;
w.isEnabled=!w.isEnabled;if(!w.isEnabled){if(a.Re){a.d=a.Re;a.Re=null}else a.d=null}else if(a.d){a.Re=a.d;
a.d=null}a.Rw(g);g.L()}if(C==A.zG){a.tN=!a.tN;g.L()}if(C==A.RM){a.add.lmfx.masterFXSwitch.v=!a.add.lmfx.masterFXSwitch.v;
a.ND.nb=!0;g.L()}if(C==A._f){a.add.SoLd.filterFX.v.enab.v=!a.add.SoLd.filterFX.v.enab.v;a.UK(g);g.L()}if(C==A.e1){var G=o.index,R=a.add.lmfx[hf.l8[G[0]]].v[G[1]].v;
R.enab.v=!R.enab.v;a.ND.nb=!0;g.L()}if(C==A.G3){var d=g.g[o.di],q=g.g[o.YC],m=o.ajG,M=o.aqu;if(m=="")delete d.add.lmfx;
else d.add.lmfx=JSON.parse(m);if(M=="")delete q.add.lmfx;else q.add.lmfx=JSON.parse(M);d.ND.nb=!0;q.ND.nb=!0;
g.L()}if(C==A.kd){var Z=a.add.SoLd.filterFX.v.filterFXList.v[o.index].v;Z.enab.v=!Z.enab.v;a.UK(g);g.L()}if(C==A.a6E){a.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(o.amr));
a.UK(g);g.L()}if(C==A.Lx){var w=a.KN();w.j3=!w.j3}if(C==A.gG){var w=a.add.vmsk;w.j3=!w.j3}if(C==A.vK){var Q=JSON.parse(o.a1u);
g.fU=Q[0];g.XO=Q[1]}if(C==A.x6){var Q=o.Te;for(var N=0;N<Q.length;N+=2){var p=Q[N],X=p>=0?g.g[p]:g.eJ[-1-p];
X.add.vogk=JSON.parse(Q[N+1]);l.vm.zk(X.add.vogk,X.add.vmsk);if(p>=0)X.Rw(g)}g.L()}if(C==A.Z2){a.add.artb=JSON.parse(o.adE);
g.L();c.ro.jb(g,o)}if(C==A.W9){g._=o.sh;g.JH=o.Te.slice(0);g.Ix=o.az.slice(0);g.dF=g.b0=!0}if(C==A.Pw){a.GH=!a.GH}if(C==A.Or){var y=o.auk;
for(var N=0;N<y.length;N++)g.g[N].Fy=y[N]}if(C==A.uR){if(o.FU)c.YV.EI(g,g.A,null,-o.FU.x,-o.FU.y);if(o.gW)g.A=o.gW;
if(o.Wa)g._=o.Wa[0];g.ls=null;g.L();g.jZ(o.XK);c.ro.jb(g,o);if(o.EM)g.mu(o.EM[0])}if(C==A.TS){for(var N=0;
N<o.s7.length;N+=3)c.Nk.u7(g,g.g[o.s7[N]],o.s7[N+1]);if(o.Wa){var V=o.Wa[0];if(V==null)delete g._;else g._=V}}if(C==A.Oh){a.WW(g).d=null;
a.L();g.L()}if(C==A.e6){a.WW(g).d=o.d;a.L();g.L()}if(C==A.TU){c.Nk.a14(g,o.tI,0)}if(C==A.xg){c.Nk.qo(g,a,!0)}if(C==A.NH){c.Nk.qo(g,g.g[o.vf],o.d.isEnabled);
c.Nk.FC(g,g.g[o.src],o)}if(C==A.Es){if(o.Re)c.Nk.u7(g,a,null);c.Nk.FC(g,a,o)}if(C==A.wk){g.Eb=JSON.parse(o.MJ)}if(C==A.aD){g.name=o.abx}if(C==A.Hg){for(var N=0;
N<o.eA.length;N++){var W=o.eA[N],X=g.g[W[0]];X.XH(W[1]);if(W[3])X.add.lnsr=W[3];else delete X.add.lnsr}}if(C==A.hJ){for(var N=0;
N<o.g.length;N++)g.g[o.g[N]].add.lclr=o.a9V[N]}if(C==A.GF){var v=o.apT;for(var N=0;N<o.IA.length;N++){var X=g.g[o.IA[N]],j=v[N];
if(!o.I2)X.add.vstk=JSON.parse(JSON.stringify(j));else c.R7.jq(X,JSON.parse(JSON.stringify(j)));X.Hx(g)}g.L()}if(C==A.Mn){a.a9c(o.zT);
a.Rw(g);g.L()}g.b0=!0};c.Nk.prototype.SW=function(o,g){var C=o.C,a=g.g[o.l];g.n6=!0;if(C==A.gz){g.add.lnk2.splice(g.add.lnk2.indexOf(o.xL),1,o.MK);
c.Nk.lP(g,o.id,o.xL.zm[1],o.MK.zm[1])}if(C==A.HF){a.add.SoLd.Impr.v.classID=o.kq;a.R9(g)}if(C==A.Eq){var x=JSON.parse(o.IA);
for(var N=0;N<x.length;N++)g.g[x[N]].WN=o.kq;g.L()}if(C==A.D9){var x=JSON.parse(o.IA);for(var N=0;N<x.length;
N++)g.g[x[N]].opacity=o.kq;g.L()}if(C==A.Tg){var x=JSON.parse(o.IA);for(var N=0;N<x.length;N++)if(g.g[x[N]].add.lsct!=kj.bH)g.g[x[N]].add.lspf=o.kq[N]}if(C==A.DL){var K=o.awB,h=o.JS;
delete a.add[K[0]];if(h[0]!="----")a.add[h[0]]=h[1]}if(C==A.fH){a.add.iOpa=o.kq;g.L()}if(C==A.Jb){for(var N=0;
N<o.IA.length;N++){var X=g.g[o.IA[N]];X.Su(!X.aL())}g.L()}if(C==A.NV){var w=a.KN();w.isEnabled=!w.isEnabled;
a.Rw(g);g.L()}if(C==A.Ah){var w=a.WW(g).d;w.isEnabled=!w.isEnabled;a.L();g.L()}if(C==A.RI){var w=a.add.vmsk;
w.isEnabled=!w.isEnabled;if(!w.isEnabled){if(a.Re){a.d=a.Re;a.Re=null}else a.d=null}else if(a.d){a.Re=a.d;
a.d=null}a.Rw(g);g.L()}if(C==A.zG){a.tN=!a.tN;g.L()}if(C==A.RM){a.add.lmfx.masterFXSwitch.v=!a.add.lmfx.masterFXSwitch.v;
a.ND.nb=!0;g.L()}if(C==A._f){a.add.SoLd.filterFX.v.enab.v=!a.add.SoLd.filterFX.v.enab.v;a.UK(g);g.L()}if(C==A.e1){var G=o.index,R=a.add.lmfx[hf.l8[G[0]]].v[G[1]].v;
R.enab.v=!R.enab.v;a.ND.nb=!0;g.L()}if(C==A.G3){var d=g.g[o.di],q=g.g[o.YC],m=o.a74,M=o.as_;if(m=="")delete d.add.lmfx;
else d.add.lmfx=JSON.parse(m);if(M=="")delete q.add.lmfx;else q.add.lmfx=JSON.parse(M);d.ND.nb=!0;q.ND.nb=!0;
g.L()}if(C==A.kd){var Z=a.add.SoLd.filterFX.v.filterFXList.v[o.index].v;Z.enab.v=!Z.enab.v;a.UK(g);g.L()}if(C==A.a6E){a.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(o.a8G));
a.UK(g);g.L()}if(C==A.Lx){var w=a.KN();w.j3=!w.j3}if(C==A.gG){var w=a.add.vmsk;w.j3=!w.j3}if(C==A.vK){var Q=JSON.parse(o.a5S);
g.fU=Q[0];g.XO=Q[1]}if(C==A.x6){var Q=o.yv;for(var N=0;N<Q.length;N+=2){var p=Q[N],X=p>=0?g.g[p]:g.eJ[-1-p];
X.add.vogk=JSON.parse(Q[N+1]);l.vm.zk(X.add.vogk,X.add.vmsk);if(p>=0)X.Rw(g)}g.L()}if(C==A.Z2){a.add.artb=JSON.parse(o.wt);
g.L();c.ro.rp(g,o)}if(C==A.W9){g._=o.lQ;g.JH=o.yv.slice(0);g.Ix=o.kw.slice(0);g.dF=g.b0=!0}if(C==A.Pw){a.GH=!a.GH}if(C==A.Or){var y=o.a6X;
for(var N=0;N<y.length;N++)g.g[N].Fy=y[N]}if(C==A.uR){var V=o.Zk,W=0,v;for(var N=0;N<V.length;N++){var X=V[N],j=X.add.lsct;
if(j==kj.bH)W++;else if(j==kj.ah||j==kj.vz)W--;if(X.add.artb&&W!=0)v="Artboards can not be inside folders."}if(v){g.history.pop();
g.za--;alert(v);return}c.ro.rp(g,o);if(o.Ok)g.A=o.Ok;if(o.Wa)g._=o.Wa[1];g.ls=null;g.L();g.jZ(o.Zk);
if(o.FU)c.YV.EI(g,g.A,null,o.FU.x,o.FU.y);if(o.EM)g.mu(o.EM[1])}if(C==A.TS){for(var N=0;N<o.s7.length;
N+=3)c.Nk.u7(g,g.g[o.s7[N]],o.s7[N+2]);if(o.Wa){var e=o.Wa[1];if(e==null)delete g._;else g._=e}}if(C==A.Oh){a.WW(g).d=o.d;
a.U3=0;a.L();g.L()}if(C==A.e6){a.WW(g).d=null;a.U3=0;a.L();g.L()}if(C==A.TU){c.Nk.a14(g,o.tI,1)}if(C==A.xg){c.Nk.FC(g,a,o)}if(C==A.NH){c.Nk.qo(g,g.g[o.src],o.d.isEnabled);
c.Nk.FC(g,g.g[o.vf],o)}if(C==A.Es){c.Nk.qo(g,a,o.d.isEnabled);if(o.Re)c.Nk.u7(g,a,o.Re)}if(C==A.wk){g.Eb=JSON.parse(o.Zc)}if(C==A.aD){g.name=o.fT}if(C==A.Hg){for(var N=0;
N<o.eA.length;N++){var T=o.eA[N],X=g.g[T[0]];X.XH(T[2]);if(T[4])X.add.lnsr=T[4];else delete X.add.lnsr}}if(C==A.hJ){for(var N=0;
N<o.g.length;N++)g.g[o.g[N]].add.lclr=o.iL[N]}if(C==A.GF){var O=o.pI;for(var N=0;N<o.IA.length;N++){var X=g.g[o.IA[N]],L=O[N];
if(!o.I2)X.add.vstk=JSON.parse(JSON.stringify(L));else c.R7.jq(X,JSON.parse(JSON.stringify(L)));X.Hx(g)}g.L()}if(C==A.Mn){a.a9c(o.kq);
a.Rw(g);g.L()}g.b0=!0};c.Nk.cx=function(o,g){var C=0;for(var N=0;N<o.g.length;N++){var a=o.g[N].getName();
if(a.startsWith(g)){var x=a.slice(g.length).trim(),K=parseInt(x);if(!isNaN(K)&&K+""==x&&K>C)C=K}}return C};
c.Nk.a14=function(o,g,C){for(var N=0;N<g.length;N++){var a=g[N],x=o.g[a.IF];if(a.DW){x.add.SoLd=JSON.parse(a.DW[C])}if(a.Gv){if(a.Gv[1-C]!=null)o.E1(a.Gv[1-C]);
if(a.Gv[C]!=null)o.cg(a.Gv[C]);else x.U3=0}x.R9(o)}};c.Nk.art=function(o,g){var C=o.tC,a=o.rect.clone();
if(C!=null&&(C.x!=g.m||C.y!=g.n)){a.x=Math.floor((g.m-a.m)/2);a.y=Math.floor((g.n-a.n)/2)}else if(C==null){var x=new aS(0,0,g.m,g.n),K=g.M4();
if(K!=-1)x=g.g[K].zz();a.x+=x.x;a.y+=x.y}return a};c.Nk.avf=function(o,g){if(g.Re)g.Re=null;else g.d=null;
g.Rw(o);o.L();g.U3=0};c.Nk.u7=function(o,g,C){var a=g.KN();if(a==null&&C==null)return;if(a)c.Nk.avf(o,g);
if(C==null)return;if(g.d)g.Re=C;else g.d=C;g.Rw(o);o.L()};c.Nk.qo=function(o,g,C){if(g.Re&&C){g.d=g.Re;
g.Re=null}else if(g.d&&C){g.d=null}delete g.add.vogk;delete g.add.vstk;delete g.add.vmsk;g.Rw(o);g.$u=!1;
o.ls=[];o.L()};c.Nk.FC=function(o,g,C){g.add.vogk=JSON.parse(C.vm);if(C.ly)g.add.vstk=JSON.parse(C.ly);
else delete g.add.vstk;g.add.vmsk=C.d.clone();if(g.d&&g.add.vmsk.isEnabled)g.Re=g.d;g.Rw(o);g.$u=C.ww;
o.ls=[o.g.indexOf(g)];o.AW=[];o.L()};c.n2=function(){c.rr.call(this,"Layer Styles",c.gc);this.Wc=null;
this.$e=null;this.T5=null;this.QI=[];this.$x=null};c.n2.prototype=new c.rr;c.n2.prototype.i2=function(o,g,C,a,x){var K=o.l;
if(K==null)K=C.A[0];var h=C.g[K],X=o.XE;if(this.Wc==null){this.T5=c.n2.Xn(C,h);this.Wc=JSON.stringify(this.T5);
if(h.add.lmfx)this.$e=JSON.stringify(h.add.lmfx)}if(h.add.lmfx==null){h.add.lmfx=JSON.parse(hf.default);
for(var N=0;N<hf.order.length;N++)h.add.lmfx[hf.l8[N]]={t:"VlLs",v:[]}}if(o.C=="scaleeffects"){if(o.k=="confirm"||o.k=="cancel"){this.i2({C:o.k},g,C,a,x);
return}h.add.lmfx=JSON.parse(this.$e);bd.lH(h.add.lmfx,o.k/100)}else if(o.C=="changeprop"){var w=null;
if(X!=0){var G=this.QI[X[0]];if(G==null)G=hf.QI[X[0]];G=JSON.parse(G);var R=h.add.lmfx[hf.l8[X[0]]].v;
if(R[X[1]]==null)R[X[1]]={t:"Objc",v:G};w=R[X[1]].v;for(var d in G)if(w[d]==null)w[d]=G[d]}if(o.C=="changeprop"){if(X==0){this.T5[o.L_].v=o.k;
c.n2.KY(C,h,this.T5)}else if(o.L_=="lagl"){if(w.uglg&&w.uglg.v){C.ar(o.k.val);this.T5.gagl.v.val=C.T6()}else w[o.L_].v=o.k}else if(o.L_=="Lald"){if(w.uglg.v){C.rW(o.k.val);
this.T5.a7m=C.jU()}else w[o.L_].v=o.k}else if((X[0]==3||X[0]==8)&&(o.L_=="Clr"||o.L_=="Grad")){if(o.L_=="Clr"){w.Clr={t:"Objc",v:o.k};
delete w.Grad}if(o.L_=="Grad"){w.Grad={t:"Objc",v:o.k};delete w.Clr}}else{w[o.L_].v=o.k}if(X!=0)this.QI[X[0]]=JSON.stringify(w)}if(X!=0)if(w.Ptrn)C.Gq(bd.k0(w.Ptrn.v,x.XA))}else if(o.C=="setstl"){var q=o.k.Lefx;
if(q)bd.a2E(q,C,x.XA);bd.as5(o.k,h,null,C);this.T5=c.n2.Xn(C,h)}else if(o.C=="st_dupsingle"){var m=h.add.lmfx[hf.l8[o.lh[0]]].v;
if(m[o.lh[1]]==null)return;var M=JSON.parse(JSON.stringify(m[o.lh[1]]));m.splice(o.lh[1],0,M)}else if(o.C=="st_movsingle"){var Z=o.lh[1],m=h.add.lmfx[hf.l8[o.lh[0]]].v;
if(m[o.lh[1]]==null)return;var Q=Math.max(0,Math.min(m.length-1,Z+o.a9n)),p=m[Q];m[Q]=m[Z];m[Z]=p}else if(o.C=="cancel"){if(this.$e==null)delete h.add.lmfx;
else h.add.lmfx=JSON.parse(this.$e);c.n2.KY(C,h,JSON.parse(this.Wc));this.Wc=null;this.$e=null}else if(o.C=="confirm"){var y=JSON.stringify(h.add.lmfx),V=new dC([11,6],this);
V.data={g:[K],wT:[this.$e],ew:[y],Di:[this.Wc],pd:[JSON.stringify(this.T5)]};C.zn(V);this.Wc=null;this.$e=null;
if(y!=null){var W=JSON.parse(y);fu.ER(W);W.classID="Lefx";delete W.masterFXSwitch;var v=new jO(D.E._h);
v.on=!0;v.data={j7:"set",zu:!0};var j=kn.C8("Lyr",!0);j.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
v.data.FS={__name:"Set",classID:"setd",null:j,T:{t:"Objc",v:W}};g.c(v)}}else if(o.C=="st_copy"){this.$x=[this.Wc,this.$e];
this.Wc=null;this.$e=null}else if(o.C=="st_paste"||o.C=="st_clear"){if(o.C=="st_paste"&&this.$x==null)return;
var T=o.l!=null?[o.l]:C.A.slice(0),O=[],L=[],S=[],$=[];for(var N=0;N<T.length;N++){var h=C.g[T[N]],H=c.n2.Xn(C,h);
O.push(h.add.lmfx?JSON.stringify(h.add.lmfx):null);S.push(JSON.stringify(H));if(o.C=="st_paste"){L.push(this.$x[1]);
$.push(this.$x[0])}else{L.push(null);H.lrMd.v=0;H.Opct.v.val=100;H.iOpa.v.val=100;H.blIf={v:[]};for(var f=0;
f<10;f++)H.blIf.v.push(0,0,255,255);$.push(JSON.stringify(H))}}var V=new dC([11,6],this);V.data={g:T,wT:O,ew:L,Di:S,pd:$};
this.SW(V.data,C);C.zn(V);this.Wc=null;this.$e=null}else{var F=this.T5,W=null;if(o.C=="st_delsingle"){W=JSON.parse(this.$e);
W[hf.l8[o.lh[0]]].v.splice(o.lh[1],1);W=JSON.stringify(W)}if(W==null)delete h.add.lmfx;else h.add.lmfx=JSON.parse(W);
if(F!=null)c.n2.KY(C,h,F);var V=new dC([11,6],this);V.data={g:[o.l],wT:[this.$e],ew:[W],Di:[this.Wc],pd:[JSON.stringify(F)]};
C.zn(V);this.Wc=null;this.$e=null}h.ND.nb=!0;C.n6=!0;C.L()};c.n2.Xn=function(o,g){if(g.add.iOpa==null)g.add.iOpa=255;
if(g.add.brst==null)g.add.brst=[1,1,1];var C=g.sP()?["pass"].concat(cP.CH):cP.CH;return{lrMd:{v:C.indexOf(g.WN)},Opct:{v:{type:"#Prc",val:Math.round(g.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(g.add.iOpa*100/255)},t:"UntF"},blIf:{v:g.G6.slice(0)},brst:{v:g.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:o.T6()}},a7m:o.jU(),sP:g.sP()}};
c.n2.KY=function(o,g,C){var a=g.sP()?["pass"].concat(cP.CH):cP.CH;g.WN=a[C.lrMd.v];g.opacity=Math.round(C.Opct.v.val*255/100);
g.add.iOpa=Math.round(C.iOpa.v.val*255/100);g.G6=C.blIf.v.slice(0);g.add.brst=C.brst.v.slice(0);o.ar(C.gagl.v.val);
o.rW(C.a7m)};c.n2.prototype.Op=function(o,g){for(var N=0;N<o.g.length;N++){var C=g.g[o.g[N]],a=o.wT[N];
if(a==null)delete C.add.lmfx;else C.add.lmfx=JSON.parse(a);c.n2.KY(g,C,JSON.parse(o.Di[N]));C.ND.nb=!0}g.n6=!0;
g.L()};c.n2.prototype.SW=function(o,g){for(var N=0;N<o.g.length;N++){var C=g.g[o.g[N]],a=o.ew[N];if(a==null)delete C.add.lmfx;
else C.add.lmfx=JSON.parse(a);c.n2.KY(g,C,JSON.parse(o.pd[N]));C.ND.nb=!0}g.n6=!0;g.L()};c.R1=function(){c.rr.call(this,"Layer Comps",c.nk)};
c.R1.prototype=new c.rr;c.R1.prototype.i2=function(o,g,C,a){var x=JSON.parse(JSON.stringify(C.wi)),K=JSON.parse(JSON.stringify(C.wi)),h=null,X=null,w=null,G=-1,R=!1;
if(o.C=="delLC"){var d=c.R1.Gj(C.wi,o.XE),q=C.wi.lastAppliedComp?C.wi.lastAppliedComp.v:0;K.list.v.splice(d,1);
if(q==o.XE)delete K.lastAppliedComp;h="Delete Layer Comp"}if(o.C=="editLC"){var d=c.R1.Gj(C.wi,o.XE),m=K.list.v[d].v;
if(o.fT!=null)m.Nm.v=o.fT;if(o.aoN!=null){var M=o.aoN,Z=m.capturedInfo.v,Q=Z&(1<<M)-1;Z=Z>>M;if((Z&1)==1)Z--;
else Z++;m.capturedInfo.v=(Z<<M)+Q}h="Layer Comp properties"}if(o.C=="setLC"){c.R1.gr(C);if(o.XE==0)delete K.lastAppliedComp;
else K.lastAppliedComp={t:"long",v:o.XE};h="Switch Layer Comp";R=!0}if(o.C=="updLC"){c.R1.gr(C);X=c.R1.a8Y(C,o.XE);
w=c.R1.lN(C,o.XE);K.lastAppliedComp={t:"long",v:o.XE};h="Update Layer Comp";G=o.XE;R=!0}if(o.C=="addLC"){c.R1.gr(C);
var p=1;for(var N=0;N<K.list.v.length;N++)p=Math.max(p,K.list.v[N].v.compID.v)+1;p+=Math.floor(Math.random()*1e4);
var y={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(K.list.v.length+1)},compID:{t:"long",v:p},capturedInfo:{t:"long",v:7}}};
K.list.v.push(y);K.lastAppliedComp={t:"long",v:p};h="New Layer Comp";var V=c.R1.lN(C,p);c.R1.s$(C,V,p)}var W=new dC(h,this);
W.data={a9X:x,aoe:K,arz:X,akn:w,XE:G,Ga:R};this.SW(W.data,C);C.zn(W)};c.R1.prototype.SW=function(o,g){g.wi=o.aoe;
g.n6=!0;if(o.akn)c.R1.s$(g,o.akn,o.XE);if(o.Ga){var C=g.wi.lastAppliedComp?g.wi.lastAppliedComp.v:0,a=c.R1.Gj(g.wi,C),x=a==-1?null:g.wi.list.v[a].v,K=x?x.capturedInfo.v:7;
c.R1.Ce(g,C,K);g.L()}};c.R1.prototype.Op=function(o,g){g.wi=o.a9X;g.n6=!0;if(o.arz)c.R1.s$(g,o.arz,o.XE);
if(o.Ga){var C=g.wi.lastAppliedComp?g.wi.lastAppliedComp.v:0,a=c.R1.Gj(g.wi,C),x=a==-1?null:g.wi.list.v[a].v,K=x?x.capturedInfo.v:7;
c.R1.Ce(g,C,K);g.L()}};c.R1.gr=function(o){if(o.wi.lastAppliedComp!=null||!o.Sa)return;var g=c.R1.lN(o,0);
c.R1.s$(o,g,0);o.Sa=!1};c.R1.Du=function(o,g,C){o.v.Hrzn.v+=g;o.v.Vrtc.v+=C};c.R1.Gj=function(o,g){var C=o.list.v;
for(var N=0;N<C.length;N++)if(C[N].v.compID.v==g)return N;return-1};c.R1.a0c=function(o){var g=o.layerSettings.v,x=null;
if(g.length==0)return;var C="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),a=g[0].v;
if(a.enab==null)a.enab={t:"bool",v:!0};if(a.Ofst==null)a.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var N=0;N<g.length;N++){var K=g[N].v;if(x==null)x=JSON.parse(JSON.stringify(K));else for(var h=0;
h<C.length;h++){var X=C[h];if(K[X])x[X]=JSON.parse(JSON.stringify(K[X]))}g[N].v=JSON.parse(JSON.stringify(x))}};
c.R1.aoT=function(o,g){var C=o.add.shmd.cmls,a=C.layerSettings.v;for(var x=0;x<a.length;x++){var K=a[x].v,h=K.compList.v[0].v;
if(h==g)return x}return-1};c.R1.an_=function(o,g){var C=c.R1.aoT(o,g);return C==-1?null:o.add.shmd.cmls.layerSettings.v[C].v};
c.R1.Ce=function(o,g,C){for(var N=0;N<o.g.length;N++){var a=o.g[N],x=a.add.shmd.cmls;if(x==null)continue;
var K=x.layerSettings.v,h=c.R1.an_(a,g);if(h==null){a.Su(!1);continue}if((C&1)!=0){if(h.enab)a.Su(h.enab.v);
else a.Su(!0)}if((C&2)!=0){if(h.Ofst){var X=h.Ofst.v,w=a.y1(o),G=Math.round(X.Hrzn.v-w.x),R=Math.round(X.Vrtc.v-w.y);
if(G!=0||R!=0)c.YV.EI(o,[N],null,G,R)}}if((C&4)!=0){if(h.Lefx){var d=JSON.parse(JSON.stringify(h.Lefx.v));
fu.Ne(d);if(JSON.stringify(d)!=JSON.stringify(a.add.lmfx)){a.add.lmfx=d;a.ND.nb=!0}}else delete a.add.lmfx;
if(h.blendOptions){var q=h.blendOptions.v;if(q.Opct)a.opacity=Math.round(255*q.Opct.v.val/100);if(q.fillOpacity)a.add.iOpa=Math.round(255*q.fillOpacity.v.val/100);
if(q.Md)a.WN=a.add.lsct==kj.bH?"norm":cP.Ye(q.Md.v.BlnM)}else{a.opacity=255;a.WN=a.sP()?"pass":"norm";
a.add.iOpa=255}}}};c.R1.a8Y=function(o,g){var C={};for(var N=0;N<o.g.length;N++){var a=o.g[N];if(a.add.shmd==null||a.add.shmd.cmls==null)continue;
C["l"+a.add.lyid]=JSON.parse(JSON.stringify(c.R1.an_(a,g)))}return C};c.R1.lN=function(o,g){var C={};
for(var N=0;N<o.g.length;N++){var a=o.g[N],x=a.add.lyid;C["l"+x]=c.R1.avR(o,a,g)}return C};c.R1.avR=function(o,g,C){var a=g.add.shmd?g.add.shmd.cmls:null,x={classID:"null"},K=g.y1(o),h={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:K.x},Vrtc:{t:"long",v:K.y}}};
x.compList={t:"VlLs",v:[{t:"long",v:C}]};x.enab={t:"bool",v:g.aL()};x.Ofst=JSON.parse(JSON.stringify(h));
x.FXRefPoint=JSON.parse(JSON.stringify(a&&a.origFXRefPoint?a.origFXRefPoint:h));x.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:cP.Cw(g.WN)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*g.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:g.add.iOpa!=null?100*g.add.iOpa/255:100}}}};
if(g.add.vmsk){x.vectorMask={t:"Objc",v:{classID:"null"}};x.vectorMask.v.Ofst=JSON.parse(JSON.stringify(h))}if(g.add.lmfx){x.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(g.add.lmfx))};
fu.ER(x.Lefx.v)}return x};c.R1.a7n=function(o,g){var C=g.add.lyid;if(g.add.shmd==null)g.add.shmd={};
if(g.add.shmd.cmls==null){g.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:C},layerSettings:{t:"VlLs",v:[{t:"Objc",v:c.R1.avR(o,g,0)}]}}}};
c.R1.s$=function(o,g,C){for(var N=0;N<o.g.length;N++){var a=o.g[N],x=a.add.lyid;c.R1.a7n(o,a);var K=a.add.shmd.cmls,h=K.layerSettings.v,X=g["l"+x];
if(X!=null)X={t:"Objc",v:JSON.parse(JSON.stringify(X))};var w=c.R1.aoT(a,C);if(w==-1){if(X==null)continue;
else h.push(X)}else{if(X==null)h.splice(w,1);else h[w]=X}}};c.R1.AX=function(o,g){for(var N=0;N<o.g.length;
N++){var C=o.g[N],a=C.add.lyid;if(C.add.shmd==null||C.add.shmd.cmls==null)continue;var x=C.y1(o),K=Math.round(x.x),h=Math.round(x.y);
if(!g){K=-K;h=-h}var X=C.add.shmd.cmls,w=X.layerSettings.v;if(X.origFXRefPoint)c.R1.Du(X.origFXRefPoint,-K,-h);
for(var G=0;G<w.length;G++){var R=w[G].v;c.R1.Du(R.Ofst,K,h);var d=R.imageMask,q=R.vectorMask;if(d&&d.v.Ofst)c.R1.Du(d.v.Ofst,K,h);
if(q&&q.v.Ofst)c.R1.Du(q.v.Ofst,K,h)}}};c.i$=function(){c.rr.call(this,"Adjust Edit",c.i1);this.Zc=null;
this.uT=null};c.i$.prototype=new c.rr;c.i$.P_=function(o,g,C,a){if(a)g/=4;var x=0,K=0,h=255,X=0,w=0,G=255;
while(K+o[x]<g){K+=o[x];x++}while(X+o[h]<g){X+=o[h];h--}if(a){x-=Math.round(o[x]/(C/32));h+=Math.round(o[h]/(C/32));
if(x<0)w=Math.round(-x*255/(h-x));if(h>255)G=255-Math.round((h-255)*255/(h-x))}return[Math.max(x,0),Math.min(h,255),w,G,100]};
c.i$.prototype.i2=function(o,g,C,a,x){var K=o.C;if(K=="auto"){var h=o.d1,X=c.i$.getData(C);for(var N=0;
N<X.length;N++){var w=X[N],G;if(h<3){}else{var R=hb.l3("hue2");aw.eV(R,0,[0,-100,0]);G=f6.v4("hue2",R)}f6.la(G,w.CL,w.PN,w.Cn)}c.i$.Lm(C,X);
c.i$.t9(C,X,h<3?[4,16,h]:[19,7,0],this);C.L()}if(K=="edit_layer")this.arp(o,g,C,a);if(K=="edit"||K=="confirm"||K=="cancel")this.l1(o,g,C,x,!0);
if(K=="start"){if(C.A.length==0)return;var d=C.g[C.A[0]];if(d.add.SoLd&&d.U3<=0&&C.Ix.length==0){var q=new jO(D.E.q,!0);
q.F=c.C3;q.data={C:"start",KA:o.ss,jr:o.jr};g.c(q);return}if(!C.Al(g,null,!0))return;if(_[o.ss]&&o.jr==null){if(C.A.length!=1)alert("Will be applied to "+C.A.length+" layers.");
var q=new jO(D.E.X,!0);q.data={C:D.t.gC,$j:"afw_"+o.ss};g.c(q)}else{this.l1({C:"edit",jr:o.jr,KA:o.ss},g,C,x);
this.l1({C:"confirm",KA:o.ss},g,C,x)}}};c.i$.prototype.arp=function(o,g,C,a){var x=o.C,K=C.A[0],h=C.g[K],X=f6.get(h.add),w=JSON.parse(JSON.stringify(h.add[X])),q;
for(var G in o.k)w[G]=o.k[G];var R=JSON.parse(JSON.stringify(w));for(var G in f6.su)if(f6.su[G]==X)R.classID=G;
var d=C.history[C.za];if(d&&d.F==this&&d.data.zT!=null&&d.data.l==K)q=d;else{var m=new jO(D.E._h,!0),M={classID:"setd",null:kn.C8("AdjL",!0),T:{t:"Objc",v:R}};
m.data={zu:!0,j7:"set",FS:M};g.c(m);var q=new dC([6,39],this);q.data={l:K,zT:h.add[X],kq:w,Pq:M};C.zn(q)}q.data.kq=w;
q.data.Pq.T.v=R;this.SW(q.data,C)};c.i$.getData=function(o,g,C){var a=[],x=new aS(0,0,o.m,o.n),K=o.Ix.length!=0?[-1-o.Ix[0]]:o.A;
for(var N=0;N<K.length;N++){var h=K[N],X=h<0?null:o.g[h],w={l:h,hH:h<0?1:X.U3};a.push(w);var G=o.JH[-1-h];
if(0<=h)G=X.U3<=0?null:X.U3==1?X.KN():X.WW(o).d;var R=G?G.rect:X.rect;if(o._)w.Cn=G!=null?o._.rect.Kw(x):o._.rect.Kw(R);
else w.Cn=g||G!=null?R.ae(x):R.clone();if(C)w.Cn=C[N].Cn.clone();var d=w.Cn.$();w.CL=l.Z(d*4);if(G)c.de.sg(G.channel,G.rect,G.color,w.CL,w.Cn);
else l.HT(X.buffer,R,w.CL,w.Cn);w.PN=w.CL.slice(0);if(o._){w.s7=l.Z(d);l.MD(o._.channel,o._.rect,w.s7,w.Cn)}}return a};
c.i$.a8R=function(o,g,C){if(g==null)return g;var a=f6.tk(o,g),K;if(a==-1)return g;var x=C.length>>>2,h=l.pm(C),X=.001*x;
if(a==0||a==2)K=[[0,255,0,255,100],c.i$.P_(h[1],X,x,a==2),c.i$.P_(h[2],X,x,a==2),c.i$.P_(h[3],X,x,a==2)];
if(a==1)K=[c.i$.P_(h[0],X*.33,x,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var w=hb.l3("levl");
for(var N=0;N<4;N++)h5.eV(w,N,K[N]);return w};c.i$.ad1=function(o,g,C,a){var x,K;if(C.t=="name"){var h=0;
for(var X=0;X<o.g.length;X++)if(o.g[X].getName()==C.v.val)h=X;if(o==g&&h==a.l){x=a.CL;K=a.Cn}else{var w=o.g[h];
x=w.buffer;K=w.rect}}else{K=new aS(0,0,o.m,o.n);x=o==g?a.QS:o.cf()}return[x,K]};c.i$.prototype.l1=function(o,g,C,a){if(this.Zc==null){if(o.KA=="aply")C.g[C.A[0]].extend(new aS(0,0,C.m,C.n));
this.Zc=c.i$.getData(C,null,o.KA=="fade"?C.XW().data:null);if(o.KA=="aply"||o.KA=="matc")this.Zc[0].QS=C.cf()}if(o.C=="edit"){this.uT=[o.KA,o.jr];
var x=this.Zc[0],K=c.i$.a8R(o.KA,o.jr,x.CL),h=f6.v4(o.KA,K);if(o.KA=="fade"||o.KA=="matc"||o.KA=="aply")h=o.jr;
if(h!=null){for(var X=0;X<this.Zc.length;X++){var w=this.Zc[X];if(o.Tc)l.j5(w.CL,w.PN);else if(o.KA=="fade"){var G=cP.Ye(o.jr.Md.v.BlnM),R=o.jr.Opct.v.val/100,d=C.XW().data[X];
l.j5(d.CL,w.PN);if(G=="norm")l.j.GL(w.CL,w.Cn,w.PN,w.Cn,null,null,null,w.Cn,R);else{var q=bd.wd();q.FH=!0;
for(var N=0;N<d.CL.length;N+=4)if(d.CL[N+3]!=w.CL[N+3]){q=null;break}l.j.Ly(G,w.CL,w.Cn,w.PN,w.Cn,w.Cn,R,q)}}else if(o.KA=="matc"){var m;
if(h.noReference&&h.noReference.v)m=w.CL;else{var M=h.Srce.v,Z=M[1].v.val,Q=g.h3,p=C;for(var N=0;N<Q.length;
N++)if(Q[N].name==Z)p=Q[N];var y=c.i$.ad1(p,C,M[0],w);m=y[0]}ej(w.CL,w.Cn.m,w.Cn.n,m,w.PN,[h.Lght.v,h.ClrR.v,h.Fade.v,h.neutralizeColor?h.neutralizeColor.v:!1])}else if(o.KA=="aply"){h=h.With.v;
var V=h.T.v,y=c.i$.ad1(C,C,V[1],w),m=y[0],W=y[1],v=h.Clcl?h.Clcl.v.Clcn:null,G=v?cP.Ye(v):"norm",R=h.Opct?h.Opct.v.val/100:1,j=["RGB","Rd","Grn","Bl","Trsp"].indexOf(V[0].v.enum),K=h.Invr&&h.Invr.v;
if(K||j!=0){m=m.slice(0);if(K)l.acC(m);if(j!=0){var e=l.Z(W.$());l.eP(m,e,j-1);if(j==4)l.rq(e);for(var T=0;
T<3;T++)l.Oa(e,m,T)}}if(v=="Add"||v=="Sbtr"){var O=1/h.Scl.v,L=h.Ofst.v,S=v=="Add"?1:-1,$=new Uint8ClampedArray(w.PN.buffer);
for(var N=0;N<m.length;N+=4){$[N]=(w.CL[N]+S*m[N])*O+L;$[N+1]=(w.CL[N+1]+S*m[N+1])*O+L;$[N+2]=(w.CL[N+2]+S*m[N+2])*O+L}}else{var q=bd.wd();
q.FH=h.PrsT&&h.PrsT.v;w.PN.fill(0);w.PN.set(w.CL);l.j.Ly(G,m,W,w.PN,w.Cn,w.Cn,R,q)}}else f6.la(h,w.CL,w.PN,w.Cn)}c.i$.Lm(C,this.Zc)}}if(o.C=="cancel"){c.i$.ahf(C,this.Zc);
this.Zc=null}if(o.C=="confirm"){var H={fade:[2,11],aply:[2,12],matc:[4,18]},f=H[o.KA];if(f==null)f=f6.names[o.KA];
var F=f6.tk(o.KA,this.uT[1]);if(F!=-1)f=[4,16,F];c.i$.t9(C,this.Zc,f,this);this.Zc=null;if(F==-1)c.i$.zd(g,this.uT)}C.L()};
c.i$.zd=function(o,g){var C=g[0],a=g[1],x,K;if(f6.UE[C]){x=f6.UE[C];if(_[C])K=a}if(hb.UE[C]){x=hb.UE[C];
if(_[C])K=a}if(C=="fade"){x="fade";K=a}if(C=="matc"){x="matchColor";K=a}if(C=="aply"){x="applyImageEvent";
K=a}if(x==null)return;var h=new jO(D.E._h,!0);h.data={zu:!0,j7:x};if(K){K=JSON.parse(JSON.stringify(K));
K.classID="null";delete K.__name;h.data.FS=K}o.c(h)};c.i$.ahf=function(o,g){c.i$.o7(o,g)};c.i$.t9=function(o,g,C,a){for(var N=0;
N<g.length;N++){var x=g[N],K=o.g[x.l],h=x.l<0?o.JH[-1-x.l]:x.hH<=0?null:x.hH==1?K.KN():K.WW(o).d;if(h){h.T3();
h.fD=!0;if(K)K.Rw(o)}else{K.T3();K.L()}delete x.PN;delete x.s7}var X=new dC(C,a);X.data=g;o.zn(X);o.n6=!0};
c.i$.Lm=function(o,g,C){for(var N=0;N<g.length;N++){var a=g[N],x=o.g[a.l],K=C?a.CL:a.PN,h=a.Cn;if(a.hH==0){x.extend(h);
if(a.s7){l.HT(a.CL,h,x.buffer,x.rect);l.j.GL(K,h,x.buffer,x.rect,a.s7,h,0,h,1)}else l.HT(K,h,x.buffer,x.rect)}else{var X=a.l<0?o.JH[-1-a.l]:a.hH==1?x.KN():x.WW(o).d;
X.extend(h);if(a.s7){var w=l.Z(h.$()*4);l.j5(a.CL,w);l.j.GL(K,h,w,h,a.s7,h,0,h,1);c.de.gX(w,h,X)}else c.de.gX(K,h,X);
X.fD=!0;if(x)x.Rw(o)}if(x)x.L()}if(!C)c.i$.adW(o,g)};c.i$.o7=function(o,g){for(var N=0;N<g.length;N++){var C=g[N],a=o.g[C.l],x=C.Cn,K=l.Z(x.$()*4);
if(C.hH==0){l.HT(a.buffer,a.rect,K,x);a.extend(x);l.HT(C.CL,x,a.buffer,a.rect);a.T3()}else{var h=C.l<0?o.JH[-1-C.l]:C.hH==1?a.KN():a.WW(o).d;
c.de.sg(h.channel,h.rect,h.color,K,x);h.extend(x);c.de.gX(C.CL,x,h);h.T3();h.fD=!0;if(a)a.Rw(o)}C.CL=K;
if(a)a.L()}o.n6=!0};c.i$.adW=function(o,g){var C=c.i$.a1d(o),a=~C;if(C==16777215)return;for(var N=0;
N<g.length;N++){var x=g[N],K=o.g[x.l],h=x.Cn;if(x.hH!=0)continue;K.extend(h);var X=h.x-K.rect.x,w=h.y-K.rect.y,G=K.rect.m,R=new Uint32Array(x.CL.buffer),d=new Uint32Array(K.buffer.buffer);
for(var q=0;q<h.n;q++)for(var m=0;m<h.m;m++){var M=q*h.m+m,Z=(q+w)*G+(m+X);d[Z]=d[Z]&C|R[M]&a}K.T3();
K.L()}o.L()};c.i$.a1d=function(o){var g=o.u.dp;return g[2]*16711680|g[1]*65280|g[0]*255};c.i$.prototype.Op=function(o,g){var C=g.g[o.l];
if(o.zT!=null)C.add[f6.get(C.add)]=o.zT;else c.i$.o7(g,o);g.L()};c.i$.prototype.SW=function(o,g){var C=g.g[o.l];
if(o.zT!=null)C.add[f6.get(C.add)]=o.kq;else c.i$.o7(g,o);g.L()};c.z1=function(){c.rr.call(this,"Filter Edit",c.C3);
this.Zc=null;this.CS=null;this.C=null;this.uT=null};c.z1.prototype=new c.rr;c.z1.prototype.i2=function(o,g,C,a,x){if(o.C=="start"){if(C.A.length==0)return;
var K=C.g[C.A[0]];if(K.add.SoLd&&K.U3<=0&&C.Ix.length==0){}else if(!C.Al(g,null,!0))return;var h=o.KA;
if((_[h]||hb.Y[h])&&o.jr==null){if(C.A.length!=1)alert("Will be applied to "+C.A.length+" layers.");
var X=new jO(D.E.X,!0);X.data=c.z1.aob(h,this.ML(C,h));g.c(X)}else{var w={C:"edit",KA:h,jr:o.jr,hN:this.ML(C)};
this.i2(w,g,C,a,x);w.C="confirm";delete w.jr;this.i2(w,g,C,a,x)}}if(o.C=="edit"||o.C=="cancel"||o.C=="confirm"){if(o.C=="edit")this.uT=[o.KA,o.jr];
if(o.hN)this.aw3(o,g,C,x);else this.ajT(o,g,C,x)}if(o.C=="applylast"&&this.uT!=null){var w={C:"edit",KA:this.uT[0],jr:this.uT[1],hN:this.ML(C)};
this.i2(w,g,C,a,x);w.C="confirm";delete w.jr;this.i2(w,g,C,a,x)}};c.z1.aob=function(o,g){var C=hb.Y[o];
if(C)return{C:D.t.JG,F:C,HB:{hN:g}};else return{C:D.t.gC,$j:"afw_"+o,hN:g}};c.z1.prototype.ML=function(o,g){var C=o.g[o.A[0]],a;
if(C.add.SoLd&&C.U3<=0&&o.Ix.length==0){a={l:o.A[0],index:0};if(C.add.SoLd.filterFX!=null){var x=C.add.SoLd.filterFX.v.filterFXList.v;
a.index=x.length;for(var N=0;N<x.length;N++)if(hb.uZ(x[N].v)==g&&hb.Y[g])a.index=N}}return a};c.z1.prototype.aw3=function(o,g,C,a){var x=C.g[o.hN.l],K=o.KA;
if(o.C=="edit"){if(this.C==null){var h=hb.names[K];if(h==null)h=f6.names[K];if(K=="blendOptions")h=[14,10];
this.C=new dC(h,this);this.C.data={hN:o.hN,al9:JSON.parse(JSON.stringify(x.add.SoLd))}}if(!x.xT()){x.add.SoLd.filterFX=hb.pG();
this.C.data.Gv=aX.aex(x.add.SoLd.placed.v);C.cg(this.C.data.Gv);x.R9(C)}var X=x.add.SoLd.filterFX.v.filterFXList.v;
if(X[o.hN.index]==null){X.push(hb.dI(K,a))}if(o.jr){X[o.hN.index].v.enab.v=o.Tc!=!0;if(K=="blendOptions")X[o.hN.index].v.blendOptions.v=o.jr;
else X[o.hN.index].v.Fltr.v=o.jr}this.C.data.anM=JSON.parse(JSON.stringify(x.add.SoLd));this.SW(this.C.data,C)}if(o.C=="cancel"){if(this.C)this.Op(this.C.data,C);
this.C=null}if(o.C=="confirm"){if(this.C)C.zn(this.C);c.i$.zd(g,this.uT);this.C=null}};c.z1.prototype.sp=function(o){return{z:o>>>16,B:o>>>8&255,K:o&255}};
c.z1.prototype.ajT=function(o,g,C,a){if(this.Zc==null){var x=hb.aO(o.KA,o.jr);this.Zc=c.i$.getData(C,x.x!=0||x.y!=0)}if(o.C=="edit"){var K=JSON.stringify(o.jr);
if((o.jr==null||K!=this.CS)&&o.Tc!=!0)for(var N=0;N<this.Zc.length;N++){var h=this.Zc[N],X={rect:h.Cn,buffer:h.CL},w={rect:h.Cn,buffer:h.PN};
if(o.KA=="Avrg"&&h.s7){X.buffer=h.CL.slice(0);l.v6(h.s7,X.buffer)}hb.la(o.KA,X,o.jr,this.sp(a.L$),this.sp(a.KT),w,[C.add.lnk2?C.add.lnk2:[],C.g[C.A[0]].KN(),C.JH,C.DE()]);
if(o.KA=="Avrg"&&h.s7){var G=h.CL.length;for(var N=0;N<G;N+=4)h.PN[N+3]=h.CL[N+3]}this.CS=K}c.i$.Lm(C,this.Zc,o.Tc)}if(o.C=="cancel"){c.i$.ahf(C,this.Zc);
this.Zc=null;this.CS=null}if(o.C=="confirm"){c.i$.t9(C,this.Zc,hb.names[o.KA],this);this.Zc=null;this.CS=null;
c.i$.zd(g,this.uT)}C.L();C.n6=!0};c.z1.prototype.Op=function(o,g){if(o.hN){var C=g.g[o.hN.l];if(o.Gv)g.E1(o.Gv);
C.add.SoLd=JSON.parse(JSON.stringify(o.al9));if(C.xT())C.UK(g);else{C.R9(g);C.U3=0}}else c.i$.o7(g,o);
g.L();g.n6=!0};c.z1.prototype.SW=function(o,g){if(o.hN){var C=g.g[o.hN.l];if(o.Gv)g.cg(o.Gv);C.add.SoLd=JSON.parse(JSON.stringify(o.anM));
if(C.xT())C.UK(g);else C.R9(g);if(!C.l9())C.qX+=32}else c.i$.o7(g,o);g.L();g.n6=!0};var e1={B3:"0",Yc:"1",W2:"2",fC:"3",Ih:"4",OF:"5",EW:"6",VJ:"7",q:"8",pF:"8.5",Xi:"8.8",bN:"9",ye:"10",Nf:"11",Yx:"12",Q0:"13",OL:"14",OG:"15",$G:"16",Zr:"21",Oc:"22",P8:"23",Kd:"23.0",in:"23.1",JT:"23.2",ZA:"23.3",wB:"23.4",pU:"23.5",s1:"23.6",ak6:"30",Mr:"31",HD:"40",DO:"41",F0:"42"};
e1.ZG={};e1.ZG[e1.Yc]=["abr","brushes",fD,[9,3]];e1.ZG[e1.W2]=["grd","gradients",ex,[12,37]];e1.ZG[e1.fC]=["shc","contours",fd,[12,21]];
e1.ZG[e1.Ih]=["asl","styles",eH,[12,22]];e1.ZG[e1.OF]=["pat","patterns",fB,[12,62]];e1.ZG[e1.EW]=["csh","shapes",dK,[12,77]];
e1.ZG[e1.VJ]=["aco","swatches",c2,[9,8]];e1.ZG[e1.q]=["atn","actions",i9,[9,9]];e1.ZG[e1.pF]=["tpl","tpresets",jF,[9,12]];
e1.ZG[e1.Xi]=["icc","profiles",gN,"ICCs"];function dC(o,g,C){if(C==null)C=!1;this.name=o;this.F=g;this.df=C;
this.data=null;this.a8L=Date.now()}var kn={};kn.C8=function(o,g){var C={t:"Clss",v:{classID:o}};if(g)C={t:"Enmr",v:{classID:o,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[C]}};kn.Ft=function(o,g){var C={classID:"Lyr"};C[o]=g;return{j7:"set",FS:{classID:"null",null:kn.C8("Lyr",!0),T:{t:"Objc",v:C}}}};
kn.anG=function(o,g,C,a,x){var K=new jO(D.E._h,!0),h=[],N=0,X=kn.fS(g,C,a,h);while(h.length!=0){var w=h.pop();
N++;if(!w.N)continue;console.log(N-1);if(w.j7=="conditional"){var G=o.g[o.A[0]],R=w.FS.null.v.Cndt,d=!1;
if(R=="Bckg")d=!1;else if(R=="Pxel"&&o.zj(!1))d=!0;else if(R=="Adjs"&&f6.get(G.add))d=!0;else if(R=="Shp"&&G.add.vogk)d=!0;
else if(R=="Grup"&&G.sP())d=!0;else if(R=="Opn"&&o!=null)d=!0;else if(R=="32Bt")d=!1;else if(R=="RGB")d=!0;
var q=w.FS.then,m=w.FS.else;if(d&&q)kn.fS(g,q.v[0].v.val,q.v[1].v.val,h);if(!d&&m)kn.fS(g,m.v[0].v.val,m.v[1].v.val,h)}else if(w.j7=="stop"){if(w.FS.Cntn&&w.FS.Cntn.v==!0)window.confirm(w.FS.Msge.v);
else{alert(w.FS.Msge.v);break}}else if(w.j7=="play"){var M=w.FS.null.v,Z=new jO(D.E.X,!0);Z.data={C:D.t.Q7,d2:[M[0].v.val,M[1].v.val]};
x.c(Z)}else{K.data={j7:w.j7,FS:w.FS};x.c(K)}}};kn.fS=function(o,g,C,a){var x;for(var N=0;N<o.length;
N++){if(o[N].Wm!=C)continue;var K=o[N].B9;for(var h=0;h<K.length;h++){if(K[h].Wm!=g)continue;x=K[h].B9}}var X=x.length;
for(var N=0;N<X;N++)a.push(x[X-1-N])};kn.a4p=function(o){var g=o.j7,C=o.FS,a,h,X,w,G;if(C&&C.null)a=C.null.v[0];
if(C&&a==null&&C.At)a=C.At.v[0];if(a&&a.t=="obj ")a=a.v[0];var x=a?a.v.classID:null,K=["purge"];if(K.indexOf(g)!=-1)return g[0].toUpperCase()+g.slice(1);
if(g=="GEfc"||g=="paintDaubs")return ey.names[C.GEfk.v.GEft][1];G=f6.UE;for(h in G)if(G[h]==g)X=h;G=hb.UE;
for(h in G)if(G[h]==g)w=h;if(X){var R=f6.tk(X,C);if(R!=-1)return[4,16,R];return f6.names[X]}if(w)return hb.names[w];
var d=kn.ahK;if(g=="make"){if(a){if(x=="AdjL")return[6,1];else if(x=="layerSection")return C.From?[6,9]:[6,20];
else if(x=="Lyr")return[6,13];else if(x=="Chnl"&&a.v.enum=="Msk")return[6,2];else if(x=="contentLayer")return[6,48,1];
else if(x=="BckL")return"Make Background Layer";else if(x=="Path")return"Make Path";else if(x=="TxLr")return"Make Text Layer";
else if(x=="slice")return"Make Slices"}if(C.Nw){x=C.Nw.v.classID;if(x=="Dcmn")return[11,7];else if(x=="Chnl"||x=="SCch")return"New Channel"}}else if(g=="deselect"){if(x=="Path")return"Deselect current path";
else throw x}else if(g=="select"){if(x=="Chnl")return"Select "+(a.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(x=="Mn")return"Select Panel \""+a.v.enum+"\"";else if(x=="Lyr"){if(a.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[a.v.enum]+" Layer";
return"Select Layer \""+a.v.val+"\""}else if(x=="Path")return"Select Path";else if(x=="Brsh")return"Select Brush";
else if(x=="Dcmn")return"Select Document"}else if(d[g]&&x=="Chnl"){var q=a.v.keyID=="fsel";return d[g]+" "+(q?"Selection":"Channel")}else if(g=="set"){if(x=="Lyr")return"Set Current Layer";
else if(x=="AdjL")return[6,39];else if(x=="contentLayer")return[6,48,2];else if(x=="Prpr"){var m=a.v.keyID;
if(m=="TxtS")return"Set Text Style";else if(m=="paragraphStyle")return"Set Paragraph Style";else if(m=="Lefx")return[11,6];
else console.log(m)}else if(x=="Clr")return"Set "+(a.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(x=="Brsh")return"Set Brush";else console.log(x)}else if(g=="move"){if(x=="Lyr")return"Move Layer";
else if(x=="Chnl"&&a.v.keyID=="fsel")return[7,7];else console.log(x)}else if(g=="show"||g=="hide"){var M="";
if(x=="Lyr")+"Layer";if(x=="Chnl")+"Channel";return(g=="show"?"Show":"Hide")+" "+M}else if(g=="reset"){if(x=="Clr")return"Reset Colors"}else if(g=="exchange"){if(x=="Clr")return[22,7,0]}else if(g=="rotateEventEnum")return[2,5];
else if(g=="flip"){var Z=C.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,Z?2:3]]}if(x=="Chnl"){if(g=="duplicate"){if(a.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(g=="delete")return"Delete Channel"}if(g=="transform")return a&&a.v.keyID=="fsel"?[7,10]:[10,16];
var Q={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:C?x=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},p=Q[g];
if(p==null)p=kn.a1U[g];if(p)return p;return g};kn.a1U={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
kn.ahK={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
kn.a5I=function(o,g,C,a){var x=o.j7,K=o.FS,h=!1,X=new jO(D.E.q,!0),R,d,q,m;X.F=c.qd;var w=new jO(D.E.X,!0),G=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(G.indexOf(x)!=-1)return;m=f6.UE;for(R in m)if(m[R]==x)d=R;m=hb.UE;for(R in m)if(m[R]==x)q=R;if(x=="fade")d=x;
if(x=="matchColor")d="matc";if(x=="applyImageEvent")d="aply";if(d){X.F=c.i1;X.data={C:"start",ss:d,jr:K}}else if(q){X.F=c.C3;
X.data={C:"start",KA:q,jr:K}}else if(x=="GEfc"||x=="paintDaubs"){X.F=c.C3;X.data={C:"start",KA:"GEfc",jr:K}}else if(x=="imageSize"||x=="canvasSize"||x=="revealAll"||x=="trim"||x=="crop"){X.F=c.IM;
X.data={C:"fromAction",mb:o}}else if(x=="fill"||x=="stroke"||x=="delete"&&K==null){X.F=c.Yc;X.data={C:"fromAction",mb:o}}else if(x=="colorRange"){X.F=c.pn;
X.data={C:"fromAction",mb:o}}else if(kn.a1U[x]||kn.ahK[x]&&(!1||K.With&&K.With.v[0].v.keyID=="fsel"||K.From&&K.From.v[0].v.keyID=="fsel"||K.null&&K.null.v[0].v.keyID=="fsel"||K.T.v[0]&&K.T.v[0].v.keyID=="fsel")){X.F=c.pn;
X.data={C:"fromAction",mb:o}}var M={copyToLayer:A.j9,cutToLayer:A.D5,mergeLayersNew:A.nd,rasterizeLayer:A.a9Y,mergeVisible:A.e9,flattenImage:A.an2,newPlacedLayer:A.fa};
if(M[x])X.data={C:M[x],FS:K};if(X.data){g.c(X);return}if(x=="collapseAllGroupsEvent"){for(var N=0;N<a.g.length;
N++){var Z=a.g[N];if(Z.sP())Z.add.lsct=kj.vz}a.b0=!0;return}if(x=="desaturate"){X.F=c.i1;X.data={C:"auto",d1:3};
if(a&&a.g[a.A[0]].add.SoLd==null)g.c(X);return}if(x=="close"){if(K.Svng.v.YsN=="Ys"){w.data={C:D.t.Yg};
g.c(w)}w.data={C:D.t.kX,bf:a};g.c(w);return}if(x=="save"){w.data={C:D.t.Yg};g.c(w);return}if(x=="copyMerged"){w.data={C:D.t.ZK,lt:!0,l7:!0};
g.c(w);return}var M={placedLayerEditContents:D.t.a9g,copyEvent:D.t.ZK,paste:D.t.wG};if(M[x])w.data={C:M[x],l7:!0};
if(w.data){g.c(w);return}console.log(x,K);var Q=K.null?K.null.v:null,p=Q?Q[0].v.classID:"";if(x=="make"){if(K.null==null&&K.Nw)p=K.Nw.v.classID;
if(p=="AdjL"){X.data={C:A.Sc,FS:K}}else if(p=="layerSection"){X.data=K.From?{C:A.Sb}:{C:A._g};if(K.Usng){var y=K.Usng.v;
if(y.Nm)X.data.fT=y.Nm.v;if(y.Clr)X.data.iL=kn._W(y)}}else if(p=="Lyr"){if(K.Usng&&K.Usng.v.length==2)X.data={C:A.ajm};
else{X.data={C:A.Hv};if(K.Usng)X.data.fT=K.Usng.v.Nm.v;if(K.below&&K.below.v)X.data.amh=!0}}else if(p=="Chnl"&&K.At&&K.At.v[0].v.enum=="Msk"){X.data={C:A.VS,ZY:K.Usng.v.UsrM}}else if(p=="Chnl"||p=="SCch"){X.data={C:A.W9,JI:"fromAction",k:o}}else if(p=="contentLayer"){X.data={C:A.AU,FS:K}}else if(p=="BckL"){a.g[a.A[0]].a44();
return}else if(p=="Dcmn"){var V=K.Nw.v;w.data={C:D.t.Ds,db:aX.aa2(V,C)}}else if(p=="Ptrn")w.data={C:D.t._x,eA:0};
else if(p=="Path"){X.F=c.zL;X.data={C:"pathedit",JI:"fromsel"}}else if(p=="TxLr"){X.F=c.rv;X.data={C:"fromAction",mb:o}}else if(p=="slice"){X.F=c.i7;
X.data={C:"fromAction",mb:o}}else{console.log(x,p,K);throw"e"}}else if(x=="deselect"){if(p=="Path"){a.AW=[];
a.b0=a.dF=!0;return}else throw p}else if(x=="selectNoLayers"){a.A=[];a.n6=!0}else if(x=="select"){var W={PcTl:c.yC,PbTl:c.Yc,moveTool:c.zO,cloneStampTool:c.em,typeCreateOrEditTool:c.rv,artboardTool:c.Uo,marqueeRectTool:c.pn,typeVerticalCreateOrEditTool:c.v7,perspectiveCropTool:c.T7,marqueeEllipTool:c.I0,eyedropperTool:c.sd,eraserTool:c.p_,pathComponentSelectTool:c.zL,lassoTool:c.w_,backgroundEraserTool:c.G0,directSelectTool:c.iM,polySelTool:c.z8,rectangleTool:c.FA,magneticLassoTool:c.sI,gradientTool:c.zb,quickSelectTool:c.wg,bucketTool:c.Cm,ellipseTool:c.Gh,magicWandTool:c.nX,blurTool:c.vw,polygonTool:c.yu,cropTool:c.IM,sharpenTool:c.B8,lineTool:c.Ie,sliceTool:c.i7,smudgeTool:c.bt,customShapeTool:c.Et,sliceSelectTool:c.hh,dodgeTool:c.dv,spotHealingBrushTool:c.jy,burnInTool:c.Xs,saturationTool:c.gD,penTool:c.x1,redEyeTool:c.oU,freeformPenTool:c.Hf,rulerTool:c.UC,paintbrushTool:c.Yc,handTool:c.rT,pencilTool:c.yC,zoomTool:c.SL,objectSelectTool:c.h4,healingBrushTool:c.Zm,patchTool:c.Qi,contentAwareMoveTool:c.YE,colorReplacementBrushTool:c.oL,curvaturePenTool:c.XJ,rotareViewTool:c.Ue};
if(p=="Lyr"){var v=K.selectionModifier,j=v?v.v.selectionModifierType:null,T=kn.qz(a,Q[0]);if(T==-1){alert("Layer "+Q[0].v.val+" does not exist.");
return}X.data={C:A.Cy,l:T,K0:j?["addToSelection","addToSelectionContinuous"].indexOf(j):null,hi:0}}else if(p=="Path"){if(Q[0].v.keyID=="WrPt"){a.AW=[0];
a.b0=a.dF=!0;return}else throw Q[0]}else if(p=="Chnl"){X.data={C:A.Cy,l:T,hi:1}}else if(p=="Dcmn"){if(g.h3.length<2)return;
w.data={C:D.t.a2z,dir:K.null.v[0].v.val}}else if(p=="Brsh"){var O=C.v1.list,L;for(var N=0;N<O.length;
N++){if(O[N].v.Nm.v==Q[0].v.val)L=O[N].v}w.data={C:D.t.sM,eA:e1.OL,qn:L}}else if(p=="Mn"){if(Q[0].v.enum=="Scl")w.data={C:D.t.JG,F:c.GD,HB:{ZY:3}};
if(Q[0].v.enum=="Plce")w.data={C:D.t.tf,av8:!0};if(Q[0].v.enum=="ZmIn"){X.F=c.SL;X.data={C:"zoom",ri:!0}}if(Q[0].v.enum=="ZmOt"){X.F=c.SL;
X.data={C:"zoom",ri:!1}}if(Q[0].v.enum=="FtOn"){X.F=c.SL;X.data={C:"adapt",k:"fitscr"}}}else if(W[p]){w.data={C:D.t.JG,F:W[p]}}else throw p}else if((x=="set"||x=="reset"||x=="exchange")&&p=="Clr"){w.data={C:D.t.sM,eA:e1.Zr,JI:x=="reset"?3:2};
if(x=="set"){w.data.JI=Q[0].v.keyID=="FrgC"?0:1;var S=l.T.Xh(K.T.v);w.data.k=S.z<<16|S.B<<8|S.K}}else if(x=="set"){if(p=="AdjL"){var $=K.T.v.classID;
$=f6.su[$];X.F=c.i1;if($)X.data={C:"edit_layer",k:K.T.v}}else if(p=="Lyr"){var H=K.T.v,T=kn.qz(a,Q[0]);
for(var f in H){if(f=="classID")continue;X.F=c.qd;if(f=="Nm")X.data={C:A.Hg,name:H.Nm.v};else if(f=="Opct")X.data={C:A.D9,kq:Math.round(H.Opct.v.val*255/100)};
else if(f=="fillOpacity")X.data={C:A.fH,kq:Math.round(H.fillOpacity.v.val*255/100)};else if(f=="Md")X.data={C:A.Eq,kq:cP.J1.indexOf(H.Md.v.BlnM)+(a.g[T].sP()?1:0)};
else if(f=="Usrs")X.data={C:A.Lx,l:T};else if(f=="Blnd"){X.F=c.gc;X.data={C:"setstl",l:T,k:{blendOptions:{t:"objc",v:H}}};
g.c(X);X.data={C:"confirm",l:T}}else if(f=="userMaskFeather"||f=="userMaskDensity"){var F=H.userMaskFeather,U=H.userMaskDensity,T=a.A[0],r=a.g[T].D_(0);
if(F)r.To=F.v.val;if(U)r.W7=U.v.val;X.data={C:A.Mn,bD:T,Fa:r}}else if(f=="Clr"){var E=kn._W(H);X.data={C:A.hJ,abd:E}}else if(f=="Lefx")kn.amV(g,T,H.Lefx.v,C);
else{console.log(K);throw f}if(X.data){g.c(X);delete X.data}}X.data={};var Z=a.g[T];Z.agX()}else if(p=="Prpr"){var H=JSON.parse(JSON.stringify(K.T.v)),T=kn.qz(a,K.null.v[1]),Z=a.g[T],k=Q[0].v.keyID;
if(k=="TxtS"||k=="paragraphStyle"){var P=Z.add.TySh,z=JSON.parse(JSON.stringify(P.cp)),s=bv.cR(z),Y=bv.SX(z,0,s.length-2);
if(k=="TxtS")bv.a9E(H,Y);else bv.aru(H,Y);bv.dG(z,0,s.length-1,Y);X.F=c.rv;X.data={C:"newED",$w:T,Ps:z}}else if(k=="Lefx"){for(var t in H)if(H[t].v){if(t=="Scl")H[t].v.val=100}kn.amV(g,T,H,C);
X.data={}}else throw k}else if(p=="contentLayer"){var T=kn.qz(a,Q[0]),H=K.T.v;if(H.classID=="shapeStyle")H=H.FlCn.v;
var n={solidColorLayer:0,gradientLayer:1,patternLayer:2}[H.classID],J=c.R7.Kp(a,T),q=J.mf==n+1?J.NL:hf.vq[n];
q=JSON.parse(JSON.stringify(q));c.Nk.u8(H,q,n);X.data={C:A.GF,IA:[T],I2:!0,k:{mf:n+1,NL:q}}}else if(p=="Brsh"){var L=JSON.parse(JSON.stringify(C.v1.WE)),I=K.T.v;
if(I.masterDiameter)L.Brsh.v.Dmtr.v.val=I.masterDiameter.v.val;else console.log("unknown brush parameters");
w.data={C:D.t.sM,eA:e1.OL,qn:L}}else{console.log(Q[0],K);throw p}}else if(x=="move"){if(p=="Lyr"){var H=K.T.v;
if(H.classID=="Ofst"){X.data={C:"trsl",pV:H.Hrzn.v.val,Ed:H.Vrtc.v.val};X.F=c.zO}else{var fp,cH;if(H[0].t=="Enmr"){if(H[0].v.enum=="Frnt")cH=0;
else if(H[0].v.enum=="Nxt")cH=1;else if(H[0].v.enum=="Prvs")cH=2;else if(H[0].v.enum=="Back")cH=3;else throw"e"}else fp=H[0].v.val;
X.data={C:A.Xx,target:fp,JI:cH,akt:K.Dplc?K.Dplc.v:!1}}}else if(p=="Chnl"&&Q[0].v.keyID=="fsel"){X.F=c.pn;
X.data={C:"fromAction",mb:o}}}else if(x=="groupEvent"||x=="ungroup")X.data={C:A.zG};else if(x=="show"||x=="hide"){var b=Q[0].v;
for(var N=0;N<b.length;N++){var jL=b[N],p=jL.v.classID;if(p=="Lyr"){if(X.data==null)X.data={C:A.Jb,IA:[]};
var T=kn.qz(a,jL);if(T==-1)continue;var aq=a.g[T].aL();if(x=="show"&&aq||x=="hide"&&!aq)continue;X.data.IA.push(T)}else if(p=="Chnl"){X.data={C:A.W9,JI:"fromAction",k:o}}else if(p=="filterFX"){if(jL.v.val!=null)X.data={C:A.kd,index:jL.v.val-1};
X.data={C:A._f}}}}else if(x=="rotateEventEnum"){X.F=c.IM;var cJ=K.Angl.v.val;X.data={C:"rot",Wm:[2,5],k:-cJ*Math.PI/180}}else if(x=="flip"){X.F=c.IM;
var aB=K.Axis.v.Ornt=="Hrzn",au=aB?new eN(-1,1):new eN(1,-1);X.data={C:"scl",Wm:[[2,6],[22,4,aB?2:3]],k:au}}else if(x=="transform"){var ea=1,ax=1,f1=0,fk=0,hF=0,fm=0,jE=0;
if(K.Wdth)ea=K.Wdth.v.val/100;if(K.Hght)ax=K.Hght.v.val/100;if(K.Skew){var ff=K.Skew.v;f1=ff.Hrzn.v.val;
fk=ff.Vrtc.v.val}if(K.Ofst){var d5=K.Ofst.v;fm=d5.Hrzn.v.val;jE=d5.Vrtc.v.val}if(K.Angl)hF=K.Angl.v.val;
var eF=new kp;eF.concat(new kp(ea,ea*Math.tan(fk*Math.PI/180),ax*Math.tan(f1*Math.PI/180),ax,0,0));eF.rotate(-hF*Math.PI/180);
eF.translate(fm,jE);var gI={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[K.FTcs.v.QCSt];
if(gI==null)throw K.FTcs.v.QCSt;var Q=K.null;if(Q&&Q.v instanceof Array)Q=Q.v[0];var T=Q?kn.qz(a,Q):null;
if(T==-1)T=null;X.F=Q&&Q.v.keyID=="fsel"?c.bC:c.GD;X.data={C:"mat",YX:gI,k:eF}}else if(x=="duplicate"){if(p=="Chnl")X.data={C:A.W9,JI:"fromAction",k:o};
else X.data={C:A.XC,fT:K.Nm?K.Nm.v:null}}else if(x=="delete"){if(p=="filterFX"){if(Q[0].v.val!=null)X.data={C:A.fV,Im:Q[0].v.val-1};
else X.data={C:A.Bm}}else if(p=="Path"){X.F=c.zL;X.data={C:"pathedit",JI:"del"}}else if(p=="Lyr")X.data={C:A.pr};
else if(p=="Chnl"&&Q[0].v.enum=="Msk")X.data={C:A.M1};else if(p=="Chnl")X.data={C:A.W9,JI:"fromAction",k:o};
else throw p}else if(x=="align"){if(K.Aply&&K.Aply.v.projection=="Auto"){X.F=c.IM;X.data={C:"auto-align"}}else{X.F=c.zO;
var fE=K.Usng.v.ADSt,d={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[fE];if(d==null)throw fE;X.data={C:"algn",k:d}}}else if(x=="applyLocking"){var js=K.layerLocking.v,d8;
if(js.protectTransparency)d8=[[js.protectTransparency.v],[0]];else if(js.protectNone)d8=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(js);throw"e"}X.data={C:A.Tg,kq:d8}}if(X.data)g.c(X);else if(w.data)g.c(w);else{console.log(o);
alert("Unknown action \""+x+"\"");throw"e"}};kn.amV=function(o,g,C,a){C=JSON.parse(JSON.stringify(C));
fu.Ne(C);if(C.masterFXSwitch==null)C.masterFXSwitch={t:"bool",v:!0};console.log(C);var x=hf.l8;for(var K=0;
K<x.length;K++)if(C[x[K]]){for(var N=0;N<C[x[K]].v.length;N++){var h=C[x[K]].v[N].v,X=h.TrnS;if(X==null)X=h.MpgS;
if(X&&X.v.Crv==null){var w=X.v,G=w.Nm.v.split("=").pop(),R=a.Dk;for(var d=0;d<R.length;d++){var q=R[d].Nm.v.split("=").pop();
if(q==G)w.Crv=JSON.parse(JSON.stringify(R[d].Crv))}if(X.v.Crv==null){console.log(X);throw"e"}}}}var m=new jO(D.E.q,!0);
m.F=c.gc;m.data={C:"setstl",l:g,k:{Lefx:{t:"objc",v:C}}};o.c(m);m.data={C:"confirm",l:g};o.c(m)};kn._W=function(o){var g={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[o.Clr.v.Clr];
if(g==null)throw o.Clr.v.Clr;return g};kn.qz=function(o,g){var C=1e6,a=0,x=o.g.length;for(var N=0;N<o.A.length;
N++){C=Math.min(C,o.A[N]);a=Math.max(a,o.A[N])}var K=g.t,h=-1;if(K=="name"){var X=g.v.val,h=-1;for(var N=0;
N<x;N++)if(o.g[N].getName()==X){h=N;break}}else if(K=="Enmr"){if(o.A.length!=0)h=o.A[0];if(g.v.enum=="Frwr")h=a+1;
if(g.v.enum=="Bckw")h=C-1;if(g.v.enum=="Back")h=0;if(g.v.enum=="Frnt")h=x-1;h=(h+x)%x}else if(K=="prop"){if(g.v.keyID=="Bckg")h=0}return h};
var f6={};f6.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
f6.aux=["expA","clrL","selc"];f6.cQ=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];f6.a7G=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
f6.WK=[[13,1,1],[13,1,4],[13,1,5]];f6.Ry={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
f6.su=function(){var o=JSON.parse(JSON.stringify(f6.Ry));delete o.GrMp;o.GdMp="grdm";return o}();f6.UE={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
f6.keys={levl:[c_.Ns,c_.pY],curv:[c_.Ns,c_.AL],hue2:[c_.Ns,c_.Tu],nvrt:[c_.Ns,c_.zp],blnc:[c_.Ns,c_.A_]};
f6.av2=function(o){var g=hb.l3("mixr");g.Mnch={t:"bool",v:o.wl};function C(a,N){var x={classID:"ChMx"},K={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var h in K)x[h]={t:"UntF",v:{type:"#Prc",val:a[N+K[h]]}};return{t:"Objc",v:x}}if(o.wl)g.Gry=C(o.k,0);
else{g.Rd=C(o.k,0);g.Grn=C(o.k,5);g.Bl=C(o.k,10)}return g};f6.WI=function(o){function g(a,x,N){var K={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var h in K)if(a[h])x[N+K[h]]=a[h].v.val}var C={wl:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(o.Mnch&&o.Mnch.v)C.wl=!0;if(C.wl)g(o.Gry.v,C.k,0);else{g(o.Rd.v,C.k,0);g(o.Grn.v,C.k,5);g(o.Bl.v,C.k,10)}return C};
f6.get=function(o){for(var g in f6.names)if(o[g]!=null)return g;return null};f6.v4=function(o,g){var C=f6.pO,a;
if(o=="brit"){var x=g.Brgh?g.Brgh.v:0,K=g.Cntr?g.Cntr.v:0,h=g.useLegacy?g.useLegacy.v:!1;if(h){var X=x/255,w=1+K/100;
if(w>1)w=1+Math.tan(Math.PI/2*K/101);var G=(1-w)/2,R=l.Rk.SM(X,X,X),d=[w,0,0,G,0,w,0,G,0,0,w,G,0,0,0,1],q=l.Rk.multiply(R,d),m=new l.ib(256);
for(var N=0;N<256;N++)m.z[N]=N;l.Rk.transform(m,m,q);a={type:C.ON,v5:m.z,Qh:m.z,O6:m.z,jp:!1,WV:!1}}else{var M=1024,Z=-30+60*(K+100)/200,Q=[];
for(var N=0;N<4;N++)Q.push(l.QG.bR(N/3*255,N/3*255,!0));Q[1].v.Hrzn.v=64;Q[1].v.Vrtc.v=64-Z;Q[2].v.Hrzn.v=128+64;
Q[2].v.Vrtc.v=128+64+Z;Q.sort(function(d0,jZ){return d0.v.Hrzn.v-jZ.v.Hrzn.v});var p=l.QG.or(Q,M);function y(d0,M){var Q=[],ee=3;
for(var N=0;N<ee+1;N++)Q.push(l.QG.bR(N/ee*255,N/ee*255,!0));Q[1].v.Hrzn.v=130-d0*26;Q[1].v.Vrtc.v=130+d0*51;
Q[2].v.Hrzn.v=233-d0*48;Q[2].v.Vrtc.v=233+d0*10;return l.QG.or(Q,M)}var V=y(Math.abs(x)/100,M);if(x<0){var W=[],v=1/M;
for(var N=0;N<M;N++){var j=N*v,e=N;while(V[e]>j&&e>1)e--;W[N]=e*v}V=W}var T=new Uint8Array(M);for(var N=0;
N<M;N++){var O=Math.round((M-1)*V[N]);T[N]=Math.round(255*p[O])}a={type:C.ON,v5:T,Qh:T,O6:T,jp:!1,WV:!1}}}if(o=="levl"){var L=[],S,$,R,H,f,F;
for(var N=0;N<4;N++)L.push(h5.Ca(g,N));S=-L[0][0]/255;$=1/(L[0][1]/255-L[0][0]/255);R=l.Rk.multiply(l.Rk.V$($,$,$),l.Rk.SM(S,S,S));
H=l.Rk.V$(1/(L[1][1]/255-L[1][0]/255),1/(L[2][1]/255-L[2][0]/255),1/(L[3][1]/255-L[3][0]/255));f=l.Rk.SM(-L[1][0]/255,-L[2][0]/255,-L[3][0]/255);
F=l.Rk.multiply(H,f);var T=new l.ib(256);for(var N=0;N<256;N++)T.z[N]=T.B[N]=T.K[N]=N;var U=1/(L[0][4]/100),r=1/(L[1][4]/100),E=1/(L[2][4]/100),k=1/(L[3][4]/100);
l.Rk.transform(T,T,F);for(var N=0;N<256;N++){T.z[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.z[N]/255,r))));
T.B[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.B[N]/255,E))));T.K[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.K[N]/255,k))))}l.Rk.transform(T,T,R);
for(var N=0;N<256;N++){T.z[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.z[N]/255,U))));T.B[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.B[N]/255,U))));
T.K[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.K[N]/255,U))))}S=L[0][2]/255;$=L[0][3]/255-L[0][2]/255;
R=l.Rk.multiply(l.Rk.SM(S,S,S),l.Rk.V$($,$,$));H=l.Rk.V$(L[1][3]/255-L[1][2]/255,L[2][3]/255-L[2][2]/255,L[3][3]/255-L[3][2]/255);
f=l.Rk.SM(L[1][2]/255,L[2][2]/255,L[3][2]/255);F=l.Rk.multiply(f,H);l.Rk.transform(T,T,l.Rk.multiply(R,F));
a={type:C.ON,v5:T.z,Qh:T.B,O6:T.K,jp:!1,WV:!1}}if(o=="curv"){var P=j3.Ca(g,0).length==256?1:0,z=[];if(P==0){var s=l.QG.pg(j3.Ca(g,0),256);
for(var N=1;N<4;N++){var Y=l.QG.pg(j3.Ca(g,N),256);z.push(l.QG.Xr(Y,s))}}else{var t=[];for(var N=0;N<4;
N++){var n=new Uint8Array(256);t.push(n);var J=j3.Ca(g,N);for(var e=0;e<256;e++)n[e]=J[e]}for(var N=1;
N<4;N++)z.push(l.QG.Xr(t[N],t[0]))}a={type:C.ON,v5:z[0],Qh:z[1],O6:z[2],jp:!1,WV:!1}}if(o=="expA"){var I=g.Exps,fp=g.Ofst,cH=g.gammaCorrection,b=I?I.v:0,jL=fp?fp.v:0,aq=cH?cH.v:1,T=new Uint8Array(256);
for(var N=0;N<256;N++){var g=N/255,cJ=Math.pow(Math.abs(jL),1/(Math.PI/2));if(jL>0){g=Math.max(jL/Math.E,g);
g=g*Math.exp(jL/1.75+b/Math.PI);g=(1-cJ)*g+cJ*1}else{g=g*Math.exp(-jL*1.75+b/Math.PI);g=g+-cJ*1.14}g=Math.pow(g,1/aq);
g=Math.max(0,Math.min(1,g));T[N]=Math.round(g*255)}a={type:C.ON,v5:T,Qh:T,O6:T,jp:!1,WV:!1}}if(o=="vibA"){var aB=(g.vibrance?g.vibrance.v:0)/100,au=(g.Strt?g.Strt.v:0)/100,cJ=1+aB*(aB>0?.25:.5),ea=.8+.2/cJ;
a={type:C.Ck,eA:[aB,au,ea,cJ]}}if(o=="hue2"){var ax=[],f1=[],fk=[],hF=g.Clrz?g.Clrz.v:!1;for(var N=0;
N<256;N++){ax[N]=N/255;f1[N]=0;fk[N]=0}var fm=aw.Ca(g,0),jE=f6.Yr(fm[1]/100);if(hF){var ff=fm[0]/360;
for(var N=0;N<256;N++){ax[N]=ff;f1[N]=jE}}else{for(var N=0;N<256;N++){var d5=ax[N],eF=f1[N];ax[N]+=fm[0]/360;
for(var e=0;e<6;e++){var gI=aw.Ca(g,e+1),fE=gI.yF,js=gI.vU,cJ=0;for(var d8=1;d8<4;d8++)if(js[d8]<js[0])js[d8]+=360;
var bt=js[0],io=js[1],ha=js[2],dp=js[3],gS=d5*360;if(gS<js[0])gS+=360;var aP=(gS-bt)/(io-bt),gD=(gS-ha)/(dp-ha);
if(aP<0)cJ=0;else if(aP<1)cJ=aP;else if(gD<0)cJ=1;else if(gD<1)cJ=1-gD;else cJ=0;var w=f6.Yr(fE[1]/100);
ax[N]+=cJ*fE[0]/360;f1[N]+=cJ*w;fk[N]+=cJ*fE[2]/100}}for(var N=0;N<256;N++){f1[N]=(1+f1[N])*(1+jE)-1;
fk[N]=Math.max(-1,Math.min(1,fk[N]))}}var fA=new Uint8Array(256),jH=new Uint8Array(256),aM=new Uint8Array(256);
for(var N=0;N<256;N++){var jc=ax[N],au=f1[N],eQ=fk[N];if(jc>1)jc--;if(jc<0)jc++;au=f6.abP(au);au=(1+au)*.5;
eQ=(1+eQ)*.5;fA[N]=Math.round(255*jc);jH[N]=Math.round(255*au);aM[N]=Math.round(255*eQ)}var j1=fm[2]/100,i7=j1<0?-j1:j1,fT=j1<0?0:1;
a={type:C.Y$,apY:fA,bB:jH,atL:aM,asE:i7*fT,_T:1-i7,a65:fm[2]/100,ao2:hF?1:0}}if(o=="nvrt"){var T=new Uint8Array(256);
for(var N=0;N<256;N++)T[N]=255-N;a={type:C.ON,v5:T,Qh:T,O6:T,jp:!1,WV:!1}}if(o=="post"){var hy=g.Lvls.v,T=new Uint8Array(256),cJ=hy/255.001,hJ=255/(hy-1);
for(var N=0;N<256;N++)T[N]=Math.floor(N*cJ)*hJ;a={type:C.ON,v5:T,Qh:T,O6:T,jp:!1,WV:!1}}if(o=="grdm"){var db=g.Grad.v,jK=g.Rvrs,M=1024,h_;
if(db.Clrs){var dM=l.T.V2(db.Clrs.v,0,0);h_=l.T.bg(db,dM,M,jK?jK.v:!1)}else{h_=l.T.qu(db,M,jK?jK.v:!1)}var eW=l.Z(M),ip=l.Z(M),fS=l.Z(M);
l.eP(h_,eW,0);l.eP(h_,ip,1);l.eP(h_,fS,2);a={type:C.ON,v5:eW,Qh:ip,O6:fS,jp:!0,WV:!1}}if(o=="selc"){var hS=new Float32Array(9*3*2),bB=g.AD,g_=g.Mthd?g.Mthd.v.CrcM=="Absl":!1;
for(var e=0;e<9;e++){var e4=e*6,e0=hp.Ca(g,e),jC=e0[0]/100,i4=e0[1]/100,hO=e0[2]/100,eq=e0[3]/100;if(g_){hS[e4]=hS[e4+1]=hS[e4+2]=1;
hS[e4+3]=jC*(1+eq)+eq;hS[e4+4]=i4*(1+eq)+eq;hS[e4+5]=hO*(1+eq)+eq}else{hS[e4+0]=(1+jC)*(1+eq);hS[e4+1]=(1+i4)*(1+eq);
hS[e4+2]=(1+hO)*(1+eq)}}a={type:C.CO,a5W:hS}}if(o=="blwh"){var ig="Rd Yllw Grn Cyn Bl Mgnt".split(" "),a=[],hY=0,b8=0;
for(var N=0;N<6;N++)a.push(g[ig[N]].v);a.push(g.useTint.v,g.tintColor.v);var bc=[];for(var N=0;N<6;N++)bc.push((a[N]-50)/50);
var aa=l.T.Xh(a[7]);aa.z/=255;aa.B/=255;aa.K/=255;var cn=l.br(aa.z,aa.B,aa.K),eQ=l.Is(l.vr(cn.fB,1,.5)),iu=cn.ZQ*cn.jr;
if(eQ==.5)hY=b8=.5;else{hY=iu*(.5-eQ)/(.5/eQ-1);b8=1-iu*(.5-eQ)-1/(2*(1-eQ));b8/=1-1/(2*(1-eQ))}a={type:C.BG,ahb:bc,uQ:a[6]?1:0,acu:cn.fB,Is:eQ,aaD:iu,$m:hY,asj:b8}}if(o=="blnc"){var L=[],b$=["ShdL","MdtL","HghL"];
for(var N=0;N<3;N++){if(g[b$[N]]==null){L[N]=[0,0,0];continue}var hy=g[b$[N]].v,cY=hy[0].v/100,bX=hy[1].v/100,b_=hy[2].v/100,gu=g.PrsL==null||g.PrsL.v?(Math.min(cY,bX,b_)+Math.max(cY,bX,b_))/2:0;
L[N]=[cY-gu,bX-gu,b_-gu]}var z=[l.Z(256),l.Z(256),l.Z(256)];for(var e=0;e<3;e++)for(var N=0;N<256;N++){var j=N*(1/255),cw=0,Z=0,g9=0;
Z=L[2][e];g9=Math.abs(Z);if(Z<0)cw=Math.pow(j,Math.SQRT2);else cw=1.63*(Math.pow(j+.04,.5)-.2);j=g9*cw+(1-g9)*j;
Z=L[1][e];g9=Math.abs(Z);if(Z<0)cw=Math.pow(j,2);else cw=Math.min(2.35*(Math.pow(j+.09,.5)-.3),Math.pow(j,1/2));
j=g9*cw+(1-g9)*j;Z=L[0][e];g9=Math.abs(Z);if(Z<0)cw=j<.4?0:Math.pow((j-.4)/.6,Math.SQRT2);else cw=Math.pow(j,Math.SQRT2/2);
j=g9*cw+(1-g9)*j;j=Math.max(0,Math.min(1,j));z[e][N]=Math.round(j*255)}a={type:C.ON,v5:z[0],Qh:z[1],O6:z[2],jp:!1,WV:!1}}if(o=="phfl"){var eS=l.T.Xh(g.Clr.v),gK=[eS.z/255,eS.B/255,eS.K/255],aW=g.Dnst.v/100,z=[l.Z(256),l.Z(256),l.Z(256)];
for(var e=0;e<3;e++)for(var N=0;N<256;N++){var j=N*(1/255),jf=j*gK[e];jf=Math.max(0,Math.min(1,jf));
j=aW*jf+(1-aW)*j;z[e][N]=Math.round(j*255)}a={type:C.ON,v5:z[0],Qh:z[1],O6:z[2],jp:!1,WV:g.PrsL.v}}if(o=="thrs"){var T=l.Z(256);
for(var N=g.Lvl.v;N<256;N++)T[N]=255;a={type:C.ON,v5:T,Qh:T,O6:T,jp:!0,WV:!1}}if(o=="mixr"){var im=f6.WI(g),q=[];
for(var N=0;N<im.k.length;N++)if(N%5!=3)q.push(im.k[N]/100);if(im.wl){for(var hE=1;hE<3;hE++)for(var j=0;
j<4;j++)q[hE*4+j]=q[j]}a={type:C.y9,t_:q}}if(o=="rplc"){var c6=g.Mnm.v,dn=g.Mxm.v;a={type:C.wA,rd:[c6.Lmnc.v,c6.A.v,c6.B.v],U4:[dn.Lmnc.v,dn.A.v,dn.B.v],shift:[g.H.v/360,g.Strt.v/100,g.Lght.v/100],lI:g.Fzns.v/150}}if(o=="clrL"&&g.profile){var aR=new Uint8Array(g.profile.v),hK=ICC.R(aR.buffer),bh=[],f2=17,bh=ICC.U.sampleLUT(hK,f2);
a={type:C.Qs,CL:ICC.U.rgba8LUT(bh,f2),arO:bh,p$:f2}}return a};f6.tk=function(o,g){var C=-1;if(o!="levl"||g==null)C=-1;
else if(g.Auto)C=0;else if(g.AuCo)C=1;else if(g.autoBlackWhite)C=2;return C};f6.pO={ON:0,Y$:1,Ck:2,CO:3,BG:4,y9:5,wA:6,Qs:7};
f6.Yr=function(o){if(o<0)return o;return Math.pow(Math.tan(Math.PI/2*o),1.3)};f6.abP=function(o){if(o<0)return o;
o=Math.pow(o,1/1.3);return Math.atan2(o,1)/(Math.PI/2)};f6.la=function(o,g,C,a){var x=f6.pO,K=Date.now();
if(i.LH&&a.$()>300*300&&o.type!=x.ON&&o.type!=x.Qs){a=a.clone();a.x=a.y=0;var h=i.Jn(0,a.m,a.n);h.set(g);
i.CG(h,a);h.RO(a);f6.kH(o,h.R6,a);h.get(C);return}if(o.type==x.Qs){var X=o.arO,w=o.p$;ICC.U.applyLUT(X,w,g,C);
var G=g.length;for(var N=0;N<G;N+=4)C[N+3]=g[N+3]}if(o.type==x.y9)l.Rk.pL(g,C,o.t_);if(o.type==x.BG){var R=o.aaD,d=o.Is,q=o.$m,m=o.asj,G=g.length;
for(var N=0;N<G;N+=4){var a=g[N]*(1/255),M=g[N+1]*(1/255),Z=g[N+2]*(1/255),Q=l.p7(a,M,Z),p=0;for(var y=0;
y<6;y++)p+=Math.min(1,1.7*(1-Q.EN))*Q.ZQ*o.ahb[y]*f6.a7y(Q.fB,y*(1/6));var V=Math.max(0,Math.min(1,Q.EN*(1+p)));
if(o.uQ==1){var W=0;if(V<q)W=V*(.5/d);else if(V<m)W=V+R*(.5-d);else W=1-(1-V)*.5/(1-d);Q.fB=o.acu;Q.ZQ=Math.min(1,R+3*R*Math.abs(V-.5*(q+m)));
Q.EN=W}else{Q.fB=0;Q.ZQ=0;Q.EN=V}var v=l.vr(Q.fB,Q.ZQ,Q.EN);C[N]=Math.round(v.z*255);C[N+1]=Math.round(v.B*255);
C[N+2]=Math.round(v.K*255)}}if(o.type==x.CO){var j=o.a5W,G=g.length,e=1/255;for(var N=0;N<G;N+=4){var a=g[N]*e,M=g[N+1]*e,Z=g[N+2]*e,Q=l.p7(a,M,Z),T=Math.max(a,Math.max(M,Z)),O=Math.min(a,Math.min(M,Z)),L=1-a,S=1-M,$=1-Z,H=0,f=0,F=0;
for(var y=0;y<9;y++){var U=y*6,P=0;if(j[U]==1&&j[U+1]==1&&j[U+2]==1&&j[U+3]==0&&j[U+4]==0&&j[U+5]==0)continue;
var r=L*j[U]+j[U+3],E=S*j[U+1]+j[U+4],k=$*j[U+2]+j[U+5];if(y<6)P=f6.a7y(Q.fB,y*(1/6))*Q.ZQ*2*Math.min(Q.EN,1-Q.EN);
else if(y==6)P=Math.max(0,O-.5)*2;else if(y==7)P=1-(Math.abs(T-.5)+Math.abs(O-.5));else P=Math.max(0,.5-T)*2;
H+=(Math.max(0,Math.min(1,r))-L)*P;f+=(Math.max(0,Math.min(1,E))-S)*P;F+=(Math.max(0,Math.min(1,k))-$)*P}L=Math.max(0,Math.min(1,L+H));
S=Math.max(0,Math.min(1,S+f));$=Math.max(0,Math.min(1,$+F));a=1-L;M=1-S;Z=1-$;C[N]=Math.round(a*255);
C[N+1]=Math.round(M*255);C[N+2]=Math.round(Z*255)}}if(o.type==x.ON){l.a68(g,C,o.v5,o.Qh,o.O6,o.jp,o.WV)}if(o.type==x.Y$){var z=new Uint32Array(g.buffer),s=new Uint32Array(C.buffer),G=z.length;
if(f6.mm==null){f6.mm=new Float64Array(256);for(var N=0;N<256;N++)f6.mm[N]=f6.Yr(-1+2*N/255)}var Y=f6.mm;
for(var N=0;N<G;N++){var t=z[N],a=(t&255)*(1/255),M=(t>>>8&255)*(1/255),Z=(t>>>16&255)*(1/255),n=t>>>24,J=Math.min(a,M,Z),I=Math.max(a,M,Z),fp=0,cH=0,b=0;
fp=l.p7(a,M,Z).fB;var jL=~~(fp*255+.5),aq=o.apY[jL]*(1/255),cJ=o.bB[jL]*(1/255)*2-1,aB=o.atL[jL]*(1/255)*2-1,p=-aB,au=J;
if(0<aB){p=aB;au=I}var ea=o.asE+o._T*p*au,ax=o._T*(1-p);a=ea+ax*a;M=ea+ax*M;Z=ea+ax*Z;I=Math.max(a,M,Z);
J=Math.min(a,M,Z);b=(I+J)*.5;if(I!=J){var f1=I-J;cH=b>.5?f1/(2-(I+J)):f1/(I+J)}var fk=cJ;if(o.ao2==0){cJ=Y[Math.floor((1+cJ)*127.5)];
fk=Math.min(cH*(1+cJ),1)}var v=l.vr(aq,fk,b);a=v.z;M=v.B;Z=v.K;s[N]=n<<24|Z*255<<16|M*255<<8|a*255}}if(o.type==x.wA){l.j5(g,C);
var z=new Uint32Array(g.buffer),s=new Uint32Array(C.buffer),G=z.length,hF=o.lI,fm=1/hF,jE={pY:o.rd[0],Bk:o.rd[1],K:o.rd[2]},ff={pY:o.U4[0],Bk:o.U4[1],K:o.U4[2]};
for(var N=0;N<G;N++){var t=z[N],d5=t&255,eF=t>>>8&255,gI=t>>>16&255,a=d5*(1/255),M=eF*(1/255),Z=gI*(1/255),n=t>>>24,fE=l.Kj(d5,eF,gI),js=l.ev(fE,jE,ff,hF,fm);
if(js==0)continue;var Q=l.p7(a,M,Z),aq=2+Q.fB+o.shift[0];Q.fB=aq-~~aq;Q.ZQ=Math.max(0,Math.min(1,Q.ZQ+o.shift[1]));
Q.EN=Math.max(0,Math.min(1,Q.EN+o.shift[2]));var v=l.vr(Q.fB,Q.ZQ,Q.EN);a=(1-js)*a+js*v.z;M=(1-js)*M+js*v.B;
Z=(1-js)*Z+js*v.K;s[N]=n<<24|Z*255<<16|M*255<<8|a*255}}if(o.type==x.Ck){var z=new Uint32Array(g.buffer),s=new Uint32Array(C.buffer),G=z.length,d8=o.eA[0],bt=o.eA[1],io=o.eA[2],p=o.eA[3],ha=l.Rk.vy([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),dp=l.Rk.rq(ha),gS=2.4;
console.log(dp);function w(aM){return Math.max(0,Math.min(1,aM))}function aP(aM){return Math.pow(aM,gS)}function gD(aM){return Math.pow(aM,1/gS)}function fA(a,M,Z,aM){a=aP(a);
M=aP(M);Z=aP(Z);var jc=l.Rk.xo(ha,[a,M,Z,1]);jc[0]*=io;jc[1]*=p;jc[2]*=p;var v=l.Rk.xo(dp,jc);v[0]=gD(w(v[0]));
v[1]=gD(w(v[1]));v[2]=gD(w(v[2]));return v}for(var N=0;N<G;N++){var t=z[N],a=(t&255)*(1/255),M=(t>>>8&255)*(1/255),Z=(t>>>16&255)*(1/255),n=t>>>24,v=fA(a,M,Z,d8);
a=v[0];M=v[1];Z=v[2];var jH=l.p7(a,M,Z);jH.ZQ=Math.max(0,Math.min(1,jH.ZQ*(1+bt)));v=l.vr(jH.fB,jH.ZQ,jH.EN);
a=v.z;M=v.B;Z=v.K;s[N]=n<<24|Z*255<<16|M*255<<8|a*255}}};f6.kH=function(o,g,C){i.ss.kH(o,g)};f6.a7y=function(o,g){var C=l.bE(g,o)*6;
return Math.max(0,Math.min(1,C<0?1+C:1-C))};var hb={};hb.uZ=function(o){var g=o.filterID.v;return g>16777215?u.arb(g):o.Fltr.v.classID};
hb.iD=[{NL:"GEfc"},{NL:"LnCr"},{NL:"LqFy",lL:!0},{dT:"3D",jW:["lightFilterGradient"]},{dT:[24,2],jW:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{dT:[24,4],jW:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{dT:[24,6],jW:["AdNs","Dspc","DstS","Mdn ","denoise"]},{dT:[24,8],jW:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{dT:[24,10],jW:["Flam","Clds","DfrC","Fbrs","LnsF"]},{dT:[24,12],jW:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{dT:[24,14],jW:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{dT:[24,16],jW:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{dT:"Fourier",jW:["dDFT","iDFT"]}];
hb.UE={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
hb.arT={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
hb.Y={rigidTransform:c.zQ};hb.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Kale:"Kaleidoscope",Ctoa:"Color to Alpha",Dthr:[12,23,3],Part:"Particles",dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
hb.l3=function(o){var g=null;if(o=="GEfc")g={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:ey.l3("GlwE")}]}};
if(o=="LqFy"){var C={MI:5,fB:5,map:new Float32Array(5*5*2)},a=new Uint8Array(dg.i3(C)),x=[];for(var N=0;
N<a.length;N++)x.push(a[N]);g={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:x}}}if(o=="rigidTransform"){g={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(o=="LnCr")g={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(o=="adaptCorrect")g={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(o=="Dfs ")g={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(o=="Fbrs")g={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(o=="Embs")g={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(o=="oilPaint")g={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(o=="TrcC")g={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(o=="Wnd ")g={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(o=="lightFilterGradient")g={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(o=="boxblur")g={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(o=="GsnB")g={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(o=="Bokh")g={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(o=="MtnB")g={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(o=="RdlB")g={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(o=="surfaceBlur")g={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(o=="denoise")g={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(o=="Dspl")g={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(o=="Pnch")g={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(o=="Plr ")g={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(o=="Rple")g={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(o=="Shr ")g={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(o=="Sphr")g={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(o=="Twrl")g={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(o=="Wave")g={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(o=="ZgZg")g={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(o=="AdNs")g={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(o=="DstS")g={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(o=="Mdn ")g={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(o=="ClrH")g={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(o=="Crst")g={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(o=="Mztn")g={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(o=="Msc ")g={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(o=="Pntl")g={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(o=="LnsF")g={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(o=="Dthr")g={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(o=="Part")g={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(o=="Adobe Camera Raw Filter")g={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(o=="smartSharpen")g={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(o=="UnsM")g={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(o=="HghP")g={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(o=="HsbP")g={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(o=="Mxm ")g={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(o=="Mnm ")g={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(o=="Ofst")g={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(o=="Kale")g={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(o=="Rept")g={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(o=="Flam")g={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(o=="Ctoa")g={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(o=="brit")g={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(o=="levl")g={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(o=="curv")g={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(o=="expA")g={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(o=="vibA")g={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(o=="hue2")g={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(o=="blnc")g={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(o=="blwh")g={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(o=="phfl")g={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(o=="grdm")g={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(hf.QI[6]).Grad};
if(o=="selc")g={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(o=="thrs")g={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(o=="mixr")g={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(o=="clrL")g={__name:"Color Lookup",classID:"colorLookup"};if(o=="post")g={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(o=="rplc")g={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(o=="fade")g={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(o=="aply")g={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(o=="matc"){g={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(o=="blendOptions")g={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return g};hb._s={sFlam:function(o,g){g[0]=o.Type.v;g[1]=o.Leng.v;g[2]=o.RndL.v;g[3]=o.Widt.v;g[4]=o.Angl.v;
g[5]=o.Intr.v;g[6]=o.Adpt.v;g[7]=o.Clr.v;g[8]=o.Qual.v;g[9]=o.Turb.v;g[10]=o.Jag.v;g[11]=o.Opct.v.val;
g[12]=o.Lins.v;g[13]=o.Botm.v;g[14]=o.Styl.v;g[15]=o.Shap.v;g[16]=o.RnSh.v;g[17]=o.Arng.v},gFlam:function(o,g){o.Type.v=g[0];
o.Leng.v=g[1];o.RndL.v=g[2];o.Widt.v=g[3];o.Angl.v=g[4];o.Intr.v=g[5];o.Adpt.v=g[6];o.Clr.v=g[7];o.Qual.v=g[8];
o.Turb.v=g[9];o.Jag.v=g[10];o.Opct.v.val=g[11];o.Lins.v=g[12];o.Botm.v=g[13];o.Styl.v=g[14];o.Shap.v=g[15];
o.RnSh.v=g[16];o.Arng.v=g[17]},sAdNs:function(o,g){g[0]=o.Nose.v.val;g[1]=["Gsn","Unfr"].indexOf(o.Dstr.v.Dstr);
g[2]=o.Mnch.v},gAdNs:function(o,g){o.Nose.v.val=g[0];o.Dstr.v.Dstr=["Gsn","Unfr"][g[1]];o.Mnch.v=g[2]},sDstS:function(o,g){g[0]=o.Rds.v;
g[1]=o.Thsh.v},gDstS:function(o,g){o.Rds.v=g[0];o.Thsh.v=g[1]},sGsnB:function(o,g){g[0]=o.Rds.v.val},gGsnB:function(o,g){o.Rds.v.val=g[0]},sHghP:function(o,g){g[0]=o.Rds.v.val},gHghP:function(o,g){o.Rds.v.val=g[0]},sHsbP:function(o,g){var C=["RGBC","HSBl","HSLC"];
g[0]=C.indexOf(o.Inpt.v.ClrS);g[1]=C.indexOf(o.Otpt.v.ClrS)},gHsbP:function(o,g){var C=["RGBC","HSBl","HSLC"];
o.Inpt.v.ClrS=C[g[0]];o.Otpt.v.ClrS=C[g[1]]},"sMxm ":function(o,g){var C="preserveShape";g[0]=o.Rds.v.val;
g[1]=o[C]?["squareness","Rndn"].indexOf(o[C].v[C]):0},"gMxm ":function(o,g){var C="preserveShape";o.Rds.v.val=g[0];
o[C]={t:"enum",v:{preserveShape:["squareness","Rndn"][g[1]]}}},"sMnm ":function(o,g){var C="preserveShape";
g[0]=o.Rds.v.val;g[1]=o[C]?["squareness","Rndn"].indexOf(o[C].v[C]):0},"gMnm ":function(o,g){var C="preserveShape";
o.Rds.v.val=g[0];o[C]={t:"enum",v:{preserveShape:["squareness","Rndn"][g[1]]}}},sMtnB:function(o,g){g[0]=[o.Angl.v];
g[1]=o.Dstn.v.val;console.log(g)},gMtnB:function(o,g){o.Angl.v=typeof g[0]=="number"?g[0]:g[0][0];o.Dstn.v.val=g[1]},sOfst:function(o,g){g[0]=o.Hrzn.v;
g[1]=o.Vrtc.v;g[2]=["Rpt","Bckg","Wrp"].indexOf(o.Fl.v.FlMd)},gOfst:function(o,g){o.Hrzn.v=g[0];o.Vrtc.v=g[1];
o.Fl.v.FlMd=["Rpt","Bckg","Wrp"][g[2]]},sPnch:function(o,g){g[0]=o.Amnt.v},gPnch:function(o,g){o.Amnt.v=g[0]},"sPlr ":function(o,g){g[0]=["RctP","PlrR"].indexOf(o.Cnvr.v.Cnvr)},"gPlr ":function(o,g){o.Cnvr.v.Cnvr=["RctP","PlrR"][g[0]]},sRple:function(o,g){g[0]=o.Amnt.v;
g[1]=["Sml","Mdm","Lrg"].indexOf(o.RplS.v.RplS)},gRple:function(o,g){o.Amnt.v=g[0];o.RplS.v.RplS=["Sml","Mdm","Lrg"][g[1]]},sTwrl:function(o,g){g[0]=o.Angl.v},gTwrl:function(o,g){o.Angl.v=g[0]},sZgZg:function(o,g){g[0]=o.Amnt.v;
g[1]=o.NmbR.v;g[2]=["ArnC","OtFr","PndR"].indexOf(o.ZZTy.v.ZZTy)},gZgZg:function(o,g){o.Amnt.v=g[0];
o.NmbR.v=g[1];o.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][g[2]]},sUnsM:function(o,g){g[0]=o.Amnt.v.val;g[1]=o.Rds.v.val;
g[2]=o.Thsh.v},gUnsM:function(o,g){o.Amnt.v.val=g[0];o.Rds.v.val=g[1];o.Thsh.v=g[2]}};hb.ao4=function(o){var g=new eN(0,0);
if(o.enab.v==!1)return g;var C=o.filterFXList.v;for(var N=0;N<C.length;N++){var a=C[N].v;if(a.enab.v==!1)continue;
var x=hb.uZ(a),K=hb.aO(x,a.Fltr?a.Fltr.v:null);if(K.x>g.x)g.x=K.x;if(K.y>g.y)g.y=K.y}return g};hb.aO=function(o,g){var C=0,a=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(o)!=-1){var x=g.Rds?g.Rds.v.val:1;C=a=x*2.57}if(o=="MtnB")C=a=g.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(o)!=-1){C=a=1e4}if(o=="GEfc")return ey.aO(g);
return new eN(Math.ceil(C),Math.ceil(a))};hb.pG=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
hb.dI=function(o,g){var C={z:g.L$>>16,B:g.L$>>8&255,K:g.L$&255},a={z:g.KT>>16,B:g.KT>>8&255,K:g.KT&255},x=hb.names[o];
if(x==null)x=f6.names[o];var K=o;for(var h in f6.Ry)if(f6.Ry[h]==o)K=h;var X={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:fF.get(x)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:l.T.CT(C)},BckC:{t:"Objc",v:l.T.CT(a)},filterID:{t:"long",v:K.length==4?u.a30(K):777}}},w=hb.l3(o);
if(w)X.v.Fltr={t:"Objc",v:w};return X};hb.im=function(o,g,C,a){var x=Date.now(),K=i.LH&&Math.max(a.m,a.n)<=i.$A.getParameter(i.$A.MAX_TEXTURE_SIZE);
if(o<1){var h=Math.round(o*5),X=[1,2,1,2,[40,26,13,6,4,2][h],2,1,2,1];X=l.nw.rs(X);if(!K){l.Cf(C);var w=C.slice(0);
l.nw.Dv(w,C,a.m,a.n,X,255);l.kr(C)}else{var G=a.m,R=a.n,d=i.Jn(0,G,R);d.set(C);var q=i.Jn(1,G,R),m=new Float32Array([1/G,1/R]);
i.CG(q);i.filter.kH({type:i.filter.atE,cM:m,aqW:new Float32Array(X)},d.Rb);q.get(C)}}else{var M=g==l.EB.Dw?0:g==l.EB.tM?1:2,Z=[];
while(M!=2&&o*[1,2.4][M]>20&&Z.length<4){var Q=l.yZ(C,a);Z.push(C,a);C=Q.ab;a=Q.rect;o/=2}var G=a.m,R=a.n;
if(!K||M==2&&o>15){l.Cf(C);g(C,a,o);l.kr(C)}else{var d=i.Jn(0,G,R);d.set(C);var q=i.Jn(1,G,R),m=new Float32Array([1/G,1/R]);
if(M==0){var p=1;while(p<o)p<<=1;i.CG(q);i.filter.kH({type:i.filter.vw,cM:m,sB:o,HB:[0,0,p]},d.Rb);i.CG(d);
i.filter.kH({type:i.filter.vw,cM:m,sB:o,HB:[0,1,p]},q.Rb);d.get(C)}else if(M==1){var y=3,V=l.EB.Ta(o,y);
for(var N=0;N<y;N++){var W=V[N]>>>1,v=1;while(v<W)v<<=1;if(W==0)continue;i.CG(q);i.filter.kH({type:i.filter.vw,cM:m,sB:W,HB:[0,0,v]},d.Rb);
i.CG(d);i.filter.kH({type:i.filter.vw,cM:m,sB:W,HB:[0,1,v]},q.Rb)}d.get(C)}else{var p=1;while(p<o)p<<=1;
i.CG(q);i.filter.kH({type:i.filter.vw,cM:m,sB:o,HB:[0,0,p]},d.Rb);q.get(C)}}var j=Date.now();while(Z.length!=0){var e=Z.pop(),T=Z.pop();
l.scale.a22(C,a.m,a.n,T,e.m,e.n);C=T;a=e}}};hb.a1g=function(o,g,C,a){for(var N=0;N<o.length;N++){C[N]=o[N]*(1/255);
a[N]=0}FFT.fft2d(C,a);var x=g>>>1,K=16384,h=128,w=100;while(h<g){h<<=1;K<<=2}var X=255/Math.log(K),G=-100;
for(var R=0;R<g;R++)for(var d=0;d<x;d++){var q=g+x+R&g-1,m=C[q*g+d],M=a[q*g+d],Z=Math.sqrt(m*m+M*M),Q=Math.atan2(M,m);
o[R*g+d]=Math.round(X*Math.log(Z+1));o[R*g+x+d]=Math.round((Math.PI+Q)*(255*.5/Math.PI))}};hb.abz=function(o,g,C,a){C.fill(0);
a.fill(0);var x=g>>>1,K=16384,h=128;while(h<g){h<<=1;K<<=2}var X=255/Math.log(K),w=[],G=[],R=[];for(var N=0;
N<256;N++){w[N]=Math.exp(N/X)-1;var d=N*(2*Math.PI/255)-Math.PI;G[N]=Math.sin(d);R[N]=Math.cos(d)}for(var q=0;
q<g;q++)for(var m=0;m<x;m++){var M=g+x+q&g-1,Z=w[o[q*g+m]],d=o[q*g+x+m],Q=Z*R[d],p=Z*G[d];C[M*g+m]=Q;
a[M*g+m]=p;if(m!=0){var y=M==0?M*g+g-m:(g-M)*g+(g-m);C[y]=Q;a[y]=-p}}FFT.ifft2d(C,a);for(var N=0;N<o.length;
N++){o[N]=Math.max(0,Math.min(255,~~(.5+255*C[N])))}};hb.a4L=new ArrayBuffer(512);hb.adN=function(o){var g=hb.a4L,C=o.length;
if(g.byteLength<C)hb.a4L=g=new ArrayBuffer(C);var a=new Uint8Array(g);for(var N=0;N<C;N+=4){a[N]=o[N];
a[N+1]=o[N+1];a[N+2]=o[N+2];a[N+3]=o[N+3]}return g};hb.la=function(o,g,C,a,x,K,h){if(K==null)K={buffer:l.Z(g.buffer.length),rect:g.rect.clone()};
l.j5(g.buffer,K.buffer);var X=C&&C.RndS?C.RndS.v>>>1:0;if(o=="GEfc"){var w=[];if(C.GEfs){var G=C.GEfs.v;
for(var N=0;N<G.length;N++){var R=G[N].v;if(R.GELv&&R.GELv.v==!1)continue;w.push(R)}}else w=[C];for(var N=0;
N<w.length;N++){var d;if(N==0)ey.la(o,g,w[N],a,x,K,h);else{if(d==null)d={buffer:l.Z(g.buffer.length),rect:g.rect.clone()};
l.j5(K.buffer,d.buffer);ey.la(o,d,w[N],a,x,K,h)}}}if(o=="Adobe Camera Raw Filter"){var q=g.rect,m=q.m,M=q.n,Z=m*M,Q=Z*4,p=Z*3,y=new Float32Array(m*M*3),V=g.buffer;
for(var N=0;N<Z;N++){var W=N*3,v=N*4;y[W]=V[v]*(1/255);y[W+1]=V[v+1]*(1/255);y[W+2]=V[v+2]*(1/255)}var j=JSON.parse(JSON.stringify(C));
delete j.Upri;delete j.GuUr;var e=y.slice(0);y=e;V=K.buffer;for(var N=0;N<Z;N++){var W=N*3,v=N*4;V[v]=255*Math.max(0,Math.min(1,y[W]));
V[v+1]=255*Math.max(0,Math.min(1,y[W+1]));V[v+2]=255*Math.max(0,Math.min(1,y[W+2]))}}if(o=="Fct "){var q=g.rect,m=q.m,M=q.n,Z=m*M,Q=Z*4;
function T(fQ){var fm=fQ.slice(0);for(var P=0;P<3;P++)for(var z=0;z<3;z++)fm[P*3+z]=fQ[(2-z)*3+P];return fm}function O(eX,e9,fy,hB){var j0=0;
for(var P=0;P<3;P++)for(var z=0;z<3;z++)j0+=e9[P*3+z]*eX[(hB-1+P)*m+fy-1+z];return j0}var L=[8,5,2,5,2,-1,2,-1,-4],S=[5,5,5,2,2,2,-1,-1,-1],$=[2,2,2,2,2,2,2,2,2],H=[];
H.push(L);for(var N=0;N<3;N++)H.push(T(H[H.length-1]));H.push(S);for(var N=0;N<3;N++)H.push(T(H[H.length-1]));
H.push($);for(var N=0;N<9;N++)H[N]=l.nw.rs(H[N]);var f=[-m-1,-m,-m+1,-1,0,1,m-1,m,m+1],F=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],U=l.Z(Z),r=new Float32Array(Z),e=l.Z(Z);
for(var E=0;E<3;E++){l.eP(g.buffer,U,E);for(var k=0;k<1;k++){for(var P=1;P<M-1;P++)for(var z=1;z<m-1;
z++){var s=P*m+z,Y=U[s];r[s]=1e9;for(var N=0;N<9;N++){var t=O(U,H[N],z,P),n=(t-Y)*(t-Y);if(n<r[s])r[s]=n}}for(var P=1;
P<M-1;P++)for(var z=1;z<m-1;z++){var J=0,I=1e9;for(var N=0;N<9;N++){var fp=P*m+z+f[N],n=r[fp];if(n<I){I=n;
J=U[fp]}}e[P*m+z]=J}U.set(e)}l.Oa(e,K.buffer,E)}}if(o=="adaptCorrect"){var q=g.rect,m=q.m,M=q.n,Z=m*M,Q=Z*4,cH=C.sdwM.v,b=cH.Amnt.v.val/100,jL=cH.Wdth.v.val/100,aq=cH.Rds.v,cJ=C.hglM.v,aB=cJ.Amnt.v.val/100,au=cJ.Wdth.v.val/100,ea=cJ.Rds.v;
l.Am.a7r(g.buffer,K.buffer,m,M,b,jL,aq,aB,au,ea,C.ClrC.v/100,C.Cntr.v/100)}if(o=="denoise"){var q=g.rect,m=q.m,M=q.n,ax=C.channelDenoise.v[0].v;
l.ci.adJ(g.buffer,m,M,K.buffer,ax.Amnt.v/10,ax.EdgF.v/100)}if(o=="HsbP"){var f1=C.Inpt.v.ClrS,fk=C.Otpt.v.ClrS,q=g.rect,m=q.m,M=q.n,Z=m*M;
for(var N=0;N<Z;N++){var v=N*4,k=g.buffer[v]*(1/255),hF=g.buffer[v+1]*(1/255),fm=g.buffer[v+2]*(1/255);
if(f1=="RGBC"){}else if(f1=="HSLC"){var e=l.vr(k,hF,fm);k=e.z;hF=e.B;fm=e.K}else if(f1=="HSBl"){var e=l.ao0(k,hF,fm);
k=e.z;hF=e.B;fm=e.K}var jE=k,ff=hF,d5=fm;if(fk=="RGBC"){}else if(fk=="HSLC"){var e=l.p7(k,hF,fm);jE=e.fB;
ff=e.ZQ;d5=e.EN}else if(fk=="HSBl"){var e=l.amF(k,hF,fm);jE=e.fB;ff=e.ZQ;d5=e.K}K.buffer[v]=~~(255*jE);
K.buffer[v+1]=~~(255*ff);K.buffer[v+2]=~~(255*d5)}}if(o=="Fbrs"){var q=g.rect,m=q.m,M=q.n;l.U.O3(g.buffer,m,M,K.buffer,[C.Vrnc.v,C.Strg.v,X]);
var eF=l.Z(m*M);l.eP(K.buffer,eF,0);l.rq(eF);ey.Ip(eF,K.buffer,a,x)}if(o=="Frgm"){var q=g.rect,m=q.m,M=q.n,gI=g.buffer.slice(0);
l.Cf(gI);l.U.a1e(gI,m,M,K.buffer);l.kr(K.buffer)}if(o=="Flam"){var q=g.rect,m=q.m,M=q.n,fE=C.Clr.v,js={type:C.Type.v+1,length:C.Leng.v,adR:C.RndL.v,vS:C.Widt.v,anK:C.Angl.v,aky:C.Intr.v,a7z:C.Adpt.v,color:{z:fE.Rd.v,B:fE.Grn.v,K:fE.Bl.v},EJ:C.Qual.v+1,so:C.Turb.v,TN:C.Jag.v,opacity:C.Opct.v.val,G9:C.Lins.v,apZ:C.Botm.v,style:C.Styl.v+1,shape:C.Shap.v+1,al8:C.RnSh.v,a5K:C.Arng.v,acQ:!1},d8=h[3],bt=d8[0],io=d8[1],dp=bt[io.length!=0?io[0]:0];
if(dp==null){alert("Make a path first");return}var gS=dp.add.vmsk.i,aP=l.M.Ac(gS),gD=[];for(var fA=0;
fA<aP;fA++){var jH=l.M.Fq(gS,fA),aM=gS[jH];if(aM.length<2)continue;var jc=[];gD.push(jc);var eQ=aM.length-(aM.type==3?1:0);
for(var s=0;s<eQ;s++){var j1=gS[jH+1+s],i7=s==aM.length-1?gS[jH+1]:gS[jH+1+s+1],fT=j1.H,hy=j1.lu,L=i7.rD,hJ=i7.H,db=Math.round(eN.ig(fT,hJ)/5);
for(var jK=0;jK<db;jK++){var h_=jK/db,dM=1-h_,z=dM*dM*dM*fT.x+3*dM*dM*h_*hy.x+3*dM*h_*h_*L.x+h_*h_*h_*hJ.x,P=dM*dM*dM*fT.y+3*dM*dM*h_*hy.y+3*dM*h_*h_*L.y+h_*h_*h_*hJ.y;
jc.push(z,P)}}}var eW=[gD,js],ip=Date.now(),fS=cc(eW);dc(g.buffer,m,M,K.buffer,fS,eW)}if(o=="Dfs "){var q=g.rect,m=q.m,M=q.n,hS=["Nrml","DrkO","LghO","anisotropic"].indexOf(C.Md.v.DfsM);
if(hS<3)l.U.a15(g.buffer,m,M,K.buffer,[hS]);else{var eW=[1.4,1.6,1,4,!1,2,[0,0,.001]],q=g.rect.clone();
q.x=q.y=0;l.O2.filter(g.buffer,q,K.buffer,eW)}}if(o=="TrcC"){var q=g.rect,m=q.m,bB=m<<2,M=q.n,g_=C.Lvl.v,e4=C.Edg.v.CntE=="Lwr",e0=g.buffer,jC=K.buffer;
l.th(jC,16777215,4278190080);function i4(f8,iL){eq(f8,iL);eq(f8+1,iL+1);eq(f8+2,iL+2)}function hO(f8,iL){ig(f8,iL);
ig(f8+1,iL+1);ig(f8+2,iL+2)}function eq(f8,iL){var jE=e0[f8],ff=e0[iL];if(jE>=g_&&ff<g_)jC[f8]=0;if(jE<g_&&ff>=g_)jC[iL]=0}function ig(f8,iL){var jE=e0[f8],ff=e0[iL];
if(jE>g_&&ff<=g_)jC[iL]=0;if(jE<=g_&&ff>g_)jC[f8]=0}if(e4)for(var P=1;P<M;P++)for(var z=1;z<m;z++){var v=P*m+z<<2;
i4(v,v-4);i4(v,v-bB)}else for(var P=1;P<M;P++)for(var z=1;z<m;z++){var v=P*m+z<<2;hO(v,v-4);hO(v,v-bB)}}if(o=="Embs"){var q=g.rect,m=q.m,M=q.n,bc=-C.Angl.v*Math.PI/180,aa=C.Hght.v,cn=C.Amnt.v/100;
aa/=2;var iu=Math.cos(bc)*aa,hY=Math.sin(bc)*aa,e0=g.buffer,jC=K.buffer;jC.fill(0);var b8=new Uint32Array(e0.buffer),e=new Uint8Array(4),b$=new Uint32Array(e.buffer);
for(var P=0;P<M;P++)for(var z=0;z<m;z++){var cY=0,bX=0,b_=0;if(0<=z+iu&&z+iu<m&&0<=P+hY&&P+hY<M){l.S.Kq(z+iu+.5,P+hY+.5,b8,m,M,b$,0,0);
cY+=e[0]-128;bX+=e[1]-128;b_+=e[2]-128}if(0<=z-iu&&z-iu<m&&0<=P-hY&&P-hY<M){l.S.Kq(z-iu+.5,P-hY+.5,b8,m,M,b$,0,0);
cY-=e[0]-128;bX-=e[1]-128;b_-=e[2]-128}var v=P*m+z<<2;jC[v]=Math.max(0,Math.min(255,cY*cn+128));jC[v+1]=Math.max(0,Math.min(255,bX*cn+128));
jC[v+2]=Math.max(0,Math.min(255,b_*cn+128));jC[v+3]=e0[v+3]}}if(o=="ShrE"){var q=g.rect,m=q.m,M=q.n;
l.U.at8(g.buffer,m,M,K.buffer)}if(o=="Dspc"){var q=g.rect,m=q.m,M=q.n;l.U.a3e(g.buffer,m,M,K.buffer)}if(o=="Slrz"){var gu=K.buffer,cw=128;
for(var N=0;N<gu.length;N+=4){if(gu[N]>cw)gu[N]=255-gu[N];if(gu[N+1]>cw)gu[N+1]=255-gu[N+1];if(gu[N+2]>cw)gu[N+2]=255-gu[N+2]}}if(o=="Wnd "){var q=g.rect,m=q.m,M=q.n,g9=["Wnd","Blst","Stgr"],eS=C.WndM.v.WndM;
l.U.$j(g.buffer,m,M,K.buffer,[g9.indexOf(eS),C.Drct.v.Drct!="Left"])}if(o=="Bokh"){var q=g.rect,m=q.m,M=q.n,Z=m*M,Q=Z*4,gK=g.buffer.slice(0),aW=C.BkDi.v.BtDi,jf=C.BkDc,im=C.BkDs.v,hE=C.BkDp.v/255;
if(aW=="BeIn")hE=0;var c6=57*(.3+.7*((m+M)/2)/1750)*(C.BkIb.v/100)*(1+.2*Math.pow(hE,.1)),ee=parseInt(C.BkIs.v.BtIs.slice(3)),dn=-C.BkIr.v*Math.PI/180,aR=[];
for(var N=0;N<8;N++){var hK=dn+N*(Math.PI*2/ee),bh=dn+(N+1)*(Math.PI*2/ee),f2=Math.cos(hK),d0=Math.sin(hK),jZ=Math.cos(bh),aU=Math.sin(bh),a7=[0,0,0];
l.t_.w0([[f2,d0,1,0],[jZ,aU,1,0],[1,1,1,1]],a7);if(a7[2]>0){a7[0]*=-1;a7[1]*=-1;a7[2]*=-1}aR.push(a7[0],a7[1],a7[2],0)}if(aW=="BeIn"){l.th(gK,0,16777215);
hE=1}else if(aW=="BeIt"&&jf.v.BtDc=="BeCt"){}else{var ja;if(aW=="BeIt"&&jf.v.BtDc=="BeCm")ja=h[1];else if(aW=="BeIa")ja=h[2][jf.v];
if(ja==null){l.th(gK,0,16777215)}else{var U;if(ja.rect.$s(q))U=ja.channel;else U=ja.Gc(q);l.Oa(U,gK,3)}}if(im)for(var N=0;
N<Q;N+=4)gK[N+3]=255-gK[N+3];if(i.LH){var hC=gK,jP=m,fG=M,b4=1,ix=(C.BkSb.v==0||C.BkSt.v==255)&&aW=="BeIn";
if(!ix){var dd=0;for(var N=0;N<Q;N+=4)dd+=Math.abs(hE-gK[N+3]*(1/255));dd=dd/Z*c6;var gO=3.14*dd*dd*m*M/3e6;
if(gO>2e3){alert("too large radius");return}}while(ix&&3*(c6/b4)*(c6/b4)*m*M>500*2e3*2e3){var ab=l.FF(gK,new aS(0,0,jP,fG));
gK=ab.ab;jP=ab.rect.m;fG=ab.rect.n;b4*=2}var ip=Date.now(),du=i.Jn(0,jP,fG);du.set(gK);var cG=i.Jn(1,m,M);
i.CG(cG);i.filter.kH({type:i.filter.a1T,cM:new Float32Array([1/jP,1/fG]),adl:hE,rI:c6/b4,a9y:new Float32Array([C.BkSb.v/100,C.BkSt.v/255]),ahx:new Float32Array([C.BkNa.v/100,C.BkNt.v.BtNt=="BeNu"?0:1,C.BkNm.v?1:0]),a1j:new Float32Array(aR.slice(0,16)),aci:new Float32Array(aR.slice(16))},du.Rb);
cG.get(K.buffer);var gY=K.buffer;for(var N=0;N<Q;N+=4)gY[N+3]=g.buffer[N+3]}}if(o=="rigidTransform"){var ip=Date.now(),c8=hb.adN,du=g.buffer.slice(0),gq=0,d_=0;
l.Cf(du);l.th(K.buffer,0);var m=g.rect.m,M=g.rect.n,ag=C.puppetShapeList.v,aH=[],iP=[],kb=[],bG=[];for(var s=0;
s<ag.length;s++){var jR=ag[s].v,iW=gq*2,W=d_*3,fX=jR.originalVertexArray.v.length>>>2,eG=jR.indexArray.v.length>>>2,hD=new Float32Array(c8(jR.originalVertexArray.v));
for(var N=0;N<fX;N++)aH[iW+N]=hD[N];var gB=new Float32Array(c8(jR.deformedVertexArray.v));for(var N=0;
N<fX;N++)iP[iW+N]=gB[N];var aV=new Uint32Array(c8(jR.indexArray.v));for(var N=0;N<eG;N++)kb[W+N]=gq+aV[N];
var dW=[],e_=[],eR=jR.PnDp.v;for(var N=0;N<eR.length;N++){dW.push(jR.pinVertexIndices.v[N].v);e_.push(eR[N].v)}var fr=l.ez.acH(hD,aV,dW,e_);
for(var N=0;N<fr.length;N++)bG[gq+N]=fr[N];gq+=fX>>>1;d_+=~~(eG/3)}var k=g.rect,m=k.m,M=k.n;l.ez.Sj(du,m,M,K.buffer,m,M,aH,iP,bG,kb);
l.kr(K.buffer)}if(o=="lightFilterGradient"){function ba(fT){var e9=1/Math.sqrt(fT[0]*fT[0]+fT[1]*fT[1]+fT[2]*fT[2]);
fT[0]*=e9;fT[1]*=e9;fT[2]*=e9}var m=g.rect.m,M=g.rect.n,Z=m*M,ip=Date.now(),ci=l.Z(Z),ff=.3,d5=.7;l.cr(K.buffer,ci);
var go=l.Z(Z);l.EB.OV(ci,go,K.rect,16);var hc=l.Z(Z);l.EB.OV(ci,hc,K.rect,8);var ae=ci,ii=new Float32Array(Z),dS=C.Dtl.v,kh=dS[2].v,hm=dS[1].v,bA=dS[0].v,j0=C.Scl.v*40*C.textureScale.v/(kh+hm+bA);
kh*=j0;hm*=j0;bA*=j0;for(var N=0;N<Z;N++){var bV=go[N]*(1/255),b7=hc[N]*(1/255),jG=ae[N]*(1/255);jG=jG*jG;
ii[N]=kh*bV+hm*b7+bA*jG}var dI=C.blur.v;if(dI!=0){var gU=ii.slice(0);l.EB.D8(gU,ii,K.rect,dI)}var bi=m-1,j9=M-1;
for(var P=1;P<j9;P++)for(var z=1;z<bi;z++){var N=P*m+z,v=N*4,fs=ii[N],iu=ff*(ii[N+1]-fs)+d5*(fs-ii[N-1]),hY=ff*(ii[N+m]-fs)+d5*(fs-ii[N-m]),fT=[1,0,iu],hy=[0,1,hY];
ba(fT);ba(hy);var bh=fT[0],aL=fT[2],iN=hy[1],e2=hy[2],hq=-aL*iN,hi=-bh*e2,dX=bh*iN;K.buffer[v]=~~(127.5+hq*127.5);
K.buffer[v+1]=~~(127.5+hi*127.5);K.buffer[v+2]=~~(127.5+dX*127.5)}}if(o=="defr"){var m=g.rect.m,M=g.rect.n;
dE(g.buffer,m,M,K.buffer)}if(o=="dDFT"||o=="iDFT"){function d6(ee){if(ee==0)return 1;ee--;ee|=ee>>1;
ee|=ee>>2;ee|=ee>>4;ee|=ee>>8;ee|=ee>>16;return ee+1}var m=g.rect.m,M=g.rect.n,bQ=d6(Math.max(m,M)),cq=bQ>>>1,gG=new aS(0,0,bQ,bQ),gg=new aS(0,0,m,M);
gg.y=bQ-M>>>1;var hP=m>>>1,aJ=new aS(0,gg.y,hP,M),c5=new l.ib(m*M);l.NA(g.buffer,c5);var ft=new Float64Array(bQ*bQ),id=new Float64Array(bQ*bQ),U=l.Z(bQ*bQ);
FFT.init(bQ);var aC=[c5.z,c5.B,c5.K];for(var N=0;N<3;N++){var cQ=aC[N];U.fill(0);if(o=="dDFT"){l.MD(cQ,gg,U,gG);
hb.a1g(U,bQ,ft,id);l.MD(U,gG,cQ,gg,aJ);aJ.x+=hP;gG.x-=cq-hP;l.MD(U,gG,cQ,gg,aJ);aJ.x-=hP;gG.x+=cq-hP}else{l.MD(cQ,gg,U,gG,aJ);
aJ.x+=cq;gg.x+=cq-hP;l.MD(cQ,gg,U,gG,aJ);aJ.x-=cq;gg.x-=cq-hP;hb.abz(U,bQ,ft,id);l.MD(U,gG,cQ,gg)}}l.bc(c5,K.buffer)}if(o=="Avrg"){var it=0,aT=0,h6=0,gr=0,es=1;
for(var N=0;N<g.buffer.length;N+=4){var ia=g.buffer[N+3];h6+=g.buffer[N]*ia;aT+=g.buffer[N+1]*ia;it+=g.buffer[N+2]*ia;
gr+=ia}var iG=1/gr;it=Math.round(es*(it*iG)+(1-es)*255);aT=Math.round(es*(aT*iG)+(1-es)*255);h6=Math.round(es*(h6*iG)+(1-es)*255);
l.th(K.buffer,it<<16|aT<<8|h6,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(o)!=-1){var i$=C.Rds?C.Rds.v.val:1,aZ=o=="boxblur"?l.EB.Dw:l.EB.tM;
hb.im(i$,aZ,K.buffer,K.rect);if(o=="UnsM"||o=="smartSharpen"){var cn=(C.Amnt?C.Amnt.v.val:200)/100,ju=0;
if(o=="UnsM")ju=C.Thsh.v;else cn*=.75;for(var N=0;N<g.buffer.length;N++){if((N&3)==3){K.buffer[N]=g.buffer[N];
continue}var Y=g.buffer[N],t=K.buffer[N],ei=cn*(Y-t);if(ei>0)ei=Math.max(0,ei-ju);else ei=Math.min(0,ei+ju);
K.buffer[N]=Math.max(0,Math.min(255,Y+ei))}}if(o=="HghP")for(var N=0;N<g.buffer.length;N++){if((N&3)==3){K.buffer[N]=g.buffer[N];
continue}var Y=g.buffer[N],t=K.buffer[N];K.buffer[N]=Math.max(0,Math.min(255,128+Y-t))}}if(o=="AdNs"){var cm=new Uint8ClampedArray(K.buffer.buffer),iM=255*C.Nose.v.val/100,iD;
if(C.Dstr.v.Dstr=="Gsn")iD=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else iD=function(){return Math.random()*2-1};for(var N=0;N<cm.length;N+=4){var k=cm[N],hF=cm[N+1],fm=cm[N+2],by,fO,gR;
if(C.Mnch.v){by=fO=gR=iD()}else{by=iD();fO=iD();gR=iD()}k+=iM*by;hF+=iM*fO;fm+=iM*gR;cm[N]=k;cm[N+1]=hF;
cm[N+2]=fm}}var ip=Date.now();if(o=="Mdn "||o=="DstS"||o=="Mxm "||o=="Mnm "||o=="surfaceBlur"){var k=0,de=C.Thsh,jR=0;
if(de)de=de.v;else de=0;if(o=="Mdn "||o=="Mxm "||o=="Mnm "||o=="surfaceBlur")k=C.Rds.v.val;else k=C.Rds.v;
var jQ=C.preserveShape;if(jQ&&jQ.v.preserveShape=="Rndn")jR=1;var m=g.rect.m,M=g.rect.n,ht=["Mnm ","Mxm ","surfaceBlur"].indexOf(o),bn=(jR==0?1:.75)*[.73,.73,1][ht]*(m*M*k*k)/1722387,ew=[.73,.9,1.4][ht]*(m*M*Math.sqrt(k))/6500;
if(i.LH&&ht!=-1&&(bn<ew||jR==1)&&bn<1500){var du=i.Jn(0,m,M);du.set(g.buffer);var d=i.Jn(1,m,M);i.CG(d);
i.filter.kH({type:i.filter.a5P,cM:new Float32Array([1/m,1/M]),rI:k,a2p:de/255,HB:[jR,ht,10*Math.ceil(k/10)]},du.Rb);
d.get(K.buffer)}else{k=Math.round(k);l.Go.rG=.5;var aZ=l.Go.Fh;if(o=="Mxm ")aZ=l.Go.hY;if(o=="Mnm ")aZ=l.Go.nL;
if(o=="surfaceBlur")aZ=l.Go.Ai;l.Go.n$(g.buffer,K.buffer,m,M,k,aZ,[de]);if(o=="DstS")for(var N=0;N<m*M*4;
N++){var fo=Math.abs(g.buffer[N]-K.buffer[N]);if(fo<=de)K.buffer[N]=g.buffer[N]}}}if(o=="ClrH"){var aJ=g.rect.clone();
aJ.x=aJ.y=0;var k=C.Rds.v;k=Math.round(k*Math.sqrt(2));var m=aJ.m,M=aJ.n,c5=new l.ib(m*M);l.NA(g.buffer,c5);
l.rq(c5.z);l.rq(c5.B);l.rq(c5.K);var dr=l.Z0(m,M),gY=l.Z(m*M*4);for(var eX=0;eX<3;eX++){var U=eX==0?c5.z:eX==1?c5.B:c5.K,bc=Math.PI*C["Ang"+(eX+1)].v/180,fq=new kp(1/k,0,0,1/k,0,0);
fq.rotate(bc);l.Oa(U,gY,3);var e=c.V.Sk([gY,aJ],fq,!0),gg=e.rect;dr.clearRect(0,0,m,M);var bu=Math.sin(bc),fb=Math.cos(bc);
for(var N=0;N<gg.n;N++)for(var jK=0;jK<gg.m;jK++){var z=(jK+gg.x+.5)*k,P=(N+gg.y+.5)*k,jt=z,hg=P;z=fb*jt-bu*hg;
P=bu*jt+fb*hg;var Z=e.buffer[(N*gg.m+jK<<2)+3]*(1/255),i$=k*Math.sqrt(Z*(1/Math.PI));dr.beginPath();
dr.arc(z,P,i$,0,2*Math.PI);dr.fill()}var iY=dr.getImageData(0,0,m,M);l.eP(iY.data,U,3)}l.rq(c5.z);l.rq(c5.B);
l.rq(c5.K);l.bc(c5,K.buffer)}if(o=="Crst"||o=="Pntl"){var m=g.rect.m,M=g.rect.n,aZ=o=="Crst"?l.PT.ago:l.PT.afy;
aZ(g.buffer,m,M,K.buffer,C.ClSz.v,[Math.round(x.z),Math.round(x.B),Math.round(x.K)])}if(o=="Mztn"){var m=g.rect.m,M=g.rect.n,Z=m*M,c5=new l.ib(Z),aF=[c5.z,c5.B,c5.K];
l.NA(g.buffer,c5);var eS=C.MztT.v.MztT,dQ={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[eS],ip=Date.now(),ai=[];
for(var N=0;N<Z;N++){ai[N]=Math.random()}var Z=m*M,jX=Math.round(Z*dQ[0]),iA=Z-m-1;for(var N=0;N<jX;
N++){var eh=Math.random(),iq=1;if(eh<.5){iq=m;eh*=2}else eh=2*(eh-.5);var f8=Math.floor(eh*iA),iL=f8+iq;
ai[f8]=ai[iL]}var i_=Math.round(m*dQ[1]);for(var P=0;P<M;P++)for(var N=0;N<i_;N++){var eh=l.j.Pt(P*Z+N),f8=P*m+Math.floor(eh*(m-1));
ai[f8]=ai[f8+1]}var bI=new Float64Array(256);for(var N=0;N<256;N++){var dP=N/255,hN=2*(dP<.5?dP:1-dP);
hN=dQ[2]+Math.pow(hN,dQ[3])*(1-dQ[2]);dP=dP<.5?hN*.5:1-hN*.5;bI[N]=dP}for(var E=0;E<3;E++){var U=aF[E];
for(var P=0;P<M;P++){for(var z=0;z<m;z++){var N=P*m+z,eO=U[N],dP=bI[eO],eh=ai[N];U[N]=eh>dP?0:255}}}l.bc(c5,K.buffer)}if(o=="Msc "){var aP=C.ClSz.v.val,m=g.rect.m,M=g.rect.n,cu=Math.ceil(m/aP),bq=Math.ceil(M/aP),iF=l.Z(cu*bq*4);
l.scale.js(g.buffer,m,M,iF,cu,bq,1/aP);l.scale.js(iF,cu,bq,K.buffer,m,M,aP)}if(o=="Clds"||o=="DfrC"){var m=K.rect.m,M=K.rect.n,Z=m*M,h0=l.Z(Z);
if(o=="Clds")l.th(K.buffer,4278190080);var jA=l.Z(256*4);for(var N=0;N<256;N++){var v=N<<2,fQ=N/255,aV=1-fQ;
jA[v]=Math.round(fQ*a.z+aV*x.z);jA[v+1]=Math.round(fQ*a.B+aV*x.B);jA[v+2]=Math.round(fQ*a.K+aV*x.K)}l.U.ar$(g.buffer,m,M,h0);
var b6=K.buffer;for(var N=0;N<Z;N++){var v=N<<2,E=h0[N]<<2,k=jA[E],hF=jA[E+1],fm=jA[E+2];if(o=="Clds"){b6[v]=k;
b6[v+1]=hF;b6[v+2]=fm}else{b6[v]=Math.abs(b6[4*N]-k);b6[v+1]=Math.abs(b6[4*N+1]-hF);b6[v+2]=Math.abs(b6[4*N+2]-fm)}}}if(o=="LnsF"){var m=g.rect.m,M=g.rect.n,eS=["Zm","Nkn","Nkn1","PnVs"].indexOf(C.Lns.v.Lns),fi=C.FlrC.v,e6=[Math.min(eS,2),C.Brgh.v/100,fi.Hrzn.v,fi.Vrtc.v],ip=Date.now();
l.auj(g.buffer,m,M,K.buffer,e6)}var kg=["Blr ","BlrM","Shrp","ShrM"].indexOf(o);if(kg!=-1){var ga=kg>1,m=g.rect.m,M=g.rect.n,fx=l.nw.$N[kg],b0=g.buffer.slice(0);
if(!ga)l.Cf(b0);l.nw.Dv(b0,K.buffer,m,M,fx,255,!1,ga);if(!ga)l.kr(K.buffer)}if(o=="MtnB"){var aI=-C.Angl.v*Math.PI/180,i8=C.Dstn.v.val/2,ip=Date.now(),m=g.rect.m,M=g.rect.n,q=g.rect.clone();
q.x=q.y=0;if(i.LH){var ip=Date.now(),km=K.buffer;km.set(g.buffer);l.Cf(km);var j7=i.Jn(0,m,M);j7.set(km);
var e0=l.Z(4);e0[0]=Math.round(128+127*Math.cos(aI));e0[1]=Math.round(128+127*Math.sin(aI));new Uint32Array(km.buffer).fill(new Uint32Array(e0.buffer)[0]);
var jq=i.Jn(1,m,M);jq.set(km);i.CG(j7,q);j7.RO(q);i.filter.kH({type:i.filter.Fv,tV:jq.Rb,cM:new Float32Array([1/m,1/M]),aub:i8/2,ajN:1},j7.R6);
j7.get(km);l.kr(km)}else{var fq=new kp;fq.rotate(aI);var e=c.V.Sk([g.buffer,g.rect],fq,!1,null,!0);hb.im(i8,l.EB.yz,e.buffer,e.rect);
fq.rq();e=c.V.Sk([e.buffer,e.rect],fq,!1,K.buffer.buffer,!0,K.rect)}console.log(Date.now()-ip)}if(o=="RdlB"){var m=g.rect.m,M=g.rect.n,cn=C.Amnt.v,gz=C.BlrM.v.BlrM=="Zm",eX=C.Cntr.v,fy=eX.Hrzn.v,hB=eX.Vrtc.v,iu=Math.max(fy,1-fy)*m,hY=Math.max(hB,1-hB)*M,i$=Math.sqrt(iu*iu+hY*hY),cZ=2*Math.PI*i$*1.5,jS=Math.round(cZ),a0=Math.round(i$),aJ=new aS(0,0,jS,a0),hk=l.Z(jS*a0*4),j8=gz?4:1,dy=gz?.6:8*((m+M)/2)/1400,ao=.1,b4=1,fR=1;
l.S.GZ(g.buffer,m,M,hk,jS,a0,fy,hB,j8,ao,b4,fR);var cv=gz?l.Z(jS*a0*4):null;if(gz){l.S.W8(hk,cv,jS,a0);
var h_=cv;cv=hk;hk=h_;aJ.m=a0;aJ.n=jS}hb.im(dy*cn,l.EB.yz,hk,aJ);if(gz){l.S.W8(hk,cv,a0,jS);var h_=cv;
cv=hk;hk=h_;aJ.m=jS;aJ.n=a0}l.S.Lp(hk,jS,a0,K.buffer,m,M,fy,hB,j8,ao,b4,fR)}if(o=="Plr "){var m=g.rect.m,M=g.rect.n;
if(C.Cnvr.v.Cnvr=="RctP")l.S.Lp(g.buffer,m,M,K.buffer,m,M,.5,.5,1,0,2,m/M);else l.S.GZ(g.buffer,m,M,K.buffer,m,M,.5,.5,1,0,2,m/M)}if(o=="FndE"){var m=g.rect.m,M=g.rect.n;
l.nw.PR(g.buffer,K.buffer,m,M)}if(o=="oilPaint"){var bc=C.LghD.v*Math.PI/180,a4=[Math.cos(bc),Math.sin(bc),.001],eW=[C.stylization.v,C.cleanliness.v,C.brushScale.v,C.microBrush.v,C.lightingOn.v,C.specularity.v,a4],q=g.rect.clone();
q.x=q.y=0;l.O2.filter(g.buffer,q,K.buffer,eW)}if(o=="Ofst"){var m=g.rect.m,M=g.rect.n,bO=new Uint32Array(g.buffer.buffer),ic=new Uint32Array(K.buffer.buffer),jt=C.Hrzn.v,hg=C.Vrtc.v,dV=C.Fl.v.FlMd;
l.th(ic,0);if(dV=="Bckg"||dV=="Rpt"){var aJ=g.rect.clone();aJ.offset(jt,hg);l.HT(bO,aJ,ic,K.rect)}if(dV=="Rpt"){var f2,d0,jZ,aU,gT;
jt=Math.max(-m,Math.min(m,jt));hg=Math.max(-M,Math.min(M,hg));f2=jt>0?jt:0;jZ=jt>0?m:m+jt;d0=hg>0?0:hg+M;
aU=hg>0?hg:M;gT=hg>0?0:m*(M-1);for(var P=d0;P<aU;P++)for(var z=f2;z<jZ;z++)ic[P*m+z]=bO[gT+z-jt];f2=jt>0?0:m+jt;
jZ=jt>0?jt:m;d0=hg>0?hg:0;aU=hg>0?M:M+hg;gT=jt>0?0:m-1;for(var P=d0;P<aU;P++)for(var z=f2;z<jZ;z++)ic[P*m+z]=bO[gT+m*(P-hg)];
if(jt>=0&&hg>=0){f2=0;jZ=jt;d0=0;aU=hg;gT=0}if(jt>=0&&hg<0){f2=0;jZ=jt;d0=M+hg;aU=M;gT=m*(M-1)}if(jt<0&&hg>=0){f2=m+jt;
jZ=m;d0=0;aU=hg;gT=m-1}if(jt<0&&hg<0){f2=m+jt;jZ=m;d0=M+hg;aU=M;gT=m*M-1}for(var P=d0;P<aU;P++)for(var z=f2;
z<jZ;z++)ic[P*m+z]=bO[gT]}if(dV=="Wrp"){jt=(jt+100*m)%m;hg=(hg+100*M)%M;var aJ=new aS(jt-m,hg-M,m,M);
l.HT(bO,aJ,ic,K.rect);aJ.offset(m,0);l.HT(bO,aJ,ic,K.rect);aJ.offset(0,M);l.HT(bO,aJ,ic,K.rect);aJ.offset(-m,0);
l.HT(bO,aJ,ic,K.rect)}}if(o=="Rept"){var iI=C.Rsft.v.val/100,fc=C.SpcX.v.val/100;fc=Math.max(fc,-.99);
var iX=C.SpcY.v.val/100;iX=Math.max(iX,-.99);var b4=C.Scl.v.val/100,fq=new kp;fq.rotate(C.Angl.v*Math.PI/180);
fq.scale(b4,b4);var gt={buffer:g.buffer,rect:g.rect};l.JF(gt);if(gt.rect.to()){gt.buffer=g.buffer;gt.rect=g.rect}var b6=gt.buffer,aJ=gt.rect,jj=l.AQ(b6,aJ,0),ed=new Uint32Array(b6.buffer)[0];
if(!jj.to()&&!jj.$s(aJ)){var af=l.Z(jj.$()*4);l.HT(b6,aJ,af,jj);b6=af;aJ=jj}aJ.x=aJ.y=0;ed=fc==0&&iX==0||C.SpcC.v?ed:0;
function dt(z){return z<0?Math.ceil(z):Math.floor(z)}var ck=fq.nx(new eN(aJ.m,0));ck.x=dt(ck.x);ck.y=dt(ck.y);
var hQ=fq.nx(new eN(0,aJ.n));hQ.x=dt(hQ.x);hQ.y=dt(hQ.y);var e=c.V.Sk([b6,aJ],fq,!1),gg=e.rect,jC=e.buffer,eU=Math.round(gg.x),h9=Math.round(gg.y),iS=Math.max(K.rect.m,K.rect.n)/Math.min(aJ.m*b4*(1+fc),aJ.n*b4*(1+iX));
iS=Math.ceil(iS*1.7);l.th(K.buffer,ed);for(var P=-iS;P<iS;P++){for(var z=-iS;z<iS;z++){var iB=(z+P*iI)*(1+fc),bm=P*(1+iX);
gg.x=eU+Math.round(iB*ck.x+bm*hQ.x);gg.y=h9+Math.round(iB*ck.y+bm*hQ.y);if(gg.fp(K.rect))l.j.Ly("norm",jC,gg,K.buffer,K.rect,gg,1)}}}if(o=="Ctoa"){var x=l.T.Xh(C.Clr.v),de=C.Trsp.v.val/100,gf=C.Opct.v.val/100;
de=gf==0?0:de/gf;var m=g.rect.m,M=g.rect.n,ct=~~x.z,iO=~~x.B,ko=~~x.K,gT=g.buffer,fp=K.buffer;for(var P=0;
P<M;P++)for(var z=0;z<m;z++){var N=P*m+z,v=N<<2,aJ=gT[v],hA=gT[v+1],b6=gT[v+2],jw=Math.abs(ct-aJ),d7=Math.abs(iO-hA),b5=Math.abs(ko-b6),hl=Math.max(jw,d7,b5)*(1/255);
hl=Math.max(0,Math.min(1,hl/gf));var gL=hl==0?0:1/hl,cB=de==1?1:Math.max(0,Math.min(1,(hl-de)/(1-de)));
fp[v]=Math.max(0,Math.min(255,(aJ-ct*(1-hl))*gL));fp[v+1]=Math.max(0,Math.min(255,(hA-iO*(1-hl))*gL));
fp[v+2]=Math.max(0,Math.min(255,(b6-ko*(1-hl))*gL));fp[v+3]=~~(.5+cB*255)}}if(o=="Dthr"){function cD(z){return~~(.5+255*l.RA(z/255))}var s=C.Plte.v,cK;
if(s==0)cK=[4278190080,4294967295];else{var cz=[[1,1,1],[2,2,2],[3,3,2]][s-1],fj=[1<<cz[0],1<<cz[1],1<<cz[2]],eL=[~~(255/(fj[0]-1)),~~(255/(fj[1]-1)),~~(255/(fj[2]-1))];
cK=[];for(var k=0;k<fj[0];k++)for(var hF=0;hF<fj[1];hF++)for(var fm=0;fm<fj[2];fm++)cK.push(255<<24|cD(fm*eL[2])<<16|cD(hF*eL[1])<<8|cD(k*eL[0]))}var m=g.rect.m,M=g.rect.n,Z=m*M,gW=Z*4,b_=g.buffer.slice(0),dN=K.buffer;
for(var N=0;N<gW;N++)b_[N]=~~(.5+255*l.RA(b_[N]/255));var kf=l.Z(m*M);UPNG.encode.dither(b_,m,M,cK,dN,kf);
for(var N=0;N<gW;N++)dN[N]=~~(.5+255*l.eS(dN[N]/255))}if(o=="Part"){var hj=[C.RndS.v,C.Cont.v/100,C.Size.v,C.Dpth.v/100,C.Brgh.v/100,l.T.Xh(C.Clr.v),C.Time.v,C.Blnk.v,C.Fall.v,C.Turb.v/100];
l.Hq.hj(K.buffer,g.rect.m,g.rect.n,hj)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(o)!=-1){var bU=h[0],m=g.rect.m,M=g.rect.n,bI,jy=0;
if(o=="LqFy")bI=dg.kR(new Uint8Array(C.LqMe.v).buffer);else{var fh=3;bI={MI:Math.floor(m/fh),fB:Math.floor(M/fh)};
bI.map=new Float32Array(bI.MI*bI.fB*2);if(o=="LnCr"){var fy=.5*(bI.MI-1),hB=.5*(bI.fB-1),hM=Math.max(Math.abs(0-fy),Math.abs(1-fy)),bD=Math.max(Math.abs(0-hB),Math.abs(1-hB)),ay=Math.sqrt(hM*hM+bD*bD),fN=0,j2=0,gn=-1,jn=2,b4=C.LnSi.v/100,gz=1/b4,k9=C.LnIa.v/100,hG=k9==0?1e-6:k9*4.6,bP=gz/ay;
for(var P=0;P<bI.fB;P++){for(var z=0;z<bI.MI;z++){var iu=(z-fy)*bP,hY=(P-hB)*bP,k=Math.sqrt(iu*iu+hY*hY)*hG,jV=Math.atan(k),f5=k9>0?jV/k:k/jV,fR=fy+ay*f5*iu,fH=hB+ay*f5*hY,N=P*bI.MI+z<<1;
bI.map[N]=fR-z;bI.map[N+1]=fH-P}}}else if(o=="Kale"){var cu=bI.MI,bq=bI.fB,gA=(cu-1)*.5,j9=(bq-1)*.5,iR=C.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,iE=C.Mirr.v,eE=Math.PI*2/iE,cr=.5*eE;
for(var P=0;P<bq;P++)for(var z=0;z<cu;z++){var iu=z-gA,hY=P-j9,kl=Math.sqrt(iu*iu+hY*hY),bc=Math.atan2(hY,iu)+iR;
bc=bc%eE;if(bc>cr)bc=eE-bc;var fR=gA+Math.cos(bc-iR)*kl,fH=j9+Math.sin(bc-iR)*kl,N=(P*cu+z)*2;bI.map[N]=fR-z;
bI.map[N+1]=fH-P}}else if(o=="Dspl"&&bU.length!=0){jy=C.UndA.v.UndA=="WrpA"?2:1;var bY=C.DspF.v.pth,k7;
for(var N=0;N<bU.length;N++)if(bU[N].f8==bY)k7=bU[N];if(k7==null)k7=bU[0];k7.cf();var jw=k7.zm[1],gj=l.Z(jw.$());
l.cr(k7.zm[0],gj);var gX=jw.m,g4=jw.n;bI={MI:gX,fB:g4};bI.map=new Float32Array(bI.MI*bI.fB*2);var dl=2.54*C.HrzS.v*gX/m,dw=2.54*C.VrtS.v*g4/M;
for(var P=0;P<bI.fB;P++){for(var z=0;z<bI.MI;z++){var fo=-.5+gj[P*gX+z]*(1/255),N=P*bI.MI+z<<1;bI.map[N]=fo*dl;
bI.map[N+1]=fo*dw}}}else if(o=="Pnch"||o=="Twrl"||o=="Sphr"||o=="ZgZg"){var cn=1,aI=Math.PI,an=0,ik=1,f_=0,eX=3,aP=1.53,f5=1;
if(o=="Pnch"||o=="Sphr"||o=="ZgZg")cn=C.Amnt.v/100;if(o=="ZgZg"){ik=C.NmbR.v;f_=["ArnC","OtFr","PndR"].indexOf(C.ZZTy.v.ZZTy)}if(o=="Twrl")aI=C.Angl.v*Math.PI/180;
if(o=="Sphr")an=["Nrml","HrzO","VrtO"].indexOf(C.SphM.v.SphM);function aZ(z){z=Math.pow(z,1-z*.3-z*z*(z*z)*.5);
return-.225*Math.sin(z*Math.PI)}function gH(M,e9,k,f2,d0,jZ,aU,f5){var iu=jZ-f2,hY=aU-d0,b2=f2-M,jW=d0-e9,fQ=iu*iu+hY*hY,fm=2*(iu*b2+hY*jW),eX=b2*b2+jW*jW-k*k,fw=Math.sqrt(fm*fm-4*fQ*eX),cb=f5/(2*fQ),av=(-fm+fw)*cb,df=(-fm-fw)*cb;
return f5*Math.min(av,df)}var cu=bI.MI,bq=bI.fB,gA=bI.MI/2,j9=bI.fB/2,g1=1/gA,k=Math.sqrt(eX*eX+1)/eX,cQ=eX+Math.sqrt(1/(eX*eX));
if(cn<0){eX=1.72;k=1;cQ=eX;aP=-1;f5=-1}for(var P=0;P<bq;P++){var hY=(P-j9)/j9;for(var z=0;z<cu;z++){var iu=(z-gA)*g1;
if(an==1)hY=0;else if(an==2)iu=0;var eV=Math.sqrt(iu*iu+hY*hY);if(eV<1&&eV!=0){var N=P*bI.MI+z<<1;if(o=="Pnch"){var gF=-cn*aZ(eV)/eV;
bI.map[N]=iu*gF*gA;bI.map[N+1]=hY*gF*j9}else if(o=="Sphr"){var h_=gH(0,cQ,k,0,0,eV,eX,f5),bb=aP*cn*(h_-1);
bI.map[N]=iu*bb*gA;bI.map[N+1]=hY*bb*j9}else if(o=="Twrl"){var bc=Math.atan2(hY,iu)-aI*(1-eV)*(1-eV),jo=Math.cos(bc),h7=Math.sin(bc);
bI.map[N]=(eV*jo-iu)*gA;bI.map[N+1]=(eV*h7-hY)*j9}else if(o=="ZgZg"){var jo=0,h7=0,dG=cn*(.5-.5*Math.cos(eV*ik*2*Math.PI))*(1-eV);
if(f_==0){var bc=Math.atan2(hY,iu)-3.5*dG;jo=eV*Math.cos(bc);h7=eV*Math.sin(bc)}if(f_==1){dG=100/m*dG/eV;
jo=(1-dG)*iu;h7=(1-dG)*hY}if(f_==2){var $=512/m*dG*Math.PI/4;jo=$+iu;h7=$+hY}bI.map[N]=(jo-iu)*gA;bI.map[N+1]=(h7-hY)*j9}}}}}else if(o=="Shr "){var gS=JSON.parse(JSON.stringify(C.ShrP.v));
l.QG.D(gS,new kp(0,255/127,255/127,0,-2,0));var e$=l.QG.or(gS,bI.fB,!0);jy=C.UndA.v.UndA=="WrpA"?2:1;
for(var P=0;P<bI.fB;P++){var iu=-e$[P]*bI.MI;for(var z=0;z<bI.MI;z++){var N=P*bI.MI+z<<1;bI.map[N]=iu}}}else if(o=="Wave"){var dJ=C.NmbG.v,kk=C.WLMn.v,aY=C.WLMx.v,i5=C.AmMn.v*(Math.PI/4),d1=C.AmMx.v*(Math.PI/4),f0=C.SclH.v/100,f7=C.SclV.v/100,eS=C.Wvtp.v.Wvtp,dG=Math.sin;
if(eS=="WvTr")dG=function(z){z*=2/Math.PI;return-.5+Math.abs(z%2-1)};if(eS=="WvSq")dG=function(z){z*=2/Math.PI;
return 1+2*Math.floor(z%2-1)};var jp=[],eb=new l.j.$Y(C.RndS.v);for(var N=0;N<dJ;N++){jp.push(eb.get()*10);
jp.push(Math.PI*fh/(kk+eb.get()*(aY-kk)));jp.push(f0*(i5+eb.get()*(d1-i5))/fh);jp.push(eb.get()*10);
jp.push(Math.PI*fh/(kk+eb.get()*(aY-kk)));jp.push(f7*(i5+eb.get()*(d1-i5))/fh)}var cU=[],g3=[],cF=Math.max(bI.MI,bI.fB);
for(var N=0;N<cF;N++){var iu=0,hY=0;for(var jK=0;jK<dJ;jK++){var hd=jK*6;iu+=jp[hd+2]*dG(jp[hd]+N*jp[hd+1]);
hY+=jp[hd+5]*dG(jp[hd+3]+N*jp[hd+4])}cU[N]=hY;g3[N]=iu}for(var P=0;P<bI.fB;P++){for(var z=0;z<bI.MI;
z++){var N=P*bI.MI+z<<1;bI.map[N]=g3[P];bI.map[N+1]=cU[z]}}jy=C.UndA.v.UndA=="WrpA"?2:1}else if(o=="Rple"){jy=1;
var cn=C.Amnt.v/100,eA=4,fg=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],fW=1,gZ=1,b2=0,bf=["Sml","Mdm","Lrg"].indexOf(C.RplS.v.RplS);
if(bf==0){fW=1;gZ=.2;b2=3}if(bf==2){fW=1;gZ=2;b2=-1;fg=fg.reverse()}var gi=function(z,P){var eX=Math.cos,j0=0;
for(var N=0;N<eA;N++)for(var jK=0;jK<eA;jK++)j0+=fg[N*eA+jK]*eX(z*(N+b2)-P*(jK+b2));return j0},aG=Math.floor(50/fh),gk=new Float32Array(aG*aG*2),bs=gZ*cn*.5/fh;
for(var P=0;P<aG;P++)for(var z=0;z<aG;z++){var fy=fW*z*2*Math.PI/aG,hB=fW*P*2*Math.PI/aG,iw=gi(fy,hB),iu=(gi(fy+.01,hB)-iw)*100,hY=(gi(fy,hB+.01)-iw)*100,N=(P*aG+z)*2;
gk[N]=iu*bs;gk[N+1]=hY*bs}for(var P=0;P<bI.fB;P++)for(var z=0;z<bI.MI;z++){var h7=P%aG,jo=z%aG,N=P*bI.MI+z<<1,ih=h7*aG+jo<<1;
bI.map[N]=gk[ih];bI.map[N+1]=gk[ih+1]}}}l.lp.BK(g.buffer,K.buffer,m,M,null,bI.map,bI.MI,bI.fB,jy)}return K};
var ey={};ey.a20="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");ey.pu="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
ey.N2=["ScrC","ScrD","ScrL"];ey.HA=["SDRD","SDHz","SDLD","SDVt"];ey.el="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
ey.Rz="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");ey.hx="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
ey.iD=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];ey.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
ey.l3=function(o){var g;if(o=="ClrP")g={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(o=="Ct")g={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(o=="DryB")g={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(o=="FlmG")g={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(o=="Frsc")g={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(o=="NGlw")g={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(o=="PntD")g={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(o=="PltK")g={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(o=="PlsW")g={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(o=="PstE")g={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(o=="RghP")g={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(o=="SmdS")g={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(o=="Spng")g={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(o=="Undr")g={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(o=="Wtrc")g={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(o=="AccE")g={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(o=="AngS")g={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(o=="Crsh")g={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(o=="DrkS")g={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(o=="InkO")g={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(o=="Smie")g={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(o=="Spt")g={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(o=="SprS")g={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(o=="DfsG")g={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(o=="Gls")g={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(o=="OcnR")g={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(o=="BsRl")g={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(o=="ChlC")g={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(o=="Chrc")g={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(o=="Chrm")g={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(o=="CntC")g={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(o=="GraP")g={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(o=="HlfS")g={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(o=="NtPr")g={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(o=="Phtc")g={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(o=="Plst")g={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(o=="Rtcl")g={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(o=="Stmp")g={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(o=="TrnE")g={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(o=="WtrP")g={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(o=="GlwE")g={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(o=="Crql")g={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(o=="Grn")g={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(o=="MscT")g={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(o=="Ptch")g={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(o=="StnG")g={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(o=="Txtz")g={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
g.__name="Filter Gallery";g.classID="GEfc";g.GEfk={t:"enum",v:{GEft:o}};g.GELv={t:"bool",v:!0};return g};
ey.jp=function(o,g){for(var N=0;N<g.length;N++)~~(g[N]=(o[4*N]+o[4*N+1]+o[4*N+2])*(1/3))};ey.aop=function(o,g,C,a){var x=UPNG.quantize(o,g);
x={Wn:x.inds,QO:x.plte};var K=Math.floor((C+a)*.015);if(K!=0)l.Lb.a4f(x.Wn,C,a,K);return x};ey.la=function(o,g,C,a,x,K,h){o=C.GEfk.v.GEft;
var X=g.rect,w=X.m,G=X.n,R=w*G,d=C.FlRs?C.FlRs.v>>>1:0;function q(v){return v.z<<24|v.B<<16|v.K<<8|255}if(o=="ClrP")l.U.aiq(g.buffer,w,G,K.buffer,[C.Pncl.v,C.StrP.v,C.PprB.v]);
if(o=="Ct"){var m=C.NmbL.v,M=C.EdgS.v,Z=ey.aop(g.buffer.buffer,m*2,w,G);for(var N=0;N<Z.Wn.length;N++)Z.Wn[N]++;
var Q=new Uint8Array((w+2)*(G+2));l.MD(Z.Wn,new aS(1,1,w,G),Q,new aS(0,0,w+2,G+2));var p=l.o.xw(Q,w+2,G+2,M,!1),y=new kp(1,0,0,1,-1,-1);
for(var N=0;N<p.length;N++)l.o.D(p[N].path.w,y,p[N].path.w);var V=[],W=Z.QO;for(var N=0;N<W.length;N++){var v=W[N].est.q;
V.push({z:Math.round(255*v[0]),B:Math.round(255*v[1]),K:Math.round(255*v[2]),Bk:Math.round(255*v[3])})}var j=l.Z0(w,G);
for(var N=0;N<p.length;N++){var e=p[N],v=V[e.color-1];if(v.Bk==0)continue;j.fillStyle="rgba("+v.z+","+v.B+","+v.K+","+v.Bk/255+")";
j.beginPath();Typr.U.pathToContext({crds:e.path.w,cmds:e.path.G},j);j.fill()}if(!X.to()){var T=j.getImageData(0,0,w,G);
l.j5(T.data,K.buffer)}}if(o=="DryB")l.U.a8z(g.buffer,w,G,K.buffer,[C.BrsS.v,C.BrsD.v,C.Txtr.v]);if(o=="FlmG")l.U.adt(g.buffer,w,G,K.buffer,[C.Grn.v,C.HghA.v,C.Intn.v,d]);
if(o=="Frsc")l.U.akF(g.buffer,w,G,K.buffer,[C.BrsS.v,C.BrsD.v,C.Txtr.v]);if(o=="NGlw")l.U.aul(g.buffer,w,G,K.buffer,[C.Sz.v,C.Brgh.v,q(l.T.Xh(C.Clr.v)),q(a),q(x)]);
if(o=="PltK")l.U.aqE(g.buffer,w,G,K.buffer,[C.StrS.v,C.StDt.v,C.Sftn.v]);if(o=="PstE")l.U.apj(g.buffer,w,G,K.buffer,[C.EdgT.v,C.EdgI.v,C.Pstr.v]);
if(o=="RghP")l.U.aw2(g.buffer,w,G,K.buffer,[C.StrL.v,C.StDt.v,ey.el.indexOf(C.TxtT.v.TxtT),C.Scln.v,C.Rlf.v,ey.pu.indexOf(C.LghD.v.LghD),C.InvT.v]);
if(o=="SmdS")l.U.asT(g.buffer,w,G,K.buffer,[C.StrL.v,C.HghA.v,C.Intn.v,C.FlRs.v,d]);if(o=="Spng")l.U.a3H(g.buffer,w,G,K.buffer,[C.BrsS.v,C.Dfnt.v,C.Smth.v,C.FlRs.v,d]);
if(o=="Undr")l.U.afJ(g.buffer,w,G,K.buffer,[C.BrsS.v,C.TxtC.v,ey.el.indexOf(C.TxtT.v.TxtT),C.Scln.v,C.Rlf.v,ey.pu.indexOf(C.LghD.v.LghD),C.InvT.v]);
if(o=="Wtrc")l.U.ax1(g.buffer,w,G,K.buffer,[C.BrsD.v,C.ShdI.v,C.Txtr.v]);if(o=="AccE")l.U.a8Q(g.buffer,w,G,K.buffer,[C.EdgW.v,C.EdgB.v,C.Smth.v]);
if(o=="AngS")l.U.alg(g.buffer,w,G,K.buffer,[C.DrcB.v,C.StrL.v,C.Shrp.v]);if(o=="Crsh")l.U.a5N(g.buffer,w,G,K.buffer,[C.StrL.v,C.Shrp.v,C.Strg.v]);
if(o=="DrkS")l.U.aqy(g.buffer,w,G,K.buffer,[C.Blnc.v,C.BlcI.v,C.WhtI.v]);if(o=="InkO")l.U.a7q(g.buffer,w,G,K.buffer,[C.StrL.v,C.DrkI.v,C.LghI.v]);
if(o=="Smie")l.U.adf(g.buffer,w,G,K.buffer,[C.StrW.v,C.StrP.v,C.Cntr.v]);if(o=="DfsG")l.U.akW(g.buffer,w,G,K.buffer,[C.Grns.v,C.GlwA.v,C.ClrA.v,q(x),d]);
if(o=="CntC")l.U.ad_(g.buffer,w,G,K.buffer,[C.FrgL.v,C.BckL.v,ey.el.indexOf(C.TxtT.v.TxtT),C.Scln.v,C.Rlf.v,ey.pu.indexOf(C.LghD.v.LghD),C.InvT.v,q(x),q(a)]);
if(o=="ChlC")l.U.awH(g.buffer,w,G,K.buffer,[C.ChrA.v,C.ChlA.v,C.StrP.v,d,q(x),q(a)]);var O=o=="GraP"||o=="Chrc"||o=="Plst"||o=="Rtcl"||o=="Stmp"||o=="TrnE";
if(O){var L=l.Z(w*G);if(o=="GraP")l.U.atv(g.buffer,w,G,K.buffer,[C.StrL.v,C.LgDr.v,ey.HA.indexOf(C.SDir.v.StrD),d]);
if(o=="Chrc")l.U.abj(g.buffer,w,G,K.buffer,[C.ChAm.v,C.Dtl.v,C.LgDr.v]);if(o=="Plst")l.U.ads(g.buffer,w,G,K.buffer,[C.ImgB.v,ey.Rz.indexOf(C.LghP.v.LghP),C.Smth.v]);
if(o=="Rtcl")l.U.axp(g.buffer,w,G,K.buffer,[C.Dnst.v,C.BlcL.v,C.WhtL.v,d]);if(o=="Stmp")l.U.aaI(g.buffer,w,G,K.buffer,[C.LgDr.v,C.Smth.v]);
if(o=="TrnE")l.U.anj(g.buffer,w,G,K.buffer,[C.ImgB.v,C.Smth.v,C.Cntr.v,d]);l.eP(K.buffer,L,0);ey.Ip(L,K.buffer,a,x)}if(o=="NtPr")l.U.a6e(g.buffer,w,G,K.buffer,[C.ImgB.v,C.Grns.v,C.Rlf.v,q(a),q(x),d]);
if(o=="WtrP")l.U.agy(g.buffer,w,G,K.buffer,[C.FbrL.v,C.Brgh.v,C.Cntr.v,d>>>1]);if(o=="Crql")l.U.a7A(g.buffer,w,G,K.buffer,[C.CrcS.v,C.CrcD.v,C.CrcB.v,d]);
if(o=="Grn")l.U.aoB(g.buffer,w,G,K.buffer,[C.Intn.v,ey.hx.indexOf(C.Grnt.v.Grnt),C.Cntr.v,q(a),q(x),d]);
if(o=="MscT")l.U.aq3(g.buffer,w,G,K.buffer,[C.TlSz.v,C.GrtW.v,C.LghG.v,d]);if(o=="Ptch")l.U.amJ(g.buffer,w,G,K.buffer,[C.SqrS.v,C.Rlf.v,d]);
if(o=="Phtc"){function S(hy,hJ,X,gu){l.EB.oZ(hy,hJ,X,gu);for(var N=0;N<R;N++)hJ[N]=Math.max(0,Math.min(255,128+hy[N]-hJ[N]))}var $=C.Dtl.v,H=C.Drkn.v,f=l.Z(R);
l.cr(g.buffer,f);var F=l.Z(R);S(f,F,X,1);if($==1){$=2;H=Math.round(H/4)}var U=l.Z(R);S(f,U,X,$);for(var N=0;
N<R;N++)f[N]=Math.max(0,Math.min(255,255-(F[N]-U[N])*H));ey.Ip(f,K.buffer,a,x)}if(o=="Spt"||o=="SprS"){var r,E=1,k=1;
r={MI:Math.floor(w/k),fB:Math.floor(G/k)};r.map=new Float32Array(r.MI*r.fB*2);var P=new l.j.$Y(C.FlRs.v),z=new Float32Array(8192),s=C.SprR.v,Y=s<20?.018*s:.36+(s-20)*.128;
if(o=="SprS"){Y=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][s]}for(var N=0;
N<8192;N++)z[N]=(-1+2*P.get())*Y*70;for(var t=0;t<G;t++)for(var n=0;n<w;n++){var J=t*w+n<<1;r.map[J]=z[J%7919];
r.map[J+1]=z[(J+1)%7919]}var I=r.map.slice(0),fp=o=="Spt"?C.Smth.v-1:1;if(o=="Spt"&&fp!=0){ey.adp(r.map,I,w,G,fp);
ey.aar(I,r.map,w,G,fp)}if(o=="SprS"){var cH=C.StrL.v>>>1,b=cH==0?2:1;ey.adp(r.map,I,w,G,b);ey.aar(I,r.map,w,G,b);
if(cH!=0){var jL=ey.HA.indexOf(C.SDir.v.StrD),aq=[1,1,1,0][jL],cJ=[-1,0,1,1][jL],aB=2*cH+1,au=1/aB;for(var t=0;
t<G;t++)for(var n=0;n<w;n++){var J=t*w+n<<1,ea=0,ax=0;for(var N=0;N<aB;N++){var f1=Math.max(0,Math.min(w-1,n-(cH+N)*aq)),fk=Math.max(0,Math.min(G-1,t-(cH+N)*cJ)),hF=fk*w+f1<<1;
ea+=r.map[hF];ax+=r.map[hF+1]}I[J]=ea*au;I[J+1]=ax*au}r.map=I}}l.lp.BK(g.buffer,K.buffer,w,G,null,r.map,r.MI,r.fB,E)}if(o=="BsRl"||o=="PlsW"||o=="Chrm"){var fm=Date.now(),jE=l.Z(R),ff=jE.slice(0);
l.cr(g.buffer,jE);var $=C.Dtl.v,d5=C.Smth.v;if($!=15){l.EB.OV(jE,ff,X,Math.round((15-$)*.5));l.j5(ff,jE)}var eF=1.4/w,gI=1.4/G,fE=new Float32Array(R),js=new Float32Array(R),d8=new Float32Array(K.buffer.buffer);
for(var t=0;t<G;t++)for(var n=0;n<w;n++){var N=t*w+n,aq=n==w-1?jE[N]-jE[N-1]:jE[N+1]-jE[N],cJ=t==G-1?jE[N]-jE[N-w]:jE[N+w]-jE[N],bt=n*eF-.7,io=t*gI-.7;
fE[N]=aq==0?bt:aq*.4;js[N]=cJ==0?io:cJ*.4}if(o=="BsRl"){var dp=(2+ey.pu.indexOf(C.LghD.v.LghD))*Math.PI*.25,ea=Math.cos(dp);
if(Math.abs(ea)<.1)ea=0;ea=Math.sign(ea);var ax=Math.sin(dp);if(Math.abs(ax)<.1)ax=0;ax=Math.sign(ax);
var gS=1/(ea*ea+ax*ax);for(var t=0;t<G;t++)for(var n=0;n<w;n++){var N=t*w+n,aP=Math.max(-1,Math.min(1,ea*fE[N])),gD=Math.max(-1,Math.min(1,ax*js[N]));
ff[N]=128+127*(aP+gD)*gS}if(d5!=1){l.EB.OV(ff,jE,X,Math.round((d5-1)*.5));l.j5(jE,ff)}ey.Ip(ff,K.buffer,a,x)}else{if(o=="Chrm")d5=5+d5;
if(d5>1)ey.im(fE,js,d8,X,d5-1);if(o=="PlsW"){var fA=new Uint8Array(fE.buffer);for(var N=0;N<R;N++){var jH=N<<2,aq=fE[N],cJ=js[N],aM=1/(Math.sqrt(1+aq*aq)*Math.sqrt(1+cJ*cJ)),jc=aM*aM,eQ=jc*jc,v=~~(255*(eQ*eQ*jc));
fA[jH+0]=v;fA[jH+1]=v;fA[jH+2]=v;fA[jH+3]=v}K.buffer.set(g.buffer);l.j.Ly("norm",fA,X,K.buffer,X,X,C.HghS.v/20)}else if(o=="Chrm"){var j1=K.buffer,i7=w>>>1,fT=G>>>1;
for(var N=0;N<R;N++){var jH=N<<2,aq=fE[N],cJ=js[N],hy={x:1,y:0,wn:aq};bd.fW(hy);var hJ={x:0,y:1,wn:cJ};
bd.fW(hJ);var db=bd.a6t(hy,hJ),jK=1/db.wn,h_=~~Math.max(0,Math.min(w-1,i7-db.x*jK*i7)),dM=~~Math.max(0,Math.min(G-1,fT-db.y*jK*fT)),v=jE[dM*w+h_];
j1[jH+0]=v;j1[jH+1]=v;j1[jH+2]=v}}}}if(o=="Gls"||o=="OcnR"||o=="Txtz"){var eW=o=="OcnR"?2:ey.el.indexOf(C.TxtT.v.TxtT),ip=ey.wM(eW),fS=ip[0],jE=ip[1],hS=fS.m,bB=fS.n,aB=24,bc=0,aa,cn;
function g_(ab,du,cG){return~~(e4*(ab+du)+8192)&127}var fE=new Float32Array(R),js=new Float32Array(R),d8=new Float32Array(K.buffer.buffer),e4=o=="OcnR"?1/(1+(C.RplS.v-1)*.1):100/C.Scln.v;
if(eW==3)e4*=32/22.2;var fm=Date.now(),e0=e4,eF=1.4/w,gI=1.4/G;if(o=="Txtz"){e0*=1/255;aB=256}for(var t=0;
t<G;t++){var jC=g_(t,X.y,bB),fk=jC+1&127;for(var n=0;n<w;n++){var N=t*w+n,i4=g_(n,X.x,hS),f1=i4+1&127,hO=0,eq=0,ig=0;
if(o=="Txtz"){hO=l.S.TE(e4*n,e4*t,jE,128,128);eq=l.S.TE(e4*n,e4*t+1,jE,128,128);ig=l.S.TE(e4*n+1,e4*t,jE,128,128)}else{hO=jE[jC*hS+i4];
eq=jE[fk*hS+i4];ig=jE[jC*hS+f1]}fE[N]=Math.max(-aB,Math.min((ig-hO)*e0,aB));js[N]=Math.max(-aB,Math.min((eq-hO)*e0,aB))}}if(o=="Txtz")ey.a0F(fE,js,d8,X,6);
else ey.im(fE,js,d8,X,o=="Txtz"?1:o=="OcnR"?3.5/e4:C.Smth.v);if(o=="Txtz")bc=C.InvT.v?-1:1;else if(o=="Gls"){bc=[1,.4,.5,.5][eW]*(Math.exp(C.Dstr.v*.155)-1);
if(C.InvT.v)bc=-bc}else{bc=.5*(Math.exp(C.RplM.v*.155)-1)}var j1=K.buffer;if(o=="Txtz"){var dp=(2+ey.pu.indexOf(C.LghD.v.LghD))*Math.PI*.25,ea=Math.cos(dp),ax=Math.sin(dp);
aa={x:ea,y:ax,wn:0};bd.fW(aa);cn=C.Rlf.v;cn=cn/4+Math.max(0,(cn-35)*2)}function iu(hy,hJ,b8){var im=l.j.overF(hJ,hy,1),ab=(1-b8)*hy+b8*(b8*hJ+(1-b8)*im);
return ab*255}for(var t=0;t<G;t++)for(var n=0;n<w;n++){var N=t*w+n,jH=N<<2,aq=fE[N],cJ=js[N],hy={x:1,y:0,wn:aq};
bd.fW(hy);var hJ={x:0,y:1,wn:cJ};bd.fW(hJ);var db=bd.a6t(hy,hJ);if(o=="Txtz"){var hY=bd.awP(db,aa)*bc,b8=1,v=1;
if(hY<0){v=0;hY=-hY}b8=Math.min(1,hY*cn);j1[jH+0]=~~iu(g.buffer[jH]*(1/255),v,b8);j1[jH+1]=~~iu(g.buffer[jH+1]*(1/255),v,b8);
j1[jH+2]=~~iu(g.buffer[jH+2]*(1/255),v,b8)}else{var jK=bc/db.wn,h_=~~Math.max(0,Math.min(w-1,n-db.x*jK)),dM=~~Math.max(0,Math.min(G-1,t-db.y*jK)),b$=dM*w+h_<<2;
j1[jH+0]=g.buffer[b$];j1[jH+1]=g.buffer[b$+1];j1[jH+2]=g.buffer[b$+2]}}}if(o=="PntD"){var cY=C.Shrp.v*.4,bX=C.BrsT.v.BrsT,b_={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[bX],gu=Math.round(C.Sz.v*.5);
l.Go.rG=b_[0];var cw=l.Go.Fh;l.Go.n$(g.buffer,K.buffer,w,G,gu,cw,[]);var g9=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
g9=l.nw.rs(g9);var eS=K.buffer.slice(0);l.nw.Dv(eS,K.buffer,w,G,g9,0);for(var N=0;N<g.buffer.length;
N++){var gK=K.buffer[N]-eS[N];K.buffer[N]=Math.max(0,Math.min(255,eS[N]+cY*gK))}}if(o=="GlwE"){var aW=K.buffer.slice(0);
l.Go.rG=.5;var cw=l.Go.Fh;l.Go.n$(g.buffer,aW,w,G,C.Smth.v>>>1,cw,[]);l.nw.PR(aW,K.buffer,w,G);l.j5(K.buffer,aW);
l.rq(aW);l.th(aW,4278190080,16777215);l.Go.n$(aW,K.buffer,w,G,C.EdgW.v>>>1,l.Go.hY,[]);var jf=C.EdgB.v/10;
for(var N=0;N<aW.length;N++){if((N&3)==3)continue;var im=K.buffer[N];K.buffer[N]=Math.max(0,Math.min(255,im*jf))}}if(o=="StnG"){l.PT.axd(g.buffer,w,G,K.buffer,C.ClSz.v,[Math.round(a.z),Math.round(a.B),Math.round(a.K)],C.BrdT.v)}if(o=="HlfS"){var hE=C.HlSz.v,c6=hE*2+1,dn=C.Cntr.v,aR=ey.N2.indexOf(C.ScrT.v.ScrT),R=w*G,hK=R*4,bh=l.Z(R),f2=g.buffer,ja=0,hC=0;
ey.jp(f2,bh);var d0=bh.slice(0);l.EB.OE(d0,bh,X,hE);var jZ=Math.PI/c6,aU=new Float64Array(w),ea=new Float64Array(w),a7=new Float64Array(2*w);
for(var n=0;n<w;n++){var i4=(n-(w>>>1))*jZ;aU[n]=i4*i4;ea[n]=Math.cos(i4);var aq=n<<1;a7[aq]=Math.sin(aq*(1/4.5));
a7[aq+1]=Math.sin((aq+1)*(1/4.5))}for(var t=0;t<G;t++){var jC=(t-(G>>>1))*jZ,ax=Math.cos(jC),jP=jC*jC;
for(var n=0;n<w;n++){var v=ax;if(aR==0){var fG=.5+Math.sqrt(aU[n]+jP)*4.5;v=a7[~~fG]}else if(aR==1){v=ea[n]*ax}var N=t*w+n,b4=bh[N]*(.75+.25*v),b8=f2[(N<<2)+3]*(1/255),ix=Math.max(0,Math.min(255,~~b4));
ja+=ix*b8,hC+=b8;bh[N]=ix}}ja/=hC;var dd=128+1.26*(ja-128),jf=.08+.25*Math.abs((128-ja)/128),gO=1+jf*dn;
for(var N=0;N<R;N++){var b4=dd+(bh[N]-dd)*gO;bh[N]=Math.max(0,Math.min(255,~~b4))}if(dn>46)l.round(bh);
ey.Ip(bh,K.buffer,a,x)}for(var N=0;N<g.buffer.length;N+=4)K.buffer[N+3]=g.buffer[N+3]};ey.Ip=function(o,g,C,a){var x=o.length,K=C.z,h=C.B,X=C.K,w=a.z,G=a.B,R=a.K;
for(var N=0;N<x;N++){var d=o[N]*(1/255),q=1-d,m=N<<2;g[m]=~~(K*q+w*d);g[m+1]=~~(h*q+G*d);g[m+2]=~~(X*q+R*d)}};
ey.wM=function(o){if(o==6)o=2;var g="blocks canvas frosted tinylens brick burlap".split(" ")[o];if(ey.wO==null)ey.wO=[];
if(ey.wO[o]==null){var C,a;if(o==2){a=new aS(0,0,128,128);var x=hb.l3("AdNs");x.Mnch.v=!0;x.Dstr.v.Dstr="Gsn";
x.Nose.v.val=50;var C=l.Z(a.$()*4),K=C.slice(0);new Uint32Array(K.buffer).fill(4286611584);hb.la("AdNs",{buffer:K,rect:a},x,0,0,{buffer:C,rect:a})}else{var h=bl.zY.get("tex/"+g,!0)[0];
a=h.m_;C=new Uint8Array(h.data)}var X=l.Z(a.$());l.eP(C,X,0);ey.wO[o]=[a,X]}return ey.wO[o]};ey.im=function(o,g,C,a,x){if(x<=1){x=Math.round(x);
ey.a0F(o,g,C,a,[1,16,4][x]);return}var K=x*.42;if(o){l.EB.D8(o,C,a,K,3);o.set(C)}if(g){l.EB.D8(g,C,a,K,3);
g.set(C)}};ey.a0F=function(o,g,C,a,x){var K=l.nw.rs([1,2,1,2,x,2,1,2,1]);if(o){C.set(o);l.nw.wC(o,C,a.m,a.n,K);
o.set(C)}if(g){C.set(g);l.nw.wC(g,C,a.m,a.n,K);g.set(C)}};ey.aO=function(o){if(o==null)return new eN(0,0);
var g=0,C=o.GEfs?o.GEfs.v:[{v:o}];for(var N=0;N<C.length;N++){var a=C[N].v,K=1e4;if(a.GELv&&!a.GELv.v)continue;
var x=a.GEfk.v.GEft;if(x=="GlwE"||x=="Phtc"||x=="BsRl"||x=="PlsW"||x=="Chrm"||x=="Gls"||x=="OcnR")K=0;
g=Math.max(g,K)}return new eN(g,g)};ey.a1Z=function(o){var g=[0,0,0,0,0,0,0,0,0,0,0,0,0],C=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][o];
for(var N=0;N<13;N++){var a=N-6;g[N]=1/(C*Math.sqrt(2*Math.PI))*Math.exp(-.5*(a/C)*(a/C))}return g};
ey.adp=function(o,g,C,a,x){var K=ey.a1Z(x),h=6,X=13;for(var w=0;w<a;w++)for(var G=0;G<C;G++){var R=w*C+G<<1,d=0,q=0;
for(var N=0;N<X;N++){var m=G+N-h,M=m<0?0:m>=C?C-1:m,Z=(w*C+M)*2,Q=K[N];d+=Q*o[Z];q+=Q*o[Z+1]}g[R]=d;
g[R+1]=q}};ey.aar=function(o,g,C,a,x){var K=ey.a1Z(x),h=6,X=13;for(var w=0;w<a;w++)for(var G=0;G<C;G++){var R=w*C+G<<1,d=0,q=0;
for(var N=0;N<X;N++){var m=w+N-h,M=m<0?0:m>=a?a-1:m,Z=(M*C+G)*2,Q=K[N];d+=Q*o[Z];q+=Q*o[Z+1]}g[R]=d;
g[R+1]=q}};function cP(){}cP.Hm=[2,5,5,7,4,4];cP.CH="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
cP.J1="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
cP.sz=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
cP.av6=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
cP.Ye=function(o){if(o=="passThrough")return"pass";return cP.CH[cP.J1.indexOf(o)]};cP.Cw=function(o){if(o=="pass")return"passThrough";
return cP.J1[cP.CH.indexOf(o)]};cP.getName=function(o){return cP.sz[cP.CH.indexOf(o)]};function A(){this.rect=null;
this.buffer=null;this.WN="norm";this.opacity=255;this.tN=!1;this.qX=0;this.Fy=0;this.GH=!0;this.G6=[];
for(var N=0;N<10;N++)this.G6.push(0,0,255,255);this.name=null;this.add={};this.XM=null;this.oO=null;
this.d=null;this.Re=null;this.a78=30;this.G7=null;this.cT=null;this.xq=null;this.Ms=null;this.U3=0;this.$u=!1;
this.Dq=null;this.ND=new A.cs}A.cs=function(){this.Ua=!0;this.nb=!0;this.ua=l.Z(0);this.a1k=l.Z(0);this.Mu=null;
this.E7={};this.a5L=null;this.Y2=null;this.FG=null;this.Xw=null;this.a3=null;this.VP=null;this.Xj=null;
this.EU=null;this.hU=null;this.uj=null;this.ee=null;this.YU=null;this.$f=!1};A.cs.prototype.afg=function(){this.Ua=null;
this.nb=!1;this.Mu=null;this.$f=i.LH};A.cs.prototype.a7g=function(){bd.a5b(this.E7);this.ua=l.Z(0);this.a1k=l.Z(0);
if(this.Xw)this.Xw.delete();if(this.a3)this.a3.delete();this.Xw=null;this.a3=null;var o=[this.VP,this.Xj,this.EU,this.hU,this.uj,this.ee];
for(var N=0;N<6;N++)if(o[N]!=null&&o[N]instanceof i.ib)o[N].delete();this.VP=null;this.Xj=null;this.EU=null;
this.hU=null;this.uj=null;this.ee=null};A.prototype.L=function(o){if(o==null)o=this.rect.clone();if(this.ND.Mu==null)this.ND.Mu=o;
else this.ND.Mu=this.ND.Mu.ae(o)};A.prototype.sP=function(){return this.add.lsct==kj.ah||this.add.lsct==kj.vz};
A.prototype.eU=function(){var o=this.add;return o.SoCo!=null||o.GdFl!=null||o.PtFl!=null};A.prototype.ahy=function(){var o=this.add.lmfx;
if(o==null)return;var g=["GrFl","patternFill"];for(var N=0;N<g.length;N++){var C=hf.l8[hf.order.indexOf(g[N])],a=o[C].v;
if(a.length==0)continue;for(var x=0;x<a.length;x++){var K=a[x].v;if(K.enab.v&&(K.Algn==null||!K.Algn.v))this.ND.nb=!0}}};
A.prototype.ajR=function(){var o=this.d,g=this.ND.Ua;if(this.eU())o=this.KN();if(!i.LH)return o.he();
if(this.ND.a3==null||g||i.LH!=this.ND.$f){var C=o.QR(),a=this.ND.a3,x=null;if(g!=!0&&g!=null){x=g.clone();
x.offset(-C.x,-C.y)}if(a==null||a.m!=C.m||a.n!=C.n){a=this.ND.a3=new i.bS(C.m,C.n);x=null}a.set(o.he(),x)}return this.ND.a3};
A.prototype.a1_=function(o){var g=this.rect,C=this.buffer;if(!i.LH){var a=this.ov(o,C,g);if(a){C=a.ab;
g=a.rect}return C}if(this.ND.Mu!=null||i.LH!=this.ND.$f){var a=this.ov(o,C,g);if(a){C=a.ab;g=a.rect}var x=g;
if(i.LH!=this.ND.$f||this.ND.Xw==null||this.ND.Xw.m!=x.m||this.ND.Xw.n!=x.n){if(this.ND.Xw)this.ND.Xw.delete();
this.ND.Xw=new i.ib(x.m,x.n);this.ND.Xw.set(C)}else{var K=this.ND.Mu.clone();K.offset(-g.x,-g.y);this.ND.Xw.set(C,K)}}return this.ND.Xw};
A.prototype.VU=function(){var o=this.d;if(this.eU())o=this.KN();return o!=null&&o.isEnabled&&(!o.rect.to()||o.Xh()!=255)};
A.prototype.ov=function(o,g,C){if(this.xT()){var a=this.WW(o);if(a.d&&a.d.isEnabled&&(!a.d.rect.to()||a.d.color==0)){var x=this.add.SoLd.filterFX.v;
a.d.TR=x.filterMaskDensity?x.filterMaskDensity.v:255;a.d.Bs=x.filterMaskFeather?x.filterMaskFeather.v:0;
var K=a.buffer,h=a.rect;if(h.$()<C.$()){h=C;K=l.Z(h.$()*4);l.HT(a.buffer,a.rect,K,h)}var X=a.d.Gc(C);
l.rq(X);g=g.slice(0);l.j.GL(K,h,g,C,X,C,0,C,1);return{ab:g,rect:C}}}};A.prototype.afE=function(){var o={xY:!1,g6:!1,i0:0,yL:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)o.g6=!0;if(this.KN()&&this.KN().isEnabled)o.xY=!0;if(o.xY&&o.g6){o.i0=this.KN().rect.x-this.add.vmsk.KN().rect.x;
o.yL=this.KN().rect.y-this.add.vmsk.KN().rect.y}return o};A.prototype.Rw=function(o,g){if(g&&this.KN().Bs!=0){g=g.clone();
var C=Math.round(this.KN().Bs*2.4);g.Uj(C,C)}var a=!1;if(this.add.lsct==kj.bH)return;var x=this,K=this.KN()!=null&&this.KN().fD,h=this.add.vmsk!=null&&this.add.vmsk.fD,X=this.afE(),w=JSON.stringify(X)!=this.ND.a5L||X.xY&&K||X.g6&&h;
if(w){if(X.g6){var G=this.add.vmsk.KN();if(X.xY){this.d=this.KN()._t(G);this.ND.Y2=new eN(this.d.rect.x-this.KN().rect.x,this.d.rect.y-this.KN().rect.y)}else this.d=G}if(this.d)a=!0;
if(this.d)this.ND.FG=new eN(this.rect.x-this.d.rect.x,this.rect.y-this.d.rect.y);if(X.xY)this.KN().fD=!1;
if(X.g6)this.add.vmsk.fD=!1;this.L(g)}else{if(X.xY&&X.g6){this.d.rect.x=this.KN().rect.x+this.ND.Y2.x;
this.d.rect.y=this.KN().rect.y+this.ND.Y2.y}}if(x.eU()){this.Hx(o)}if(x.MC()){var R;if(this.d)R=new eN(this.rect.x-this.d.rect.x,this.rect.y-this.d.rect.y);
if(this.d&&this.d.isEnabled&&(this.ND.FG==null||!R.$s(this.ND.FG))){this.ND.FG=R;this.L(g);a=!0}}if(f6.get(x.add)!=null)a=!0;
if(a){var d=this.ND.Ua;if(g&&d&&d!=!0)d=d.ae(g);else d=g?g:!0;this.ND.Ua=d}this.ND.a5L=JSON.stringify(X)};
A.prototype.Hx=function(o){var g=this,C=g.add.vstk,a=new aS(0,0,o.m,o.n),x,K=g.add.vmsk?this.add.vmsk.KN():null,w=!0,d;
if(K&&K.isEnabled&&K.Xh()==0)x=K.QR().clone();else x=a;var h=g.KN();if(h&&h.isEnabled&&h.Xh()==0)x=x.Kw(g.d.QR());
var X=K&&C;if(C&&(!C.strokeEnabled.v||C.strokeStyleLineWidth.v.val==0))X=!1;if(C&&!C.fillEnabled.v&&X)w=!1;
var G=l.Z(x.$()*4);if(w){if(g.add.SoCo)bd.KH(G,g.add.SoCo.Clr.v);if(g.add.GdFl){var R=K&&K.color==0?l.M.se(g.add.vmsk.i,null,!0):null;
bd.yb(g.add.GdFl,G,x,o,null,R)}if(g.add.PtFl)bd.pA(g.add.PtFl,G,x,o.add.Patt,g.add.fxrp)}if(X)d=hf.ly.sx.indexOf(C.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(K){var q=K.TR;if(X)K.TR=255;var m=l.Z(x.$());if(K.Xh()!=0)m.fill(Math.round(K.Xh()));if(K&&K.isEnabled){var M=K.QR(),Z=K.he();
if(M.$s(x))l.j5(Z,m);else l.MD(Z,M,m,x)}if(X&&d==2){}else{if(g.add.SoCo&&w){l.Oa(m,G,3)}else l.Mz(m,x,G,x)}if(X)K.TR=q}g.buffer=G;
g.rect=x;if(X){var Q=C.strokeStyleContent.v,p=hf.ly.iJ.indexOf(Q.classID),y=this.add.vmsk.KN(C);if(d!=0&&!g.rect.$s(a))g.extend(g.rect.ae(y.QR()));
var q=y.TR;y.TR=255;var V=y.Gc(g.rect);y.TR=q;if(y.color==255)l.rq(V);var W=l.Z(g.rect.$()*4);if(p==0)bd.KH(W,Q.Clr.v);
if(p==1)bd.yb(Q,W,g.rect,o,null,K.color==0?K.rect:null);if(p==2)bd.pA(Q,W,g.rect,o.add.Patt,g.add.fxrp);
var v=C.strokeStyleOpacity.v.val/100;if(v!=1)l.QK(V,v);if(y.color==255)d=2-d;if(d<2){l.j.GL(W,g.rect,g.buffer,g.rect,V,g.rect,255,g.rect,1,!1);
if(d==0)l.v6(m,g.buffer)}if(d==2){l.v6(V,W);l.rq(m);l.j.GL(W,g.rect,g.buffer,g.rect,m,x,255,g.rect,1,!1);
l.rq(m)}if(y.TR!=255){var j=W.slice(0);l.th(j,4278190080,16777215);l.j.Ly("norm",j,g.rect,g.buffer,g.rect,g.rect,1-y.TR/255)}q=K.TR;
K.TR=255;this.a1k=K.Gc(g.rect);K.TR=q}this.L()};A.prototype.R9=function(o,g,C){var a=this,x=a.add.SoLd.Idnt.v,K=a.add.SoLd,h=l.o.TO(c.V.aq(K.nonAffineTransform)),X=o.fs(x,K.Crop?K.Crop.v:null,[h.m,h.n],K.Impr.v.classID,C),m=1;
if(X==null)return;var w=X.zm;K.Sz.v.Wdth.v=w[1].m;K.Sz.v.Hght.v=w[1].n;var G=X.zC==null?K.Rslt.v.val:X.zC,R=K.warp.v,d=c.V.aq(K.nonAffineTransform),q=w[1].clone();
q.m*=m;q.n*=m;q.x=(w[1].m-q.m)/2;q.y=(w[1].n-q.n)/2;var M=l.S.sV(d,q);if(R&&!l.X0.L1(R)){var h=l.o.TO(l.X0.Nw(R)),Z=h.x,Q=h.y,p=1/h.m,y=1/h.n;
M=l.S.sV(d);M=l.S._t(M,[p,0,-Z*p,0,y,-Q*y,0,0])}var V=c.V.Bp(w,g?0:1,M,R,null,null,null,g);if(V==null){a.buffer=l.Z();
a.rect=new aS}else if(a.xT()){var W=a.WW(o);W.buffer=V.buffer;W.rect=V.rect.clone();this.UK(o,g)}else{a.buffer=V.buffer;
a.rect=V.rect}a.Rw(o);a.L();o.L()};A.prototype.UK=function(o,g){if(g==null)g=!1;var C=this.WW(o),a=this.add.SoLd.filterFX.v,x=hb.ao4(a),K=new aS(0,0,o.m,o.n),h=C.rect.ae(K),X=C.rect.clone();
X.Uj(x.x,x.y);var w={buffer:null,rect:h.Kw(X)};w.buffer=l.Z(w.rect.$()*4);l.HT(C.buffer,C.rect,w.buffer,w.rect);
if(a.enab.v&&g==!1){var G=a.filterFXList.v;for(var N=0;N<G.length;N++){var R=G[N].v;if(R.enab.v==!1)continue;
var d=R.blendOptions.v,q=cP.Ye(d.Md.v.BlnM),m=d.Opct.v.val/100,M=l.T.Xh(R.FrgC.v),Z=l.T.Xh(R.BckC.v),Q=hb.uZ(R),p={buffer:l.Z(w.buffer.length),rect:w.rect.clone()},y=R.Fltr?R.Fltr.v:null;
if(f6.Ry[Q]!=null){var V=f6.Ry[Q],W=f6.v4(V,y);if(W)f6.la(W,w.buffer,p.buffer,w.rect)}else hb.la(Q,w,y,M,Z,p,[o.add.lnk2?o.add.lnk2:[],this.KN(),o.JH]);
if(q=="norm"&&m==1)w=p;else if(q=="norm"){l.j.GL(p.buffer,p.rect,w.buffer,w.rect,null,null,null,w.rect,m)}else{l.j.Ly(q,p.buffer,p.rect,w.buffer,w.rect,w.rect,m)}}}this.rect=w.rect;
this.buffer=w.buffer;this.T3();this.L();o.L()};A.prototype.Xb=function(o,g,C){this.Dq=this.a2P(o,g,C)};
A.prototype.WX=function(o,g){var C=this.a2P(o,g,!0);if(C==null)return null;var a={hi:C.U3,CL:C.G_,rect:C.PX};
if(a.hi==1||a.hi==3){var x=a.rect,K=l.Z(x.m*x.n*4);l.Oa(a.CL,K,0);l.Oa(a.CL,K,1);l.Oa(a.CL,K,2);l.S4(o._.channel,o._.rect,K,x);
a.CL=K}return a};A.prototype.a2P=function(o,g,C){var a,x,K,h,X,w,G;if(this.U3<=0){var R=l.Z(this.rect.$());
l.eP(this.buffer,R,3);a=l.qp.Zn(g,{channel:R,rect:this.rect},3);if(a==null)return null;var d=l.Wx(a.channel,a.rect);
h=a.rect.clone();X=this.rect.clone();x=l.Z(h.$()*4);l.HT(this.buffer,X,x,h);l.Oa(a.channel,x,3);K=this.buffer.slice(0);
if(!C){var q=g.channel.slice(0);l.rq(q);l.Mz(q,g.rect,K,X)}w=this.buffer.slice(0);G=this.rect.clone()}if(this.U3==1||this.U3==3){var m=this.U3==1?this.KN():this.WW(o).d;
h=g.rect.clone();X=m.rect.clone();x=m.a9Z(h);var K=m.channel.slice(0);if(!C)l.j.QD(m.color==255?l.Cz(h.$()):l.oX(h.$()),h,K,X,g.channel,h,1);
w=m.channel.slice(0);G=m.rect.clone()}return{U3:this.U3,G_:x,PX:h,oD:K,AJ:X,cb:w,Gx:G}};A.prototype.VO=function(o,g){var C=this.Dq;
if(C.U3==0){this.rect=C.Gx;this.buffer=C.cb;this.L()}if(C.U3==1||C.U3==3){var a=C.U3==1?this.KN():this.WW(o).d;
a.channel=C.cb;a.rect=C.Gx;if(this.U3==1){a.fD=!0;this.Rw(o)}if(this.U3==3)this.L()}this.Dq=g};A.prototype.pz=function(o,g){if(this.U3<=0&&g.rect.$s(this.rect)){var C=l.Z(this.rect.$());
l.eP(this.buffer,C,3);if(l.$s(o._.channel,C)){var a=this.rect,x=this.buffer;this.Dq={U3:this.U3,G_:x.slice(0),PX:a.clone(),oD:l.Z(0),AJ:new aS,cb:l.Z(0),Gx:new aS};
return!0}}var K=this.Dq;if(K==null)return!1;if(K.U3!=this.U3)return!1;if(!g.rect.$s(K.PX))return!1;var h=K.AJ.ae(K.PX);
if(K.U3<=0){if(!h.$s(this.rect))return!1;var X=l.Z(K.G_.length>>2);l.eP(K.G_,X,3);if(!l.$s(g.channel,X))return!1;
var w=l.Z(h.m*h.n*4);l.HT(K.oD,K.AJ,w,h);l.j.Ly("norm",K.G_,K.PX,w,h,h,1);return l.$s(w,this.buffer)}if(K.U3==1||K.U3==3){var G=K.U3==1?this.KN():this.WW(o).d;
if(!h.$s(G.rect))return!1;var R=l.Z(h.$());R.fill(G.color);l.MD(K.oD,K.AJ,R,h);l.j.QD(K.G_,K.PX,R,h,g.channel,h,1);
return l.$s(R,G.channel)}};A.prototype.AO=function(o,g,C,a){var x=this.Dq;x.PX.offset(g,C);var K=x.AJ.ae(x.PX);
if(x.U3<=0){var h=l.Z(K.$()*4);l.HT(x.oD,x.AJ,h,K);l.j.Ly("norm",x.G_,x.PX,h,K,K,1);this.buffer=h;this.rect=K;
this.L()}else{var X=this.U3==1?this.KN():this.WW(o).d,w=l.Z(K.$());w.fill(X.color);l.MD(x.oD,x.AJ,w,K);
l.j.QD(x.G_,x.PX,w,K,a.channel,K,1);X.channel=w;X.rect=K.clone();if(this.U3==1){X.fD=!0;this.Rw(o)}if(this.U3==3)this.L()}};
A.prototype.a67=function(){var o=[-1,0,1,2];if(this.d)o.push(-2);if(this.Re)o.push(-3);return o};A.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
A.prototype.XH=function(ee){this.add.luni=this.name=ee};A.prototype.b7=function(o){var g=this.add.lnsr,C=this.add.TySh;
if(g=="rend"&&C){var a=bv.cR(C.cp);this.XH(a.slice(0,a.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
A.prototype.aL=function(){return(this.qX&1<<1)==0};A.prototype.MC=function(){return(this.qX&1<<4)==0};
A.prototype.l9=function(){return(this.qX&1<<5)!=0};A.prototype.a44=function(){var o=this;if(o.add.lnsr!="bgnd"){o.add.lnsr="bgnd";
o.XH("Background");o.add.lspf=1<<2}};A.prototype.agX=function(){var o=this;if(o.add.lnsr=="bgnd"){delete o.add.lnsr;
o.XH("Layer 0");o.add.lspf=0}};A.prototype.GS=function(o){var g=this.add.lspf;return g==null?!1:(g>>o&1)!=0};
A.prototype.Su=function(o){if(o&&!this.aL())this.qX-=2;if(!o&&this.aL())this.qX+=2};A.prototype.d8=function(){var o=this.add.lmfx;
if(o==null)return!1;for(var g in o){if(g=="masterFXSwitch")continue;if(g=="Scl")continue;if(g=="classID")continue;
if(o[g].v.length>0)return!0}return!1};A.prototype.xT=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
A.prototype.AY=function(){var o=this.add.lmfx;if(o==null)return!1;if(!o.masterFXSwitch.v)return!1;for(var g in o){if(g=="masterFXSwitch")continue;
if(g=="Scl")continue;if(g=="classID")continue;var C=o[g].v;for(var N=0;N<C.length;N++)if(C[N].v.enab.v)return!0}return!1};
A.prototype.y1=function(o,g,C,a){var x=new aS,K=this.Au(o,C,a);if(K.indexOf(0)!=-1)x=x.ae(this.rect);
if(K.indexOf(1)!=-1){var h=this.KN(),X=h.QR();x=C&&h.Xh()==0?x.to()?X:x.Kw(X):x.ae(X)}if(K.indexOf(2)!=-1){var w=this.add.vmsk,G=this.add.vstk,R;
if(g){R=l.M.se(w.i,w.A.length!=0?w.A:null)}else R=l.M.se(w.i);if(!a&&G&&G.strokeEnabled.v){var d=G.strokeStyleLineAlignment.v.strokeStyleLineAlignment,q=G.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(d!="strokeStyleAlignInside"){var m=G.strokeStyleLineWidth.v.val;if(q=="strokeStyleMiterJoin")R=new aS(0,0,o.m,o.n);
else R.Uj(m,m)}}x=x.ae(R)}if(K.indexOf(3)!=-1)x=x.ae(this.WW(o).d.QR());if(K.length==0&&this.eU())x=a?new aS(0,0,0,0):new aS(0,0,o.m,o.n);
return x};A.prototype.Zx=function(){var o=this.add.artb,g=o.artboardBackgroundType.v,C=0;if(g==1)C=4294967295;
else if(g==2)C=4278190080;else if(g==3)C=0;else if(g==4){C=o.Clr.v;C=255<<24|C.Bl.v<<16|C.Grn.v<<8|C.Rd.v}else throw g;
return C};A.prototype.zz=function(){var o=this.add.artb.artboardRect.v,g=o.Btom.v,C=o.Left.v,a=o.Rght.v,top=o.Top.v;
return new aS(C,top,a-C,g-top)};A.prototype.xJ=function(o){var g=A.xI(o);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=g};A.xI=function(o){var g={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
g.Btom.v=o.y+o.n;g.Left.v=o.x;g.Rght.v=o.x+o.m;g.Top.v=o.y;return g};A.prototype.Au=function(o,g,C){var a=[],x=this;
if(!g&&x.$u&&C){a.push(2)}else if(x.U3<=0||g){if(x.MC())if(!this.rect.to())a.push(0);if(x.KN()&&!x.KN().rect.to())if(x.KN().j3||g)a.push(1);
if(x.add.vmsk)if(x.add.vmsk.j3||g)a.push(2);if(x.xT()&&x.WW(o).d&&!x.WW(o).d.rect.to())a.push(3)}else if(x.U3==1){a.push(1);
if(x.KN().j3&&!x.KN().rect.to()){if(x.MC())if(!this.rect.to())a.push(0);if(x.add.vmsk)if(x.add.vmsk.j3)a.push(2)}}else if(x.U3==3&&!x.WW(o).d.rect.to())a.push(3);
if(x.add.artb&&a.indexOf(0)==-1)a.push(0);a.sort();return a};A.prototype.KN=function(){var o=this;return o.Re?o.Re:o.add.vmsk&&o.add.vmsk.isEnabled?null:o.d};
A.prototype.WW=function(o){var g=this.add.SoLd.placed.v,C=o.add.FEid;if(C==null)return null;for(var N=0;
N<C.length;N++)if(C[N].id==g)return C[N];return null};A.prototype.extend=function(o){l.a1v(this,o)};
A.prototype.axA=function(o,g,C){var a=o.clone();if(this.AY()){var x=this.add.lmfx,K=g.root.V0(g.g.indexOf(this)),h=x.gradientFillMulti.v,X=!1;
for(var N=0;N<h.length;N++)if(h[N].v.enab.v&&h[N].v.Algn.v)X=!0;if(X)a=a.ae(K.QR(g,!1));var w=bd.a6F(this.add.lmfx,g,C);
a.offset(w.x,w.y);a.m+=w.m;a.n+=w.n}return a};A.prototype.T3=function(){if(this.MC())l.JF(this);var o=this.KN();
if(o)o.T3()};A.prototype.clone=function(){var o=new A;o.rect=this.rect.clone();o.buffer=this.buffer.slice(0);
o.WN=this.WN;o.opacity=this.opacity;o.tN=this.tN;o.qX=this.qX;o.name=this.name;o.G6=this.G6.slice(0);
if(this.d)o.d=this.d.clone();if(this.Re)o.Re=this.Re.clone();for(var g in this.add)o.add[g]=fu.clone(g,this.add[g]);
return o};A.prototype.Ve=function(o){var g=this;if(g.add.TySh)delete g.add.TySh;if(g.add.SoLd){var C=this.ov(o,this.buffer,this.rect);
if(C){this.buffer=C.ab;this.rect=C.rect;this.L()}delete g.add.SoLd}if(g.add.SoCo||g.add.GdFl||g.add.PtFl){if(g.add.vogk)delete g.add.vogk;
if(g.add.SoCo)delete g.add.SoCo;if(g.add.GdFl)delete g.add.GdFl;if(g.add.PtFl)delete g.add.PtFl;if(g.add.vmsk){console.log(g.Re,g.d);
delete g.add.vmsk;if(g.Re==null&&g.d)delete g.d;else if(g.Re!=null&&g.d!=null){g.d=g.Re;delete g.Re}}}if(!g.sP()&&f6.get(g.add)==null&&!this.MC())this.qX-=16};
A.prototype.D_=function(o){var g=255,C=0;if(o==2){var a=this.add.SoLd.filterFX.v;if(a.filterMaskDensity)g=a.filterMaskDensity.v;
if(a.filterMaskFeather)C=a.filterMaskFeather.v}else{var x=o==0?this.KN():this.add.vmsk;g=x.TR;C=x.Bs}return{It:o,W7:g,To:C}};
A.prototype.a9c=function(o){if(o.It==2){var g=this.add.SoLd.filterFX.v;if(o.W7==255)delete g.filterMaskDensity;
else g.filterMaskDensity={t:"long",v:o.W7};if(o.To==0)delete g.filterMaskFeather;else g.filterMaskFeather={t:"doub",v:o.To};
this.L()}else{var C=o.It==0?this.KN():this.add.vmsk;C.TR=o.W7;C.Bs=o.To;C.fD=!0}};A.prototype.fb=function(){var o=this,g=o.add.vmsk;
if(g==null)return;o.add.vogk=l.vm.aoL(g.i)};A.fb=function(o){var g=[],C=l.M.Ac(o);for(var a=0;a<C;a++)g.push(l.vm.oX());
return g};var kj={sw:0,ah:1,vz:2,bH:3};A.QX=function(){this.name="Mask";this.nR=!1;this.Qe={z:255,B:0,K:0};
this.Zj=50;this.a0=0;this.color=255;this.j3=!0;this.isEnabled=!0;this.jL=!1;this.TR=255;this.Bs=0;this.rect=new aS;
this.channel=l.Z(0);this.zl=null;this.anV=null;this.fD=!0};A.QX.prototype._t=function(o){if(!this.isEnabled)return o;
var g=new A.QX;g.color=Math.round(this.Xh()*o.Xh()/255);if(this.Xh()==0&&o.Xh()==0)g.rect=this.QR().Kw(o.QR());
else if(o.Xh()==0)g.rect=o.QR().clone();else if(this.Xh()==0)g.rect=this.QR().clone();else g.rect=this.QR().ae(o.QR());
g.channel=this.Gc(g.rect);g.TR=255;g.Bs=0;var C=o.Gc(g.rect);l.a4u(C,g.rect,g.channel,g.rect);return g};
A.QX.prototype.QR=function(){if(this.Bs==0)return this.rect;var o=Math.ceil(this.Bs*2.2),g=this.rect.clone();
if(g.y==0){if(g.x==0)g.m+=o;else g.Uj(o,0);g.n+=o}else g.Uj(o,o);return g};A.QX.prototype.he=function(){if(this.Bs==0&&this.TR==255)return this.channel;
if(this.Bs==0){var o=this.channel.slice(0);l.rq(o);l.QK(o,this.TR/255);l.rq(o);return o}var g=this.QR(),C=this.a9Z(g),o=l.Z(g.$());
l.EB.OV(C,o,g,this.Bs);if(this.TR!=255){l.rq(o);l.QK(o,this.TR/255);l.rq(o)}return o};A.QX.prototype.Xh=function(){return Math.round(255-(255-this.color)*(this.TR/255))};
A.QX.prototype.extend=function(o){l.extend(this,o,this.color)};A.QX.prototype.T3=function(){if(this.color==255)l.rq(this.channel);
l.T3(this);if(this.color==255)l.rq(this.channel)};A.QX.prototype.clone=function(){var o=new A.QX;o.name=this.name;
o.nR=this.nR;o.Qe=this.Qe;o.Zj=this.Zj;o.a0=this.a0;o.color=this.color;o.j3=this.j3;o.isEnabled=this.isEnabled;
o.jL=this.jL;o.TR=this.TR;o.Bs=this.Bs;o.rect=this.rect.clone();o.channel=this.channel.slice(0);return o};
A.QX.prototype.a9Z=function(o,g){if(g==null)g=l.Z(o.$());g.fill(this.color);l.MD(this.channel,this.rect,g,o);
return g};A.QX.prototype.Gc=function(o,g){var C=this.QR(),a=this.he();if(g==null)g=l.Z(o.$());g.fill(this.Xh());
l.MD(a,C,g,o);return g};A.A3=function(){this.j3=!0;this.isEnabled=!0;this.TR=255;this.Bs=0;this.i=[{type:6},{type:8,all:0}];
this.tv=[-3,-3];this.e0=!1;this.Re=null;this.fD=!0;this.A=[];this.EP=[]};A.A3.prototype.offset=function(o,g){this.Re=this.KN();
l.M.Jg(this.i,new kp(1,0,0,1,o,g));this.Re.rect.offset(o,g)};A.A3.prototype.KN=function(o){if(!this.fD&&this.Re&&o==null){this.Re.isEnabled=this.isEnabled;
return this.Re}var g=l.M.se(this.i),C="strokeStyleLineAlignment",a="strokeStyleLineJoinType";if(g.$()>3e4*3e4)g=new aS(0,0,100,100);
if(o&&o[C].v[C]!="strokeStyleAlignInside"){var x=1;if(o[a].v[a]=="strokeStyleMiterJoin"){var K=l.M.a0o(this.i),h=K/2,X=Math.sin(h),w=Math.cos(h);
w/=X;X=1;var x=Math.sqrt(w*w+X*X);if(isNaN(x)||x<1)x=1}x*=o[C].v[C]=="strokeStyleAlignOutside"?1:.5;
var G=Math.ceil(o.strokeStyleLineWidth.v.val*x);G=Math.min(G,600);g.Uj(G,G)}g=l.o.ul(g);var R=new A.QX;
R.color=l.M.$n(this.i)?0:255;R.j3=this.j3;R.isEnabled=this.isEnabled;R.jL=!0;R.rect=g;R.TR=this.TR;R.Bs=this.Bs;
R.channel=l.Z(R.rect.$());if(!g.to())l.M.aja(this.i,R.channel,R.rect,o);if(o==null){this.Re=R;this.fD=!1}return R};
A.A3.prototype.clone=function(){var o=new A.A3;o.j3=this.j3;o.isEnabled=this.isEnabled;o.TR=this.TR;
o.Bs=this.Bs;o.i=A.A3.FL(this.i);o.tv=this.tv.slice(0);o.e0=this.e0;o.A=this.A.slice(0);o.EP=this.EP.slice(0);
return o};A.A3.prototype.concat=function(o){var g=o.i.slice(2);if(g.length==0)return;g[0].j4=3;this.i=this.i.concat(g)};
A.A3.FL=function(o){var g=[];for(var N=0;N<o.length;N++){var C=o[N];if(C.type>5||C.type==0||C.type==3)g.push(JSON.parse(JSON.stringify(C)));
else g.push({type:C.type,rD:C.rD.clone(),H:C.H.clone(),lu:C.lu.clone()})}return g};A.A3.af4=function(o,g,C){if(o.length!=g.length)return!1;
for(var N=2;N<o.length;N++){var a=o[N],x=g[N];if(a.type!=x.type)return!1;if(a.type==0||a.type==3){if(a.length!=x.length||!C&&a.j4!=x.j4)return!1}else if(!a.rD.$s(x.rD)||!a.H.$s(x.H)||!a.lu.$s(x.lu))return!1}return!0};
A.A3.prototype.afo=function(){var o=this.i;for(var N=3;N<o.length;N++)if(o[N].type==0||o[N].type==3)o[N].j4=-1};
A.Tn=function(){this.type=null;this.L0=2;this.f8=null;this.vo="";this.mf="";this.I4="";this.open=0;this.raw=null;
this.zm=null;this.am5="";this.UG=!1};A.Tn.prototype.clone=function(){var o=new A.Tn;o.type=this.type;
o.L0=this.L0;o.f8=this.f8;o.vo=this.vo;o.mf=this.mf;o.I4=this.I4;o.open=this.open;o.raw=new Uint8Array(this.raw.buffer.slice(0));
return o};A.Tn.prototype.cf=function(o,g,C,a,x){if(C==null)C="none";var K=this,h=bl.tt(K.raw.buffer),X=h=="svg"||h=="pdf";
if(K.zm){var w=g&&X&&Math.max(K.zm[1].m,K.zm[1].n)<Math.max(g[0],g[1]);if(!w&&C==this.am5&&!K.UG)return}this.am5=C;
if(!X)o=0;if(h==null){alert("Unsupported format: "+u.M7(K.raw,0,4));return null}var G=bl.qC(h);if(G.dA){var R=new aX(name+(h=="psd"?"":"-"+h)+".psd"),d;
G.gd(K.raw.buffer,R,g);var q=new aS(0,0,R.m,R.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(C)!=-1){var m=[];
for(var N=0;N<R.g.length;N++){var M=R.g[N],Z=M.buffer;if(!M.rect.$s(q)){Z=l.Z(q.$()*4);l.HT(M.buffer,M.rect,Z,q);
console.log("resizing")}m.push(Z)}d=l.Z(q.$()*4);l.stack.stack(m,d,C)}else{for(var N=0;N<R.g.length;
N++)if(R.g[N].eU())R.g[N].Rw(R);if(a&&R.UG){var Q=d2.aol(R,a,x);K.UG=!Q;if(Q)d2.alJ(R,a,x)}R.vg();R.L();
R.II();d=R.cf()}K.zm=[d,q];K.zC=R.zC!=null&&R.zC!=0?R.zC:72}else if(G){var p=G.gd(K.raw.buffer)[0];K.zm=[new Uint8Array(p.data),p.m_];
K.zC=p.zC!=null&&p.zC!=0?p.zC:72}if(K.zm){if(o==1){var Z=K.zm[0],y=K.zm[1],V=l.Z(y.$());l.eP(Z,V,3);
var W=l.Wx(V,y),v=l.Z(W.$()*4);l.HT(Z,y,v,W);K.zm=[v,W]}l.WP(K.zm)}};A.XC="0";A.pr="2";A.Or="2.5";A.Pw="2.6";
A.fa="3";A.gz="4";A.HF="4.5";A.a7J="4.6";A.a5Y="5";A.wv="5.5";A.a9Y="6";A.pq="7";A.ajm="8";A.nd="9";
A.e9="9.3";A.an2="9.5";A.uY="9.6";A.NV="10";A.RI="11";A.Ah="12";A.VS="13";A.M1="13.1";A.abQ="13.2";A.Hn="13.3";
A.TS="13.4";A.xg="14";A.Es="14.1";A.NH="14.2";A.yU="14.3";A.Lx="17";A.gG="18";A.a3F="19";A.x6="19.5";
A.W9="19.6";A.Z2="19.7";A.vK="19.8";A.Eq="20";A.D9="21";A.Tg="21.5";A.fH="22";A.DL="22.5";A.Jb="23";
A.ag2="24";A.Cy="25";A.auZ="26";A.atJ="27";A.RM="28";A.e1="29";A.N3="30";A.zG="31";A.Hv="32";A._g="33";
A.Sc="34";A.cB="35";A.Bq="36";A.G3="36.5";A.Sb="37";A.Xx="37.5";A.aqb="37.6";A.Hg="38";A.aD="38.5";A.wk="38.6";
A.uR="39";A.hJ="40";A.akQ="41";A.asN="42";A._f="50";A.kd="51";A.Oh="52";A.e6="53";A.Bm="54";A.aj$="54.5";
A.fV="54.6";A.a6E="54.7";A.TU="54.8";A.GF="55";A.AU="56";A.j9="57";A.D5="58";A.Mn="59";A.Ks="60";function h4(){this.depth=0;
this.index=-1;this.l=null;this.a5A=null;this.Qr=-1;this.children=null;this.parent=null;this.hW=null}h4.prototype.aok=function(o,g){if(this.depth!=0)o.push(this.l.getName());
if(this.children)for(var N=0;N<this.children.length;N++)this.children[N].aok(o,g);if(o.length>g.jr.length)g.jr=o.slice(0);
if(this.depth!=0)o.pop()};h4.prototype.a2n=function(){var o=0;if(this.l.sP()){for(var N=0;N<this.children.length;
N++)o+=this.children[N].a2n()}else if(this.l.buffer)o+=this.l.buffer.length;return o};h4.prototype.V0=function(o){var g=this.hW[o];
return this.hW[o]};h4.prototype.acG=function(o,g){var C=this.l;if(!C.aL()||C.GS(2)||C.GS(31))return null;
if(C.VU()){var a=C.d.rect.fp(o);if(!a&&C.d.color==0)return}if(C.sP()){for(var N=0;N<this.children.length;
N++){var ee=this.children[N];ee.acG(o,g)}}else if(C.rect.fp(o))g.push(this.index)};h4.prototype._9=function(o,g){var C=this.l;
if(!C.aL()||C.GS(2)||C.GS(31))return null;if(C.VU()){if(C.d.rect.Yo(o)){if(!l._9(o,C.d.channel,C.d.rect))return null}else if(C.d.color==0)return null}if(C.sP()){if(C.add.artb&&!C.zz().Yo(o))return null;
for(var N=this.children.length-1;N>=0;N--){var ee=this.children[N],a=ee._9(o,g);if(a&&g==null)return a}return null}else if(C.add.TySh&&C.rect.Yo(o)||l.asB(o,C.buffer,C.rect)){if(g==null)return this;
else g.push(this.index)}return null};h4.prototype.aiH=function(o){var g=this.l;if(!g.aL()||g.GS(2)||g.GS(31))return null;
var C=g.add.vmsk;if(C&&C.isEnabled){var a=l.M._9(C.i,o).XE;if(a!=-1)return{ahz:this,a8h:a}}if(g.sP()){if(g.add.artb&&!g.zz().Yo(o))return null;
for(var N=this.children.length-1;N>=0;N--){var ee=this.children[N],x=ee.aiH(o);if(x)return x}return null}return null};
h4.prototype.as7=function(o,g){o.push(this.index);if(this.l.sP()){o.push(this.Qr);if(g)if(this.l.U3==1&&this.l.KN().j3==!1)return;
for(var N=0;N<this.children.length;N++)this.children[N].as7(o)}};h4.YB=function(){var o=document.createElement("canvas");
return o.getContext("2d")};h4.prototype.zJ=function(o,g,C){var a=this.l,K,h;if(a.sP()&&a.add.artb!=null)g=a.zz();
var x=32*c.r();if(g.m>g.n){K=x;h=Math.floor(x*(g.n/g.m))}else{K=Math.floor(x*(g.m/g.n));h=x}if(a.eU()&&a.add.vmsk==null||a.add.TySh)K=h=Math.max(h,16);
else{K=Math.max(K,6);h=Math.max(h,6)}var X=h;if(C&&a.G7==null){a.G7=h4.YB();a.cT=h4.YB();a.xq=h4.YB();
a.Ms=h4.YB()}var w=a.eU()&&a.add.vmsk;if(w){var G=a.rect.clone(),q,m;if(G.to())G=new aS(0,0,20,20);var R=G.m,d=G.n;
if(R>d){q=x;m=Math.floor(x*(d/R))}else{q=Math.floor(x*(R/d));m=x}if(q*m==0)q=m=16;if(C)l.Qm.Iv(a.G7,q,m,G,a.buffer,a.rect,!1);
if(C)l.Qm.a36(a.G7,q,m);X=m}else if(a.add.TySh){if(C)l.Qm.aeB(a.G7,X,X,a.add.TySh)}else if(a.add.SoCo){X=Math.max(16,Math.min(K,h));
if(C)l.Qm.agE(a.G7,X,X,a.add.SoCo)}else if(a.add.GdFl){if(C)l.Qm.aqz(a.G7,X,X,a.add.GdFl)}else if(a.add.PtFl){if(C)l.Qm.apd(a.G7,X,X,a.add.PtFl,o)}else if(f6.get(a.add)!=null){if(C)l.Qm.apS(a.G7,X,X,a.add)}else if(a.add.SoLd){if(C)l.Qm.Iv(a.G7,K,h,g,a.buffer,a.rect,!1);
if(C)l.Qm.av9(a.G7,K,h,a.add.SoLd)}else if(a.sP()){X=16}else{if(C){if(a.MC())l.Qm.Iv(a.G7,K,h,g,a.buffer,a.rect,!1);
else{l.Qm.axj(a.G7,X,X)}}}var M=a.KN();if(C){if(M)l.Qm.cO(a.cT,K,h,g,M);if(a.xT()&&a.WW(o)&&a.WW(o).d){var Z=a.WW(o).d;
l.Qm.cO(a.Ms,K,h,g,Z)}if(!w&&a.add.vmsk){l.Qm.cO(a.xq,K,h,g,a.add.vmsk.KN(),!0)}}if(a.add.vmsk||M)X=Math.max(X,h);
a.a78=Math.max(X,16);if(C!=!0&&a.sP()&&(a.add.lsct==kj.ah||o.g.length<4e3))for(var N=0;N<this.children.length;
N++)this.children[N].zJ(o,g)};h4.prototype.af9=function(o,g,C,a){this.depth=C;var x=o[g];if(a==null)a=[];
this.hW=a;if(x.add.lsct==kj.bH){this.a5A=x;this.Qr=g-1;this.children=[];var N=g+1;while(!0){var K=o[N];
if(K==null)console.log(N,o.length);if(K.add.lsct==kj.ah||K.add.lsct==kj.vz){if(x.add.lyid==K.add.lyid)x.add.lyid+=16777215;
this.l=K;this.index=N-1;a[this.index]=this;a[g-1]=this;break}var h=new h4;h.parent=this;N=h.af9(o,N,C+1,a);
this.children.push(h)}return N+1}else{this.l=x;this.index=g-1;a[this.index]=this;return g+1}};h4.prototype.ta=function(o,g,C,a){var x=this.V0(C),K=o;
while(x.parent!=null){K=x.l.axA(K,g,a);x=x.parent}return K};h4.prototype.QR=function(o,g){var C=this.l,a=new aS;
if(!C.aL())return a;var x=C.KN();if(C.sP())for(var N=0;N<this.children.length;N++){var K=this.children[N].QR(o,!0);
a=a.ae(K)}else if(f6.get(C.add)!=null)a=C.VU()&&C.d.color==0?C.d.QR().clone():new aS(0,0,o.m,o.n);else if(C.eU()&&C.add.vmsk&&C.add.vmsk.isEnabled&&C.add.vstk){a=C.rect.clone()}else if(C.eU()&&x&&x.isEnabled&&x.Xh()!=0)a=new aS(0,0,o.m,o.n);
else{a=C.y1(o,!1,!0);if(C.add.vmsk)a=l.o.ul(a)}return g?C.axA(a,o):a};h4.Tu={delete:function(o){if(o&&o.m)o.delete()},Z:function(o,g){return i.LH?new i.ib(o,g):l.Z(o*g*4)},YJ:function(o,g,C){if(i.LH){if(o==null||o.m!=g||o.n!=C){h4.Tu.delete(o);
return new i.ib(g,C)}}else{if(o==null||!(o instanceof Uint8Array)||o.length!=g*C*4){h4.Tu.delete(o);
return l.Z(g*C*4)}}return o},MD:function(o,g,C,a,x){(i.LH?i.eH:l.HT)(o,g,C,a,x)},GL:function(o,g,C,a,x,K,h,X,N,w,G){(i.LH?i.j.iB:l.j.GL)(o,g,C,a,x,K,h,X,N,w,G)},a6j:function(o,g,C,a,x,K,h,X){var w=C.clone(),G=x.m,R=x.n,d=w.x,q=w.y,m=w.x+w.m>G?-1:0,M=w.x<0?2:1,Z=w.y+w.n>R?-1:0,Q=w.y<0?2:1;
for(var p=Z;p<Q;p++)for(var y=m;y<M;y++){w.x=d+y*G;w.y=q+p*R;h4.Tu.Ly(o,g,w,a,x,K,h,X)}},Ly:function(o,g,C,a,x,K,h,X){if(i.LH)i.j.MV(o,g,C,a,x,K,h,X);
else l.j.Ly(o,g,C,a,x,K,h,X)},th:function(o,g,C){if(i.LH){i.CG(o);i.eW(g,C)}else l.th(o,g,C)},aeG:function(o,g,C,a,x){if(i.LH){i.j.iB(null,null,a,x,o,g,C,x,1,!1)}else{if(C==255)l.Mz(o,g,a,x);
else{var K=l.Z(g.$());l.vb(a,x,K,g);l.BX(o,K);l.th(a,0,16777215);l.S4(K,g,a,x)}}},py:function(o,g,C,a){if(i.LH)i.j.iB(null,null,C,a,o,g,0,a,1,!1);
else l.py(o,g,C,a)}};h4.prototype.Qc=function(o,g,C,a,x,K){var h=typeof K=="number";if(!this.l.sP()&&(h&&this.index>K||!h&&K.indexOf(this.index)==-1)){return}var X=this.l,w=bd.Xn(X),G=h4.Tu,R=X.eU()?X.KN():X.d;
if(!X.aL())return;if(X.VU()&&R.rect.to()&&R.Xh()==0){return}if(X.add.vstk==null&&this.QR(a,!1).to()){return}var d=this.QR(a,!0).Kw(C);
if(!g.$s(C)&&!C.fp(d))return;if(X.sP()&&X.add.artb){var q=X.zz();C=C.Kw(q)}var m=h4.a6p(X,x,w);if(!m){this.atM(o,g,C,a,x,K);
return}X.ND.VP=G.YJ(X.ND.VP,d.m,d.n);G.MD(o,g,X.ND.VP,d,C);this.atM(X.ND.VP,d,C,a,x,K);G.GL(X.ND.VP,d,o,g,null,null,0,C,X.opacity/255,X.WN=="diss",w.Yn)};
h4.a6p=function(o,g,C){if(C.Yn[0]*C.Yn[1]*C.Yn[2]==0)return!0;return o.opacity!=255&&(g.length!=0||o.sP()||o.AY())};
h4.a3c={ND:{}};h4.prototype.atM=function(o,g,C,a,x,K){var h=this.l,X=bd.Xn(h),w=f6.get(h.add)!=null,G=h4.Tu,R=h4.a6p(h,x,X),d=R?1:h.opacity/255,q=h.eU()?h.KN():h.d,m=h.sP()&&X.YR==null&&(h.WN=="pass"||h.add.artb)&&!(x.length>0||X.fill!=1||h.AY()),M=!h.sP()&&!w&&!h.AY()&&x.length==0,Z=w&&!h.AY()&&x.length==0,v=null,j=null,e=null,$;
if(m||M||Z){var Q=o,p=g;if(h.VU()){p=this.QR(a,!1);Q=h.ND.hU=G.YJ(h.ND.hU,p.m,p.n);G.MD(o,g,h.ND.hU,p)}if(m)this.U5(Q,p,C,a,K);
if(M)G.Ly(h.WN,h.a1_(a),h.rect,Q,p,C,d,X);if(Z){var y=h.VU()&&q.Xh()==0?q.QR().clone():p.clone(),V=h.ND;
if(y.$s(new aS(0,0,a.m,a.n)))V=h4.a3c;V.EU=this.awO(Q,p,V.EU,y,h.add);X.FH=!0;G.Ly(h.WN,V.EU,y,Q,p,C,d,X)}if(h.VU())G.GL(Q,p,o,g,h.ajR(),q.QR(),q.Xh(),C,1,h.WN=="diss");
h.ND.afg();return}var W=h.sP()&&h.WN=="pass"&&(x.length>0||X.fill!=1||h.AY()),y=h.rect;if(h.sP()){y=this.QR(a,!1);
e=h.ND.EU=G.YJ(h.ND.EU,y.m,y.n);G.th(e,0);this.U5(e,y,y,a,K);j=G.YJ(h.ND.Xj,y.m,y.n);G.MD(e,y,j,y)}else if(w){y=h.VU()&&q.Xh()==0?q.QR().clone():g.clone();
j=G.YJ(h.ND.Xj,y.m,y.n);G.th(j,4294967295)}else{y=h.rect;v=h.a1_(a);j=G.YJ(h.ND.Xj,y.m,y.n);G.MD(v,y,j,y)}h.ND.Xj=j;
if(h.VU())G.aeG(h.ajR(),q.QR(),q.Xh(),j,y);if(h.AY())if(h.ND.Mu||h.ND.nb||h.ND.$f!=i.LH||h.ND.Ua||h.sP()){var T=h.add.vmsk,O=l.Z(y.$());
if(bd.auG(h.add.lmfx)){if(i.LH){if(!h.sP()&&h.KN()==null&&h.rect.$s(y)&&T==null)l.eP(h.buffer,O,3);else{var L=l.Z(y.$()*4);
j.get(L);l.eP(L,O,3)}}else l.eP(j,O,3)}if(h.ND.nb||h.ND.$f!=i.LH||!l.$s(O,h.ND.ua)){var S=null;if(h.eU()&&T&&T.isEnabled&&T.KN().color==0)S=T.KN().rect;
bd.a5b(h.ND.E7);h.ND.E7=bd.ahr(O,y,h.add.lmfx,h.add.fxrp,a,S);h.ND.ua=O;h.ND.abw=y}}if(h.AY())bd.au6(h.add.lmfx,h.ND.E7,y,o,g,C);
if(h.sP()){v=G.YJ(h.ND.hU,y.m,y.n);G.th(v,0);if(h.WN=="pass")G.MD(o,g,v,y);if(W)G.py(e,y,v,y);this.U5(v,y,C,a,K);
h.ND.hU=v}if(w){v=h.ND.hU=this.awO(o,g,h.ND.hU,y,h.add)}if(h.sP()||w)$=v;else{$=G.YJ(h.ND.hU,y.m,y.n);
G.MD(v,y,$,y,C);h.ND.hU=$}G.th($,4278190080,16777215);for(var N=0;N<x.length;N++)x[N].Qc($,y,C,a,[],K);
var H=h.ND.uj=G.YJ(h.ND.uj,y.m,y.n);G.MD(o,g,H,y,C);if(w)X.FH=!0;G.Ly(h.WN=="pass"?"norm":h.WN,$,y,H,y,C,1,X);
if(h.AY()){var f=h.ND.E7.type.FrFX,F=null;if(f.length!=0){F=f[0];for(var N=0;N<f.length;N++)if(f[N].Cq.m>F.Cq.m)F=f[N];
h.ND.ee=G.YJ(h.ND.ee,F.Cq.m,F.Cq.n);G.MD(o,g,h.ND.ee,F.Cq,C);h.ND.YU=G.YJ(h.ND.YU,F.Cq.m,F.Cq.n)}bd.agh(h.add.lmfx,h.ND.E7,y,o,g,C,H,h.ND.ee,h.ND.YU,F?F.Cq:null)}if(!i.LH){var U=l.Z(y.$());
l.eP(j,U,3);j=U}G.GL(H,y,o,g,j,y,0,C,1,h.WN=="diss");h.ND.afg()};h4.prototype.awO=function(o,g,C,a,x){var K=f6.get(x),h;
if(K)h=f6.v4(K,x[K]);var X=h4.Tu;C=X.YJ(C,a.m,a.n);if(!(i.LH&&g.$s(a)))X.MD(o,g,C,a);if(h){if(i.LH){var w=a.clone();
w.x=w.y=0;if(g.$s(a)){i.CG(C,w);f6.kH(h,o.Rb,w)}else{i.CG(C,a);C.RO(a);f6.kH(h,C.R6,w)}}else f6.la(h,C,C,a)}return C};
h4.prototype.U5=function(o,g,C,a,x){var K=g,h=K.m,X=K.n,w=K.x,G=K.y,ee=C,R=ee.x,d=ee.y,q=-1,m=-1,M=2,Z=2;
if(!a.pZ){q=m=0;M=Z=1}var Q=this.children;for(var N=0;N<Q.length;N++){var p=[];for(var y=N+1;y<Q.length;
y++)if(Q[y].l.tN)p.push(Q[y]);else break;for(var V=m;V<Z;V++)for(var W=q;W<M;W++){K.x=w+W*h;K.y=G+V*X;
ee.x=R+W*h;ee.y=d+V*X;Q[N].Qc(o,K,ee,a,p,x)}N+=p.length}K.x=w;K.y=G;ee.x=R;ee.y=d};function aX(o){this.fG="psd";
this.OM=!1;this.name=o;this.ko=-1;this.pZ=!1;this.GJ=null;this.JD=null;this.ms=null;this.Ur=null;this.m=0;
this.n=0;this.buffer=null;this.g=[];this.Vz={};this.add={};this.vV=4;this.Wd=null;this.zC=72;this.Eb={};
this.A=[];this.Pa=[];this.LV=!1;this.Ng=[];this.jB=[];this.eJ=[aX.Xy("Work Path")];this.AW=[];this.ls=null;
this.wi={classID:"CompList",list:{t:"VlLs",v:[]}};this.fU=[];this.XO=[];this.root=null;this.mO=null;
this.UG=!1;this.a6r=!1;this.amU=!1;this.Sa=!1;this.f4=!1;this.dF=!1;this.b0=!1;this.n6=!1;this.bq=!1;
this.Z5=!1;this.Mu=null;this.Y4=null;this._=null;this.JH=[];this.Ix=[];this.b={iw:{},rM:[],ark:[],lS:[],Pz:[],IQ:null,hg:null,mE:null,uL:null,gk:[],hl:[],Zd:null};
this.history=[new dC([1,0],null)];this.za=0;this.my=0;this.KL=0;this.u=new iy(this);this.GY=null;this.cP=null}aX.Lj=function(){var o=8,g=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
g=gN.xx(o,g);return[o,g]}();aX.prototype.uo=function(o){if(o){this.Vz.r1039=o;var g=ICC.R(o.buffer),C=g.header.spaceIn.toLowerCase(),a=JSON.stringify(g.tags.desc).toLowerCase(),x=null,K=17,w,G;
try{x=ICC.U.profileName(g)}catch(fF){}if(C!="rgb "||x==null||a.indexOf("srgb")!=-1){this.uo(null);return}console.log("We got an ICC profile!",g,x);
var h=ICC.U.sampleLUT(g,K),X=h.slice(0),R=l.Z(4),d=aX.Lj[0],q=aX.Lj[1];for(var N=0;N<h.length;N+=3){R[0]=h[N]*255;
R[1]=h[N+1]*255;R[2]=h[N+2]*255;ICC.U.applyLUT(q,d,R,R);X[N]=R[0]/255;X[N+1]=R[1]/255;X[N+2]=R[2]/255}if(i.LH){w=new i.ib(K,K*K);
w.set(ICC.U.rgba8LUT(h,K));G=new i.ib(K,K*K);G.set(ICC.U.rgba8LUT(X,K))}this.GY=[o,g,K,h,w,X,G]}else{delete this.Vz.r1039;
this.GY=null}};aX.prototype.QY=function(){return this.GY};aX.prototype.abC=function(){if(this.GY)return this.GY;
if(this.add.fcmy==1){if(this.cP==null){var o=aX.Lj[0],g=aX.Lj[1],C;if(i.LH){C=new i.ib(o,o*o);C.set(ICC.U.rgba8LUT(g,o))}this.cP=[null,null,o,null,null,g,C]}return this.cP}};
aX.prototype.gP=function(){var o=this;return o._!=null||o.DE()[1].length!=0||o.A.length>1};aX.prototype.Kc=function(){var o=this.Pa,g=[];
for(var N=0;N<o.length;N++)g[N]=-1;var C=this.root.children;for(var N=0;N<C.length;N++){var a=C[N],x=a.l.add.artb;
if(x==null)continue;var K=x.guideIndeces;K=K?K.v:[];for(var h=0;h<K.length;h++)g[K[h].v]=a.index}return[JSON.parse(JSON.stringify(o)),g]};
aX.prototype.mu=function(o){this.Pa=JSON.parse(JSON.stringify(o[0]));var g=o[1],C=this.root.children;
for(var N=0;N<C.length;N++){var a=C[N],x=a.l.add.artb;if(x==null)continue;x.guideIndeces={t:"VlLs",v:[]}}for(var N=0;
N<g.length;N++)if(g[N]!=-1)this.g[g[N]].add.artb.guideIndeces.v.push({t:"long",v:N})};aX.prototype.a0R=function(o){var g=this;
if(o[0])g.add.lnk2=o[0];else delete g.add.lnk2;if(o[1])g.add.FEid=o[1];else delete g.add.FEid;if(o[2])g.add.Patt=o[2];
else delete g.add.Patt};aX.prototype.anb=function(o){var g=this,C=[],a=[],x=[],M=null,Z=null,Q=null;
for(var N=0;N<o.length;N++){var K=o[N];if(K.add.SoLd){C.push(K.add.SoLd.Idnt.v);a.push(K.add.SoLd.placed.v)}if(K.add.PtFl)x.push(K.add.PtFl.Ptrn.v.Idnt.v);
if(K.add.lmfx){for(var h=0;h<hf.l8.length;h++){var X=K.add.lmfx[hf.l8[h]].v;for(var w=0;w<X.length;w++)if(X[w].v.Ptrn){var G=X[w].v;
if(G.classID=="FrFX"&&G.PntT.v.FrFl!="Ptrn")continue;x.push(G.Ptrn.v.Idnt.v)}}}var R=K.add.vstk;if(R&&R.strokeStyleContent.v.classID=="patternLayer"){x.push(R.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var d=g.add.lnk2,q=g.add.FEid,m=g.add.Patt;
if(d){M=[];for(var N=0;N<d.length;N++)if(C.indexOf(d[N].f8)!=-1)M.push(d[N]);if(M.length==0)M=null}if(q){Z=[];
for(var N=0;N<q.length;N++)if(a.indexOf(q[N].id)!=-1)Z.push(q[N]);if(Z.length==0)Z=null}if(m){Q=[];for(var N=0;
N<m.length;N++)if(x.indexOf(m[N].id)!=-1)Q.push(m[N]);if(Q.length==0)Q=null}return[M,Z,Q]};aX.prototype.k3=function(o){var g=this,C=g.root.V0(o==null?g.A[0]:o),a=!1;
while(C.parent!=null){a=a||C.l.GS(31);C=C.parent}return a};aX.prototype.Sh=function(){var o=this.JH,g=this.JH.length;
if(g!=0&&o[g-1].name=="Quick Mask")return o[g-1]};aX.prototype.k2=function(){return this.fG==is.y4("% |/!)")||this.fG==is.KK("gP")};
aX.prototype.dU=function(o){var g=this.add.artd;if(o!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:o},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};aX.prototype.cg=function(o){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(o)==-1)this.add.FEid.push(o)};
aX.prototype.E1=function(o){var g=this.add.FEid.indexOf(o);this.add.FEid.splice(g,1);if(this.add.FEid.length==0)delete this.add.FEid};
aX.prototype.L=function(o){if(o==null)o=new aS(0,0,this.m,this.n);if(this.Mu==null)this.Mu=o;else this.Mu=this.Mu.ae(o)};
aX.prototype.asD=function(o){return this.Mu!=null};aX.prototype.nG=function(o){var g=this.g[o],C=this.root.V0(o);
if(C==null)return!1;if(g.sP()||C.parent.children.indexOf(C)==0)return!1;return!0};aX.a9l=function(o){if(o.add.lnk2)for(var N=0;
N<o.add.lnk2.length;N++){var g=o.add.lnk2[N].f8;o.add.lnk2[N].f8=aX.PJ()+g.slice(8);for(var C=0;C<o.g.length;
C++){var a=o.g[C].add.SoLd;if(a&&a.Idnt.v==g)a.Idnt.v=o.add.lnk2[N].f8}}};aX.prototype.Gs=function(o,g,C){o.sort(function(d,q){return d-q});
var top=o[o.length-1],a=this.g.slice(0),x=this.A.slice(0),K=[],h=[];for(var N=0;N<this.g.length;N++){if(o.indexOf(N)!=-1)h.push(this.g[N]);
else K.push(this.g[N])}this.jZ(h);this.A=[];var X=this.root.QR(this,!0);if(g)X=X.Kw(g);if(C)X=X.ae(C);
if(X.to())X=new aS(0,0,100,100);var w=new aS(-X.x,-X.y,this.m,this.n),G=new Uint8Array(bl.qC("PSD").oe(this,0,0,[!0,!1]));
this.jZ(a);this.A=x;var R=new aX(this.g[top].getName());bl.qC("PSD").gd(G.buffer,R);delete R.add.artd;
R.Ng=[];R.jZ(R.g);R.mu([[],[]]);aX.a9l(R);c.ro.BF(R,X);R.L();R.II();R.cf();return[R,X,K,top]};aX.prototype.aqt=function(o,g,C){var a=this.Gs(o),x=a[0],K=a[1],h=a[2],top=a[3],X;
if(C=="jpg")X=new Uint8Array(bl.qC("JPG").oe([[x.cf().buffer]],x.m,x.n,[80]));else X=new Uint8Array(bl.qC("PSD").oe(x,null,null,[!0,!1]));
if(g)h=this.g.slice(0);var w=this.Lz(X,x.name,K.x,K.y);if(top==this.g.length-1)h.push(w);else h.splice(g?top+1:top-o.length+1,0,w);
this.jZ(h);this.A=[h.indexOf(w)]};aX.PJ=function(o){if(o==null)o="";var g="";while(g==""||g==o){g="";
for(var N=0;N<8;N++)g+=Math.floor(Math.random()*16).toString(16)}return g};aX.prototype.Gq=function(o){if(o==null)return;
if(this.add.Patt==null)this.add.Patt=[];var g=this.add.Patt;for(var N=0;N<g.length;N++)if(g[N].id==o.id)return;
g.push(o)};aX.prototype.Lz=function(o,g,C,a,x,K,h){if(this.add.lnk2==null)this.add.lnk2=[];var X=null,m=!1;
for(var N=0;N<this.add.lnk2.length;N++)if(l.$s(o,this.add.lnk2[N].raw)){X=this.add.lnk2[N].f8;break}if(X==null){var w=bl.tt(o.buffer);
X=aX.PJ()+"-d71c-11e5-b1ae-a548a96e5f9f";var G=new A.Tn;G.f8=X;G.I4=w=="psd"?"8BIM":"    ";G.vo=g+"."+w;
G.mf=w=="psd"?"8BPB":"    ";G.open=0;G.raw=o;G.type="liFD";G.L0=2;this.add.lnk2.push(G)}var R=this.fs(X,null,null,null,K,h),d=aX.PJ()+"-d71c-11e5-b1ae-a548a96e5f9f",q=this.HL();
q.XH(g);if(R!=null){var M=0,Z=0,Q=this.m,p=this.n;if(x){M=x.x;Z=x.y;Q=x.m;p=x.n}var y=q.rect=R.zm[1].clone();
y.offset(M+C,Z+a);var V=Math.max(y.m/Q,y.n/p),m=x!=null&&V>1.0001;if(m){y.m=Math.round(y.m/V);y.n=Math.round(y.n/V);
y.x=Math.round(M+(Q-y.m)/2);y.y=Math.round(Z+(p-y.n)/2)}else if(x!=null&&bl.tt(o.buffer)=="pdf"&&this.zC!=144){var V=144/this.zC;
y.m=Math.round(y.m/V);y.n=Math.round(y.n/V);m=!0}q.buffer=l.Z(y.$()*4);if(!m)l.j5(R.zm[0],q.buffer)}q.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:X},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:d},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:l.X0.Z(R?R.zm[1]:q.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:q.rect.m},Hght:{t:"doub",v:q.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:R?R.zC:72}}};
var W=l.o.IW(q.rect).w;q.add.SoLd.Trnf=c.V.SS(W);q.add.SoLd.nonAffineTransform=c.V.SS(W);if(m)q.R9(this,!1);
return q};aX.prototype.cf=function(o){if(o!=null){this.L();this.II(o);var g=this.buffer;if(i.LH)this.mO.get(g);
else g=g.slice(0);this.L();this.II();return g}if(this.Mu){this.II();this.Mu=null}if(i.LH&&this.Y4){this.mO.get(this.buffer);
this.Y4=null;this.b0=!0}return this.buffer};aX.prototype.a50=function(){for(var N=0;N<this.g.length;
N++)this.g[N].ahy();this.L()};aX.prototype.ad6=function(){for(var N=0;N<this.g.length;N++)if(this.g[N].add.lmfx)this.g[N].ND.nb=!0};
aX.prototype.HY=function(){var o=this.Vz.r1044;if(o==null){o=this.Vz.r1044=new Uint8Array(4);var g=0;
for(var N=0;N<this.g.length;N++)g=Math.max(g,this.g[N].add.lyid);u.we(o,0,g)}var C=u.s(o,0);u.we(o,0,C+1);
return C+1};aX.prototype.zj=function(o,g,C){if(o==null)o=!0;var a=this;if(a.Ix.length!=0)return!0;if(a.A.length!=1){if(o)alert(a.A.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Al(o,g,C)};aX.prototype.Al=function(o,g,C){if(o==null)o=!0;if(g==null)g=!1;var a=this;
if(a.Ix.length!=0)return!0;for(var N=0;N<a.A.length;N++){var x=a.g[a.A[N]],K=g||x.U3<=0;if(x.add.lsct!=null&&x.add.lsct!=kj.sw&&x.U3!=1){if(o)alert(fF.get([15,7,2]));
return!1}if(K&&!x.MC()){if(o)alert(fF.get([15,7,2]));return!1}if(K&&x.add.TySh){return this.apq(o,[15,7,3],C)}if(K&&x.add.SoLd){return this.apq(o,[15,7,4],C)}if(x.GS(1)||a.k3(a.A[N])){if(o)alert(fF.get([6,57,0]));
return!1}}return!0};aX.prototype.apq=function(o,g,C){if(o&&typeof o=="object"){var a=new jO(D.E.X);a.data={C:D.t.gC,$j:"confirm"};
a.data.k=fF.get(g)+". "+fF.get([6,8])+"?";var x=o;a.data.op=function(){var K=new jO(D.E._h,!0);K.data={j7:"rasterizeLayer",FS:{classID:"rasterizeLayer",null:kn.C8("Lyr",!0)}};
x.c(K)};o.c(a);return!1}if(o)alert(fF.get(g));return!1};aX.prototype.ai2=function(o){var g=this.root.V0(o);
if(g.parent)return g.l.aL()&&this.ai2(g.parent.index);else return g.l.aL()};aX.prototype.M4=function(){var o=this;
if(o.add.artd&&o.A.length!=0){var g=o.root.V0(o.A[0]);while(g.parent.parent)g=g.parent;if(g.l.add.artb)return g.index}return-1};
aX.prototype.afT=function(){var o=this.g[this.A[0]];if(o.U3<=0&&!o.rect.fp(this._.rect)){alert("Selected area is empty.");
return!1}if(this.A.length==1&&this._){var g=l.Z(this._.channel.length);l.vb(o.buffer,o.rect,g,this._.rect);
l.BX(this._.channel,g);if(l.jN(g,0)){alert("Selected area is empty.");return!1}}return!0};aX.prototype.T6=function(){if(this.Vz["r"+1037]==null)this.ar(30);
return u.sU(this.Vz["r"+1037],0)};aX.prototype.ar=function(o){if(this.Vz["r"+1037]==null)this.Vz["r"+1037]=new Uint8Array(4);
if(u.sU(this.Vz["r"+1037],0)==o)return;u.eB(this.Vz["r"+1037],0,o);this.ad6()};aX.prototype.jU=function(){if(this.Vz["r"+1049]==null)this.rW(30);
return u.sU(this.Vz["r"+1049],0)};aX.prototype.rW=function(o){if(this.Vz["r"+1049]==null)this.Vz["r"+1049]=new Uint8Array(4);
if(u.sU(this.Vz["r"+1049],0)==o)return;u.eB(this.Vz["r"+1049],0,o);this.ad6()};aX.prototype.u9=function(o){if(this.add.lnk2==null)return null;
for(var N=0;N<this.add.lnk2.length;N++)if(this.add.lnk2[N].f8==o)return this.add.lnk2[N];return null};
aX.prototype.adY=function(o){var g=this.u9(o);if(g==null)return!1;var C=bl.tt(g.raw.buffer);if(C==null)return!1;
if(bl.qC(C)!=null||C=="psd")return!0;return!1};aX.prototype.fs=function(o,g,C,a,x,K){var h=this.u9(o);
if(h==null)return null;h.cf(g,C,a,x,K);if(h.zm)return h};aX.prototype.a3d=function(){var o=this.m,g=this.n;
if(i.LH&&this.mO==null)this.mO=new i.ib(o,g,!0);if(this.buffer==null||this.buffer.length!=o*g*4||i.LH&&(this.mO.m!=o||this.mO.n!=g)){this.buffer=l.Z(o*g*4);
if(this.mO)this.mO.delete();if(i.LH)this.mO=new i.ib(o,g,!0)}};aX.prototype.a2i=function(){this.a3d();
if(i.LH){this.mO.set(this.buffer)}};aX.prototype.II=function(o){var g=this.m,C=this.n,a=new aS(0,0,g,C),x=this.pZ?a:a.Kw(this.Mu);
this.a3d();if(x.to())return;if(!x.$s(a)){if(!i.LH){var K=l.oX(x.$()*4);l.HT(K,x,this.buffer,a)}if(i.LH){i.CG(this.mO,x);
i.eW(0)}}else{if(i.LH){this.mO.set(null)}else{this.buffer.fill(0)}}var h=Date.now(),X=i.LH?this.mO:this.buffer;
if(o==null)o=1e9;var w=this.root.children;for(var N=0;N<w.length;N++){var G=w[N].l;if(G.aL()&&G.add.artb&&this.add.artd){var R=G.zz(),d=x.Kw(R),q=G.Zx();
if(q!=0){if(i.LH){i.CG(X,d);i.eW(q);i.eW(q)}else l.anZ(X,a,d,q)}}}this.root.Qc(X,a,x,this,[],o);this.Y4=this.Mu.clone()};
aX.prototype.HL=function(o){var g=new A;g.rect=new aS(0,0,0,0);g.buffer=l.Z(1);g.add.luni=new eN(0,0);
if(o!=!0)g.add.lyid=this.HY();g.add.lsct=kj.sw;g.add.lclr=0;g.add.fxrp=new eN(0,0);return g};aX.prototype.kF=function(o){var g=this.HL(o);
g.XH("</Layer group>");g.add.lsct=kj.bH;g.qX=24;return g};aX.prototype.ZN=function(){return this.za!=this.my};
aX.prototype.zn=function(o){while(this.history.length>this.za+1)this.history.pop();if(this.my>this.za)this.my=-1;
if(o.F.id!=c.nk){this.Sa=!0;if(this.wi.lastAppliedComp){delete this.wi.lastAppliedComp;this.b0=!0}}this.history.push(o);
this.za++;this.b0=!0;var g=d$.Cr()?60:30,C=0;for(var N=this.history.length-1;N>=0;N--){var a=this.history[N];
if(a.df)continue;C++;if(C==g){this.za-=N;this.history=this.history.slice(N);break}}};aX.prototype.XW=function(){if(this.za!=this.history.length-1)return null;
return this.history[this.history.length-1]};aX.prototype.TD=function(o,g,C,a){if(o==null)o=!1;var x=g!=null?[g]:this.A.slice(0);
if(a){var K=[];for(var N=0;N<x.length;N++){var h=this.g[x[N]],X=h.Fy;if(h.GH&&X!=0&&K.indexOf(X)==-1)K.push(X)}if(K.length!=0)for(var N=0;
N<this.g.length;N++){var h=this.g[N],X=h.Fy;if(h.GH&&X!=0&&K.indexOf(X)!=-1&&x.indexOf(N)==-1)x.push(N)}}var w=[];
for(var N=0;N<x.length;N++){var G=this.x2(x[N],o);for(var R=0;R<G.length;R++)if(w.indexOf(G[R])==-1)w.push(G[R]);
if(C){var ee=this.root.V0(x[N]);while(ee.parent!=null&&ee.parent.parent!=null){ee=ee.parent;if(w.indexOf(ee.index)==-1){w.push(ee.index,ee.Qr)}}}}return w};
aX.prototype.oa=function(o,g,C){var a=this,x=a.TD(!1,o,null,C);x.sort(function(V,W){return V-W});var K={};
for(var h=0;h<a.g.length;h++){var X=a.g[h].getName();K[X]=!0}var w=[];for(var N=0;N<x.length;N++){var G=a.g[x[N]].clone(),Q,p;
G.add.lyid=a.HY();G.add.lspf=0;if(G.xT()){var R=G.WW(a),d=aX.asc(R);a.cg(d);G.add.SoLd.placed.v=d.id}else if(G.add.SoLd){var q=G.add.SoLd.placed.v;
G.add.SoLd.placed.v=aX.PJ(q.slice(0,8))+q.slice(8)}G.Rw(a);var m=G.getName(),M=m.length;while(48<=m.charCodeAt(M-1)&&m.charCodeAt(M-1)<=57)M--;
var Z=parseInt(m.slice(M));if(isNaN(Z)){if(m.endsWith(" copy")){Z=1;Q=m.slice(0,m.length-5)}else{Z=0;
Q=m}}else if(m.slice(0,M).endsWith(" copy ")){Z=Z;Q=m.slice(0,M-6)}else{Z=0;Q=m}Z++;while(!0){p=Q+" copy"+(Z==1?"":" "+Z);
if(K[p]==null)break;Z++}var y=x.indexOf(this.root.V0(x[N]).parent.index)!=-1;if(m=="Background"&&a.g.length==1)p="Layer 1";
if(g!=!0&&!y)G.XH(p);K[p]=!0;w.push(G)}return w};aX.asc=function(o){return{id:aX.PJ(o.id.slice(0,8))+o.id.slice(8),buffer:o.buffer.slice(0),rect:o.rect.clone(),d:o.d?o.d.clone():null}};
aX.aex=function(o){return{id:o,rect:new aS,buffer:l.Z(1),d:new A.QX}};aX.Xy=function(o,g){if(g==null)g={vmsk:new A.A3};
if(g.vogk==null){g.vogk=[];var C=l.M.Ac(g.vmsk.i);for(var a=0;a<C;a++)g.vogk.push(l.vm.oX())}return{name:o,XE:0,add:g}};
aX.prototype.DE=function(o){var g=[],C=[],a=this,K=0;for(var N=1;N<a.eJ.length;N++){var x=a.eJ[N];x.XE=-1-N;
g.push(x);if(a.AW.indexOf(N)!=-1)C.push(g.length-1)}if(a.eJ[0].add.vmsk.i.length>2){var x=a.eJ[0];x.XE=-1;
g.push(x);if(a.AW.indexOf(0)!=-1)C.push(g.length-1)}var h=a.ls==null;if(h)a.ls=[];for(var N=a.A.length-1;
N>=0;N--){var X=a.g[a.A[N]],w=X.add.TySh;if(X.add.vmsk!=null&&(X.$u||X.eU())){var x=aX.Xy("\""+X.getName()+"\" Shape Path",X.add);
x.XE=a.A[N];g.push(x);if(h)a.ls.push(K);if(a.ls.indexOf(K)!=-1)C.push(g.length-1);K++}if(o!=!0&&w&&w.add&&l.X0.L1(w.xr)){var x=aX.Xy("\""+X.getName().slice(0,10)+"..\" Text Path",w.add);
x.XE=1e6+a.A[N];g.push(x);C.push(g.length-1);K++}}if(C.length==0&&o){a.eJ[0].XE=-1;a.AW=[0];C.push(g.length);
g.push(a.eJ[0])}return[g,C]};aX.prototype.x2=function(N,o){var g=[],ee=this.root.V0(N);if(ee)ee.as7(g,o);
return g};aX.prototype.Va=function(){this.root.zJ(this,new aS(0,0,this.m,this.n))};aX.prototype.jZ=function(o){for(var N=0;
N<this.g.length;N++){var g=this.g[N];if(o.indexOf(g)==-1){g.ND.a7g();g.L()}}var C=0;for(var N=0;N<o.length;
N++)if(o[N].add.artb)C++;this.dU(C);this.g=o.slice(0);this.vg()};aX.prototype.vg=function(){var o=this.g,g=o.length;
this.root=new h4;var C=this.HL(!0);C.WN="pass";C.add.lsct=kj.ah;C.XH("");var a=this.kF(!0),x=[a];for(var N=0;
N<g;N++)x.push(o[N]);x.push(C);this.root.af9(x,0,0);if(this.A.length==0)this.A=[g-1]};aX.prototype.SU=function(){if(this.A.length!=1)return;
var o=this.root.V0(this.A[0]);while(o.parent!=null){var g=o.parent.l;g.add.lsct=kj.ah;o=o.parent}this.dF=this.asx=!0};
aX.prototype.au0=function(){this.vg();var o=[this.root],gC=0;while(o.length!=0){var top=o.pop();gC++;
if(top.l.add.lsct==kj.ah)for(var N=0;N<top.children.length;N++)o.push(top.children[N])}if(gC>1e3){var g=this.root.children;
for(var N=0;N<g.length;N++)if(g[N].l.add.lsct==kj.ah)g[N].l.add.lsct=kj.vz}};aX.ik=function(o,g,C,a,x,K,h,X){if(X==null)X="sRGB IEC61966-2.1";
var w={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:a},artboard:{t:"bool",v:K},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:o}},Hght:{t:"UntF",v:{type:"#Rlt",val:g}},Rslt:{t:"UntF",v:{type:"#Rsl",val:C}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:x}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:X}}}};
if(x=="Clr")w.Nw.v.FlCl={t:"Objc",v:h};return{j7:"make",FS:w}};aX.aa2=function(o,g){var C=0,a=0,x=72,K=g.amq,h=o.preset&&o.preset.v=="Clipboard";
if(h){C=K.m;a=K.n}else{C=o.Wdth.v.val;a=o.Hght.v.val;x=o.Rslt.v.val}var X=new aX((o.Nm?o.Nm.v:fF.get([11,7]))+".psd");
X.m=C;X.n=a;X.zC=x;var w=o.Fl?o.Fl.v.Fl:"Wht";if(o.artboard&&o.artboard.v){var G=X.HL();G.XH(fF.get([1,16,0])+" 1");
G.add.lsct=kj.ah;G.xJ(new aS(0,0,C,a));G.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[w]};
if(w=="Clr")G.add.artb.Clr={t:"Objc",v:l.T.CT(l.T.Xh(o.FlCl.v))};G.WN="pass";G.qX=24;var R=X.HL();R.XH("Layer 1");
X.jZ([X.kF(),R,G]);X.dU(1);X.A=[1]}else{var d=X.HL(),q=0;d.XH("Background");X.jZ([d]);d.add.lspf=1<<2;
if(w=="Clr"){q=l.T.Xh(o.FlCl.v);q=255<<24|Math.round(q.K)<<16|Math.round(q.B)<<8|Math.round(q.z)}else{var M=g.KT;
M=(M&255)<<16|(M>>>8&255)<<8|M>>>16;q={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|M}[w]}d.rect=new aS(0,0,C,a);
d.buffer=l.Z(C*a*4);l.th(d.buffer,q)}X.buffer=l.Z(C*a*4);var Z=o.profile;if(Z){var Q={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[Z.v];
if(Q)X.uo(bl.zY.get(Q))}return X};function iy(o){this.db=o;this.R=0;this.aK=1;this.v=new eN(0,0);this.nM=new eN(0,0);
this.BD=0;this.dp=[1,1,1];this.Bv=0;this.B9=new aS(0,0,1,1);this.ax9=new aS(0,0,o.m,o.n);this.N5=null;
this.DS=null;this.q2=new Uint32Array(0);this.oH=null;this.CP=null;this.ai=l.Z(0);this.bd=null;this.dP=null}iy.prototype.Ii=function(o){var g=new kp,C=this.B9,a=this.db,x=o?this.aK:this.R,K=o?this.nM:this.v,h=Math.round((C.m-a.m*x)/2+K.x),X=Math.round((C.n-a.n*x)/2+K.y);
g.translate(-h,-X);g.scale(1/x,1/x);var w=a.m/2,G=a.n/2;g.translate(-w,-G);g.rotate(this.BD);g.translate(w,G);
return g};iy.prototype.aeo=function(o){var g=this.B9,C=this.db,a=Math.atan2(-o.K,o.Bk),x=C.m/2,K=C.n/2;
o.translate(-x,-K);o.rotate(-a);o.translate(x,K);var h=1/o.Bo();o.scale(h,h);var X=-o.NO,w=-o.Mx,G=Math.round(X-(g.m-C.m*h)/2),R=Math.round(w-(g.n-C.n*h)/2);
if(Math.abs(h-Math.round(h))<1e-6)h=Math.round(h);this.BD=a;this.R=h;this.v=new eN(G,R)};iy.prototype.w2=function(o,g){var C=this.Ii();
return C.nx(new eN(o,g))};iy.prototype.Er=function(o,g){var C=this.Ii();C.rq();return C.nx(new eN(o,g))};
function hf(){}hf.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");hf.l8="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
hf.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];hf.aln=["DrSh","IrSh","SoFi","GrFl","FrFX"];
hf.nD=["Clr"];hf.mK="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");hf.ti=["Ptrn","Angl","Scl","Algn","phase"];
hf.xH={_S:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",acT:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",axH:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",auY:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",nr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
hf.xH._S="\"Clr\": "+hf.xH._S;hf.xH.T="\"Grad\":"+hf.xH.acT+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
hf.xH.nr="\"Ptrn\":"+hf.xH.nr+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
hf.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
hf.QI=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+hf.xH._S+","+hf.xH.T+","+hf.xH.nr+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hf.xH._S+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hf.xH.T+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hf.xH.nr+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
hf.T={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
hf.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Jd:["SClr","GrFl","Ptrn"],al1:[[13,0],[12,37],[12,62]]};
hf.oE={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],asV:["SrcC","SrcE"],al4:[[19,5,1],[12,69]]};hf.uM={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a59:["SfBL","PrBL","Slmt"],abh:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
hf.ly={sj:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],sx:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],iJ:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+hf.xH._S+"}")},strokeStyleResolution:{t:"doub",v:72}}};
hf.vq=[{classID:"null",Clr:JSON.parse(hf.QI[5]).Clr},{classID:"null",Grad:JSON.parse(hf.QI[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(hf.QI[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var bd={};bd.LD=function(o,g){function C(o,q){if(o==null)return null;var m=o[q].v,M;if(m.length!=0){M=m[0].v;
if(!M.enab.v)M=null}return M}var a=g.SoCo,x=g.GdFl,K=C(o,"solidFillMulti"),h=C(o,"gradientFillMulti");
if(K==null&&h==null)return[a,x];var X=bd.aaB;if(a&&K&&h==null){var w=JSON.parse(JSON.stringify(a));w.Clr.v=X(K.Clr.v,a.Clr.v,K);
return[w,null]}if(x&&K&&h==null){var G=JSON.parse(JSON.stringify(x)),R=G.Grad.v.Clrs.v;for(var N=0;N<R.length;
N++){var d=R[N].v.Clr;d.v=X(K.Clr.v,d.v,K)}return[null,G]}if(a&&h){var G=JSON.parse(JSON.stringify(h)),R=G.Grad.v.Clrs.v;
for(var N=0;N<R.length;N++){var d=R[N].v.Clr;d.v=X(d.v,a.Clr.v,h)}return[null,G]}return[K,h]};bd.a1V={bK:l.Z(4),ac:l.Z(4),z:new aS(0,0,1,1)};
bd.aaB=function(o,g,C){var a=cP.Ye(C.Md.v.BlnM),x=C.Opct.v.val/100,K=bd.a1V;o=l.T.Xh(o);g=l.T.Xh(g);
K.bK[0]=o.z;K.bK[1]=o.B;K.bK[2]=o.K;K.bK[3]=255;K.ac[0]=g.z;K.ac[1]=g.B;K.ac[2]=g.K;K.ac[3]=255;l.j.Ly(a,K.bK,K.z,K.ac,K.z,K.z,x);
return{classID:"RGBC",Rd:{t:"doub",v:K.ac[0]},Grn:{t:"doub",v:K.ac[1]},Bl:{t:"doub",v:K.ac[2]}}};bd.apG=function(o,g,C){var a=o;
o=o.slice(0);var x=cP.CH[cP.J1.indexOf(g.Md.v.BlnM)],K=l.T.Xh(g.Clr.v),h=4278190080|Math.round(K.K)<<16|Math.round(K.B)<<8|Math.round(K.z),X=l.Z(C.$()*4);
l.th(X,h);l.j.Ly(x,X,C,o,C,C,g.Opct.v.val/100);for(var N=0;N<o.length;N+=4)o[N+3]=a[N+3];return o};bd.lH=function(o,g){var C=["Sz","blur","Sftn","Dstn"];
for(var N=0;N<hf.order.length;N++){var a=hf.order[N],x=o[hf.l8[N]].v;for(var K=0;K<x.length;K++){var h=x[K].v;
for(var X=0;X<C.length;X++){var w=h[C[X]];if(w){var G=w.v.val,R=G;R=Math.max(G==0?0:1,R*g);if(a=="ChFX")R=Math.min(R,250);
if(a=="ebbl"){if(C[X]=="blur")R=Math.min(R,250);if(C[X]=="Sftn")R=Math.min(R,16)}w.v.val=Math.round(R)}}if(a=="ebbl"||a=="patternFill"||a=="FrFX")if(h.Ptrn&&h.Scl)h.Scl.v.val=Math.max(1,Math.min(1e3,h.Scl.v.val*g))}}};
bd.a6F=function(o,g,C){var a=new aS(-.5,-.5,1,1);for(var N=0;N<hf.order.length;N++){var x=hf.order[N],K=o[hf.l8[N]].v;
for(var h=0;h<K.length;h++){var X=K[h].v,d;if(!X.enab.v)continue;var w=X.blur?X.blur.v.val+1:0,G=X.Ckmt?X.Ckmt.v.val/100:0,R=Math.round(w*G);
if(x=="DrSh"||x=="IrSh"&&C){d=new aS(-.5,-.5,1,1);d.Uj(w,w);bd.G4(d,X,g,0)}if(x=="OrGl"||x=="IrGl"&&C){d=new aS(-.5,-.5,1,1);
d.Uj(w,w)}if(x=="FrFX"){var q=bd.NZ(X),m=q[1];if(C)m=Math.max(q[0],m);d=new aS(-.5,-.5,1,1);d.Uj(Math.ceil(m),Math.ceil(m))}if(x=="ebbl"){var w=X.blur.v.val,M=X.bvlS.v.BESl;
if(M=="Embs"||M=="PlEb")w/=2;var Z=["OtrB","InrB","Embs","PlEb","strokeEmboss"],Q=["SfBL","PrBL","Slmt"],p=["In","Out"],y=X.bvlT.v.bvlT!="SfBL"?w:w*.43,V=Math.round(w);
d=new aS(-V-1,-V-1,2*V+2,2*V+2)}if(C&&x=="ChFX"){d=new aS(-.5,-.5,1,1);d.Uj(w,w);var W=d.clone();bd.G4(d,X,g,0);
bd.G4(W,X,g,Math.PI);d=d.ae(W)}if(d)a=a.ae(d)}}if(a.x!=Math.ceil(a.x)){a.x=Math.ceil(a.x);a.m-=1}if(a.y!=Math.ceil(a.y)){a.y=Math.ceil(a.y);
a.n-=1}a.m=Math.floor(a.m);a.n=Math.floor(a.n);return a};bd.NZ=function(o){var g=0,C=0,a=o.Styl.v.FStl,x=o.Sz.v.val;
if(a=="OutF")C=x;if(a=="InsF")g=x;if(a=="CtrF")g=C=x/2;return[g,C]};bd.acF=function(o){if(i.LH&&o.rk==null){o.rk=new i.ib(o.Bc.m,o.Bc.n);
o.rk.set(o.ab);delete o.ab;if(o.$Q){o.pX=new i.bS(o.Bc.m,o.Bc.n);o.pX.set(o.$Q);delete o.$Q}if(o.TZ){o.zi=new i.bS(o.Bc.m,o.Bc.n);
o.zi.set(o.TZ);delete o.TZ}}};bd.ahq=function(o){if(o.rk)o.rk.delete();if(o.pX)o.pX.delete();if(o.zi)o.zi.delete()};
bd.a5b=function(o){if(o.all==null)return;for(var N=0;N<o.all.length;N++){bd.ahq(o.all[N])}};bd.ahr=function(o,g,C,a,x,K){var h=bd.O4(C,a,o,g,x,K);
for(var N=0;N<h.all.length;N++)bd.acF(h.all[N]);return h};bd.auG=function(o){for(var N=0;N<hf.order.length;
N++){var g=hf.order[N],C=hf.l8[N],a=o[C].v;for(var x=0;x<a.length;x++){var K=a[x].v;if(K.enab.v&&["patternFill","GrFl","SoFi"].indexOf(g)==-1)return!0}}return!1};
bd.O4=function(o,g,C,a,x,K){if(K==null)K=a;var h=0,X=0;for(var N=0;N<hf.order.length;N++){var w=hf.order[N],G=hf.l8[N],R=o[G].v;
for(var d=0;d<R.length;d++){var q=R[d].v;if(w=="DrSh"&&q.enab.v&&q.Ckmt.v.val>0&&q.blur.v.val>0)h=Math.max(h,Math.ceil(q.Ckmt.v.val*q.blur.v.val/100));
if(w=="OrGl"&&q.enab.v&&q.Ckmt.v.val>0&&q.blur.v.val>0&&q.GlwT.v.BETE=="SfBL")h=Math.max(h,Math.ceil(q.Ckmt.v.val*q.blur.v.val/100));
if(w=="OrGl"&&q.enab.v&&q.blur.v.val>0&&q.GlwT.v.BETE=="PrBL")h=Math.max(h,q.blur.v.val);if(w=="FrFX"&&q.enab.v&&q.Sz.v.val>0){if(q.Styl.v.FStl=="OutF")h=Math.max(h,q.Sz.v.val);
if(q.Styl.v.FStl=="CtrF")h=Math.max(h,Math.ceil(q.Sz.v.val/2));X=Math.max(X,bd.NZ(q)[1])}}}var m=new bd.cW(C,a,h,bd.auG(o)),M=-a.x,Z=-a.y,Q={type:{},all:[]};
for(var p=0;p<hf.order.length;p++){var w=hf.order[p],G=hf.l8[p];Q.type[w]=[];for(var y=o[G].v.length-1;
y>=0;y--){var V=o[G].v[y].v,e;if(!V.enab.v)continue;var W=V.blur?V.blur.v.val:0,v=V.Ckmt?V.Ckmt.v.val/100:0,j=W*v;
if(w=="DrSh"){var T=m.mk(j,W-j,!0),O=T.P4,L=T.Cn;L.offset(M,Z);bd.sl(O,V,!1);bd.G4(L,V,x,0);var S=l.Z(L.$()*4);
bd.KH(S,V.Clr.v);l.Oa(O,S,3);e={ab:S,Bc:L,ahT:V.layerConceals.v}}else if(w=="IrSh"){var T=m.mk(j,W-j,!1);
bd.G4(T.Cn,V,x,0);var L=m.rect().clone(),O=l.Z(L.$());O.fill(255);l.MD(T.P4,T.Cn,O,L);bd.sl(O,V,!0,!0);
var S=l.Z(L.$()*4);bd.KH(S,V.Clr.v);l.Oa(O,S,3);L.offset(M,Z);e={ab:S,Bc:L}}else if(w=="GrFl"){var S=l.Z(m.rect().$()*4);
bd.yb(V,S,m.rect(),x,null,K);var L=m.rect().clone();L.offset(M,Z);e={ab:S,Bc:L}}else if(w=="SoFi"){var S=l.Z(m.P4().length*4);
bd.KH(S,V.Clr.v);var L=m.rect().clone();L.offset(M,Z);e={ab:S,Bc:L}}else if(w=="ebbl"){var $=!1;if($)console.log(V);
var H=Date.now(),f=V.bvlS.v.BESl;if(f=="strokeEmboss"){var F=o.frameFXMulti.v;if(F.length==0)continue;
F=F[0].v;if(!F.enab.v)continue;var U=F.Styl.v.FStl;if(U=="OutF")f="OtrB";if(U=="CtrF")f="Embs";if(U=="InsF")f="InrB"}var W=V.blur.v.val;
if(W==0)W=.7;if(f=="Embs"||f=="PlEb")W/=2;var r=["OtrB","InrB","Embs","PlEb","strokeEmboss"],E=["SfBL","PrBL","Slmt"],k=["In","Out"],P=V.bvlT.v.bvlT!="SfBL"?W:W*.45,z=Math.round(W),s=m.rect().clone(),Y=s.clone();
Y.Uj(z,z);var t=Y.m,n=Y.n,J=t*n,I=l.Z(J);l.MD(m.P4(),s,I,Y);var fp=new Float64Array(J),cH=new Float64Array(J);
l.style.Bh(I,fp,t,n);l.rq(I);l.style.Bh(I,cH,t,n);if($)console.log("distTransform computed",Date.now()-H);
for(var N=0;N<J;N++)cH[N]=cH[N]-fp[N];for(var N=0;N<J;N++){var b=cH[N];if(b<-P)cH[N]=-P;else if(b>P)cH[N]=P}if($)console.log("summing + cropping",Date.now()-H);
if(V.bvlT.v.bvlT=="SfBL"){var jL=Math.pow(W*.21,1.22);if(!0)jL=Math.max(jL,2);var aq=l.EB.Ta(jL,2);l.EB.GP(cH,fp,Y,aq[0]>>>1);
l.EB.GP(fp,cH,Y,aq[1]>>>1)}if($)console.log("blurring",Date.now()-H);var cJ=cH,aB=cJ.slice(0);if(V.useShape.v){var au=Math.min(100,V.Inpr.v.val+1)/100;
if(f!="OtrB"&&f!="InrB")au=1;var ea=l.QG.or(V.MpgS.v.Crv.v,2e3),ax=Math.round(2e3/au);ea=l.QG.ans(ea,ax,f=="InrB");
var f1=.5/P;for(var N=0;N<J;N++){var fk=cJ[N],hF=.99999*(fk+P)*f1;cJ[N]=-P+2*P*ea[~~(hF*(ax-1))]}if($)console.log("applying shape",Date.now()-H)}if(V.useTexture.v){var fm=l.Z(t*n*4);
bd.pA(V,fm,Y,x.add.Patt,g);var jE=l.Z(t*n);l.cr(fm,jE);var ff=l.Z(t*n);l.EB.OE(jE,ff,Y,1);jE=ff;var d5=W*V.textureDepth.v.val*(1/100)*(1/255);
if(V.InvT.v)d5=-d5;for(var N=0;N<J;N++)cJ[N]+=-d5*jE[N];if($)console.log("applying texture",Date.now()-H)}var eF=(V.bvlT.v.bvlT=="SfBL"?1:.5)*(V.bvlD.v.BESs=="In"?1:-1)*V.srgR.v.val/100;
for(var N=0;N<J;N++)cJ[N]*=eF;if($)console.log("scaling",Date.now()-H);var gI=V.uglg&&V.uglg.v?x.T6():V.lagl.v.val;
gI=gI*(Math.PI/180);var fE=V.uglg&&V.uglg.v?x.jU():V.Lald.v.val;fE=fE*(Math.PI/180);var js=Math.cos(gI)*Math.cos(fE),d8=-Math.sin(gI)*Math.cos(fE),bt=Math.sin(fE),io=new Float64Array(J),ha=new Float64Array(J),dp=f=="PlEb";
for(var gS=0;gS<n;gS++)for(var aP=0;aP<t;aP++){var N=gS*t+aP,gD=0,fA=0,jH=1;if(gS!=0&&gS!=n-1&&aP!=0&&aP!=t-1){var aM=cJ[N-t-1],jc=cJ[N-t+1],eQ=cJ[N+t-1],j1=cJ[N+t+1];
gD=-.125*(jc+2*cJ[N+1]+j1-(aM+2*cJ[N-1]+eQ));fA=-.125*(eQ+2*cJ[N+t]+j1-(aM+2*cJ[N-t]+jc))}else{var i7=cJ[N];
fA=-(gS==0?cJ[N+t]-i7:gS==n-1?i7-cJ[N-t]:.5*(cJ[N+t]-cJ[N-t]));gD=-(aP==0?cJ[N+1]-i7:aP==t-1?i7-cJ[N-1]:.5*(cJ[N+1]-cJ[N-1]))}var fT=1/Math.sqrt(gD*gD+fA*fA+1);
gD*=fT;fA*=fT;jH*=fT;var hy=gD*js+fA*d8+jH*bt,hJ=hy;if(dp)hJ=-gD*js-fA*d8+jH*bt;if(hy>0)io[N]=hy;if(hJ>0)ha[N]=hJ}if($)console.log("raycasting",Date.now()-H);
if(V.Sftn.v.val!=0){l.EB.D8(io,fp,Y,V.Sftn.v.val*.43);var db=fp,fp=io,io=db;if(dp){l.EB.D8(ha,fp,Y,V.Sftn.v.val*.43);
var db=fp,fp=ha,ha=db}else l.j5(io,ha)}if($)console.log("softening",Date.now()-H);var ea=l.QG.or(V.TrnS.v.Crv.v,1024);
for(var N=0;N<J;N++){io[N]=ea[~~(io[N]*1024)];ha[N]=ea[~~(ha[N]*1024)]}if($)console.log("contour remap",Date.now()-H);
t=Math.round(t);n=Math.round(n);var jK=l.Z(t*n*4);bd.KH(jK,V.hglC.v);var h_=l.Z(t*n*4);bd.KH(h_,V.sdwC.v);
var dM=l.Z(t*n*4);bd.KH(dM,V.hglC.v);var eW=l.Z(t*n*4);bd.KH(eW,V.sdwC.v);var ip=1/bt,fS=1/(1-bt),f1=1/P,hS=new Float64Array(1e3);
for(var N=0;N<1e3;N++)hS[N]=Math.pow(N*.001,.2);for(var gS=0;gS<n;gS++)for(var aP=0;aP<t;aP++){var N=gS*t+aP,bB=4*N+3,g_=0,e4=0;
g_=io[N];e4=ha[N];var e0=Math.max(0,Math.min(.9999,(aB[N]+P*.993)*f1));e0=hS[Math.floor(e0*1e3)];var jC=e0*(1-Math.min(1,g_*ip)),i4=e0*(1-Math.min(1,(1-g_)*fS)),hO=e0*(1-Math.min(1,e4*ip)),eq=e0*(1-Math.min(1,(1-e4)*fS));
h_[bB]=Math.round(255*jC);jK[bB]=Math.round(255*i4);eW[bB]=Math.round(255*hO);dM[bB]=Math.round(255*eq)}if($)console.log("baking textures",Date.now()-H);
Y=m.rect().clone();Y.Uj(z,z);Y.offset(M,Z);e={apI:V.bvlS.v.BESl=="strokeEmboss"};var ig=cP.Ye(V.hglM.v.BlnM),bc=V.hglO.v.val/100,aa=cP.Ye(V.sdwM.v.BlnM),cn=V.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(f)!=-1){e.qJ={ab:jK,Bc:Y,O6:ig,_V:bc};e.Za={ab:h_,Bc:Y,O6:aa,_V:cn}}if(["OtrB","Embs","PlEb"].indexOf(f)!=-1){e.n4={ab:dM,Bc:Y,O6:ig,_V:bc};
e.Ir={ab:eW,Bc:Y,O6:aa,_V:cn}}if($)console.log(Date.now()-H)}else if(w=="patternFill"){var iu=m.rect(),S=l.Z(iu.$()*4);
bd.pA(V,S,iu,x.add.Patt,g);var L=iu.clone();L.offset(M,Z);e={ab:S,Bc:L}}else if(w=="ChFX"){var S=l.Z(m.P4().length*4);
bd.KH(S,V.Clr.v);var W=V.blur.v.val,hY=m.rect().clone();hY.Uj(W,W);var b8=l.Z(hY.$()),b$=l.Z(hY.$());
l.MD(m.P4(),m.rect(),b$,hY);l.EB.OV(b$,b8,hY,W*.43);var cY=l.QG.pg(V.MpgS.v.Crv.v,256,!0);l.AA(b8,cY);
var bX=l.Z(m.P4().length),b_=l.Z(m.P4().length),gu=m.rect().clone();bd.G4(gu,V,x,0);l.MD(b8,hY,bX,gu);
gu=m.rect().clone();bd.G4(gu,V,x,Math.PI);l.MD(b8,hY,b_,gu);var cw=bX.length;for(var N=0;N<cw;N++)S[4*N+3]=Math.abs(bX[N]-b_[N]);
if(V.Invr.v)for(var N=0;N<cw;N++)S[4*N+3]=255-S[4*N+3];var L=m.rect().clone();L.offset(M,Z);e={ab:S,Bc:L}}else if(w=="OrGl"){var T;
if(V.GlwT.v.BETE=="SfBL")T=m.mk(j,W-j,!0);else T=m.akB(W,v,!0);var O=T.P4,L=T.Cn,g9=O.slice(0);bd.an8(O,V);
var S=l.Z(L.$()*4);if(V.Grad==null){bd.KH(S,V.Clr.v);bd.sl(O,V,!1)}else{bd.sl(O,V,null);var eS={J2:O,Th:255,o0:0,lW:L};
bd.yb(V,S,L,x,eS);var gK=V.Nose.v.val/100,aW=L.m;for(var N=0;N<g9.length;N++){var jf=255,im=g9[N];if(im<32){var hE=(im+g9[N-1]+g9[N+1]+g9[N-aW]+g9[N+aW])*.2-1;
jf=Math.min(255,Math.round(Math.max(0,hE)*8))}O[N]=jf}bd.asI(O,V)}l.Oa(O,S,3);L.offset(M,Z);e={ab:S,Bc:L}}else if(w=="IrGl"){var T;
if(V.GlwT.v.BETE=="SfBL")T=m.mk(j,W-j,!1);else T=m.akB(W,v,!1);var O=T.P4,L=T.Cn;bd.an8(O,V);if(V.glwS.v.IGSr=="SrcC")l.rq(O);
var S=l.Z(L.$()*4);if(V.Grad==null){bd.KH(S,V.Clr.v);bd.sl(O,V,!0)}else{bd.sl(O,V,null);var eS={J2:O,Th:255,o0:0,lW:L};
bd.yb(V,S,L,x,eS);O.fill(255);bd.asI(O,V)}l.Oa(O,S,3);L.offset(M,Z);e={ab:S,Bc:L}}else if(w=="FrFX"){var c6=bd.NZ(V),dn=c6[0],aR=c6[1],L=m.rect().clone(),hK=null,bh=null;
L.Uj(Math.ceil(X),Math.ceil(X));if(aR>0){var T=m.mk(aR,0,!0);bh=T.P4;if(bh.length<L.$()){bh=l.Z(L.$());
l.MD(T.P4,T.Cn,bh,L)}}if(dn>0){var T=m.mk(dn,0,!1);hK=l.Z(L.$());hK.fill(255);l.MD(T.P4,T.Cn,hK,L)}L.offset(M,Z);
var S=l.Z(L.$()*4),f2=V.PntT.v.FrFl;if(f2=="SClr")bd.KH(S,V.Clr.v);if(f2=="GrFl")bd.yb(V,S,L,x,m.agq(dn,aR));
if(f2=="Ptrn")bd.pA(V,S,L,x.add.Patt,g);e={ab:S,Bc:L,TZ:bh,$Q:hK}}Q.type[w].push(e);if(w=="ebbl"){if(e.qJ)Q.all.push(e.qJ,e.Za);
if(e.n4)Q.all.push(e.n4,e.Ir)}else{e.O6=cP.Ye(V.Md.v.BlnM);e._V=V.Opct.v.val/100,Q.all.push(e)}}}return Q};
bd.fW=function(o){var g=1/Math.sqrt(o.x*o.x+o.y*o.y+o.wn*o.wn);o.x*=g;o.y*=g;o.wn*=g};bd.a6t=function(o,g){return{x:o.y*g.wn-o.wn*g.y,y:o.wn*g.x-o.x*g.wn,wn:o.x*g.y-o.y*g.x}};
bd.awP=function(o,g){return o.x*g.x+o.y*g.y+o.wn*g.wn};bd.asI=function(o,g){var C=g.Nose.v.val/100;if(C>0)for(var N=0;
N<o.length;N++){var a=o[N];a=Math.min(510-(1+C)*l.style.Pt(N),a);o[N]=a}};bd.Xn=function(o){var g=bd.wd(),C=o.G6,a=!1;
for(var N=0;N<32;N+=8)if(C[N]+C[N+1]+C[N+4]+C[N+5]!=0||C[N+2]+C[N+3]+C[N+6]+C[N+7]!=1020)a=!0;if(a){C=C.slice(0);
for(var N=0;N<40;N+=4){var x=C[N]/255,K=C[N+1]/255,h=C[N+2]/255,X=C[N+3]/255;C[N]=x-.001;C[N+1]=x==K?1e6:1/(K-x);
C[N+2]=h==X?-1e6:1/(h-X);C[N+3]=X+.001}}var w=o.add.iOpa!=null?o.add.iOpa/255:g.fill,G=o.add.vstk;if(G&&!G.fillEnabled.v&&(!G.strokeEnabled.v||G.strokeStyleLineWidth.v.val==0))w=0;
return{fill:w,YR:a?C:null,Yn:o.add.brst!=null?o.add.brst:g.Yn,amD:o.add.knko!=null?o.add.knko:g.amD,style:!1,FH:!1}};
bd.wd=function(){return{fill:1,YR:null,Yn:[1,1,1],amD:0,style:!1,FH:!1}};bd.aey=function(o,g,C,a,x,K,h,X){if(X==null)X=1;
if(h==null)h=new kp;var w=o.Bd[1].m,G=o.Bd[1].n,R=new kp,d=x<2;if(d)R.translate(-w/2,-G/2);if(x==0){X*=Math.max(C/w,a/G)}else if(x==1){X*=Math.min(C/w,a/G)}else if(x==2){R.scale(1/w,1/G);
R.concat(h);R.scale(C,a)}else if(x==3){X=X}R.scale(X,X);if(d)R.translate(C/2,a/2);R.concat(K);g.Ptrn.v.Idnt.v=o.id;
g.Scl.v.val=Math.round(100*R.Bo());g.Angl.v.val=Math.round(180*Math.atan2(-R.K,R.Bk)/Math.PI);g.Algn.v=!0;
var q=g.phase.v;q.Hrzn.v=Math.round(R.NO);q.Vrtc.v=Math.round(R.Mx)};bd.k0=function(o,g){if(g==null)return null;
var C=o.Idnt.v,a=o.Nm.v;for(var N=0;N<g.length;N++)if(g[N].id==C)return g[N];for(var N=0;N<g.length;
N++)if(g[N].name==a)return g[N];return null};bd.a2E=function(o,g,C){var a=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var N=0;N<a.length;N++){var x=o.v[a[N]].v;for(var K=0;K<x.length;K++)if(x[K].v.Ptrn)g.Gq(bd.k0(x[K].v.Ptrn.v,C))}};
bd.ad4=function(o,g,C){var a=["patternFillMulti","ebblMulti","frameFXMulti"];for(var N=0;N<a.length;
N++){var x=o.v[a[N]].v;for(var K=0;K<x.length;K++)if(x[K].v.Ptrn){var h=x[K].v.Ptrn.v,X=bd.k0(h,C),w=bd.k0(h,g.add.Patt);
if(X==null&&w)C.push(w)}}};bd.pA=function(o,g,C,a,x){var K=bd.k0(o.Ptrn.v,a);if(K!=null&&!C.to()){var h=K.Bd,X=h[0],w=h[1],G=0;
l.WP(h);var R=(o.Scl?o.Scl.v.val:100)/100;while((R<.3||R==.5)&&h[G+2]){R*=w.m/h[G+3].m;G+=2;X=h[G];w=h[G+1]}var d=l.scale.pA(X,w.m,w.n),q=o.phase?o.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},m=o.Angl?o.Angl.v.val:0,M=-C.x+q.Hrzn.v-1,Z=-C.y+q.Vrtc.v-1;
if(o.Algn!=null&&!o.Algn.v){}else{M+=x.x;Z+=x.y}l.scale.iI(d,g,C.m,C.n,R,R,M+1,Z+1,m*Math.PI/180)}};
bd.yb=function(o,g,C,a,x,K){if(K==null)K=C;var h=o.Type?o.Type.v.GrdT:"shapeburst",X=o.Algn&&o.Algn.v?K:new aS(0,0,a.m,a.n),w=o.Angl?l.T.kQ(o,X):[new eN(0,0),new eN(100,0)],G=w[0].x,R=w[0].y,d=w[1].x-G,q=w[1].y-R,m=Math.sqrt(d*d+q*q);
m=1/(2*m*m);var M=[d*m,q*m,-q*m,d*m],Z=o.Rvrs?o.Rvrs.v:!1,Q=o.Dthr?o.Dthr.v:!1;l.T.hd(o.Grad.v,g,C,M,G,R,Z,hf.T.types.indexOf(h),0,0,x,Q)};
bd.arS=function(o,g,C){for(var N=0;N<o.all.length;N++){var a=o.all[N];a.Cq=a.Bc.clone();a.Cq.offset(g,C)}};
bd.au6=function(o,g,C,a,x,K){var h=i.LH?bd.a4E:bd.aaL;bd.arS(g,C.x,C.y);var X=g.type.DrSh;for(var N=0;
N<X.length;N++)if(!X[N].ahT)h(X[N],a,x,K)};bd.agh=function(o,g,C,a,x,K,h,X,w,G){var R=C,d=i.LH?bd.a4E:bd.aaL,q=i.LH?i.j.iB:l.j.GL,m;
m=g.type.DrSh;for(var N=0;N<m.length;N++)if(m[N].ahT)d(m[N],a,x,K);m=g.type.OrGl;for(var N=0;N<m.length;
N++)d(m[N],a,x,K);var M="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var Z=0;Z<M.length;Z++){var m=g.type[M[Z]];
for(var N=0;N<m.length;N++)d(m[N],h,R,K)}var Q=g.type.ebbl[0],p=Q!=null&&Q.apI;m=g.type.FrFX;for(var N=0;
N<m.length;N++){var y=m[N];h4.Tu.MD(X,G,w,G,K);d(y,w,G,K);if(p&&N==m.length-1){if(Q.Ir)d(Q.Ir,w,G,K);
if(Q.n4)d(Q.n4,w,G,K);if(Q.Za)d(Q.Za,w,G,K);if(Q.qJ)d(Q.qJ,w,G,K)}if(y.$Q||y.pX)q(w,G,h,R,i.LH?y.pX:y.$Q,y.Cq,0,K,1);
if(y.TZ||y.zi)q(w,G,a,x,i.LH?y.zi:y.TZ,y.Cq,0,K,1)}if(!p&&Q!=null){if(Q.Ir)d(Q.Ir,a,x,K);if(Q.n4)d(Q.n4,a,x,K);
if(Q.Za)d(Q.Za,h,R,K);if(Q.qJ)d(Q.qJ,h,R,K)}};bd.aaL=function(o,g,C,a){var x=bd.wd();x.fill=o._V;x.style=!0;
l.j.Ly(o.O6,o.ab,o.Cq,g,C,a,1,x)};bd.a4E=function(o,g,C,a){var x=bd.wd();x.fill=o._V;x.style=!0;i.j.MV(o.O6,o.rk,o.Cq,g,C,a,1,x)};
bd.an8=function(o,g){var C=1-g.Inpr.v.val/100,a=1+Math.tan(C*(Math.PI/2)),x=o.length;for(var N=0;N<x;
N++)o[N]=Math.min(255,Math.round(o[N]*a))};bd.sl=function(o,g,C,a){var x=g.blur.v.val,K=Math.round(x*(g.Ckmt.v.val/100));
if(x>K){var h=l.QG.pg(g.TrnS.v.Crv.v,256,a!=!0);l.AA(o,h)}if(C!=null&&g.Nose.v.val>0)l.style.ea(o,g.Nose.v.val/100,C)};
bd.KH=function(o,g,C){if(C==null)C=255;var a=l.T.Xh(g),x=C<<24|a.K<<16|a.B<<8|a.z,K=new Uint32Array(o.buffer);
K.fill(x)};bd.G4=function(o,g,C,a){var x=g.uglg&&g.uglg.v?C.T6():g.lagl.v.val;x=x*Math.PI/180+a;var K=Math.cos(x)*g.Dstn.v.val,h=Math.sin(x)*g.Dstn.v.val;
o.x-=Math.round(K);o.y+=Math.round(h)};bd.eL=function(o){if(o==null)return null;var g=o.frameFXMulti.v;
if(g.length==0)return null;g=g[0].v;var C=JSON.parse(JSON.stringify(hf.ly.default));bd.akI(g,C);return C};
bd.akI=function(o,g){var C=hf.stroke.Jd.indexOf(o.PntT.v.FrFl),a=[hf.nD,hf.mK,hf.ti][C],x=g.strokeStyleContent.v={classID:hf.ly.iJ[C]};
for(var N=0;N<a.length;N++)x[a[N]]=o[a[N]];g.strokeEnabled=o.enab;g.strokeStyleLineWidth=o.Sz;g.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hf.ly.sx[hf.stroke.types.indexOf(o.Styl.v.FStl)];
g.strokeStyleOpacity=o.Opct;g.strokeStyleBlendMode=o.Md;g.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
bd.Av=function(o,g){var C=[];for(var N=0;N<o.length;N++)C.push({t:"UntF",v:{type:"#Nne",val:Math.round(o[N]*g)}});
return C};bd.cW=function(o,g,C,a){this.tU=g.clone();this.af2=g.clone();this.af2.Uj(C,C);if(a){this.tU.Uj(1,1);
this.bl=l.Z(this.tU.$());l.MD(o,g,this.bl,this.tU)}else this.bl=o;this.aS=null;this.Tt=null;this.Lf=null};
bd.cW.prototype.P4=function(){return this.bl};bd.cW.prototype.rect=function(){return this.tU};bd.cW.prototype.r3=function(){return this.af2};
bd.cW.prototype.xt=function(){if(this.aS)return this.aS;this.aS=this.P4().slice(0);l.rq(this.aS);return this.aS};
bd.cW.prototype.yG=function(){if(this.Tt)return this.Tt;this.Tt=new Float64Array(this.rect().$());l.style.Bh(this.xt(),this.Tt,this.rect().m,this.rect().n);
return this.Tt};bd.cW.prototype.HK=function(){if(this.Lf)return this.Lf;var o=this.r3(),g=l.Z(o.$());
l.MD(this.P4(),this.rect(),g,o);this.Lf=new Float64Array(o.$());l.style.Bh(g,this.Lf,o.m,o.n);return this.Lf};
bd.cW.prototype.agq=function(o,g){var C={Th:-g,o0:o,lW:null,J2:null};if(g==0){C.lW=this.rect();C.J2=this.yG();
return C}var a=this.HK().slice(0),x=this.r3();C.lW=x;C.J2=a;for(var N=0;N<a.length;N++)a[N]=-a[N];if(o==0)return C;
var K=this.yG(),h=this.rect();for(var X=0;X<h.n;X++)for(var w=0;w<h.m;w++){var G=X*h.m+w,R=(X+h.y-x.y)*x.m+w+h.x-x.x;
a[R]+=K[G]}return C};bd.cW.prototype.mk=function(o,g,C){var a=Math.ceil(o+g),x={Cn:this.rect().clone(),P4:null};
x.Cn.Uj(a,a);x.P4=l.Z(x.Cn.$());if(o==0&&g==0)l.j5(C?this.P4():this.xt(),x.P4);else{var K=l.Z(x.Cn.$());
l.MD(this.P4(),this.rect(),K,x.Cn);if(!C)l.rq(K);if(o!=0){if(C)l.style.Ru(K,x.Cn,this.HK(),this.r3(),o);
else l.style.Ru(K,x.Cn,this.yG(),this.rect(),o)}if(g!=0)l.EB.OV(K,x.P4,x.Cn,Math.max(1,g*.43));else x.P4=K}return x};
bd.cW.prototype.akB=function(o,g,C){var a=o*(g-.5),x={Cn:this.rect().clone(),P4:null};if(C)x.Cn.Uj(o,o);
x.P4=l.Z(x.Cn.$());var K=x.Cn.m,h=x.Cn.n,X=C?this.HK():this.yG(),w=C?this.r3():this.rect(),G=x.Cn,R=G.Kw(w),K=R.m,h=R.n,d=R.x-G.x,q=R.y-G.y,m=R.x-w.x,M=R.y-w.y,Z=1-g*2;
for(var Q=0;Q<h;Q++)for(var p=0;p<K;p++){var y=X[(Q+M)*w.m+p+m],V=y/o;x.P4[(Q+q)*G.m+p+d]=Math.max(0,Math.min(255,255-255*((V+Z)/(1+Z))))}return x};
bd.as5=function(o,g,C,a){var x=o.Lefx,K=o.blendOptions;if(x){var h=g.add.lmfx;if(C==null)C=h?h.Scl.v.val:100;
g.add.lmfx=JSON.parse(JSON.stringify(x.v));if(g.add.lmfx.Scl==null)g.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
bd.lH(g.add.lmfx,C/g.add.lmfx.Scl.v.val);if(h)g.add.lmfx.Scl.v.val=h.Scl.v.val;var X=x.v.gagl;if(X&&a)a.ar(X.v.val)}else delete g.add.lmfx;
if(K){K=K.v;if(K.Md)g.WN=cP.Ye(K.Md.v.BlnM);if(K.Opct)g.opacity=Math.round(K.Opct.v.val*255/100);if(K.fillOpacity)g.add.iOpa=Math.round(K.fillOpacity.v.val*255/100);
if(K.Blnd){var w=[];for(var N=0;N<10;N++)w.push(0,0,255,255);var G=K.Blnd.v,R="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var N=0;N<G.length;N++){var d=G[N].v,q=8*["Gry","Rd","Grn","Bl"].indexOf(d.Chnl.v[0].v.enum);for(var m=0;
m<8;m++){w[q+m]=d[R[m]].v}}g.G6=w}}};bd.apN=function(o){var g="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),C=[],a=o.G6;
for(var N=0;N<4;N++){var x=N*8;if(a[x]+a[x+1]+a[x+4]+a[x+5]==0&&a[x+2]+a[x+3]+a[x+6]+a[x+7]==4*255)continue;
var K={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][N]}}]}}};
C.push(K);for(var h=0;h<8;h++)K.v[g[h]]={t:"long",v:a[N*8+h]}}var X={classID:"blendOptions"};if(o.WN!="norm")X.Md={t:"enum",v:{BlnM:cP.Cw(o.WN)}};
if(o.opacity!=255)X.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(o.opacity*100/255)}};if(o.add.iOpa!=null)X.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(o.add.iOpa*100/255)}};
if(C.length!=0)X.Blnd={t:"VlLs",v:C};var w={q5:{classID:"null",Idnt:{t:"TEXT",v:aX.PJ()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},ex:{classID:"Styl",blendOptions:{t:"Objc",v:X}}},G=o.add.lmfx;
if(G)w.ex.Lefx={t:"Objc",v:G};return w};function e5(){}e5.Eu=function(o){return JSON.parse(JSON.stringify(o))};
e5.pf=function(o){var g=e5.Eu(e5.ab4),C=g.Brsh.v;if(o!=null){delete C.Hrdn;C.classID="sampledBrush";
C.Nm={t:"TEXT",v:"layer.png"},C.sampledData={t:"TEXT",v:o}}return g};e5.ab4={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
e5.fW={};e5.fW.check=function(o){var g=e5.fW.lq;for(var N=0;N<g.length;N++)if(o[g[N]]==null)o[g[N]]=JSON.parse(e5.fW.A5[g[N]]);
var C=[];for(var N=0;N<g.length;N++)C.push(g[N]);var a=e5.fW.ap5;for(var N=0;N<a.length;N++){var x=a[N][0],K=a[N][1],h=!0;
for(var X=0;X<x.length;X++)h=h&&o[x[X]].v==!0;if(h)for(var X=0;X<K.length;X++){if(o[K[X]]==null)console.log("Missing conditional parameter "+K[X]);
else C.push(K[X])}}for(var w in o)if(C.indexOf(w)==-1)console.log("Extra parameter "+w);o=o.Brsh.v;g=e5.fW.qn.lq;
for(var N=0;N<g.length;N++)if(o[g[N]]==null)o[g[N]]=JSON.parse(e5.fW.qn.A5[g[N]]);C=[];for(var N=0;N<g.length;
N++)if(o[g[N]])C.push(g[N]);else console.log("Missing default parameter "+g[N]);a=e5.fW.qn.alw[o.classID];
for(var N=0;N<a.length;N++)if(o[a[N]]==null&&a[N]!="dtipsGridSize"&&a[N]!="dtipsErodibleTipHeightMap"&&o.alQ!=1)console.log("Missing conditional parameter "+a[N]);
else C.push(a[N]);for(var w in o)if(C.indexOf(w)==-1)console.log("Extra parameter "+w)};e5.fW.aqJ=function(o){var g=e5.fW.ap5;
for(var N=0;N<g.length;N++){var C=g[N][0],a=g[N][1],x=!0;for(var K=0;K<C.length;K++)x=x&&o[C[K]]&&o[C[K]].v==!0;
if(x){for(var K=0;K<a.length;K++)if(o[a[K]]==null){o[a[K]]=JSON.parse(e5.fW.A5[a[K]])}}else for(var K=0;
K<a.length;K++)if(o[a[K]]!=null){delete o[a[K]]}}};e5.fW.qn={};e5.fW.qn.lq="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
e5.fW.qn.A5={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};e5.fW.qn.alw={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
e5.fW.ap5=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
e5.fW.lq="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
e5.fW.A5={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function a8(o,g){this.aog=o;this.BD=g==null?0:g;this.dir=0}a8.prototype.bu=function(o,g){var C=this.aog,a=new eN(o.x-C.x,o.y-C.y),x=new kp;
x.rotate(-this.BD);a=x.nx(a);if(this.dir==0&&!C.$s(o))this.dir=Math.abs(a.x)<Math.abs(a.y)?1:2;if(g.a(c_.sH)){if(this.dir==1)a.x=0;
if(this.dir==2)a.y=0}x.rq();a=x.nx(a);var K=new eN(C.x+a.x,C.y+a.y);return K};a8.prototype.aac=function(o){if(o.a(c_.sH))return this.dir;
return 0};var c9=function(){function o(){this.avy={}}o.atw=function(g,C){var a=g.clone();a.NO-=Math.floor(a.NO);
a.Mx-=Math.floor(a.Mx);var x=new eN(C,0),K=new eN(0,C),h=a.nx(x),X=a.nx(K),w=new eN(a.NO,a.Mx);return[h,X,w]};
o.abc=function(g,C){var a=eN.ig;return a(g[0],C[0])+a(g[1],C[1])+a(g[2],C[2]);return dsum};o.prototype.a06=function(g){var C=this.avy,a=C[g];
if(a==null)a=C[g]={MU:[],QL:0,$:0,a9U:0,am3:0};a.QL=Date.now();while(Object.keys(C).length>3){var x="",K=Date.now();
for(var h in C){var X=C[h].QL;if(X<K){K=X;x=h}}delete C[x]}return a};o.prototype.a33=function(g,C){var a=g.MU,x,K=1e6;
for(var N=0;N<a.length;N++){var h=a[N],X=o.abc(h.Bs,C);if(X<K){x=h;K=X}}return x};o.prototype.a9q=function(g,C){var a=g.MU;
a.push(C);g.$+=C.rect.$();if(a.length>1e3||g.$>100*100*1600){console.log("pruning",g.$,a.length);a.sort(function(K,h){return h.QL-K.QL});
while(a.length>500||g.$>100*100*800){var x=a.pop();g.$-=x.rect.$()}}};return o}();function fn(o,g,C,a,x,K,h,X,w){this.H7=g;
this.ys=C;this.KT=K;this.d2=a;if(a.wz==null)a.wz=[!1,!0];this.TP=null;this.pW=null;this.Pl=0;this.aqi=0;
this.aeu=0;this.T2=0;this.JO=w==null?Math.floor(Math.random()*16777215):w;this.a9x=w==null?Math.floor(Math.random()*16777215):w;
this.m_=new aS;this.R2=new aS;if(X!=null){this.ab=X}else{var G=fn.ab6;if(G.length!=h.$()*4)G=l.Z(h.$()*4);
else G.fill(0);this.ab=fn.ab6=G}this.rect=h.clone();this.aF=[];this.iz=[];this.Qv=null;this.L$=0;this.K=null;
this.aht="";this.FT=null;this.ar4(o,x)}fn.ab6=l.Z(16);fn.prototype.ar4=function(o,g){this.L$=g;this.K=o;
this.aht=JSON.stringify(o)+JSON.stringify(this.d2.Ln);this.FT=fn.a7c(this.K,this.H7,this.ys)};fn.prototype.moveTo=function(o,g,C){C=this.amS(C);
this.Pl=C;var a=new eN(o,g),x=this.K.Brsh.v.Dmtr.v.val;this.TP=a.clone();this.pW=a.clone();this.Qv=a.clone();
this.aF=[o,g];this.iz=[C];var K=this.d2.wz;if(this.d2.dq!=fn.bt){var h=this.K.angleDynamics,X=h?h.v.bVTy.v==6:!1;
this.Pm(X?new aS:this.a9b(a,this.atz()*(K[1]?C:1),this.d2.xW*(K[0]?C*.5:1),new eN(0,0)))}this.T2=a.clone()};
fn.prototype.lineTo=function(o,g,C){C=this.amS(C);var a=this.aF,x=a.length,K=a[x-2],h=a[x-1];if(o==K&&g==h)return;
var X=this.K.Brsh.v.Dmtr.v.val,w=Math.ceil(X)+1,G=new aS(Math.round(K),Math.round(h),0,0);G.Uj(w,w);
var R=new aS(Math.round(o),Math.round(g),0,0);R.Uj(w,w);this.aF.push(o,g);this.iz.push(C);x+=2;if(x>=6)this.Pm(this.alH(x))};
fn.prototype.amS=function(o){if(o==null)o=1;o=Math.max(.05,Math.min(5,o));if(isNaN(o)){alert("Pressure is not a number");
throw"e"}return o};fn.prototype.Pm=function(o){this.m_=o;this.R2=this.R2.ae(o)};fn.prototype.finish=function(){var o=this.aF,g=o.length,C;
if(g==4)C=this.avM(o[g-2],o[g-1],this.iz[(g>>1)-1],!0);if(g>4)C=this.alH(g+2);if(C)this.Pm(C)};fn.prototype.QR=function(){return this.rect.clone()};
fn.prototype.Lh=function(){return this.m_.Kw(this.rect)};fn.prototype.S7=function(){return this.R2.Kw(this.rect)};
fn.prototype.Sv=function(){return this.ab};fn.prototype.alH=function(o){var g=this.aF,C=this.iz,a=g[o-6],x=g[o-5],K=g[o-4],h=g[o-3],X=C[(o>>1)-3],w=C[(o>>1)-2],G=new eN(0,0),R=new eN(0,0);
if(8<=o)G=fn.ajq(g[o-8],g[o-7],a,x,K,h);if(o<=g.length)R=fn.ajq(g[o-2],g[o-1],K,h,a,x);var d=a+G.x,q=x+G.y,m=K+R.x,M=h+R.y,Z=new aS;
for(var N=0;N<10;N++){var Q=(N+1)*.1,p=1-Q,y=p*p*p*a+3*Q*p*p*d+3*Q*Q*p*m+Q*Q*Q*K,V=p*p*p*x+3*Q*p*p*q+3*Q*Q*p*M+Q*Q*Q*h,W=this.avM(y,V,X+Q*(w-X));
Z=Z.ae(W)}return Z};fn.ajq=function(o,g,C,a,x,K){var h=o-C,X=g-a,w=x-C,G=K-a,R=Math.sqrt(h*h+X*X),d=Math.sqrt(w*w+G*G),q=Math.acos((h*w+X*G)/(R*d))/Math.PI,m=.35,M=.1;
q=M+q*(m-M);var Z=x-o,Q=K-g,p=Math.sqrt(Z*Z+Q*Q),y=q*d/p;return new eN(Z*y,Q*y)};fn.prototype.avM=function(o,g,C,a){var x=new aS,K=this.d2.aio;
if(K==null)K=0;if(K==0||a){x=this.agM(o,g,C);return x}var h=this.Qv,X=o-h.x,w=g-h.y,G=Math.sqrt(X*X+w*w);
X/=G;w/=G;if(G>K){var R=h.x+X*(G-K),d=h.y+w*(G-K);x=this.agM(R,d,C);this.Qv.fR(R,d)}return x};fn.prototype.agM=function(o,g,C){var a=new aS,x=new eN(o,g),K=this.K.Brsh.v.Dmtr.v.val,h=this.d2.dq,X=x.fK(this.pW);
X.normalize(1);var w=eN.ig(this.pW,x),G=-this.aqi,R=this.pW.clone(),d=this.d2.wz;while(!0){var q=this.Pl+(C-this.Pl)*(Math.max(0,G)/w),m=this.atz()*(d[1]?q:1),M=this.awR()*(m+this.aeu)/2*this.FT.acf;
if(h==fn.bt)M=1;if(G+M<w){G+=M;var Z=new eN(this.pW.x+X.x*G,this.pW.y+X.y*G),y=1;if(h==fn.bt){var Q=R.clone();
Q.x+=X.x>0?1:-1;var p=R.clone();p.y+=X.y>0?1:-1;if(eN.ig(Q,Z)<eN.ig(p,Z))Z=Q;else Z=p;G=eN.ig(Z,this.pW)}if(this.K.useScatter.v==!0){y=this.K.Cnt.v;
var V=this.K.countDynamics.v.jitter.v.val/100,W=V*(-1+2*this.Q_());y+=Math.round(y*W)}for(var N=0;N<y;
N++){var v=this.a9b(Z,m,this.d2.xW*(d[0]?q*.5:1),X);a=a.ae(v)}R=Z}else break}this.aqi=w-G;this.pW=x;
this.Pl=C;return a};fn.prototype.awR=function(){var o=this.K.Brsh.v,g=o.Spcn.v.val,C=Math.max(5,o.Rndn.v.val);
return C/100*(g/100)};fn.prototype.atz=function(){var o=this.K,g=o.Brsh.v.Dmtr.v.val;if(o.useTipDynamics.v){var C=g*(o.minimumDiameter.v.val/100);
g=C+(g-C)*(1-this.Q_(this.a9x)*(o.szVr.v.jitter.v.val/100))}return g};fn.prototype.a9b=function(o,g,C,a){C=Math.min(1,C);
var x=this.K,K=this.K.Brsh.v,h=K.Dmtr.v.val,X=this.d2,w=X.dq,G=X.asH,R=this.FT.Bd[1],d=new kp;d.translate(-R.m/2,-R.n/2);
d.scale(1/this.FT.ajr,1/this.FT.ajr);d.scale(g/h,g/h);d.scale(1,Math.max(5,K.Rndn.v.val)/100);if(x.usePaintDynamics&&x.usePaintDynamics.v){var q=x.opVr.v.jitter.v.val/100,m=x.prVr.v.jitter.v.val/100;
C*=1-this.Q_()*q;C*=1-this.Q_()*m}if(x.useTipDynamics.v){var M=x.angleDynamics.v,Z=x.minimumRoundness.v.val/100;
d.scale(1,Z+(1-Z)*Math.round(100-this.Q_()*x.roundnessDynamics.v.jitter.v.val)/100);d.rotate((-.5+this.Q_())*4*Math.PI*(M.jitter.v.val/100));
if(M.bVTy.v==6)d.rotate(Math.atan2(-a.y,a.x))}d.rotate(K.Angl.v.val*(Math.PI/180));if(x.useScatter.v){var Q=(-1+2*this.Q_())*x.scatterDynamics.v.jitter.v.val/100;
d.translate(-Q*g*a.y,Q*g*a.x)}d.translate(o.x,o.y);var p=this.a7O(d,o,g),y=p.rect.clone();if(w==null){var V=this._W(x);
l.th(p.hQ,Math.round(V.K*255)<<16|Math.round(V.B*255)<<8|Math.round(V.z*255)<<0,4278190080);if(this.R2.to()&&this.rect.$s(p.rect)&&C==1)this.ab=p.hQ.slice(0);
else{var W=-1,v=2,j=-1,e=2;if(!X.pZ){W=j=0;v=e=1}for(var T=j;T<e;T++)for(var O=W;O<v;O++){var L=p.rect.clone();
L.x+=O*this.rect.m;L.y+=T*this.rect.n;if(L.fp(this.rect)){y=y.ae(L);l.j.akU(p.hQ,L,this.ab,this.rect,L,C)}}}}if(w==fn.bt){var S=new eN(p.rect.x+p.rect.m/2,p.rect.y+p.rect.n/2),$=Math.round(S.x-this.T2.x),H=Math.round(S.y-this.T2.y),f=p.rect.clone();
f.offset(-$,-H);var F=f.Kw(this.rect);F.offset($,H);l.HT(this.ab,this.rect,p.hQ,f);l.j.wY(p.hQ,p.rect,this.ab,this.rect,p.tz,p.rect,C)}if(w==fn.vw||w==fn.B8||w==fn.Ll){var U=p.rect.Kw(this.rect),r;
if(U.$s(p.rect))r=p.tz;else{r=l.Z(U.$());l.MD(p.tz,p.rect,r,U)}var E=l.Z(U.$()*4);l.HT(this.ab,this.rect,E,U);
if(w==fn.B8){var k=E.slice(0),P=l.nw.rs([-1,-1,-1,-1,25,-1,-1,-1,-1]);l.nw.Dv(E,k,U.m,U.n,P,0);l.j5(k,E)}else if(w==fn.Ll){var z=hb.l3("UnsM");
z.Amnt.v.val=15;z.Thsh.v=0;z.Rds.v.val=5;var k=l.Z(E.length);hb.la("UnsM",{buffer:E,rect:U},z,0,0,{buffer:k,rect:U});
l.j5(k,E)}else{hb.im(1,l.EB.Dw,E,U)}l.j.wY(E,U,this.ab,this.rect,r,U,C)}this.aeu=g;this.T2=S;this.a9x++;
return y};fn.prototype._W=function(o){var g=fn.axP(this.L$);if(o.useColorDynamics&&o.useColorDynamics.v){var C=1-this.Q_()*o.clVr.v.jitter.v.val/100,a=fn.axP(this.KT);
g.z=C*g.z+(1-C)*a.z;g.B=C*g.B+(1-C)*a.B;g.K=C*g.K+(1-C)*a.K;var x=(-.5+this.Q_())*o.H.v.val/100,K=(-1+2*this.Q_())*o.Strt.v.val/100,h=(-1+2*this.Q_())*o.Brgh.v.val/100,X=l.br(g.z,g.B,g.K);
X.fB=(X.fB+x+1)%1;X.ZQ=X.ZQ+K;if(X.ZQ<0)X.ZQ=-X.ZQ;if(X.ZQ>1)X.ZQ=1-(X.ZQ-1);X.jr=X.jr+h;if(X.jr<0)X.jr=-X.jr;
if(X.jr>1)X.jr=1-(X.jr-1);g=l.QE(X.fB,X.ZQ,X.jr)}return g};fn.prototype.fW=function(o){return Math.max(0,Math.min(1,o))};
fn.prototype.Q_=function(o){if(o==null){o=this.JO++}return fn.hash(o)};fn.axP=function(o){return{z:(o>>16&255)/255,B:(o>>8&255)/255,K:(o>>0&255)/255}};
fn.hash=function(o){o=o^61^o>>16;o=o+(o<<3);o=o^o>>4;o=o*668265261;o=o^o>>15;return(o&16777215)/16777215};
fn.a8c=new c9;fn.prototype.a7O=function(o,g,C){var a=Math.sqrt(this.FT.Bd[1].$()),x=a*o.Bo(),K=x<10?1:x<50?1.5:x<200?3:8;
if(x<30)K=0;var h=fn.a8c,X=h.a06(this.aht),w=this.d2.Ln;if(w){o=o.clone();o.NO=Math.floor(o.NO);o.Mx=Math.floor(o.Mx)}var G=c9.atw(o,a),R=h.a33(X,G);
if(R&&c9.abc(R.Bs,G)>K)R=null;if(R){R.rect.x=Math.round(R.aad.x+o.NO);R.rect.y=Math.round(R.aad.y+o.Mx);
if(w){R.rect.x=Math.round(g.x-R.rect.m/2);R.rect.y=Math.round(g.y-R.rect.n/2)}R.QL=Date.now()}else{var d=Math.round(this.K.Brsh.v.Dmtr.v.val),q;
if(w&&d<=3){q={buffer:l.Z(d*d*4),rect:new aS(Math.round(g.x-d/2),Math.round(g.y-d/2),d,d)};l.th(q.buffer,4278190080)}else if(o.Bk==1&&o.K==0&&o.U9==0&&o.rX==1){q={buffer:this.FT.Bd[0],rect:this.FT.Bd[1].clone()};
q.rect.x=Math.round(o.NO);q.rect.y=Math.round(o.Mx)}else q=c.V.Sk(this.FT.Bd,o);if(w){for(var N=0;N<q.buffer.length;
N++)q.buffer[N]=q.buffer[N]>127?255:0}if(q==null)q={buffer:l.Z(0),rect:new aS};R={hQ:q.buffer,tz:l.Z(q.rect.$()),rect:q.rect,aad:new eN(q.rect.x-o.NO,q.rect.y-o.Mx),Bs:G,QL:Date.now()};
l.eP(R.hQ,R.tz,3);if(X)h.a9q(X,R)}return R};fn.a7c=function(o,g,C){var a,x,K,h=o.Brsh.v.Dmtr.v.val;if(o.Brsh.v.classID=="computedBrush"){var X=o.Brsh.v.Hrdn.v.val/100;
x=h<100?1.4:1;K=1;a=l.ahh.aet(h,X,x)}if(o.Brsh.v.classID=="sampledBrush"){var w;for(var N=0;N<g.length;
N++)if(g[N].id==o.Brsh.v.sampledData.v)w=g[N];a=w.Bd;var G=a[1];x=Math.max(G.m,G.n)/h;K=Math.min(G.m,G.n)/Math.max(G.m,G.n)}return{ajr:x,acf:K,Bd:a}};
fn.J=null;fn.$A=null;fn.zJ=function(o,g,C,a,x,K){var h=fn.J,X=fn.$A;if(h==null){fn.J=h=document.createElement("canvas");
fn.$A=X=h.getContext("2d")}if(K==null)K=a;if(h.width!=K||h.height!=x){h.width=K;h.height=x}else X.clearRect(0,0,K,x);
X.fillStyle="#000000";X.font=Math.floor(10*c.r())+"px sans-serif";var w=o.Brsh.v.Dmtr.v.val,G=""+w,R=o.useBrushSize;
if(R&&R.v)G="---";var d=X.measureText(G);X.fillText(G,(a-d.width)/2,x-2);var q=a,m=x-10*c.r(),M=Math.min(q,m),Z=o.Brsh.v.classID;
if(Z=="computedBrush"){X.translate(q/2,m/2);X.rotate(-o.Brsh.v.Angl.v.val*Math.PI/180);X.scale(1,.1+.9*o.Brsh.v.Rndn.v.val/100);
var Q=Math.min(.95*M/2,w/2)+.5,p=.9*o.Brsh.v.Hrdn.v.val/100,y=X.createRadialGradient(0,0,0,0,0,Q);y.addColorStop(p,"rgba(0,0,0,1)");
y.addColorStop((.5+p)/1.5,"rgba(0,0,0,.5)");y.addColorStop(1,"rgba(0,0,0,0)");X.fillStyle=y;X.fillRect(-Q,-Q,2*Q,2*Q);
X.setTransform(1,0,0,1,0,0)}else if(Z=="sampledBrush"){var V,O=0;for(var N=0;N<g.length;N++)if(g[N].id==o.Brsh.v.sampledData.v)V=g[N];
var W=V.Bd;l.WP(W);var v=W[0],j=W[1].m,e=W[1].n;while((j>q||e>m)&&W[O+2]){O+=2;v=W[O];j=W[O+1].m;e=W[O+1].n}if(j*e!=0){var L=new ImageData(new Uint8ClampedArray(v.buffer),j,e);
X.putImageData(L,Math.round((q-j)/2),Math.round((m-e)/2))}}else{}return h.toDataURL()};fn.bh=function(o,g,C,a){if(C==0)C=1;
var x=o.Brsh.v,K=x.Dmtr.v.val,h=x.Dmtr.v.val=Math.min(a!=null?Math.round(a*2.6):3e3,K*C),X=x.Hrdn?x.Hrdn.v.val/100:1,w=a!=null?a:Math.round(h*(1+.55*(1-X)))+4,d;
w=Math.max(15,Math.min(w,3e3));var G=new aS(0,0,w,w),R=new fn(o,g,null,{xW:1},16711712,0,G);x.Dmtr.v.val=K;
R.moveTo(G.m/2,G.n/2);var q=R.Sv(),m=R.QR();if(G.$s(m))d=q;else{d=l.Z(G.$()*4);l.HT(q,m,d,G)}return[d,G,h]};
fn.aeX=function(o,g,C,a){var x=g.m,K=x>>>1;for(var N=0;N<4;N++){var h=6-N;o[x*(K-h)+K-1]=a;o[x*(K-h)+K]=C;
o[x*(K-h)+K+1]=a;o[x*(K+h)+K-1]=a;o[x*(K+h)+K]=C;o[x*(K+h)+K+1]=a;o[x*(K-1)+K-h]=a;o[x*K+K-h]=C;o[x*(K+1)+K-h]=a;
o[x*(K-1)+K+h]=a;o[x*K+K+h]=C;o[x*(K+1)+K+h]=a}};fn.$I=function(o,g,C,a){var x=fn.bh(o,g,C),K=x[0].slice(0),h=x[1],X=x[2],w=h.$(),G=l.Z(w);
l.eP(K,G,3);var R=l.Z(w);l._.abT(G,R,h);if(X<3||l.jN(R,0)||a&&X>12){fn.aeX(R,h,255,0)}var d=[3,5,3,4,8,4,3,5,3];
d=l.nw.rs(d);l.nw.JZ(R,G,h.m,h.n,d);l.th(K,4294967295);l.Oa(G,K,3);for(var N=0;N<w;N++)if(R[N]==255){K[N<<2]=K[(N<<2)+1]=K[(N<<2)+2]=0;
K[(N<<2)+3]=255}return{QS:K,Cn:h,kN:new eN(h.m/2,h.n/2)}};fn.bt="0";fn.vw="1";fn.B8="2";fn.Ll="3";var d2={};
d2.Sj=function(o,g){var C=o.e$(),h=0,G;if(C.x==Infinity||C.to())return{ab:l.Z(0),Cn:new aS,Vf:new aS};
var a=o.e$(),x=d2.c6(o,g),K=l.o.Gw(x.w);for(var N=0;N<o.Fn.length;N++){var X=o.Fn[N].uB;if(X.StrokeFlag&&X._LineWidth)h=Math.max(h,Math.ceil(X._LineWidth/2))}K.Uj(h,h);
if(K.to())return{ab:l.Z(0),Cn:new aS,Vf:new aS};var w=l.Z0(K.m,K.n);w.translate(-K.x,-K.y);d2.apb(x,w);
if(o.Fn.length!=0){var R=bv.Vd(g),d=w.getImageData(0,0,K.m,K.n);G=new Uint8Array(d.data.buffer);if(R==0)for(var N=0;
N<G.length;N+=4)G[N+3]=G[N+3]>80?255:0;if(R==3)for(var N=0;N<G.length;N+=4)G[N+3]=Math.min(255,G[N+3]*1.5)}else G=l.Z(K.$()*4);
w.resetTransform();w.beginPath();return{ab:G,Cn:K,Vf:a}};d2.c6=function(o,g){var C=g.D,a=g.cp,x=bv.Vd(g),h=Math.max(C.K*C.K,C.U9*C.U9)<1e-9?C:null;
if(x==3||x==4)h=null;var X={G:[],w:[]};d2.aj6(o,X,h,!0);d2.aj6(o,X,h,!1);X=d2.uq(X,g,o);return X};d2.uq=function(o,g,C){if(o==null)return o;
if(C&&C.v5)l.o.D(o.w,C.v5,o.w);if(C&&!l.X0.L1(g.xr)){var a=bv.QR(g,C);if(!a.to()){if(o.G){o=l.o.DK(o);
var x=Math.min(a.m,a.n)/8;if(x<1)x=1;o=l.o.Ml(o,x)}var K=l.X0.Nw(g.xr,a);l.dD.D(K,o.w,a)}}var h=g.D;
l.o.D(o.w,h,o.w);return o};d2.apb=function(o,g){g.save();g.miterLimit=2;Typr.U.pathToContext({crds:o.w,cmds:o.G},g);
g.restore()};d2.wc=function(o,g,C){var a=bM.ah5(C),x=o.cp,h=x.ResourceDict.FontSet,X=x.ResourceDict.StyleSheetSet[0].StyleSheetData,w=x.EngineDict.StyleRun.RunLengthArray,G=x.EngineDict.StyleRun.RunArray,R=bv.cR(x),d=!0,q={},m=0;
for(var N=0;N<G.length;N++){var M=G[N].StyleSheet.StyleSheetData.Font;if(M==null)M=X.Font;for(var Z=0;
Z<w[N];Z++){var Q=R.charCodeAt(m+Z),p=M+","+(Q>128?Q:-1);if(q[p]==null){q[p]=1;if(g.Zo(h[M].Name,Q)==null)d=!1}}m+=w[N]}return d&&a};
d2.aol=function(o,g,C){for(var a=0;a<o.g.length;a++){var x=o.g[a],K=x.add.TySh;if(K!=null&&!d2.wc(K,g,C))return!1}return!0};
d2.alJ=function(o,g,C){for(var a=0;a<o.g.length;a++){var x=o.g[a],K=x.add.TySh;if(K!=null&&d2.wc(K,g,C)){var h=new bM(K.cp,g),X=d2.Sj(h,K);
x.rect=X.Cn;x.buffer=X.ab;x.L();o.L()}}};d2.aj6=function(o,g,C,a){var x=new kp;for(var N=0;N<o.Yt.length;
N++)d2.ani(o.Fn,o.Yt[N],g,x,C,a)};d2.ani=function(o,g,C,a,x,K){a.translate(g.ep.x,g.ep.y);for(var N=0;
N<g.T$.length;N++){var h={},X=g.T$[N];if(!X.R4)break;var w=a.clone();w.translate(X.ep.x,X.ep.y);if(x){var G=x.Mx+w.Mx*x.rX;
w.Mx=(Math.round(G)-x.Mx)/x.rX}for(var R=X.start;R<X.end;R++)d2.awX(o,g.pt[R],g,h,C,w,K)}a.translate(-g.ep.x,-g.ep.y)};
d2.a9S="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
d2.awX=function(o,g,C,a,x,K,h){K.translate(g.ep.x,g.ep.y);for(var X=g.GC;X<=g.ph;X++){var w=C.Od[X],G=w.Cn.m,R=o[C.as4+w.PS],d=R.uB._FillBackgroundFlag;
if(R.ce=="\n"||h&&!d)continue;var q=R.uB.FontSize/R.c8.head.unitsPerEm,m=K.clone();m.translate(w.ep.x+w.i0*q,w.ep.y-w.yL*q);
var M=new kp;M.scale(q,-q);if(R.hb==1&&d2.a9S.indexOf(R.ce)!=-1)M.concat(new kp(-1,0,0,1,G,0));if(R.uB.FauxItalic)M.concat(new kp(1,0,-Math.tan(.18),1,0,0));
M.translate(0,R.JX);M.scale(R.scale.x,R.scale.y);if(R.uB.BaselineShift!=null)M.translate(0,-R.uB.BaselineShift);
if(w.BD!=0){M.rotate(-w.BD)}M.concat(m);var Z=R.uB._LineWidth?R.uB._LineWidth:1;if(h){x.G.push(d2._W(R.uB._FillBackgroundColor));
var Q=1.005*w.Cn.n/q,p=new aS(-w.i0,-Q*.27,1.03*w.Cn.m/(q*R.scale.x),Q);if(R.uB.StrokeFlag)p.Uj(Z/q,Z/q);
l.o.concat(x,l.o.IW(p),M);x.G.push("X");continue}if(R.uB.FillFlag)x.G.push(d2._W(R.uB.FillColor));if(R.uB.StrokeFlag)x.G.push("O-"+d2._W(R.uB.StrokeColor)+"-"+Z);
if(w.path.G.length!=0&&R.ce!="\t"){if(R.uB.FauxBold){var y=R.uB.FontSize/2048*27*R.scale.x;M.NO+=y;l.o.concat(x,w.path,M);
M.NO-=y+y;l.o.concat(x,w.path,M)}else l.o.concat(x,w.path,M)}if(R.ce!="\n"){if(R.uB.Underline){if(a.nF==null)a.nF=R.c8.post.underlineThickness;
if(a.a9T==null)a.a9T=R.c8.post.underlinePosition;var V=0,W=a.a9T-a.nF/2,v=w.El*1.05,j=-a.nF;l.o.concat(x,{G:["M","L","L","L","Z"],w:[V,W,V+v,W,V+v,W+j,V,W+j]},M)}if(R.uB.Strikethrough){var e=R.c8["OS/2"].yStrikeoutSize,T=R.c8["OS/2"].yStrikeoutPosition,V=0,W=T+e/2,v=w.El*1.05,j=-e;
l.o.concat(x,{G:["M","L","L","L","Z"],w:[V,W,V+v,W,V+v,W+j,V,W+j]},M)}}if(R.uB.FillFlag)x.G.push("X");
if(R.uB.StrokeFlag)x.G.push("OX")}K.translate(-g.ep.x,-g.ep.y)};d2._W=function(o){var g=bv.Xh(o),C=(Math.round(g.z)<<16)+(Math.round(g.B)<<8)+Math.round(g.K);
return"#"+l.eh(C)};function bM(o,g){var C=bv.gH(o),a,x,h=bv.w$(o),X=o._LineOrientation==2?new kp:null,d,m;
if(o.Curve)x=bM.PF(o.Curve);if(C!=0){a=new aS(h[0],h[1],h[2],h[3]);if(X){var w=a.m;a.m=a.n;a.n=w;X.translate(0,-h[2])}if(C==2){a.m=x[5]-x[4];
a.n=9999}}this.Yt=[];this.Fn=[];this.a0=C;this.v5=X;var G=this.awN=bv.cR(o),R=-1,q=-1;for(var N=0;N<G.length;
N++){var M=d,Z=bv.a7o(o,N);if(Z!=R){R=Z;M=d=bv.a3x(o,Z)}var Q=m,Z=bv.awA(o,N);if(Z!=q){q=Z;Q=m=bv.akH(o,Z)}var p={ce:G.charAt(N),uB:M,c8:null,kl:-1,Fz:bv.ahM(o,N),JX:0,scale:new eN(0,0),qi:0,lineHeight:0,hb:0},y=o.ResourceDict.FontSet[M.Font].Name,V=p.c8=g.Zo(y,G.charCodeAt(N));
p.scale.x=M.HorizontalScale==null?1:M.HorizontalScale;p.scale.y=M.VerticalScale==null?1:M.VerticalScale;
var W=V["OS/2"],v=V.hhea;if(M.FontCaps==1&&p.ce!=p.ce.toUpperCase()){var j=W.sxHeight?W.sxHeight/W.sTypoAscender:.76;
p.scale.x*=j;p.scale.y*=j}var e=1/V.head.unitsPerEm*M.FontSize;if(M.FontBaseline==1){var j=o.ResourceDict.SuperscriptSize;
p.scale.x*=j;p.scale.y*=j;p.JX-=o.ResourceDict.SuperscriptPosition*M.FontSize}if(M.FontBaseline==2){var j=o.ResourceDict.SubscriptSize;
p.scale.x*=j;p.scale.y*=j;p.JX+=o.ResourceDict.SubscriptPosition*M.FontSize}p.qi=bM.qi(V,y,M);var T=Q.AutoLeading;
p.lineHeight=M.FontSize*(T==null?1.2:T);if(M.AutoLeading==!1)p.lineHeight=M.Leading;if(p.lineHeight==0)p.lineHeight=.01;
this.Fn.push(p)}var O=this.Yt,L=[0];for(var N=0;N<o.EngineDict.ParagraphRun.RunLengthArray.length;N++){var S=new bM._$(o,g,this.Fn,N,a,L,C==1?x:null);
O.push(S)}if(X){if(C==0)X.translate(0,O[0].pt[0].qi/2);X.rotate(-Math.PI/2)}if(C==2){var $=o.Curve.Points,H=x[0],f=x[1],F=x[2],U=x[3],r=x[4],E=x[5];
for(var N=0;N<O.length;N++)for(var k=0;k<O[N].T$.length;k++)if(!(N==0&&k==0))O[N].T$[k].R4=!1;var S=O[0],P=S.T$[0];
S.ep.fR(0,0);P.ep.fR(0,0);for(var k=P.start;k<P.end;k++){var z=S.pt[k],s=z.ep.x;z.ep.x=0;for(var Y=z.GC;
Y<=z.ph;Y++){var t=S.Od[Y],n=t.Cn.m/2;t.ep.x+=s;var J=bM.a2e(H,(r+t.ep.x+n)%U);t.ep.x=J[0]-n*J[2];t.ep.y=J[1]-n*J[3];
t.BD=Math.atan2(J[3],J[2])}}}}bM.qi=function(o,g,C){var a=o["OS/2"],x=o.hhea,K=0,K=0,h=[];h.push(a&&a.sxHeight&&g.toLowerCase().indexOf("capitals")!=-1?a.sxHeight:0);
h.push(a&&a.sCapHeight?a.sCapHeight:0);h.push(a&&a.sTypoAscender?a.sTypoAscender:0);h.push(x.ascender?x.ascender:0);
for(var X=0;X<h.length;X++)if(h[X]!=0){K=h[X];break}var w=1/o.head.unitsPerEm*C.FontSize;K=K*w;K=Math.max(K,C.FontSize*.75);
return K};bM.prototype.ajS=function(){return!this.ahV(0)};bM.prototype.anY=function(){return this.ahV(1)};
bM.prototype.ahV=function(o){var g=this.Yt,C=!0,a=0;for(var N=0;N<g.length;N++){var x=g[N].T$,K=x.length;
a+=K;for(var h=0;h<K;h++)C&=x[h].R4}return[C,a][o]};bM.PF=function(o,g){if(g==null)g=.25;var C=o.Points,a=C.length,x=a>>>3,K=o.TextOnPathTRange,h=o.Reversed,d=0,q=0;
if(h){var X=C.slice(0);for(var N=0;N<a;N+=2){X[N]=C[a-2-N];X[N+1]=C[a-1-N]}C=X;K=[x-K[1]%x,x-K[0]%x]}var w=[],G=[0],R=[0];
for(var N=0;N<a;N+=8){var m=C[N+6]-C[N+0],M=C[N+7]-C[N+1],Z=Math.round(1/g*Math.sqrt(m*m+M*M));for(var Q=0;
Q<Z;Q++){var p=Q/Z,y=1-p,V=y*y*y*C[N+0]+3*y*y*p*C[N+2]+3*y*p*p*C[N+4]+p*p*p*C[N+6],W=y*y*y*C[N+1]+3*y*y*p*C[N+3]+3*y*p*p*C[N+5]+p*p*p*C[N+7];
w.push(V,W);if(N+Q!=0){var m=V-d,M=W-q;R.push(R[R.length-1]+Math.sqrt(m*m+M*M));G.push((N>>>3)+p)}d=V;
q=W}}var g=R.length,v=R[g-1],j=bM.Qo(K[0]%x,G),e=bM.Qo(K[1]%x,G),T=R[j%g],O=R[e%g];if(T>=O)O+=v;return[w,G,R,v,T,O]};
bM.Qo=function(o,g){var N=0;while(g[N]<o)N++;return N};bM.a2e=function(o,g){var C=0,N=0,a,x,K;while(C<g){a=o[N+2]-o[N];
x=o[N+3]-o[N+1];K=Math.sqrt(a*a+x*x);C+=K;N+=2}return[o[N],o[N+1],a/K,x/K]};bM.prototype.a0S=function(o){return this.Fn[o]};
bM.prototype.asK=function(o){for(var g=0;g<this.Yt.length;g++){var C=this.Yt[g];for(var a=0;a<C.T$.length;
a++){var x=C.T$[a],K=C.pt[x.start].start,h=C.pt[x.end-1].end;if(K<o&&o<h)return[K,h-1]}}return[0,1]};
bM.prototype.a2F=function(o,g){var C=-1,a=this.Yt;if(this.a0==2){var x=1e9,K=0,h=a[0],X=h.T$[0];for(var w=X.start;
w<X.end;w++){var G=h.pt[w];for(var R=G.GC;R<=G.ph;R++){var d=h.Od[R],q=d.Cn.m,m=o.x-d.ep.x,M=o.y-d.ep.y,Z=m*m+M*M;
if(Z<x){x=Z;K=d.PS}}}if(K!=0&&this.awN.codePointAt(K-1)>65535)K--;return K}for(var Q=0;Q<a.length;Q++){var h=a[Q];
for(var p=0;p<h.T$.length;p++){C++;var X=h.T$[p],y=h.T$[p+1];if(y==null&&Q<a.length-1)y=a[Q+1].T$[0];
if(g!=null){if(C!=g)continue}else{if(y!=null&&h.ep.y+X.ep.y<o.y)continue}for(var w=X.start;w<X.end;w++){var G=h.pt[w];
for(var R=G.GC;R<=G.ph;R++){var d=h.Od[R],q=d.Cn.m,V=h.ep.x+X.ep.x+G.ep.x,W=V+d.ep.x,v=V+(R<G.ph?h.Od[R+1].ep.x:d.ep.x+q);
if(o.x<=v||w+1==X.end&&R==G.ph){var j=h.as4+d.PS,e=this.Fn[j],T=e.hb&1;if(e.ce!="\n"&&(T==0&&o.x>W+q/2||T==1&&o.x<W+q/2))j+=this.awN.codePointAt(j)>65535?2:1;
return j}}}}}};bM.prototype.TW=function(o){var g={Cn:new aS,l2:0},C=0;for(var a=0;a<this.Yt.length;a++){var x=this.Yt[a];
for(var K=0;K<x.T$.length;K++){var h=x.T$[K];g.l2=C;C++;for(var X=h.start;X<h.end;X++){var w=x.pt[X];
for(var G=w.start;G<w.end;G++){if(G==o){var R=this.Fn[G],d=R.kl,q=x.Od[d].PS,m=1;while(x.Od[d]!=null&&x.Od[d].PS==q){var M=x.Od[d],Z=x.ep.x+h.ep.x+w.ep.x+M.ep.x,Q=x.ep.y+h.ep.y+w.ep.y+M.ep.y;
g.Cn=g.Cn.ae(new aS(Z,Q-R.lineHeight,M.Cn.m,R.lineHeight));g.BD=M.BD;d+=m}return g}}}}}};bM.prototype.e$=function(){var o=Infinity,g=Infinity,C=-Infinity,a=-Infinity;
for(var N=0;N<this.Yt.length;N++){var x=this.Yt[N];for(var K=0;K<x.T$.length;K++){var h=x.T$[K];if(!h.R4)break;
for(var X=h.start;X<h.end;X++){var w=x.pt[X];for(var G=w.GC;G<=w.ph;G++){var R=x.Od[G],d=R.Cn,q=x.ep.x+h.ep.x+w.ep.x+R.ep.x,m=x.ep.y+h.ep.y+w.ep.y+R.ep.y;
o=Math.min(o,q+d.x);g=Math.min(g,m+d.y);C=Math.max(C,q+d.x+d.m);a=Math.max(a,m+d.y+d.n)}}}}return new aS(o,g,C-o,a-g)};
bM.hP=function(o){return 19968<=o&&o<=40959||12288<=o&&o<=12543};bM.a87=function(o,g,C,a,x,h,X){var w=[h],G=0;
for(var N=h;N<X;N++){if(C[N]==null)console.log(N,h,X,C);var R=C[N].ce,d=R.charCodeAt(0);if(d==32||d==9){w.push(G,N,1,N+1);
G=0}else if(d==3851){w.push(G+1,N+1);G=0}else if(bM.hP(d)){w.push(G,N);G=1}else if(N!=h&&C[N].hb!=C[N-1].hb){w.push(G,N);
G=1}else G++}w.push(G);var q=[];for(var N=0;N<w.length;N+=2){var m=w[N],M=w[N+1];if(M==0)continue;q.push(new bM.av$(o,g,C,a,x,m,M))}return q};
bM.asb=function(o,g,C,a,x,K,h){var X=[0,g?g.m:1e9],w=[];if(a){var G=o[K].qi,R=x+(x==0?G:o[K].lineHeight),d=R-G*.9,q=l.o.XL(a[0],d),m=q.length,M=l.o.XL(a[0],R),Z=M.length;
if(m!=0&&Z!=0){var Q=0,p=0;X=[];while(Q<m&&p<Z){var y=Math.max(q[Q],M[p]),V=q[Q+1],W=M[p+1],v=Math.min(V,W);
if(y<v)X.push(y,v);if(V<W)Q+=2;else p+=2}}}for(var j=0;j<X.length;j+=2){var e=0,T=K,O=g?X[j+1]-X[j]-C.StartIndent-C.EndIndent-(K==0?C.FirstLineIndent:0):Infinity;
while(K!=o.length){var L=o[K],S=e==0||(L.tJ||L.xz)||e+L.Cn.m<O;if(!S)break;e+=L.Cn.m;K++}w.push(K-T)}h[0]=w;
h[1]=X;h[2]=K};bM.aoz=function(o,g){var C=o.length,a=new Uint32Array(C),x=new Uint8Array(C),K=0;for(var N=0;
N<C;N++){x[N]=0;var h=o.charCodeAt(N);a[N]=h;if(h>K)K=h}if(K>1424)x=bM.avQ(a,g);return x};bM.aw6=function(o){return o=="\xDF"?o:o.toUpperCase()};
bM._$=function(o,g,C,a,x,h,X){this.pt=[];this.T$=[];this.ep=new eN(0,0);this.Od=null;this.pt=null;this.uB=bv.akH(o,a);
var w=this.uB,q=0,Z="",W=0,v=1,t=0;if(a!=0){var G=w.SpaceBefore;if(G!=null)h[0]+=G}var R=o.EngineDict.ParagraphRun.RunLengthArray,d=R[a];
for(var N=0;N<a;N++)q+=R[N];var m=w._Direction?w._Direction:0;this.as4=q;var M=bv.cR(o).slice(q,q+d);
for(var Q=0;Q<M.length;Q++){var p=M.charAt(Q);Z+=C[q+Q].uB.FontCaps==0?p:bM.aw6(p)}M=Z;var y=bM.aoz(M,m),V=[],j=y[N]&1,e=C[q].c8;
C[q].hb=y[0];for(var N=1;N<M.length;N++){var p=C[q+N],T=y[N];p.hb=T;if(T!=j||p.c8!=e){V.push(W,v);W=N;
v=1;j=T;e=p.c8}else v++}V.push(W,v);var O=this.Od=[];for(var N=0;N<V.length;N+=2){var L=V[N],S=V[N+1],$=(C[q+L].hb&1)==0,H=M.slice(L,L+S),f=Typr.U.shapeHB(C[q+L].c8,H,$),F=[],E=0;
for(var Q=0;Q<f.length;Q++){var U=f[Q];F.push({B:U.g,PS:U.cl,El:U.ax,_i:U.ay,i0:U.dx,yL:U.dy})}f=F;var r=f.slice(0);
if(!$)r.reverse();for(var Q=0;Q<H.length;Q++){while(E+1<r.length&&r[E+1].PS<=Q){E++}while(E>0&&r[E-1].PS==Q)E--;
C[q+L+Q].kl=O.length+($?E:r.length-E-1)}for(var Q=0;Q<f.length;Q++){O.push(f[Q]);f[Q].PS+=L;var p=C[q+f[Q].PS];
if(p.Fz!=-1){f[Q].B=p.Fz;var k=p.c8.hmtx;if(k){var P=Object.keys(k)[0];f[Q].El=k[P][p.Fz]}}if(p.ce=="\n")f[Q].El=0;
if(p.ce=="\t")f[Q].El=p.c8.head.unitsPerEm*36/p.uB.FontSize}}var z=bv.bw(w),s=this.pt=bM.a87(o,g,C,q,O,q,q+d),Y=this.T$,n=-1,Z=[null,null,0];
while(t<s.length){bM.asb(s,x,w,X,h[0],t,Z);n++;var J={start:t,end:0,Cn:new aS,ep:new eN(0,0),R4:!0},jE=0,ff=0;
Y.push(J);J.end=Z[2];var I=J.end==s.length;function fp(r,L,gI){var fE=gI-L>>>1;for(var N=0;N<fE;N++){var js=r[L+N];
r[L+N]=r[gI-1-N];r[gI-1-N]=js}}for(var cH=1;cH<5;cH++){var b=-1;for(var N=J.start;N<J.end;N++){var T=C[s[N].start].hb;
if(b==-1&&T>=cH)b=N;else if(b!=-1&&T<cH){fp(s,b,N);b=-1}}var jL=J.end;if(m==0&&s[jL-1].tJ)jL--;if(b!=-1)fp(s,b,jL)}var aq=Z[0],cJ=Z[1],b=t,aB=t;
for(var au=0;au<aq.length;au+=2){var ea=x?cJ[au+1]-cJ[au]-w.StartIndent-w.EndIndent-(t==0?w.FirstLineIndent:0):Infinity,ax=0;
b=aB;aB+=aq[au];var f1=this.a88(b,aB,s,m,x!=null);if(x){if(z==1||I&&z==4)ax=f1[1]+(ea-f1[0]);if(z==2||I&&z==5)ax=f1[1]+(ea-f1[0])/2;
if(aB-b==1&&s[b].Cn.m>ea)ax=0;if(n==0)ax+=w.FirstLineIndent;ax+=w.StartIndent}else{if(z==0)ax=w.StartIndent+w.FirstLineIndent;
if(z==1)ax=-f1[0]-w.EndIndent;if(z==2)ax=-f1[0]/2}ax+=cJ[au];if(x&&z>2&&(z==6||!I))this.aoI(b,aB,s,ea,m,ax);
else{var fk=ax;for(var N=b;N<aB;N++){var hF=s[N],fm=hF.Cn.m;hF.ep.x=fk;if(hF.zv=="\t")fm=Math.ceil((fk+4)/36)*36-fk;
fk+=fm}}}t=J.end;for(var N=J.start;N<J.end;N++){var d5=s[N].Cn.clone();d5.Ct(s[N].ep);J.Cn=J.Cn.ae(d5);
jE=Math.max(jE,s[N].qi);ff=Math.max(ff,s[N].lineHeight)}J.ep.y=n==0?0:Y[n-1].ep.y+ff;if(n==0){if(a==0&&x)h[0]+=jE;
if(a!=0)h[0]+=ff;this.ep.y=h[0]}else h[0]+=ff;if(x)J.R4=this.ep.y+J.ep.y<x.y+x.n}var eF=w.SpaceAfter;
if(eF!=null)h[0]+=eF};bM._$.prototype.a88=function(o,g,C,a,x){var K=0,h=0;for(var N=o;N<g;N++)K+=C[N].Cn.m;
if(x){if(a==0)for(var N=g-1;N>=o;N--)if(C[N].tJ||C[N].xz)K-=C[N].Cn.m;else break;if(a==1)for(var N=o;
N<g;N++)if(C[N].tJ||C[N].xz){var X=C[N].Cn.m;K-=X;h-=X}else break}return[K,h]};bM._$.prototype.aoI=function(o,g,C,a,x,K){var h=0,X=0,w=0,G=0;
for(var N=o;N<g;N++)if(C[N].tJ)w++;else{h+=C[N].Cn.m;X++}if(x==0)for(var N=g-1;N>=o;N--)if(C[N].tJ||C[N].xz){if(C[N].tJ){w--}}else break;
if(x==1)for(var N=o;N<g;N++)if(C[N].tJ||C[N].xz){if(C[N].tJ){w--;G++}}else break;if(X<=1||w==0){if(X==1)C[o].ep.x=K;
return}var R=(a-h)/w,d=-G*R;for(var N=o;N<g;N++){if(C[N].tJ)this.Od[C[N].GC].Cn.m=C[N].Cn.m=R;C[N].ep.x=K+d;
d+=C[N].Cn.m}};bM.av$=function(o,g,C,a,x,h,X){this.zv="";for(var N=0;N<X;N++)this.zv+=C[h+N].ce;this.tJ=X==1&&(C[h].ce==" "||C[h].ce=="\t");
this.xz=X==1&&C[h].ce=="\n";this.start=h;this.end=h+X;this.Cn=new aS;this.ep=new eN(0,0);this.qi=0;this.lineHeight=0;
var w=0,G=0;if(X==0){this.lineHeight=C[h].lineHeight;this.qi=C[h].qi;this.Cn=new aS(0,-C[h].lineHeight,0,C[h].lineHeight)}var R=C[h].kl,d=C[h+X-1].kl;
if(d<R){var q=R;R=d;d=q}while(d+1<x.length&&x[d].PS==x[d+1].PS){d++}this.GC=R;this.ph=d;for(var m=R;
m<=d;m++){var M=x[m],Z=C[a+M.PS],Q=o._LineOrientation==2&&(Z.uB.BaselineDirection!=2||bM.hP(Z.ce.charCodeAt(0))),p=Typr.U.glyphToPath(Z.c8,M.B),j=0;
M.path={G:p.cmds,w:p.crds};var y=Z.uB.FontSize,V=1/Z.c8.head.unitsPerEm*y;if(!Z.uB.AutoKerning)w+=Z.uB.Kerning*2*V*Z.scale.x;
M.ep=new eN(w,0);M.BD=0;if(Q&&M.path.w.length>0){M.BD=-Math.PI/2;M.ep.x+=y*.83;M.ep.y=-y*.3+M.El*V/2;
M.El=y/V}var W=M.El*V*Z.scale.x;M.Cn=new aS(0,-Z.lineHeight,W,Z.lineHeight);var v=M.Cn.clone();v.Ct(M.ep);
if(Z.uB.Tracking!=null)j=Z.uB.Tracking*.001*y;if(Z.uB.FauxBold==!0)j+=.027*y;w+=W+j;if(X==1&&Z.ce==" ")v.m+=2*j;
else if(X==1&&Z.ce!=null&&bM.hP(Z.ce.charCodeAt(0)))v.m+=j;this.Cn=this.Cn.ae(v);this.qi=Math.max(this.qi,Z.qi);
this.lineHeight=Math.max(this.lineHeight,Z.lineHeight)}};bM.Vl=0;bM.ah5=function(o){if(bM.Vl==2)return!0;
if(bM.Vl==1)return!1;bM.Vl=1;function g(){fetch("code/ext/fribidi.wasm").then(function(C){return C.arrayBuffer()}).then(function(C){return WebAssembly.instantiate(C)}).then(function(C){var a=C.instance.exports,x=a.memory,K=16,h=256,X=1,w=K|h,G=K|h|X;
bM.avQ=function(d,q){var m=d.length,M=m*4+4+m*4+m*4+m;bl.iR(a,M+m+1e7);var Z=new Uint8Array(x.buffer),Q=new Uint32Array(x.buffer),p=a.calloc(M,1),y=p+m*4,V=y+4,W=V+m*4,v=W+m*4;
Q.set(d,p>>>2);Q[y>>>2]=q==0?w:G;a.fribidi_get_bidi_types(p,m,V);a.fribidi_get_bracket_types(p,m,V,W);
a.fribidi_get_par_embedding_levels_ex(V,W,m,y,v);var j=Z.slice(v,v+m);a.free(p);return j};bM.Vl=2;var R=new jO(D.E.X,!0);
R.data={C:D.t.sM,GJ:"add",eA:e1.ye,dt:null};o.c(R)})}Typr.U.initHB("code/ext/hb.wasm",g);return!1};function bv(){}bv.Eu=function(o){return JSON.parse(JSON.stringify(o))};
bv.w7=function(o,g){for(var C in g)o[C]=g[C]};bv.hT=function(o,g,C,a){var x=bv.asQ();if(C)bv.dG(x,0,0,C);
var h=new kp;if(a!=null)h.rotate(a);h.translate(Math.round(o),Math.round(g));var X={D:h,cp:x};X.oz=bv.ad7();
X.xr=l.X0.Z();X.Vf=new aS;return X};bv.ala=function(o){var g=["CharacterDirection",0];for(var N=0;N<g.length;
N+=2){if(o[g[N]]!=null&&o[g[N]]!=g[N+1]){throw"e";console.log(g[N],o[g[N]])}}if(o instanceof Array)for(var N=0;
N<o.length;N++)bv.ala(o[N]);else if(o instanceof Object)for(var C in o)bv.ala(o[C])};bv.bw=function(o,g){if(g==null)g=o.Justification;
var C=o._Direction?o._Direction:0;if(C==1){if(g==0||g==3)g++;else if(g==1||g==4)g--}return g};bv.Ys=function(o){if(o.add==null)return;
var g=o.cp,C=g.Curve,a=o.add.vmsk,x=a.i,h=l.o.rA(x,!0).w,X=o.D.clone();X.rq();l.o.D(h,X,h);var w=h.slice(0,8);
for(var G=8;G<h.length;G+=6)w.push(h[G-2],h[G-1],h[G],h[G+1],h[G+2],h[G+3],h[G+4],h[G+5]);C.Points=w;
C.TextOnPathTRange=a.tv.slice(0);C.Reversed=a.e0;if(bv.gH(g)==1){var C=bM.PF(g.Curve),R=l.o.TO(C[0]);
bv.yy(g,[0,0,R.m,R.n].map(Math.round));for(var N=0;N<w.length;N+=2){w[N]-=R.x;w[N+1]-=R.y}var d=new kp(1,0,0,1,R.x,R.y);
d.concat(o.D);o.D=d}};bv.hf=function(o){if(o.add==null)return;var g=o.add.vmsk,C=o.cp.Curve,a=C.Points,x={G:["M"],w:[a[0],a[1]]};
for(var N=0;N<a.length;N+=8){x.G.push("C");x.w.push(a[N+2],a[N+3],a[N+4],a[N+5],a[N+6],a[N+7])}l.o.D(x.w,o.D,x.w);
var K=l.o.RS(x,!0);g.i=K;g.e0=C.Reversed;g.tv=C.TextOnPathTRange.slice(0);o.add.vogk=A.fb(K)};bv.Xh=function(o){var g={z:0,B:0,K:0};
if(o){var C=o.Values;if(o.Type==1)g={z:C[1]*255,B:C[2]*255,K:C[3]*255};else if(o.Type==2){var a={classID:"CMYC",Cyn:{t:"doub",v:C[1]*100},Mgnt:{t:"doub",v:C[2]*100},Ylw:{t:"doub",v:C[3]*100},Blck:{t:"doub",v:C[4]*100}};
g=l.T.Xh(a)}else console.log("Unknown color type")}return g};bv.a1n=function(o){for(var N=0;N<o.length;
N++){var g=o[N].StyleSheet.StyleSheetData,C=g.FillColor;if(C&&C.Type==2){var a=bv.Xh(C);C.Type=1;C.Values=[1,a.z/255,a.B/255,a.K/255]}}};
bv.QR=function(o,g){var C;if(bv.gH(o.cp)==1){var a=bv.w$(o.cp);C=new aS(0,0,a[2]-a[0],a[3]-a[1])}else{C=g.e$();
if(g.v5){var x=g.v5.clone(),K=l.o.IW(C);l.o.D(K.w,x,K.w);C=l.o.TO(K.w)}}return C};bv._t=function(o){var g=o[0];
for(var N=0;N<o.length;N++)g=bv.ad9(g,o[N]);return g};bv.ad9=function(o,g){var C={};for(var a in o)if(JSON.stringify(o[a])==JSON.stringify(g[a]))C[a]=o[a];
return C};bv.s2=function(o,g){var C=o.pv,a=-1;for(var N=0;N<C.length;N++)if(C[N].Name==g)a=N;if(a==-1){a=C.length;
C.push({FontType:1,Name:g,Script:0,Synthetic:0})}o.Fn.Font=a};bv.cR=function(o){return o.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
bv.Iz=function(o,g){o.EngineDict.Editor.Text=g.replace(/\n/g,"\r")};bv.gH=function(o){return o.Curve&&o.Curve.TextOnPathTRange[0]>=0?2:o.EngineDict.Rendered.Shapes.Children[0].ShapeType};
bv.lr=function(o,g){var C=o.EngineDict.Rendered.Shapes.Children[0];C.ShapeType=g;var a=C.Cookie.Photoshop;
a.ShapeType=g;a.Base.ShapeType=g;if(g==0){delete a.BoxBounds;a.PointBase=[0,0]}if(g==1){delete a.PointBase;
a.BoxBounds=[0,0,1,1]}};bv.w$=function(o){return o.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
bv.yy=function(o,g){o.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=g};bv.ahM=function(o,g){var C=o.EngineDict.AlternateGlyphRun;
if(C==null)return-1;var a=bv.Iu(C.RunLengthArray,g).ve,x=C.RunArray[a].Glyph;return x==null?-1:x};bv.asO=function(o,g,C){var a=o.EngineDict.AlternateGlyphRun;
if(a==null){a=o.EngineDict.AlternateGlyphRun=bv.aoO();a.RunArray.push({});a.RunLengthArray.push(bv.cR(o).length)}var x=bv.Iu(a.RunLengthArray,g),h=x.ve,X=g-x.Nz,w=a.RunArray[h],G=JSON.stringify(w),R=a.RunLengthArray[h];
if(X!=0){a.RunArray.splice(h,0,JSON.parse(G));a.RunLengthArray.splice(h,0,X);a.RunLengthArray[h+1]-=X;
h++;R-=X;X=0}if(R!=1){a.RunArray.splice(h+1,0,JSON.parse(G));a.RunLengthArray.splice(h+1,0,R-1);a.RunLengthArray[h]=1;
R=1}w.Glyph=C};bv.a7o=function(o,g){var C=o.EngineDict.StyleRun.RunLengthArray;return bv.Iu(C,g).ve};
bv.a3x=function(o,g){var C=o.ResourceDict.StyleSheetSet[0].StyleSheetData,a={};for(var x in C)a[x]=C[x];
var h=o.EngineDict.StyleRun.RunArray[g].StyleSheet.StyleSheetData;bv.w7(a,h);return a};bv.awA=function(o,g){var C=o.EngineDict.ParagraphRun.RunLengthArray;
return bv.Iu(C,g).ve};bv.akH=function(o,g){var C=o.ResourceDict.ParagraphSheetSet[0].Properties,a={};
for(var x in C)a[x]=C[x];var h=o.EngineDict.ParagraphRun.RunArray[g].ParagraphSheet.Properties;bv.w7(a,h);
var X=["StartIndent","EndIndent","FirstLineIndent"];for(var N=0;N<3;N++)if(a[X[N]]==null)a[X[N]]=0;return a};
bv.l6=function(o,g,C){if(C=="")return;var a=bv.cR(o);bv.Iz(o,a.substring(0,g)+C+a.substring(g,a.length));
var x=o.EngineDict.StyleRun,h=x.RunLengthArray,X=bv.Iu(h,g-1);h[X.ve]+=C.length;var w=o.EngineDict.AlternateGlyphRun;
if(w){var h=w.RunLengthArray,X=bv.Iu(h,g-1);h[X.ve]+=C.length}var G=o.EngineDict.ParagraphRun,h=G.RunLengthArray,R=bv.Iu(h,g),d=C.split("\n");
if(d.length==1){h[R.ve]+=C.length;return}h.splice(R.ve+1,0,h[R.ve]-(g-R.Nz));G.RunArray.splice(R.ve+1,0,bv.Eu(G.RunArray[R.ve]));
h[R.ve]-=h[R.ve+1];h[R.ve]+=d[0].length+1;for(var N=1;N<d.length-1;N++){G.RunArray.splice(R.ve+N,0,bv.Eu(G.RunArray[R.ve+N-1]));
G.RunLengthArray.splice(R.ve+N,0,d[N].length+1)}h[R.ve+d.length-1]+=d[d.length-1].length};bv._L=function(o,g,C){var a=bv.cR(o);
bv.Iz(o,a.substring(0,g)+a.substring(C,a.length));bv.Br(o.EngineDict.ParagraphRun,g,C,!0);bv.Br(o.EngineDict.StyleRun,g,C,!1);
var x=o.EngineDict.AlternateGlyphRun;if(x)bv.Br(x,g,C,!1)};bv.Br=function(o,g,C,a){var x=o.RunLengthArray,K=bv.Iu(x,g),h=bv.Iu(x,C),X=[];
for(var N=0;N<x.length;N++)for(var w=0;w<x[N];w++)X.push(N);X.splice(g,C-g);var G=[];for(var N=0;N<x.length;
N++)G.push(0);for(var N=0;N<X.length;N++)G[X[N]]++;for(var N=0;N<x.length;N++){if(G[N]==0){G.splice(N,1);
x.splice(N,1);o.RunArray.splice(N,1);N--}else if(G[N]<x[N])x[N]=G[N]}if(a&&K.ve!=h.ve&&K.Nz!=g){x[K.ve]+=x[K.ve+1];
x.splice(K.ve+1,1);o.RunArray.splice(K.ve+1,1)}};bv.dG=function(o,g,C,a){var x=o.EngineDict.Editor.Text.length;
if(C==x-2)C++;if(a.Fn.Font!=null)o.ResourceDict.FontSet=a.pv.slice(0);if(g<=C)bv.a34(o.EngineDict.StyleRun,a.Fn,g,C,!0);
bv.a34(o.EngineDict.ParagraphRun,a.Yt,g,C,!1)};bv.SX=function(o,g,C){var a={pv:o.ResourceDict.FontSet.slice(0),Fn:[],Yt:[]},x=o.EngineDict.StyleRun.RunLengthArray,h=bv.Iu(x,g).ve,X=bv.Iu(x,C).ve;
for(var N=h;N<=X;N++){var w=bv.Eu(o.ResourceDict.StyleSheetSet[0].StyleSheetData),G=o.EngineDict.StyleRun.RunArray;
if(G.length==0)continue;var R=G[N].StyleSheet.StyleSheetData;bv.w7(w,R);a.Fn.push(w)}var d=o.EngineDict.ParagraphRun.RunLengthArray,q=bv.Iu(d,g).ve,m=bv.Iu(d,C).ve;
for(var N=q;N<=m;N++){var M=o.EngineDict.ParagraphRun.RunArray;if(M.length==0)continue;a.Yt.push(bv.Eu(M[N].ParagraphSheet.Properties))}a.Fn=a.Fn.length==0?{}:bv._t(a.Fn);
a.Yt=a.Yt.length==0?{}:bv._t(a.Yt);return a};bv.a34=function(o,g,C,a,x){var K=o.RunLengthArray;if(x){var h=bv.Iu(K,C);
if(h.Nz!=C){var X=K[h.ve];K.splice(h.ve,0,C-h.Nz);K[h.ve+1]=X-K[h.ve];o.RunArray.splice(h.ve+1,0,bv.Eu(o.RunArray[h.ve]))}var w=bv.Iu(K,a);
if(w.Nz+K[w.ve]-1!=a){var X=K[w.ve];K.splice(w.ve,0,a-w.Nz+1);K[w.ve+1]=X-K[w.ve];o.RunArray.splice(w.ve+1,0,bv.Eu(o.RunArray[w.ve]))}}var h=bv.Iu(K,C),w=bv.Iu(K,a);
if(x)for(var N=h.ve;N<=w.ve;N++)bv.w7(o.RunArray[N].StyleSheet.StyleSheetData,g);else for(var N=h.ve;
N<=w.ve;N++)bv.w7(o.RunArray[N].ParagraphSheet.Properties,g)};bv.atD=function(o,g,C){var a=o.EngineDict.StyleRun.RunLengthArray,x=[],h=0;
for(var N=0;N<a.length;N++){var X=a[N];for(var w=0;w<X;w++)if(g<=h+w&&h+w<C)x.push(N);h+=X}var G=x[0],R=[];
for(var N=0;N<x.length;N++){var d=x[N]-G;if(d==R.length)R.push(0);R[d]++}return R};bv.a25=function(o){var g=o.EngineDict.StyleRun,C=g.RunArray,a=g.RunLengthArray;
for(var N=0;N<a.length-1;N++){var x=C[N].StyleSheet.StyleSheetData,h=C[N+1].StyleSheet.StyleSheetData;
if(JSON.stringify(x)==JSON.stringify(h)){C.splice(N+1,1);a[N]+=a[N+1];a.splice(N+1,1);N--}}};bv.Vd=function(o){var g=o.oz.AntA.v.Annt;
g=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(g);if(g==-1)g=1;return g};bv.qO=function(o,g){o.oz.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][g]};
bv.U$=function(o,g){var C,a;C=["FontSize","Leading","BaselineShift"];a=o.Fn;for(var N=0;N<C.length;N++)if(a[C[N]]!=null)a[C[N]]*=g;
C=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];a=o.Yt;for(var N=0;N<C.length;
N++)if(a[C[N]]!=null)a[C[N]]*=g};bv.a1M=function(){return bv.SX(bv.aeI,0,0)};bv.ad7=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
bv.Iu=function(o,g){var C=0,N=0;while(C+o[N]<=g){C+=o[N];N++}return{ve:N,Nz:C}};bv.asQ=function(){var o=bv.Eu(this.aeI);
return o};bv.aru=function(o,g){var C=g.Yt};bv.a9E=function(o,g){var C=g.Fn,a;a=o.Undl;if(a&&a.v.Undl=="underlineOnLeftInVertical")C.Underline=!0;
a=o.syntheticItalic;if(a)C.FauxItalic=a.v};bv.apE={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
bv.ahd={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
bv.aoO=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};bv.aeI={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(bv.apE))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(bv.apE))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(bv.ahd))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var jl={};jl.auR=function(o){var g=jl.ace(o._0,o._1);jl.abe(g,o._0);return g};jl.a2a=function(o,g,C){var a={};
a._98={_0:"i7"};a._0=jl.a1J(o,g,C?C._0:null);a._1=jl.a7h(o,g,a._0,C?C._1:null);return a};jl.a1J=function(o,g,C){var a={};
a._1=jl.axB(o,C?C._1:null);a._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};a._3=JSON.parse(JSON.stringify(jl.aw8));
a._4=JSON.parse(JSON.stringify(jl.a2N));a._5=jl.axi(o,a._1._0,C?C._5:null);a._6=jl.adB(o,C?C._6:null);
a._8=jl.a3A(o,g,C?C._8:null);a._9=jl.aaG;return a};jl.abe=function(o,g){jl.a6D(o,g._5,g._1._0)};jl.axB=function(o,g){var C=[],a=[];
for(var N=0;N<o.length;N++){var x=o[N].ResourceDict.FontSet;for(var K=0;K<x.length;K++){var h=x[K];if(a.indexOf(h.Name)!=-1)continue;
C.push(h);a.push(h.Name)}}var X={_0:[]};for(var N=0;N<C.length;N++){var w=C[N],G={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+w.Name,_1:"i"+w.Script,_2:"i"+w.FontType}}};
if(w.Script==0)delete G._0._0._1;X._0.push(G)}return X};jl.axi=function(o,g,C){var a={_0:[],_1:[]},x={_0:JSON.parse(JSON.stringify(jl.aeF))};
jl.acm(x._0,o[0].ResourceDict.StyleSheetSet[0],g,o[0].ResourceDict.FontSet);a._0.push(x);a._1.push({_0:"i0"});
a._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});a._1.push({_0:"i1"});return a};jl.a6D=function(o,g,C){var a=g._0[0];
for(var N=0;N<o.length;N++)jl.auE(a._0,o[N].ResourceDict.StyleSheetSet[0],C,o[N].ResourceDict.FontSet)};
jl.adB=function(o,g){var C={_0:[],_1:[]},a={_0:JSON.parse(JSON.stringify(jl.Aa))};jl.S0(a._0,o[0].ResourceDict.ParagraphSheetSet[0]);
C._0.push(a);C._1.push({_0:"i0"});a={_0:JSON.parse(JSON.stringify(jl.Aa))};jl.S0(a._0,o[0].ResourceDict.ParagraphSheetSet[0]);
a._0._0="sBasic Paragraph";a._0._6="i0";C._0.push(a);C._1.push({_0:"i1"});return C};jl.a3A=function(o,g,C){var a={_0:[]};
for(var N=0;N<o.length;N++){var x=o[N].Curve,K={};a._0.push({_0:K});var h=bv.gH(o[N]);K._2={};K._2._0="i"+h;
if(o[N]._LineOrientation==2)K._2._1="i2";if(h==0){K._2._6=["f-1","f-1"];K._2._11={_4:"i-1",_7:!1}}else if(h==1&&x==null){var X=bv.w$(o[N]),w=X[2],G=X[3];
K._1={_0:jl.Qu("f",[0,0,0,0,w,0,w,0,w,0,w,0,w,G,w,G,w,G,w,G,0,G,0,G,0,G,0,G,0,0,0,0])};K._2._6=["f-2","f-2"];
K._2._11={_4:"i-2",_7:!1}}else if(h==1){var X=bv.w$(o[N]),w=X[2],G=X[3];K._1={_0:jl.Qu("f",x.Points)};
K._2._6=["f-3","f-3"];K._2._11={_4:"i-3",_7:!1}}else if(h==2){K._1={_0:jl.Qu("f",x.Points)};K._2._6=jl.Qu("f",x.TextOnPathTRange);
K._2._11={_0:x.Reversed,_3:"i0",_5:"f0",_7:!1}}}return a};jl.a7h=function(o,g,C,a){var x={};x._0=JSON.parse(JSON.stringify(jl.a5i));
x._1=jl.axc(o,g,C,a?a._1:null);x._2=JSON.parse(JSON.stringify(jl.aeF._6));x._3=JSON.parse(JSON.stringify(jl.Aa._5));
return x};jl.ace=function(o,g){return jl.af6(o,g._1)};jl.axc=function(o,g,C,a){var x=[],K=C._1._0;for(var N=0;
N<o.length;N++){var h=o[N],X={_0:{}};x.push(X);X._0._0="s"+h.EngineDict.Editor.Text;X._0._0=X._0._0;
var w=X._0._5={_0:[]},G=h.EngineDict.ParagraphRun;for(var R=0;R<G.RunArray.length;R++){var d={_0:{}};
w._0.push(d);d._0._0={_0:"s",_5:{},_6:"i1"};jl.S0(d._0._0,G.RunArray[R].ParagraphSheet);d._1="i"+G.RunLengthArray[R]}var q=X._0._6={_0:[]};
G=h.EngineDict.StyleRun;for(var R=0;R<G.RunArray.length;R++){var m={_0:{}};q._0.push(m);m._0._0={_0:"s",_5:"i1",_6:{}};
jl.acm(m._0._0,G.RunArray[R].StyleSheet,K,h.ResourceDict.FontSet);m._1="i"+G.RunLengthArray[R]}G=h.EngineDict.AlternateGlyphRun;
if(G){var M=X._0._9={_0:[]};for(var R=0;R<G.RunArray.length;R++){var Z={_0:{}};M._0.push(Z);var Q=G.RunArray[R];
if(Q.Glyph!=null){Z._0._0={_0:"i"+Q.Glyph,_1:"e"}}Z._1="i"+G.RunLengthArray[R]}}X._0._10={_0:"i4",_2:!0};
X._1=jl.view.acZ(h,null,N,null)}return x};jl.af6=function(o,g){var C=[],a=o._1._0;for(var N=0;N<g.length;
N++){var x=bv.asQ();C.push(x);var h=g[N];x.EngineDict.Editor.Text=h._0._0.slice(1);var X=x.EngineDict.ParagraphRun.RunArray[0],w=x.EngineDict.ParagraphRun,G=h._0._5;
if(G)for(var R=0;R<G._0.length;R++){var d=G._0[R];w.RunLengthArray[R]=parseInt(d._1.slice(1));w.RunArray[R]=JSON.parse(JSON.stringify(X));
jl.aw$(d._0._0,w.RunArray[R].ParagraphSheet)}else{w.RunLengthArray[0]=bv.cR(x).length}var q=h._0._6;
w=x.EngineDict.StyleRun;if(q)for(var R=0;R<q._0.length;R++){var m=q._0[R];w.RunLengthArray[R]=parseInt(m._1.slice(1));
w.RunArray[R]={StyleSheet:{StyleSheetData:{}}};jl.auE(m._0._0,w.RunArray[R].StyleSheet,a,x.ResourceDict.FontSet)}else{w.RunLengthArray[0]=bv.cR(x).length;
w.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return C};jl.acm=function(o,g,C,a,x){o._0="s"+(g.Name?g.Name:"");
var K=o._6,h=x?x._6:null,X=g.StyleSheetData;if(X.Font==null)return;var w=a[X.Font].Name,G=-1;for(var N=0;
N<C.length;N++)if("s"+w==C[N]._0._0._0){G=N;break}K._0="i"+G;if(X.FontSize!=null)K._1="f"+X.FontSize;
if(X.FauxBold!=null)K._2=X.FauxBold;if(X.FauxItalic!=null)K._3=X.FauxItalic;if(X.AutoLeading!=null)K._4=X.AutoLeading;
if(X.Leading!=null)K._5="f"+X.Leading;if(X.HorizontalScale!=null)K._6="f"+X.HorizontalScale;if(X.VerticalScale!=null)K._7="f"+X.VerticalScale;
if(X.Tracking!=null)K._8="i"+X.Tracking;if(X.BaselineShift!=null)K._9="f"+X.BaselineShift;if(X.AutoKerning!=null)K._11="i"+(X.AutoKerning?1:0);
if(X.FontCaps!=null)K._12="i"+X.FontCaps;if(X.FontBaseline!=null)K._13="i"+X.FontBaseline;if(X.Strikethrough!=null)K._15="i"+(X.Strikethrough?1:0);
if(X.Underline!=null)K._16="i"+(X.Underline?2:0);if(X.Ligatures!=null)K._18=X.Ligatures;if(X.DLigatures!=null)K._19=X.DLigatures;
if(X.BaselineDirection!=null)K._35="i"+X.BaselineDirection;if(X.Language!=null)K._38="i"+X.Language;
if(X.FillColor!=null)K._53=jl._W(X.FillColor);if(X.StrokeColor!=null)K._54=jl._W(X.StrokeColor);if(X.FillFlag!=null)K._56=X.FillFlag;
if(X.StrokeFlag!=null)K._57=X.StrokeFlag;if(X._LineWidth!=null)K._63="f"+X._LineWidth;if(X._FillBackgroundColor!=null)K._79=jl._W(X._FillBackgroundColor);
if(X._FillBackgroundFlag!=null)K._80=X._FillBackgroundFlag};jl._W=function(o){return{_99:"/SimplePaint",_0:{_0:"i1",_1:jl.Qu("f",o.Values)}}};
jl.auE=function(o,g,C,a){var x=o._6;if(x==null)return;var K=g.StyleSheetData;if(x._0){var h=parseInt(x._0.slice(1)),X=C[h]._0._0._0.slice(1);
bv.s2({Fn:K,pv:a},X)}if(x._1!=null)K.FontSize=parseFloat(x._1.slice(1));if(x._2!=null)K.FauxBold=x._2;
if(x._3!=null)K.FauxItalic=x._3;if(x._4!=null)K.AutoLeading=x._4;if(x._5!=null)K.Leading=parseFloat(x._5.slice(1));
if(x._6!=null)K.HorizontalScale=parseFloat(x._6.slice(1));if(x._7!=null)K.VerticalScale=parseFloat(x._7.slice(1));
if(x._8!=null)K.Tracking=parseFloat(x._8.slice(1));if(x._9!=null)K.BaselineShift=parseFloat(x._9.slice(1));
if(x._11!=null)K.AutoKerning=parseFloat(x._11.slice(1))==1;if(x._12!=null)K.FontCaps=parseFloat(x._12.slice(1));
if(x._13!=null)K.FontBaseline=parseFloat(x._13.slice(1));if(x._15!=null)K.Strikethrough=parseFloat(x._15.slice(1))==1;
if(x._16!=null)K.Underline=parseFloat(x._16.slice(1))==1;if(x._18!=null)K.Ligatures=x._18;if(x._19!=null)K.DLigatures=x._19;
if(x._35!=null)K.BaselineDirection=parseFloat(x._35.slice(1));if(x._38!=null)K.Language=parseFloat(x._38.slice(1));
if(x._53!=null)K.FillColor=jl.nn(x._53);if(x._54!=null)K.StrokeColor=jl.nn(x._54);if(x._56!=null)K.FillFlag=x._56;
if(x._57!=null)K.StrokeFlag=x._57;if(x._63!=null)K._LineWidth=parseFloat(x._63.slice(1));if(x._79!=null)K._FillBackgroundColor=jl.nn(x._79);
if(x._80!=null)K._FillBackgroundFlag=x._80};jl.nn=function(o){var g=o._0._0,C=o._0._1,a=[1,0,0,0],x=[];
for(var N=0;N<C.length;N++)x[N]=parseFloat(C[N].slice(1));if(g=="i0")a[1]=a[2]=a[3]=x[1];else if(g=="i1")a=x;
else if(g=="i2")a=[1].concat(UDOC.C.cmykToRgb(x.slice(1)));else console.log("unknown color type",g,x);
return{Type:1,Values:a}};jl.S0=function(o,g){o._0="s"+(g.Name?g.Name:"");var C=o._5,a=g.Properties;if(a.Justification!=null)C._0="i"+a.Justification;
if(a.FirstLineIndent!=null)C._1="f"+a.FirstLineIndent;if(a.StartIndent!=null)C._2="f"+a.StartIndent;
if(a.EndIndent!=null)C._3="f"+a.EndIndent;if(a.SpaceBefore!=null)C._4="f"+a.SpaceBefore;if(a.SpaceAfter!=null)C._5="f"+a.SpaceAfter;
if(a.AutoLeading!=null)C._7="f"+a.AutoLeading;if(a.AutoHyphenate!=null)C._9=a.AutoHyphenate;if(a._Direction!=null)C._33="i"+a._Direction;
if(a._ComposerEngine!=null)C._35="i"+a._ComposerEngine};jl.aw$=function(o,g){var C=o._5;if(C==null)return;
var a=g.Properties;if(C._0)a.Justification=parseInt(C._0.slice(1))};jl.Qu=function(o,g){var C=[];for(var N=0;
N<g.length;N++)C.push(o+g[N]);return C};jl.aw8={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
jl.a2N={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
jl.aeF={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
jl.Aa={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
jl.aaG={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
jl.a5i={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var aN={};aN.a0m=function(o){return aN.TG(o,aN.cl,0)};aN.a4d=function(o){return aN.px(o,aN.cl)};aN.TG=function(o,g,C){var a;
if(typeof o=="string")return o;if(o instanceof Array){a=[];for(var N=0;N<o.length;N++)a[N]=aN.TG(o[N],g,C+1)}else{a={};
var x={};for(var K in g){var h=g[K],X="_"+h[0];if(o[X]!=null){a[K]=h[1]?aN.TG(o[X],h[1],C+1):o[X];x[X]=!0}}for(var K in o){if(x[K]==null){if(K.length>3)continue;
console.log(g,x);console.log(K,o);throw"e"}}}return a};aN.px=function(o,g){var C;if(typeof o=="string")return o;
else if(o instanceof Array){C=[];for(var N=0;N<o.length;N++)C[N]=aN.px(o[N],g)}else{C={};var a={};for(var x in g){var K=g[x],h="_"+K[0];
if(o[x]!=null){C[h]=K[1]?aN.px(o[x],K[1]):o[x];a[x]=!0}}for(var x in o){if(a[x]==null){console.log(g,a);
console.log(x,o);throw"e"}}}return C};aN.Mw={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
aN.J1={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,aN.Mw],_StrokeColor:[54,aN.Mw],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,aN.Mw],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
aN.a90={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,aN.J1],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
aN.ap2={_Name:[0],_Features:[5,aN.a90],_Parent:[6],_UUID:[97]};aN.a8E={_Name:[0],_Parent:[5],_Features:[6,aN.J1],_UUID:[97]};
aN.cl={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,aN.a8E]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,aN.ap2]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,aN.ap2]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,aN.a8E]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,aN.J1],_OriginalNormalParagraphFeatures:[3,aN.a90]}]};
jl.view={};jl.view.acZ=function(o,g,C,a){var x={},h=bv.gH(o);x._0=[{_0:"i"+C}];return x};function CSS(){}CSS.a2Z=function(o,g){var C=o.add,a=C.vmsk,x=C.vstk,K=C.lmfx,h=C.TySh,X=[],w=CSS.aqm(K,C);
if(o.eU()&&a){var G=l.M.se(a.i);if(!G.to()){X.push("width: "+Math.round(G.m)+"px");X.push("height: "+Math.round(G.n)+"px")}var R=l.M.a4I(a.i);
if(R>0)X.push("border-radius: "+Math.round(R)+"px")}else if(h){var d=h.cp;if(bv.gH(d)==1){var G=bv.w$(d);
X.push("width: "+Math.round(G[2])+"px");X.push("height: "+Math.round(G[3])+"px")}CSS.amx(X,bv.SX(d,0,0),h.D,!1,!1,w[0])}var q=[],m=K?K.dropShadowMulti.v:0;
for(var N=0;N<m.length;N++){var M=m[N].v;if(M.enab.v){var Z=M.Dstn.v.val,Q=M.lagl.v.val*Math.PI/180;
if(M.uglg&&M.uglg.v)Q=g.T6()*Math.PI/180;var p=Z*Math.cos(Q),y=Z*Math.sin(Q);q.push("drop-shadow("+(p==0?"0 ":CSS.du(-p)+"px ")+(y==0?"0 ":CSS.du(y)+"px ")+M.blur.v.val/2+"px "+CSS.aM(M.Clr.v,M.Opct.v.val/100)+")")}}if(q.length!=0)X.push("filter: "+q.join(" "));
if(h==null)CSS.aaR(w,X);if(x==null||!x.strokeEnabled.v)x=bd.eL(K);if(x&&x.strokeEnabled.v){var V=x.strokeStyleContent.v,W=V.classID,v=hf.ly.sj.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType),j=hf.ly.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType),e=x.strokeStyleOpacity.v.val/100,T=x.strokeStyleLineWidth.v.val,O="";
if(W=="solidColorLayer")O=CSS.aM(V.Clr.v,e);X.push("border: "+T+"px solid "+O)}return X};CSS.aqm=function(o,g){var C=bd.LD(o,g),a=C[0],x=C[1],K,h;
if(a){K=CSS.aM(a.Clr.v,g.iOpa!=null?g.iOpa/255:1)}else if(x){h=CSS._w(x)}return[K,h]};CSS.aaR=function(o,g){if(o[0])g.push("background-color: "+o[0]);
if(o[1])g.push("background-image: "+o[1])};CSS.hM={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.du=function(ee){return""+parseFloat(ee.toFixed(3))};CSS.Wo=function(o){if(o==null)return{z:0,B:0,K:0};
var g=o.indexOf("(");if(g!=-1){var C=o.slice(g+1,o.length-1).split(",");for(var N=0;N<C.length;N++){var a=C[N].trim();
C[N]=parseFloat(a)*(a.endsWith("%")?255/100:1)}return{z:C[0],B:C[1],K:C[2]}}if(o.charAt(0)!="#"){var x=CSS.hM;
if(x[o])o=x[o];else console.log("unknown color "+o)}o=o.slice(1);if(o.length==4)o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]+o[3]+o[3];
if(o.length==3)o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2];var K=-1;if(o.length==8){K=parseInt(o.slice(6),16);o=o.slice(0,6)}o=parseInt(o,16);
var h={z:o>>16&255,B:o>>8&255,K:o&255};if(K!=-1)h.Bk=K;return h};CSS.aM=function(o,g){return CSS.PH(l.T.Xh(o),g)};
CSS.PH=function(o,g){if(g==null)g=1;var C=Math.round(o.z),a=Math.round(o.B),x=Math.round(o.K),K=C<<16|a<<8|x;
return g==1?"#"+l.eh(K):"rgba("+C+","+a+","+x+","+g+")"};CSS._w=function(o){var g=o.Grad.v;if(g.Clrs==null)return"";
var C=g.Clrs.v.slice(0),a=g.Trns.v.slice(0),x=o.Ofst.v,K=o.Type.v.GrdT=="Rdl"?1:0,h=(K==1?"radial":"linear")+"-gradient",X=K==0?Math.round(-o.Angl.v.val+90)+"deg":"circle at center",w=o.Rvrs.v;
if(w){C.reverse();a.reverse()}for(var N=0;N<C.length;N++){var G=C[N].v,R=N<a.length?a[N].v.Opct.v.val/100:1,d=G.Lctn.v/4096;
if(w)d=1-d;X+=", "+CSS.aM(G.Clr.v,R)+" "+Math.round(d*100)+"%"}return h+"("+X+")"};CSS.amx=function(o,g,C,a,x,K){var h=g.Fn,X=a?1:c.V.Bo(C),w=Math.round(h.FontSize*X);
o.push("font-size: "+w+"px");var G=h.Tracking;if(!a&&G!=null&&G!=0)o.push("letter-spacing: "+Math.round(G*w/1e3)+"px");
if(!h.AutoLeading)o.push("line-height: "+Math.round(h.Leading*X)+"px");if(h.Strikethrough)o.push("text-decoration: line-through");
if(h.Underline)o.push("text-decoration: underline");var R=bv.Xh(h.FillColor);R=[R.z,R.B,R.K].map(Math.round);
o.push((a?"fill: ":"color: ")+(K?K:"#"+l.eh(R[0]<<16|R[1]<<8|R[2])));var d=g.pv[h.Font].Name;if(d){var q=jh.nv.Zo(d),m="",M=null,Z=null;
if(q!=null&&d!=jh.K5(q))q=null;if(x&&q)m+="\""+d+"\", ";var Q=d.toLowerCase();if(q){M=jh.up(q)[0];if(q["OS/2"])Z=q["OS/2"].usWeightClass}else{M=CSS.axh(d);
if(Q.indexOf("light")!=-1)Z=300;else if(Q.indexOf("medium")!=-1)Z=500;else if(Q.indexOf("black")!=-1||Q.indexOf("extrabold")!=-1)Z=800;
else if(Q.indexOf("bold")!=-1)Z="bold"}if(M!=null)m+="\""+M+"\"";if(Z!=null)o.push("font-weight: "+Z);
if(Q.indexOf("italic")!=-1||Q.indexOf("oblique")!=-1)o.push("font-style: italic");if(m)o.push("font-family: "+m)}var p=g.Yt.Justification;
if(p!=null&&p!=0)if(a){}else o.push("text-align: "+["left","right","center"][p%3])};CSS.axh=function(o){o=o.split("-")[0];
while(o.endsWith("MT")||o.endsWith("PS"))o=o.slice(0,o.length-2);var g=!0;for(var N=0;N<o.length;N++){var C=o.charAt(N);
if(!g&&C.toLowerCase()!=C){o=o.slice(0,N)+" "+o.slice(N);N++;g=!0}else g=!1}return o};function d4(){}d4.kC={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
d4.ZF=function(o,g){var C=Date.now(),a=o.split("\n"),x;for(var N=0;N<a.length;N++)if(a[N].trim()[0]=="#"){a[N]=""}o=a.join("\n");
try{x=acorn.parse(o)}catch(fF){console.log(fF);return}var K=JSON.parse(JSON.stringify(d4.bb.K2));K.__return=!1;
K.__continue=!1;K.__break=!1;K.__throw=!1;K.__fs={};K.__window={};d4.eval(x,g,K);var h=K.__fs;if(Object.keys(h).length!=0){var X=UZIP.encode(h);
c4.save(X,"output.zip")}};d4.eval=function(o,g,C){var a=o.type;if(!1){}else if(a=="Program"||a=="BlockStatement"){var x=o.body;
for(var N=0;N<x.length;N++){var K=x[N].type;if(K=="FunctionDeclaration")C[x[N].id.name]=x[N]}for(var N=0;
N<x.length;N++){var K=x[N].type,h=d4.eval(x[N],g,C);if(C.__continue){C.__continue=!1;return h}if(C.__return||C.__break||C.__throw)return h}}else if(a=="ReturnStatement"){C.__return=!0;
return o.argument?d4.uD(o.argument,g,C):null}else if(a=="BreakStatement"){C.__break=!0}else if(a=="ContinueStatement"){C.__continue=!0}else if(a=="VariableDeclaration"){var X=o.declarations;
for(var N=0;N<X.length;N++)d4.eval(X[N],g,C)}else if(a=="VariableDeclarator"){C[o.id.name]=o.init?d4.uD(o.init,g,C):null}else if(a=="FunctionDeclaration"){C[o.id.name]=o}else if(a=="MemberExpression"){var w=d4.uD(o.object,g,C),G=o.computed?d4.uD(o.property,g,C):d4.eval(o.property,g,C),h;
if(w.dp!=null)h=d4.bb.L_(w,G,g,C);else if(w==window&&d4.kC[G]){}else h=w[G];return h}else if(a=="ArrayExpression"){var R=[],d=o.elements;
for(var N=0;N<d.length;N++)R.push(d4.uD(d[N],g,C));return R}else if(a=="ObjectExpression"){var R={},d=o.properties;
for(var N=0;N<d.length;N++){var q=d[N],m=d[N].key.name?d[N].key.name:d[N].key.value;R[m]=d4.uD(d[N].value,g,C)}return R}else if(a=="ExpressionStatement"){return d4.eval(o.expression,g,C)}else if(a=="NewExpression"){var M=o.arguments,Z=o.callee,Q=Z.type,p=Z.name,y=[],R=null;
for(var N=0;N<M.length;N++)y.push(d4.uD(M[N],g,C));if(p=="Array")R=new window[p];else if(Q=="Identifier")R=d4.bb.aiQ(p,y,g,C);
else throw"e";if(R==null)throw"new "+p;return R}else if(a=="CallExpression"){var M=o.arguments,Z=o.callee,Q=Z.type,V={};
for(var W in C)V[W]=C[W];var y=[];for(var N=0;N<M.length;N++)y.push(d4.uD(M[N],g,C));if(Q=="Identifier"){var v=Z.name,j=C[v];
if(j){if(j.params){var e=j.params;for(var N=0;N<e.length;N++)V[e[N].name]=y[N];return d4.eval(j.body,g,V)}else{return j.apply(null,y)}}else if(d4.bb.a6A.indexOf(v)!=-1)return d4.bb.yS({dp:"Application"},v,y,g,C);
else if(window[v]==null)console.log("Unknown function "+v);else if(d4.kC[v])alert(v+"() not available");
else{var T=window[v].apply(window,y);return T}}else if(Q=="MemberExpression"){var w=d4.uD(Z.object,g,C),G=Z.computed?d4.uD(Z.property,g,C):d4.eval(Z.property,g,C);
if(w==window&&d4.kC[G])return;if(w.dp!=null)return d4.bb.yS(w,G,y,g,C);else if(G=="sort"&&w[0]&&w[0].dp=="Layer"){return w.sort(function(n,J){return n.k.getName()>J.k.getName()?1:-1})}else return w[G].apply(w,y)}else if(Q=="FunctionExpression"){return d4.eval(Z.body,g,C)}else console.log(o)}else if(a=="AssignmentExpression"){var O=o.operator,L=o.left,S=L.type,$=d4.uD(L,g,C),H=d4.uD(o.right,g,C),h=null;
if(!1){}else if(O=="=")h=H;else if(O=="+=")h=$+H;else if(O=="-=")h=$-H;else if(O=="*=")h=$*H;else if(O=="/=")h=$/H;
else if(O=="%=")h=$%H;else if(O=="&=")h=$&H;else if(O=="|=")h=$|H;else if(O=="&&=")h=$&&H;else if(O=="||=")h=$||H;
else console.log(o);if(S=="Identifier"){var f=L.name;if(C.hasOwnProperty(f))C[f]=h;else C.__window[f]=h}else if(S=="MemberExpression"){var F=d4.eval(L.property,g,C),U=d4.uD(L.object,g,C);
if(U.dp!=null)d4.bb.ap_(U,F,h,g,C);else U[F]=h}else console.log(o)}else if(a=="Identifier")return o.name;
else if(a=="Literal")return o.value;else if(a=="UpdateExpression"){var O=o.operator,r=o.argument.name,R=d4.uD(o.argument,g,C),E=C;
if(E[r]==null)E=C.__window;if(!1){}else if(O=="++"){E[r]++;return o.prefix?E[r]:E[r]-1}else if(O=="--"){E[r]--;
return o.prefix?E[r]:E[r]+1}else console.log(o)}else if(a=="UnaryExpression"){var O=o.operator,k=d4.uD(o.argument,g,C);
if(k.dp=="UnitValue"){if(O=="-")return-k.k;else return d4.a2g(k.k,O)}else return d4.a2g(k,O)}else if(a=="BinaryExpression"||a=="LogicalExpression"){var O=o.operator,L=d4.uD(o.left,g,C),k=d4.uD(o.right,g,C);
if(L==null||k==null)return d4.Yk(L,k,O);else if(L.dp=="UnitValue"&&k.dp=="UnitValue")return d4.Yk(L.k,k.k,O);
else if(L.dp=="UnitValue")return d4.Yk(L.k,k,O);else if(k.dp=="UnitValue"){if(O=="-")return-(L-k.k);
else return d4.Yk(L,k.k,O)}else return d4.Yk(L,k,O)}else if(a=="IfStatement"||a=="ConditionalExpression"){var P=d4.uD(o.test,g,C);
if(P)return d4.eval(o.consequent,g,C);else if(o.alternate)return d4.eval(o.alternate,g,C)}else if(a=="ForInStatement"){d4.eval(o.left,g,C);
var z=o.left.declarations[0].id.name,s=d4.uD(o.right,g,C);for(var W in s){C[z]=W;var Y=d4.eval(o.body,g,C);
if(C.__break)break;if(C.__return)return Y}C.__break=!1}else if(a=="ForStatement"){d4.eval(o.init,g,C);
while(d4.eval(o.test,g,C)){var Y=d4.eval(o.body,g,C);if(C.__break)break;if(C.__return)return Y;d4.eval(o.update,g,C)}C.__break=!1}else if(a=="DoWhileStatement"){do{var Y=d4.eval(o.body,g,C);
if(C.__break)break;if(C.__return)return Y}while(d4.eval(o.test,g,C));C.__break=!1}else if(a=="TryStatement"){d4.eval(o.block,g,C);
if(C.__throw){var t=o.handler;C[t.param.name]=C.__throw;C.__throw=!1;d4.eval(t.body,g,C);delete C[t.param.name]}}else if(a=="EmptyStatement"){}else console.log(o)};
d4.Yk=function(o,g,C){if(C=="+")return o+g;else if(C=="-")return o-g;else if(C=="*")return o*g;else if(C=="/")return o/g;
else if(C=="%")return o%g;else if(C=="^")return o^g;else if(C=="&")return o&g;else if(C=="&&")return o&&g;
else if(C=="|")return o|g;else if(C=="||")return o||g;else if(C=="<")return o<g;else if(C==">")return o>g;
else if(C=="=="){if(o.dp&&g.dp)return o.k==g.k;return o==g}else if(C=="===")return o===g;else if(C=="<=")return o<=g;
else if(C==">=")return o>=g;else if(C=="!=")return o!=g;else if(C=="!==")return o!==g;else if(C=="<<")return o<<g;
else if(C==">>")return o>>g;else console.log(C)};d4.a2g=function(o,g){if(g=="-")return-o;else if(g=="!")return!o;
else if(g=="~")return~o;else if(g=="+")return o;else if(g=="typeof")return typeof o;else console.log(g,o)};
d4.uD=function(o,g,C){var a=o.type;if(a=="Identifier")return d4.aeE(o.name,g,C);else return d4.eval(o,g,C)};
d4.aeE=function(o,g,C){if(o=="undefined")return undefined;else if(C.hasOwnProperty(o))return C[o];else if(o=="app")return{dp:"Application"};
else if(o=="$")return{dp:"$"};else if(d4.bb.abX.indexOf(o)!=-1)return d4.bb.L_({dp:"Application"},o,g,C);
else if(C.__window.hasOwnProperty(o))return C.__window[o];else if(window[o]&&!d4.kC[o])return window[o];
else{C[o]=null;return null}};d4.bb={};d4.bb.aiQ=function(o,g,C,a){var x;if(o=="SolidColor")x={dp:o,k:[1,0,0,0]};
if(o=="RGBColor")x={dp:o,k:[1,0,0,0]};if(o=="Window")x={dp:o,k:new gw(g[0],g[1],g[2])};if(o=="ExportOptionsSaveForWeb")x={dp:o,k:{Ts:"png",Bu:100}};
if(o=="JPEGSaveOptions")x={dp:o,k:{Ts:"jpg",Bu:100}};if(o=="PDFSaveOptions")x={dp:o,k:{Ts:"pdf",a2A:""}};
if(o=="File")x={dp:o,k:g[0]};if(o=="ActionReference")x={dp:o,k:[]};if(o=="ActionDescriptor")x={dp:o,k:{}};
if(o=="ActionList")x={dp:o,k:[]};if(o=="UnitValue")x={dp:o,k:g.length==0?0:parseFloat(g[0])};return x};
d4.bb.abX="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
d4.bb.a6A="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
d4.bb.L_=function(o,g,C,a){var x=C.UN,K=C.$t();if(!1){}else if(g=="typename"){if(o.dp=="Layer")return o.k.sP()?"LayerSet":"ArtLayer";
else return o.dp}else if(["Document","Layer"].indexOf(o.dp)!=-1&&["layers","artLayers","layerSets"].indexOf(g)!=-1){var h=K.root,X={dp:"Layers",Qa:g,k:[]};
if(o.dp=="Layer")h=K.root.V0(K.g.indexOf(o.k));if(h.children==null)return null;for(var N=0;N<h.children.length;
N++){var w=h.children[N].l,G=w.sP();if(G&&g=="artLayers"||!G&&g=="layerSets")continue;X.k.push({dp:"Layer",k:w})}X.k.reverse();
return X}else if(o.dp=="Documents"||o.dp=="Layers"||o.dp=="HistoryStates"||o.dp=="LayerComps"){if(!1){}else if(g=="length")return o.k.length;
else if(Number.isInteger(g))return o.k[g];else console.log(o.dp+": unknown property ",g)}else if(o.dp=="Application"){if(!1){}else if(g=="activeDocument")return{dp:"Document",k:C.$t()};
else if(g=="documents"){var X={dp:"Documents",k:[]};for(var N=0;N<C.h3.length;N++)X.k.push({dp:"Document",k:C.h3[N]});
return X}else if(g=="fonts")return{dp:"TextFonts"};else if(g=="preferences")return{dp:"Preferences"};
else if(g=="displayDialogs")return{dp:"DialogModes"};else if(g=="foregroundColor"||g=="backgroundColor"){var R=g[0]=="f"?x.L$:x.KT;
return{dp:"SolidColor",k:[1,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]}}else if(g=="UI")return{dp:"UI"};
else if(g=="version")return 30;else console.log(o,g)}else if(o.dp=="Document"){var K=o.k;if(!1){}else if(g=="activeLayer"){var w=K.g[K.A[0]];
return{dp:"Layer",k:w}}else if(g=="resolution")return K.zC;else if(g=="width")return K.m;else if(g=="height")return K.n;
else if(g=="name")return K.name;else if(g=="saved")return!K.ZN();else if(g=="selection")return{dp:"Selection"};
else if(g=="activeHistoryState")return{dp:"HistoryState",XE:K.za};else if(g=="source")return K.JD;else if(g=="layerComps"){var d=K.wi.list.v,q=[];
for(var N=0;N<d.length;N++)q.push({dp:"LayerComp",k:N});return{dp:"LayerComps",k:q}}else if(g=="historyStates"){var m=[];
for(var N=0;N<K.history.length;N++)m.push({dp:"HistoryState",XE:N});return{dp:"HistoryStates",k:m}}else if(g=="mode")return 7;
else console.log(o,g)}else if(o.dp=="LayerComp"){if(g=="name")return K.wi.list.v[o.k].v.Nm.v;else throw g}else if(o.dp=="Layer"){var M={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},w=o.k;
if(!1){}else if(g=="visible")return w.aL();else if(g=="selected")return K.A.indexOf(K.g.indexOf(w))!=-1;
else if(g=="grouped")return w.tN;else if(M[g]!=null)return w.GS(M[g]);else if(g=="opacity")return w.opacity*100/255;
else if(g=="blendMode")return w.WN;else if(g=="name")return w.getName();else if(g=="textItem")return{dp:"TextItem",k:w};
else if(g=="bounds"){var Z=c.V.QR(K,[K.g.indexOf(w)]);return d4.bb.anL(Z,K)}else if(g=="parent"){var Q=C.h3;
for(var N=0;N<Q.length;N++)if(Q[N].g.indexOf(w)!=-1)return{dp:"Document",k:Q[N]}}else if(g=="kind"){var p=d4.bb.m5;
for(var N=0;N<p.length;N++)if(w.add[p[N]]!=null)return N;return 0}else if(g=="isBackgroundLayer")return w.add.lnsr="bgnd";
else console.log(o,g)}else if(o.dp=="Selection"){if(!1){}else if(g=="bounds")return d4.bb.anL(C.$t()._.rect,K);
else console.log(o,g)}else if(o.dp=="TextItem"){var y=o.k.add.TySh,V=y.cp,W=bv.cR(V),v=y.D.Bo(),j=bv.SX(V,0,Math.max(0,W.length-2));
if(g=="contents")return W.slice(0,W.length-1).replace(/\n/g,"\r");else if(g=="font")return j.Fn.Font!=null?j.pv[j.Fn.Font].Name:null;
else if(g=="size")return d4.bb.A9(j.Fn.FontSize*v,K);else if(g=="leading")return d4.bb.A9(j.Fn.Leading*v,K);
else if(g=="tracking")return d4.bb.A9(j.Fn.Tracking);else if(g=="baselineShift")return d4.bb.A9(j.Fn.BaselineShift);
else if(g=="fauxBold")return j.Fn.FauxBold;else if(g=="fauxItalic")return j.Fn.FauxItalic;else if(g=="kind")return 1-bv.gH(V);
else if(g=="useAutoLeading")return j.Yt.AutoLeading;else if(g=="hyphenation")return j.Yt.AutoHyphenate;
else if(g=="justification")return d4.bb.A9(j.Yt.Justification);else if(g=="color")return{dp:"SolidColor",k:j.Fn.FillColor.Values.slice(0)};
else if(g=="width"||g=="height"){var e=bv.w$(V),T=(e[2]-e[0])*v,O=(e[3]-e[1])*v;return d4.bb.A9(g=="width"?T:O,K)}else if(g=="position"){var L=y.D;
return d4.bb.ak3([L.NO,L.Mx],K)}else if(g=="horizontalScale"||g=="verticalScale"){var S=g[0].toUpperCase()+g.slice(1);
return Math.round(j.Fn[S]*100)}else if(g=="antiAliasMethod")bv.Vd(y);else if(g=="totalTextStyle"){var X={};
for(var $=0;$<2;$++){var H=["Style","Paragraph"][$],f=V.EngineDict[H+"Run"].RunLengthArray,F=[],U=0;
for(var N=0;N<f.length;N++){var r=bv.SX(V,U,Math.min(U+f[N],W.length-2));U+=f[N];F.push($==0?r.Fn:r.Yt);
X.fontSet=r.pv}X[H]={runs:f,styles:F}}return JSON.stringify(X)}else if(g=="transform"){var L=y.D;return JSON.stringify([L.Bk,L.K,L.U9,L.rX,L.NO,L.Mx])}else console.log(o,g)}else if(o.dp=="Preferences"){if(g=="rulerUnits")return x.M8.oK;
else console.log(o,g)}else if(o.dp=="SolidColor"){if(g=="rgb")return{dp:"RGBColor",k:o.k};else console.log(o,g)}else if(o.dp=="RGBColor"){var Z=Math.round(255*o.k[1]),E=Math.round(255*o.k[2]),k=Math.round(255*o.k[3]);
if(!1){}else if(g=="red")return Z;else if(g=="green")return E;else if(g=="blue")return k;else if(g=="hexValue")return"#"+l.eh(Z<<16|E<<8|k).toUpperCase();
else console.log(o,g)}else if(o.dp=="UnitValue"){if(g=="value")return o.k;else throw"e"}else if(o.dp=="ExportOptionsSaveForWeb"){if(g=="format")return o.k.Ts;
else if(g=="PNG8"||g=="interlaced")return!1;else if(g=="quality")return o.k.Bu;else if(g=="transparency")return!0;
else throw g}else if(o.dp=="JPEGSaveOptions"||o.dp=="PDFSaveOptions"){return 0}else if(o.dp=="$"){if(g=="localize")return!1}else if(o.dp=="ActionList"){if(g=="count")return o.ZU.length;
else throw g}else console.log(o,g)};d4.bb.anL=function(o,g){return d4.bb.ak3([o.x,o.y,o.x+o.m,o.y+o.n],g)};
d4.bb.ak3=function(o,g){var C=[];for(var N=0;N<o.length;N++)C.push(d4.bb.A9(o[N],g));return C};d4.bb.aa9=function(o){var g=[];
for(var N=0;N<o.length;N++)g.push(o[N].dp?o[N].k:o[N]);return g};d4.bb.A9=function(o,g){return{dp:"UnitValue",k:o}};
d4.bb.auX=function(o,g){if(o.dp=="UnitValue")return o.k;return o};d4.bb.ap_=function(o,g,C,a,x){var K=new jO(D.E.q,!0),h=new jO(D.E.X,!0),X=a.$t(),w=a.UN;
if(!1){}else if(o.dp=="Application"){if(!1){}else if(g=="activeDocument"){h.data={C:D.t.Ds,db:C.k};a.c(h)}else if(g=="displayDialogs"){}else if(g=="foregroundColor"||g=="backgroundColor"){var G=C.k,R=G[1]*255<<16|G[2]*255<<8|G[3]*255<<0;
h.data={C:D.t.sM,eA:e1.Zr,JI:g=="foregroundColor"?0:1,k:R};a.c(h)}else console.log(o,g,C)}else if(o.dp=="Document"){var d=o.k;
if(!1){}else if(g=="name"){K.F=c.qd;K.data={C:A.aD,k:C,ao5:!0,vf:d};X.b0=!0}else if(g=="source")d.JD=C;
else if(g=="activeLayer"){d.A=[d.g.indexOf(C.k)]}else if(g=="activeHistoryState"){K.F=c.DY;K.data={C:"h_itemchange",index:C.XE}}else console.log(o,g)}else if(o.dp=="Layer"){K.F=c.qd;
var q={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},m=o.k,M=X.g.indexOf(m);
if(!1){}else if(g=="visible"){if(m.aL()!=C)K.data={C:A.Jb,l:M}}else if(g=="opacity"){K.data={C:A.D9,l:M,kq:Math.round(255*C/100)}}else if(g=="blendMode"){K.data={C:A.Eq,l:M,kq:cP.CH.indexOf(C)}}else if(g=="name"){K.data={C:A.Hg,l:M,name:C}}else if(q[g]!=null){K.data={C:A.Tg,l:M,kq:[[C],[q[g]]]}}else if(g=="kind"){K.data={C:A.DL,l:M,JS:d4.bb.m5[C]}}else if(g=="grouped"){K.data={C:A.zG,l:M,kq:C}}else console.log(o,g,C)}else if(o.dp=="TextItem"){K.F=c.rv;
var m=o.k,Z=m.add.TySh,Q=JSON.parse(JSON.stringify(Z.cp)),p=Z.D.clone(),y=Z.D.Bo(),V=bv.cR(Q),W=bv.SX(Q,0,V.length-2),v=!1;
if(!1){}else if(g=="contents"){bv._L(Q,0,V.length-1);bv.l6(Q,0,C.replace(/\r/g,"\n"))}else if(g=="size"){W.Fn.FontSize=(C.k!=null?C.k:C)/y;
v=!0}else if(g=="leading"){W.Fn.Leading=(C.k!=null?C.k:C)/y;v=!0}else if(g=="tracking"){W.Fn.Tracking=C.k!=null?C.k:C;
v=!0}else if(g=="baselineShift"){W.Fn.BaselineShift=C.k!=null?C.k:C;v=!0}else if(g=="fauxBold"){W.Fn.FauxBold=C;
v=!0}else if(g=="fauxItalic"){W.Fn.FauxItalic=C;v=!0}else if(g=="kind"){var j=bv.gH(Q);if(j==1&&C==1){var T=new bM(Q,a.UN.zM).Yt[0],O=T.T$[0].end,L=T.pt[O-1].end;
bv._L(Q,0,V.length-1);bv.l6(Q,0,V.slice(0,L-1))}if(j==C)bv.lr(Q,1-C)}else if(g=="useAutoLeading"){W.Yt.AutoLeading=C;
v=!0}else if(g=="hyphenation"){W.Yt.AutoHyphenate=C;v=!0}else if(g=="justification"){W.Yt.Justification=C;
v=!0}else if(g=="font"){bv.s2(W,C);v=!0}else if(g=="color"){W.Fn.FillColor.Values=C.k.slice(0);v=!0}else if(g=="width"||g=="height"){var S=bv.w$(Q).slice(0),$=d4.bb.auX(C);
if(g=="width")S[2]=Math.round(S[0]+$/y);else S[3]=Math.round(S[1]+$/y);bv.yy(Q,S)}else if(g=="position"){p.NO=C[0];
p.Mx=C[1]}else if(g=="horizontalScale"||g=="verticalScale"){var H=g[0].toUpperCase()+g.slice(1);W.Fn[H]=C/100;
v=!0}else if(g=="antiAliasMethod")bv.qO(Z,C);else console.log(o,g,C);if(v)bv.dG(Q,0,V.length-1,W);K.data={C:"newED",$w:X.g.indexOf(m),Ps:Q,D:p}}else if(o.dp=="Preferences"){if(!1){}else if(g=="rulerUnits"){var f=JSON.parse(JSON.stringify(w.M8));
f.oK=C;h.data={C:D.t.sM,eA:e1.Kd,kq:f};a.c(h)}else console.log(o,g,C)}else if(o.dp=="SolidColor"){if(g=="rgb")o.k=C.k;
else throw g}else if(o.dp=="RGBColor"){if(!1){}else if(g=="red")o.k[1]=C/255;else if(g=="green")o.k[2]=C/255;
else if(g=="blue")o.k[3]=C/255;else if(g=="hexValue"){var F=l.ji(C.slice(1));o.k[1]=(F>>>16&255)/255;
o.k[2]=(F>>>8&255)/255;o.k[3]=(F>>>0&255)/255}else console.log(o,g)}else if(o.dp=="ExportOptionsSaveForWeb"){if(g=="format")o.k.Ts=C;
else if(g=="PNG8"||g=="transparency"||g=="interlaced"){}else if(g=="quality")o.k.Bu=C;else throw g}else if(o.dp=="JPEGSaveOptions"){if(g=="quality")o.k.Bu=Math.round(100*C/12)}else if(o.dp=="PDFSaveOptions"){if(g=="preset")o.k.a2A=C}else if(o.dp=="$"){if(g=="localize"){}}else console.log(o,g,C);
if(K.data!=null)a.c(K)};d4.bb.yS=function(o,g,C,a,x){var K=o.dp,h=null,X=new jO(D.E.q,!0),w=new jO(D.E._h,!0),G=new jO(D.E.X,!0),R=a.$t(),d=a.h3;
if(!1){}else if(K=="Application"){if(!1){}else if(g=="charIDToTypeID"){var q=C[0].trim(),m={slct:"select",Dlt:"delete",Mk:"make"};
return m[q]?m[q]:q}else if(g=="stringIDToTypeID"){var M=C[0].trim(),m={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},Z=m[M];
return Z==null?M:Z}else if(g=="typeIDToStringID"){return C[0].trim()}else if(g=="executeAction"){console.log(C);
var Q;if(C[1]){Q=C[1].k;Q.classID=C[0]}var p={setd:"set"},y=p[C[0]];if(y==null)y=C[0];var V=f6.Ry[C[0]];
if(V&&f6.UE[V])y=f6.UE[V];w.data={j7:y,FS:Q}}else if(g=="executeActionGet"){return{dp:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:C[0].k}},ZU:R.g[R.A[0]]}}else if(g=="doAction"){G.data={C:D.t.Q7,d2:[C[0],C[1]]}}else if(g=="bringToFront"){}else if(g=="open"){G.data={C:D.t.S3,eA:{url:C[0]}};
if(C[2]&&d.length!=0)G.data.eA.U8=d.indexOf(R)}else if(g=="echoToOE"){G.data={C:D.t.m$,eA:C[0]}}else console.log(g)}else if(K=="LayerComp"){if(g=="apply"){X.F=c.nk;
X.data={C:"setLC",XE:R.wi.list.v[o.k].v.compID.v}}else throw g}else if(K=="Document"){var R=o.k;if(!1){}else if(g=="crop"){w.data=c.ro.aun(C[0])}else if(g=="trim"){var W=[];
for(var N=0;N<4;N++)W.push(C[N+1]!=null?C[N+1]:!0);w.data=c.ro.uu(C[0]!=null?C[0]:0,W)}else if(g=="suspendHistory"){var v=acorn.parse(C[1]);
d4.eval(v,a,x)}else if(g=="save"){G.data={C:D.t.Yg}}else if(g=="saveToOE"){G.data={C:D.t.Yg,RC:C}}else if(g=="rotateCanvas"){w.data=c.V.oG(!0,C[0])}else if(g=="resizeImage"||g=="resizeCanvas"){var j=C[0],T=C[1];
if(typeof j!="number"){j=R.m*parseFloat(j.slice(0,j.length-1))/100;T=R.n*parseFloat(T.slice(0,T.length-1))/100}if(g=="resizeCanvas")w.data=c.ro.a6v(Math.round(j),Math.round(T),C[2]);
else w.data=c.ro.apk(Math.round(j),Math.round(T),null,1)}else if(g=="paste"){G.data={C:D.t.wG,O9:C.length!=0&&C[0],l7:!0}}else if(g=="close"){G.data={C:D.t.kX,bf:R}}else if(g=="exportDocument"||g=="saveAs"){var O=x.__fs,L=C[0].k.replace(":","").replace("~/",""),S=g=="exportDocument"?C[2].k:C[1].k,$=bl.XS(R,S.Ts,null,null,S.Ts=="pdf"?null:[S.Bu],a.UN);
O[L]=new Uint8Array($)}else console.log(o,g,C)}else if(K=="Layer"){var H=o.k,f=R.g.indexOf(H);if(!1){}else if(g=="copy"){d4.bb.eM(R,a,0);
G.data={C:D.t.ZK,lt:C[0],IF:f,l7:!0};a.c(G);delete G.data;d4.bb.eM(R,a,1)}else if(g=="clear"){d4.bb.eM(R,a,0);
w.data={j7:"delete"};a.c(w);delete w.data;d4.bb.eM(R,a,1)}else if(g=="duplicate"){if(C.length==0){X.data={C:A.XC,l:f};
X.F=c.qd;a.c(X);X.data=null;h={dp:"Layer",k:R.g[R.A[0]]}}else if(C[0].dp=="Document"){X.data={C:A.N3,g:R.oa(f),lv:R,jJ:C[0].k};
X.F=c.qd}}else if(g=="merge"||g=="remove"){X.data={C:g=="merge"?A.nd:A.pr,l:f};X.F=c.qd;if(g!="remove")h={dp:"Layer",k:R.g[R.A[0]]}}else if(g=="move"){X.data={C:A.Bq,source:f,target:R.g.indexOf(C[0].k),rF:C[1]!=3?.6:.3};
X.F=c.qd}else if(g=="rasterize"){w.data={j7:"rasterizeLayer",FS:{classID:"rasterizeLayer",null:kn.C8("Lyr",!0)}}}else if(g=="rotate"){X.data={C:"rot",Wm:[2,5],k:-C[0]*Math.PI/180,YX:C[1],l:f};
X.F=c.GD}else if(g=="resize"){X.data={C:"scl",Wm:[2,4],k:new eN(C[0]/100,C[1]/100),YX:C[2],l:f};X.F=c.GD}else if(g=="translate"){var F=d4.bb.aa9(C);
X.data={C:"trsl",l:f,pV:F[0],Ed:F[1]};X.F=c.zO}else if(g=="link"){X.data={C:A.Or,a5d:[f,R.g.indexOf(C[0].k)]};
X.F=c.qd}else if(g=="invert"){X.F=c.i1;X.data={C:"start",ss:"nvrt"}}else if(g.startsWith("apply")&&hb.arT[g.slice(5)]){var F=d4.bb.aa9(C),U=hb.arT[g.slice(5)];
w.data={j7:hb.UE[U]};var Q=hb.l3(U);if(Q){hb._s["g"+U](Q,F);w.data.FS=Q}}else console.log(o,g,C)}else if(K=="Documents"){if(g=="getByName"){for(var N=0;
N<d.length;N++)if(d[N].name==C[0])return{dp:"Document",k:d[N]};return null}else if(g=="add"){var r=C[5];
if(r==null)r=1;w.data=aX.ik(C[0],C[1],C[2],C[3],["Wht","Trns","BckC"][r],!1)}else throw"e"}else if(K=="Layers"){if(g=="getByName"){for(var N=0;
N<o.k.length;N++)if(o.k[N].k.getName()==C[0]){h=o.k[N];break}if(h==null)x.__throw={message:"No layer with a name "+C[0]}}else if(g=="add"){X.data={C:o.Qa=="layerSets"?A._g:A.Hv};
X.F=c.qd;a.c(X);X.data=null;h={dp:"Layer",k:R.g[R.A[0]]}}else console.log(o,g,C)}else if(o.dp=="Selection"){if(g=="select"){var E=C[0],k=[];
for(var N=0;N<E.length;N++)k.push(E[N][0],E[N][1]);w.data=c.vk.Ch(k)}else if(g=="clear"){w.data={j7:"delete"}}else if(g=="selectAll"){w.data=c.vk.K9(!0)}else if(g=="invert"){w.data={j7:"inverse"}}else if(g=="copy"){G.data={C:D.t.ZK}}else if(g=="deselect"){w.data=c.vk.K9()}else if(g=="fill"){var P=C[0].k;
P=l.T.CT({z:P[1]*255,B:P[2]*255,K:P[3]*255});w.data=c.de.p3("Clr",C[1],C[2]==null?1:C[2]/100,P)}else if(g=="translate"){var Q={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:C[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:C[1]}}}}};
w.data={j7:"move",FS:Q}}else if(g=="smooth"){w.data=c.vk.aam("smoothness",C[0],!1)}else console.log(o,g,C)}else if(o.dp=="Window"){if(g=="show"){G.data={C:D.t.gC,$j:o.k}}else throw"e"}else if(o.dp=="ActionReference"){if(g=="putProperty"){o.k.push({t:"prop",v:{classID:C[0],keyID:C[1]}})}else if(g=="putClass"){o.k.push({t:"Clss",v:{classID:C[0]}})}else if(g=="putEnumerated"){o.k.push({t:"Enmr",v:{classID:C[0],typeID:C[1],enum:C[2]}})}else if(g=="putName"){o.k.push({t:"name",v:{classID:C[0],val:C[1]}})}else console.log(g,C)}else if(o.dp=="ActionDescriptor"||o.dp=="ActionList"){if(g=="putReference"){o.k[C[0]]={t:"obj ",v:C[1].k}}else if(g=="putDouble"){o.k[C[0]]={t:"doub",v:C[1]}}else if(g=="putUnitDouble"){o.k[C[0]]={t:"UntF",v:{type:C[1],val:C[2]}}}else if(g=="putObject"){if(o.dp=="ActionList"){var z=C[1].k;
z.classID=C[0];o.k.push({t:"Objc",v:z})}else{var z=C[2].k;z.classID=C[1];o.k[C[0]]={t:"Objc",v:z}}}else if(g=="putList"){o.k[C[0]]={t:"VlLs",v:C[1].k}}else if(g=="putBoolean"){o.k[C[0]]={t:"bool",v:C[1]}}else if(g=="putInteger"){o.k[C[0]]={t:"long",v:C[1]}}else if(g=="putString"){o.k[C[0]]={t:"TEXT",v:C[1]}}else if(g=="putEnumerated"){var s={};
s[C[1]]=C[2];o.k[C[0]]={t:"enum",v:s}}else if(g=="hasKey"){var H=R.g[R.A[0]],q=C[0];if(q=="textKey")return H.add.TySh!=null;
var Y=o.k.null.v;for(var N=0;N<Y.length;N++){if(Y[N].v.keyID==C[0]){if(q=="UsrM"){return H.KN()!=null}else throw C}}}else if(g=="getEnumerationValue"){if(C[0]=="layerSection")h="layerSectionContent";
else console.log(C)}else if(g=="getBoolean"){if(C[0]=="background")h=!1;else console.log(C)}else if(g=="getString"){if(C[0]=="name")h=o.ZU.getName();
else if(C[0]=="textKey")h=bv.cR(o.ZU.cp);else console.log(o,C)}else if(g=="getObjectValue"){if(C[0]=="textKey"){h={dp:"ActionDescriptor",ZU:o.ZU.add.TySh}}else if(typeof C[0]=="number")h=o.ZU[C[0]];
else throw C[0]}else if(g=="getList"){h={dp:"ActionList"};if(C[0]=="paragraphStyleRange")h.ZU=o.ZU.cp.EngineDict.ParagraphRun.RunArray;
else if(C[0]=="kerningRange")h.ZU=[];else if(C[0]=="textStyleRange")h.ZU=o.ZU.cp.EngineDict.StyleRun.RunArray;
else throw C}else console.log(g,C)}else if(o.dp=="$"){if(g=="writeln"){console.log(C[0])}else throw g}else if(o.dp=="UI"){var t;
if(g=="zoomIn"||g=="zoomOut"){t={C:"zoom",ri:g=="zoomIn"}}else if(g=="fitTheArea"){t={C:"adapt",k:"fitscr"}}else if(g=="pixelToPixel"){t={C:"adapt",k:"pixel"}}X.F=c.SL;
X.data=t;if(g=="switchFullscreen"){var n=a.UN.dS,J=document.fullscreenElement!=null==(n==2);G.data={C:D.t.rj,k:n==0?2:0,wS:J}}}else console.log(o,g,C);
if(X.data)a.c(X);if(w.data)a.c(w);if(G.data)a.c(G);return h};d4.bb.eM=function(o,g,C){var a=new jO(D.E.q,!0);
a.F=c.pn;var x=new jO(D.E._h,!0);if(C==0){d4.bb.ah8=o._;x.data=c.vk.K9(!0)}else{var K=d4.bb.ah8;if(K)a.data={C:"setsel",Wm:"Restore Selection",_:{rect:K.rect.clone(),channel:K.channel.slice(0)}};
else x.data=c.vk.K9()}g.c(a.data?a:x)};d4.bb.ah8=null;d4.bb.K2={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
d4.bb.K2.ColorBlendMode=d4.bb.K2.BlendMode;d4.bb.m5="---- SoLd TySh SoCo GdFl PtFl".split(" ");function hZ(){}hZ.TJ={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
hZ.c2={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
hZ.aiT=function(o,g){if(g==null)g={};var C=hZ.c2,a=[],x=[],K="";for(var N=0;N<o.length;N++){var h=o[N],X=C[h[0]+""];
if(X&&g[X]==null)g[X]=h[1];else if(h[0]==12)x.push(h[1]);else if(h[0]==25)a.push(h[1]);else if(h[0]==55)K=h[1];
else if(h[0]==60)K+=";"+h[1]}if(K!=""&&g["exif:DateTimeOriginal"]==null)g["exif:DateTimeOriginal"]=K;
if(x.length!=0&&g["Iptc4xmpCore:SubjectCode"]==null)g["Iptc4xmpCore:SubjectCode"]=x.join(";");if(a.length!=0&&g["dc:Keywords"]==null)g["dc:Keywords"]=a.join(";");
return g};hZ.ahp=function(o){var g=hZ.c2,C=[];for(var a in g)if(o[g[a]])C.push([parseInt(a),o[g[a]]]);
if(o["Iptc4xmpCore:SubjectCode"]){var x=o["Iptc4xmpCore:SubjectCode"].split(";");for(var N=0;N<x.length;
N++)C.push([12,x[N].trim()])}if(o["dc:Keywords"]){var x=o["dc:Keywords"].split(";");for(var N=0;N<x.length;
N++)C.push([25,x[N].trim()])}C.sort(function(K,h){return K[0]-h[0]});return C};hZ.a9C=function(o,g){if(g==null)g={};
var C=new DOMParser,a=C.parseFromString(o,"image/svg+xml"),x=a.getElementsByTagName("rdf:Description")[0];
if(x==null)return g;var K=hZ.TJ;for(var h in K){var X=K[h][2];if(X==null)continue;var w=x.getElementsByTagName(X)[0];
if(w==null)continue;var G=w.getElementsByTagName("rdf:li"),R=[];for(var N=0;N<G.length;N++)R.push(G[N].textContent);
g[h]=R.join("; ")}return g};hZ.a5o=function(o){var g=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],C=hZ.TJ;
for(var a in C){var x=o[a],K=C[a][2],h="Seq",X="";if(x==null||K==null)continue;if(K=="dc:title"||K=="dc:description"){h="Alt";
X=" xml:lang=\"x-default\""}if(K=="dc:subject")h="Bag";g.push("\t<"+K+"><rdf:"+h+">");var w=K=="dc:subject"?x.split(";").join(",").split(","):[x];
for(var N=0;N<w.length;N++)g.push("\t\t<rdf:li"+X+">"+w[N].trim()+"</rdf:li>");g.push("\t</rdf:"+h+"></"+K+">")}g.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return g.join("\n")};hZ.ac7=function(o){var g=[];for(var N=0;N<o.length;N++)g[N]=o[N][1]==0?0:o[N][0]/o[N][1];
return g};hZ.aoa=function(o){var g=[];for(var N=0;N<o.length;N++){var C=o[N],a=1;if(C!=Math.round(C)){a=1e3;
C=Math.round(C*a)}g[N]=[C,a]}return g};hZ.u$=function(o,g){var C=hZ.TJ;if(g==null)g={};for(var a in C){var x=C[a][1],K="t"+x;
if(x!=null&&o[K]!=null){var h=o[K];if(x==0)h=h.join(".");else if(x==2||x==4){var X=o["t"+(x-1)];if(X==null)X=[x==2?"N":"E"];
h=hZ.ac7(h).join(",")+X[0]}else if(x==42034)h=hZ.ac7(h).join(" ");else if(x==270||x==315){var w=h[0],G=new Uint8Array(w.length);
u.P9(G,0,w);h=u.SP(G)}else h=h[0];g[a]=h}}if(o.exifIFD)hZ.u$(o.exifIFD,g);if(o.gpsiIFD)hZ.u$(o.gpsiIFD,g);
return g};hZ.oY=function(o,g,C){var a=hZ.TJ,K=0,X=0;if(g==null)g={};var x={},h={};for(var w in a){if(o[w]==null||a[w][1]==null)continue;
var G=a[w][1],R="t"+G,d=g;if(w.startsWith("exif:")){d=x;K++;if(w.startsWith("exif:GPS")){d=h;X++}}var q=o[w];
if(G==0)q=new Uint8Array(q.split(".").map(parseFloat));else if(G==2||G==4){var m=q.length;d["t"+(G-1)]=[q.slice(q.length-1)];
q=hZ.aoa(q.split(",").map(parseFloat))}else if(G==42034)q=hZ.aoa(q.split(" ").map(parseFloat));else if(G==270||G==315){var M=u.Jz(q);
q=[u.M7(M,0,M.length)]}else q=[q];d[R]=q}if(K!=0){g.exifIFD=x;g.t34665=[0]}if(X!=0){g.gpsiIFD=h;g.t34853=[0]}var Z=new Date,Q=[Z.getFullYear(),Z.getMonth()+1,Z.getDate(),Z.getHours(),Z.getMinutes(),Z.getSeconds()];
for(var N=0;N<6;N++)Q[N]=(Q[N]+"").padStart(2,"0");g.t305=["Photopea Editor (www.photopea.com)"];if(C!=!0)g.t306=[Q[0]+":"+Q[1]+":"+Q[2]+" "+Q[3]+":"+Q[4]+":"+Q[5]];
return g};function hI(){}hI.kR=function(o){var g={a01:",",yQ:"\r\n",YH:"\""},C=[[""]],a,x,K,h,X;for(a=x=K=h=0;
K<o.length;K++){switch(X=o.charAt(K)){case g.YH:if(h&&o.charAt(K+1)==g.YH){C[a][x]+=g.YH;++K}else{h^=1}break;
case g.a01:if(!h){C[a][++x]=""}else{C[a][x]+=X}break;case g.yQ.charAt(0):if(!h&&(!g.yQ.charAt(1)||g.yQ.charAt(1)&&g.yQ.charAt(1)==o.charAt(K+1))){C[++a]=[""];
C[a][x=0]="";if(g.yQ.charAt(1)){++K}}else{C[a][x]+=X}break;default:C[a][x]+=X}}if(C[C.length-1].length<C[0].length)C.pop();
return C};var B={};B.ag1=0;B.uZ=function(){B.ag1++;return B.ag1};B.a6d="uint8";B.a3s=function(){var o=B.avT();
if(o=="")return 0;if(o!=B.KK("_TXZRPB;d7@;")){var g=B.JM[is.qf][is.fZ],C=g.indexOf(String.fromCharCode(35)),a;
if(C==-1)return 0;try{a=JSON.parse(B.JM[is.arE](g.slice(C+1)))}catch(fF){return 0}var x=a[B.KK("bQ[ODL<E<M")];
if(x==null||x.length<<2!=64)return 0;var K=is.QL(),h=parseInt(x.slice(3*4).split("").reverse().join(""),16)<<16;
if(h<K||x!=is.apa(h,o))return 0;return 2}return 1};B.avT=function(){var o=B.JM[B.y4("}$z{2*35")][B.KK("W[\\ZQAJ?")],g=String.fromCharCode(46),C=o.split(g);
if(C.length<2)return"";var a=C.pop();a=C.pop()+g+a;return a};B.abF=function(){if(B.JM[is.arL][is.akE]){var o=new B.JM[is.VX];
o[is.mW](is.acY,B.KK("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+B.avT());o[is.HS]()}};B.yf=function(){if(window.top!=window.self)return!1;
var o=navigator.userAgent.toLowerCase();if(o.indexOf("android")!=-1)return!1;if(o.indexOf("safari")!=-1&&o.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};B.X8=function(o){this.TM=o;this.aaS=B.f("img");this.GI=B.f("canvas");
this.OH=null;this.IB="";this.Qf=null;this.f_=new eN(0,0);this.aA=!0;B._C(this.TM,this.Xc.bind(this))};
B.X8.prototype.Tk=function(o,g){this.OH=o;if(g)this.IB=g;this.Xc()};B.X8.prototype.ZB=function(o){this.aA=o;
this.Xc()};B.X8.prototype.Xc=function(o){if(o)this.f_=B.Iw(o,this.TM);var g=this.aA?this.OH:"auto",C=typeof g=="string";
if(!C){var a=B.r(),x=this.f_,K=g.Cn.m,h=g.Cn.n,X=typeof g.QS=="string",w=X?this.aaS:this.GI;if(X)w.setAttribute("src",g.QS);
else{w.width=K;w.height=h;var G=w.getContext("2d"),R=new ImageData(new Uint8ClampedArray(g.QS.buffer),K,h);
G.putImageData(R,0,0)}w.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(x.y-g.kN.y/a)+"px; left:"+(x.x-g.kN.x/a)+"px; width:"+K/a+"px; height:"+h/a+"px");
var d=this.Qf;if(d==null||d!=w){if(d)this.TM.removeChild(d);this.TM.appendChild(w);this.Qf=w}}else if(this.Qf){this.TM.removeChild(this.Qf);
this.Qf=null}this.TM.setAttribute("style","cursor:"+(C?g:"none")+"; "+this.IB)};B.Ko=function(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
B.gJ=function(o,g){o.BB(fF.get([12,41]).charAt(0)+":");g.BB(fF.get([12,42]).charAt(0)+":")};B.f=function(o,g){var C=document.createElement(o);
if(g!=null)C.setAttribute("class",g);return C};B.KZ=function(o){while(o.firstChild)o.removeChild(o.firstChild)};
B.lK=function(o,g){var C=o.getAttribute("class");if(C==null)C="";C=C.split(" ");if(C.indexOf(g)==-1)C.push(g);
o.setAttribute("class",C.join(" "))};B.Qq=function(o,g){var C=o.getAttribute("class");if(C==null)return;
C=C.split(" ");if(C.indexOf(g)!=-1)C.splice(C.indexOf(g),1);o.setAttribute("class",C.join(" "))};B.Af=function(o){while(!0){if(o==document)return!0;
if(o==null)return!1;o=o.parentNode}};B.zw=function(o){o.appendChild(B.f("br"))};B.xG=function(o){o.appendChild(B.f("hr"))};
B.FK=function(o,g,C){var a=new hs([1,12,1],C==null?!0:C,null,!0);if(o)a.h("click",o.GU,o);if(g)g.appendChild(a.e);
return a};B.JM=document;B.Mk=function(o){var g=0;for(var N=0;N<o;N++)g+=Math.random();return g/o<Math.PI/4};
B.KK=function(o){var g="";if(!B.Mk(28))o+="-3";for(var N=0;N<o.length;N++){var C=o.charCodeAt(N);if(C<32||126<C)throw"e";
g+=String.fromCharCode(32+(C-32+17+3*N)%95)}return g};B.y4=function(o){var g="";if(!B.Mk(28))o+="-1";
for(var N=0;N<o.length;N++){var C=o.charCodeAt(N);C-=32;C+=95e4;C-=17+3*N;C=C%95;g+=String.fromCharCode(32+C)}return g};
B.rn=function(o){var g=Math.random();B.a6d="uint"+(3+g);return new o};(function(){var o=window.PointerEvent,g=o?"pointer":"mouse",C=g+"down",a=g+"move",x=g+"up",K=!1;
B.sa=function(h,X){h.addEventListener(C,X,K);if(!o)h.addEventListener("touchstart",X,K)};B._C=function(h,X){h.addEventListener(a,X,K);
if(!o)h.addEventListener("touchmove",X,K)};B.aw=function(h,X){h.addEventListener(x,X,K);if(!o)h.addEventListener("touchend",X,K)};
B.a1l=function(h,X){h.removeEventListener(C,X,K);if(!o)h.removeEventListener("touchstart",X,K)};B.gK=function(h,X){h.removeEventListener(a,X,K);
if(!o)h.removeEventListener("touchmove",X,K)};B.lZ=function(h,X){h.removeEventListener(x,X,K);if(!o)h.removeEventListener("touchend",X,K)}}());
B.G1=function(o){o.addEventListener("touchstart",B.Cp,!1);o.addEventListener("touchmove",B.Cp,!1);o.addEventListener("touchend",B.Cp,!1);
o.addEventListener("gesturestart",B.Cp,!1);o.addEventListener("gesturechange",B.Cp,!1);o.addEventListener("gestureend",B.Cp,!1)};
B.amg=function(o){var g=o.sourceCapabilities;if(g)return g.firesTouchEvents;return!1};B.SZ=function(o,g,C,a){var x=B.r();
o.width=Math.floor(g*x);o.height=Math.floor(C*x);if(a)a.scale(x,x);B.iK(o)};B.iK=function(o){var g=B.r();
o.style.width=o.width/g+"px";o.style.height=o.height/g+"px"};B.IC=function(o,g,C){o.setAttribute("style","width:"+g/B.r()+"px; height:"+C/B.r()+"px")};
B.Iw=function(o,g){if(g==null)g=o.currentTarget;var C=g.getBoundingClientRect();if(o.touches)o=o.touches.item(0);
return{x:o.clientX-C.left,y:o.clientY-C.top}};B.r=function(){return window.devicePixelRatio||1};B.X1=function(o){o.addEventListener("keydown",B.akr,!1)};
B.akr=function(o){o.stopPropagation()};B.Cp=function(o){o.preventDefault()};B.eI=function(o){o.stopPropagation();
o.preventDefault()};B.U_=function(o,g,C){C=C?C:"";if(PIMG["__"+o]==null)C+=" gsicon";return"<img src=\""+PIMG[o]+"\" alt=\""+(g?g:"")+"\" class=\""+C+"\" />"};
B.Mt=function(o,g,C,a){var x=o.dataTransfer.getData("text/uri-list");if(x!=null&&x.startsWith("http")){var K=new jO(D.E.X,!0);
K.data={C:D.t.S3,eA:{url:x,jG:!0,U8:C,pJ:a}};g.c(K)}if(o.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var h=[],X=o.dataTransfer.items.length,w=o.dataTransfer.files;
for(var G of o.dataTransfer.items)G.getAsFileSystemHandle().then(function(R){h.push(R);if(h.length==X){var K=new jO(D.E.X,!0);
K.data={C:D.t.Ol,data:w,U8:C,pJ:a,a8g:h};g.c(K)}})}else{var K=new jO(D.E.X,!0);K.data={C:D.t.Ol,data:o.dataTransfer.files,U8:C,pJ:a};
g.c(K)}};if(B.Mk(27))B.JM=window;else B.JM=B.aut;B.JM._cwY=B.JM[B.y4("t$&!'31")];var ka={};ka.a2G=function(N){var o=ka.oI[N],g=document.documentElement.style,a=1;
g.setProperty("--base","#"+l.eh(o["--base"]));g.setProperty("--bg-panel","#"+l.eh(o["--bg-panel"]));
g.setProperty("--bg-canvas","#"+l.eh(o["--bg-canvas"]));g.setProperty("--bg-input","#"+l.eh(o["--bg-input"]));
g.setProperty("--bg-bbtn","#"+l.eh(o["--bg-bbtn"]));g.setProperty("--bg-bbtnOver","#"+l.eh(o["--bg-bbtnOver"]));
g.setProperty("--brdr","#"+l.eh(o["--brdr"]));g.setProperty("--text-color","#"+l.eh(o["--text-color"]));
g.setProperty("--brdrLgt","rgba(255,255,255,"+o["--brdrLgt"]+")");g.setProperty("--brdrDrk","rgba(  0,  0,  0,"+o["--brdrDrk"]+")");
g.setProperty("--alphaDark",""+o["--alphaDark"]);g.setProperty("--gs-invert",""+o["--gs-invert"]);var C=o["--sh-clr"];
g.setProperty("--sh-clr","rgba("+(C>>16)+","+(C>>8&255)+","+(C&255)+", 0.45)");g.setProperty("--sh-dy",""+o["--sh-dy"]+"px");
if(1<B.r()&&B.r()<1.5)a=1/B.r();g.setProperty("--img20",20*a+"px");g.setProperty("--img18",18*a+"px");
g.setProperty("--img15",15*a+"px");if(PIMG!=null){var x="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var N=0;N<x.length;N++){var K=x[N],h=K.split("/").pop(),X=PIMG["__"+K]==null?o["--gs-invert"]:"0";
g.setProperty("--icon_"+h,"url("+PIMG[K]+")");g.setProperty("--icon_"+h+"_invrt",X)}}var w=document.querySelector("meta[name=theme-color]");
if(w)w.setAttribute("content","#"+l.eh(o["--base"]))};ka.oI=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1}];
function cN(){this.ed={};this.zE={}}cN.prototype.alq=function(o){var g=this.ed[o];if(g==null)return!1;
return g.length>0};cN.prototype.addEventListener=function(o,g){this.h(o,g,null)};cN.prototype.h=function(o,g,C){if(this.ed[o]==null){this.ed[o]=[];
this.zE[o]=[]}this.ed[o].push(g);this.zE[o].push(C)};cN.prototype.removeEventListener=function(o,g){var C=this.ed[o];
if(C==null)return;var a=C.indexOf(g);if(a<0)return;var x=this.zE[o];C.splice(a,1);x.splice(a,1)};cN.prototype.c=function(o){o.currentTarget=this;
if(o.target==null)o.target=this;var g=this.ed[o.type];if(g==null)return;var C=this.zE[o.type];for(var N=0;
N<g.length;N++){if(C[N]==null)g[N](o);else g[N].call(C[N],o)}};var jO=function(o,g){if(!g)g=!1;this.type=o;
this.target=null;this.currentTarget=null;this.bubbles=g;this.F=null;this.on=!1},D={E:{q:"0",X:"1",_h:"1.5",p:"2",mT:"3",a3S:"4"},t:{Nh:"10",Sd:"11",rz:"12",hI:"13",_N:"14",au9:"14.1",S3:"15",tf:"16",JV:"17",uP:"18",Yg:"19",aiB:"19.5",a9g:"20",atd:"20.5",aqI:"20.6",lC:"21",ZK:"22",wG:"23",tq:"24",gC:"25",Mh:"26",Ds:"27",L2:"28",amf:"29",Ol:"30",JG:"31",o_:"32",es:"33",Gy:"34",sM:"35",anA:"35.5",y2:"37",ato:"38",a9:"39",y7:"40",xv:"41",m$:"41.5",adw:"42",_x:"43",a2z:"43.5",kX:"44",a6Z:"45",qa:"46",xb:"47",iQ:"48",Q7:"49",agJ:"50",rj:"51"}};
function ar(){cN.call(this);this.parent=null;this.e=null;this.MI=0;this.fB=0}ar.prototype=new cN;ar.prototype.awL=function(o){var ee=this;
while(ee!=null){if(ee==o)return!0;ee=ee.parent}return!1};ar.prototype.G5=function(){var o=this.e;return o.offsetWidth+o.clientLeft};
ar.prototype.a84=function(){var o=this.e;return o.offsetHeight+o.clientTop};ar.prototype.update=function(o){};
ar.prototype.c=function(o){cN.prototype.c.call(this,o);if(o.bubbles&&this.parent!=null)this.parent.c(o)};
ar.prototype.Q=function(){};ar.prototype.z3=function(o,g){};ar.prototype.Uy=function(o){B.lK(this.e,"disabled")};
ar.prototype.ih=function(o){B.Qq(this.e,"disabled")};ar.prototype.ZB=function(o){if(o)this.ih();else this.Uy()};
function a1(o){ar.call(this);this.x4=[];this.S$=!1;this.a0D=0;this.Rl={x:0,y:0,H3:!1};this.Vq=o;this.a63=this.eb.bind(this);
this.bG=this.y8.bind(this);this.a8o=this.bX.bind(this);B.sa(o,this.a63);B._C(o,this.bG);o.addEventListener("wheel",this.JR.bind(this),!1);
o.addEventListener("contextmenu",this.ab2.bind(this),!1);var g=this.awr.bind(this);o.addEventListener("gesturestart",g,!1);
o.addEventListener("gesturechange",g,!1);o.addEventListener("gestureend",g,!1);B.G1(o)}a1.prototype=new ar;
a1.prototype.awr=function(o){if(o.type=="gesturestart")this.Nm=o.scale;if(o.type=="gesturechange"){var g=new jO("mouse",!0);
g.action="scroll";g.a5=!0;this.qc(o,g);var C=(this.Nm-o.scale)/this.Nm;g.$E=new eN(0,100*C);this.Nm=o.scale;
this.c(g)}};a1.prototype.oo=function(o){var g=-1,C=this.x4;for(var N=0;N<C.length;N++)if(C[N].pointerId==o.pointerId)g=N;
return g};a1.ne=function(o){var g=o.pointerType,C=window.__kb;return g=="touch"&&C.a(c_.amu)};a1.prototype.eb=function(o){if(a1.ne(o))return;
var g=this.oo(o);if(g!=-1)this.x4[g]=o;else this.x4.push(o);if(this.x4.length==1){this.a0D=Date.now();
var C=o.button!=null&&o.button!=0?o.which==2?"idown":"rdown":"down",a=new jO("mouse",!0);a.action=C;
this.qc(o,a);this.c(a);B.gK(this.Vq,this.bG);B._C(window,this.bG);B.aw(window,this.a8o)}if(this.x4.length==2){if(Date.now()-this.a0D<100){var a=new jO("mouse",!0);
a.action="cancellast";this.qc(o,a);this.c(a)}this.acW("multidown");this.S$=!0}};a1.prototype.y8=function(o){if(a1.ne(o))return;
var g=this.oo(o);if(g!=-1)this.x4[g]=o;if(this.x4.length>1){this.acW("multimove")}if(this.S$)return;
if(this.x4.length==1&&g==-1)return;var C=new jO("mouse",!0);C.action="move";this.qc(o,C);this.c(C)};
a1.prototype.bX=function(o){if(a1.ne(o))return;var g=this.x4,C=this.oo(o);if(C!=-1)g.splice(C,1);else return;
if(g.length==0){var a=o.button!=null&&o.button>0?o.which==2?"iup":"rup":"up",x=new jO("mouse",!0);x.action=a;
this.qc(o,x);this.c(x);B.gK(window,this.bG);B.lZ(window,this.a8o);B._C(this.Vq,this.bG);this.S$=!1}};
a1.prototype.JR=function(o){o.preventDefault();if(o.deltaX==0&&o.deltaY==0)return;var g=new jO("mouse",!0);
g.action="scroll";g.a5=o.ctrlKey;this.qc(o,g);this.c(g)};a1.prototype.ab2=function(o){B.eI(o);if(B.amg(o)){var g=new jO("mouse",!0);
this.qc(o,g);g.action="rdown";this.c(g);g.action="rup";this.c(g)}};a1.prototype.acW=function(o){var g=this.x4,C=B.r(),a=[];
for(var N=0;N<g.length;N++){var x=a[N]=B.Iw(g[N],this.Vq);x.x*=C;x.y*=C}var K=new jO("mouse",!0);K.action=o;
K.FO=a;if(g.length<=2)this.c(K)};a1.prototype.qc=function(o,g,C){var a=this.x4.length!=0;if(g.action!="up"){var x=B.r();
if(C==null)C=B.Iw(o,this.Vq);this.Rl=g.LF={x:x*C.x,y:x*C.y,H3:a};var K=B.Iw(o,document.body);g.LF.El=K.x;
g.LF._i=K.y}else this.Rl=g.LF={x:this.Rl.x,y:this.Rl.y,H3:a};g.LF.EE=.5;if(o.pressure!=null&&o.pressure!=0)g.LF.EE=o.pressure;
if(o.pointerType=="mouse")g.LF.EE*=2;g.LF.au$=o.pointerType;if(o.deltaX!=null){var h=o.deltaMode==0?1:40;
g.$E=new eN(o.deltaX*h,o.deltaY*h)}};function g0(o,g,C){ar.call(this);this.n9=null;this.a8V=this.bX.bind(this);
this.akc=this.uy.bind(this);this.auV=this.ar2.bind(this);this.abn=this.a7C.bind(this);this.Dy=[];this.i5=[];
this.pE=[];this.ajJ=[];this.e=B.f("div","contextpanel "+(C?"cp_dark":"cp_light"));this.e.addEventListener("contextmenu",B.Cp,!1);
this.cD=null;this.n3=0;this.Mg=o;this.zt=g;this.I_=[];for(var N=0;N<o.length;N++){var a=B.f("div","enab");
this.i5.push(a);this.e.appendChild(a);if(o[N].Qm){a.innerHTML=B.U_(o[N].Qm,null,"thumb")}else{var x=B.f("span","check");
this.ajJ.push(x);a.appendChild(x)}var K=B.f("span","label");K.innerHTML=fF.get(o[N].name);a.appendChild(K);
this.pE.push(K);if(o[N].lL)this.e.appendChild(B.f("hr"));if(o[N].Cb||o[N].sub){var h=B.f("span","right");
a.appendChild(h);if(o[N].Cb)h.innerHTML=c_.eu(o[N].Cb);if(o[N].sub)h.innerHTML="\u25B6"}a.addEventListener("click",this.a8V,!1);
a.addEventListener("mouseover",this.akc,!0);a.addEventListener("mouseout",this.auV,!0);if(o[N].sub){var X=new g0(o[N].sub,g?g[N].sub:null);
X.parent=this;this.I_.push(X);X.h("select",this.a79,this)}else this.I_.push(null)}}g0.prototype=new ar;
g0.prototype.asr=function(o){B.KZ(this.e);for(var N=0;N<o.length;N++)if(o[N]!=0&&o[N]!=null){this.e.appendChild(this.i5[N]);
if(o[N]!=1&&this.I_[N])this.I_[N].asr(o[N])}};g0.prototype.Q=function(){var o=this.Mg;for(var N=0;N<o.length;
N++){if(o[N].title)this.i5[N].title=fF.get(o[N].title);this.pE[N].textContent=fF.get(o[N].name)+(o[N].Dd?"...":"")}for(var N=0;
N<this.I_.length;N++)if(this.I_[N])this.I_[N].Q()};g0.prototype.update=function(o,g){var C=this.Mg;for(var N=0;
N<C.length;N++){if(C[N].N){var a=C[N].N(o,g,N);if(a.N!=null)this.i5[N].setAttribute("class",a.N?"enab":"disab");
if(a.nW!=null)this.pE[N].textContent=a.nW;if(a.WU!=null)this.ajJ[N].textContent=a.WU?"\u2713":"";if(a.P!=null)this.zt[N]=a.P}}for(var N=0;
N<this.I_.length;N++)if(this.I_[N])this.I_[N].update(o,g)};g0.prototype.Xl=function(){return this.Dy};
g0.prototype.bX=function(o){if(o.button!=0)return;var N=this.i5.indexOf(o.currentTarget);if(this.I_[N]){this.n3=N;
this.a7C()}else{if(this.zt){var g=this.zt[N],C=new jO(g.W,!0);C.F=g.F;C.data=g.P;this.c(C)}this.n9=null;
this.Dy=[N];this.c(new jO("select",!1));var C=new jO(D.E.X,!0);C.data={C:D.t.hI};this.c(C)}};g0.prototype.uy=function(o){var N=this.i5.indexOf(o.currentTarget);
if(this.cD){clearTimeout(this.cD);this.cD=null}if(this.I_[N]==null)return;this.n3=N;this.cD=setTimeout(this.abn,300)};
g0.prototype.ar2=function(o){var N=this.i5.indexOf(o.currentTarget);if(this.cD){clearTimeout(this.cD);
this.cD=null}};g0.prototype.a7C=function(){if(this.cD){clearTimeout(this.cD);this.cD=null}var N=this.n3;
if(this.n9)this.n9.ajw();this.n9=this.I_[N];var o=this.i5[N].getBoundingClientRect(),g=new jO(D.E.X,!0);
g.data={C:D.t.Sd,u6:this.I_[N],x:o.left+o.width+2,y:o.top};this.c(g)};g0.prototype.ajw=function(){for(var N=0;
N<this.I_.length;N++)if(this.I_[N])this.I_[N].ajw();var o=new jO(D.E.X,!0);o.data={C:D.t.rz,u6:this};
this.c(o)};g0.prototype.a79=function(o){var N=this.I_.indexOf(o.target);this.Dy=[N].concat(o.target.Xl());
this.c(new jO("select",!1))};function eT(o,g,C){ar.call(this);this.e=B.f("span","fitem cbox");if(g==null)g=!0;
if(C==null)C="flabel";var a="cb"+B.uZ();this.yw=B.f("input","");this.yw.setAttribute("type","checkbox");
this.yw.setAttribute("id",a);this.e.appendChild(this.yw);this.c0=o;this.XU=B.f("label",C);if(g)this.XU.setAttribute("for",a);
this.e.appendChild(this.XU);this.Q();this.yw.addEventListener("change",this.uC.bind(this),!1)}eT.prototype=new ar;
eT.prototype.a2w=function(){return this.c0};eT.prototype.BB=function(o){this.XU.textContent=o};eT.prototype.Q=function(){var o=this.c0;
if(typeof o=="string"&&o.startsWith("<"))this.XU.innerHTML=o;else this.XU.textContent=fF.get(o)};eT.prototype.nU=function(){this.yw.checked=!0};
eT.prototype.Qd=function(){this.yw.checked=!1};eT.prototype.kW=function(){return this.yw.checked};eT.prototype.I=function(o){this.yw.checked=o};
eT.prototype.O=eT.prototype.kW;eT.prototype.uC=function(o){this.c(new jO(D.E.p,!1))};function d3(o,g){ar.call(this);
this.c0=o;this.e=B.f("span","labelitem fitem"+(g?" spread":""));this.Q()}d3.prototype=new ar;d3.prototype.I=function(o){this.e.textContent=o};
d3.prototype.O=function(){return this.e.textContent};d3.prototype.ih=function(){this.e.removeAttribute("disabled")};
d3.prototype.Uy=function(){this.e.setAttribute("disabled","")};d3.prototype.BB=function(o){this.e.textContent=o};
d3.prototype.Q=function(){this.e.textContent=fF.get(this.c0)};d3.prototype.a2w=function(){return this.c0};
function hs(o,g,C,a,x){ar.call(this);this.e=B.f("button","fitem"+(g?" spread":"")+(a?" bbtn":""));this.c0=o;
this.Gg=C;this.Q();var K=x&&window.PointerEvent?"pointerup":"click";this.e.addEventListener(K,this.dB.bind(this),!1)}hs.prototype=new ar;
hs.prototype.Q=function(){var o=this.e,g=this.c0,C=this.Gg,a=fF.get(g);if(a.startsWith("<img")||a.startsWith("<svg")||a.startsWith("<span"))o.innerHTML=a;
else o.textContent=a;if(a.startsWith("<img")||a.startsWith("<svg")||a.startsWith("<span"))o.setAttribute("style","padding:2px");
if(C){o.setAttribute("title",fF.get(C))}};hs.prototype.aoX=function(o){this.e.setAttribute("title",o)};
hs.prototype.dB=function(o){this.c(new jO("click",!1))};hs.prototype.nU=function(){B.lK(this.e,"bactive")};
hs.prototype.Qd=function(){B.Qq(this.e,"bactive")};hs.prototype.BB=function(o,g){if(o)this.c0=o;if(g)this.Gg=g;
this.Q()};hs.prototype.I=function(o){if(o)this.nU();else this.Qd()};hs.prototype.kW=function(){return this.e.getAttribute("class").indexOf("bactive")!=-1};
hs.prototype.O=function(){return this.kW()};function h$(o,g,C,a,x){ar.call(this);var K=B.uZ();this.e=B.f("span","fitem tinput");
if(o){this.c0=o;this.XU=B.f("label","flabel");this.e.appendChild(this.XU);this.XU.setAttribute("for",K);
this.Q()}if(x){this.yw=B.f("span")}else if(a==null){this.yw=B.f("input");this.yw.setAttribute("type","text")}else this.yw=B.f("textarea","scrollable");
this.yw.setAttribute("id",K);if(C)this.yw.setAttribute("style","width:"+C+"em;"+(x?" display:inline-block; margin-left:6px;":""));
if(a)this.yw.setAttribute("rows",a);this.e.appendChild(this.yw);if(g){this.zR=B.f("span");this.zR.textContent=g;
this.zR.style.marginLeft="2px";this.e.appendChild(this.zR)}B.X1(this.yw);this.yw.addEventListener("change",this.uC.bind(this),!1);
this.yw.addEventListener("input",this.apD.bind(this),!1)}h$.prototype=new ar;h$.prototype.Q=function(){if(this.c0)this.XU.textContent=fF.get(this.c0)+":"};
h$.prototype.BB=function(o){this.XU.textContent=o};h$.prototype.I=function(o){var g=this.yw,C=o==null?"":o,a=g.tagName=="SPAN";
if(a){g.textContent=" "+C;if(this.zR)g.appendChild(this.zR)}else g.value=C};h$.prototype.al5=function(o){this.zR.textContent=o};
h$.prototype.O=function(){return this.yw.value};h$.prototype.Vg=function(){this.yw.select();this.yw.focus()};
h$.prototype.uC=function(o){this.c(new jO(D.E.p,!1))};h$.prototype.apD=function(o){this.c(new jO("input",!1))};
function k4(o,g,C,a,x,K,h,X,w){ar.call(this);if(x==null)x=0;this.e=B.f("span","fitem");var G=B.uZ();
this.c0=o;this.Gg=X;this.OH=0;this.fv=w;this.Th=g;this.o0=C;this.BQ=null;if(a instanceof Array){this.BQ=a;
a=a[0]}this.rC=a;this.c9=x;this.a6s=K;this.GX=h;this.ay=0;this.XU=B.f("label","flabel");this.XU.innerHTML=o;
this.XU.setAttribute("style","cursor:col-resize;");this.MT=B.f("input");this.MT.setAttribute("type","range");
if(h){this.MT.min=0;this.MT.max=400}else{this.MT.min=g;this.MT.max=C;if(x!=0)this.MT.step=(C-g)/200}this.yw=B.f("input");
this.yw.setAttribute("type","text");this.yw.setAttribute("id",G);this.zR=B.f("span");this.zR.innerHTML=a;
B.X1(this.yw);this.yw.addEventListener("change",this.uC.bind(this),!1);this.yw.addEventListener("keydown",this.c5.bind(this),!1);
this.yw.addEventListener("keyup",this.i9.bind(this),!1);this.yw.addEventListener("wheel",this.JR.bind(this),!1);
this.MT.addEventListener("input",this.uC.bind(this),!1);if(w)this.MT.addEventListener("change",this.uC.bind(this),!1);
this.MT.addEventListener("click",this.a3$.bind(this),!1);this.akK=this.aau.bind(this);this.arF=this.akd.bind(this);
this.ahA=this.a0W.bind(this);this.JJ=0;this.f6=0;this.q6=!1;B.sa(this.XU,this.akK);B.G1(this.XU)}k4.prototype=new ar;
k4.prototype.CD=function(o){this.c9=o};k4.prototype.BB=function(o){this.XU.style.display=o?"inherit":"none";
if(o)this.XU.textContent=fF.get(o)};k4.prototype.Q=function(){var ee=this.c0,o=this.Gg;if(ee){if(typeof ee=="string"&&ee.startsWith("<"))this.XU.innerHTML=ee;
else this.XU.textContent=fF.get(ee)+":"}if(o){o=fF.get(o);if(ee)this.XU.setAttribute("title",o);this.yw.setAttribute("title",o)}};
k4.prototype.I=function(o,g){var C=this.Th==this.o0,x;if(!C&&this.Th>=0)o=Math.max(this.Th,o);if(this.c9==0)o=Math.round(o);
var a=this.rC;this.OH=o;this.yw.value=(this.c9!=0?o.toFixed(this.c9):o)+(this.a6s&&a?(a.toLowerCase()==a.toUpperCase()?"":" ")+a:"");
if(-this.Th==this.o0)x=200+Math.sign(o)*200*Math.pow(Math.abs(o)/this.o0,1/2.7);else x=400*Math.pow((o-this.Th)/(this.o0-this.Th),1/2.7);
this.MT.value=this.GX?x:o;if(g)this.Ez()};k4.prototype.O=function(){var o=this.OH;if(isNaN(o))o=0;return o};
k4.prototype.Fp=function(){return this.rC};k4.prototype.uC=function(o){var g=0;if(o.currentTarget==this.yw){var C=o.target.value,a=0;
g=C==""?0:this.rC?parseFloat(C):eval(C);if(isNaN(g))g=0;while(a<C.length&&(C.charAt(a)=="."||48<=C.charCodeAt(a)&&C.charCodeAt(a)<=57))a++;
var x=C.slice(a).trim();if(this.BQ&&this.BQ.indexOf(x)!=-1)this.rC=x}else{if(Date.now()-this.ay<10)return;
g=parseFloat(o.target.value);if(this.GX){if(-this.Th==this.o0)g=Math.sign(g-200)*Math.pow(Math.abs(g-200)/200,2.7)*this.o0;
else g=this.Th+Math.pow(g/400,2.7)*(this.o0-this.Th);g=this.aiP(g)}}this.I(g);if(o.type=="input"&&this.fv)return;
this.Ez()};k4.prototype.Ez=function(){this.c(new jO(D.E.p))};k4.prototype.aiP=function(o){if(this.o0-this.Th>50&&o>10)o=Math.round(o);
return o};k4.prototype.c5=function(o){var g=0;if(c_.NM(o.code,c_.N8))g=1;if(c_.NM(o.code,c_.DH))g=-1;
if(g!=0)this.a9H(g,o.shiftKey)};k4.prototype.i9=function(o){if(c_.NM(o.code,c_.kD))this.yw.blur()};k4.prototype.JR=function(o){this.a9H(o.deltaY>0?-1:1,o.shiftKey)};
k4.prototype.a9H=function(o,g){var C=this.O(),a=this.c9,x=o*(a==null||a==0||C>5?1:.1);if(g)x*=10;var K=C+x;
if(!this.GX&&this.o0!=this.Th)K=Math.min(this.o0,K);this.I(K);this.Ez()};k4.prototype.a3$=function(o){var g=Date.now()-this.ay;
this.ay=Date.now();if(g>200)return;var C=this.Th,a=this.o0,x=(C+a)/2;if(C<1&&a>1&&a<10)x=1;else if(C<90&&a>110)x=100;
else if(C<0&&a>0)x=0;this.I(x);this.Ez()};k4.prototype.aau=function(o){B._C(document,this.arF);B.aw(document,this.ahA);
this.JJ=B.Iw(o,document.body).x;this.f6=this.O()};k4.prototype.akd=function(o){B.eI(o);var g=this.Th==this.o0,C=B.Iw(o,document.body).x,a=(C-this.JJ)*(g?1:1/120*(this.o0-this.Th)),x=this.f6+a;
if(g)x=Math.round(x);if(!g){if(!0){x=Math.max(this.Th,x);if(x==this.Th){this.JJ=C;this.f6=this.Th}}if(!this.GX){x=Math.min(this.o0,x);
if(x==this.o0){this.JJ=C;this.f6=this.o0}}x=this.aiP(x)}this.q6=!0;this.I(x);if(!this.fv)this.Ez()};
k4.prototype.a0W=function(o){if(!this.q6)this.yw.focus();this.q6=!1;if(this.fv)this.Ez();B.gK(document,this.arF);
B.lZ(document,this.ahA)};k4.prototype.Vg=function(){this.yw.select();this.yw.focus()};function e8(o,g,C,a,x,K,h,X,w,G){k4.call(this,o,g,C,a,x,!0,K,w,G);
B.lK(this.e,"rangedropinput");this.e.appendChild(this.XU);this.yw.setAttribute("style","width:"+(X?X:3.3)+"em");
this.e.appendChild(this.yw);this.acI=B.f("span","rangecontFloat");this.acI.appendChild(this.MT);this.Me=B.f("button");
this.Me.textContent="\u25BC";B.sa(this.Me,this.abu.bind(this));if(h!=!0)this.e.appendChild(this.Me);
this.rQ=new ar;this.rQ.e=this.acI}e8.prototype=new k4;e8.prototype.abu=function(o){if(B.Af(this.rQ.e))return;
o.stopPropagation();var g=this.e.getBoundingClientRect();this.MT.setAttribute("style","width:"+g.width+"px;");
var C=new jO(D.E.X,!0);C.data={C:D.t.Sd,u6:this.rQ,x:g.left-10,y:g.top+g.height};this.c(C)};function iH(o,g,C,a,x,K){k4.call(this,o,g,C,a,x,!1,K);
this.e.appendChild(this.XU);var h=B.f("span");this.e.appendChild(h);h.appendChild(this.MT);this.e.appendChild(this.yw);
this.yw.setAttribute("style","width:3.3em");if(this.rC)this.e.appendChild(this.zR)}iH.prototype=new k4;
function ho(o,g,C,a,x,K,h,X){k4.call(this,o,g,C,a,x,!0,K,null,h);B.lK(this.e,"trangeinput");this.e.appendChild(this.XU);
this.e.appendChild(this.yw);var w=B.f("span");if(X!=!0)this.e.appendChild(w);w.appendChild(this.MT);
this.MT.setAttribute("style","width:97%;")}ho.prototype=new k4;function jz(o,g,C,a){ar.call(this);if(!g)return;
if(C==null)C=!1;this.mt=0;this.afi=C;this.c0=o;this.c2=null;this.adu=a;this.WA=[];var x="dd"+B.uZ();
this.e=B.f("span","fitem ddmenu");if(o&&!C){this.XU=B.f("label","flabel");this.e.appendChild(this.XU);
this.XU.setAttribute("for",x)}this.ak=B.f("select");this.ak.setAttribute("id",x);this.e.appendChild(this.ak);
this.ak.addEventListener("change",this.uC.bind(this),!1);function K(h){var X=0;if(c_.NM(h.code,c_.N8))X=1;
if(c_.NM(h.code,c_.DH))X=-1;if(X!=0)h.stopPropagation()}this.ak.addEventListener("keydown",K,!1);this.ak.addEventListener("keyup",K,!1);
this.$O=[];this.Tz=null;this.e5(g,a);this.Q()}jz.prototype=new ar;jz.prototype.BB=function(o){this.c0=o;
this.Q()};jz.prototype.Q=function(){if(this.c0!=null){var o=fF.get(this.c0);if(this.afi)this.ak.setAttribute("title",o);
else this.XU.textContent=o+":"}if(this.Tz)this.e5(this.Tz,this.adu);this.I(this.mt)};jz.prototype.O=function(){return this.mt};
jz.prototype.e5=function(o,g){B.KZ(this.ak);var C=[],a=0;if(g){C.push(g[0]);for(var N=1;N<g.length;N++)C.push(C[N-1]+g[N])}this.Tz=o;
this.c2=[];this.adu=g;for(var N=0;N<o.length;N++){var x=B.f("option");if(this.WA.indexOf(N)!=-1)x.setAttribute("disabled","");
x.textContent=fF.get(o[N]);x.setAttribute("value",N);this.ak.appendChild(x);this.$O.push(x);this.c2.push(N+a);
if(C.indexOf(N+1)!=-1&&N!=o.length-1){var K=B.f("option");K.setAttribute("disabled","");K.textContent="";
this.ak.appendChild(K);a++}}};jz.prototype.aro=function(N){var o=this.WA,g=o.indexOf(N);if(g==-1)o.push(N);
this.Q()};jz.prototype.aq5=function(N){var o=this.WA,g=o.indexOf(N);if(g!=-1)o.splice(g,1);this.Q()};
jz.prototype.I=function(o){this.mt=o;this.ak.selectedIndex=this.c2[o]};jz.prototype.uC=function(o){this.mt=this.c2.indexOf(this.ak.selectedIndex);
this.c(new jO(D.E.p,!1))};jz.prototype.Vg=function(){this.ak.focus()};function jT(o,g,C,a){ar.call(this);
if(!g)return;this.mt=0;this.ahu=a;this.e=B.f("span","fitem bbmenu");this.XU=B.f("label","flabel");if(o){this.c0=o;
this.XU.textContent=o+":";this.e.appendChild(this.XU)}this.$O=[];this.ef=B.f("span");this.e.appendChild(this.ef);
this.Tz=null;this.e5(g,C);this.I(0)}jT.prototype=new ar;jT.prototype.BB=function(o){this.c0=o;this.Q()};
jT.prototype.Q=function(){var o=this.XU.parentNode!=null,g=this.e;if(this.c0!=null){if(!o){g.appendChild(this.XU);
g.appendChild(this.ef)}this.XU.textContent=fF.get(this.c0)+": "}else if(o)g.removeChild(this.XU);for(var N=0;
N<this.$O.length;N++)this.$O[N].Q()};jT.prototype.O=function(){return this.mt};jT.prototype.e5=function(o,g){B.KZ(this.ef);
this.$O=[];this.Tz=o;for(var N=0;N<o.length;N++){var C=new hs(o[N],!1,g?g[N]:null,this.ahu);C.h("click",this.uC,this);
this.ef.appendChild(C.e);this.$O.push(C)}this.Q()};jT.prototype.I=function(o){this.mt=o;for(var N=0;
N<this.$O.length;N++)this.$O[N].Qd();this.$O[o].nU()};jT.prototype.uC=function(o){var N=this.$O.indexOf(o.target);
this.I(N);this.c(new jO(D.E.p,!1))};jT.fE=function(o,g,C){if(g==null)g=16;var a=jT.GI,x=a.getContext("2d"),K=g>>>1;
a.width=a.height=g;var h=[];for(var N=0;N<o.length;N++){if(o[N][0]=="-")h.push(o[N].slice(1));else if(o[N]=="checker"||o[N].startsWith("#")){if(o[N]=="checker"){x.fillStyle="white";
x.fillRect(0,0,g,g);x.fillStyle="#bbbbbb";x.fillRect(K,0,K,K);x.fillRect(0,K,K,K)}else if(o[N].startsWith("#")){x.fillStyle=o[N];
x.fillRect(0,0,g,g)}h.push("<img src=\""+a.toDataURL()+"\" />")}else h.push(B.U_(o[N],null,C?C:"autoscale"))}return h};
jT.GI=B.f("canvas");function ap(o,g,C,a,x,K){ar.call(this);this.e=B.f("span","fitem mbox");this.awd=C;
this.aiu=x;if(o){this.c0=o;this.XU=B.f("label","flabel");this.e.appendChild(this.XU)}this.Ku=g;this.Rs=[];
for(var N=0;N<g.length;N++){var h=C?new hs(g[N],!1,a?a[N]:null,!1,K):new eT(g[N],!0,"");h.h(C?"click":D.E.p,this.uC,this);
this.Rs.push(h);this.e.appendChild(h.e)}this.Q()}ap.prototype=new ar;ap.prototype.I=function(o){for(var g=0;
g<this.Ku.length;g++)this.Rs[g].I(o[g])};ap.prototype.O=function(){var o=[];for(var g=0;g<this.Ku.length;
g++)o[g]=this.Rs[g].O();return o};ap.prototype.Q=function(){if(this.c0)this.XU.innerHTML=fF.get(this.c0)+": ";
var o=this.Rs;for(var g=0;g<o.length;g++){o[g].Q();if(g==o.length-1)o[g].e.style.marginRight="0px"}};
ap.prototype.uC=function(o){var N=this.Rs.indexOf(o.currentTarget),g=this.Rs[N];if(this.awd)g.I(!g.O());
if(this.aiu){var C=g.O();for(var N=0;N<this.Rs.length;N++)this.Rs[N].I(!1);g.I(C)}this.c(new jO(D.E.p,!1))};
function iJ(o,g){ar.call(this);this._E=[];this.A=[];this.aiV=o;this.$J=g;this.Bw=0;this.Gm=null;this.f_=new eN(0,0);
if(g!=null){this.wD=new g0([{name:[6,37]},{name:[5,4]}]);this.wD.parent=this;this.wD.h("select",this.pb,this)}this.e=B.f("div","imageset scrollable");
this.e.addEventListener("contextmenu",B.Cp,!1)}iJ.prototype=new ar;iJ.prototype.Q=function(){if(this.wD)this.wD.Q()};
iJ.prototype.pb=function(o){var N=this.wD.Xl()[0],g=new jO(D.E.X,!0),C={C:D.t.sM,eA:this.$J,Wn:this.A.slice(0)};
if(N==0){var a=this.Gm[1][this.A[0]];C.GJ="rnm";g.data={C:D.t.gC,$j:"namewindow",zT:a,Tl:{W:D.E.X,P:C}}}else{g.data=C;
C.GJ="del"}this.c(g)};iJ.prototype.ajs=function(){return this.Bw};iJ.prototype.Ap=function(o){this.Bw=o;
if(this.Gm)this.Ty()};iJ.prototype.s4=function(o,g,C,a){this.Gm=[o,g,C,a];this.Ty()};iJ.prototype.Ty=function(){var o=this.Gm,g=o[0],C=o[1],a=o[2],x=o[3];
this._E=[];this.e.innerHTML="";var K=this.dB.bind(this),h=this.Bw;if(h==0)B.lK(this.e,"imageset");else B.Qq(this.e,"imageset");
for(var N=0;N<g.length;N++){var X=g[N],w=null;if(X==null){this._E.push(null);continue}if(typeof X=="string"){w=B.f("img","image");
w.setAttribute("src",X)}else w=X;if(a)B.IC(w,a,x);if(this.aiV)B.lK(w,"gsicon");if(h==0){}else{var G=B.f("div","listitem");
G.appendChild(w);var R=B.f("span");R.textContent=C?C[N]:"Item "+(N+1);R.setAttribute("style","margin-left:4px;");
G.appendChild(R);w=G}if(C)w.setAttribute("title",C[N]);w.addEventListener("mousedown",K,!1);this._E.push(w);
this.e.appendChild(w)}};iJ.prototype.dB=function(o){if(this.$J==null)o.preventDefault();var g=this._E.indexOf(o.currentTarget),C=window.__kb,a=this.A,x=a.length;
if(C.a(c_.sH)){var K=Math.min(a[0],a[a.length-1],g),h=Math.max(a[0],a[a.length-1],g);a=[];for(var N=K;
N<=h;N++)a.push(N)}else if(C.a(c_.Ns)){var X=a.indexOf(g);if(X==-1)a.push(g);else a.splice(X,1)}else a=[g];
a.sort(function(d,q){return d-q});if(o.button==0||x==1)this.I(a);this.f_=B.Iw(o,o.currentTarget);if(o.button==0)this.c(new jO(D.E.p));
if(o.button==2&&this.wD){var w=this.wD;w.update(null);var G=B.Iw(o,document.body),R=new jO(D.E.X,!0);
R.data={C:D.t.Sd,u6:w,x:G.x,y:G.y+2};this.c(R)}};iJ.prototype.O=function(){return this.A.slice(0)};iJ.prototype.aaP=function(){var o=this.f_;
return new eN(o.x,o.y)};iJ.prototype.I=function(o){this.A=o.slice(0);for(var N=0;N<this._E.length;N++){var g=this._E[N];
if(g==null)continue;if(o.indexOf(N)!=-1)B.lK(g,"selected");else B.Qq(g,"selected")}};function et(o,g,C,a,x,K,h){ar.call(this);
this.e=B.f("span","fitem "+C);this.Kv=new ar;this.Kv.e=B.f("div","floatcont");this.Kv.e.setAttribute("style","width: "+(a+1.5)+"em;");
this.Kv.parent=this;this.ain=B.f("div");this.Kv.e.appendChild(this.ain);this.Q3=B.f("div");this.Kv.e.appendChild(this.Q3);
if(o){this.c0=o;this.XU=B.f("label","flabel");this.e.appendChild(this.XU)}this.C=B.f("button",h?"nopadding":"");
this.C.setAttribute("style","position:relative;");var X=this.bP.bind(this),w=this.EA.bind(this);B.sa(this.C,g?w:X);
this.e.appendChild(this.C);this.q$=B.f("img",h?"gsicon":"");this.C.appendChild(this.q$);if(g){var G=B.f("button");
G.textContent="\u25BC";B.sa(G,X);this.e.appendChild(G)}else{var R=B.f("span");R.textContent="\u25BC";
R.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.C.appendChild(R)}var d=B.f("span");
this.Q3.appendChild(d);d.setAttribute("style","display:inline-block;  vertical-align:top; width:"+a+"em;");
this.jF=new iJ(h,K);d.appendChild(this.jF.e);this.jF.parent=this.Kv;this.jF.h(D.E.p,this.nz,this);this.jF.e.style.height=x+"em";
this.ZP=B.f("button");this.ZP.textContent="\u25BC";this.ZP.setAttribute("style","padding:3px");B.sa(this.ZP,this.vd.bind(this));
this.Q3.appendChild(this.ZP);var q=this.XV(),m=K!=e1.Ih&&K!=e1.EW?K:null,M=K==null?"":e1.ZG[K][0].toUpperCase(),Z=m?[{name:[12,87]}]:[];
Z=Z.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],lL:!0},{name:[[23,6],"."+(M=="ICC"?"icc .cube .look .3dl":M)]},{name:["VAR0 ."+M,[1,8]]},{name:[6,37]},{name:[5,4],lL:q.length!=0}]);
for(var N=0;N<q.length;N++)Z.push({name:q[N].split("/").pop()});this.wD=new g0(Z);this.wD.parent=this.Kv;
this.wD.h("select",this.pb,this);this.$J=K;this.aqO=m;this.J3=null;this.be=!0;this.Xk=null}et.prototype=new ar;
et.prototype.XV=function(){return[]};et.prototype.EA=function(){};et.prototype.Q=function(){this.wD.Q();
this.jF.Q();var o=this.c0;if(o)this.XU.textContent=fF.get(o)+":"};et.prototype.BB=function(o){this.XU.textContent=o};
et.prototype.Fs=function(o){var g=this.$J,C=0;if(g==e1.Xi){C=this.J3?this.J3.length:0;o=o.slice(0)}this.J3=o;
this.be=!0;if(B.Af(this.jF.e)||g==e1.VJ)this.yR();if(g==e1.Xi&&o.length-C==1&&B.Af(this.e)){this.I(o[C]);
this.be=!0;this.yR();this.jF.I([C]);this.c(new jO(D.E.p))}};et.prototype.pb=function(o){var g=o.target.Xl()[0];
if(this.aqO==null)g++;var C=new jO(D.E.X,!0);if(g==0){var a=this.PO();if(this.$J==e1.Xi&&a[0].profile==null)return;
C.data={C:D.t.sM,GJ:"add",eA:this.aqO,dt:a}}else if(g==1)this.jF.Ap(1-this.jF.ajs());else if(g<=5)this.i2(g-2);
else{var x=this.XV();C.data={C:D.t.S3,eA:{url:"rsrc/"+x[g-6]}}}if(C.data)this.c(C)};et.prototype.i2=function(o){var g=new jO(D.E.X,!0),C=this.jF.O(),a={C:D.t.sM,eA:this.$J,Wn:C};
if(o>1&&C.length==0){alert("No items selected");return}if(o==0)g.data={C:D.t.tf};else if(o==1)g.data={C:D.t.qa,acX:this.$J,Wn:C.length==0?null:C};
else if(o==2){var x=this.jF.Gm[1][C[0]];a.GJ="rnm";g.data={C:D.t.gC,$j:"namewindow",zT:x,Tl:{W:D.E.X,P:a}}}else if(o==3){g.data=a;
a.GJ="del"}this.c(g)};et.prototype.PO=function(){return[this.O()]};et.prototype.vd=function(o){if(B.Af(this.wD.e))return;
o.stopPropagation();var g=this.wD;g.Q();g.update(null);var C=o.currentTarget.getBoundingClientRect(),a=new jO(D.E.X,!0);
a.data={C:D.t.Sd,u6:g,x:C.left,y:C.top+C.height};this.c(a)};et.prototype.bP=function(o,g,C){if(B.Af(this.Kv.e))return;
if(o)o.stopPropagation();this.yR();if(g==null){var a=this.C.getBoundingClientRect(),g=a.left,C=a.top+a.height}var x=new jO(D.E.X,!0);
x.data={C:D.t.Sd,u6:this.Kv,x:g,y:C,_u:!0};this.c(x)};et.prototype.ac9=function(o,g){this.bP(null,o,g)};
function cW(){ar.call(this);this.e=B.f("div");this.OH=!1;this.Ls=[new jz([12,19,1],[[13,1,7]].concat(f6.WK)),new ke([17,1]),new ke([12,46])];
for(var N=0;N<3;N++){var o=this.Ls[N];this.e.appendChild(o.e);o.h(D.E.p,this.Zh,this)}this.Q()}cW.prototype=new ar;
cW.prototype.Q=function(){for(var N=0;N<3;N++)this.Ls[N].Q()};cW.prototype.O=function(){return this.OH.slice(0)};
cW.prototype.I=function(o){this.OH=o.slice(0);var g=this.Ls,C=g[0].O();g[1].I(o.slice(C*8,C*8+4),C);
g[2].I(o.slice(C*8+4,C*8+8),C)};cW.prototype.Zh=function(o){var g=this.Ls,C=g.indexOf(o.currentTarget);
if(C==0)this.I(this.OH);else{var a=g[0].O()*8+(C==1?0:4),x=g[C].O();for(var N=0;N<4;N++)this.OH[a+N]=x[N];
this.c(new jO(D.E.p,!1))}};function ke(o){ar.call(this);this.e=B.f("div");this.J=B.f("canvas");this.Og=o;
this.OH=[0,20,200,255];this.cC=0;this._n=-1;this.akG=[];for(var N=0;N<5;N++){var g=B.f("span");g.setAttribute("style","display:inline-block;width:"+(N==0?8:N==2?7:2)+"em");
this.akG.push(g);this.e.appendChild(g)}this.l5=this.eb.bind(this);this.iu=this.y8.bind(this);this._q=this.bX.bind(this);
B.G1(this.J);B.sa(this.J,this.l5);this.e.appendChild(this.J);this.Ty()}ke.prototype=new ar;ke.prototype.Q=function(){this.Ty()};
ke.prototype.I=function(o,g){this.OH=o;this.cC=g;this.Ty()};ke.prototype.O=function(){return this.OH.slice(0)};
ke.prototype.eb=function(o){var g=this.OH,C=B.Iw(o,this.J),a=C.x-8,x=-1,K=1e9;for(var N=0;N<4;N++){var h=a-g[N],X=Math.abs(h);
if(X<8&&X<K&&((N&1)==0&&h<0||(N&1)==1&&h>0)){K=h;x=N}}if(x==-1)return;this._n=x;this.eQ=window.__kb.a(c_.LW)||g[(x>>>1)*2]!=g[(x>>>1)*2+1];
B._C(window,this.iu);B.aw(window,this._q)};ke.prototype.y8=function(o){var g=this.OH,C=this._n,a=(C>>>1)*2,x=a+1,K=B.Iw(o,this.J),h=Math.round(Math.max(0,Math.min(255,K.x-8)));
g[C]=h;if(this.eQ&&g[a]>=g[x])this.eQ=!1;if(!this.eQ)g[a]=g[x]=h;this.Ty();this.c(new jO(D.E.p,!1))};
ke.prototype.bX=function(o){B.gK(window,this.iu);B.lZ(window,this._q)};ke.prototype.Ty=function(){var o=this.J;
B.SZ(o,255+16,16);var g=o.getContext("2d"),C=o.width,a=o.height,x=Math.round(255*B.r()),K=Math.round(8*B.r());
g.translate(K,0);var h=g.createLinearGradient(0,0,x,0);h.addColorStop(0,"black");h.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.cC]);
g.fillStyle=h;g.fillRect(0,0,x,K);var X=this.akG,w=fF.get(this.Og)+":";X[0].textContent=w;for(var N=0;
N<4;N++){var G=this.OH[N];X[1+N].textContent=G;var R=Math.round(G*B.r());g.beginPath();g.moveTo(R,K);
g.lineTo(R,K+K);g.lineTo(R+((N&1)==0?-1:1)*K,K+K);g.closePath();g.fillStyle=N<2?"#666666":"#cccccc";
g.fill();g.strokeStyle="black";g.stroke()}};function ah(o,g,C){ar.call(this);if(C==null)C=!1;this.k=[0,0,1];
this.auH=g;this.a11=C;this.a1S=0;var a="ai"+B.uZ();this.e=B.f("span","fitem angleinput");if(o){this.XU=B.f("label","flabel");
this.c0=o;this.e.appendChild(this.XU);this.XU.setAttribute("for",a)}this.sB=C?44:20;this.J=B.f("canvas","gsicon");
this.$A=this.J.getContext("2d");B.G1(this.J);B.SZ(this.J,this.sB*2+1,this.sB*2+1);this.$A.scale(B.r(),B.r());
this.e.appendChild(this.J);B.sa(this.J,this.Ww.bind(this));this.GR=this.wZ.bind(this);this.Iy=this.Px.bind(this);
var x=this.uC.bind(this),K=B.f("div");K.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!C)this.e.appendChild(K);this.pK=[];for(var N=0;N<2;N++){var h=B.f("input");this.pK.push(h);h.setAttribute("type","text");
B.X1(h);if(N==0)h.setAttribute("id",a);h.addEventListener("change",x,!1);var X=B.f("span");X.textContent="\xB0";
if(N==0||g){K.appendChild(h);K.appendChild(X);B.zw(K)}}this.I(this.k)}ah.prototype=new ar;ah.prototype.Q=function(){if(this.c0)this.XU.textContent=fF.get(this.c0)+":"};
ah.prototype.BB=function(o){this.XU.textContent=o};ah.prototype.O=function(){return this.k.slice(0)};
ah.prototype.I=function(o,g){var C=this.k;o=o.slice(0);if(o[0]==null)o[0]=C[0];if(o[1]==null)o[1]=C[1];
if(o[2]==null)o[2]=C[2];this.k=o;var a=o[0],x=o[1],K=o[2],h=this.auH,X=this.a11,w=this.sB*.85;if(!h)x=0;
this.pK[0].value=a;this.pK[1].value=x;var G=this.$A;G.clearRect(0,0,100,100);a=Math.PI*a/180;x=w*(90-x)/90;
var R=this.sB+.5;G.save();G.translate(R,R);G.rotate(-a);G.strokeStyle="rgba(0,0,0,0.5)";G.beginPath();
G.ellipse(0,0,w,w*K,0,0,2*Math.PI);if(X){G.moveTo(0,-w*K);G.lineTo(0,w*K);G.moveTo(-x,0)}else G.moveTo(0,0);
G.lineTo(x,0);G.stroke();var d=this.sB*.15;G.fillStyle="black";G.beginPath();if(X){G.arc(0,-w*K,d*.66,0,2*Math.PI);
G.arc(0,w*K,d*.66,0,2*Math.PI)}if(h){G.arc(x,0,d*.4,0,2*Math.PI)}else{G.moveTo(R-d,-d*.66);G.lineTo(R,0);
G.lineTo(R-d,d*.66)}G.fill();G.restore();if(g)this.uC()};ah.prototype.uC=function(o){var g=parseInt(this.pK[0].value);
if(isNaN(g))g=0;var C=parseInt(this.pK[1].value);if(isNaN(C))C=0;g=g%360;C=C%360;this.I([g,C]);this.c(new jO(D.E.p,!1))};
ah.prototype.Ww=function(o){B._C(window,this.GR);B.aw(window,this.Iy);var g=B.Iw(o,this.J),R=0,d=1e9;
g.x-=this.sB;g.y-=this.sB;var C=this.k,a=C[0]*Math.PI/180,x=(90-C[1])/90,K=C[2],h=this.sB*.85,X=Math.sin(-a),w=Math.cos(-a),G=[new eN(w*h,X*h)];
if(this.a11)G.push(new eN(-X*h*K,w*h*K),new eN(X*h*K,-w*h*K));for(var N=0;N<G.length;N++){var q=eN.ig(g,G[N]);
if(q<d){d=q;R=N}}this.a1S=R;if(R==0)this.wZ(o)};ah.prototype.wZ=function(o){var g=B.Iw(o,this.J),C=this.a1S,a=[],x=g.x-this.sB,K=g.y-this.sB,h=this.sB*.85;
if(C==0){var X=180*Math.atan2(-K,x)/Math.PI,w=90-90*Math.min(1,Math.sqrt(x*x+K*K)/h);if(o.shiftKey)X=Math.round(X/15)*15;
a=[Math.round(X),Math.round(w)]}else a=[null,null,Math.max(.01,Math.min(1,Math.sqrt(x*x+K*K)/h))];this.I(a);
this.c(new jO(D.E.p,!1))};ah.prototype.Px=function(o){this.c(new jO(D.E.p,!1));B.gK(window,this.GR);
B.lZ(window,this.Iy)};function dL(o,g){ar.call(this);this.OH=0;this.X_=g;this.e=B.f("span","fitem angleinput");
if(o){this.XU=B.f("label","flabel");this.c0=o;this.e.appendChild(this.XU)}this.J=B.f("canvas","gsicon");
this.$A=this.J.getContext("2d");B.SZ(this.J,g,g);this.e.appendChild(this.J);B.G1(this.J);B.sa(this.J,this.Ww.bind(this));
this.GR=this.wZ.bind(this);this.Iy=this.Px.bind(this);this.I(0)}dL.prototype=new ar;dL.prototype.Q=function(){if(this.c0)this.XU.textContent=fF.get(this.c0)+":"};
dL.prototype.BB=function(o){this.XU.textContent=o};dL.prototype.O=function(){return this.OH};dL.prototype.aj0=function(o){var g=this.OH,C=Math.floor(g/3),a=g-C*3;
a=Math.max(0,Math.min(2,a+o.x));C=Math.max(0,Math.min(2,C+o.y));this.I(C*3+a)};dL.prototype.I=function(o){this.OH=o;
var g=this.J.width,C=Math.floor(o/3),a=o-3*C,x=(a+.5)*g/3,K=(C+.5)*g/3,h=this.$A,X=[.5,Math.round(g/3)+.5,Math.round(2*g/3)+.5,g-.5];
h.clearRect(0,0,g,g);var w=this.X_<30;h.setLineDash([]);h.strokeStyle=w?"rgba(0,0,0,0.5)":"#000000";
h.beginPath();for(var N=0;N<4;N++){var G=X[N];h.moveTo(G,0);h.lineTo(G,g);h.moveTo(0,G);h.lineTo(g,G)}h.stroke();
if(o==9)return;if(!w){h.setLineDash([1,2]);var R=g*.53,d=Math.max(0,Math.min(g-R,x-R/2)),q=Math.max(0,Math.min(g-R,K-R/2));
h.strokeRect(Math.round(d)+.5,Math.round(q)+.5,Math.round(R),Math.round(R))}h.fillStyle="#000000";h.beginPath();
h.arc(x,K,g/8,0,Math.PI*2);h.fill()};dL.prototype.Ww=function(o){B._C(document.body,this.GR);B.aw(document.body,this.Iy);
this.wZ(o)};dL.prototype.wZ=function(o){var g=B.Iw(o,this.J),C=Math.max(0,Math.min(2,Math.floor(g.x/(this.X_/3)))),a=Math.max(0,Math.min(2,Math.floor(g.y/(this.X_/3))));
this.I(a*3+C)};dL.prototype.Px=function(o){this.c(new jO(D.E.p,!1));B.gK(document.body,this.GR);B.lZ(document.body,this.Iy)};
function fJ(ee){ar.call(this);this.e=B.f("span","fitem cswatch");this.acJ=0;this.Mc=[];this.ff=[];var o=this.auv.bind(this);
for(var N=0;N<ee;N++){this.Mc.push(0);var g=B.f("span","colorsample");g.addEventListener("click",o,!1);
this.ff.push(g);this.e.appendChild(g)}var C=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],a=Math.min(ee,C.length);
for(var N=0;N<a;N++)this.Mc[N]=C[N];this.W3()}fJ.prototype=new ar;fJ.prototype.auv=function(o){this.acJ=this.ff.indexOf(o.currentTarget);
this.c(new jO(D.E.p))};fJ.prototype.O=function(){return this.Mc[this.acJ]};fJ.prototype.I=function(o){var g=this.Mc,C=g.indexOf(o);
if(C!=-1)g.splice(C,1);else g.pop();g.unshift(o);this.W3()};fJ.prototype.W3=function(){for(var N=0;N<this.Mc.length;
N++){this.ff[N].setAttribute("style","background-color:#"+l.eh(this.Mc[N]))}};function jD(o){ar.call(this);
this.Mw={z:0,B:0,K:0};this.u2=o;this.e=B.f("span","fitem colorsample");this.e.addEventListener("click",this.BT.bind(this),!1)}jD.prototype=new ar;
jD.prototype.Q=function(){};jD.prototype.BT=function(o){var g=this.Mw;this.c(new jO("click"));var C=new jO(D.E.X,!0);
C.data={C:D.t.gC,$j:"colorpicker",Qe:g.z<<16|g.B<<8|g.K,Ef:this.Sf.bind(this),s9:this.u2};this.c(C)};
jD.prototype.Sf=function(o){this.NJ(o);this.c(new jO(D.E.p))};jD.prototype.aH=function(){this.BT(null)};
jD.prototype.amk=function(){var o=this.Mw;return o.z<<16|o.B<<8|o.K};jD.prototype.O=function(){return l.T.CT(this.Mw)};
jD.prototype.NJ=function(o){this.Mw={z:o>>16&255,B:o>>8&255,K:o&255};this.aa6()};jD.prototype.I=function(o){this.Mw=l.T.Xh(o);
this.aa6()};jD.prototype.aa6=function(){var o=this.Mw,g=o.z,C=o.B,a=o.K,x=g<<16|C<<8|a;this.e.setAttribute("style","background-color:#"+l.eh(x))};
function f3(){ar.call(this);this.xS=!1;this.Si=20;this.a0_=10;this.oM=0;this.xS=!1;this.AZ={z:255,B:0,K:0};
this.I1={z:0,B:0,K:0};this.e=B.f("canvas");this.Ty();B.G1(this.e);B.sa(this.e,this.l5.bind(this))}f3.prototype=new ar;
f3.prototype.aj2=function(o){if(this.xS==o)return;this.xS=o;this.Ty()};f3.prototype.Q=function(){};f3.prototype.ado=function(o,g){function C(a){return{z:a>>16&255,B:a>>8&255,K:a&255}}if(o!=null)this.AZ=C(o);
if(g!=null)this.I1=C(g);this.Ty()};f3.prototype.l5=function(o){var g=B.Iw(o,this.e),C=g.x*B.r(),a=g.y*B.r(),x=this.Si,K=this.a0_,h=0;
if(C<K&&a<K){h=0}else if(C>x-K&&a>x-K){h=1}else if(C<K){h=2}else{h=3}this.aH(h)};f3.prototype.aH=function(o){var g=new jO(D.E.X,!0);
if(o>1)g.data={C:D.t.sM,eA:e1.Zr,JI:o};else{this.oM=o;var C=o==0?this.AZ:this.I1;g.data={C:D.t.gC,$j:"colorpicker",Qe:C.z<<16|C.B<<8|C.K,Ef:this.Sf.bind(this)}}this.c(g)};
f3.prototype.Sf=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.sM,eA:e1.Zr,JI:this.oM,k:o};this.c(g)};
f3.prototype.Ty=function(){var o=this.e,g=o.getContext("2d"),C=B.r(),x="#aaaaaa",K=.62;B.SZ(o,34,34);
o.setAttribute("style",o.getAttribute("style")+";cursor:pointer");var a=this.Si=o.width,h=this.a0_=Math.round(a*K);
function X(M,Z){var Q=M.z,p=M.B,y=M.K;if(Z)Q=p=y=Math.round(l.mD(Q,p,y));var V=Q<<16|p<<8|y;return"#"+l.eh(V)}function w(g,M,Z,Q,p,y){g.beginPath();
if(Q>=y*2&&p>=y*2){g.moveTo(M+y,Z);g.lineTo(M+Q-y,Z);g.quadraticCurveTo(M+Q,Z,M+Q,Z+y);g.lineTo(M+Q,Z+p-y);
g.quadraticCurveTo(M+Q,Z+p,M+Q-y,Z+p);g.lineTo(M+y,Z+p);g.quadraticCurveTo(M,Z+p,M,Z+p-y);g.lineTo(M,Z+y);
g.quadraticCurveTo(M,Z,M+y,Z)}g.closePath()}function G(M,Z,h,Q,p){g.strokeStyle=p?p:"black";g.fillStyle=Q;
w(g,M+.5,Z+.5,h-1,h-1,h*.2);g.fill();g.stroke()}G(a-h,a-h,h,X(this.I1,this.xS));G(0,0,h,X(this.AZ,this.xS));
var R=a-h,d=Math.round(R*K);G(a-d,R-d,d,"white",x);G(a-R,0,d,"black",x);g.save();g.fillStyle=x;g.translate(0,a);
g.rotate(-Math.PI/2);R=a-h;var q=Math.round(R*.28),m=Math.round(R*.25);for(var N=0;N<2;N++){g.fillRect(q,q,R-q,1);
g.beginPath();g.moveTo(R-m,q+.5-m);g.lineTo(R,q+.5);g.lineTo(R-m,q+.5+m);g.closePath();g.fill();g.transform(0,1,1,0,0,0)}g.restore()};
function fU(o){et.call(this,o,!1,"brushbutton nopadding",19,10,e1.Yc,!0);var g=this.ain;B.lK(g,"flexrow");
var C=B.f("div");g.appendChild(C);var a=B.f("div");g.appendChild(a);a.setAttribute("style","margin-left:8px");
this.tA=new ah(null,null,!0);this.tA.h(D.E.p,this.hk,this);C.appendChild(this.tA.e);this.xV=new ho([12,14,0],1,1e3," px",0,!0);
this.xV.h(D.E.p,this.hk,this);a.appendChild(this.xV.e);this.a6=new ho([12,17],0,100,"%");this.a6.h(D.E.p,this.hk,this);
a.appendChild(this.a6.e)}fU.prototype=new et;fU.prototype.XV=function(){var o=["pencil","trees"];for(var N=0;
N<o.length;N++)o[N]="brushes/"+o[N]+".abr";return o};fU.prototype.I=function(o,g,C){this.Xk=JSON.parse(JSON.stringify(o));
var a=Math.floor(20*B.r()),x=Math.floor(36*B.r()),K=Math.floor(24*B.r()),h=fn.zJ(o,g,C,a,K,x);this.q$.setAttribute("src",h);
B.IC(this.q$,x,K);var X=o.Brsh.v;this.xV.I(X.Dmtr.v.val);if(X.Hrdn!=null){this.a6.ih();this.a6.I(X.Hrdn.v.val)}else this.a6.Uy();
if(X.Angl!=null)this.tA.I([X.Angl.v.val]);if(X.Rndn!=null)this.tA.I([null,null,X.Rndn.v.val/100])};fU.prototype.PO=function(){return{list:[{t:"Objc",v:this.O()}],H7:[],ys:[]}};
fU.prototype.O=function(){return this.Xk};fU.prototype.yR=function(){if(!this.be)return;var o=[],g=[],C=this.J3,a=Math.floor(33*B.r()),x=Math.floor(40*B.r());
for(var N=0;N<C.list.length;N++){var K=C.list[N].v,h=fn.zJ(K,C.H7,C.ys,a,x);o.push(h);g.push(K.Nm.v.split("=").pop())}this.jF.s4(o,g,a,x);
this.be=!1};fU.prototype.nz=function(o){var g=this.J3;this.I(g.list[this.jF.O()[0]].v,g.H7,g.ys);this.c(new jO(D.E.p))};
fU.prototype.Q=function(){et.prototype.Q.call(this);this.tA.Q();this.xV.Q();this.a6.Q()};fU.prototype.hk=function(o){var g=this.J3,C=this.Xk,a=C.Brsh.v;
a.Dmtr.v.val=this.xV.O();if(a.Hrdn!=null)a.Hrdn.v.val=this.a6.O();if(a.Angl!=null)a.Angl.v.val=this.tA.O()[0];
if(a.Rndn!=null)a.Rndn.v.val=Math.round(this.tA.O()[2]*100);this.I(C,g.H7,g.ys);this.c(new jO(D.E.p))};
function fM(o){et.call(this,o,!0,"contourbutton",17,10.5,e1.fC)}fM.prototype=new et;fM.prototype.nz=function(o){this.I(this.J3[o.target.O()]);
this.c(new jO(D.E.p))};fM.prototype.EA=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.gC,$j:"contoureditor",B9:this.Xk,response:this.a3l.bind(this)};
this.c(g)};fM.prototype.a3l=function(o){this.I(o);this.c(new jO(D.E.p))};fM.prototype.yR=function(){if(!this.be)return;
var o=Math.floor(38*B.r()),g=Math.floor(38*B.r()),C=[],a=[],x=this.J3;for(var N=0;N<x.length;N++){a.push(x[N].Nm?x[N].Nm.v:"");
C.push(l.QG.zJ(x[N].Crv.v,o,g))}this.jF.s4(C,a,o,g);this.be=!1};fM.prototype.I=function(o){this.Xk=JSON.parse(JSON.stringify(o));
var g=this.Xk.Crv.v;for(var N=0;N<g.length;N++)if(g[N].v.Cnty==null)g[N].v.Cnty={t:"bool",v:!0};this.OA()};
fM.prototype.OA=function(){var o=Math.floor(30*B.r()),g=Math.floor(30*B.r()),C=l.QG.zJ(this.Xk.Crv.v,o,g);
this.q$.setAttribute("src",C);B.IC(this.q$,o,g)};fM.prototype.O=function(){return JSON.parse(JSON.stringify(this.Xk))};
function bK(o){ar.call(this);this.K_=null;this.wq=null;this.zH=null;this.PU=null;this.adH=[];this.abp=[];
this.e=B.f("span","fitem fillbutton");this.Kv=new ar;this.Kv.e=B.f("div","floatcont form");this.Kv.e.setAttribute("style","width: 21em;");
this.Kv.parent=this;this.HX=o;this.XU=this.XU=B.f("label","flabel");this.e.appendChild(this.XU);this.J=B.f("canvas");
this.$A=this.J.getContext("2d");this.awV=null;this.e.appendChild(this.J);B.sa(this.J,this.bP.bind(this));
this.VB=new jT([12,66],["","Color","Grad","Patt"]);this.Kv.e.appendChild(this.VB.e);this.VB.h(D.E.p,this.Zh,this);
this.Kv.e.appendChild(B.f("hr"));this.a7T=B.f("span");this.IL=new jD(!1);this.IL.parent=this.Kv;this.IL.h(D.E.p,this.Zh,this);
this.rL=new fJ(10);this.rL.h(D.E.p,this.Zh,this);this.Sx=B.f("div","marged hiline");this.Sx.appendChild(this.IL.e);
B.zw(this.Sx);this.Sx.appendChild(this.rL.e);this.I$=new eY("GrFl",!0);this.I$.parent=this.Kv;this.I$.h(D.E.p,this.Zh,this);
this.o5=B.f("div","marged hiline");var g="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var N=0;
N<g.length;N++){var C=this.I$.r_[g[N]].e;this.o5.appendChild(C)}this.aT=new eY("patternFill",!0);this.aT.parent=this.Kv;
this.aT.h(D.E.p,this.Zh,this);this.nS=B.f("div","marged hiline");var g=["Ptrn","Angl","Scl","Algn","phase"];
for(var N=0;N<g.length;N++){var C=this.aT.r_[g[N]].e;this.nS.appendChild(C)}}bK.prototype=new ar;bK.prototype.Xt=function(o,g){var C=cM.lM(o,g);
if(C!=null)this.rL.I(C);if(g==e1.OF){this.adH=[];this.abp=[];if(this.K_)this.I(this.zH,this.O(),this.K_)}this.wq=o;
this.I$.Xt(o,g);this.aT.Xt(o,g)};bK.prototype.Q=function(){this.XU.textContent=fF.get(this.HX)+": ";
this.VB.Q();this.IL.Q();this.I$.Q();this.aT.Q()};bK.prototype.Zh=function(o){var g=o.currentTarget;if(g==this.VB){var C=this.VB.O(),a={mf:C,NL:this.K_[C]};
if(C>0&&a.NL==null)a.NL=JSON.parse(JSON.stringify(hf.vq[C-1]));if(this.K_)this.I(this.zH,a,this.K_)}if(g==this.rL)this.IL.NJ(g.O());
this.c(new jO(D.E.p,!1))};bK.prototype.bP=function(o){if(B.Af(this.Kv.e))return;o.stopPropagation();
var g=this.J.getBoundingClientRect(),C=new jO(D.E.X,!0);C.data={C:D.t.Sd,u6:this.Kv,x:g.left,y:g.top+g.height+4};
this.c(C)};bK.prototype.I=function(o,g,C){this.K_=C;this.zH=o;var a=[[13,1,0],[13,0],[12,37],[12,62]],x=this.adH,K=this.abp,h=!1,R;
for(var N=0;N<4;N++){var X={mf:N,NL:C[N]},w=bK.aiI(X);if(K[N]==w)continue;h=!0;var G=bK.aqx(null,X,this.wq,this.zH,22,22,!1);
x[N]="<img width=\"22\" height=\"22\" src=\""+G+"\" />";K[N]=w}if(h)this.VB.e5(x,a);this.VB.I(g.mf);
var w=bK.aiI(g);if(w!=this.awV)bK.aqx(this.$A,g,this.wq,this.zH,30,23,!0);this.awV=w;var d=g.mf;if(d==0){R=this.a7T}if(d==1){this.IL.I(g.NL.Clr.v);
R=this.Sx}if(d==2){this.I$.update(o,g.NL);R=this.o5}if(d==3){this.aT.update(o,g.NL);R=this.nS}if(R!=this.PU){if(this.PU!=null){this.Kv.e.removeChild(this.PU)}this.Kv.e.appendChild(R);
this.PU=R}};bK.prototype.O=function(){var o={mf:this.VB.O()};if(o.mf==1){o.NL=JSON.parse(JSON.stringify(hf.vq[0]));
o.NL.Clr.v=this.IL.O()}if(o.mf==2){o.NL=this.I$.O()}if(o.mf==3){o.NL=this.aT.O()}return o};bK.aiI=function(o){var g=o.mf,C=o.NL,a="empty";
if(g==1){a=l.T.Xh(C.Clr.v);a=a.z+","+a.B+","+a.K}if(g==2)a=JSON.stringify(C.Grad.v);if(g==3)a=C.Ptrn.v.Idnt.v;
return a};bK.aqx=function(o,g,C,a,x,K,h){if(o==null)o=bK.$A;var X=Math.floor(x*B.r()),w=Math.floor(K*B.r()),G=o.canvas,R;
G.width=X;G.height=w;B.IC(G,X,w);var d=g.mf;if(d==0){o.fillStyle="#ffffff";o.fillRect(0,0,X,w);o.strokeStyle="#ff0000";
o.lineWidth=2;o.moveTo(0,0);o.lineTo(X,w);o.moveTo(0,w);o.lineTo(X,0);o.stroke()}if(d==1){var q=g.NL.Clr.v;
q=l.T.Xh(q);o.fillStyle="#"+l.eh(q.z<<16|q.B<<8|q.K);o.fillRect(0,0,X,w)}if(d==2){c.Wt.zJ(g.NL.Grad.v,X,w,0,C.L$,C.KT,G)}if(d==3){var m=g.NL.Ptrn.v,M;
if(a!=null)M=bd.k0(m,a.add.Patt);if(M==null)M=bd.k0(m,C.XA);a2.zJ(M,X,w,G)}if(h){o.beginPath();o.strokeStyle="#000000";
o.fillStyle="#ffffff";o.lineWidth=2;var Z=X*.7,Q=Math.floor(w*.7),p=7*B.r();o.moveTo(Z,Q);o.lineTo(Z+p,Q);
o.lineTo(Z+p/2,Q+p/2);o.closePath();o.stroke();o.fill()}if(o==bK.$A)return G.toDataURL()};bK.$A=B.f("canvas").getContext("2d");
function a2(o){et.call(this,o,!1,"patternbutton",18,10,e1.OF);this.ns=null}a2.prototype=new et;a2.prototype.nz=function(o){var g=this.J3[this.jF.O()];
this.Xk={classID:"Ptrn",Nm:{t:"TEXT",v:g.name},Idnt:{t:"TEXT",v:g.id}};this.c(new jO(D.E.p));this.OA()};
a2.prototype.yR=function(){if(!this.be)return;var o=this.J3,g=Math.floor(34*B.r()),C=Math.floor(34*B.r()),a=[],x=[];
for(var N=0;N<o.length;N++){a.push(a2.zJ(o[N],g,C));x.push(o[N].name)}this.jF.s4(a,x,g,C);this.be=!1};
a2.prototype.I=function(o,g){if(this.Xk&&o.Idnt.v==this.Xk.Idnt.v)return;this.Xk=JSON.parse(JSON.stringify(o));
this.OA(g)};a2.prototype.O=function(){return JSON.parse(JSON.stringify(this.Xk))};a2.prototype.PO=function(){return this.ns?[this.ns]:[]};
a2.prototype.OA=function(o){var g=Math.floor(50*B.r()),C=Math.floor(50*B.r()),a;if(o!=null)a=bd.k0(this.Xk,o.add.Patt);
if(a==null)a=bd.k0(this.Xk,this.J3);this.ns=a;var x=a2.zJ(a,g,C);this.q$.setAttribute("src",x);B.IC(this.q$,g,C)};
a2.J=B.f("canvas","");a2.zJ=function(o,g,C,a){if(a==null)a=a2.J;var x=a.getContext("2d");a.width=g;a.height=C;
if(o){var K=o.Bd[1],h=K.m,X=K.n,w=o.Bd[0],G=Math.min(g/h,C/X),R=G;if(R*h<2)R=2/h;var d=G;if(d*X<2)d=2/X;
var q=c.V.Sk([w,K],new kp(R,0,0,d,0,0),R>2),m=q.rect.m,M=q.rect.n,Z=x.createImageData(m,M);l.j5(q.buffer,Z.data);
x.putImageData(Z,Math.floor((g-m)/2),Math.floor((C-M)/2))}return a.toDataURL()};function jU(o,g,C){if(g==null)g=24.2;
if(C==null)C=17;et.call(this,o,!1,"patternbutton",g,C,e1.Ih);this.p5=""}jU.prototype=new et;jU.prototype.nz=function(o){this.Xk=JSON.parse(JSON.stringify(this.J3[0][this.jF.O()[0]]));
this.c(new jO(D.E.p))};jU.prototype.yR=function(){var o=this.J3;if(o==null||!this.be)return;var g=Math.floor(50*B.r()),C=Math.floor(50*B.r()),a=[],x=[];
for(var N=0;N<o[0].length;N++){a.push(jU.zJ(this.J3[0][N].ex,g,C,this.J3[1]));x.push(o[0][N].q5.Nm.v.split("=").pop())}this.jF.s4(a,x,g,C);
this.be=!1};jU.prototype.I=function(o,g,C,a){var x=JSON.stringify(o.ex)+","+C+","+a;if(this.p5!=x){this.p5=x;
this.Xk=JSON.parse(JSON.stringify(o));this.OA(g,C,a)}};jU.prototype.O=function(){return JSON.parse(JSON.stringify(this.Xk))};
jU.prototype.OA=function(o,g,C){var a=Math.floor(68*B.r()),x=Math.floor(68*B.r()),K=jU.zJ(this.Xk.ex,a,x,o?o:this.J3[1],g,C);
this.q$.setAttribute("src",K);B.IC(this.q$,a,x)};jU.zJ=function(o,g,C,a,x,K){var h=new aX;h.m=g;h.n=C;
h.buffer=l.Z(g*C*4);h.add.Patt=a;h.ar(x==null?90:x);h.rW(K==null?30:K);var X=new aS(0,0,Math.round(g*.5),Math.round(C*.5));
X.x=Math.round((g-X.m)/2);X.y=Math.round((C-X.n)/2);var w=h.HL();w.rect=X;w.buffer=l.Z(X.$()*4);l.th(w.buffer,4284045657);
bd.as5(o,w,.5*100);h.g.push(w);h.vg();h.L();var G=i.LH;i.LH=!1;h.II();var R=h.cf();i.LH=G;var d=bl.Mq(R.buffer,h.m,h.n);
return d};function a6(o){et.call(this,null,!1,"tpresetbutton",18,24,e1.pF,!0);B.Qq(this.e,"fitem");this.jF.Ap(1);
this.id=o;this.OA();this.C.style.overflow="hidden";this.Gk=new eT([15,7,9]);this.Gk.I(!0);this.Gk.h(D.E.p,this.av1,this);
this.Q3.appendChild(this.Gk.e)}a6.prototype=new et;a6.prototype.atN=function(o){if(this.id==o)return;
this.id=o;this.Fs(this.J3)};a6.prototype.nz=function(o){var g=this.J3[this.jF.O()],C=new jO(D.E.X,!0);
C.data={C:D.t.sM,GJ:"set",eA:e1.pF,dt:g};this.c(C)};a6.prototype.Q=function(){et.prototype.Q.call(this);
this.Gk.Q()};a6.prototype.av1=function(){this.be=!0;this.yR()};a6.prototype.yR=function(){if(!this.be)return;
var o=Math.floor(16*B.r()),g=Math.floor(16*B.r()),C=[],a=[],x=this.J3,K=this.Gk.O();for(var N=0;N<x.length;
N++){var h=c.arI(x[N]);if(!K||h==this.id){a.push(x[N][0]?x[N][0].split("=").pop():"");C.push(h==-1?"":PIMG[c.Zs[h][0]])}else{C.push(null);
a.push(null)}}this.jF.s4(C,a,o,g);this.be=!1};a6.prototype.OA=function(){var o=this.q$;o.setAttribute("src",PIMG[c.Zs[this.id][0]]);
B.lK(o,"toolicon")};a6.prototype.PO=function(){return null};a6.cl={};a6.zJ=function(o,g,C){var a=a6.$A,x=a6.cl,K=l.eh(o.z<<16|o.B<<8|o.K);
if(x[K])return x[K];if(a==null){var h=B.f("canvas");a=a6.$A=h.getContext("2d")}var h=a.canvas;h.width=g;
h.height=C;a.fillStyle="#"+K;a.fillRect(0,0,g,C);var X=x[K]=h.toDataURL();return X};function ge(o,g,C){ar.call(this);
this.e=B.f("span","fitem curveeditor");this.hS=null;this.arq=0;this.cC="";this.mode=0;this.In=o;this.a0A=g;
this.am_=C;this.We=null;this.Cu=null;this.ao6=0;this.apw=0;this.pW=new eN;this.DN=this.wZ.bind(this);
this.z9=this.Px.bind(this);this.X_=256;this.J=B.f("canvas");this.$A=this.J.getContext("2d");B.G1(this.J);
this.e.appendChild(this.J);this.z3(256,256);B.sa(this.J,this.Ww.bind(this));this.coords=B.f("div","");
this.coords.setAttribute("style","width:250px");this.e.appendChild(this.coords);var a=this.o0=C?100:255,x=null;
this.yH=new e8("X (in):",0,a,x,0,!1,!0);this.V4=new e8("Y (out):",0,a,x,0,!1,!0);this.uU=new eT([19,3,0]);
this.yH.h(D.E.p,this.gM,this);this.V4.h(D.E.p,this.gM,this);this.uU.h(D.E.p,this.gM,this);this.coords.appendChild(this.yH.e);
if(C)this.coords.appendChild(this.uU.e);this.coords.appendChild(this.V4.e)}ge.prototype=new ar;ge.prototype.Q=function(){this.uU.Q()};
ge.prototype.z3=function(o,g){this.X_=Math.round(o);this.$A.resetTransform();B.SZ(this.J,this.X_,this.X_,this.$A);
this.$A.scale(this.X_/256,this.X_/256);if(this.We)this.Ga()};ge.prototype.gM=function(o){var N=this.aqk(),g=this.We[N],C=255/this.o0;
g.v.Hrzn.v=this.yH.O()*C;g.v.Vrtc.v=this.V4.O()*C;if(this.am_)g.v.Cnty.v=this.uU.O();this.We.sort(function(a,x){return a.v.Hrzn.v-x.v.Hrzn.v});
this.Ga();this.c(new jO(D.E.p))};ge.prototype.I=function(o,N){var g=JSON.stringify(o);if(g==JSON.stringify(this.We))return;
this.mode=o.length==256?1:0;this.We=JSON.parse(g);if(N!=null)this.Cu=this.We[N];this.Ga()};ge.prototype.iZ=function(o,g,C){this.hS=o;
this.arq=g;this.cC=C;this.Ga()};ge.prototype.O=function(){return JSON.parse(JSON.stringify(this.We))};
ge.prototype.aqk=function(){return this.We.indexOf(this.Cu)};ge.prototype.Ww=function(o){var g=256/this.X_,C=B.Iw(o,this.J);
C.x*=g;C.y*=g;var a=C.x,x=256-C.y;if(this.In){var K=a;a=256-x;x=K}this.pW.fR(a,x);if(this.mode==0){var h=0,X=1e9,q;
for(var N=0;N<this.We.length;N++){var w=this.We[N].v,G=w.Hrzn.v-a,R=w.Vrtc.v-x,d=Math.sqrt(G*G+R*R);
if(d<X){X=d;h=N}}if(X<15)q=this.We[h];else{q=l.QG.bR(a,x,!0);this.We.push(q);this.We.sort(function(m,M){return m.v.Hrzn.v-M.v.Hrzn.v})}this.Cu=q;
this.apw=this.We.slice(0)}B._C(document.body,this.DN);B.aw(document.body,this.z9);this.wZ(o)};ge.prototype.wZ=function(o){var g=256/this.X_,C=B.Iw(o,this.J);
C.x*=g;C.y*=g;var a=C.x,x=256-C.y;if(this.In){var K=a;a=256-x;x=K}if(this.mode==0){var h=this.We,X=this.Cu,w=this.apw,G=w.indexOf(X),R=h.indexOf(X)!=-1,d=w.length-1,q=a;
if(G==0){q=Math.max(0,Math.min(w[1].v.Hrzn.v-1,a))}else if(G==d){q=Math.min(255,Math.max(w[d-1].v.Hrzn.v+1,a))}else{var m=a<0||a>255||x<0||x>255;
if(a<=w[G-1].v.Hrzn.v||a>=w[G+1].v.Hrzn.v)m=!0;if(!m&&!R)h.splice(G,0,X);if(m&&R)h.splice(G,1)}if(this.a0A&&(G==0||G==w.length-1)){}else X.v.Hrzn.v=Math.round(q);
X.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(x)))}else{a=Math.round(a);x=Math.round(x);a=Math.max(0,Math.min(255,a));
x=Math.max(0,Math.min(255,x));var M=this.pW.x,Z=a,Q=this.pW.y,p=x;if(a<this.pW.x){Z=M;M=a;p=Q;Q=x}this.We[a]=x;
if(M!=Z)for(var y=M;y<=Z;y++)this.We[y]=Math.round(Q+(y-M)*(p-Q)/(Z-M))}this.pW.fR(a,x);this.Ga();this.c(new jO(D.E.p))};
ge.prototype.Px=function(o){B.gK(document.body,this.DN);B.lZ(document.body,this.z9);this.c(new jO(D.E.p))};
ge.prototype.Ga=function(){var o=this.$A,g=this.J;o.fillStyle="#ffffff";o.fillRect(0,0,256,256);var C=256/g.width;
if(this.hS){o.save();o.translate(0,256);o.scale(1,-1);cd.arP(o,this.hS,5700/this.arq,this.cC);o.restore()}o.strokeStyle="#aaaaaa";
o.lineWidth=1*C;o.beginPath();for(var N=1;N<4;N++){var a=(Math.floor(64*N/C)+.5)*C;o.moveTo(0,a);o.lineTo(255,a);
o.moveTo(a,0);o.lineTo(a,255)}o.stroke();if(this.In){o.save();o.transform(0,1,-1,0,256,0)}if(this.mode==0){var x=this.We,K=l.QG.pg(x,256);
o.strokeStyle="#000000";o.beginPath();o.moveTo(0,255.5-K[0]);for(var N=0;N<256;N++)o.lineTo(N,255.5-K[N]);
o.stroke();o.lineWidth=2*C;for(var N=0;N<x.length;N++){var h=x[N].v;o.fillStyle=this.Cu==x[N]?"#333":"#fff";
o.beginPath();o.moveTo(h.Hrzn.v,255.5-h.Vrtc.v);o.arc(h.Hrzn.v,255.5-h.Vrtc.v,5*C,0,2*Math.PI);o.stroke();
o.fill()}}else{var K=this.We;o.strokeStyle="#000000";o.beginPath();o.moveTo(0,255.5-K[0]);for(var N=0;
N<256;N++)o.lineTo(N,255.5-K[N]);o.stroke()}if(this.In)o.restore();var N=this.aqk();this.coords.setAttribute("class",N==-1?"disabled":"");
if(N==-1)return;var h=this.We[N].v,X=255/this.o0;this.yH.I(Math.round(h.Hrzn.v/X));this.V4.I(Math.round(h.Vrtc.v/X));
if(h.Cnty)this.uU.I(h.Cnty.v)};function cd(o,g){ar.call(this);this.e=B.f("span","");this.Cl=new jz([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.Cl.h(D.E.p,this.Ty,this);this.e.appendChild(this.Cl.e);B.zw(this.e);this.J=B.f("canvas");var C=this.J;
this.e.appendChild(C);C.width=Math.round(o*B.r());C.height=Math.round(100*B.r());B.IC(C,C.width,C.height);
this.$A=C.getContext("2d");this.hS=null;this.uH=0;this.a4V=null;this.api=[];this.MF=[];var a=["Mean:","Pixels:"],x=this.e;
for(var N=0;N<a.length;N++){var K=new d3(a[N]);this.api.push(K);if(g)x.appendChild(K.e);var h=new d3("hi");
this.MF.push(h);if(g)x.appendChild(h.e);B.zw(x)}}cd.prototype=new ar;cd.prototype.Q=function(){this.Cl.Q()};
cd.prototype.Ap=function(o){this.Cl.I(o);this.Ty()};cd.prototype.I=function(o,g){this.hS=o;this.a4V=g;
this.Ty()};cd.prototype.NJ=function(o){if(o==this.uH)return;this.uH=o;this.Ty()};cd.prototype.Ty=function(){if(this.hS==null)return;
var o=this.J,g=this.$A,C=this.hS,a=this.a4V,x=this.Cl.O(),K=6e3/C[4],h="#"+l.eh(this.uH),X=cd.arP;o.width=o.width;
g.setTransform(o.width/256,0,0,-o.height/100,0,o.height);g.globalCompositeOperation="lighter";if(x==0)X(g,C[0],K/3,h);
else if(x<4)X(g,C[x],K,h);else{X(g,C[1],K,"#ff0000");X(g,C[2],K,"#00ff00");X(g,C[3],K,"#0000ff")}g.setTransform(1,0,0,1,0,0);
if(a!=null){var w=0;for(var N=0;N<256;N++)w+=N*C[x][N];if(x==0)w/=3;this.MF[0].I((w/a).toFixed(1)+"");
this.MF[1].I(a+"")}};cd.arP=function(o,g,C,a){o.beginPath();o.moveTo(0,0);for(var x=0;x<256;x++)o.lineTo(x,g[x]*C);
o.lineTo(256,0);o.closePath();o.fillStyle=a;o.fill()};function bx(o,g){ar.call(this);this.b_={z:0,B:0,K:0};
if(Math.abs(o-256/B.r())<10)o=256/B.r();var C=this.e=B.f("div","flexrow"),a=this.a2Y=B.f("div");C.appendChild(a);
this.aZ=new eN;this.u_=new eN;this.GR=this.asZ.bind(this);this.Iy=this.aaw.bind(this);this.J=B.f("canvas","");
this.$A=this.J.getContext("2d");this.J.width=this.J.height=256;this.avo=this.$A.getImageData(0,0,256,256);
this.af1=-1;this.a6V="";B.G1(this.J);B.sa(this.J,this.akm.bind(this));a.appendChild(this.J);this.a4r=this.a3Q.bind(this);
this.ahN=this.aep.bind(this);this.dL=B.f("canvas","");this.z4=this.dL.getContext("2d");this.dL.width=20;
this.dL.height=256;this.a5c=this.z4.getImageData(0,0,20,256);bx.anq(this.a5c.data,20,256);B.G1(this.dL);
B.sa(this.dL,this.avh.bind(this));C.appendChild(this.dL);this.J.setAttribute("style","width:"+o+"px; height:"+o+"px");
this.dL.setAttribute("style","width:16px; height:"+o+"px");this._r=new eT("Web Colors\u2001");this._r.h(D.E.p,this.update,this);
this._Z=new eT("CMYK gamut");this._Z.h(D.E.p,this.update,this);if(g){B.zw(a);a.appendChild(this._r.e);
a.appendChild(this._Z.e)}}bx.prototype=new ar;bx.prototype.z3=function(o,g){this.J.style.width=this.a2Y.style.width=o-16+"px"};
bx.prototype.I=function(o){if(this._r.O()){var g=JSON.parse(JSON.stringify(o));bx.OS(g);var C=this.O();
if(g.z==C.z&&g.B==C.B&&g.K==C.K)o=this.b_}this.b_=o;this.update()};bx.prototype.O=function(){var o=JSON.parse(JSON.stringify(this.b_));
if(this._r.O())bx.OS(o);return o};bx.prototype.update=function(){var o=this.b_,g=l.br(o.z,o.B,o.K);if(g.jr==0)g.ZQ=this.aZ.x/255;
if(g.ZQ==0||g.jr==0)g.fB=(255-this.fW(this.u_.y))/255;if(g.jr!=0)this.aZ.x=g.ZQ*255;this.aZ.y=(1-g.jr)*255;
this.u_.y=(1-g.fB)*255;var C=this.avo,a=this._r.O(),x=this._Z.O(),K=a+","+x;if(Math.abs(g.fB-this.af1)>.002||this.a6V!=K){this.a0f(C.data,256,256,g.fB,a,x);
this.af1=g.fB;this.a6V=K}var h=this.$A;h.putImageData(C,0,0);h.strokeStyle="#000000";h.beginPath();h.arc(this.aZ.x+1,this.aZ.y+1,5,0,2*Math.PI);
h.stroke();h.strokeStyle="#ffffff";h.beginPath();h.arc(this.aZ.x,this.aZ.y,5,0,2*Math.PI);h.stroke();
C=this.a5c;h=this.z4;h.putImageData(C,0,0);h.strokeStyle="#ffffff";h.beginPath();h.moveTo(0,this.u_.y);
h.lineTo(20,this.u_.y);h.lineWidth=2;h.stroke()};bx.OS=function(o){o.z=~~(.5+o.z*5)*.2;o.B=~~(.5+o.B*5)*.2;
o.K=~~(.5+o.K*5)*.2};bx.prototype.a0f=function(o,g,C,a,x,K){var h=1/g,X=1/C;for(var w=0;w<C;w++)for(var G=0;
G<g;G++){var R=l.QE(a,G*h,(C-w-1)*X);if(x)bx.OS(R);var N=w*g+G<<2;o[N+0]=~~(R.z*255);o[N+1]=~~(R.B*255);
o[N+2]=~~(R.K*255);o[N+3]=255}if(K){var d=o.slice(0),q=aX.Lj[0],m=aX.Lj[1];ICC.U.applyLUT(m,q,d,d);for(var N=0;
N<o.length;N+=4){var M=o[N]-d[N],Z=o[N+1]-d[N+1],Q=o[N+2]-d[N+2],p=M*M+Z*Z+Q*Q;if(p>300)o[N]=o[N+1]=o[N+2]=200}}};
bx.anq=function(o,g,C,a,x){if(a==null)a=1;if(x==null)x=0;var K=new Uint32Array(o.buffer);for(var h=0;
h<C;h++){var X=l.QE((1+a*(1-h/C)+x)%1,1,1),w=255<<24|X.K*255<<16|X.B*255<<8|X.z*255;for(var G=0;G<g;
G++)K[h*g+G]=w}};bx.prototype.akm=function(o){B._C(window,this.GR);B.aw(window,this.Iy);this.asZ(o)};
bx.prototype.aaw=function(o){B.gK(window,this.GR);B.lZ(window,this.Iy)};bx.prototype.asZ=function(o){var g=B.Iw(o,this.J);
g.x=g.x*(256/parseFloat(this.J.style.width));g.y=g.y*(256/parseFloat(this.J.style.height));this.aZ.fR(this.fW(g.x),this.fW(g.y));
this.Ez()};bx.prototype.Ez=function(){this.b_=this.av_();this.c(new jO(D.E.p))};bx.prototype.av_=function(){var o=l.QE((255-this.fW(this.u_.y))/255,this.Yd(this.aZ.x/255),this.Yd(1-this.aZ.y/255));
return{z:o.z,B:o.B,K:o.K}};bx.prototype.avh=function(o){B._C(window,this.a4r);B.aw(window,this.ahN);
this.a3Q(o)};bx.prototype.aep=function(o){B.gK(window,this.a4r);B.lZ(window,this.ahN)};bx.prototype.a3Q=function(o){var g=B.Iw(o,this.dL);
g.y=g.y*(256/parseFloat(this.dL.style.height));this.u_.fR(this.fW(g.x),this.fW(g.y));this.Ez()};bx.prototype.fW=function(o){return Math.max(0,Math.min(255,o))};
bx.prototype.Yd=function(o){return Math.max(0,Math.min(1,o))};function as(o,g,C,a){var x=jT.fE(g,a);
jT.call(this,o,x,C)}as.prototype=new jT;function jB(){ar.call(this);this.zP=null;this.OT=new jN;this.OT.h(D.E.p,this.ars,this);
this.OT.parent=this;this.a$=new e8([12,14,0],1,150,"px",0,!0);this.a$.h(D.E.p,this.yD,this);this.a$.parent=this;
this.nK=new e8([16,0],.01,100,"px",2,!0,null,5);this.nK.h(D.E.p,this.yD,this);this.nK.parent=this;this.x0=new eT("Auto");
this.x0.h(D.E.p,this.yD,this);this.CN=new e8([16,1],-500,5e3,"%",0,!0);this.CN.h(D.E.p,this.yD,this);
this.CN.parent=this;this.eg=new e8("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.eg.h(D.E.p,this.yD,this);
this.eg.parent=this;this.EH=new e8("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.EH.h(D.E.p,this.yD,this);
this.EH.parent=this;this.lJ=new e8([16,2],-10,10,"px");this.lJ.h(D.E.p,this.yD,this);this.lJ.parent=this;
this.Vm=new jD(!0);this.Vm.h(D.E.p,this.U1,this);this.Vm.parent=this;this.mS=new jD(!0);this.mS.h(D.E.p,this.U1,this);
this.mS.parent=this;this.xX=new jD(!0);this.xX.h(D.E.p,this.U1,this);this.xX.parent=this;this.hE=new jD(!0);
this.hE.h(D.E.p,this.U1,this);this.hE.parent=this;this.it=new eT([2,3]);this.it.h(D.E.p,this.yD,this);
this.dw=new eT([14,9]);this.dw.h(D.E.p,this.yD,this);this.C$=new eT([12,46]);this.C$.h(D.E.p,this.yD,this);
this.Sm=new hs("...",null,null,!0);this.Sm.e.style.marginLeft="-8px";B.sa(this.Sm.e,this.akS.bind(this));
this.Kv=new ar;var o=this.Kv.e=B.f("div","floatcont form"),x=100;this.Kv.parent=this;this.wh=new e8([12,41],1,20,"px",0,!0,!0);
this.wh.e.style.marginLeft="16px";this.wh.h(D.E.p,this.yD,this);this.wh.parent=this.Kv;o.appendChild(this.mS.e);
o.appendChild(this.it.e);B.zw(this.Kv.e);o.appendChild(this.xX.e);o.appendChild(this.dw.e);o.appendChild(this.wh.e);
B.zw(this.Kv.e);o.appendChild(this.hE.e);o.appendChild(this.C$.e);this.mc=new hs("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Hp=new hs("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.QP=new hs("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.fI=new hs("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.og=new hs("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Hu=new hs("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.tl=new hs("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.ll=new hs("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var g=[this.mc,this.Hp,this.QP,this.fI,this.og,this.Hu,this.tl,this.ll];
for(var N=0;N<g.length;N++)g[N].h("click",this.aa5,this);this.On=new hs("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Ei=new hs("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.IJ=new hs("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.amI=new hs("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a4U=new hs("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.ai1=new hs("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.acA=new hs("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.wf=[this.On,this.Ei,this.IJ,this.amI,this.a4U,this.ai1,this.acA];for(var N=0;N<this.wf.length;N++)this.wf[N].h("click",this.yD,this);
var C=["lind","rind","flind","bind","aind"],a=[];for(var N=0;N<5;N++)a.push("<img src=\""+PIMG["par/"+C[N]]+"\" class=\"autoscale gsicon\" /> ");
this.X5=new e8(a[0],-x,x,"px");this.X5.h(D.E.p,this.yD,this);this.X5.parent=this;this.Uq=new e8(a[1],-x,x,"px");
this.Uq.h(D.E.p,this.yD,this);this.Uq.parent=this;this.wU=new e8(a[2],-x,x,"px");this.wU.h(D.E.p,this.yD,this);
this.wU.parent=this;this.Pj=new e8(a[3],-x,x,"px");this.Pj.h(D.E.p,this.yD,this);this.Pj.parent=this;
this.Pp=new e8(a[4],-x,x,"px");this.Pp.h(D.E.p,this.yD,this);this.Pp.parent=this;this.Z8=new jT([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.Z8.h(D.E.p,this.yD,this);this.Z8.parent=this;this.WY=new e8(["Auto VAR0",[16,0]],0,500,"%");this.WY.h(D.E.p,this.yD,this);
this.WY.parent=this}jB.prototype=new ar;jB.prototype.akS=function(o){if(B.Af(this.Kv.e))return;o.stopPropagation();
var g=this.Sm.e.getBoundingClientRect(),C=new jO(D.E.X,!0);C.data={C:D.t.Sd,u6:this.Kv,x:g.left,y:g.top+g.height+4};
this.c(C)};jB.prototype.Q=function(){this.OT.Q();this.a$.Q();this.nK.Q();this.CN.Q();this.lJ.Q();this.eg.Q();
this.EH.Q();this.it.Q();this.dw.Q();this.C$.Q();this.wh.Q();this.Z8.Q();this.WY.Q()};jB.prototype.I=function(o,g,C){this.iq=JSON.parse(JSON.stringify(o));
var a=this.iq,x=a.Fn,K=a.Yt;this.mc.I(x.FauxBold!=null?x.FauxBold:!1);this.Hp.I(x.FauxItalic!=null?x.FauxItalic:!1);
this.QP.I(x.FontCaps==2);this.fI.I(x.FontCaps==1);this.Hu.I(x.FontBaseline==1);this.og.I(x.FontBaseline==2);
this.tl.I(x.Underline);this.ll.I(x.Strikethrough);this.OT.I(x.Font==null?null:a.pv[x.Font].Name,g,C);
var h=x.FontSize==null?20:x.FontSize;this.a$.I(h);var X=x.Tracking;this.CN.I(X==null?0:X);this.wh.I(x._LineWidth!=null?x._LineWidth:1);
this.nK.I(x.Leading!=null&&x.Leading!=0?x.Leading:h);this.x0.I(x.AutoLeading);this.eg.I((x.VerticalScale!=null?x.VerticalScale:0)*100);
this.EH.I((x.HorizontalScale!=null?x.HorizontalScale:0)*100);this.lJ.I(x.BaselineShift!=null?x.BaselineShift:0);
this.it.I(x.FillFlag!=null?x.FillFlag:!1);this.dw.I(x.StrokeFlag!=null?x.StrokeFlag:!1);this.C$.I(x._FillBackgroundFlag!=null?x._FillBackgroundFlag:!1);
this.XZ(x.FillColor,this.Vm);this.XZ(x.FillColor,this.mS);this.XZ(x.StrokeColor,this.xX);this.XZ(x._FillBackgroundColor,this.hE);
var w=K._Direction!=null?K._Direction:0,G=bv.bw(K);for(var N=0;N<this.wf.length;N++)this.wf[N].I(G==N);
this.Z8.I(w);this.WY.I((K.AutoLeading!=null?K.AutoLeading:1.2)*100);this.X5.I(K.StartIndent!=null?K.StartIndent:0);
this.Uq.I(K.EndIndent!=null?K.EndIndent:0);this.wU.I(K.FirstLineIndent!=null?K.FirstLineIndent:0);this.Pj.I(K.SpaceBefore!=null?K.SpaceBefore:0);
this.Pp.I(K.SpaceAfter!=null?K.SpaceAfter:0)};jB.prototype.XZ=function(o,g){if(o){var C=bv.Xh(o);g.NJ(Math.round(C.z)<<16|Math.round(C.B)<<8|Math.round(C.K))}else g.NJ(0)};
jB.prototype.y6=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.sM,eA:e1.Nf,iq:this.iq};this.c(o);var o=new jO(D.E.q,!0);
o.F=c.rv;o.data={C:"updateStyles"};this.c(o)};jB.prototype.aa5=function(o){var g=this.iq.Fn,C=o.target,a=!C.kW();
if(C==this.mc)g.FauxBold=a;if(C==this.Hp)g.FauxItalic=a;if(C==this.QP)g.FontCaps=a?2:0;if(C==this.fI)g.FontCaps=a?1:0;
if(C==this.Hu)g.FontBaseline=a?1:0;if(C==this.og)g.FontBaseline=a?2:0;if(C==this.tl)g.Underline=a;if(C==this.ll)g.Strikethrough=a;
this.y6()};jB.prototype.yD=function(o){var g=this.iq.Fn,C=this.iq.Yt,a=o.target;if(a==this.CN){var x=this.CN.O();
g.Tracking=x}if(a==this.nK){g.AutoLeading=!1;g.Leading=this.nK.O()}if(a==this.x0){g.AutoLeading=this.x0.O()}if(a==this.wh)g._LineWidth=a.O();
if(a==this.a$)g.FontSize=a.O();if(a==this.eg)g.VerticalScale=a.O()/100;if(a==this.EH)g.HorizontalScale=a.O()/100;
if(a==this.lJ)g.BaselineShift=a.O();if(a==this.it)g.FillFlag=a.O();if(a==this.dw)g.StrokeFlag=a.O();
if(a==this.C$)g._FillBackgroundFlag=a.O();if(this.wf.indexOf(a)!=-1){C.Justification=bv.bw(C,this.wf.indexOf(a))}if(a==this.X5)C.StartIndent=a.O();
if(a==this.Uq)C.EndIndent=a.O();if(a==this.wU)C.FirstLineIndent=a.O();if(a==this.Pj)C.SpaceBefore=a.O();
if(a==this.Pp)C.SpaceAfter=a.O();if(a==this.Z8)C._Direction=a.O();if(a==this.WY)C.AutoLeading=a.O()/100;
this.y6()};jB.prototype.ars=function(o){var g=this.iq,C=this.OT.O(),a=-1;for(var N=0;N<g.pv.length;N++)if(g.pv[N].Name==C)a=N;
if(a==-1){a=g.pv.length;var x=JSON.parse(JSON.stringify(g.pv[0]));x.Name=C;g.pv.splice(a,0,x)}g.Fn.Font=a;
this.y6()};jB.prototype.U1=function(o){var g=o.target,C=g.amk(),a={Type:1,Values:[1,(C>>16&255)/255,(C>>8&255)/255,(C>>0&255)/255]};
for(var N=0;N<4;N++)a.Values[N]=Math.round(a.Values[N]*1e3)/1e3;var x=g==this.Vm||g==this.mS?0:g==this.xX?1:2;
this.iq.Fn[["FillColor","StrokeColor","_FillBackgroundColor"][x]]=a;this.y6()};function jN(){ar.call(this);
this.e=B.f("span","fontinput");this.fu=null;this.GA=null;this.Dc=null;this.h7="";this._E={};this.DB=[];
this.yi={};this.ax6={};this.qm=!1;this.Qw=B.f("button","fitem");this.Qw.setAttribute("style","width:9em;");
this.Qw.textContent="Family Name \u25BC";this.e.appendChild(this.Qw);B.sa(this.Qw,this.anH.bind(this));
this.BU=new ar;this.BU.parent=this;this.BU.e=B.f("div","floatcont");this.KB=new cx(6.8);this.BU.e.appendChild(this.KB.ams());
this.KB.parent=this.BU;this.KB.h(D.E.p,this.uw,this);var o=B.f("div","form");this.BU.e.appendChild(o);
this.bV=new hs(B.U_("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.bV.h("click",this.ali,this);
o.appendChild(this.bV.e);this.Ra=new h$([12,86],null,8.4);this.Ra.h("input",this.Wr,this);o.appendChild(this.Ra.e);
var g=this.atQ=new hs([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);g.h("click",this.aak,this);
g.e.style.marginLeft="1.5em";g.e.style.marginRight="0";o.appendChild(g.e);this.d6=B.f("span","fitem imageset scrollable");
this.d6.style.height="30em";this.BU.e.appendChild(this.d6);this.d6.addEventListener("scroll",this.a0e.bind(this),!1);
this.J4=B.f("button","fitem");this.J4.setAttribute("style","width:7em;");this.J4.textContent="SubFamily Name \u25BC";
this.e.appendChild(this.J4);B.sa(this.J4,this.anH.bind(this));this.Vu=new ar;this.Vu.parent=this;this.Vu.e=B.f("div","floatcont");
this.Qz=B.f("span","fitem imageset scrollable marged");this.Vu.e.appendChild(this.Qz);this.a4A=this.ajK.bind(this);
this.aqP=this.aod.bind(this)}jN.prototype=new ar;jN.prototype.a0e=function(o){var g=this.d6.scrollTop,C=this.DB,a=Math.floor(g/27),x=Math.min(a+20,C.length);
for(var N=a;N<x;N++)this.a73(C[N])};jN.prototype.aak=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.tf,a9L:".otf,.ttf,.ttc"};
this.c(o)};jN.prototype.Q=function(){this.KB.Q();this.atQ.Q();this.bV.BB(B.U_("tools/cshape",null,"autoscale"))};
jN.prototype.ali=function(o){this.bV.I(!this.bV.kW());this.uw()};jN.prototype.Wr=function(o){this.h7=this.Ra.O().toLowerCase();
this.uw()};jN.prototype.anH=function(o){B.eI(o);var g=o.currentTarget,C=g.getBoundingClientRect(),a=g==this.Qw,x=a?this.BU:this.Vu;
if(B.Af(x.e)){this.aoD(x);return}if(!a&&this.fu.$v()[this.Dc]==null)return;var K=new jO(D.E.X,!0);K.data={C:D.t.Sd,u6:x,x:C.left,y:C.top+C.height};
this.c(K);if(a){this.uw(null,!0)}};jN.prototype.ajK=function(o){var g=o.currentTarget.firstChild.nextSibling.textContent;
if(o.target.tagName.toLowerCase()=="button"){var C=this.GA.slice(0),a=C.indexOf(g);if(a==-1){C=C.slice(Math.max(0,C.length-29));
C.push(g)}else C.splice(a,1);var x=new jO(D.E.X,!0);x.data={C:D.t.sM,eA:e1.OG,kq:C};this.c(x);this.qm=!0;
this.uw()}else{this.avD(g,null)}};jN.prototype.aod=function(o){this.avD(null,o.currentTarget.firstChild.textContent)};
jN.prototype.avD=function(o,g){var C=o==null?this.Vu:this.BU,a=this.fu;if(o==null)o=a.$v()[this.Dc][0];
else{var x=a.Oy(o),K=a.$v()[this.Dc];g=jh.fq(x,K?K[1]:"regular")}var h=a.xR(o,g)[2];this.I(h,a);this.c(new jO(D.E.p,!1));
this.aoD(C);this.uw()};jN.prototype.aoD=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.rz,u6:o};this.c(g)};
jN.prototype.O=function(){return this.Dc};jN.prototype.I=function(o,g,C){var a=this.fu;if(o!=null)this.Dc=o;
else o=this.Dc;this.fu=g;this.GA=C;if(o!=null){var x=g.$v()[o],K,h;if(x==null){K="- "+o;h="-------"}else{K=x[0];
h=x[1];var X=g.Oy(K);X.sort(jh.apr);this.Qz.textContent="";for(var N=0;N<X.length;N++){var x=g.xR(K,X[N]);
if(!this.KB.kM(x))continue;var w=this.atb(x,!1);this.Qz.appendChild(w)}}this.Qw.textContent=K.substring(0,15)+" \u25BC";
this.Qw.setAttribute("title",K+", \""+o+"\"");this.J4.textContent=h.substring(0,10)+" \u25BC";this.J4.setAttribute("title",h)}};
jN.prototype.uw=function(o,g){var C=this.fu.$v()[this.Dc],a=this.GA,x=this.fu.WC();this.DB=[];for(var K in x){var h=a.indexOf(K)!=-1,X=this.fu.Oy(K),w=!1;
for(var N=0;N<X.length;N++){var G=this.fu.xR(K,X[N]),R=!0;if(this.h7.length>0&&G[0].toLowerCase().indexOf(this.h7)==-1)R=!1;
else if(!this.KB.kM(G))R=!1;else if(this.bV.kW()&&!h)R=!1;if(R)w=!0}var d=this._E[K];if(d==null){var q=jh.fq(x[K],"regular"),m=this.fu.xR(K,q),d=this.atb(m,!0);
this._E[K]=d;this.d6.appendChild(d);this.yi[K]="[true,false,false]"}if(w)this.DB.push(K);var M=C!=null&&C[0]==K;
this.ax6[K]="["+w+","+M+","+h+"]";if(!g)this.a73(K)}if(C&&!this.qm){var Z=this._E[C[0]];this.d6.scrollTop=Z.offsetTop-210}this.a0e();
this.qm=!1};jN.prototype.a73=function(o){var g=this._E[o];if(g.firstChild==null){var C=this.fu.WC(),a=jh.fq(C[o],"regular"),x=this.fu.xR(o,a);
this.ack(g,x,!0)}var K=this.yi[o],h=this.ax6[o];if(K==h)return;var X=JSON.parse(K),w=JSON.parse(h);if(X[0]!=w[0]||X[1]!=w[1]){var G=w[0]?"":"display:none; ";
if(w[1])G+="background-color:rgba(0,0,0,0.13);";g.setAttribute("style",G)}if(X[2]!=w[2])g.firstChild.setAttribute("style","opacity: "+(w[2]?"1":"0.2"));
this.yi[o]=h};jN.prototype.atb=function(o,g){var C=B.f("div","fontitem");if(!g)this.ack(C,o,g);return C};
jN.prototype.ack=function(o,g,C){var a=g[C?0:1],x=C?this.a4A:this.aqP,w="";o.addEventListener("click",x,!1);
if(C)o.appendChild(B.f("button","star"));var K=B.f("span","label");K.setAttribute("title",a);K.textContent=a;
o.appendChild(K);var h=B.r(),X=1/h,G=jh.n7*X,R=jh.Vj*X;if(1<h&&h<1.5)w="width:"+G+"px; height:"+R+"px;";
var d=B.f("span","thumb gsicon");if(g.aw_){w+="background: url("+g.aw_+");";if(1<h&&h<1.5)w+="background-size: "+G+"px "+R+"px;"}else{var q=Math.ceil(FNTS.list.length/jh.cols),m=Math.floor(g.XE/q),M=g.XE%q,Z=m*jh.n7,Q=M*jh.Vj;
if(1<h&&h<1.5){w+="background-size: "+jh.cols*G+"px "+q*R+"px;";Z*=X;Q*=X}w+="background-position:-"+Z+"px -"+Q+"px;"}d.setAttribute("style",w);
o.appendChild(d)};function cx(o){ar.call(this);this.e=B.f("button","fitem bbtn");this.e.addEventListener("click",this.a8a.bind(this),!1);
this.Kv=new ar;this.Kv.e=B.f("div","floatcont");this.Kv.parent=this;this.rH=B.f("div","flexrow");this.Kv.e.appendChild(this.rH);
this.i_=[];this.uN=[];var g=this.rH,C=B.f("div",""),a=B.f("div","");g.appendChild(C);g.appendChild(a);
this.iD=[];for(var N=0;N<FNTS.cats.length;N++)this.iD.push({name:FNTS.cats[N],index:N,uV:0});this.cH=new eT([7,0]);
this.cH.I(!0);this.cH.h(D.E.p,this.awD,this);C.appendChild(this.cH.e);this.gj=B.f("div","vlist marged scrollable");
this.gj.setAttribute("style","width:10.3em; height:"+o+"em; ");C.appendChild(this.gj);this.sD=[];for(var N=0;
N<this.iD.length;N++){var x=this.iD[N],K=new eT(x.name);this.sD.push(K);K.h(D.E.p,this.ax5,this);K.I(!0);
this.gj.appendChild(K.e);this.i_.push(1)}this.adZ=new eT([7,0]);this.adZ.h(D.E.p,this.aj_,this);this.ek=B.f("div","vlist marged scrollable");
this.ek.setAttribute("style","width:8.6em; height:"+(o+1.5)+"em; ");a.appendChild(this.ek);this._A=[];
for(var N=0;N<FNTS.subsetNames.length;N++){var K=new eT(FNTS.subsetNames[N]);this._A.push(K);K.h(D.E.p,this.ahO,this);
K.I(!1);this.ek.appendChild(K.e);this.uN.push(K.O()?1:0)}}cx.prototype=new ar;cx.prototype.a7F=function(o){var g=this._A;
for(var N=0;N<g.length;N++){var C=(o>>>N&1)==1;this.uN[N]=C;g[N].I(C)}};cx.prototype.ams=function(){return this.rH};
cx.prototype.Q=function(){this.e.textContent=fF.get([25,1,0])+" \u25BC";this.cH.Q();this.adZ.Q()};cx.prototype.a8a=function(o){var g=this.e.getBoundingClientRect(),C=new jO(D.E.X,!0);
C.data={C:D.t.Sd,u6:this.Kv,x:g.left,y:g.top+g.height,_u:!1};this.c(C)};cx.prototype.kM=function(o){if(this.i_[o[4]]==0)return!1;
else for(var g=0;g<this.uN.length;g++)if(this.uN[g]==1&&(o[3]>>>g&1)==0)return!1;return!0};cx.prototype.awD=function(o){var g=o.target.O(),C=this.sD,a=this.i_;
for(var N=0;N<C.length;N++){C[N].I(g);a[N]=g?1:0}this.c(new jO(D.E.p,!1))};cx.prototype.aj_=function(o){var g=o.target.O(),C=this._A,a=this.uN;
for(var N=0;N<C.length;N++){C[N].I(g);a[N]=g?1:0}this.c(new jO(D.E.p,!1))};cx.prototype.ax5=function(o){var N=this.sD.indexOf(o.target),g=this.iD[N].index;
this.i_[g]=1-this.i_[g];this.c(new jO(D.E.p,!1));this.aqG(this.sD,this.cH)};cx.prototype.ahO=function(o){var N=this._A.indexOf(o.target);
this.uN[N]=1-this.uN[N];this.c(new jO(D.E.p,!1))};cx.prototype.aqG=function(o,g){var C=!0;for(var N=0;
N<o.length;N++)C=C&&o[N].O();g.I(C)};function dT(o,g,C){et.call(this,g,!0,"gradientbutton",18,10,e1.W2);
this.L$=-1;this.KT=-1;this.a4C=null;this.abD=o;this.u2=C}dT.prototype=new et;dT.prototype.nz=function(o){var g=this.J3;
this.I(g[this.jF.O()]);this.c(new jO(D.E.p))};dT.prototype.EA=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.gC,$j:"gradienteditor",T:this.Xk,Ef:this.ahJ.bind(this),s9:this.u2};
this.c(g)};dT.prototype.ahJ=function(o){this.I(o);this.c(new jO(D.E.p))};dT.prototype.yR=function(){if(!this.be)return;
var o=Math.floor(36*B.r()),g=Math.floor(36*B.r()),C=[],a=[],x=this.J3;for(var N=0;N<x.length;N++){var K=x[N];
a.push(K.Nm?K.Nm.v.split("=").pop():"");var h=c.Wt.zJ(K,o,g,Math.PI/4,this.L$,this.KT);C.push(h)}this.jF.s4(C,a,o,g);
this.be=!1};dT.prototype.gQ=function(o,g){this.at9(this.Xk,o,g)};dT.prototype.I=function(o){this.at9(o,this.L$,this.KT)};
dT.prototype.at9=function(o,g,C){this.L$=g;this.KT=C;if(o==null)return;var a=JSON.stringify(o),x=a+g+","+C;
if(x==this.a4C)return;this.a4C=x;this.Xk=JSON.parse(a);var K=Math.floor(80*B.r()),h=Math.floor(16*B.r()),X=c.Wt.zJ(this.Xk,K,h,0,this.L$,this.KT);
this.q$.setAttribute("src",X);B.IC(this.q$,K,h)};dT.prototype.O=function(){var o;if(this.abD)o=c.Wt.apX(this.Xk,this.L$,this.KT);
else o=JSON.parse(JSON.stringify(this.Xk));return o};function gE(o){et.call(this,o,!1,"swatchbutton",16,8.75,e1.VJ)}gE.prototype=new et;
gE.prototype.nz=function(o){this.I(this.J3[o.target.O()]);this.c(new jO(D.E.p))};gE.prototype.yR=function(){if(!this.be)return;
var o=Date.now(),g=Math.floor(10*B.r()),C=Math.floor(10*B.r()),a=[],x=[],K=this.J3;for(var N=0;N<K.length;
N++){x.push(K[N].dT?K[N].dT.split("=").pop():"");a.push(gE.zJ(K[N],g,C))}this.jF.s4(a,x,g,C);this.be=!1};
gE.prototype.I=function(o){this.Xk=JSON.parse(JSON.stringify(o));this.OA()};gE.prototype.OA=function(){var o=Math.floor(24*B.r()),g=Math.floor(20*B.r()),C=gE.zJ(this.Xk,o,g);
this.q$.setAttribute("src",C);B.IC(this.q$,o,g)};gE.prototype.O=function(){return JSON.parse(JSON.stringify(this.Xk))};
gE.cl={};gE.zJ=function(o,g,C){var a=gE.$A,x=gE.cl,K=l.eh(o.z<<16|o.B<<8|o.K);if(x[K])return x[K];if(a==null){var h=B.f("canvas");
a=gE.$A=h.getContext("2d")}var h=a.canvas;h.width=g;h.height=C;a.fillStyle="#"+K;a.fillRect(0,0,g,C);
var X=x[K]=h.toDataURL();return X};function ec(o,g,C){ar.call(this);this.e=B.f(C?"div":"span");var a=this.DV=B.f("input");
this.DV.setAttribute("type","file");if(g)a.setAttribute("multiple","");this.DV.addEventListener("change",this.ana.bind(this),!1);
this.ap7=this.aeW.bind(this);this.Ia={};this.Vo=0;var x=new hs(o,null,null,!0);this.e.appendChild(x.e);
x.addEventListener("click",function(K){a.click()});if(C){this.Rn=B.f("div","scrollable");this.Rn.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.e.appendChild(this.Rn);this.Ty()}}ec.prototype=new ar;ec.prototype.I=function(o){};ec.prototype.O=function(o){return this.Ia};
ec.prototype.ana=function(o){var g=o.target.files;this.Vo=g.length;this.Ia={};for(var N=0;N<g.length;
N++){var C=g[N],a=new FileReader;a.onload=this.ap7;a.c0=C.name;a.readAsArrayBuffer(C)}};ec.prototype.aeW=function(o){var g=this.Ia[o.target.c0]=new Uint8Array(o.target.result);
this.Vo--;if(this.Vo==0){if(this.Rn)this.Ty();this.c(new jO(D.E.p))}};ec.prototype.Ty=function(){var o=this.Rn;
B.KZ(o);for(var g in this.Ia){var C=B.f("div");C.textContent=g;o.appendChild(C)}};function hh(o,g,C,a,x){if(o==null)o=!1;
if(g==null)g=!1;if(C==null)C=!1;ar.call(this);this.tO=new eN;this.Fa=new eN;this.gE=72;this.UF=72;this.Ld=!0;
this.e=B.f("span");this.eC=new e8([12,41],0,0,null,0,!1,!0);this.e.appendChild(this.eC.e);this.eC.h(D.E.p,this.Zh,this);
var K=["px","%"];if(o)K=K.concat(["mm","in"]);if(x){K=[[12,76,2],[12,76,6]];if(o)K=K.concat([[12,76,5],[12,76,3]])}this.dm=new jz(null,K);
this.e.appendChild(this.dm.e);B.zw(this.e);this.dm.h(D.E.p,this.Zh,this);this.Mi=new e8([12,42],0,0,null,0,!1,!0);
this.e.appendChild(this.Mi.e);this.Mi.h(D.E.p,this.Zh,this);var h=new hs("\u21F5",!1,null,!0);h.h("click",this.aeY,this);
this.FB=new hs("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.FB.h("click",this.Zh,this);
this.arf=new d3("");if(g){this.e.appendChild(this.FB.e);this.e.appendChild(this.arf.e);this.FB.nU()}else this.e.appendChild(h.e);
this.cm=new e8("DPI",0,0,null,3,!1,!0,4);if(o&&a==null){B.zw(this.e);this.e.appendChild(this.cm.e)}this.cm.h(D.E.p,this.Zh,this);
this.cY=new eT([12,23,1]);this.cY.h(D.E.p,this.Zh,this);if(C){B.zw(this.e);this.e.appendChild(this.cY.e)}B.zw(this.e)}hh.prototype=new ar;
hh.prototype.Vg=function(){this.eC.Vg()};hh.prototype.afn=function(){this.Ld=!1;if(this.dm.O()==0){this.dm.I(3);
this.wR()}};hh.prototype.a98=function(){this.Ld=!0};hh.prototype.abk=function(o){this.FB.I(o)};hh.prototype.Q=function(){this.eC.Q();
this.Mi.Q();this.cm.Q();this.FB.Q();this.cY.Q();this.dm.Q()};hh.prototype.aeY=function(o){var g=this.Fa.x;
this.Fa.x=this.Fa.y;this.Fa.y=g;this.wR();this.c(new jO(D.E.p,!1))};hh.prototype.Zh=function(o){if(o.target==this.dm&&!this.Ld&&this.dm.O()==0)this.dm.I(3);
if(o.target==this.dm||o.target==this.cY){this.wR();return}if(o.target==this.FB)o.target.I(!o.target.O());
var g=this.tO,C=parseFloat(this.eC.O());if(isNaN(C))C=1;var a=parseFloat(this.Mi.O());if(isNaN(a))a=1;
var x=this.dm.O();if(this.Ld){var K=this.UF;if(x==1){C=this.tO.x*(C/100);a=this.tO.y*(a/100)}var h=[1,1,25.4/K,1/K][x];
C/=h;a/=h;if(this.cY.O()){C+=this.tO.x;a+=this.tO.y}if(o.target==this.cm){var X=this.cm.O();if(!0){var w=X/K;
C*=w;a*=w}K=X}if(this.FB.O()){if(o.target==this.eC)a=C*(g.y/g.x);else C=a*(g.x/g.y)}C=Math.max(Math.abs(C),1);
a=Math.max(Math.abs(a),1)}else{var K=this.gE;if(o.target==this.cm)K=this.cm.O();else{if(this.FB.O()){if(o.target==this.eC)a=C*(g.y/g.x);
else C=a*(g.x/g.y)}var h=[1,1,25.4/K,1/K][x],G=C/(x==1?100:g.x*h);K=K/G}C=g.x;a=g.y}this.Fa=new eN(Math.round(C),Math.round(a));
this.UF=K;this.wR();this.c(new jO(D.E.p,!1))};hh.prototype.a6J=function(N){this.dm.I(N);this.wR()};hh.prototype.I=function(o,g,C){if(C!=!0)this.tO=o.clone();
this.Fa=o.clone();if(g!=null){this.gE=g;this.UF=g}this.wR()};hh.prototype.wR=function(){var o=this.Fa.x,g=this.Fa.y,C=this.UF,a=(o/g).toFixed(3);
while(a.charAt(a.length-1)=="0")a=a.substring(0,a.length-1);if(a.charAt(a.length-1)==".")a=a.substring(0,a.length-1);
var x="  "+a+" : 1",K=function(R,d){while(d!=0){var q=d;d=R%d;R=q}return R},h=K(o,g);if(Math.min(o,g)/h<10)x="  "+Math.round(o/h)+" : "+Math.round(g/h);
this.arf.I(x);if(this.cY.O()){o-=this.tO.x;g-=this.tO.y}var X=this.dm.O();if(X==1){if(this.Ld){o=100*o/this.tO.x;
g=100*g/this.tO.y}else{o=g=100*this.gE/this.UF}}else{o=Math.round(o);g=Math.round(g)}var w=[1,1,25.4/C,1/C][X];
o*=w;g*=w;var G=X==1||X==3?2:0;this.eC.CD(G);this.Mi.CD(G);this.eC.I(o);this.Mi.I(g);this.cm.I(C)};hh.prototype.O=function(){return this.Fa.clone()};
hh.prototype.V8=function(){return this.UF};function dz(o,g,C){ar.call(this);var a=o==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.DJ=o;this.aki=g;this.Zq=1;this.Nr=[1,1,0];var x=this.e=B.f("div","numlist"),K=this.QA=[];for(var N=0;
N<4;N++){var h=new e8(a[N],0,0,null,2,!1,!0,4,null,C&&(N==0||N==2));h.h(D.E.p,this.Zh,this);x.appendChild(h.e);
K[N]=h;if(N==1||N==3)B.zw(x)}K[4]=new eT(o==0?[12,51]:[12,91,2]);K[4].I(!0);x.appendChild(K[4].e)}dz.prototype=new ar;
dz.prototype.Q=function(){var o=this.QA;for(var N=0;N<5;N++)o[N].Q();if(this.DJ==0)B.gJ(o[0],o[2])};
dz.prototype.I=function(o,g,C){if(g)this.Nr=g;g=this.Nr;var a=C?o:this.DJ==0?[o[2],o[0],o[3],o[1]]:[o[0],o[1],o[3],o[2]];
this.Zq=a[0]/a[2];for(var N=0;N<4;N++){var x=this.QA[N];x.CD(g[2]==0&&this.aki?0:2);x.I(l.aE.aku(a[N],g[0],g[1],g[2]))}};
dz.prototype.O=function(o){var g=[],C=this.Nr;for(var N=0;N<4;N++){var a=l.aE.p6(this.QA[N].O(),C[0],C[1],C[2]);
g[N]=this.aki?Math.round(a):a}return o?g:this.DJ==0?[g[1],g[3],g[0],g[2]]:[g[0],g[1],g[3],g[2]]};dz.prototype.Zh=function(o){var g=this.DJ,C=this.QA.indexOf(o.currentTarget),a=this.O(!0),x=this.QA[4].O();
if(g==0){a[0]=Math.max(1,a[0]);a[2]=Math.max(1,a[2]);if(x&&C==0)a[2]=a[0]/this.Zq;if(x&&C==2)a[0]=a[2]*this.Zq}if(g==1){a[C]=Math.max(0,a[C]);
if(x)for(var N=0;N<4;N++)a[N]=a[C]}this.I(a,null,!0);this.c(new jO(D.E.p,!1))};function fI(){ar.call(this);
this.Ny=0;this.MF=[0,0,1,1,100,100];this.e=B.f("span","fitem");this.MB=new jz(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.e.appendChild(this.MB.e);this.MB.h(D.E.p,this.Zh,this);this.eC=new e8("W",0,0,null,0,!1,!0);this.e.appendChild(this.eC.e);
this.eC.h(D.E.p,this.Zh,this);this.Mi=new e8("H",0,0,null,0,!1,!0);this.e.appendChild(this.Mi.e);this.Mi.h(D.E.p,this.Zh,this);
this.I({Nc:0,x:0,y:0})}fI.prototype=new ar;fI.prototype.Q=function(){B.gJ(this.eC,this.Mi);this.MB.Q()};
fI.prototype.Zh=function(o){if(o.target==this.MB){var g=this.O(),C=this.MF;C[this.Ny*2]=g.x;C[this.Ny*2+1]=g.y;
this.Ny=g.Nc;this.I({Nc:g.Nc,x:C[g.Nc*2],y:C[g.Nc*2+1]})}if(this.eC.O()<1)this.eC.I(1);if(this.Mi.O()<1)this.Mi.I(1);
this.c(new jO(D.E.p,!1))};fI.prototype.I=function(o){this.MB.I(o.Nc);this.eC.I(o.x);this.Mi.I(o.y);if(o.Nc==0){this.eC.Uy();
this.Mi.Uy()}else{this.eC.ih();this.Mi.ih()}};fI.prototype.O=function(){return{Nc:this.MB.O(),x:this.eC.O(),y:this.Mi.O()}};
function ev(o){ar.call(this);this.e=B.f("span","");this.aqN=o;this.pp=new iH("Off X",-100,100,o?"%":"px",0,!1);
this.pj=new iH("Off Y",-100,100,o?"%":"px",0,!1);this.pp.h(D.E.p,this.Zh,this);this.pj.h(D.E.p,this.Zh,this);
this.e.appendChild(this.pp.e);this.e.appendChild(this.pj.e)}ev.prototype=new ar;ev.prototype.Q=function(){this.pp.Q();
this.pj.Q()};ev.prototype.Zh=function(o){this.c(new jO(D.E.p,!1))};ev.prototype.a12=function(o){this.pp.I(o.x);
this.pj.I(o.y)};ev.prototype.ak_=function(){return new eN(this.pp.O(),this.pj.O())};ev.prototype.I=function(o,g){var C=o.Hrzn.v,a=o.Vrtc.v;
if(this.aqN){C=C.val;a=a.val}this.pp.I(C);this.pj.I(a);if(g==!0)this.Zh()};ev.prototype.O=function(){var o=this.pp.O(),g=this.pj.O();
if(this.aqN)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:o}},Vrtc:{t:"UntF",v:{type:"#Prc",val:g}}};
else return{classID:"Pnt",Hrzn:{v:o,t:"doub"},Vrtc:{v:g,t:"doub"}}};function hL(){ar.call(this);this.e=B.f("span","fitem strokebutton");
this.xk=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.C6=JSON.parse(JSON.stringify(hf.ly.default));
this.A2=B.f("button");this.e.appendChild(this.A2);B.sa(this.e,this.bP.bind(this));var o=B.f("canvas","gsicon");
this.$A=o.getContext("2d");this.A2.appendChild(o);var g=B.f("span");g.textContent=" \u25BC";this.A2.appendChild(g);
this.Kv=new ar;this.Kv.parent=this;this.Kv.e=B.f("div","floatcont form");var C=this.Kv.e;C.setAttribute("style","width: 14em;");
this._E=[new jz([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new jT([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new jT([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new h$([19,9,2])];
for(var N=0;N<this._E.length;N++){var a=this._E[N];C.appendChild(a.e);var x=N<4?D.E.p:"click";a.h(x,this.Zh,this)}B.zw(C);
this.ff=[];var K=this.SC.bind(this);this.C6.strokeStyleLineWidth.v.val=3;for(var N=0;N<this.xk.length;
N++){var h=B.f("button","fitem");this.ff.push(h);C.appendChild(h);h.addEventListener("click",K,!1);var o=B.f("canvas","gsicon"),X=o.getContext("2d");
h.appendChild(o);this.at5(X,40,20,this.xk[N])}this.C6.strokeStyleLineWidth.v.val=1}hL.prototype=new ar;
hL.prototype.bP=function(o){if(B.Af(this.Kv.e))return;o.stopPropagation();var g=this.A2.getBoundingClientRect(),C=new jO(D.E.X,!0);
C.data={C:D.t.Sd,u6:this.Kv,x:g.left,y:g.top+g.height+4};this.c(C)};hL.prototype.Zh=function(o){var g=this._E,C=g.indexOf(o.target),a=[];
for(var N=0;N<4;N++)a.push(g[N].O());this.C6=this.a3v(a);this.c(new jO(D.E.p,!1))};hL.prototype.SC=function(o){var g=this.ff.indexOf(o.currentTarget);
this.I(this.a3v(this.xk[g]));this.c(new jO(D.E.p,!1))};hL.prototype.a3v=function(o){var g=JSON.parse(JSON.stringify(this.C6)),C=o[0],a=o[1],x=o[2],K=o[3];
if(C!=null)g.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hf.ly.sx[C];if(a!=null)g.strokeStyleLineCapType.v.strokeStyleLineCapType=hf.ly.sj[a];
if(x!=null)g.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hf.ly.join[x];var h=g.strokeStyleLineDashSet.v=[];
K=K.split(" ");while((K.length&1)!=0)K.pop();for(var N=0;N<K.length;N++)h.push({t:"UntF",v:{type:"#Nne",val:parseInt(K[N])}});
return g};hL.prototype.Q=function(){for(var N=0;N<this._E.length;N++)this._E[N].Q()};hL.prototype.I=function(o){this.C6=JSON.parse(JSON.stringify(o));
var g=hf.ly.sx.indexOf(o.strokeStyleLineAlignment.v.strokeStyleLineAlignment),C=hf.ly.sj.indexOf(o.strokeStyleLineCapType.v.strokeStyleLineCapType),a=hf.ly.join.indexOf(o.strokeStyleLineJoinType.v.strokeStyleLineJoinType),x=[],K=o.strokeStyleLineDashSet.v;
for(var h=0;h<K.length;h++)x.push(K[h].v.val);var X=this._E;X[0].I(g);X[1].I(C);X[2].I(a);X[3].I(x.join(" "));
var w=[];for(var N=0;N<4;N++)w.push(X[N].O());this.at5(this.$A,40,16,w)};hL.prototype.O=function(){return JSON.parse(JSON.stringify(this.C6))};
hL.prototype.at5=function(o,g,C,a){var x=a[0],K=a[1],h=a[2],X=a[3].split(" ").map(parseFloat);B.SZ(o.canvas,g,C);
var w=Math.min(5,this.C6.strokeStyleLineWidth.v.val);for(var N=0;N<X.length;N++)X[N]*=w;o.clearRect(0,0,g,C);
o.setLineDash(X);o.lineCap=["butt","round","square"][K];o.lineJoin=["miter","round","bevel"][h];o.lineWidth=w;
o.beginPath();o.moveTo(0,C/2);o.lineTo(g*2,C/2);o.stroke()};function aD(o){et.call(this,o,!1,"contourbutton",34,16,e1.EW,!0);
this.Ra=new h$([12,86],null,16);this.Ra.h("input",this.Wr,this);this.Kv.e.appendChild(this.Ra.e);this.ck=null;
this.h7="";this.Rr=null;this.I(dK.l3())}aD.prototype=new et;aD.prototype.Q=function(){et.prototype.Q.call(this);
this.Ra.Q()};aD.prototype.nz=function(o){this.I(this.ck[o.target.O()[0]]);this.c(new jO(D.E.p))};aD.prototype.Wr=function(o){this.h7=this.Ra.O().toLowerCase();
this.arw()};aD.ai3=!1;aD.prototype.yR=function(){if(!this.be)return;var o=this.J3;if(o==null||!aD.ai3){var g=new jO(D.E.X,!0);
g.data={C:D.t.S3,eA:{url:"rsrc/basic/fa_basic.csh"}};this.c(g);aD.ai3=!0}else{var C=Math.floor(38*B.r()),a=Math.floor(38*B.r());
this.Rr=[];for(var N=0;N<o.length;N++)this.Rr.push(aD.a9a(o[N],C,a));this.arw();this.be=!1}};aD.prototype.arw=function(){var o=Math.floor(38*B.r()),g=Math.floor(38*B.r());
this.ck=[];var C=[],a=[],x=this.J3;for(var N=0;N<x.length;N++){if(x[N].Zb.toLowerCase().indexOf(this.h7)==-1)continue;
this.ck.push(x[N]);C.push(this.Rr[N]);a.push(x[N].Zb)}this.jF.s4(C,a,o,g)};aD.prototype.I=function(o){this.Xk=aD.clone(o);
this.OA()};aD.prototype.OA=function(){var o=Math.floor(23*B.r()),g=Math.floor(23*B.r()),C=aD.a9a(this.Xk,o,g);
this.q$.setAttribute("src",C);B.IC(this.q$,o,g)};aD.prototype.O=function(){return aD.clone(this.Xk)};
aD.clone=function(o){return{Zb:o.Zb,q5:o.q5,i:A.A3.FL(o.i),oD:o.oD.clone()}};aD.J=null;aD.wI=null;aD.a9a=function(o,g,C){var a=A.A3.FL(o.i),x=o.oD,K=Math.min(g/x.m,C/x.n)*.9,h=new kp;
h.translate(-.5,-.5);h.scale(.95,.95);h.translate(.5,.5);h.scale(K*x.m,K*x.n);l.M.Jg(a,h);var X=new A.A3;
X.i=a;var w=X.KN();w.rect.x=Math.floor((g-w.rect.m)/2);w.rect.y=Math.floor((C-w.rect.n)/2);var G=l.Z(w.rect.$()*4);
l.Oa(w.channel,G,3);var R=aD;if(R.J==null)R.J=B.f("canvas");var d=R.J,q=d.getContext("2d");if(d.width!=g||d.height!=C||R.wI==null){d.width=g;
d.height=C;R.wI=q.createImageData(g,C)}var m=R.wI;m.data.fill(0);l.HT(G,w.rect,m.data,new aS(0,0,g,C));
q.putImageData(m,0,0);return d.toDataURL()};function jJ(o){et.call(this,o,!1,"ICCButton",16,12,e1.Xi,!0);
this.jF.Ap(1)}jJ.prototype=new et;jJ.prototype.XV=function(){var o="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var N=0;N<o.length;N++)o[N]="luts/"+o[N]+".CUBE";return o};jJ.prototype.nz=function(o){this.I(this.J3[o.target.O()]);
this.c(new jO(D.E.p))};jJ.prototype.yR=function(){if(!this.be)return;var o=Math.floor(1*B.r()),g=Math.floor(1*B.r()),C=[],a=[],x=this.J3;
for(var N=0;N<x.length;N++){var K=x[N].Nm.v.split("\\").pop().split("/").pop();a.push(K);C.push(jJ.zJ(x[N],o,g))}this.jF.s4(C,a,o,g);
this.be=!1};jJ.prototype.I=function(o){this.Xk=JSON.parse(JSON.stringify(o));this.OA()};jJ.zJ=function(o,g,C){var a=B.f("canvas"),h="ICC / 3DL / look / cube";
a.width=g;a.height=C;var x=a.getContext("2d"),K=Math.floor(14*B.r());x.font=K+"px sans-serif";if(o.Nm)h=o.Nm.v.split("\\").pop().split("/").pop();
x.fillText(h,10,K);return a.toDataURL()};jJ.prototype.OA=function(){var o=Math.floor(120*B.r()),g=Math.floor(20*B.r());
this.q$.setAttribute("src",jJ.zJ(this.Xk,o,g));B.IC(this.q$,o,g)};jJ.prototype.O=function(){return JSON.parse(JSON.stringify(this.Xk))};
function dO(){ar.call(this);this.b_=null;this.e=B.f("span","fitem");this.LS=new bK([14,9]);this.Nu=new e8(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.RR=new hL;this.K7=[this.LS,this.Nu,this.RR];for(var N=0;N<this.K7.length;N++){var o=this.K7[N];
this.e.appendChild(o.e);o.parent=this;o.h(D.E.p,this.Zh,this)}}dO.prototype=new ar;dO.prototype.Q=function(){for(var N=0;
N<this.K7.length;N++)this.K7[N].Q()};dO.prototype.Xt=function(o,g){this.LS.Xt(o,g)};dO.prototype.Zh=function(o){var g=this.b_,C=this.LS.O(),a=C.mf;
g.strokeEnabled.v=a!=0;if(a!=0){g.strokeStyleContent.v=C.NL;C.NL.classID=hf.ly.iJ[a-1]}g.strokeStyleLineWidth.v.val=this.Nu.O();
if(o.target==this.RR)g=this.RR.O();this.b_=g;this.c(new jO(D.E.p,!1))};dO.prototype.I=function(o,g,C){this.b_=JSON.parse(JSON.stringify(g));
var a=g.strokeEnabled.v,x=g.strokeStyleContent.v,K=a?{mf:1+hf.ly.iJ.indexOf(x.classID),NL:x}:{mf:0};
this.LS.I(o,K,C);this.Nu.I(g.strokeStyleLineWidth.v.val);this.RR.I(g)};dO.prototype.O=function(){return JSON.parse(JSON.stringify(this.b_))};
function gl(o){var g=[[18,0],[18,1],[18,2],[18,3]],C=jT.fE(["set/front","set/union","set/difference","set/intersection"]);
jT.call(this,o?[12,36]:null,C,g)}gl.prototype=new jT;function fV(){ar.call(this);this.e=B.f("button","fitem bbtn");
B.sa(this.e,this.bP.bind(this));this.Kv=new ar;this.Kv.e=B.f("div","floatcont form");this.Kv.e.setAttribute("style","max-width: 200px;");
this.Kv.parent=this;var o=ho;this.l_=[new eT("Start"),new eT("End"),new o([12,41],0,100,"px",null,!0,null,!0),new o([12,80,0],0,100,"px",null,!0,null,!0),new o("Concavity",-50,50,"%",null,null,null,!0)];
for(var N=0;N<this.l_.length;N++){var g=this.l_[N];g.parent=this;g.h(D.E.p,this.Ez,this);this.Kv.e.appendChild(g.e)}this.awG=B.f("div");
this.Kv.e.appendChild(this.awG)}fV.prototype=new ar;fV.prototype.I=function(o){for(var N=0;N<5;N++)this.l_[N].I(o[N]);
this.Ty()};fV.prototype.O=function(o){var g=[];for(var N=0;N<5;N++)g[N]=this.l_[N].O();return g};fV.prototype.Q=function(){this.e.textContent=fF.get([12,93,4]);
for(var N=0;N<this.l_.length;N++)this.l_[N].Q()};fV.prototype.Ez=function(o){this.c(new jO(D.E.p,!1));
this.Ty()};fV.prototype.Ty=function(o){var g=this.O(),C=200,a=60;g[2]/=B.r();g[3]/=B.r();var x=l.M.MG.g7(0,a/2,C,a/2,5,g),K=l.M.Z$(x);
this.awG.innerHTML="<svg width=\""+C+"\" height=\""+a+"\" class=\"gsicon\">\t\t\t<path d=\""+K.dH+"\" />\t\t\t</svg>"};
fV.prototype.bP=function(o){if(B.Af(this.Kv.e))return;o.stopPropagation();var g=this.e.getBoundingClientRect(),C=new jO(D.E.X,!0);
C.data={C:D.t.Sd,u6:this.Kv,x:g.left,y:g.top+g.height,_u:!0};this.c(C)};function iV(){ar.call(this);
this.e=B.f("div");this.QA=[];this.awz=[];var o=this.nv=B.f("div"),g=B.f("h2");g.textContent="Create Teams";
o.appendChild(g);g.style.margin="26px 0 16px 0";var C=new hs("More about Teams",!1,null,!0);g.appendChild(C.e);
C.e.style.float="right";C.h("click",this.agx,this);this.gv=B.f("div");o.appendChild(this.gv);this.a6P=new h$("Team Name",null,10);
o.appendChild(this.a6P.e);var a=this.aaq=new hs("Create Team",null,null,!0);o.appendChild(a.e);a.h("click",this.ahX,this);
var g=B.f("h2");g.textContent="Join Teams";o.appendChild(g);g.style.margin="26px 0 16px 0";this.u5=B.f("div");
o.appendChild(this.u5);this.afY=new h$("Team ID",null,10);o.appendChild(this.afY.e);var a=new hs("Join Team",null,null,!0);
o.appendChild(a.e);a.h("click",this.ahX,this);this.awE;this.a9G=this.Tk.bind(this);this.a0T=this.ako.bind(this);
this.Tj=!1;this.Y0();this.yg=null;this.a2r=""}iV.prototype=new ar;iV.prototype.agx=function(o){var g=new jO(D.E.X,!0);
g.data={C:D.t.y2,link:"https://www.photopea.com/api/accounts#teams"};this.c(g)};iV.prototype.Y0=function(){clearTimeout(this.alM);
this.alM=setTimeout(this.a0T,this.yg?10:3e3)};iV.prototype.ako=function(){var o=d$.Yh();if(document.hidden||!B.Af(this.e)||o==null){this.Y0();
return}var g=d$.kt();if(this.yg==null&&g==null)return;d$.KO(this.yg?this.yg:g,this.a9G);this.Tj=!0;this.yg=null};
iV.prototype.a0Y=function(o){o.acc.update=!0;this.e.style.pointerEvents="none";this.e.style.opacity="0.5";
if(this.Tj)this.yg=o;else{clearTimeout(this.alM);d$.KO(o,this.a9G)}};iV.prototype.g1=function(o){var g=typeof o=="string"?this.awE:this.QA.indexOf(o.target),C=this.awz[g],a=C[0],x=d$.kt();
if(x==null)x={};var K=x.acc,h=K.tjoin,X=K.tstart;if(a=="leave"){h.splice(h.indexOf(C[1]),1)}if(a=="add"||a=="remove"||a=="delTeam"||a=="showRename"||a=="rename"){var w=-1,G=0;
for(var N=0;N<X.length;N++){G+=X[N][1].length;if(X[N][2]==C[1])w=N}var d=X[w];if(a=="add"){var q=d$.Cr();
if(q[0]==0&&q[1][2]<=G){alert("You can have at most "+q[1][2]+" members in your Premium.");return}d[1].push(C[2])}if(a=="remove")d[1].splice(d[1].indexOf(C[2]),1);
if(a=="delTeam"){if(d[1].length!=0){alert("Remove members first.");return}X.splice(w,1)}if(a=="showRename"){var m=new jO(D.E.X,!0);
m.data={C:D.t.gC,$j:"namewindow",zT:d[0],op:this.g1.bind(this)};this.c(m);this.awE=g;C[0]="rename";return}if(a=="rename")d[0]=o}this.a0Y(x)};
iV.prototype.ahX=function(o){var g=this.aaq==o.target,C=(g?this.a6P:this.afY).O().trim();if(C==""){alert("The Team "+(g?"Name":"ID")+" is empty.");
return}if(!g){C=parseInt(C);if(isNaN(C)){alert("The ID must be a number");return}}var a=d$.kt();if(a==null)a={};
var x=a.acc;if(x==null)x=a.acc={};var K=x.tstart,h=x.tjoin;if(g){if(K==null)K=x.tstart=[];if(K.length>5){alert("You can have at most 5 teams");
return}K.push([C,[]])}else{if(K)for(var N=0;N<K.length;N++)if(K[N][2]==C){alert("You are the owner of this team");
return}if(h==null)h=x.tjoin=[];if(h.indexOf(C)!=-1){alert("You already asked to join this team.");return}x.tjoin.push(C)}x.update=!0;
this.a0Y(a)};iV.prototype.Tk=function(){this.Tj=!1;var o=d$.Yh(),g=o!=null,C=this.nv.parentNode!=null;
if(g!=C){B.KZ(this.e);if(g)this.e.appendChild(this.nv);else this.e.textContent="Log In to access Team Settings."}if(!g)return;
var a=d$.kt();if(a==null)a={};var x=a.acc;if(x==null)x={};var K=JSON.stringify(x)+"===="+JSON.stringify(o);
if(K!=this.a2r){this.a2r=K;var h=this.gv,X=this.u5;B.KZ(h);B.KZ(X);var w=this.QA=[],G=this.awz=[],R=this.g1.bind(this);
function d(f,F){f.addEventListener("click",R);w.push(f);G.push(F)}function q(W,f){var e=B.f("div"),F="rgba(255,255,255,0.15)";
e.appendChild(M("ID: "+W[2],44,F));e.appendChild(M(W[0],160,null,!0));if(f){e.appendChild(M(W[1].length+" members",80,null,!0))}else{e.appendChild(M(W[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<W[1]*1e3)e.appendChild(M("Premium",80,"rgba(0,140,0,1)"))}var U=M("",120);e.appendChild(U);
U.setAttribute("style","float:right;text-align:right");if(f){var r=new hs("Rename",null,null,!0);d(r,["showRename",W[2]]);
U.appendChild(r.e)}var r=new hs(f?"Delete":"Leave",null,null,!0);d(r,[f?"delTeam":"leave",W[2]]);U.appendChild(r.e);
return e}function m(f,F,H){var e=B.f("div");e.style.paddingLeft="36px";e.appendChild(M(F?"\u2713":"...",8,F?"#229922":"#aa7700"));
e.appendChild(M(f[1],200));e.appendChild(M(f[2],240));var U=M("",120);e.appendChild(U);U.setAttribute("style","float:right;text-align:right");
var r=new hs(F?"Remove":"Add",null,null,!0);d(r,[F?"remove":"add",H,f[0]]);U.appendChild(r.e);return e}function M(f,F,U,r){var E=B.f("span");
E.textContent=f;E.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+F+"px;  "+(U!=null?"background-color:"+U+";":"")+(r?"font-weight:bold;":""));
return E}var Z=x.tstart,Q=x.tjoin,p=o.wantToJoin,y=o.inTeams;if(Z)for(var V=0;V<Z.length;V++){var W=Z[V],v=p["t"+W[2]];
if(v==null)v=[];var j={};for(var N=0;N<v.length;N++)j["u"+v[N][0]]=v[N];var e=q(W,!0);h.appendChild(e);
e.style.marginTop="10px";for(var N=0;N<W[1].length;N++){var T=W[1][N],O=j["u"+T];if(O==null)O=[T,"========","... user has left your team"];
delete j["u"+T];var L=m(O,!0,W[2]);h.appendChild(L)}for(var S in j){var O=j[S],L=m(O,!1,W[2]);h.appendChild(L)}}if(Q){var $={};
for(var N=0;N<y.length;N++)$["t"+y[N][2]]=y[N];for(var V=0;V<Q.length;V++){var H=Q[V],W=$["t"+H],e=q(W?W:["==========",-1,H],!1);
X.appendChild(e)}}this.c(new jO(D.E.p))}if(this.yg==null){this.e.style.pointerEvents="auto";this.e.style.opacity="1"}this.Y0()};
function dY(){ar.call(this);this.Gm=[16,!0,!0];this.e=B.f("span","");this.Ls=[new e8([12,24],0,255),new eT([12,25,1]),new eT([12,25,0])];
for(var N=0;N<3;N++){var o=this.Ls[N];o.parent=this;o.I(this.Gm[N]);this.e.appendChild(o.e);o.h(D.E.p,this.Zh,this)}}dY.prototype=new ar;
dY.prototype.Zh=function(){for(var N=0;N<3;N++)this.Gm[N]=this.Ls[N].O();this.c(new jO(D.E.p,!1))};dY.prototype.I=function(o){this.Gm=o.slice(0);
for(var N=0;N<3;N++)this.Ls[N].I(o[N])};dY.prototype.O=function(){return this.Gm.slice(0)};dY.prototype.Q=function(){for(var N=0;
N<3;N++)this.Ls[N].Q()};function gh(o,g){ar.call(this);if(g==null)g=!1;this.Rr=[];this.CK=Math.floor(120*B.r());
this.amc=Math.floor(23*B.r());this.ud=0;this.Rv=[];this.sz=[];for(var C in l.X0.type){if(C=="warpCustom"&&!g)continue;
this.Rv.push(C);this.sz.push(l.X0.type[C])}this.e=B.f("span","fitem warpbutton");this.Kv=new ar;this.Kv.e=B.f("div","floatcont");
if(o){this.uW=o;this.XU=B.f("label","flabel");this.e.appendChild(this.XU)}this.C=B.f("button");this.e.appendChild(this.C);
B.sa(this.C,this.bP.bind(this));this.x5=new iJ(!0);this.Kv.e.appendChild(this.x5.e);this.x5.h(D.E.p,this.a6g,this);
this.Kv.e.setAttribute("style","width:"+Math.floor(8+this.CK/B.r())+"px;");this.Q()}gh.prototype=new ar;
gh.prototype.BB=function(o){this.XU.textContent=o};gh.prototype.Q=function(){if(this.uW)this.XU.innerHTML=fF.get(this.uW)+":";
this.OA()};gh.a5y={};gh.a8q=function(o,g,C){var a=fF.get(l.X0.type[o]),x=a+"-"+o+"-"+g+"-"+C,K=gh.a5y[x];
if(K)return K;var h=gh.$A;if(X==null){var X=B.f("canvas");h=gh.$A=X.getContext("2d")}var X=h.canvas;
if(X.width!=g||X.height!=C){X.width=g;X.height=C}h.font=Math.floor(13*B.r())+"px sans-serif";h.lineWidth=1;
h.strokeStyle="#000000";var w=Math.floor(16*B.r()),G=new aS(0,0,w,w);h.clearRect(0,0,X.width,X.height);
var R=l.X0.X0(G,o,!0,.3,0,0),d=l.o.IW(G);d.G.push("M","L","M","L");d.w.push(0,w/2,w,w/2);d.w.push(w/2,0,w/2,w);
d=l.o.DK(d);d=l.o.Ml(d,w/5);l.dD.D(R,d.w,G);l.o.D(d.w,new kp(1,0,0,1,Math.floor(8*B.r())+.5,Math.floor(3*B.r())+.5),d.w);
h.beginPath();Typr.U.pathToContext({cmds:d.G,crds:d.w},h);h.stroke();h.fillText(a,Math.floor(40*B.r()),Math.floor(16*B.r()));
K=gh.a5y[x]=X.toDataURL();return K};gh.prototype.bP=function(o){if(B.Af(this.Kv.e))return;o.stopPropagation();
var g=this.CK,C=this.amc;for(var N=0;N<this.Rv.length;N++)this.Rr[N]=gh.a8q(this.Rv[N],g,C);this.x5.s4(this.Rr,null,g,C);
var a=this.C.getBoundingClientRect(),x=new jO(D.E.X,!0);x.data={C:D.t.Sd,u6:this.Kv,x:a.left,y:a.top+a.height+4};
this.c(x)};gh.prototype.a6g=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.rz,u6:this.Kv};this.c(g);
this.ud=o.target.O()[0];this.OA();this.c(new jO(D.E.p))};gh.prototype.OA=function(){var o=this.CK,g=this.amc;
this.x5.I([this.ud]);this.C.innerHTML="<img src=\""+gh.a8q(this.Rv[this.ud],o,g)+"\" class=\"gsicon\" />";
B.IC(this.C.firstChild,o,g)};gh.prototype.O=function(){return this.Rv[this.ud]};gh.prototype.I=function(o){this.ud=this.Rv.indexOf(o);
this.OA()};function bH(o,g,C){ar.call(this);if(o==null)o=!1;if(g==null)g=!1;if(C==null)C=!1;this.aw0=g;
this.X0=null;this.ET=new gh([12,22],C);this.ET.parent=this;this.ET.h(D.E.p,this.y6,this);this.Dg=new jz([22,0],[[22,4,0],[22,4,1]]);
this.Dg.h(D.E.p,this.y6,this);var a=o?e8:ho;this.xh=new a([22,1],-100,100,"%");this.et=new a("Horizontal Distortion:",-100,100,"%");
this.rS=new a("Vertical Distortion:",-100,100,"%");this.xh.parent=this.et.parent=this.rS.parent=this;
this.xh.h(D.E.p,this.y6,this);this.et.h(D.E.p,this.y6,this);this.rS.h(D.E.p,this.y6,this)}bH.prototype=new ar;
bH.prototype.Q=function(){this.ET.Q();this.Dg.Q();this.xh.Q();var o=this.aw0?1:100;this.et.BB(fF.get([22,2]).substring(0,o)+":");
this.rS.BB(fF.get([22,3]).substring(0,o)+":")};bH.prototype.y6=function(){var o=this.X0,g=this.ET.O(),C=o.warpStyle.v.warpStyle;
if(g=="warpCustom")l.X0.r$(l.X0.Nw(o),o);else delete o.customEnvelopeWarp;o.warpStyle.v.warpStyle=this.ET.O();
o.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Dg.O()];o.warpValue.v=this.xh.O();o.warpPerspective.v=this.et.O();
o.warpPerspectiveOther.v=this.rS.O();if(g=="warpNone"||g=="warpCustom"){o.warpValue.v=0;o.warpPerspective.v=0;
o.warpPerspectiveOther.v=0}else if(C=="warpNone"||C=="warpCustom")o.warpValue.v=50;this.c(new jO(D.E.p,!1));
this.I(o)};bH.prototype.O=function(o){return JSON.parse(JSON.stringify(this.X0))};bH.prototype.I=function(o){this.X0=JSON.parse(JSON.stringify(o));
this.ET.I(o.warpStyle.v.warpStyle);this.Dg.I(o.warpRotate.v.Ornt=="Hrzn"?0:1);this.xh.I(o.warpValue.v);
this.et.I(o.warpPerspective.v);this.rS.I(o.warpPerspectiveOther.v);var g=o.warpStyle.v.warpStyle,C=g=="warpNone"||g=="warpCustom",a=[this.Dg,this.xh,this.et,this.rS];
for(var N=0;N<a.length;N++)if(C)a[N].Uy();else a[N].ih()};function eC(o,g){ar.call(this);this.e=B.f("div");
this.yT=o;this.yB=null;this.f_=new eN(0,0);this.IB="position:relative;overflow:hidden;";this.il=null;
this.bs=new B.X8(this.e);this.a8I=g;this.jv("grab");this.J=B.f("canvas","canv");this.e.appendChild(this.J);
this.$A=this.J.getContext("2d");this.ant=null;this.pT=null;this.f7=null;this.dx=0;this.gy=0;this.Yu=0;
this.aoq=this.a3h.bind(this);this.alN=null;this.u=new iy({m:1,n:1});this.pD=null;this.N4=null;this.x4=[];
this.acN=0;this.aU=0;this.abW=this.eb.bind(this);this.anS=this.y8.bind(this);this.ahD=this.bX.bind(this);
this.a72=this.JR.bind(this);this.aeh=0;this.vF=null;this.ata(this.J);this.L6(this)}eC.prototype=new ar;
eC.amj=function(o){var g=new c_(!0);if(o>=0)g._K("Space");if(o>=1){g._K("ControlLeft");if(o==2)g._K("AltLeft")}return g};
eC.prototype.Uh=function(o){var g=this.il,C=null;if(o.a(c_.NN)){C="grab";if(o.a(c_.Ns)){C="zoom-in";
if(o.a(c_.LW))C="zoom-out"}}this.yB=C;if(C)g=C;this.bs.Tk(g,this.IB);if(o.a(c_.Ns)){var a=0;if(o.a(c_.LL))a=1;
if(o.a(c_.kT))a=-1;if(a!=0){this.$S(new eN(this.J.width/2,this.J.height/2),a==1)}}};eC.prototype.jv=function(o){this.il=o;
if(this.yB)return;this.bs.Tk(o,this.IB)};eC.prototype.ata=function(o){B.sa(o,this.abW);B.G1(o);o.addEventListener("wheel",this.a72,!1)};
eC.prototype.L6=function(o){o.h("viewchange",this.a1p,this)};eC.prototype.a1p=function(o){var g=this.u.R,C=o.currentTarget.hL();
this.u.R=C.R;this.u.v=C.v.clone();if(g!=C.R)this.xB();this.Ga()};eC.prototype.hL=function(){return{R:this.u.R,v:this.u.v}};
eC.prototype.I=function(o,g){var C=o[0].m_;if(this.pT!=null&&this.pT[0].m_.$s(C)){}else{this.u.db={m:C.m,n:C.n};
this.u.v=new eN(0,0);this.u.R=1}this.pT=o;this.xB();this.$L();this.dx=0;this.gy=0;this.Yu=g==null?0:g;
this.a3h()};eC.prototype.JR=function(o){o.preventDefault();if(o.deltaY==0||Date.now()-this.aeh<100)return;
var g=B.Iw(o);g.x=B.r()*g.x;g.y=B.r()*g.y;this.aeh=Date.now();this.$S(g,o.deltaY<0)};eC.prototype.$S=function(o,g){c.yd.zU(this.u,o,g);
this.adc()};eC.prototype.x8=function(){var o=this.u,g=o.db;this.u.R=c.yd.a4K(g.m,g.n,o.B9.m,o.B9.n);
this.adc()};eC.prototype.adc=function(){this.xB();this.c(new jO("viewchange"));this.c(new jO("zoom"))};
eC.prototype.xB=function(){this.f7=[];var o=this.u.R;if(this.pT==null)return;for(var N=0;N<this.pT.length;
N++){var g=this.pT[N],C=new Uint8Array(g.data),a;if(o>=1)a={ab:C,rect:g.m_};else a=l.a10(C,g.m_,o);this.f7.push(a)}};
eC.prototype.$L=function(){clearTimeout(this.alN)};eC.prototype.Ga=function(){if(this.pT==null||!B.Af(this.J))return;
var o=this.ant,g=this.J.width,C=this.J.height,M,Z;if(o==null||o.width!=g||o.height!=C){o=this.ant=this.$A.createImageData(g,C);
console.log("creating image data")}var a=this.pT[this.dx],x=this.f7[this.dx],K=this.u,h=K.db,X=K.B9,w=X.m,G=X.n,R=h.m*K.R,d=h.n*K.R,q=Math.round((w-R)/2+K.v.x),m=Math.round((G-d)/2+K.v.y);
if(K.R<=1){Z=x.rect.clone();Z.x=q;Z.y=m;R=Z.m;d=Z.n;M=x.ab}else{var Q=1/K.R,p=new aS(Math.floor((X.x-q)*Q),Math.floor((X.y-m)*Q),Math.ceil(X.m*Q)+1,Math.ceil(X.n*Q)+1),y=new aS(0,0,p.m*K.R,p.n*K.R);
y.x=p.x*K.R+q;y.y=p.y*K.R+m;if(K.q2==null||K.q2.length!=p.$()*4){K.q2=l.Z(p.$()*4)}if(K.DS==null||K.DS.length!=y.$()*4){K.DS=l.Z(y.$()*4)}l.th(K.q2,0);
l.HT(x.ab,x.rect,K.q2,p);l.scale.js(K.q2,p.m,p.n,K.DS,y.m,y.n,K.R);M=K.DS;Z=y}var V=new Uint8Array(o.data.buffer);
l.kz(V,w,G,8,-q,-m);l.j.Ly("norm",M,Z,V,X,X,1);var W=this.$A;W.setTransform(1,0,0,1,0,0);W.putImageData(o,0,0);
W.clearRect(q-1e3,m,1e3,d);W.clearRect(q+R,m,1e3,d);W.clearRect(q-1e3,m-1e3,R+2e3,1e3);W.clearRect(q-1e3,m+d,R+2e3,1e3);
var v=eC.aeH(K.R,"#ffffff",this.a8I);W.putImageData(v,0,K.B9.n-v.height)};eC.ajo={};eC.aeH=function(o,g,C){if(C==null)C=!1;
var a="z"+o+","+g+","+C,x=eC.ajo[a];if(x)return x;var K=Math.round(50*B.r()),h=Math.round(18*B.r()),X=C?2*h:0,w=B.f("canvas"),G=w.getContext("2d");
w.width=K+X;w.height=h;G.fillStyle="rgba(1,1,1,1)";G.fillRect(0,0,K+X,h);G.font=Math.round(11*B.r())+"px monospace";
G.fillStyle=g;var R=o*100;if(R<100)R=R.toFixed(2);else R=Math.round(R);R=R+"%";var d=G.measureText(R).width;
G.fillText(R,X+(K-d)/2,Math.round(h*.7));x=eC.ajo[a]=G.getImageData(0,0,K+X,h);return x};eC.prototype.a3h=function(){var o=this.pT,g=o.length,C=this.dx,a=this.pT[C],x=(C+1)%g;
this.Ga();if(g!=1&&o[x].m_.$s(a.m_)){var K=a.A$?parseInt(a.A$.split(",").pop()):30;if(K==0)K=16;if(x==0)this.gy++;
if(this.Yu==0||this.gy<this.Yu)this.alN=setTimeout(this.aoq,K)}this.dx=x};eC.prototype.z3=function(o,g){if(o<=0||g<=0)return;
var C=Math.floor(o*B.r()),a=Math.floor(g*B.r());this.u.B9=new aS(0,0,C,a);this.J.width=C;this.J.height=a;
this.J.setAttribute("style","width:"+C/B.r()+"px; height:"+a/B.r()+"px; display:block;");this.Ga()};
eC.prototype.oo=function(o){var g=-1,C=this.x4;for(var N=0;N<C.length;N++)if(C[N].pointerId==o.pointerId)g=N;
return g};eC.prototype.eb=function(o){var g=this.oo(o),C=this.x4;if(g!=-1)C[g]=o;else C.push(o);if(C.length==1){this.vF=o.target;
B._C(window,this.anS);B.aw(window,this.ahD);this.pD=B.Iw(o,this.J);this.pD.x*=B.r();this.pD.y*=B.r();
this.f_=this.pD;this.N4=this.u.v.clone();if(this.yT&&this.vF==this.J&&!this.yB)this.c(new jO("mousedown"))}else this.acN=this.aU=eN.ig(B.Iw(C[0],this.J),B.Iw(C[1],this.J))};
eC.prototype.y8=function(o){var g=this.oo(o),C=this.x4;if(g!=-1)C[g]=o;var a=this.u,x=this.yB,K=this.pT[this.dx].m_.clone();
K.m*=a.R;K.n*=a.R;var h=B.Iw(o,this.J);h.x*=B.r();h.y*=B.r();this.f_=h;if(this.yT&&this.vF==this.J&&!x)this.c(new jO("mousemove"));
else if((x=="grab"||x==null)&&(C.length>1||!a.B9.Xq(K))){if(C.length>1){var X=B.Iw(C[0],this.J),w=B.Iw(C[1],this.J),G=new eN(B.r()*(X.x+w.x)/2,B.r()*(X.y+w.y)/2),d=eN.ig(X,w),q=null;
if(d>this.aU+50){this.aU+=50;q=!0}if(d<this.aU-50){this.aU-=50;q=!1}if(q!=null)this.$S(G,q);return}else{var m=h.x-this.pD.x,M=h.y-this.pD.y;
a.v.x=this.N4.x+Math.round(m);a.v.y=this.N4.y+Math.round(M)}this.c(new jO("viewchange"))}};eC.prototype.bX=function(o){var g=this.oo(o),C=this.x4;
C.splice(g,1);if(C.length==0){B.gK(window,this.anS);B.lZ(window,this.ahD);var a=this.yB;if(o.detail>1){this.u.R=1;
this.u.v.fR(0,0);this.Ga()}if(this.yT&&this.vF==this.J&&!this.yB)this.c(new jO("mouseup"));else{if(a=="zoom-in"||a=="zoom-out")this.$S(this.f_,a=="zoom-in")}}else{var x=this.pD=B.Iw(C[0],this.J);
x.x*=B.r();x.y*=B.r()}};eC.prototype.Rx=function(){return this.u.w2(this.f_.x,this.f_.y)};function je(){ar.call(this);
this.Vn=null;this.Si=null;this.HW=null;this.Lt=null;this.a4a="";this.cU=[];this.As=0;this.y0=[];this.BO=0;
this.wq=null;var o=this.e=B.f("div",""),g=this.axC=B.f("div","form");g.setAttribute("style","line-height:0; margin-bottom:0.5em;");
o.appendChild(g);var C=this.uW=B.f("span");g.appendChild(C);C.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var a=this.a4D=new eT([25,2,0]);a.I(!0);g.appendChild(a.e);a.h(D.E.p,this.W3,this);var x=this.WT=new eT([25,2,1]);
x.I(!0);g.appendChild(x.e);x.h(D.E.p,this.W3,this);var K=new d3(" ");g.appendChild(K.e);var h=this.eY=new h$([25,1,1]);
g.appendChild(h.e);h.h(D.E.p,this.W3,this);this.KB=new cx(14);this.KB.a7F(3);g.appendChild(this.KB.e);
this.KB.parent=this;this.KB.h(D.E.p,this.agp,this);var X=this.alZ=new hs([25,1,2],null,null,!0);g.appendChild(X.e);
X.h("click",this.HH,this);var w=new hs("?",null,null,!0);g.appendChild(w.e);w.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a9v=this.a19.bind(this);this.JC=B.f("div","svggallery scrollable");o.appendChild(this.JC);this.JC.addEventListener("scroll",this.amL.bind(this))}je.prototype=new ar;
je.prototype.Xt=function(o){this.aiM=o};je.prototype.Q=function(){this.uW.textContent=fF.get([25,0]);
this.KB.Q();this.a4D.Q();this.WT.Q();this.eY.Q();this.alZ.Q()};je.prototype.z3=function(o,g){this.Vn=new eN(o,g);
this.axC.setAttribute("style","width:"+o+"px");var C=this.axC.getBoundingClientRect();g-=C.height;this.JC.setAttribute("style","width:"+o+"px; height:"+g+"px");
if(B.Af(this.e))this.W3()};je.prototype.I=function(o){this.Si=o;this.W3()};je.prototype.amL=function(o){var g=this.JC;
if(g.scrollTop+g.clientHeight+10>=g.scrollHeight){this.W3(!0)}};je.prototype.agp=function(o){this.HW=null;
this.W3()};je.prototype.a19=function(o){if(Date.now()-this.BO<2e3)return;this.BO=Date.now();this.As=this.y0.indexOf(o.currentTarget);
var g=this.Xe(this.Si.x,this.Si.y);if(g[1]){var C=g[1].largeImageURL,a=new XMLHttpRequest;a.responseType="arraybuffer";
a.open("GET",C,!0);a.onload=this.a4l.bind(this);a.send();return}this.avH(g)};je.prototype.a4l=function(o){var g=o.target.response,C=bl.tt(g),a=bl.qC(C),x=a.gd(g),K=this.Xe(this.Si.x,this.Si.y,[g,x[0].m_.m,x[0].m_.n]);
this.avH(K)};je.prototype.avH=function(o){var g=o[0],C=bl.tt(g),a=bl.qC(C),x=new aX("template.psd");
a.gd(g,x);var K=new jO("tempready",!0);K.data={db:x};this.c(K)};je.prototype.HH=function(o){var g=o.target;
this.cU=[];this.HW=null;this.W3()};je.prototype.aoW=function(o){var g=JSON.parse(o.target.response),C=this.Lt=g.hits;
for(var N=0;N<C.length;N++)if(C[N].user_id==6314823)C.splice(N,1);this.W3()};je.prototype.W3=function(o){if(this.Si==null||this.Vn==null||this.aiM==null)return;
if(this.Vn.x<=0)return;var g=this.Si.x,C=this.Si.y;if(Math.min(g,C)<50)return;if(o!=!0){this.y0=[];B.KZ(this.JC);
this.JC.scrollTop=0}if(this.y0.length>300)return;var a=Math.min(1,300/Math.max(g,C)),x=this.Vn.clone();
x.x-=20;var K=Math.max(1,Math.floor(x.x/(g*a))),h=Math.max(1,Math.ceil(x.y/(C*a)));a=x.x/K/g;var X=K*h;
if(this.HW==null){var w=this.aiM.zM.$v(),G=[];for(var R in w){var d=w[R],q=d[3];if(!this.KB.kM(d))continue;
if(d[5]==null||d[5].slice(0,2)=="gf")continue;G.push(d)}if(G.length==0)G.push(w.DejaVuSans);var m=G.length;
for(var N=0;N<m*10;N++){var M=Math.floor(Math.random()*m),Z=Math.floor(Math.random()*m),Q=G[M];G[M]=G[Z];
G[Z]=Q}G=G.slice(0,10);this.HW=G}var p=this.WT.O(),y=this.eY.O().trim();this.eY.ZB(p);if(p&&(this.Lt==null||y!=this.a4a)){var V=new XMLHttpRequest,W="https://pixabay.com/api/?image_type=photo"+(y==""?"":"&q="+encodeURIComponent(y))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(y=="")W="plugins/gallery.json";V.open("GET",W,!0);V.onload=this.aoW.bind(this);V.onerror=function(L){console.log(L.target.response)};
V.send();this.a4a=y;return}a*=(g*a-5)/(g*a);var v=this.y0.length;for(var N=0;N<X;N++){var j=this.As=v+N;
if(this.cU[j]==null)this.cU[j]=Math.floor(Math.random()*4294967295);var e=this.Xe(Math.round(g*a),Math.round(C*a)),T=e[0];
T=u.SP(new Uint8Array(T));var O=B.f("span");O.innerHTML=T;this.y0.push(O);this.JC.appendChild(O);O.addEventListener("click",this.a9v,!1)}};
je.prototype.Xe=function(o,g,C){var a=this.WT.O(),x=this.a4D.O(),K=a&&this.Lt.length!=0?this.Lt:null;
if(x&&!a)K=null;if(x&&a&&(this.As&1)==0)K=null;return gJ.MG(o,g,this.cU[this.As],this.HW,C?C:K)};function i3(){ar.call(this);
this.e=B.f("div");this.nv=null;this.aqS=null;this.d4=-1;this.l4={JPG:[{Mj:new ho([12,52,0],0,100,"%",null,null,!0),tF:70},{Mj:new eT("attach metadata"),tF:!1}],TIFF:[{Mj:new eT("attach metadata"),tF:!1}],WEBP:[{Mj:new ho([12,52,0],0,100,"%",null,null,!0),tF:70}],GIF:[{Mj:new ho([12,52,0],0,100,"%",null,null,!0),tF:100},{Mj:new eT([12,23,3]),tF:!1}],PNG:[{Mj:new ho([12,52,0],0,100,"%",null,null,!0),tF:100},{Mj:new eT("don't use palettes"),tF:!1}],PDF:[{Mj:new h$([12,52,1]),tF:""},{Mj:new ho([12,52,0],0,100,"%",null,null,!0),tF:100},{Mj:new eT("reverse pages"),tF:!1},{Mj:new eT("rasterize all"),tF:!1},{Mj:new eT("vectorize text"),tF:!1},{Mj:new ho("Add Margin",0,5,"in",2),tF:0}],EMF:[{Mj:new h$([12,52,1]),tF:""},{Mj:new ho([12,52,0],0,100,"%",null,null,!0),tF:100},{Mj:new eT("reverse pages"),tF:!1},{Mj:new eT("rasterize all"),tF:!1},{Mj:new eT("vectorize text"),tF:!1},{Mj:new ho("Add Margin",0,5,"in",2),tF:0}],SVG:[{Mj:new eT("add raster graphics"),tF:!0},{Mj:new eT("add hidden layers"),tF:!1},{Mj:new eT("vectorize text"),tF:!1},{Mj:new eT("rasterize text"),tF:!1},{Mj:new eT("minify"),tF:!1}],RAW:[{Mj:new jT([12,72],["1","3","4"]),tF:2},{Mj:new jT([12,34],["8 Bits","16 Bits"]),tF:0},{Mj:new jT("Byte Order",["12-34","34-12"]),tF:0}],DDS:[{Mj:new eT("Add Mipmaps"),tF:!0},{Mj:new eT("Compression"),tF:!0}],anim:[{Mj:new ho("Speed",10,800,"%",null,!0,!0),tF:100},{Mj:new e8("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),tF:0},{Mj:new eT("reverse frames"),tF:!1},{Mj:new eT("boomerang"),tF:!1}],slcs:[{Mj:new eT([8,11,0]),tF:!0}],artb:[{Mj:new eT([1,16,1]),tF:!0}],hicc:[{Mj:new eT("convert to sRGB"),tF:!0}]};
for(var o in this.l4){var g=this.l4[o];for(var N=0;N<g.length;N++){g[N].Mj.I(g[N].tF);g[N].Mj.h(D.E.p,this.Wy,this)}}}i3.prototype=new ar;
i3.prototype.a6o=function(){this.d4=-1};i3.prototype.Q=function(){for(var o in this.l4)for(var N=0;N<this.l4[o].length;
N++)this.l4[o][N].Mj.Q()};i3.prototype.Wy=function(){this.W3();this.c(new jO(D.E.p,!1))};i3.prototype.W3=function(){var o=this.nv,g=o[0],C=o[1],a=o[2],x=o[3],K=o[4],h=this.l4[g];
if(h==null)h=[];else h=h.slice(0);if(C)h=h.concat(this.l4.anim);if(["GIF","PNG","JPG"].indexOf(g)!=-1&&a)h=h.concat(this.l4.slcs);
else if(["GIF","PNG","JPG"].indexOf(g)!=-1&&x)h=h.concat(this.l4.artb);if(K)h=h.concat(this.l4.hicc);
var X=o.join(",");if(X!=this.d4){this.d4=X;B.KZ(this.e);for(var N=0;N<h.length;N++){if(g=="PDF"&&!x&&(N==0||N==2))continue;
this.e.appendChild(h[N].Mj.e);B.zw(this.e)}}var w=this.aqS=[];for(var N=0;N<h.length;N++)w.push(h[N].Mj.O())};
i3.prototype.aui=function(o,g,C,a,x){this.nv=[o,g,C,a,x];this.W3()};i3.prototype.O=function(){return this.aqS.slice(0)};
function il(){ar.call(this);this.e=B.f("span","fitem");this.OH=!1;this.Aw=new hs("No",!1,"Cancel");this.jX=new hs("Yes",!1,"Confirm");
this.e.appendChild(this.Aw.e);this.e.appendChild(this.jX.e);this.Aw.h("click",this.kc,this);this.jX.h("click",this.kc,this);
this.Q()}il.prototype=new ar;il.prototype.Q=function(){this.Aw.BB(B.U_("cross",null,"autoscale"));this.jX.BB(B.U_("checkmark",null,"autoscale"))};
il.prototype.kc=function(o){this.OH=o.target==this.jX;this.c(new UIEvent("click"))};il.prototype.O=function(){return this.OH};
function dh(o){ar.call(this);this.e=B.f("span","fitem");this.Sy=new hs("\u25BC",null,"Auto Options",!0);
B.sa(this.Sy.e,this.acD.bind(this));this.e.appendChild(this.Sy.e);this.r6=new hs("Auto",null,null,!0);
this.r6.h("click",this.Ez,this);this.e.appendChild(this.r6.e);this.en=new ap("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.en.h(D.E.p,this.Ez,this);this.en.I([!1,!1,!1,!0]);this.Kv=new ar;var g=this.Kv.e=B.f("div","floatcont form");
g.setAttribute("style","width: 250px;");this.Kv.parent=this;g.appendChild(this.en.e);this.lF=[];for(var N=0;
N<2;N++){var C=new e8((N==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);C.I(.1);C.h(D.E.p,this.Ez,this);
this.lF.push(C);g.appendChild(C.e)}}dh.prototype=new ar;dh.prototype.Ez=function(o){this.c(new jO(D.E.p,!1))};
dh.prototype.Q=function(){};dh.prototype.O=function(){return[this.en.O().indexOf(!0),this.lF[0].O(),this.lF[1].O()]};
dh.prototype.acD=function(o){if(B.Af(this.Kv.e))return;o.stopPropagation();var g=this.Sy.e.getBoundingClientRect(),C=new jO(D.E.X,!0);
C.data={C:D.t.Sd,u6:this.Kv,x:g.left,y:g.top+g.height+4};this.c(C)};function fl(){ar.call(this);var o=this.e=B.f("div","fitem");
this.Ax=new jz([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Ax.h(D.E.p,this.Zh,this);o.appendChild(this.Ax.e);
this.Nd=new jD(!1);this.Nd.parent=this;this.Nd.NJ(16777215);this.Nd.h(D.E.p,this.Zh,this);o.appendChild(this.Nd.e)}fl.prototype=new ar;
fl.prototype.Q=function(){this.Ax.Q();this.Nd.Q()};fl.prototype.aaE=function(o){var g=[o.artboardBackgroundType.v-1];
if(o.Clr)g.push(o.Clr.v);this.I(g)};fl.prototype.agN=function(){var o=this.O();return{classID:"artboard",Clr:{t:"Objc",v:o[1]},artboardBackgroundType:{t:"long",v:o[0]+1}}};
fl.prototype.I=function(o){this.Ax.I(o[0]);if(o[1])this.Nd.I(o[1])};fl.prototype.O=function(){return[this.Ax.O(),this.Nd.O()]};
fl.prototype.Zh=function(o){if(o.target==this.Nd)this.Ax.I(3);this.c(new jO(D.E.p,!1))};function h8(o){ar.call(this);
this.p9=o;this.aW=0;this.anR=!1;this.dR=o?new h8.t5:null;this.e=B.f("div","flexrow storageset");this.e.style.background="var(--bg-panel)";
this.hB=B.f("div");this.e.appendChild(this.hB);this.Vc=B.f("div");this.e.appendChild(this.Vc);this.ff=[];
var g=Storage.list.length;if(o)g++;var C=this.Bf.bind(this);for(var N=0;N<g;N++){var a=B.f("div");this.ff.push(a);
this.hB.appendChild(a);a.addEventListener("click",C,!1)}this.Bf(null,0)}h8.prototype=new ar;h8.Rn=[];
h8.Gz=function(o){h8.Rn.push(o);o.Ty()};h8.g3=function(){var o=h8.Rn;o.pop();o[o.length-1].Ty()};h8.prototype.Ty=function(){console.log(this.aW);
this.Bf(null,this.aW)};h8.prototype.Xt=function(o,g){if(!o.hp&&!this.anR){var C=this.p9?2:1;for(var N=C;
N<this.ff.length;N++)this.hB.removeChild(this.ff[N]);this.anR=!0;if(this.p9)this.dR.Xt(o,g)}};h8.prototype.Q=function(){if(this.p9)this.dR.Q();
if(this.g0)this.g0.Q()};h8.prototype.Bf=function(o,g){var C=this.ff,a;if(g==null)g=C.indexOf(o.currentTarget);
this.aW=g;for(var N=0;N<C.length;N++)B.Qq(C[N],"active");B.lK(C[g],"active");if(this.p9)g--;B.KZ(this.Vc);
if(g==-1)a=this.dR;else a=Storage.BW(g);this.g0=a;a.parent=this;this.Vc.appendChild(a.e);this.z3(this.MI,this.fB);
this.Q()};h8.prototype.z3=function(o,g){this.MI=o;this.fB=g;var C=o<850,a=C?50:200,x=Storage.list;if(this.p9)x=[["Home",null,"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQ4OS4wNzUgNDg5LjA3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg5LjA3NSA0ODkuMDc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBkPSJNNDgyLjQ1MywyMjAuNzc1bC0xMTUuNS0xMTEuMnYtODguNWMwLTExLjQtOS40LTIwLjgtMjAuOC0yMC44cy0yMC44LDkuNC0yMC44LDIwLjh2NDguNWwtNjYuNi02NC4xDQoJCWMtNy4zLTcuMy0xOS44LTcuMy0yOC4xLDBsLTIyMy42LDIxNS4zYy04LjMsOC4zLTkuNCwyMC44LTEsMjkuMWM4LjQsOC4zLDIwLjgsOS40LDI5LjEsMWwzLjEtM3YyMjAuNGMwLDExLjQsOS40LDIwLjgsMjAuOCwyMC44DQoJCWgzNzIuNGMxMS40LDAsMTkuOC05LjQsMjAuOC0xOS44di0yMTkuM2wyLjEsMmMxNS4yLDEwLjUsMjYsMy4xLDI5LjEtMi4xQzQ5MC43NTMsMjQxLjU3NSw0OTAuNzUzLDIyOC4wNzUsNDgyLjQ1MywyMjAuNzc1eg0KCQkgTTI4MS42NTMsNDQ4LjU3NWgtNzIuOHYtMTExLjNoNzIuOFY0NDguNTc1eiBNNDEwLjY1Myw0NDguNTc1aC04OC40di0xMzIuMWMwLTExLjQtOS40LTIwLjgtMjAuOC0yMC44aC0xMTMuNA0KCQljLTExLjQsMC0yMC44LDkuNC0yMC44LDIwLjh2MTMyLjFoLTg3LjR2LTIwMy45aDMzMC44VjQ0OC41NzVMNDEwLjY1Myw0NDguNTc1eiBNODMuODUzLDIwNC4xNzVsMTYxLjQtMTU1bDE1OS44LDE1NUg4My44NTN6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="]].concat(x);
for(var N=0;N<x.length;N++){var K=this.ff[N],h="padding: 8px "+(C?13:36)+"px; cursor:pointer;";K.setAttribute("style",h);
K.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+x[N][2]+"\" /> "+(C?"":x[N][0])}this.e.style.width=o+"px";
this.e.style.height=g+"px";this.hB.style.width=a+"px";this.hB.style.paddingTop="32px";if(this.g0)this.g0.z3(o-a,g)};
h8.t5=function(){var o=this.e=B.f("div");o.style.background="var(--bg-canvas)";var g=this.Sq=B.f("div");
o.appendChild(g);var C=B.f("style");o.appendChild(C);C.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var N=0;N<2;N++){var a=B.f("div"),C="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";g.appendChild(a);
if(N==0)C+="padding: 12px 0px";if(N==1)C+="position:absolute;  bottom:0;";a.setAttribute("style",C);
var x=B.f("img");a.appendChild(x);x.setAttribute("src",PIMG[N==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(N==0)this.ane=x;else this.aiR=x;if(N==0)this.aeL=a;else this.ajf=a}this.ff=[];C="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var K=this.xK.bind(this);for(var N=0;N<3;N++){var h=B.f("span","bhover");this.ff.push(h);h.setAttribute("style",C+"cursor:pointer; padding:12px;");
h.addEventListener("click",K,!1);g.appendChild(h)}B.zw(g);B.zw(g);var h=B.f("div");h.setAttribute("style",C+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
h.textContent="Drop any files here";g.appendChild(h);this.J=B.f("canvas");this.J.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.$A=this.J.getContext("2d");this.and=l.Z(4);o.appendChild(this.J);var X=new Date().getDate(),w=new Date().getMonth();
if(w==11&&X>20||w==0&&X<10){var G=Math.random()<.5,R={z:255,B:255,K:255};if(!G){R=l.QE(Math.random(),Math.random()*.7,1);
R.z*=255;R.B*=255;R.K*=255}this.aC=[Math.round(1048575*Math.random()),G?.05:.02,Math.round(4+Math.random()*8),1,G?3:15,R,0,!0,G,G?1:.2,3];
this.a7K=G?.1:.2;this.f3=this.gh.bind(this);window.requestAnimationFrame(this.f3)}};h8.t5.prototype=new ar;
h8.t5.prototype.gh=function(){window.requestAnimationFrame(this.f3);if(!B.Af(this.e))return;var o=this.and,g=this.J,C=this.$A,a=g.width,x=g.height;
this.aC[6]=Date.now()*.001*this.a7K;l.Hq.hj(o,a,x,this.aC,!0);C.putImageData(new ImageData(new Uint8ClampedArray(o.buffer),a,x),0,0)};
h8.t5.prototype.xK=function(o){var N=this.ff.indexOf(o.currentTarget),g=new jO(D.E.X,!0);if(N==0)g.data={C:D.t.gC,$j:"newproject"};
if(N==1)g.data={C:D.t.tf};if(N==2)g.data={C:D.t.gC,$j:"templates"};this.c(g)};h8.t5.prototype.Q=function(){var o=this.ff,g=[[11,7],[1,6],["PSD VAR0",[25,0]]],C=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var N=0;N<o.length;N++)o[N].textContent=C[N]+"\u2000"+fF.get(g[N]);this.ane.setAttribute("src",PIMG["l"+"o"+"g"+"o"]);
this.aiR.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};h8.t5.prototype.z3=function(o,g){var C=Math.min(g*1.5,Math.min(o,600));
B.SZ(this.J,o,C*.26);var a=this.J.width,x=this.J.height;this.and=l.Z(a*x*4);this.e.style.width=o+"px";
this.e.style.height=g+"px";this.ajf.style.width=o+"px";this.Sq.style.marginLeft=Math.max(0,Math.round((o+200-600)/2)-200)+"px";
this.ane.style.width=C+"px";this.aiR.style.width=C+"px"};h8.t5.prototype.Xt=function(o,g){if(!o.hp)this.Sq.removeChild(this.ff[2])};
function Storage(o){ar.call(this);var g=this.e=B.f("div","storage");B.X1(g);var C=this.aoP=B.f("style");
g.appendChild(C);g.setAttribute("tabindex","0");g.style.outline="none";g.addEventListener("keydown",this.at1.bind(this),!1);
this.bz=this.agm.bind(this);var a=B.f("div");g.appendChild(a);var x=this.anP.bind(this);this.WG=B.f("div","bar");
a.appendChild(this.WG);this.wX=B.f("div","fls scrollable");a.appendChild(this.wX);this.vW=B.f("div");
a.appendChild(this.vW);this.vW.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.I7=B.f("div","bar");this.I7.textContent="Name: ";var K=this.Tp=B.f("input");K.setAttribute("type","text");
this.I7.appendChild(K);var h=this.Ej=B.f("div","btn");h.textContent="Save";this.I7.appendChild(h);B.aw(h,x);
B.sa(this.wX,this.bz);this.jf=0;this.$h=o;this.$Z=B.f("div","btn");B.aw(this.$Z,this.iN.bind(this));
this.sF=new g0([{name:[6,20]}]);this.sF.parent=this;this.Vb=new g0([{name:[5,4]},{name:[6,37]}]);this.Vb.parent=this;
this.sF.h("select",this.ak,this);this.Vb.h("select",this.ak,this);this.wX.addEventListener("contextmenu",this.bz);
this.amC=B.f("span");this.OZ=B.f("span");this.OZ.setAttribute("style","position:absolute; right:0; top:5px;");
this.rx=[];this.r9=[];for(var N=0;N<3;N++){var X=B.f("div","btn");this.rx.push(X);this.amC.appendChild(X);
B.aw(X,x);X.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][N]}for(var N=0;N<4;N++){var X=B.f("div","btn");
this.r9.push(X);this.OZ.appendChild(X);B.aw(X,x)}window.addEventListener("message",this.a7E.bind(this),!1);
this.aw7=!1;setInterval(this.af8.bind(this),300);this.X2()}Storage.prototype=new ar;Storage.prototype.af8=function(){var o=B.Af(this.e),g=this.aw7;
if(o&&!g){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!o&&g){window.onpopstate=function(){};
history.go(-1)}this.aw7=o};Storage.prototype.X2=function(){if(this.RP)document.body.removeChild(this.RP);
this.cy=[[]];this.tL=0;this.ajZ={"/":[]};this.IZ="";this.J7=null;this.Ls=[];this.FY=[];var o="code/storages/"+Storage.list[this.$h][1],g=this.RP=B.f("iframe");
g.setAttribute("src",o);g.setAttribute("style","display:none");document.body.appendChild(g)};Storage.prototype.m6=function(){return this.ajZ[this.BC()]};
Storage.prototype.ZJ=function(o){this.ajZ[this.BC()]=o};Storage.BW=function(N){var o=Storage.XF[N];if(o==null)o=Storage.XF[N]=new Storage(N);
return o};Storage.XF=[];Storage.DJ=0;Storage.a1L="";Storage.Ap=function(o,g){Storage.DJ=o;Storage.a1L=g;
var C=Storage.XF;for(var N=0;N<C.length;N++)if(C[N])C[N].Ty()};Storage.fj=0;Storage.tj=2;Storage.A0=0;
Storage.list=[["This Device","deviceStorage.html","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDg5LjIgNDg5LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4OS4yIDQ4OS4yOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBkPSJNMzkuNSwzNzcuMzVoMTYwLjl2NDQuMUgxNjljLTUuMiwwLTkuNSw0LjItOS41LDkuNXYyNy41YzAsNS4yLDQuMiw5LjUsOS41LDkuNWgxNTEuMmM1LjIsMCw5LjUtNC4yLDkuNS05LjV2LTI3LjUNCgkJCQljMC01LjItNC4yLTkuNS05LjUtOS41aC0zMS40di00NC4xaDE2MC45YzIxLjgsMCwzOS41LTE3LjcsMzkuNS0zOS41VjYwLjc1YzAtMjEuOC0xNy43LTM5LjUtMzkuNS0zOS41SDM5LjUNCgkJCQlDMTcuNywyMS4yNSwwLDM4Ljk1LDAsNjAuNzV2Mjc3LjFDMCwzNTkuNjUsMTcuNywzNzcuMzUsMzkuNSwzNzcuMzV6IE01My45LDc1LjE1aDM4MS40djI0OEg1My45Vjc1LjE1eiAiLz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"],["Google Drive","googledriveStorage.html","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIwNy4wMjcgMjA3LjAyNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjA3LjAyNyAyMDcuMDI3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNNjkuODY2LDE1LjU1N0wwLDEzOC45MTlsMjguNzMyLDUyLjU1MmwxNDMuMjg4LTAuMDI5bDM1LjAwOC01OS41ODhMMTM2LjM5LDE1LjczNUw2OS44NjYsMTUuNTU3eiBNMTcuMTY2LDEzOS4wNDYNCglMNzQuMjY4LDM4LjIwNUw5MS4yMSw2Ny43ODNMMzMuMjQsMTY4LjQ0N0wxNy4xNjYsMTM5LjA0NnogTTk5Ljg0MSw4Mi44NTFsMjMuODA1LDQxLjU1OGwtNDcuNzMyLTAuMDA2TDk5Ljg0MSw4Mi44NTF6DQoJIE0xNjMuNDM0LDE3Ni40NDNsLTExNy4zMzIsMC4wMjRsMjEuNTMtMzcuMDY1bDY0LjYwNiwwLjAwOGwwLjA2NywwLjExOWw1Mi44NjUtMC4wODVMMTYzLjQzNCwxNzYuNDQzeiBNMTQwLjkzMiwxMjQuNDExDQoJTDkwLjE1NywzNS43NjdsLTIuOTY2LTUuMTc4bDQwLjc1MSwwLjEyMWw1Ny4wMDMsOTMuNzA2TDE0MC45MzIsMTI0LjQxMXoiLz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"],["Shared Drives","googledriveStorage.html?sharedDrive=true","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIwNy4wMjcgMjA3LjAyNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjA3LjAyNyAyMDcuMDI3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNNjkuODY2LDE1LjU1N0wwLDEzOC45MTlsMjguNzMyLDUyLjU1MmwxNDMuMjg4LTAuMDI5bDM1LjAwOC01OS41ODhMMTM2LjM5LDE1LjczNUw2OS44NjYsMTUuNTU3eiBNMTcuMTY2LDEzOS4wNDYNCglMNzQuMjY4LDM4LjIwNUw5MS4yMSw2Ny43ODNMMzMuMjQsMTY4LjQ0N0wxNy4xNjYsMTM5LjA0NnogTTk5Ljg0MSw4Mi44NTFsMjMuODA1LDQxLjU1OGwtNDcuNzMyLTAuMDA2TDk5Ljg0MSw4Mi44NTF6DQoJIE0xNjMuNDM0LDE3Ni40NDNsLTExNy4zMzIsMC4wMjRsMjEuNTMtMzcuMDY1bDY0LjYwNiwwLjAwOGwwLjA2NywwLjExOWw1Mi44NjUtMC4wODVMMTYzLjQzNCwxNzYuNDQzeiBNMTQwLjkzMiwxMjQuNDExDQoJTDkwLjE1NywzNS43NjdsLTIuOTY2LTUuMTc4bDQwLjc1MSwwLjEyMWw1Ny4wMDMsOTMuNzA2TDE0MC45MzIsMTI0LjQxMXoiLz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"],["Dropbox","dropboxStorage.html","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNi4wOTY1OCAyLjQ5MjQ2QzYuMzQyNCAyLjMzNTg2IDYuNjU2NjggMi4zMzU4NCA2LjkwMjUgMi40OTI0M0wxMi4wMDAzIDUuNzM5NjNMMTcuMDk3IDIuNDkyNDdDMTcuMzQyOCAyLjMzNTg0IDE3LjY1NzIgMi4zMzU4NCAxNy45MDMgMi40OTI0N0wyMy40MDMgNS45OTY1N0MyMy42MTkxIDYuMTM0MjggMjMuNzUgNi4zNzI4MiAyMy43NSA2LjYyOTFDMjMuNzUgNi44ODUzOSAyMy42MTkxIDcuMTIzOTMgMjMuNDAzIDcuMjYxNjNMMTguODk1OCAxMC4xMzMyTDIzLjQwMyAxMy4wMDQ4QzIzLjYxOTEgMTMuMTQyNSAyMy43NSAxMy4zODEgMjMuNzUgMTMuNjM3M0MyMy43NSAxMy44OTM2IDIzLjYxOTEgMTQuMTMyMSAyMy40MDMgMTQuMjY5OEwxOC43OTY2IDE3LjIwNDVMMTkuMDE2MSAxNy4zNTA4QzE5LjIyNDcgMTcuNDg5OSAxOS4zNSAxNy43MjQxIDE5LjM1IDE3Ljk3NDhDMTkuMzUgMTguMjI1NiAxOS4yMjQ3IDE4LjQ1OTggMTkuMDE2MSAxOC41OTg5TDEyLjQxNjYgMjIuOTk5QzEyLjE2NDcgMjMuMTY3IDExLjgzNjUgMjMuMTY3IDExLjU4NDUgMjIuOTk5MUw0Ljk4NDAyIDE4LjU5OUM0Ljc3NTM2IDE4LjQ1OTkgNC42NTAwMiAxOC4yMjU3IDQuNjUwMDIgMTcuOTc1QzQuNjUwMDMgMTcuNzI0MiA0Ljc3NTM2IDE3LjQ5IDQuOTg0MDMgMTcuMzUwOUw1LjIwMzY5IDE3LjIwNDVMMC41OTcwMDYgMTQuMjY5NUMwLjM4MDg2MiAxNC4xMzE4IDAuMjUgMTMuODkzMiAwLjI1IDEzLjYzN0MwLjI1IDEzLjM4MDcgMC4zODA4NjggMTMuMTQyMSAwLjU5NzAxMyAxMy4wMDQ0TDUuMTA0MjMgMTAuMTMyOUwwLjU5NzAwNiA3LjI2MTI5QzAuMzgwODYyIDcuMTIzNTggMC4yNSA2Ljg4NTA0IDAuMjUgNi42Mjg3NUMwLjI1IDYuMzcyNDcgMC4zODA4NjggNi4xMzM5MyAwLjU5NzAxMyA1Ljk5NjIyTDYuMDk2NTggMi40OTI0NlpNMTAuNTc5MiAxMy42MjExTDkuNTEwOTYgMTQuMzMzMkw2LjQ5OTYgMTYuMjUxNUwyLjM5NTgyIDEzLjYzN0w2LjQ5OTYxIDExLjAyMjVMMTAuNTc5MiAxMy42MjExWk0xNC41MjY0IDE0LjM1NzZMMTMuNDIxNSAxMy42MjA5TDE3LjUgMTEuMDIyNUwyMS42MDQyIDEzLjYzNzNMMTcuNSAxNi4yNTJMMTQuNTI2NCAxNC4zNTc2Wk0xMC4zMyAxNS41OUw2Ljc1MjE4IDE3Ljk3NUwxMi4wMDA1IDIxLjQ3MzZMMTcuMjQ4IDE3Ljk3NDlMMTMuNzA3MiAxNS42MTQyTDExLjk5OTYgMTQuNTI2NEwxMC4zMyAxNS41OVpNMTEuOTk5NiA3LjUxODE1TDE2LjEwNDIgMTAuMTMzMkwxMi4wMDAzIDEyLjc0NzhMNy44OTUwNiAxMC4xMzI5TDExLjk5OTYgNy41MTgxNVpNNi40OTk2MSA0LjAxNDI1TDIuMzk1ODIgNi42Mjg3N0w2LjQ5OTYgOS4yNDMzM0wxMC42MDQgNi42Mjg3TDYuNDk5NjEgNC4wMTQyNVpNMTMuMzk1OCA2LjYyOTFMMTcuNSA5LjI0MzkyTDIxLjYwNDIgNi42MjkxTDE3LjUgNC4wMTQyOEwxMy4zOTU4IDYuNjI5MVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="]];
Storage.anC=function(o){for(var N=0;N<Storage.XF.length;N++){if(Storage.XF[N]&&Storage.XF[N].RP.contentWindow==o)return!0}return!1};
Storage.prototype.at1=function(o){if(o.target.tagName=="INPUT")return;var g=c_;if(g.NM(o.code,g.nJ)&&this.BC().length!=0)this.a8S();
else if(o.ctrlKey){if(g.NM(o.code,g.t)){var C=[];this.ZJ(C);for(var N=0;N<this.J7.length;N++)C.push(N);
this.Ke()}if(g.NM(o.code,g.sp)){}if(g.NM(o.code,g.oy)){}}else if(g.NM(o.code,g.kD)){var a=this.m6();
if(a.length!=0)this.ap8(a[0])}else if(g.NM(o.code,g._k)){this.tL=Math.max(this.tL-1,0);this.iN()}else{var x=0;
for(var N=65;N<=90;N++)if(o.code=="Key"+String.fromCharCode(N))x=N;if(x!=0){var K=String.fromCharCode(x).toLowerCase(),h=[],X=this.J7,w;
for(var N=0;N<X.length;N++)if(X[N][0][0].toLowerCase()==K)h.push(N);if(h.length==0)return;var a=this.m6();
if(a.length==0)w=h[0];else{var G=h.indexOf(a[0]);if(G==-1){w=h[0];for(var N=0;N<h.length;N++)if(h[N]>a[0]){w=h[N];
break}}else w=h[(G+1)%h.length]}this.ZJ([w]);this.Ke(!0)}}};Storage.prototype.z3=function(o,g){this.MI=o;
this.fB=g;this.e.style.width=o+"px";this.e.style.height=g+"px";var C=o-30,a=Math.floor(C/230),C=Math.floor(C/a)-70;
this.aoP.textContent=".storage .tile .name {  width:"+C+"px;  }";this.Tp.style.width=o-140+"px";this.wX.style.width=this.WG.style.width=o-20+"px";
this.wX.style.height=g-70-(Storage.DJ==0?0:45)+"px"};Storage.prototype.iN=function(){this.HS("show",this.BC())};
Storage.prototype.BC=function(o){var g=this.cy[this.tL],C="/"+g.join("/");if(o&&g.length!=0)C+="/";return C};
Storage.prototype.anP=function(o){var g=o.currentTarget,C=this.tL,a=this.rx.indexOf(g),x=this.r9.indexOf(g);
if(a>=0&&!this.ara(a))return;if(a==0){this.tL=Math.max(C-1,0);this.iN()}if(a==1){this.tL=Math.min(C+1,this.cy.length-1);
this.iN()}if(a==2){var K=this.cy[C+1]=this.cy[C].slice(0);K.pop();this.tL++;this.cy=this.cy.slice(0,this.tL+1);
this.iN()}if(x==0){Storage.fj=(Storage.fj+1)%2;this.Ty()}if(x==1){Storage.tj=(Storage.tj+1)%3;this.Ty()}if(x==2){Storage.A0=(Storage.A0+1)%3;
this.Ty()}if(x==3){this.HS("forget","")}if(g==this.Ej){var h=this.Tp.value.trim(),X=this.J7,w=-1;if(!h.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var N=0;N<X.length;N++)if(X[N][0]==h)w=N;if(w!=-1){this.awb("Do you really want to replace \""+h+"\"?",this.ar9.bind(this))}else this.ar9()}};
Storage.prototype.ar9=function(){var o=this.Tp.value.trim(),g=[this.$h,this.BC(!0)+o];this.U2({C:D.t.aqI,n5:g});
this.c(new jO("canclose",!0))};Storage.prototype.ak=function(o){var g=o.target.Xl()[0];if(o.target==this.sF){var C=[fF.get([6,20]),-1,0];
this.J7.push(C);this.Ty();var N=this.J7.indexOf(C),a=this.Ls[N].querySelector(".name");console.log(a);
var x=new iU.Nl(a,function(h){this.U2({C:D.t.a9,eG:fF.get([1,2])+" ..."});var X=this.BC(!0)+h+"/";console.log(X);
this.HS("save",X)}.bind(this),!0)}else{if(g==0)this.a8S();else{var N=this.m6()[0],K=this.J7[N],a=this.Ls[N].querySelector(".name");
console.log(a);a.innerHTML=K[0];var x=new iU.Nl(a,function(h){h=h.trim();var X=this.J7;for(var N=0;N<X.length;
N++)if(X[N][0]==h){alert("Item with such name already exists.");this.Ty();return}var w=this.BC(!0)+K[0]+":"+h;
console.log(w);this.HS("rename",w)}.bind(this))}}};Storage.prototype.a8S=function(){var o=this.m6();
this.awb("Do you really want to delete "+(o.length==1?"\""+this.J7[o[0]][0]+"\"":"these files")+"?",this.hc.bind(this))};
Storage.prototype.awb=function(o,g){var C={C:D.t.gC,$j:"confirm",k:o,op:g};this.U2(C)};Storage.prototype.hc=function(){this.U2({C:D.t.a9,eG:fF.get([5,4])+" ..."});
this.FY=this.anc();this.abA()};Storage.prototype.abA=function(){if(this.FY.length==0){this.U2({C:D.t.y7,eG:fF.get([5,4])+" ..."});
this.ZJ([]);this.iN()}else this.HS("delete",this.FY.pop()[1])};Storage.prototype.anc=function(){var o=[],g=this.BC(!0),C=this.m6();
for(var N=0;N<C.length;N++){var a=this.J7[C[N]];o.push([this.$h,g+a[0]])}return o};Storage.prototype.HS=function(o,g){this.IZ=o;
this.RP.contentWindow.postMessage("{\"code\": \""+o+"\", \"prm\": "+JSON.stringify(g)+"  }","*")};Storage.prototype.a7E=function(o){if(o.source!=this.RP.contentWindow)return;
if(typeof o.data=="string"){var g=JSON.parse(o.data),C=g.code,a=g.prm;if(C=="ready"){if(a)this.iN();
else{B.KZ(this.WG);B.KZ(this.wX);this.WG.appendChild(this.$Z)}}else if(C!="0"){alert(a);this.Ty()}else if(this.IZ=="show"){this.J7=a;
this.Ty()}else if(this.IZ=="save"){this.U2({C:D.t.y7,eG:fF.get([1,2])+" ..."});this.iN()}else if(this.IZ=="delete"){this.abA()}else if(this.IZ=="forget"){this.X2()}else if(this.IZ=="rename"){this.iN()}else throw C}else{this.U2({C:D.t.atd,n5:this.anc()[0],CL:o.data});
this.U2({C:D.t.y7,eG:"Opening ..."})}};Storage.prototype.ara=function(N){if(N==0)return this.tL>0;if(N==1)return this.tL<this.cy.length-1;
if(N==2)return this.BC()!="/"};Storage.prototype.Ty=function(){var o=this.J7,g=Storage.tj,C=Storage.fj,a=Storage.A0;
if(o==null)return;o.sort(function(O,L){var S=O[1]==-1?1:5,$=L[1]==-1?1:5,H=0;if(Math.min(S,$)==1&&S!=$)return S-$;
else if(S==1||g==0)H=O[0].toLowerCase()<L[0].toLowerCase()?-1:1;else if(g==1)H=O[1]-L[1];else if(g==2)H=O[2]-L[2];
if(C==1)H=-H;return H});var x=this.wX,K=this.WG,h=this.cy[this.tL];B.KZ(x);B.KZ(K);this.Ls=[];for(var N=0;
N<3;N++)if(this.ara(N))B.Qq(this.rx[N],"disabled");else B.lK(this.rx[N],"disabled");K.appendChild(this.amC);
K.appendChild(this.OZ);var X=B.f("span");X.textContent="/";K.appendChild(X);for(var N=0;N<h.length;N++){var X=B.f("span");
X.textContent=h[N];K.appendChild(X);var X=B.f("span");X.textContent="/";K.appendChild(X)}var w=["tile","icon","litm"][a];
for(var N=0;N<o.length;N++){var G=o[N],R=G[1]==-1,d=R?"":hX.cN(G[1]),q=B.f("div","cont "+w);x.appendChild(q);
this.Ls.push(q);q.setAttribute("title",G[0]+(R?"":"\nSize: "+d+"\nDate Modified: "+new Date(G[2]*1e3).toLocaleString().replaceAll(". ",".")));
var m=B.f("img");m.setAttribute("src",R?Storage.aeD:G[3]?G[3]:Storage.Mp);if(!R&&G[3])m.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var M=B.f("span","name"),Z=G[0];if(w=="icon"&&Z.length>30)Z=Z.slice(0,24)+".."+Z.slice(Z.length-5);M.textContent=Z;
q.appendChild(m);q.appendChild(M);if(w!="icon"&&!R){if(w=="tile")B.zw(M);var Q=B.f("span");Q.textContent=d;
Q.style.opacity="0.8";(w=="tile"?M:q).appendChild(Q)}var p=G[0].split("."),y=(p.length==1?"":p.pop()).toUpperCase();
if(w!="litm"&&!R&&G[3]==null){var V=B.f("span","ext");V.textContent=y;var v=Storage.hM[y];V.style.backgroundColor=v?v:Storage.a3K(y);
q.appendChild(V)}B.sa(q,this.bz);q.addEventListener("contextmenu",this.bz)}this.Ke();var j=this.I7.parentNode!=null,e=Storage.DJ,T=this.e;
if(j&&e==0)T.removeChild(this.I7);if(!j&&e==1)T.appendChild(this.I7);this.z3(this.MI,this.fB);this.Q()};
Storage.prototype.Ke=function(o){var g=this.Ls,C=this.J7,a=this.m6(),x=!1,K=0;for(var N=0;N<g.length;
N++){var h=C[N],X=h[1]==-1,w=g[N];if(Storage.DJ==1&&!X&&!h[0].toLowerCase().endsWith(".psd"))w.style.display="none";
else w.style.display="auto";if(a.indexOf(N)==-1)B.Qq(w,"active");else{if(X)x=!0;else K+=h[1];B.lK(w,"active");
if(o)w.scrollIntoView({block:"center",behavior:"smooth"})}}var G=x?"":hX.cN(K);this.vW.textContent=a.length==0?"":a.length+" item"+(a.length==1?"":"s")+" selected\u2001"+G;
this.Tp.value=a.length==1&&!x?C[a[0]][0]:Storage.a1L};Storage.prototype.ap8=function(N){var o=this.J7[N];
if(o[1]==-1){var g=this.cy[this.tL].slice(0);g.push(o[0]);this.tL++;this.cy[this.tL]=g;this.cy=this.cy.slice(0,this.tL+1);
this.ZJ([]);this.iN()}else if(Storage.DJ==0){this.U2({C:D.t.a9,eG:"Opening ..."});this.c(new jO("canclose",!0));
var C=this.BC(!0)+o[0];this.HS("load",C)}};Storage.prototype.Q=function(){var o=Storage.tj,g=Storage.fj,C=Storage.A0;
this.r9[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][g];this.r9[1].textContent=fF.get([[12,48],[12,14,0],"Date"][o]);
this.r9[2].textContent=fF.get(["Tiles","Icons",[25,3,1]][C]);this.r9[3].textContent="\u2716";this.$Z.textContent=fF.get([[23,6],Storage.list[this.$h][0]])};
Storage.prototype.agm=function(o){this.U2({C:D.t.hI});if(o.button==3||o.button==4){if(Date.now()-this.adD>50){var g=this.tL;
if(o.button==3)this.tL=Math.max(g-1,0);else this.tL=Math.min(g+1,this.cy.length-1);this.iN()}this.adD=Date.now();
return}o.stopPropagation();var N=this.Ls.indexOf(o.currentTarget);if(o.type=="contextmenu"){if(this.J7==null)return;
o.preventDefault();var C=N==-1?this.sF:this.Vb;C.parent=this;C.Q();this.U2({C:D.t.Sd,u6:C,x:o.clientX+4,y:o.clientY});
return}var a=this.m6(),x=a.indexOf(N);if(o.button!=0&&x!=-1)return;if(o.target==this.wX)this.ZJ([]);
else{if(o.ctrlKey){if(x==-1)a.push(N);else a.splice(x,1)}else if(o.shiftKey&&a.length!=0){var K=a[0];
if(K<N){var h=N;N=K;K=h}a=[];this.ZJ(a);for(var X=N;X<=K;X++)a.push(X)}else{this.ZJ([N]);if(Date.now()-this.jf<300&&a.length!=0&&a[0]==N){this.ap8(N);
this.jf=0}}}this.jf=Date.now();this.Ke()};Storage.prototype.U2=function(o){var g=new jO(D.E.X,!0);g.data=o;
this.c(g)};Storage.prototype.abb=function(o,g){this.U2({C:D.t.a9,eG:fF.get([1,2])+" ..."});this.HS("save",o);
this.RP.contentWindow.postMessage(g,"*")};Storage.hM={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a3K=function(o){o=o.toLowerCase();
var g=0;for(var N=0;N<o.length;N++)g+=o.charCodeAt(N)*613<<8*N;return"#"+l.eh(g&16777215)};Storage.aeD="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.Mp="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function cp(){ar.call(this);var o=this.e=B.f("div","form scrollable padded label12");this.Fa=null;var g=[],C=cR.iD;
this.Io=[];for(var a in C){var x=parseInt(a.slice(1)),K=x%10==0?"":"\u2800\u2800- ";g.push(K+C[a]);this.Io.push(x)}this.ps=[new h$("Name",null,30),new h$("Description",null,30,4),new h$("File"," www.Photopea.com#i...",17),new h$("Thumbnail URL","* Use Imgur.com etc.",17),new jz("Category",g),new eT("Make Public"),new hs("<< Back",null,null,!0),new hs("Save",null,null,!0),new d3("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new d3("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var N=0;N<this.ps.length;N++){var h=this.ps[N];o.appendChild(h.e);h.parent=this;if(N!=4&&N!=6)B.zw(o);
if(h instanceof hs)h.h("click",this.auM,this)}}cp.prototype=new ar;cp.prototype.auM=function(o){if(o.target==this.ps[6]){this.c(new jO("back"));
return}var g=this.ps[3].O().trim(),C=g.startsWith("http")&&(g.endsWith(".jpeg")||g.endsWith(".jpg")||g.endsWith(".png")||g.endsWith(".gif"));
if(!C){alert("Thumbnail URL is incorrect.");return}var a=new XMLHttpRequest,x="mirror.php?url="+encodeURIComponent(g);
a.open("GET",x);a.responseType="arraybuffer";a.onload=this.ak8.bind(this);a.send()};cp.prototype.ak8=function(o){var g=o.target.response,C=g.byteLength;
if(C>2e5&&bl.tt(g)!="gif"){alert("Thumbnail is too large ("+hX.cN(C)+"). Make it under 200 kB.");return}var a="name desc file thmb catg publ".split(" "),x=this.Fa;
for(var N=0;N<6;N++){var K=this.ps[N].O();if(N<=3){K=K.trim();if(K.length==0){alert("One of values is empty.");
return}}if(N==2){var h=K.split("#i");if(h.length!=2||h[1].length!=8){alert("File ID is incorrect.");
return}K=h.pop()}if(N==4)K=this.Io[K];x[a[N]]=K}if(x.utme.length==0)x.utme=""+Math.round(Date.now()/1e3);
this.c(new jO("save"))};cp.prototype.Q=function(){};cp.prototype.I=function(o){var g=this.Fa=JSON.parse(JSON.stringify(o)),C="name desc file thmb catg publ".split(" ");
for(var N=0;N<6;N++){var a=g[C[N]];if(a!=""&&N==2)a="https://photopea.com#i"+a;if(N==4)a=this.Io.indexOf(a);
if(N==5&&a==null)a=!0;this.ps[N].I(a)}};cp.prototype.O=function(){return JSON.parse(JSON.stringify(this.Fa))};
function _(o){ar.call(this);this.d5=o;this.e=B.f("div","");this.My=[];this.lG=null;this.amM=[]}_.prototype=new ar;
_.prototype.tS=function(o){};_.prototype.kv=function(){return!1};_.prototype.z3=function(o,g){};_.prototype.Xt=function(o,g){};
_.prototype.iZ=function(o){};_.prototype.I=function(o,g,C,a,x,K){var h=[],X=this.My,w=0,G=hb._s["s"+this.d5];
G?G(o,h,K):this.ec(o,h,K);for(var N=0;N<X.length;N++)if(!(X[N]instanceof d3))X[N].I(h[w++]);if(o.RndS)this.lG=o.RndS.v};
_.prototype.O=function(){var o=hb.l3(this.d5),g=[],C=this.My,a=0;for(var N=0;N<C.length;N++)if(!(C[N]instanceof d3))g[a++]=C[N].O();
var x=hb._s["g"+this.d5];x?x(o,g):this.AN(o,g);if(o.RndS)o.RndS.v=this.lG;return o};_.prototype.Uh=function(o){};
_.prototype.y6=function(o){if(o&&o.target instanceof hs){this.lG=Math.floor(Math.random()*4294967295)}var g=this.amM;
for(var N=0;N<g.length;N+=2){var C=this.My[g[N]],a=this.My[g[N+1]],x=C.O(),K=a.O();if(o.target==C)a.I(Math.max(x,K));
else C.I(Math.min(x,K))}this.c(new jO(D.E.p))};_.prototype.Q=function(){for(var N=0;N<this.My.length;
N++)this.My[N].Q();var o=this.a9N;if(o)o.Q()};_.prototype.m3=function(o){B.lK(this.e,"form");var g=this.My;
for(var N=0;N<g.length;N++){var C=g[N];C.parent=this;C.h(D.E.p,this.y6,this);this.e.appendChild(C.e);
if(C instanceof eT&&g[N+1]instanceof jD)continue;if(o&&o.indexOf(N)!=-1)B.xG(this.e);else B.zw(this.e)}var a=hb.l3(this.d5);
if(a.RndS){var x=this.a9N=new hs([25,1,2],null,null,!0);this.e.appendChild(x.e);x.h("click",this.y6,this)}};
_.prototype.DP=function(){return!1};_.prototype.xA=function(o,g,C,a,x){};_.prototype.kh=function(o,g,C,a,x){};
_.prototype.eO=function(o,g,C,a,x){};_.prototype.AN=function(o,g){};_.prototype.ec=function(o,g){};_.prototype.V_=function(o){var g=o.target.O().indexOf(!0)!=-1,C=new jO(D.E.X,!0);
C.on=!0;C.data={C:g?D.t.JG:D.t.o_,F:c.V6};this.c(C);C=new jO(D.E.q,!0);C.F=c.V6;C.on=!0;C.data={C:"supertool",F:g?this:null};
this.c(C)};_.asi=function(o){o.DP=function(){return!0};o.xA=function(g,C,a,x,K){this.rh=!0;this.amO(g,K)};
o.kh=function(g,C,a,x,K){if(!this.rh)return;this.amO(g,K)};o.eO=function(g,C,a,x,K){this.rh=!1};o.amO=function(g,C){var a=new aS(0,0,g.m,g.n);
if(g._)a=g._.rect;var x=g.u.w2(C.x,C.y);x.x-=a.x;x.y-=a.y;function K(h,X){return Math.round(Math.max(0,Math.min(100,100*h/X)))}this.My[2].I(K(x.x,a.m));
this.My[3].I(K(x.y,a.n));this.y6()}};_.Bokh=function(){_.call(this,"Bokh");this.My=[new jz("Depth Map",["A","b"]),new ho("Focal Distance",0,255),new eT([4,11]),new jz([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new ho([12,56],0,100),new ho([12,15],0,360),new ho([12,2],0,100),new ho([4,13],0,255),new ho([24,6],0,100),new jT([12,58],[[12,59,0],[12,59,1]]),new eT([12,60])];
this.m3([5,7])};_.Bokh.prototype=new _;_.Bokh.prototype.ec=function(o,g,C){var a=[[22,5,0],[6,5,3],[6,2]],x=o.BkDi.v.BtDi,K=o.BkDc,h=0;
if(x=="BeIn")h=0;else if(x=="BeIt"&&K.v.BtDc=="BeCt")h=1;else if(x=="BeIt"&&K.v.BtDc=="BeCm")h=2;else h=3+K.v;
for(var N=0;N<C[1].length;N++)a.push(C[1][N].name);this.My[0].e5(a,[3]);g[0]=h;g[1]=o.BkDp.v;g[2]=o.BkDs.v;
g[3]=parseInt(o.BkIs.v.BtIs.slice(3))-3;g[4]=o.BkIb.v;g[5]=o.BkIr.v;g[6]=o.BkSb.v;g[7]=o.BkSt.v;g[8]=o.BkNa.v;
g[9]=o.BkNt.v.BtNt=="BeNu"?0:1;g[10]=o.BkNm.v};_.Bokh.prototype.AN=function(o,g){var C;if(g[0]==0){C="BeIn";
delete o.BkDc}else if(g[0]<3){C="BeIt";o.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][g[0]-1]}}}else{C="BeIa";
o.BkDc={t:"long",v:g[0]-3}}o.BkDi.v.BtDi=C;o.BkDp.v=g[1];o.BkDs.v=g[2];o.BkIs.v.BtIs="BeS"+(3+g[3]);
o.BkIb.v=g[4];o.BkIr.v=g[5];o.BkSb.v=g[6];o.BkSt.v=g[7];o.BkNa.v=g[8];o.BkNt.v.BtNt=["BeNu","BeNg"][g[9]];
o.BkNm.v=g[10]};_.oilPaint=function(){_.call(this,"oilPaint");this.My=[new ho([12,56],.1,10,"px",!0),new ho("Cleanliness",0,10,"px",!0),new ho([12,38],.1,10,null,!0),new ho("Bristle Detail",0,10,null,!0),new eT("Lighting"),new ho("Shine",0,10,null,!0),new ah([12,15])];
this.m3()};_.oilPaint.prototype=new _;_.oilPaint.prototype.ec=function(o,g){var C="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var N=0;N<C.length;N++)g[N]=o[C[N]].v;g[6]=[o.LghD.v]};_.oilPaint.prototype.AN=function(o,g){var C="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var N=0;N<C.length;N++)o[C[N]].v=g[N];o.LghD.v=g[6][0]};_.TrcC=function(){_.call(this,"TrcC");this.My=[new ho("Level",0,255),new jT([12,69],[[19,4,1],[19,4,0]])];
this.m3()};_.TrcC.prototype=new _;_.TrcC.prototype.ec=function(o,g){g[0]=o.Lvl.v;g[1]=["Lwr","Upr"].indexOf(o.Edg.v.CntE)};
_.TrcC.prototype.AN=function(o,g){o.Lvl.v=g[0];o.Edg.v.CntE=["Lwr","Upr"][g[1]]};_["Dfs "]=function(){_.call(this,"Dfs ");
this.My=[new jT([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.m3()};_["Dfs "].prototype=new _;
_["Dfs "].prototype.ec=function(o,g){g[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(o.Md.v.DfsM)};
_["Dfs "].prototype.AN=function(o,g){o.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][g[0]]};_.Embs=function(){_.call(this,"Embs");
this.My=[new ah([12,15]),new ho([12,42],1,100,"px"),new ho([12,57],1,500,"%")];this.m3()};_.Embs.prototype=new _;
_.Embs.prototype.ec=function(o,g){g[0]=[o.Angl.v];g[1]=o.Hght.v;g[2]=o.Amnt.v};_.Embs.prototype.AN=function(o,g){o.Angl.v=g[0][0];
o.Hght.v=g[1];o.Amnt.v=g[2]};_["Wnd "]=function(){_.call(this,"Wnd ");this.My=[new jT([12,32],["Wind","Blast","Stagger"]),new jT([12,33],["From the Right","From the Left"])];
this.m3()};_["Wnd "].prototype=new _;_["Wnd "].prototype.ec=function(o,g){g[0]=["Wnd","Blst","Stgr"].indexOf(o.WndM.v.WndM);
g[1]=["Left","Rght"].indexOf(o.Drct.v.Drct)};_["Wnd "].prototype.AN=function(o,g){o.WndM.v.WndM=["Wnd","Blst","Stgr"][g[0]];
o.Drct.v.Drct=["Left","Rght"][g[1]]};_.denoise=function(){_.call(this,"denoise");this.My=[new ho([12,64],0,10),new ho([12,65],0,100,"%")];
this.m3()};_.denoise.prototype=new _;_.denoise.prototype.ec=function(o,g){var C=o.channelDenoise.v[0].v;
g[0]=C.Amnt.v;g[1]=C.EdgF.v};_.denoise.prototype.AN=function(o,g){var C=o.channelDenoise.v[0].v;C.Amnt.v=g[0];
C.EdgF.v=g[1]};_.lightFilterGradient=function(){_.call(this,"lightFilterGradient");this.My=[new ho([24,3,1],0,100,"px",1,!0),new ho([12,38],0,200,"%"),new eT([4,11]),new ho("High",0,100,"%"),new ho("Medium",0,100,"%"),new ho("Low",0,100,"%")];
this.m3()};_.lightFilterGradient.prototype=new _;_.lightFilterGradient.prototype.ec=function(o,g){g[0]=o.blur.v;
g[1]=o.textureScale.v*100;g[2]=o.Scl.v==-1;var C=o.Dtl.v;g[3]=C[0].v*100;g[4]=C[1].v*100;g[5]=C[2].v*100};
_.lightFilterGradient.prototype.AN=function(o,g){o.blur.v=g[0];o.textureScale.v=g[1]/100;o.Scl.v=g[2]?-1:1;
var C=o.Dtl.v;C[0].v=g[3]/100;C[1].v=g[4]/100;C[2].v=g[5]/100};_.Fbrs=function(){_.call(this,"Fbrs");
this.My=[new ho("Variance",1,64),new ho([12,64],1,64)];this.m3()};_.Fbrs.prototype=new _;_.Fbrs.prototype.ec=function(o,g){g[0]=o.Vrnc.v;
g[1]=o.Strg.v};_.Fbrs.prototype.AN=function(o,g){o.Vrnc.v=g[0];o.Strg.v=g[1]};_.LnsF=function(){_.call(this,"LnsF");
this.My=[new ho([12,2],10,300,"%"),new jT([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new ho("Position X",0,100,"%"),new ho("Position Y",0,100,"%")];
this.m3()};_.LnsF.prototype=new _;_.LnsF.prototype.ec=function(o,g){g[0]=o.Brgh.v;g[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(o.Lns.v.Lns);
var C=o.FlrC.v;g[2]=Math.round(C.Hrzn.v*100);g[3]=Math.round(C.Vrtc.v*100)};_.LnsF.prototype.AN=function(o,g){o.Brgh.v=g[0];
o.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][g[1]];var C=o.FlrC.v;C.Hrzn.v=g[2]/100;C.Vrtc.v=g[3]/100};_.asi(_.LnsF.prototype);
_.blendOptions=function(){_.call(this,"blendOptions");this.My.push(new jz([12,19,0],cP.sz,!1,cP.Hm));
this.My.push(new ho([12,0],0,100,"%"));this.m3()};_.blendOptions.prototype=new _;_.blendOptions.prototype.ec=function(o,g){g[0]=cP.J1.indexOf(o.Md.v.BlnM);
g[1]=o.Opct.v.val};_.blendOptions.prototype.AN=function(o,g){o.Md.v.BlnM=cP.J1[g[0]];o.Opct.v.val=g[1]};
_.LnCr=function(){_.call(this,"LnCr");this.My=[new ho([12,57],-100,100),new ho([12,38],10,150,"%")];
this.m3()};_.LnCr.prototype=new _;_.LnCr.prototype.ec=function(o,g){g[0]=o.LnIa.v;g[1]=o.LnSi.v};_.LnCr.prototype.AN=function(o,g){o.LnIa.v=g[0];
o.LnSi.v=g[1]};_.adaptCorrect=function(){_.call(this,"adaptCorrect");var o=iH;this.My=[new d3([19,6,0]),new o([12,57],0,100,"%"),new o("Tone",0,100,"%"),new o([12,56],0,200,"px"),new d3([19,6,2]),new o([12,57],0,100,"%"),new o("Tone",0,100,"%"),new o([12,56],0,200,"px"),new d3([3]),new o([13,0],-100,100)];
this.m3([3,7])};_.adaptCorrect.prototype=new _;_.adaptCorrect.prototype.ec=function(o,g){var C=o.sdwM.v;
g[0]=C.Amnt.v.val;g[1]=C.Wdth.v.val;g[2]=C.Rds.v;var C=o.hglM.v;g[3]=C.Amnt.v.val;g[4]=C.Wdth.v.val;
g[5]=C.Rds.v;g[6]=o.ClrC.v};_.adaptCorrect.prototype.AN=function(o,g){var C=o.sdwM.v;C.Amnt.v.val=g[0];
C.Wdth.v.val=g[1];C.Rds.v=g[2];var C=o.hglM.v;C.Amnt.v.val=g[3];C.Wdth.v.val=g[4];C.Rds.v=g[5];o.ClrC.v=g[6]};
_.Flam=function(){_.call(this,"Flam");var o=this.My=[new jz([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new ho([12,80,0],20,1e3,"px"),new eT("Randomize Length"),new ho([12,41],5,600,"px"),new ho([12,15],0,360,"\xB0"),new ho("Interval",10,200,"px"),new eT("Adapt Interval for Loops"),new jD(!1),new jz([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new ho("Turbulent",0,100),new ho("Jag",0,100),new ho([12,0],0,100),new ho("Lines",2,30),new ho("Bottom",0,100),new jz([12,22],["Normal","Violent","Flat"]),new jz([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new eT("Randomize Shape"),new ho("Random Seed",0,100)];
this.m3();var g=this.e;B.KZ(g);var C=new jT(null,["Basic","Advanced"]);C.h(D.E.p,this.ai7,this);g.appendChild(C.e);
B.xG(g);var a=B.f("div"),x=B.f("div");this.ano=[a,x];g.appendChild(a);for(var N=0;N<o.length;N++){(N<9?a:x).appendChild(o[N].e);
if(N==6)B.zw(a)}o[0].h(D.E.p,this.a3o,this);this.a3o()};_.Flam.prototype=new _;_.Flam.prototype.a3o=function(o){var g=this.My,N=g[0].O();
g[1].ZB(N!=0&&N!=5);g[2].ZB(N!=0&&N!=5);g[4].ZB(N!=0&&N!=5&&N!=1);g[5].ZB(N!=0&&N!=5);g[6].ZB(N!=0&&N!=5)};
_.Flam.prototype.ai7=function(o){var N=o.target.O(),g=this.ano,C=this.e;C.removeChild(g[1-N]);C.appendChild(g[N])};
_.boxblur=function(){_.call(this,"boxblur");this.My=[new ho([12,56],1,200," px")];this.m3()};_.boxblur.prototype=new _;
_.boxblur.prototype.ec=function(o,g){g[0]=o.Rds.v.val};_.boxblur.prototype.AN=function(o,g){o.Rds.v.val=g[0]};
_.GsnB=function(){_.call(this,"GsnB");this.My=[new ho([12,56],.1,400,"px",1,!0)];this.m3()};_.GsnB.prototype=new _;
_.MtnB=function(){_.call(this,"MtnB");this.My=[new ah([12,15]),new ho([12,28],1,100," px")];this.m3()};
_.MtnB.prototype=new _;_.RdlB=function(){_.call(this,"RdlB");this.My=[new ho([12,57],1,100),new jT([12,36],["Spin","Zoom"]),new ho("Position X",0,100,"%"),new ho("Position Y",0,100,"%")];
this.m3()};_.RdlB.prototype=new _;_.RdlB.prototype.ec=function(o,g){g[0]=o.Amnt.v;g[1]=["Spn","Zm"].indexOf(o.BlrM.v.BlrM);
g[2]=o.Cntr.v.Hrzn.v*100;g[3]=o.Cntr.v.Vrtc.v*100};_.RdlB.prototype.AN=function(o,g){o.Amnt.v=g[0];o.BlrM.v.BlrM=["Spn","Zm"][g[1]];
o.Cntr.v.Hrzn.v=g[2]/100;o.Cntr.v.Vrtc.v=g[3]/100};_.asi(_.RdlB.prototype);_.Dspl=function(){_.call(this,"Dspl");
this.My=[new jz([6,36,3],["a","b"]),new ho([22,4,0],-100,100,"px"),new ho([22,4,1],-100,100,"px"),new jz([24,18,0],[[24,18,3],[24,18,2]])];
this.m3()};_.Dspl.prototype=new _;_.Dspl.prototype.ec=function(o,g,C){this.apW=[];this.UM=[];var a=-1,x=C?C[0]:null;
if(x==null)x=this.ahE;else this.ahE=x;if(x)for(var N=0;N<x.length;N++){var K=x[N];this.apW.push(K.vo.trim());
this.UM.push(K.f8);if(K.f8==o.DspF.v.pth)a=N}this.My[0].e5(this.apW);g[0]=a==-1?0:a;g[1]=o.HrzS.v;g[2]=o.VrtS.v;
g[3]=["WrpA","RptE"].indexOf(o.UndA.v.UndA)};_.Dspl.prototype.AN=function(o,g){if(this.UM.length==0)return;
o.DspF.v.pth=this.UM[g[0]];o.HrzS.v=g[1];o.VrtS.v=g[2];o.UndA.v.UndA=["WrpA","RptE"][g[3]]};_.Pnch=function(){_.call(this,"Pnch");
this.My=[new ho([12,57],-100,100,"%")];this.m3()};_.Pnch.prototype=new _;_["Plr "]=function(){_.call(this,"Plr ");
this.My=[new jT(null,["Rect to Polar","Polar to Rect"])];this.m3()};_["Plr "].prototype=new _;_.Rple=function(){_.call(this,"Rple");
this.My=[new ho([12,57],-999,999),new jz([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.m3()};_.Rple.prototype=new _;
_["Shr "]=function(){_.call(this,"Shr ");this.My=[new ge(!0,!0),new jz([24,18,0],[[24,18,3],[24,18,2]])];
this.m3()};_["Shr "].prototype=new _;_["Shr "].prototype.ec=function(o,g){var C=new kp(0,255/127,255/127,0,-2,128),a=JSON.parse(JSON.stringify(o.ShrP.v));
l.QG.D(a,C);g[0]=a;g[1]=["WrpA","RptE"].indexOf(o.UndA.v.UndA)};_["Shr "].prototype.AN=function(o,g){var C=new kp(0,255/127,255/127,0,-2,128);
C.rq();l.QG.D(g[0],C);o.ShrP.v=g[0];o.ShrE.v=g[0].length-1;o.UndA.v.UndA=["WrpA","RptE"][g[1]]};_.Sphr=function(){_.call(this,"Sphr");
this.My=[new ho([12,57],-100,100),new jz([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.m3()};_.Sphr.prototype=new _;
_.Sphr.prototype.ec=function(o,g){g[0]=o.Amnt.v;g[1]=["Nrml","HrzO","VrtO"].indexOf(o.SphM.v.SphM)};
_.Sphr.prototype.AN=function(o,g){o.Amnt.v=g[0];o.SphM.v.SphM=["Nrml","HrzO","VrtO"][g[1]]};_.Dthr=function(){_.call(this,"Dthr");
this.My=[new jz("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.m3()};_.Dthr.prototype=new _;
_.Dthr.prototype.ec=function(o,g){g[0]=o.Plte.v};_.Dthr.prototype.AN=function(o,g){o.Plte.v=g[0]};_.Part=function(){_.call(this,"Part");
this.My=[new ho([15,5,1],0,100,"%"),new ho([12,14,0],1,50,"px"),new ho([12,34],0,100,"%"),new ho([12,2],10,1e3,"%"),new jD(!0),new ho("Time",0,1,null,3),new ho("Turbulence",0,100,"%"),new eT("Blink"),new eT("Fall")];
this.m3([4])};_.Part.prototype=new _;_.Part.prototype.ec=function(o,g){g[0]=o.Cont.v;g[1]=o.Size.v;g[2]=o.Dpth.v;
g[3]=o.Brgh.v;g[4]=o.Clr.v;g[5]=o.Time.v;g[6]=o.Turb.v;g[7]=o.Blnk.v;g[8]=o.Fall.v};_.Part.prototype.AN=function(o,g){o.Cont.v=g[0];
o.Size.v=g[1];o.Dpth.v=g[2];o.Brgh.v=g[3];o.Clr.v=g[4];o.Time.v=g[5];o.Turb.v=g[6];o.Blnk.v=g[7];o.Fall.v=g[8]};
_.Twrl=function(){_.call(this,"Twrl");this.My=[new ho([12,15],-999,999)];this.m3()};_.Twrl.prototype=new _;
_.Wave=function(){_.call(this,"Wave");this.amM=[1,2,3,4];this.My=[new ho("Number of Generators",1,100),new iH("Min Length",1,999),new iH("Max Length",1,999),new iH("Min Ampl.",1,999),new iH("Max Ampl.",1,999),new iH("Scale X",1,100,"%"),new iH("Scale Y",1,100,"%"),new jT([12,44],["Sine","Triangle",[12,93,3]]),new jz([24,18,0],[[24,18,3],[24,18,2]]),new h$("Randomizer Seed")];
this.m3()};_.Wave.prototype=new _;_.Wave.prototype.ec=function(o,g){g[0]=o.NmbG.v;g[1]=o.WLMn.v;g[2]=o.WLMx.v;
g[3]=o.AmMn.v;g[4]=o.AmMx.v;g[5]=o.SclH.v;g[6]=o.SclV.v;g[7]=["WvSn","WvTr","WvSq"].indexOf(o.Wvtp.v.Wvtp);
g[8]=["WrpA","RptE"].indexOf(o.UndA.v.UndA);g[9]=o.RndS.v};_.Wave.prototype.AN=function(o,g){o.NmbG.v=g[0];
o.WLMn.v=g[1];o.WLMx.v=g[2];o.AmMn.v=g[3];o.AmMx.v=g[4];o.SclH.v=g[5];o.SclV.v=g[6];o.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][g[7]];
o.UndA.v.UndA=["WrpA","RptE"][g[8]];var C=parseInt(g[9]);if(isNaN(C))C=248325464;C=Math.max(0,Math.min(268435455,C));
o.RndS.v=C;this.My[9].I(C)};_.ZgZg=function(){_.call(this,"ZgZg");this.My=[new ho([12,57],-100,100),new ho("Ridges",0,20),new jz([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.m3()};_.ZgZg.prototype=new _;_.surfaceBlur=function(){_.call(this,"surfaceBlur");this.My=[new ho([12,56],1,200," px"),new ho([4,13],1,255," px")];
this.m3()};_.surfaceBlur.prototype=new _;_.surfaceBlur.prototype.ec=function(o,g){g[0]=o.Rds.v.val;g[1]=o.Thsh.v};
_.surfaceBlur.prototype.AN=function(o,g){o.Rds.v.val=g[0];o.Thsh.v=g[1]};_.AdNs=function(){_.call(this,"AdNs");
this.My=[new ho([12,57],0,200," %"),new jz([12,58],[[12,59,1],[12,59,0]]),new eT([12,60])];this.m3()};
_.AdNs.prototype=new _;_.DstS=function(){_.call(this,"DstS");this.My=[new ho([12,56],1,200," px"),new ho([4,13],1,255," px")];
this.m3()};_.DstS.prototype=new _;_["Mdn "]=function(){_.call(this,"Mdn ");this.My=[new ho([12,56],1,200," px")];
this.m3()};_["Mdn "].prototype=new _;_["Mdn "].prototype.ec=function(o,g){g[0]=o.Rds.v.val};_["Mdn "].prototype.AN=function(o,g){o.Rds.v.val=g[0]};
_.ClrH=function(){_.call(this,"ClrH");this.My=[new ho([12,56],4,100," px")];for(var N=1;N<4;N++)this.My.push(new ho("Angle "+N,0,90," \xB0"));
this.m3()};_.ClrH.prototype=new _;_.ClrH.prototype.ec=function(o,g){g[0]=o.Rds.v;for(var N=1;N<4;N++)g[N]=o["Ang"+N].v};
_.ClrH.prototype.AN=function(o,g){o.Rds.v=g[0];for(var N=1;N<4;N++)o["Ang"+N].v=g[N]};_.ClrH.prototype.Q=function(){var o=this.My;
o[0].Q();for(var N=1;N<4;N++)o[N].BB(fF.get([12,15])+" "+N)};_.Crst=function(){_.call(this,"Crst");this.My=[new ho([12,61],3,100," px")];
this.m3()};_.Crst.prototype=new _;_.Crst.prototype.ec=function(o,g){g[0]=o.ClSz.v};_.Crst.prototype.AN=function(o,g){o.ClSz.v=g[0]};
_.Mztn=function(){_.call(this,"Mztn");this.My.push(new jz([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.UM="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.m3()};_.Mztn.prototype=new _;
_.Mztn.prototype.ec=function(o,g){g[0]=this.UM.indexOf(o.MztT.v.MztT)};_.Mztn.prototype.AN=function(o,g){o.MztT.v.MztT=this.UM[g[0]]};
_["Msc "]=function(){_.call(this,"Msc ");this.My=[new ho([12,61],2,200," px")];this.m3()};_["Msc "].prototype=new _;
_["Msc "].prototype.ec=function(o,g){g[0]=o.ClSz.v.val};_["Msc "].prototype.AN=function(o,g){o.ClSz.v.val=g[0]};
_.Pntl=function(){_.call(this,"Pntl");this.My=[new ho([12,61],3,100," px")];this.m3()};_.Pntl.prototype=new _;
_.Pntl.prototype.ec=function(o,g){g[0]=o.ClSz.v};_.Pntl.prototype.AN=function(o,g){o.ClSz.v=g[0]};_.smartSharpen=function(){_.call(this,"smartSharpen");
this.My=[new ho([12,57],1,200,"%"),new ho([12,56],0,200,"px",1,!0)];this.m3()};_.smartSharpen.prototype=new _;
_.smartSharpen.prototype.ec=function(o,g){g[0]=o.Amnt.v.val;g[1]=o.Rds.v.val};_.smartSharpen.prototype.AN=function(o,g){o.Amnt.v.val=g[0];
o.Rds.v.val=g[1]};_.UnsM=function(){_.call(this,"UnsM");this.My=[new ho([12,57],1,200," %"),new ho([12,56],.1,400,"px",1,!0),new ho([4,13],0,255," ")];
this.m3()};_.UnsM.prototype=new _;_.HghP=function(){_.call(this,"HghP");this.My=[new ho([12,56],.1,400,"px",1,!0)];
this.m3()};_.HghP.prototype=new _;_.HsbP=function(){_.call(this,"HsbP");this.My=[new jT("Input",["RGB","HSB","HSL"]),new jT("Output",["RGB","HSB","HSL"])];
this.m3()};_.HsbP.prototype=new _;_["Mxm "]=function(){_.call(this,"Mxm ");this.My=[new ho([12,56],.1,200," px",1,!0),new jz([12,76,1],[[12,93,3],"Circle"])];
this.m3()};_["Mxm "].prototype=new _;_["Mnm "]=function(){_.call(this,"Mnm ");this.My=[new ho([12,56],.1,200," px",1,!0),new jz([12,76,1],[[12,93,3],"Circle"])];
this.m3()};_["Mnm "].prototype=new _;_.Ofst=function(){_.call(this,"Ofst");this.My=[new ho([22,4,0],-1024,1024," px"),new ho([22,4,1],-1024,1024," px"),new jz([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.m3()};_.Ofst.prototype=new _;_.Kale=function(){_.call(this,"Kale");this.My=[new iH("Mirrors",2,20),new iH([12,15],0,360,"\xB0")];
this.m3()};_.Kale.prototype=new _;_.Kale.prototype.ec=function(o,g){g[0]=o.Mirr.v;g[1]=o.MRot.v};_.Kale.prototype.AN=function(o,g){o.Mirr.v=g[0];
o.MRot.v=g[1]};_.Rept=function(){_.call(this,"Rept");this.My=[new iH([12,38],1,300," %"),new iH("Row Shift",-50,50," %"),new iH("Space X",-99,200," %"),new iH("Space Y",-99,200," %"),new eT([4,16,2]),new ah([12,15])];
this.m3()};_.Rept.prototype=new _;_.Rept.prototype.ec=function(o,g){g[0]=o.Scl.v.val;g[1]=o.Rsft.v.val;
g[2]=o.SpcX.v.val;g[3]=o.SpcY.v.val;g[4]=o.SpcC.v;g[5]=[o.Angl.v]};_.Rept.prototype.AN=function(o,g){o.Scl.v.val=g[0];
o.Rsft.v.val=g[1];o.SpcX.v.val=g[2];o.SpcY.v.val=g[3];o.SpcC.v=g[4];o.Angl.v=g[5][0];return o};_.Ctoa=function(){_.call(this,"Ctoa");
this.My=[new d3([13,0]),new jD(!0),new ho(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new ho(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.m3()};_.Ctoa.prototype=new _;_.Ctoa.prototype.ec=function(o,g){g[0]=o.Clr.v;g[1]=o.Trsp.v.val;g[2]=o.Opct.v.val};
_.Ctoa.prototype.AN=function(o,g){o.Clr.v=g[0];o.Trsp.v.val=g[1];o.Opct.v.val=g[2]};_.LqFy=function(){_.call(this,"LqFy");
this.dW=!1;this.k5=!1;this.Rl=null;this.agZ=null;this.F=0;this.W_=-1;this.Y={uG:[[{F:{id:0,name:[24,1,0,1,0],DM:"liq/smudge"}}],[{F:{id:1,name:[24,1,0,1,1],DM:"liq/reconstruct"}}],[{F:{id:2,name:[24,1,0,1,2],DM:"liq/smooth"}}],[{F:{id:3,name:[24,1,0,1,3],DM:"liq/twirl"}}],[{F:{id:4,name:[24,1,0,1,4],DM:"liq/shrink"}}],[{F:{id:5,name:[24,1,0,1,5],DM:"liq/blow"}}],[{F:{id:6,name:[24,1,0,1,6],DM:"liq/pleft"}}],[{F:{id:7,name:"Hand",DM:"tools/hand"}}],[{F:{id:8,name:"Zoom In",DM:"zoomIn"}}],[{F:{id:9,name:"Zoom Out",DM:"zoomOut"}}]],keys:[]};
this.md=new iK(this.Y,!1);this.md.F$(0);this.md.h(D.E.X,this.adb,this);this.M_=e5.pf();this.cl=null;
this.NG=[];this.Sp=-1;this.lW=null;this.aqQ=null;this.MN=null;this.NT=null;this.Aq=null;var o=B.f("div","flexrow");
this.TM=o;this.e.appendChild(o);o.appendChild(this.md.e);this.view=new eC(!0);this.view.z3(100,100);
this.view.h("mousedown",this.eb,this);this.view.h("mousemove",this.y8,this);this.view.h("mouseup",this.bX,this);
this.view.h("zoom",this.MW,this);o.appendChild(this.view.e);var g=B.f("div","form");o.appendChild(g);
this.Vw=g;g.style.width="230px";this.Rs=[new ho([12,14,0],0,1e3,null,!1,!0),new ho([12,74],0,100,null,!1,!1),new ho([12,84],0,100,null,!1,!1),new eT([12,46]),new ho([12,0],0,100,null,!1,!1),new eT([24,18,5])];
var C=this.M_.Brsh.v;C.Dmtr.v.val=100;var a=[100,50,100,!1,100,!0];for(var N=0;N<this.Rs.length;N++){var x=this.Rs[N];
x.I(a[N]);if(N==4)x.Uy();x.h(D.E.p,this.acO,this);g.appendChild(x.e)}var K=this.anO=new hs([1,12,2],!0,null,!0);
K.h("click",this.HH,this);g.appendChild(K.e);this.a5O=this.qD.bind(this);this.Um=new ar;this.Um.e=B.f("div","floatcont");
this.o4=new hs("Menu",!1,null,!0);var h=this.o4.e;h.setAttribute("style","position:absolute; right:13px; top:47px");
B.sa(h,this.a3R.bind(this))};_.LqFy.prototype=new _;_.LqFy.prototype.kv=function(){return!0};_.LqFy.prototype.tS=function(o){this.Vw.appendChild(o)};
_.LqFy.prototype.a3R=function(o){if(B.Af(this.Um.e))return;o.stopPropagation();var g=this.o4.e.getBoundingClientRect();
this.Um.e.appendChild(this.Vw);var C=new jO(D.E.X,!0);C.data={C:D.t.Sd,u6:this.Um,x:g.right+g.width-290,y:g.top+g.height};
this.c(C)};_.LqFy.prototype.Uh=function(o){this.dW=o.a(c_.LW);var g=c.de.Tm(this.M_,o);if(g!=null){this.M_=g;
this.MW();this.Rs[0].I(g.Brsh.v.Dmtr.v.val)}else if(o.a(c_.Ns)&&o.a(c_.f0)){var C=this.NG;if(o.a(c_.sH)){if(this.Sp+1<C.length)this.Sp++}else if(this.Sp>0)this.Sp--;
this.cl.map=C[this.Sp].slice(0);this.Ty(null)}else if(this.F<=6)this.view.Uh(o);var a=this.F,x=-1,K=o.a(c_.LW);
if(K&&this.W_==-1){if(a==0)x=1;if(a==4)x=5;if(a==5)x=4;if(x!=-1)this.W_=a}if(!K&&this.W_!=-1){x=this.W_;
this.W_=-1}if(x!=-1){this.F=x;this.md.F$(this.F)}};_.LqFy.prototype.adb=function(o){if(o.data.C==D.t.JG){var g=this.F=o.data.F;
this.md.F$(this.F);this.view.Uh(g>6?eC.amj(g-7):new c_)}};_.LqFy.prototype.acO=function(o){var g=o.currentTarget,N=this.Rs.indexOf(g),C=this.M_.Brsh.v;
if(N==0){C.Dmtr.v.val=g.O();this.MW()}this.Rs[4].ZB(this.Rs[3].O());if(N>2)this.Ty(null)};_.LqFy.prototype.CM=function(){var o=this.NG;
this.Sp++;o[this.Sp]=this.cl.map.slice(0);while(o.length>this.Sp+1)o.pop();while(o.length>50){o=o.slice(1);
this.Sp--}};_.LqFy.prototype.eb=function(o){this.Rl=this.view.Rx();this.agZ=new eN(0,0);this.k5=!0;window.requestAnimationFrame(this.a5O)};
_.LqFy.prototype.y8=function(o){var g=this.view.Rx(),C=new eN(g.x-this.Rl.x,g.y-this.Rl.y);if(this.F==0||this.F==6)this.aoH(C);
this.Rl=g};_.LqFy.prototype.bX=function(o){this.CM();this.k5=!1};_.LqFy.prototype.qD=function(o){if(this.F!=0&&this.F!=6)this.aoH(new eN(0,0));
if(this.k5)window.requestAnimationFrame(this.a5O)};_.LqFy.prototype.aoH=function(o){var g=this.cl,C=g.MI/this.lW.m,a=this.Rl,x=this.M_.Brsh.v,K=x.Dmtr.v.val,h=Date.now(),X=g.MI,w=g.fB,G=Math.sqrt(o.x*o.x+o.y*o.y),R=Math.max(1,Math.ceil(G/2)),d=o.x/R,q=o.y/R,m=a.clone(),M=this.F,Z=this.Rs[1].O()/100,Q=this.Rs[2].O()/100,p=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],y=p[M*2],V=p[M*2+1],W=(1-Z)*y+Z*V,v=K*C/2;
for(var N=0;N<R;N++){var j=[];m.x+=d;m.y+=q;l.lp.alm(g.map,X,w,M,m.x*C,m.y*C,v,Z,Q,d*C,q*C,j,this.dW);
l.lp.afe(X,w,g.map,j,2*W*Q)}var e=new aS(0,0,X,w),T=new aS(a.x*C,a.y*C,0,0);T.Uj(K*C*.5,K*C*.5);var O=T.clone();
O.offset(o.x*C,o.y*C);T=T.ae(O);var L=new aS(T.x/C,T.y/C,T.m/C,T.n/C);L=l.o.ul(L).Kw(this.lW);this.Rs[5].I(!0);
this.Ty(L)};_.LqFy.prototype.MW=function(){var o=fn.$I(this.M_,null,this.view.hL().R);this.view.jv(o)};
_.LqFy.prototype.I=function(o,g,C,a,x){C=C.clone();if(g==null)return;if(!a.$s(C)){var K=C.ae(a),h=l.Z(K.$()*4);
l.HT(g,C,h,K);g=h;C=K;var X=l.Z(K.$()*4);l.HT(x,a,X,K);x=X}C.x=C.y=0;this.MN=g;this.aqQ=x;this.Aq=g.slice(0);
this.NT=g.slice(0);this.lW=C;this.cl=dg.kR(new Uint8Array(o.LqMe.v).buffer);var w=C.m,G=C.n;if(this.cl.MI/w<.22){this.cl={MI:Math.floor(w/4),fB:Math.floor(G/4)};
this.cl.map=new Float32Array(this.cl.MI*this.cl.fB*2)}this.NG=[];this.Sp=-1;this.CM();this.Ty(null);
this.view.x8();this.MW()};_.LqFy.prototype.O=function(){var o=hb.l3("LqFy"),g=new Uint8Array(dg.i3(this.cl)),C=[];
for(var N=0;N<g.length;N++)C.push(g[N]);o.LqMe.v=C;return o};_.LqFy.prototype.z3=function(o,g){this.md.z3(o,g);
var C=this.o4.e,a=this.Vw;this.TM.appendChild(a);this.TM.appendChild(C);if(o>450&&o-g>200){a.style.marginLeft="1em";
this.TM.removeChild(C);this.view.z3(o-238-45,g)}else{a.style.marginLeft="";this.TM.removeChild(a);this.view.z3(o-40,g)}};
_.LqFy.prototype.Q=function(){this.md.Q();this.anO.Q();for(var N=0;N<this.Rs.length;N++)this.Rs[N].Q()};
_.LqFy.prototype.HH=function(){this.cl.map.fill(0);this.CM();this.Ty(null)};_.LqFy.prototype.Ty=function(o){var g=this.lW,C=this.MN,a=this.Aq,x=this.cl;
if(this.Rs[5].O())l.lp.BK(C,this.NT,g.m,g.n,o,x.map,x.MI,x.fB,0);else this.NT.set(C);if(this.Rs[3].kW()){l.HT(this.aqQ,g,a,g,o?o:g);
l.j.Ly("norm",this.NT,g,a,g,o?o:g,this.Rs[4].O()/100)}else l.j5(this.NT,a);this.view.I([{m_:g,data:a.buffer}])};
_.GEfc=function(){_.call(this,"GEfc");this.eo=0;this.KU=0;this.MN=null;this.Aq=null;this.lW=null;this.wq=null;
this.Fa=null;this.mX=0;var o=B.f("div","flexrow");this.TM=o;this.e.appendChild(o);this.view=new eC(null);
this.view.z3(100,100);o.appendChild(this.view.e);this.t7="";this.D2=270;var g=this.io=B.f("div","form scrollable");
o.appendChild(g);g.setAttribute("style","width:"+this.D2+"px;  margin-left:10px");var C=this.OZ=B.f("div","form");
o.appendChild(C);C.setAttribute("style","width:230px;  margin-left:1em");this.Dh={};for(var a in ey.names){var x=new _.GEfc.AH(a);
x.parent=this;this.Dh[a]=x;x.h(D.E.p,this.acP,this)}this.by=!0;this.o4=new hs("Menu",null,null,!0);this.o4.h("click",this.avW,this);
o.appendChild(this.o4.e);this.C4=new hs(">>",null,null,!0);this.C4.h("click",this.anU,this);C.appendChild(this.C4.e);
this._J=B.f("div");this._J.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
C.appendChild(this._J);this.Be=B.f("div");this.Be.style.minHeight="14em";this.Be.style.marginBottom="1em";
C.appendChild(this.Be);this.yK=B.f("div","lpbody scrollable");this.$d=B.f("div","lpfoot");C.appendChild(this.yK);
C.appendChild(this.$d);this.h("click",this.a4$,this);this.um=[];bF.VR([[5,3],[5,4]],this.um,this.$d,this.ao.bind(this))};
_.GEfc.prototype=new _;_.GEfc.prototype.kv=function(){return!0};_.GEfc.prototype.tS=function(o){this._J.appendChild(o)};
_.GEfc.prototype.Xt=function(o,g){this.wq=o};_.GEfc.prototype.anU=function(o){var g=this.io.style.display!="none";
this.io.style.display=g?"none":"";this.C4.BB(g?"<<":">>");this.z3()};_.GEfc.prototype.avW=function(o){this.by=!this.by;
this.z3()};_.GEfc.prototype.z3=function(o,g){var C=this.io.style.display!="none";if(o!=null){this.eo=o;
this.KU=g;if(o<1e3&&C||o>=1e3&&!C){this.anU();C=!C}this.by=o>600}else{o=this.eo;g=this.KU}var a=this.by?240+(C?this.D2+10:0):0;
if(B.Af(this.OZ)&&!this.by){this.TM.removeChild(this.io);this.TM.removeChild(this.OZ)}if(!B.Af(this.OZ)&&this.by){this.TM.appendChild(this.io);
this.TM.appendChild(this.OZ)}this.io.style.height=g+"px";this.view.z3(o-a,g);this.yK.style.height=g-this.Be.getBoundingClientRect().height-96+"px";
this.o4.e.setAttribute("style","position:absolute; top:46px;  right:"+(a+16)+"px")};_.GEfc.prototype.aeT=function(){var o=bl.zY.get("img/beach",!0)[0],g=o.m_,C=this.io,a=Math.floor(B.r()*(this.D2-40)/3),x=~~(a*.7),K=new aS(0,0,a,x),h=l.Z(a*x*4),X=h.slice(0),w=Math.round(10*B.r()),G=new ImageData(new Uint8ClampedArray(X.buffer),a,x);
l.HT(new Uint8Array(o.data),g,h,new aS(Math.round((g.m-a)/2),Math.round((g.n-x)/2),a,x));var R=B.f("canvas"),d=R.getContext("2d");
R.width=a;R.height=x+Math.round(w*1.5);d.font=w+"px sans-serif";this.$_={};var q=this.arv.bind(this);
for(var N=0;N<ey.iD.length;N++){var m=ey.iD[N],M=B.f("div");C.appendChild(M);M.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
M.textContent=fF.get(m);for(var Z in ey.names){var Q=ey.names[Z];if(Q[0]!=N)continue;ey.la(Z,{rect:K,buffer:h},ey.l3(Z),{z:0,B:0,K:0},{z:255,B:255,K:255},{rect:K,buffer:X},{});
d.fillStyle="black";d.fillRect(0,0,500,500);d.putImageData(G,0,0);var p=fF.get(Q[1]);d.fillStyle="white";
d.fillText(p,(a-d.measureText(p).width)/2,x+Math.round(w*1.1));var y=B.f("div");C.appendChild(y);y.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
y.addEventListener("click",q,!1);var M=B.f("img");y.appendChild(M);M.setAttribute("src",R.toDataURL());
M.setAttribute("style","width:"+a/B.r()+"px; margin-bottom:0px;");this.$_[Z]=y}}};_.GEfc.prototype.arv=function(o){var g;
for(var C in this.$_)if(this.$_[C]==o.currentTarget)this.t7=C;this.acP()};_.GEfc.prototype.ao=function(o){var g=bF.L7(this.um,o),C=this.Fa.GEfs.v,a=C[this.mX].v;
if(g==0){C.push(JSON.parse(JSON.stringify(C[this.mX])));this.mX=C.length-1}else if(C.length>1){C.splice(this.mX,1);
if(this.mX==C.length)this.mX--}this.w5();this.Ty()};_.GEfc.prototype.acP=function(o){var g=this.t7,C;
if(o==null)C=ey.l3(g);else C=this.Dh[g].O();this.Fa.GEfs.v[this.mX].v=C;this.w5();this.Ty()};_.GEfc.prototype.I=function(o,g,C,a,x){if(this.$_==null)this.aeT();
o=this.Fa=JSON.parse(JSON.stringify(o));if(o.GEfs==null)o=this.Fa={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:o}]}};
var K=o.GEfs.v;for(var N=0;N<K.length;N++)if(K[N].v.GELv==null)K[N].v.GELv={t:"bool",v:!0};this.mX=K.length-1;
this.w5();C=C.clone();if(g==null)return;if(!a.$s(C)&&ey.aO(o).x!=0){var h=C.ae(a),X=l.Z(h.$()*4);l.HT(g,C,X,h);
g=X;C=h}C.x=C.y=0;this.MN=g;this.Aq=g.slice(0);this.lW=C;this.Ty();this.view.x8()};_.GEfc.prototype.a4$=function(o){var g=o.data,N=g.XE,C=this.Fa.GEfs.v;
if(g.mV){C[N].v.GELv.v=!C[N].v.GELv.v;this.Ty()}else this.mX=N;this.w5()};_.GEfc.prototype.w5=function(){var o=this.Fa.GEfs.v,g=o[this.mX].v,C=g.GEfk.v.GEft,a=this.Be;
if(ey.names[C]==null){alert("Unsupported gallery filter");B.KZ(a)}else{this.t7=C;for(var x in this.$_)B.Qq(this.$_[x],"selected");
B.lK(this.$_[C],"selected");var K=this.Dh[C];K.I(g);if(a.firstChild!=K.e){B.KZ(a);a.appendChild(K.e)}}var h=[];
for(var N=0;N<o.length;N++){var X=o[N].v,w=ey.names[X.GEfk.v.GEft],G=new fL(N,!0,!0,null,w?w[1]:"Filter",N==this.mX,X.GELv.v);
G.parent=this;h.push(G.e)}B.KZ(this.yK);h.reverse();for(var N=0;N<h.length;N++)this.yK.appendChild(h[N]);
this.z3()};_.GEfc.prototype.O=function(){return JSON.parse(JSON.stringify(this.Fa))};_.GEfc.prototype.Ty=function(o){var g=this.lW,C=this.MN,a=this.Aq,x=this.t7,K=this.Fa,h=this.wq;
function X(w){return{z:w>>>16,B:w>>>8&255,K:w&255}}hb.la("GEfc",{rect:this.lW,buffer:this.MN},K,X(h.L$),X(h.KT),{rect:this.lW,buffer:this.Aq},null);
this.view.I([{m_:g,data:a.buffer}])};_.GEfc.prototype.Q=function(){for(var o in this.Dh)this.Dh[o].Q();
bF.Jc(this.um,["lrs/newlayer","lrs/bin"])};_.GEfc.AH=function(o){ar.call(this);this.iJ=o;this.e=B.f("div");
this.Nv={};var g=ey.l3(o);for(var C in g){var a=null;if(C=="__name"||C=="classID"||C=="GEfk"||C=="GELv"||["FlRs"].indexOf(C)!=-1)continue;
else if(C=="EdgW")a=new ho("Edge Width",1,14);else if(C=="EdgB")a=new ho("Edge Brightness",0,o=="AccE"?50:20);
else if(C=="Smth")a=new ho([19,3,3],1,o=="Stmp"?50:15);else if(C=="ClSz")a=new ho([12,61],3,100);else if(C=="BrdT")a=new ho([7,9],1,20);
else if(C=="HghS")a=new ho([12,64],0,20);else if(C=="HlSz")a=new ho([12,14,0],1,15);else if(C=="Cntr")a=new ho([12,3,0],0,o=="WtrP"?100:50);
else if(C=="Shrp")a=new ho("Sharpness",0,40);else if(C=="SprR")a=new ho("Spray Radius",0,25);else if(C=="LgDr")a=new ho("Light/Dark Balance",0,o=="Stmp"?50:100);
else if(C=="Drkn")a=new ho("Darkness",1,50);else if(C=="Dstr")a=new ho("Distortion",0,20);else if(C=="Scln")a=new ho([12,38],50,200);
else if(C=="Rlf")a=new ho("Relief",0,o=="Ptch"||o=="NtPr"?25:50);else if(C=="ChAm")a=new ho("Thickness",1,7);
else if(C=="Pncl")a=new ho([19,2,5],1,30);else if(C=="StrP")a=new ho("Stroke Pressure",0,15);else if(C=="PprB")a=new ho("Paper Brightness",0,50);
else if(C=="BrsS")a=new ho("Brush Size",0,10);else if(C=="BrsD")a=new ho("Brush Detail",0,10);else if(C=="Txtr")a=new ho([12,67],1,3);
else if(C=="Grn")a=new ho("Grain",0,20);else if(C=="HghA")a=new ho("Highlight Area",0,20);else if(C=="Intn")a=new ho("Intensity",0,10);
else if(C=="Brgh")a=new ho("Glow Brightness",0,o=="WtrP"?100:50);else if(C=="StrS")a=new ho("Stroke Size",1,50);
else if(C=="StDt")a=new ho("Stroke Detail",1,3);else if(C=="Sftn")a=new ho("Softness",0,10);else if(C=="EdgT")a=new ho("Edge Thickness",0,10);
else if(C=="EdgI")a=new ho("Edge Intensity",0,10);else if(C=="Pstr")a=new ho("Posterization",0,6);else if(C=="Dfnt")a=new ho("Definition",0,25);
else if(C=="TxtC")a=new ho("Texture Coverage",0,50);else if(C=="ShdI")a=new ho("Shadow Intensity",0,10);
else if(C=="DrcB")a=new ho("Direction Balance",0,100);else if(C=="Strg")a=new ho([12,64],1,3);else if(C=="Blnc")a=new ho("Balance",0,10);
else if(C=="BlcI")a=new ho("Black Intensity",0,10);else if(C=="WhtI")a=new ho("White Intensity",0,10);
else if(C=="DrkI")a=new ho("Dark Intensity",0,50);else if(C=="LghI")a=new ho("Light Intensity",0,50);
else if(C=="StrW")a=new ho("Stroke Width",3,15);else if(C=="Grns")a=new ho("Graininess",0,o=="NtPr"?20:10);
else if(C=="GlwA")a=new ho("Glow Amount",0,20);else if(C=="ClrA")a=new ho("Clear Amount",0,20);else if(C=="ChrA")a=new ho("Charcoal Area",0,20);
else if(C=="ChlA")a=new ho("Chalk Area",0,20);else if(C=="FrgL")a=new ho("Foreground Level",1,15);else if(C=="BckL")a=new ho("Background Level",1,15);
else if(C=="WhtL")a=new ho("Background Level",0,50);else if(C=="BlcL")a=new ho("Foreground Level",0,50);
else if(C=="ImgB")a=new ho("Image Balance",0,50);else if(C=="Dnst")a=new ho([12,74],0,50);else if(C=="FbrL")a=new ho("Fiber Length",3,50);
else if(C=="CrcS")a=new ho("Crack Sapcing",2,100);else if(C=="CrcD")a=new ho("Crack Depth",0,10);else if(C=="CrcB")a=new ho("Crack Brightness",0,10);
else if(C=="TlSz")a=new ho("Tile Size",2,100);else if(C=="GrtW")a=new ho("Grout Width",1,15);else if(C=="LghG")a=new ho("Lighten Grout",0,10);
else if(C=="SqrS")a=new ho("Square Size",0,10);else if(C=="RplS")a=new ho("Ripple Size",1,15);else if(C=="RplM")a=new ho("Ripple Magnitude",0,20);
else if(C=="NmbL")a=new ho("Number of Levels",2,8);else if(C=="EdgS")a=new ho("Edge Simplicity",0,10);
else if(C=="EdgF")a=new ho("Edge Fidelity",1,3);else if(C=="Sz")a=o=="NGlw"?new ho("Glow Size",-24,24):new ho("Brush Size",1,50);
else if(C=="Dtl")a=o=="Chrc"?new ho("Detail",0,5):new ho("Detail",1,15);else if(C=="StrL")a=o=="InkO"?new ho("Stroke Length",1,50):new ho("Stroke Length",0,20);
else if(C=="TxtT")a=new jz([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(C=="BrsT")a=new jz("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(C=="Grnt")a=new jz("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(C=="SDir")a=new jz([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(C=="ScrT")a=new jz([12,62],["Circle","Dot",[10,35]]);
else if(C=="LghD"||C=="LghP")a=new jz("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(C=="Clr")a=new jD("Glow Color");else if(C=="InvT")a=new eT([4,11]);else console.log(C);a.h(D.E.p,this.Ez,this);
a.parent=this;this.Nv[C]=a;this.e.appendChild(a.e)}};_.GEfc.AH.prototype=new ar;_.GEfc.AH.prototype.Ez=function(o){this.c(new jO(D.E.p,!1))};
_.GEfc.ahg="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
_.GEfc.AH.prototype.I=function(o){for(var g in this.Nv){var C;if(_.GEfc.ahg.indexOf(g)!=-1)C=o[g].v;
else if(g=="TxtT")C=ey.el.indexOf(o[g].v[g]);else if(g=="BrsT")C=ey.a20.indexOf(o[g].v[g]);else if(g=="LghD")C=ey.pu.indexOf(o[g].v[g]);
else if(g=="LghP")C=ey.Rz.indexOf(o[g].v[g]);else if(g=="Grnt")C=ey.hx.indexOf(o[g].v[g]);else if(g=="ScrT")C=ey.N2.indexOf(o[g].v[g]);
else if(g=="SDir")C=ey.HA.indexOf(o[g].v.StrD);this.Nv[g].I(C)}};_.GEfc.AH.prototype.O=function(){var o=ey.l3(this.iJ);
for(var g in this.Nv){var C=this.Nv[g].O();if(_.GEfc.ahg.indexOf(g)!=-1)o[g].v=C;else if(g=="TxtT")o[g].v[g]=ey.el[C];
else if(g=="BrsT")o[g].v[g]=ey.a20[C];else if(g=="LghD")o[g].v[g]=ey.pu[C];else if(g=="LghP")o[g].v[g]=ey.Rz[C];
else if(g=="Grnt")o[g].v[g]=ey.hx[C];else if(g=="ScrT")o[g].v[g]=ey.N2[C];else if(g=="SDir")o[g].v.StrD=ey.HA[C]}return o};
_.GEfc.AH.prototype.Q=function(){for(var o in this.Nv)this.Nv[o].Q()};_.blnc=function(){_.call(this);
var o=this.e;this.OH=null;this.wp=new jz([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.wp.h(D.E.p,this.Ty,this);
o.appendChild(this.wp.e);this.yF=[];for(var N=0;N<3;N++){var g=new ho(f6.WK[N],-100,100);g.h(D.E.p,this.y6,this);
this.yF.push(g);o.appendChild(g.e)}this.QQ=new eT([13,4]);this.QQ.h(D.E.p,this.y6,this);o.appendChild(this.QQ.e)};
_.blnc.prototype=new _;_.blnc.prototype.Q=function(){this.wp.Q();for(var N=0;N<3;N++)this.yF[N].Q();
this.QQ.Q()};_.blnc.prototype.I=function(o){this.OH=JSON.parse(JSON.stringify(o));this.Ty()};_.blnc.prototype.O=function(o){var g=["ShdL","MdtL","HghL"],C=this.OH[g[this.wp.O()]].v;
for(var N=0;N<3;N++)C[N].v=this.yF[N].O();this.OH.PrsL.v=this.QQ.O();return JSON.parse(JSON.stringify(this.OH))};
_.blnc.prototype.Ty=function(o){var g=["ShdL","MdtL","HghL"],C=this.OH[g[this.wp.O()]].v;for(var N=0;
N<3;N++)this.yF[N].I(C[N].v);this.QQ.I(this.OH.PrsL.v)};_.brit=function(){_.call(this,"brit");this.My.push(new ho([12,2],-150,150,""));
this.My.push(new ho([12,3,0],-100,100,""));this.My.push(new eT([12,3,1]));this.m3()};_.brit.prototype=new _;
_.brit.prototype.ec=function(o,g){g[0]=o.Brgh?o.Brgh.v:0;g[1]=o.Cntr?o.Cntr.v:0;g[2]=o.useLegacy?o.useLegacy.v:!1};
_.brit.prototype.AN=function(o,g){o.Brgh.v=g[0];o.Cntr.v=g[1];o.useLegacy.v=g[2]};_.curv=function(){_.call(this);
this.value=null;this.MU=null;var o=this.e;this.w8=new jz([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.w8.h(D.E.p,this.Ga,this);o.appendChild(this.w8.e);this.MB=new jz(null,["Spline","Sketch"]);this.MB.h(D.E.p,this.aoV,this);
o.appendChild(this.MB.e);this.r6=new dh;this.r6.parent=this;this.r6.h(D.E.p,this.mR,this);o.appendChild(this.r6.e);
B.zw(o);this.ag=new ge;this.ag.h(D.E.p,this.OY,this);o.appendChild(this.ag.e);this.ZE=null;this.atO=0;
this.E3=0;B.zw(o);this.k4=new ap("Sample from image",jT.fE(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.k4.h(D.E.p,this.V_,this);this.k4.e.style.marginRight="0";o.appendChild(this.k4.e)};_.curv.prototype=new _;
_.curv.prototype.z3=function(o,g){this.ag.z3(o,g)};_.curv.prototype.Q=function(){this.w8.Q()};_.curv.prototype.aoV=function(o){var g=j3.Ca(this.value,0),C=g.length==256?1:0,a=this.MB.O();
if(C==a)return;var x=hb.l3("curv");if(a==1){var K=[];for(var N=0;N<256;N++)K.push(N);j3.eV(x,0,K)}this.I(x);
this.y6()};_.curv.prototype.OY=function(){j3.eV(this.value,this.w8.O(),this.ag.O());this.y6()};_.curv.prototype.Ga=function(){var o=this.w8.O(),g=j3.Ca(this.value,o),C=g.length==256?1:0;
this.MB.I(C);if(this.MU)this.ag.iZ(this.MU[o],this.MU[4]*[1,.33,.33,.33][o],["#ccc","#fcc","#cfc","#ccf"][o]);
this.ag.I(g)};_.curv.prototype.DP=function(){return!0};_.curv.prototype.xA=function(o,g,C,a,x){var K=this.value;
this.value=hb.l3("curv");this.y6();var h=c.aG.gs(o,x,1),X=this.ZE=[h>>>16&255,h>>>8&255,h&255];this.atO=x.y;
var w=this.k4.O().indexOf(!0);if(w==0){var G=(X[0]+X[1]+X[2])/3,R=this.w8.O(),d=j3.Ca(K,R),q=R==0?G:X[R-1],m=-1;
for(var N=0;N<d.length;N++)if(d[N].v.Hrzn.v==q)m=N;if(m==-1){var M=JSON.parse(JSON.stringify(d[0]));
M.v.Hrzn.v=q;M.v.Vrtc.v=q;d.push(M);d.sort(function(Z,Q){return Z.v.Hrzn.v-Q.v.Hrzn.v});j3.eV(K,R,d);
this.E3=d.indexOf(M)}else this.E3=m}this.I(K);this.y6()};_.curv.prototype.kh=function(o,g,C,a,x){if(this.ZE==null)return;
if(this.k4.O().indexOf(!0)==0){var K=this.value,h=this.w8.O(),X=j3.Ca(K,h),w=X[this.E3];w.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(w.v.Hrzn.v+(this.atO-x.y))));
j3.eV(K,h,X);this.I(K);this.y6()}};_.curv.prototype.eO=function(o,g,C,a,x){var K=this.value,h=this.ZE,X=(h[0]+h[1]+h[2])/3,w=this.k4.O().indexOf(!0)-1;
if(w<=-1){}else for(var N=0;N<3;N++){var G=j3.Ca(K,1+N);if(w==0)G[0].v.Hrzn.v=h[N];if(w==1){var R=Math.log(h[N]/255)/Math.log(X/255),d=Math.min(999,Math.max(10,Math.round(100*R)));
if(G.length==2)G.splice(1,0,JSON.parse(JSON.stringify(G[0])));G[1].v.Hrzn.v=127-Math.log(d/100)*127;
G[1].v.Vrtc.v=127}if(w==2)G[G.length-1].v.Hrzn.v=h[N];j3.eV(K,1+N,G)}this.I(K);this.y6();this.ZE=null};
_.curv.prototype.I=function(o){this.value=o;this.Ga()};_.curv.prototype.iZ=function(o){this.MU=o;this.Ga()};
_.curv.prototype.O=function(o){return JSON.parse(JSON.stringify(this.value))};_.curv.prototype.mR=function(){var o=this.r6.O(),g=this.MU,C=this.value,a=l.UQ(o,g);
for(var N=0;N<4;N++){var x=a[N][0],K=a[N][1],h=a[N][2],X=[l.QG.bR(x,0,!0),l.QG.bR(K,255,!0)];if(h!=null)X.splice(1,0,l.QG.bR(128,h,!0));
j3.eV(C,N,X)}this.Ga();this.y6()};_.expA=function(){_.call(this,"expA");this.My.push(new ho([12,5],-20,20,null,2,!0));
this.My.push(new ho([12,6],-.5,.5,null,2));this.My.push(new ho([12,7],.01,9.99,null,2,!0));this.m3()};
_.expA.prototype=new _;_.expA.prototype.ec=function(o,g){g[0]=o.Exps.v;g[1]=o.Ofst?o.Ofst.v:0;g[2]=o.gammaCorrection?o.gammaCorrection.v:1};
_.expA.prototype.AN=function(o,g){o.Exps={t:"doub",v:g[0]};o.Ofst={t:"doub",v:g[1]};o.gammaCorrection={t:"doub",v:g[2]}};
_.grdm=function(){_.call(this,"grdm");this.My.push(new dT(!0,null,!0));this.My.push(new eT([12,23,0]));
this.m3()};_.grdm.prototype=new _;_.grdm.prototype.ec=function(o,g){g[0]=o.Grad.v;g[1]=o.Rvrs?o.Rvrs.v:!1};
_.grdm.prototype.AN=function(o,g){o.Grad.v=g[0];o.Rvrs={t:"bool",v:g[1]}};_.grdm.prototype.Xt=function(o,g){this.My[0].gQ(o.L$,o.KT);
if(g==e1.B3||g==e1.Zr||g==e1.W2)this.My[0].Fs(o.mh)};_.selc=function(){_.call(this);var o=this.e;this._m=[];
this.SF=null;this.wp=new jz([12,82],f6.cQ.concat([[13,1,8],[13,1,13],[13,1,10]]));this.wp.h(D.E.p,this.Ez,this);
o.appendChild(this.wp.e);B.zw(o);for(var N=0;N<4;N++){var g=new ho(f6.a7G[N],-100,100,"%");g.h(D.E.p,this.Ez,this);
this._m.push(g);o.appendChild(g.e)}this.fn=new eT([13,3]);o.appendChild(this.fn.e);this.fn.h(D.E.p,this.Ez,this)};
_.selc.prototype=new _;_.selc.prototype.Q=function(){this.wp.Q();this.fn.Q();for(var N=0;N<4;N++)this._m[N].Q()};
_.selc.prototype.I=function(o){this.SF=JSON.parse(JSON.stringify(o));this.Ty()};_.selc.prototype.O=function(o){return JSON.parse(JSON.stringify(this.SF))};
_.selc.prototype.Ez=function(o){if(o.target!=this.wp){var g=this.SF,C=[];for(var N=0;N<4;N++)C[N]=this._m[N].O();
hp.eV(g,this.wp.O(),C);g.Mthd={t:"enum",v:{CrcM:this.fn.O()?"Absl":"Rltv"}}}this.Ty();this.y6()};_.selc.prototype.Ty=function(){var o=this.SF,g=hp.Ca(o,this.wp.O());
for(var N=0;N<4;N++)this._m[N].I(g[N]);this.fn.I(o.Mthd?o.Mthd.v.CrcM=="Absl":!1)};_.blwh=function(){_.call(this,"blwh");
this.My.push(new eT([12,11]));this.My.push(new jD(!0));for(var N=0;N<6;N++)this.My.push(new ho(f6.cQ[N],-200,300));
this.m3()};_.blwh.prototype=new _;_.blwh.prototype.ec=function(o,g){g[0]=o.useTint.v;g[1]=o.tintColor.v;
var C="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var N=0;N<6;N++)g[2+N]=o[C[N]].v};_.blwh.prototype.AN=function(o,g){o.useTint.v=g[0];
o.tintColor.v=g[1];var C="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var N=0;N<6;N++)o[C[N]].v=g[2+N]};
_.hue2=function(){_.call(this);this.value=null;this.pp=null;this.aiZ=null;this.TC=[[0,0,0],[0,50,0]];
var o=this.e;this.k4=new ap(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.k4.h(D.E.p,this.ag7,this);this.k4.h(D.E.p,this.V_,this);o.appendChild(this.k4.e);var g=this.My=[new jz([12,12],["Master"].concat(f6.cQ)),new ho([12,8],-180,180),new ho([12,9],-100,100),new ho([12,10],-100,100),new eT([12,11])];
for(var N=0;N<g.length;N++){var C=g[N];C.h(D.E.p,N==0?this.Ga:this.at6,this);o.appendChild(C.e)}this.wp=g[0];
this.VQ=g[1];this.U6=g[2];this.Da=g[3];this._0=g[4];this.H4=new ap("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.H4.h(D.E.p,this.ag7,this);this.H4.h(D.E.p,this.V_,this);this.H4.e.style.marginLeft="20px";o.appendChild(this.H4.e);
this.nY=B.f("div");o.appendChild(this.nY);this.DN=this.wZ.bind(this);this.z9=this.Px.bind(this);this.J=B.f("canvas");
this.$A=this.J.getContext("2d");this._n=null;B.G1(this.J);B.SZ(this.J,282,18);o.appendChild(this.J);
B.sa(this.J,this.Ww.bind(this))};_.hue2.prototype=new _;_.hue2.prototype.z3=function(o,g){B.SZ(this.J,Math.round(o),18);
if(this.value)this.Ga()};_.hue2.prototype.ag7=function(o){var g=o.target.O().indexOf(!0);if(g==-1)return;
if(o.target==this.k4)this.H4.I([!1,!1,!1]);else this.k4.I([!1,!1,!1])};_.hue2.prototype.Ww=function(o){if(this.wp.O()==0||this._0.O())return;
var g=B.Iw(o,this.J).x/(this.J.width/B.r()),K=1e6;function C(d,q,m){return d<q&&q<m||m<d&&(d<q||q<m)}var a=this.eE(),x=-1;
for(var N=0;N<4;N++){var h=Math.abs(g-(a[N]+N*1e-5));if(h<K){K=h;x=N}}if(K>.025){x=-1;var X=a[0],w=a[1],G=a[2],R=a[3];
if(C(X,g,w))x=4;if(C(w,g,G))x=5;if(C(G,g,R))x=6}if(x==-1)return;this._n=x;B._C(document.body,this.DN);
B.aw(document.body,this.z9)};_.hue2.prototype.wZ=function(o){var g=B.Iw(o,this.J).x/(this.J.width/B.r()),C=this.eE(),a=this._n;
for(var N=1;N<4;N++)if(C[N]<C[N-1]){C[N]+=1}if(a<4){var x=1e6,K=0;for(var N=-20;N<20;N++){var h=Math.abs(C[a]-(g+N));
if(h<x){x=h;K=N}}g+=K;C[a]=g;for(var N=a+1;N<4;N++)if(C[N]<C[N-1]){C[N]=C[N-1]}for(var N=a-1;N>=0;N--)if(C[N]>C[N+1]){C[N]=C[N+1]}}else{var X=g-(C[a-4]+C[a-3])/2;
if(X<-.5)X+=1;if(a==4){C[0]+=X;C[1]+=X;C[2]=Math.max(C[1],C[2]);C[3]=Math.max(C[1],C[3])}if(a==5)for(var N=0;
N<4;N++)C[N]+=X;if(a==6){C[2]+=X;C[3]+=X;C[0]=Math.min(C[0],C[2]);C[1]=Math.min(C[1],C[2])}}for(var N=1;
N<4;N++)if(C[N]<C[N-1])throw"e";this.adA(C);this.Ga();this.y6()};_.hue2.prototype.Px=function(o){B.gK(document.body,this.DN);
B.lZ(document.body,this.z9)};_.hue2.prototype.Q=function(){for(var N=0;N<this.My.length;N++)this.My[N].Q()};
_.hue2.prototype.at6=function(o){var g=this.value.Clrz.v=this._0.O();if(g)this.wp.I(0);if(o&&o.target==this._0){var C=g?1:0;
this.TC[1-C]=aw.Ca(this.value,0);var a=this.TC[C];aw.eV(this.value,0,a);if(this.wp.O()==0){this.VQ.I(a[0]);
this.U6.I(a[1]);this.Da.I(a[2])}}var x=this.wp.O(),K=aw.Ca(this.value,x),a=x==0?K:K.yF;a[0]=this.VQ.O();
var h=this.U6.O();a[1]=g?Math.max(0,h):h;a[2]=this.Da.O();aw.eV(this.value,x,K);this.Ga();this.y6()};
_.hue2.prototype.Ga=function(){var o=this.wp.O(),g=this.value.Clrz?this.value.Clrz.v:!1;this._0.I(g);
this.wp.ZB(!g);this.H4.ZB(!g&&o!=0);var C=aw.Ca(this.value,o),a=o==0?C:C.yF;this.VQ.I(a[0]);this.U6.I(a[1]);
this.Da.I(a[2]);var x=this.J.width,K=this.J.height,h=this.$A;h.clearRect(0,0,x,K);if(g||o==0){this.nY.innerHTML="";
return}var X=C.vU;this.nY.innerHTML=X[0]+"\xB0 / "+X[1]+"\xB0<span style=\"float:right\">"+X[2]+"\xB0 \\ "+X[3]+"\xB0</span>";
var w=l.Z(x*4);bx.anq(w,1,x,-1,.5);var G=new ImageData(new Uint8ClampedArray(w.buffer),x,1),R=Math.round(K/4);
for(var N=0;N<R;N++)h.putImageData(G,0,N);function d(p,y,V){h.fillStyle=V;var W=R*2;if(p<=y)h.fillRect(p*x,W,(y-p)*x,R);
else{h.fillRect(0,W,y*x,R);h.fillRect(p*x,W,(1-p)*x,R)}}var q=this.eE();d(q[0],q[1],"#888888");d(q[1],q[2],"#cccccc");
d(q[2],q[3],"#888888");h.fillStyle="#ffffff";h.lineWidth=1;h.beginPath();var m=R+.5,M=4*R+.5;for(var N=0;
N<4;N++){var Z=Math.floor(x*q[N])+.5,Q=(N<2?-1:1)*R*(N==1||N==2?1:2);h.moveTo(Z,m);h.lineTo(Z,M);h.lineTo(Z+Q,M);
h.lineTo(Z+Q,R+R+.5);h.closePath()}h.fill();h.stroke()};_.hue2.prototype.eE=function(){var o=this.wp.O(),g=aw.Ca(this.value,o).vU;
for(var N=0;N<4;N++)g[N]=(1000.5+g[N]/360)%1;return g};_.hue2.prototype.adA=function(o){var g=this.wp.O(),C=aw.Ca(this.value,g);
for(var N=0;N<4;N++)C.vU[N]=Math.round(36e3+(o[N]-.5)*360)%360;aw.eV(this.value,g,C)};_.hue2.prototype.DP=function(){return!0};
_.hue2.prototype.a24=function(){var o=this.k4.O().indexOf(!0),g=this.H4.O().indexOf(!0);return o!=-1?o:g!=-1?g+1:-1};
_.hue2.prototype.xA=function(o,g,C,a,x){var K=this.a24();if(K==-1)return;var h=this.value;this.value=hb.l3("hue2");
this.y6();var X=c.aG.gs(o,x,1);this.I(h);var w=[X>>>16&255,X>>>8&255,X&255],G=l.br(w[0]/255,w[1]/255,w[2]/255);
if(K==0){this.wp.I(1+Math.round(G.fB*6)%6)}else{var R=this.eE(),d=.5+G.fB,q=1/12,m=R[1],M=R[2];if(M<m){M++;
if(d<m&&d+1-M<m-d)d++}var Z=m<=d&&d<=M;if(K==1){m=d-q/2;M=d+q/2}else if(K==2&&!Z){m=Math.min(d,m);M=Math.max(d,M)}else if(K==3&&Z){if(d-m<M-d)m=d;
else M=d}R=[m-q,m,M,M+q];this.adA(R)}this.y6();this.pp=x.x;this.aiZ=this.U6.O()};_.hue2.prototype.kh=function(o,g,C,a,x){var K=this.a24();
if(K==-1)return;if(K==0){if(this.pp!=null){var h=x.x-this.pp;h=Math.max(-100,Math.min(100,this.aiZ+.5*h));
this.U6.I(h);this.at6()}}};_.hue2.prototype.eO=function(o,g,C,a,x){this.pp=null};_.hue2.prototype.I=function(o){this.value=JSON.parse(JSON.stringify(o));
var g=this.value.Clrz?this.value.Clrz.v:!1;this.TC[g?1:0]=aw.Ca(this.value,0);this.Ga()};_.hue2.prototype.O=function(o){return JSON.parse(JSON.stringify(this.value))};
_.levl=function(){function o(){_.call(this);this.value=null;this.MU=null;this.RZ=[new eN(0,0),new eN(0,0),new eN(0,0),new eN(0,0),new eN(0,0)];
this.KJ=-1;this.DN=this.wZ.bind(this);this.z9=this.Px.bind(this);var g=this.e;this.w8=new jz([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.w8.h(D.E.p,this.Ga,this);g.appendChild(this.w8.e);this.r6=new dh;this.r6.parent=this;this.r6.h(D.E.p,this.mR,this);
g.appendChild(this.r6.e);var C=B.f("div","");g.appendChild(C);var a=B.f("div","");g.appendChild(a);this.J=B.f("canvas");
C.appendChild(this.J);this.$A=this.J.getContext("2d");this.aP=new eN(256,120);this.J.setAttribute("style","display:block");
B.G1(this.J);B.sa(this.J,this.Ww.bind(this));this.dL=B.f("canvas","");a.appendChild(this.dL);this.z4=this.dL.getContext("2d");
this.wF=new eN(this.aP.x,40);this.dL.setAttribute("style","display:block");B.G1(this.dL);B.sa(this.dL,this.agj.bind(this));
var x=this.wx=[];for(var N=0;N<5;N++){var K=new h$(null,null,3);x.push(K);K.h(D.E.p,this.adv,this);(N<2||N==4?C:a).appendChild(K.e)}C.appendChild(x[1].e);
this.k4=new ap("Sample from image",jT.fE(["#000000","#888888","#ffffff"]),!0,null,!0);this.k4.h(D.E.p,this.V_,this);
g.appendChild(this.k4.e);this.z3(250,100)}o.prototype=new _;o.prototype.mR=function(){var g=this.r6.O(),C=this.MU,a=this.value,x=l.UQ(g,C);
for(var N=0;N<4;N++){var K=x[N][0],h=x[N][1],X=x[N][2],w=[l.QG.bR(K,0,!0),l.QG.bR(h,255,!0)];if(X!=null)w.splice(1,0,l.QG.bR(128,X,!0));
var G=[~~K,~~h,0,255,X==null?100:~~(100+.75*100*(X-128)/128)];h5.eV(a,N,G)}this.Ga();this.y6()};o.prototype.z3=function(g,C){g+=6;
this.aP.x=this.wF.x=g;B.SZ(this.J,g,this.aP.y,this.$A);B.SZ(this.dL,g,this.wF.y,this.z4);var a=this.wx;
a[3].e.setAttribute("style","margin-left: "+(g-104)+"px");a[4].e.setAttribute("style","margin: 0 "+(g/2-74)+"px");
if(this.value)this.Ga()};o.prototype.Q=function(){this.w8.Q()};o.prototype.adv=function(g){var C=[];
for(var N=0;N<5;N++){var a=255,x=1;if(N==4){a=999;x=100}var K=parseFloat(this.wx[N].O());C[N]=Math.max(0,Math.min(a,K*x))}h5.eV(this.value,this.w8.O(),C);
this.Ga();this.y6()};o.prototype.Ga=function(g){var C=this.aP.x,a=this.aP.y,x=this.w8.O(),K=this.$A;
K.clearRect(0,0,C,a);K.fillStyle="#cccccc";K.fillRect(8,8,C-16,a-16-8);if(this.MU){var h=this.MU[0].slice(0),M=0;
if(x==0){h.fill(0);var X=JSON.parse(JSON.stringify(this.value));h5.eV(X,0,[0,255,0,255,100]);var w=f6.v4("levl",X),G=[w.v5,w.Qh,w.O6];
for(var R=0;R<3;R++){var d=this.MU[1+R],q=G[R];for(var N=0;N<256;N++)h[q[N]]+=d[N]}}var m=x==0?h:this.MU[x];
for(var N=0;N<m.length;N++)M+=m[N];K.fillStyle="#333333";K.beginPath();K.moveTo(8,a-16);for(var N=0;
N<256;N++){var Z=55*m[N]/M;K.lineTo(8+N/256*(C-16),Math.max(8,a-16-a*Z))}K.lineTo(C-8,a-16);K.closePath();
K.fill()}var Q=h5.Ca(this.value,x);for(var N=0;N<5;N++)this.wx[N].I(Q[N]/(N==4?100:1));this.RZ[0].fR(8+Q[0]/255*(C-16),a-14);
this.RZ[1].fR(8+Q[1]/255*(C-16),a-14);var p=Math.log(Q[4]/100)/Math.log(9.99);p=.5-p/2;this.RZ[4].fR(this.RZ[0].x+p*(this.RZ[1].x-this.RZ[0].x),a-14);
this.bp(K,this.RZ[0],"#000000");this.bp(K,this.RZ[1],"#ffffff");this.bp(K,this.RZ[4],"#777777");var C=this.wF.x,a=this.wF.y;
K=this.z4;K.clearRect(0,0,C,a);var y=K.createLinearGradient(0,0,C-16,0);y.addColorStop(0,"black");y.addColorStop(1,"white");
K.fillStyle=y;K.fillRect(8,8,C-16,16);this.RZ[2].fR(8+Q[2]/255*(C-16),a-14);this.RZ[3].fR(8+Q[3]/255*(C-16),a-14);
this.bp(K,this.RZ[2],"#000000");this.bp(K,this.RZ[3],"#ffffff")};o.prototype.bp=function(g,C,a){g.fillStyle=a;
g.fillRect(C.x-5,C.y,10,10)};o.prototype.Ww=function(g){var C=B.Iw(g,this.J),a=this.ama([0,1,4],C);if(a!=-1)this.KJ=a;
this.ajF()};o.prototype.agj=function(g){var C=B.Iw(g,this.dL),a=this.ama([2,3],C);if(a!=-1)this.KJ=a;
this.ajF()};o.prototype.ama=function(g,C){var a=-1,x=1e9;for(var N=0;N<g.length;N++){var K=Math.abs(this.RZ[g[N]].x-C.x);
if(K<x){x=K;a=g[N]}}return x<16?a:-1};o.prototype.ajF=function(g){if(this.KJ==-1)return;B._C(document.body,this.DN);
B.aw(document.body,this.z9)};o.prototype.wZ=function(g){var C=h5.Ca(this.value,this.w8.O()),a=B.Iw(g,this.KJ==2&&this.KJ==3?this.dL:this.J),x=255*(a.x-8)/(this.aP.x-16);
x=Math.max(0,Math.min(255,x));if(this.KJ==0)x=Math.min(x,C[1]-2);if(this.KJ==1)x=Math.max(x,C[0]+2);
if(this.KJ!=4)C[this.KJ]=Math.round(x);else{var K=(x-C[0])/(C[1]-C[0]);K=1-2*K;K=Math.pow(9.99,K);C[4]=Math.min(999,Math.max(10,Math.round(K*100)))}h5.eV(this.value,this.w8.O(),C);
this.Ga();this.y6()};o.prototype.Px=function(g){B.gK(document.body,this.DN);B.lZ(document.body,this.z9);
this.KJ=-1};o.prototype.DP=function(){return!0};o.prototype.eO=function(g,C,a,x,K){var h=this.value,X=this.k4.O().indexOf(!0);
if(X==-1)return;this.value=hb.l3("levl");this.y6();var w=c.aG.gs(g,K,1),G=[w>>>16&255,w>>>8&255,w&255];
for(var N=0;N<3;N++){var R=h5.Ca(h,1+N);if(X==0)R[0]=G[N];if(X==1){var d=Math.log(G[N]/255)/Math.log((G[0]+G[1]+G[2])*.333/255);
R[4]=Math.min(999,Math.max(10,Math.round(100*d)))}if(X==2)R[1]=G[N];h5.eV(h,1+N,R)}this.I(h);this.y6()};
o.prototype.I=function(g){this.value=g;this.Ga()};o.prototype.iZ=function(g){this.MU=g;this.Ga()};o.prototype.O=function(g){return JSON.parse(JSON.stringify(this.value))};
return o}();_.phfl=function(){_.call(this,"phfl");this.My.push(new jD);this.My.push(new ho([12,74],0,100,"%"));
this.My.push(new eT([13,4]));this.m3()};_.phfl.prototype=new _;_.phfl.prototype.ec=function(o,g){g[0]=o.Clr.v;
g[1]=o.Dnst.v;g[2]=o.PrsL.v};_.phfl.prototype.AN=function(o,g){var C=l.T.Xh(g[0]),a=o.Clr.v,x=l.Kj(C.z,C.B,C.K);
a.Lmnc.v=x.pY;a.A.v=x.Bk;a.B.v=x.K;o.Dnst.v=g[1];o.PrsL.v=g[2]};_.vibA=function(){_.call(this,"vibA");
this.My.push(new ho([12,13],-100,100,null));this.My.push(new ho([12,9],-100,100,null));this.m3()};_.vibA.prototype=new _;
_.vibA.prototype.ec=function(o,g){g[0]=o.vibrance?o.vibrance.v:0;g[1]=o.Strt?o.Strt.v:0};_.vibA.prototype.AN=function(o,g){o.vibrance.v=g[0];
o.Strt.v=g[1]};_.thrs=function(){_.call(this,"thrs");this.My.push(new ho([4,13],1,255,null));this.m3()};
_.thrs.prototype=new _;_.thrs.prototype.ec=function(o,g){g[0]=o.Lvl.v};_.thrs.prototype.AN=function(o,g){o.Lvl.v=g[0]};
_.mixr=function(){_.call(this);var o=this.e;this._m=[];this.SF=null;this.wp=new jz([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.wp.h(D.E.p,this.Ez,this);o.appendChild(this.wp.e);B.zw(o);this.wl=new eT([12,60]);o.appendChild(this.wl.e);
this.wl.h(D.E.p,this.Ez,this);for(var N=0;N<4;N++){var g=new ho([[13,1,1],[13,1,4],[13,1,5],[13,2]][N],-200,200,"%");
g.h(D.E.p,this.Ez,this);this._m.push(g);o.appendChild(g.e)}};_.mixr.prototype=new _;_.mixr.prototype.Q=function(){this.wp.Q();
this.wl.Q();for(var N=0;N<4;N++)this._m[N].Q()};_.mixr.prototype.I=function(o){this.SF=JSON.parse(JSON.stringify(o));
this.Ty()};_.mixr.prototype.O=function(o){return JSON.parse(JSON.stringify(this.SF))};_.mixr.prototype.Ez=function(o){if(o.target!=this.wp){var g=f6.WI(this.SF);
if(o.target==this.wl){g.wl=this.wl.O();if(g.wl)g.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else g.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var C=(g.wl?0:this.wp.O())*5,N=this._m.indexOf(o.target);
g.k[C+(N<3?N:4)]=o.target.O()}this.SF=f6.av2(g)}this.Ty();this.y6()};_.mixr.prototype.Ty=function(){var o=f6.WI(this.SF);
this.wl.I(o.wl);var g=(o.wl?0:this.wp.O())*5;for(var N=0;N<4;N++)this._m[N].I(o.k[g+(N<3?N:4)])};_.post=function(){_.call(this,"post");
this.My.push(new ho([4,1],2,255,null));this.m3()};_.post.prototype=new _;_.post.prototype.ec=function(o,g){g[0]=o.Lvls.v};
_.post.prototype.AN=function(o,g){o.Lvls.v=g[0]};_.clrL=function(){_.call(this,"clrL");this.My.push(new jJ("LUTs"));
this.m3()};_.clrL.prototype=new _;_.clrL.prototype.ec=function(o,g){g[0]=o};_.clrL.prototype.AN=function(o,g){var C=g[0];
for(var a in C)o[a]=C[a]};_.clrL.prototype.Xt=function(o,g){if(g==e1.B3||g==e1.Xi)this.My[0].Fs(o.a4t)};
_.rplc=function(){_.call(this,"rplc");this.My.push(new ho([12,92],0,200));this.My.push(new jD);this.My.push(new ho([12,8],-180,180));
this.My.push(new ho([12,9],-100,100));this.My.push(new ho([12,10],-100,100));this.m3()};_.rplc.prototype=new _;
_.rplc.prototype.ec=function(o,g){g[0]=o.Fzns.v;g[1]=o.Mxm.v;g[2]=o.H.v;g[3]=o.Strt.v;g[4]=o.Lght.v};
_.rplc.prototype.AN=function(o,g){function C(x,K){K.Lmnc.v=x.pY;K.A.v=x.Bk;K.B.v=x.K}o.Fzns.v=g[0];o.H.v=g[2];
o.Strt.v=g[3];o.Lght.v=g[4];var a=l.T.Xh(g[1]),x=l.Kj(a.z,a.B,a.K);C(x,o.Mnm.v);C(x,o.Mxm.v)};_.fade=function(){_.call(this,"fade");
this.My.push(new ho([12,0],0,100,"%"));this.My.push(new jz([12,19,0],cP.sz,!1,cP.Hm));this.m3()};_.fade.prototype=new _;
_.fade.prototype.ec=function(o,g){g[0]=o.Opct.v.val;g[1]=cP.J1.indexOf(o.Md.v.BlnM)};_.fade.prototype.AN=function(o,g){o.Opct.v.val=g[0];
o.Md.v.BlnM=cP.J1[g[1]]};_.aply=function(){var o=cP.J1.concat(["Add","Sbtr"]);o.splice(21,1);var g=cP.sz.concat([[15,10,28],[15,10,21]]);
g.splice(21,1);var C=cP.Hm.slice(0);C[4]--;function a(){_.call(this,"aply");this.My.push(new jz([0,3],[]));
this.My.push(new jz([12,4],["RGB"].concat(f6.WK).concat(["Transparency"])));this.My.push(new eT([4,11]));
this.My.push(new jz([12,19,0],g,!1,C));this.My.push(new ho([12,0],0,100,"%"));this.My.push(new e8([12,38],1,2,null,2));
this.My.push(new e8([12,6],-255,255));this.My.push(new eT([13,5]));this.m3([2]);this.dn=null}a.prototype=new _;
a.prototype.ec=function(x,K,h){if(h){var X=h[2].g,w=this.dn=[];for(var N=0;N<X.length;N++){var G=X[N].getName();
w.push(G.length<30?G:G.slice(0,27)+"...")}w.reverse();this.My[0].e5([[5,7]].concat(w),[1,w.length])}else var w=this.dn;
x=x.With.v;var R=x.T.v;K[0]=R[1].t=="name"?1+w.indexOf(R[1].v.val):0;K[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(R[0].v.enum);
K[2]=x.Invr.v;var d=x.Clcl.v.Clcn;K[3]=o.indexOf(d);K[4]=x.Opct.v.val;K[5]=x.Scl.v;K[6]=x.Ofst.v;K[7]=x.PrsT.v};
a.prototype.AN=function(x,K){x=x.With.v;var h=x.T.v;if(K[0]==0)h[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else h[1]={t:"name",v:{classID:"Lyr",val:this.dn[K[0]-1]}};h[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][K[1]];
x.Invr.v=K[2];var X=x.Clcl.v.Clcn=o[K[3]];x.Opct.v.val=K[4];x.Scl.v=K[5];x.Ofst.v=K[6];x.PrsT.v=K[7];
var w=X=="Add"||X=="Sbtr";this.My[5].ZB(w);this.My[6].ZB(w)};return a}();_.matc=function(){var o,g,C=0;
function a(){_.call(this,"matc");this.My.push(new ho("Luminance",1,200));this.My.push(new ho("Color Intensity",1,200));
this.My.push(new ho([2,11],0,100,"%"));this.My.push(new eT("Neutralize"));this.My.push(new jz([12,70],[]));
this.My.push(new jz([0,3],[]));this.m3([2])}function x(K,h){K.My[5].e5([[5,7]].concat(h),[1,h.length])}a.prototype=new _;
a.prototype.ec=function(K,h,X){C=0;h[0]=K.Lght.v;h[1]=K.ClrR.v;h[2]=K.Fade.v;h[3]=K.neutralizeColor?K.neutralizeColor.v:!1;
h[4]=h[5]=0;var w=K.Srce;if(w)w=w.v;if(X){o=[];g=[];var G=X[2],R=X[3];for(var N=0;N<R.length;N++){var d=R[N];
o.push(d.name);var q=d.g,m=[];g.push(m);for(var M=0;M<q.length;M++)m.push(q[M].getName());m.reverse()}this.My[4].e5([[13,1,0]].concat(o),[1,o.length]);
var Z=R.indexOf(G);if(w)Z=o.indexOf(w[1].v.val);x(this,g[Z])}if(w){var Q=o.indexOf(w[1].v.val);h[3]=C=1+Q;
if(w[0].t=="name")h[4]=1+g[Q].indexOf(w[0].v.val)}};a.prototype.AN=function(K,h){K.Lght.v=h[0];K.ClrR.v=h[1];
K.Fade.v=h[2];K.neutralizeColor.v=h[3];if(h[4]==0){K.noReference={t:"bool",v:!0};delete K.Srce}else{if(h[4]!=C){C=h[4];
x(this,g[h[4]-1])}delete K.noReference;var X={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},w=g[h[4]-1];
if(h[5]!=0)X={t:"name",v:{classID:"Lyr",val:w[h[5]-1]}};K.Srce={t:"obj ",v:[X,{t:"name",v:{classID:"Dcmn",val:o[h[4]-1]}}]}}};
return a}();function g8(o,g){ar.call(this);if(o==null)return;this.id=g;this.cd=o;this.ql=null;this.e=B.f("div","window "+g);
this.a3O=null;this.Ri=B.f("div","whead");this.alk=B.f("span","wname");this.Ri.appendChild(this.alk);
this.e.appendChild(this.Ri);this.l5=this.ajy.bind(this);this.iu=this.ahP.bind(this);this._q=this.apQ.bind(this);
B.G1(this.Ri);B.sa(this.Ri,this.l5);this.Jy=B.f("span","cross");this.Ri.appendChild(this.Jy);g8.prototype.Q.call(this);
B.aw(this.Jy,this.ame.bind(this));this.body=B.f("div","body");this.e.appendChild(this.body)}g8.prototype=new ar;
g8.prototype.rJ=function(){return!1};g8.prototype.DP=function(){return!1};g8.prototype.Q=function(){if(this.cd==null)return;
this.alk.textContent=fF.get(this.cd);var o=PIMG.__cross==null?"filter:invert(1);":"";this.Jy.setAttribute("style","background-image:url("+PIMG.cross+");"+o)};
g8.prototype.xA=function(o,g,C,a,x){};g8.prototype.Pg=function(o,g,C,a,x){};g8.prototype.kh=function(o,g,C,a,x){};
g8.prototype.eO=function(o,g,C,a,x){};g8.prototype.qG=function(o,g,C,a,x){};g8.prototype.Uh=function(o,g,C,a){if(a.a(c_.kD)&&this.GU)this.GU();
if(a.a(c_.Ns)){var x=new jO(D.E.q);x.on=!0;c.yd.a0y(a,x);if(x.data)g.c(x)}};g8.prototype.td=function(o){return!1};
g8.prototype.xP=function(o,g){return!0};g8.prototype.Tk=function(o,g,C,a){};g8.prototype.Xt=function(o,g){};
g8.prototype.ir=function(o,g){return null};g8.prototype.adL=function(o){return this.a3O};g8.prototype.z3=function(){};
g8.prototype.close=function(){this.c(new jO(D.E.mT))};g8.prototype.ajy=function(o){this.ql=B.Iw(o,this.e);
B._C(window,this.iu);B.aw(window,this._q)};g8.prototype.ahP=function(o){var g=this.e.parentNode,C=B.Iw(o,g),a=Math.round(C.x-this.ql.x),x=g.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(C.y-this.ql.y)));
this.a3O=new eN(a,x);this.e.style.left=a+"px";this.e.style.top=x+"px"};g8.prototype.apQ=function(o){B.gK(window,this.iu);
B.lZ(window,this._q)};g8.prototype.ame=function(o){this.c(new jO("closebtn"));this.close()};function j_(){g8.call(this,"About Photopea","aboutpp");
var o=B.f("div","flexrow");this.body.appendChild(o);var g=this.amn=B.f("img");o.appendChild(g);this.body.setAttribute("style","margin:0; padding:0");
var C=this.aj1=B.f("div");C.innerHTML=j_.Sq;o.appendChild(C);var a=this.Og=B.f("span");a.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(a)}j_.prototype=new g8;j_.prototype.ir=function(o,g){return new eN(0,0)};j_.prototype.z3=function(o,g){var C=this.amn,a=this.aj1,x=this.Og,K=(o+g-42-42)/110;
K=Math.sqrt((o-42)*(g-42))/50;C.setAttribute("style","width:"+o/2+"px; height:"+g+"px; display:block; object-fit:cover;");
a.setAttribute("style","width:"+(o/2-42)+"px; height:"+(g-42)+"px; padding:20px; font-size:"+K+"px;");
x.setAttribute("style","position:absolute;  bottom:10px; right:"+(o/2+10)+"px")};j_.prototype.Q=function(){};
j_.prototype.Tk=function(o,g,C,a){this.amn.setAttribute("src","promo/ivan_pp.webp")};j_.Sq="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function dR(){g8.call(this,[0,13,0],"account");this.sR=B.f("div","form scrollable");this.body.appendChild(this.sR);
this.body.style.padding="0";this.XB=[new dR.UL,new dR.cE("::privacy.html"),new dR.cE(dR.a3u)];for(var N=0;
N<this.XB.length;N++)this.XB[N].parent=this;this.h("showpage",this.alL,this)}dR.prototype=new g8;dR.prototype.xP=function(o,g){var C=navigator.onLine;
if(!C)alert("Go online first");return C};dR.prototype.z3=function(o,g){this.sR.setAttribute("style","width:"+Math.min(o-40,740)+"px;  height:"+(g-38)+"px;  padding:1.5em;");
this.XB[0].z3(o,g)};dR.prototype.ir=function(o,g){return new eN(Math.max(0,Math.min(150,(o-740)/2)),Math.max(0,Math.min(100,(g-500)/2)))};
dR.prototype.alL=function(o){B.KZ(this.sR);this.sR.scrollTop=0;this.sR.appendChild(this.XB[o.data.XE].e)};
dR.prototype.Q=function(){g8.prototype.Q.call(this);for(var N=0;N<this.XB.length;N++)this.XB[N].Q()};
dR.prototype.Tk=function(o,g,C){if(!navigator.onLine)return;B.KZ(this.sR);var a=this.XB[0];this.sR.appendChild(a.e);
a.Tk();this.Q()};dR.prototype.Xt=function(o,g){this.Tk(null,null,null)};dR.UL=function(){ar.call(this);
this.e=B.f("div");var o=this.e,X,w,R="font-size:1.25em;",d="text-align:center;",m="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",M="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",Z="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",p=12;
this.wj=B.f("div");o.appendChild(this.wj);this.KC=new hs([0,11],!1,null,!0);this.KC.e.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.KC.h("click",this.bv,this);o.appendChild(this.KC.e);this.ny=new hs([0,13,1],!1,null,!0);this.ny.h("click",this.a9w,this);
o.appendChild(this.ny.e);this.Pb=new hs("Business Terms",!1,null,!0);this.Pb.h("click",this.auw,this);
o.appendChild(this.Pb.e);var g=B.f("div");g.style.margin="20px 0";o.appendChild(g);var C=["Account Types","Go Premium","Team Settings","Distributors"],a=this.i5=[],x=this.ar6=[],K=this.B9=B.f("div");
o.appendChild(K);for(var N=0;N<C.length;N++){var h=B.f("span");h.textContent=C[N];g.appendChild(h);a.push(h);
h.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
h.addEventListener("click",this.FW.bind(this));x.push(B.f("div"))}this.FW(0);var G=this.ae1="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
o=x[0];var w=B.f("table"),q="style=\" "+d+R+" padding-bottom:20px;\"";w.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+Z+">\t\t\t\t\t<div "+q+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+M+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+Z+">\t\t\t\t\t<div "+q+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+M+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+M+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+M+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+M+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
o.appendChild(w);var h=new hs("Go Premium");h.e.setAttribute("style",G+"padding:10px 0;");h.h("click",function(W){this.FW(1)},this);
w.children[0].children[1].children[1].appendChild(h.e);this.ui=B.f("div");o.appendChild(this.ui);o=x[1];
var Q=this.a7u=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.RJ=[];for(var N=0;N<Q.length;N++)this.RJ.push(new hs("Buy: $"+Q[N][0],!1,null,!0));for(var N=0;
N<this.RJ.length;N++){this.RJ[N].h("click",this.a6h,this)}this.S5=new hs("...",!0);this.S5.e.setAttribute("style",G);
o.appendChild(this.S5.e);w=this.acM(4,["Single user",this.RJ[0],this.RJ[1],this.RJ[2],"Team of 5",this.RJ[3],this.RJ[4],this.RJ[5],"Team of 20",this.RJ[6],this.RJ[7],this.RJ[8],"Team of 50",this.RJ[9],this.RJ[10],this.RJ[11]]);
o.appendChild(w);this.auA=new eT("I accept",!0,"");o.appendChild(this.auA.e);this.Jq=new hs([0,13,1],!1,null,!0);
this.Jq.h("click",this.a9w,this);o.appendChild(this.Jq.e);this.JP=new hs("I have a key",!1,null,!0);
this.JP.e.setAttribute("style",G+" float:right; width:inherit;");this.JP.h("click",this.a6h,this);o.appendChild(this.JP.e);
o=x[2];this.L4=new iV;this.L4.parent=this;this.L4.h(D.E.p,this.He,this);o.appendChild(this.L4.e);o=x[3];
this.gO=new hs("...",!0);this.gO.e.setAttribute("style",G);o.appendChild(this.gO.e);w=this.acM(3,["1000 views/mo",this.RJ[p++],this.RJ[p++],this.RJ[p++],"5000 views/mo",this.RJ[p++],this.RJ[p++],this.RJ[p++],"20000 views/mo",this.RJ[p++],this.RJ[p++],this.RJ[p++]]);
o.appendChild(w);var y=B.f("p");y.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
o.appendChild(y);this.C5=new h$("Domain name (e.g. domain.com)",null,14);o.appendChild(this.C5.e);var V=new hs("Save Domain Settings",!1,null,!0);
V.nU();o.appendChild(V.e);V.h("click",this.aaj,this)};dR.UL.prototype=new ar;dR.UL.prototype.FW=function(o){var g=typeof o=="number"?o:this.i5.indexOf(o.target);
for(var N=0;N<4;N++)this.i5[N].style.opacity=.6;this.i5[g].style.opacity=1;B.KZ(this.B9);this.B9.appendChild(this.ar6[g])};
dR.UL.prototype.z3=function(o,g){var C=o<600?"d":" days",a=["30 days","90 days","365 days"];if(o<600)a=["30d","90d","365d"];
var x=this.a7u;for(var N=0;N<x.length;N++){this.RJ[N].BB("<span>"+a[N%3]+": <sup>$</sup><big><b>"+x[N][0]+"</b></big>"+"</span>");
this.RJ[N].e.setAttribute("style",this.ae1)}};dR.UL.prototype.a9w=function(o){var g=new jO("showpage",!0);
g.data={XE:1};this.c(g)};dR.UL.prototype.auw=function(o){var g=new jO("showpage",!0);g.data={XE:2};this.c(g)};
dR.UL.prototype.Q=function(){this.KC.BB(d$.nH()?fF.get([0,11]):fF.get([0,10]));this.Jq.Q();this.ny.Q();
this.Pb.Q()};dR.UL.prototype.agx=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.y2,link:"https://www.photopea.com/api/accounts#"+(o.target==this.ai0?"teams":"distributors")};
this.c(g)};dR.UL.prototype.ajW=function(o){var g=o.currentTarget==this.aiY;this.aiY.I(g);this.alo.I(!g)};
dR.UL.prototype.a8r=function(o){var g=this.aiY.O(),C=this.asy.O().trim().toLowerCase(),a=this.atp.value.trim().toLowerCase();
if(C.length>60){alert("Too long email address");return}if(a.length>600){alert("Too many team members");
return}a=a.split(",").join(" ").trim();a=a.replace(/\s+/g," ");if(a=="")a=[];else a=a.split(" ");var x=d$.kt();
if(x==null)x={};if(x.acc==null)x.acc={};x.acc.team={jin:g,ldr:C,mmb:a};d$.KO(x,this.He.bind(this));alert("Saved!");
this.Tk()};dR.UL.prototype.aaj=function(o){var g=this.C5.O().trim();if(!d$.nH()){alert("You have to log in first.");
return}if(d$.RD()==0){alert("Order a distributor account first.");return}var C=d$.kt();if(C==null)C={};
if(C.acc==null)C.acc={};if(g=="")delete C.acc.dname;else C.acc.dname=g;d$.KO(C,this.He.bind(this));alert("Saved!");
this.Tk()};dR.UL.prototype.ag5=function(o){var g=d$.Yh(),N=this.U8,C=d$.kt();if(C==null)C={};if(C.acc==null)C.acc={};
C.acc.bto=o;d$.KO(C,function(){});var a=dR.aan(o.split("\n"),g.pmnts[N]);c4.save(a,"photopea_invoice.pdf")};
dR.UL.prototype.afc=function(o){var g=d$.Yh(),C=d$.kt(),a=C.acc?C.acc.bto:null;if(a==null)a=g.name+"\n"+g.email;
var N=-1,x=o.target.e.parentNode;while((x=x.previousSibling)!=null)N++;this.U8=N;var K=new jO(D.E.X,!0);
K.data={C:D.t.gC,$j:"billto",zT:a,op:this.ag5.bind(this)};this.c(K)};dR.UL.prototype.Tk=function(){this.wj.innerHTML="";
B.KZ(this.ui);if(d$.nH()){var o=d$.Yh(),g=o.pmnts;if(o==null)return;this.wj.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+o.name+"</span> "+o.email+" <br/>";
if(g){var C="<h2>Payments</h2>";for(var N=0;N<g.length;N++){var a=g[N],x=new Date(a[0]*1e3);C+="<div style=\"font-size:1.2em\">"+x.getDate()+". "+(x.getMonth()+1)+". "+x.getFullYear()+" - "+dR.au3(a)+"</div>"}this.ui.innerHTML=C;
for(var N=0;N<g.length;N++){var K=new hs("Get Invoice",!1,null,!0);K.e.setAttribute("style","float:right");
K.h("click",this.afc,this);this.ui.children[N+1].appendChild(K.e)}}}else{}var h=d$.nH()&&d$.Cr();this.S5.e.style.display=h?"block":"none";
if(h){var X,w,G=h;if(G[0]==0){X=d$.HV(G[1])-Date.now()*(1/1e3);w=G[1][2]==1?"Single User":"Team Of "+G[1][2]}else{X=G[1][1]-Date.now()*(1/1e3);
w="Member of \""+G[1][0]+"\""}this.S5.BB("Premium active for "+Math.round(X/(60*60*24))+" more days! ("+w+")")}var R=d$.nH()&&d$.RD()*1e3>Date.now();
this.gO.e.style.display=R?"block":"none";if(R){var X=d$.RD()-Date.now()/1e3;this.gO.BB("Distributor active for "+Math.round(X/(60*60*24))+" more days!")}var d=d$.kt();
this.L4.Tk();if(d&&d.acc&&d.acc.dname)this.C5.I(d.acc.dname);else this.C5.I("")};dR.UL.prototype.acM=function(o,g){var C=B.f("table");
if(!0){var a="<table><tr>";for(var N=0;N<o;N++)a+="<th>"+g[N*4]+"</th>";a+="</tr></table>";C.innerHTML=a;
for(var N=0;N<3;N++){var x=B.f("tr"),K;C.appendChild(x);for(var h=0;h<o;h++){K=B.f("td");K.style.width=Math.round(100/o)+"%";
x.appendChild(K);K.appendChild(g[h*4+1+N].e)}}}return C};dR.UL.prototype.a6h=function(o){var g=this.RJ.indexOf(o.currentTarget),a=30,x=1;
if(!d$.nH()){alert("You must log in before buying Premium");return}if(this.auA.O()==!1&&g<12){alert("You must accept Terms of Service");
return}var C=d$.nH()&&d$.Cr();if(g!=-1){var K=this.a7u[g];a=K[1];x=K[2]}if(C&&x<1e3){alert("You already have premium.");
return}console.log(K,a,x);if(g==-1){var h=prompt("Please enter your key");if(h!=null){d$.a82(h,this.He.bind(this));
this.oh()}return}if(a==30&&x==1){var X=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!X)return}d$.order(a,x,this.He.bind(this));this.oh()};dR.UL.prototype.He=function(o){this.Tk();this.oh()};
dR.UL.prototype.bv=function(o){if(d$.nH()){d$.afd();this.oh();this.Tk(null,null,null)}else d$.bv(this.a0h.bind(this))};
dR.UL.prototype.a0h=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.a7l};this.c(o)};dR.UL.prototype.oh=function(){var o=new jO(D.E.X,!0);
o.data={C:D.t.ato};this.c(o)};dR.cE=function(o){ar.call(this);this.e=B.f("div");var g=this.e,C=this.agn=new hs([0,13,2],!1,null,!0),a;
C.h("click",this.a9p,this);g.appendChild(C.e);if(o.startsWith("::")){a=B.f("iframe");a.setAttribute("style","width:100%;height:1700px; background-color:white;");
a.setAttribute("src",o.slice(2))}else{a=B.f("div");a.innerHTML=o}g.appendChild(a)};dR.cE.prototype=new ar;
dR.cE.prototype.a9p=function(o){var g=new jO("showpage",!0);g.data={XE:0};this.c(g)};dR.cE.prototype.Q=function(){this.agn.Q()};
dR.a3u="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
dR.au3=function(o){return"Photopea "+(o[1]<1e3?"Premium":"Distributor")+" ("+o[1]+" days, "+o[2]+" user"+(o[2]==1?"":"s")+")"};
dR.aan=function(o,g){o=["Bill To:"].concat(o);var C=new ToPDF,a=595,x=842,K=40,h=18,X=12,w=500,G=100,R=400,Z=0;
function d(L,S,$,H,f){m.font.Tf=f?"Helvetica-Bold":"Helvetica";m.ctm=[1,0,0,1,S,$];m.font.Tfs=H?H:X;
C.PutText(m,L,0)}function q(L,S,$,H){for(var N=0;N<L.length;N++){d(L[N],S,$-N*H,null,N==0)}}var m=UDOC.getState();
C.StartPage(0,0,a,x);d("INVOICE",a-K-140,x-K-30,30,!0);q(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],K,x-K-40,h);
var M=new Date(g[0]*1e3);q(["Date: "+M.getDate()+". "+(M.getMonth()+1)+". "+M.getFullYear(),"Transaction ID: "+g[4]],a-K-140,x-K-40-h*2,h);
var Q=o.join("");for(var N=0;N<Q.length;N++)Z=Math.max(Z,Q.charCodeAt(N));if(Z>256){var p=4,y=B.f("canvas"),V=y.getContext("2d"),W=0;
V.font=X*p+"px sans-serif";for(var N=0;N<o.length;N++)W=Math.max(W,V.measureText(o[N]).width);var v=Math.round(W)+20,j=o.length*p*h+20;
y.width=v;y.height=j;V.font=X*p+"px sans-serif";for(var N=0;N<o.length;N++){V.font=(N==0?"bold ":"")+X*p+"px sans-serif";
V.fillText(o[N],10,(N+1)*p*h)}document.body.appendChild(y);var e=new Uint8Array(V.getImageData(0,0,v,j).data.buffer);
m.ctm=[v/p,0,0,j/p,K-10/p,x-K-40-100-j/p];C.PutImage(m,e,v,j);m.ctm=[1,0,0,1,0,0]}else q(o,K,x-K-40-100,h);
m.colr=[.8,.8,.8];m.pth={cmds:["M","L","L","L","Z"],crds:[K,w,a-K,w,a-K,w-h,K,w-h]};C.Fill(m);m.colr=[0,0,0];
var T=[K,w,a-K,w,K,w-h,a-K,w-h,K,w-G,a-K,w-G,K,w,K,w-G,a-K,w,a-K,w-G,R,w,R,w-G],O=[];for(var N=0;N<T.length;
N+=4)O.push("M","L");m.pth={cmds:O,crds:T};C.Stroke(m);d("Order details",K+4,w-14);d(dR.au3(g),K+4,w-h-14);
d("TOTAL:",K+4,w-G-14,null,!0);d("Price",a-K-50,w-14);d(g[3]+" USD",a-K-60,w-h-14);d(g[3]+" USD",a-K-60,w-G-14,null,!0);
d("www.Photopea.com",K,K);d("support@photopea.com",a-K-130,K);C.ShowPage();C.Done();return C.buffer};
function a9(){g8.call(this,[11,14],"addguides");this.Em;this.wq={M8:{oK:0}};this.ow=null;var o=B.f("div","form");
this.body.appendChild(o);this.Mi=new h$([22,4,0],null,16);this.Mi.h(D.E.p,this.$X,this);this.am=new h$([22,4,1],null,16);
this.am.h(D.E.p,this.$X,this);this.Yl=new jz(null,l.aE.$W);this.Yl.h(D.E.p,this.$X,this);o.appendChild(this.Mi.e);
o.appendChild(this.Yl.e);B.zw(o);o.appendChild(this.am.e);this.jX=B.FK(this,o);this.h("closebtn",this.rm,this)}a9.prototype=new g8;
a9.prototype.xP=function(o,g){return o!=null};a9.prototype.rJ=function(){return!0};a9.prototype.Q=function(){g8.prototype.Q.call(this);
this.Mi.Q();this.am.Q();this.Yl.Q();this.jX.Q()};a9.prototype.Xt=function(o,g){var C=o.M8.oK;this.wq.M8.oK=C;
this.Yl.I(C)};a9.prototype.Tk=function(o,g){this.Em=o;this.ow=JSON.stringify(o.Kc());this.W3()};a9.prototype.W3=function(){var o=this.Em,g=o.Pa,C=function(a,x,o,K,h){var X=[];
for(var N=0;N<a.length;N++)if(a[N][0]==x)X.push(l.aE.Cg(a[N][1],o.zC,K,h));X.sort(function(w,G){return w-G});
return X.join(", ")};this.Mi.I(C(g,0,o,this.wq,o.m));this.am.I(C(g,1,o,this.wq,o.n))};a9.prototype.$X=function(o){if(o&&o.currentTarget==this.Yl)this.wq.M8.oK=this.Yl.O();
else{var g=this.auQ(),C=this.Em;C.mu(g);C.dF=!0}this.W3()};a9.prototype.auQ=function(){var o=[],g=[];
for(var C=0;C<2;C++){var a=C==0?this.Mi:this.am,x=C==0?this.Em.m:this.Em.n,K=a.O().replace(/,/g," ").replace(/  +/g," ").trim(),h=K==""?[]:K.split(" ");
for(var N=0;N<h.length;N++){o.push([C,l.aE.ait(h[N],this.Em.zC,this.wq,x)]);g.push(-1)}}return[o,g]};
a9.prototype.rm=function(o){var g=this.Em;g.mu(JSON.parse(this.ow));g.dF=!0;this.Em=null};a9.prototype.GU=function(o){this.$X(o);
var g=new jO(D.E.q,!0);g.F=c.zO;g.data={C:"gids",Vk:JSON.parse(this.ow),SR:this.Em.Kc()};this.Em=null;
this.close();this.c(g)};function g7(o){g8.call(this,{pdfpres:"PDF Presentation"}[o],o);var g=B.f("div","form");
this.body.appendChild(g);g.setAttribute("style","width:300px");this.DV=new ec("Source Images",!0,!0);
g.appendChild(this.DV.e);this.UB=new jz([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
g.appendChild(this.UB.e);this.ba=new eT("Order images by name");this.ba.I(!0);g.appendChild(this.ba.e);
var C=new hs(["VAR0 PDF",[1,8]],!0,null,!0);C.h("click",this.QT,this);g.appendChild(C.e)}g7.prototype=new g8;
g7.prototype.QT=function(o){var g=this.DV.O(),C=[],K=595,h=842,X=40;for(var a in g)C.push(a);if(C.length==0){alert("No images selected");
return}if(this.ba.O())C.sort();var x=this.UB.O(),w=new ToPDF,G=UDOC.getState();for(var N=0;N<C.length;
N++){var a=C[N],R=g[a],d=R[0]==255,q=bl.tt(R.buffer),m=bl.qC(q).gd(R.buffer)[0],M=m.m_,Z=new Uint8Array(m.data),Q=M.m,p=M.n,y=[[595,842],[842,595],[595,595],[595,0]][x];
if(x==3)y[1]=Math.round(y[0]*p/Q);var K=y[0],h=y[1],V=Math.min(K/Q,h/p);w.StartPage(0,0,K,h);G.ctm=[Q*V,0,0,p*V,(K-Q*V)/2,(h-p*V)/2];
w.PutImage(G,d?R:Z,Q,p);w.ShowPage()}w.Done();c4.save(w.buffer,"file.pdf")};g7.prototype.Q=function(){g8.prototype.Q.call(this);
this.DV.Q();this.UB.Q();this.ba.Q()};function ez(o){var g=hb.names[o];if(g==null)g=f6.names[o];if(o=="aply")g=[2,12];
if(o=="fade")g=[2,11];if(o=="matc")g=[4,18];if(o=="blendOptions")g=[14,10];g8.call(this,g,"afw_"+o);
this.KA=o;this.hN=null;this.Eo=null;this.ag=new _[o];this.ag.h(D.E.p,this.y6,this);this.ag.parent=this;
this.body.appendChild(this.ag.e);this.D7=new eT([24,18,5]);this.D7.I(!0);this.D7.h(D.E.p,this.y6,this);
this.Q9=new hs([1,12,2],!0,null,!0);this.Q9.h("click",this.HH,this);this.jX=B.FK(this);if(this.h9())this.ag.tS(this.jX.e);
else{B.lK(this.ag.e,"form");B.lK(this.body,"flexrow");this.ag.e.setAttribute("style","width:312px");
var C=B.f("div");this.body.appendChild(C);C.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
C.appendChild(this.jX.e);C.appendChild(this.Q9.e);C.appendChild(this.D7.e)}this.h("closebtn",this.DR,this)}ez.prototype=new g8;
ez.prototype.rJ=function(){return!0};ez.prototype.h9=function(){return this.ag!=null&&this.ag.kv()};
ez.prototype.ir=function(){return this.h9()?new eN(0,0):g8.prototype.ir()};ez.prototype.DP=function(){return this.ag.DP()};
ez.prototype.xA=function(o,g,C,a,x){this.ag.xA(o,g,C,a,x)};ez.prototype.kh=function(o,g,C,a,x){this.ag.kh(o,g,C,a,x)};
ez.prototype.eO=function(o,g,C,a,x){this.ag.eO(o,g,C,a,x)};ez.prototype.xP=function(o,g){if(this.KA=="fade")return ez.apm(o);
return!0};ez.prototype.HH=function(o){this.ag.I(hb.l3(this.KA));this.y6()};ez.prototype.y6=function(o){this.hD({C:"edit",jr:this.ag.O(),Tc:!this.D7.O()})};
ez.prototype.DR=function(o){this.hD({C:"cancel"})};ez.prototype.GU=function(o){if(!this.D7.O()){this.D7.I(!0);
this.y6()}this.Eo=this.ag.O();if(this.h9())this.y6();this.hD({C:"confirm"});this.close()};ez.prototype.Q=function(){g8.prototype.Q.call(this);
this.D7.Q();if(this.ag)this.ag.Q();this.jX.Q()};ez.prototype.Xt=function(o,g){if(this.ag)this.ag.Xt(o,g)};
ez.prototype.Uh=function(o,g,C,a){if(this.h9())this.ag.Uh(a);else g8.prototype.Uh.call(this,o,g,C,a)};
ez.prototype.Tk=function(o,g,C,a){this.hN=g.hN;var x=o.add.lnk2?o.add.lnk2:[],K,h,X=new aS(0,0,o.m,o.n),w=o.g[o.A[0]],G=null;
K=w.buffer;h=w.rect;if(this.h9())G=o.cf(o.A[0]-1);var R=hb.l3(this.KA),d=[x,o.JH,o,C];if(g.hN==null){this.ag.I(R,K,h,X,G,d);
if(f6.names[this.KA]){if(a.a(c_.LW)&&this.Eo)this.ag.I(this.Eo);var q=c.i$.getData(o),m=l.pm(q[0].CL);
this.ag.iZ(m)}}else{var M=!1,w=o.g[this.hN.l];if(w.xT()){var Z=w.WW(o);K=Z.buffer;h=Z.rect;var Q=w.add.SoLd.filterFX.v.filterFXList.v;
if(Q[this.hN.index]){var p=Q[this.hN.index].v;this.ag.I(this.KA=="blendOptions"?p.blendOptions.v:p.Fltr.v,K,h,X,G,d);
this.ag.iZ(l.pm(K));M=!0}}if(!M){this.ag.I(R,K,h,X,G,d);this.ag.iZ(l.pm(K))}}if(!this.h9()){this.y6();
var y=this.ag;if(y&&y.My&&y.My[0]&&y.My[0].Vg)y.My[0].Vg()}};ez.prototype.hD=function(o){var g=new jO(D.E.q,!0);
o.KA=this.KA;o.hN=this.hN;g.data=o;g.F=hb.names[this.KA]||this.hN?c.C3:c.i1;g.on=!0;this.c(g)};ez.prototype.z3=function(o,g){if(!this.ag.kv()){}else{this.body.style.padding="0";
this.ag.z3(o,g)}};ez.apm=function(o){if(o==null)return!1;var g=o.XW();if(g==null||!(g.data instanceof Array)||g.data.length!=o.A.length)return!1;
for(var N=0;N<g.data.length;N++){var C=g.data[N];if(C.l<0&&o.JH[-1-C.l])return!0;if(C.l==null||o.g[C.l]==null||o.g[C.l].U3!=C.hH)return!1;
if(o.A.indexOf(C.l)==-1)return!1}return!0};function fZ(){g8.call(this,[11,0],"camera");this.data=null;
this.o2=new eN(1,1);this.a3m=[];var o=B.f("div","form hbar");this.body.appendChild(o);this.a0E=new jz(null,[]);
this.a2=new jz([21,0],[[21,2],[21,1]]);o.appendChild(this.a2.e);this.NR=new jz(null,[]);this.NR.h(D.E.p,this.a0V,this);
o.appendChild(this.NR.e);this.Pr=new hs([11,0],!1,null,!0);this.Pr.h("click",this.abV,this);o.appendChild(this.Pr.e);
this.VF=new d3("");o.appendChild(this.VF.e);this.stream=null;this.WO=B.f("video","");this.WO.setAttribute("autoplay","true");
this.body.appendChild(this.WO);this.aqo=this.atF.bind(this);this.agg=this.ahs.bind(this);this.ass=this.aab.bind(this);
this.h("closebtn",this.asJ,this)}fZ.prototype=new g8;fZ.prototype.Q=function(){g8.prototype.Q.call(this);
this.a2.Q();this.Pr.Q();this.z3(this.MI,this.fB)};fZ.prototype.cf=function(){var o=this.WO.videoWidth,g=this.WO.videoHeight,C=B.f("canvas","");
C.width=o;C.height=g;var a=C.getContext("2d");a.drawImage(this.WO,0,0,o,g);var x=a.getImageData(0,0,o,g);
return{m_:new aS(0,0,o,g),data:x.data.buffer}};fZ.prototype.abV=function(o){if(this.a2.O()==0)this.a5C();
else this.a6Q()};fZ.prototype.a6Q=function(){var o=this.cf(),g={buffer:new Uint8Array(o.data),rect:o.m_},C=new jO(D.E.q,!0);
C.on=!0;C.F=c.qd;C.data={C:A.cB,Xz:g};this.c(C);alert(fF.get([21,4]))};fZ.prototype.a5C=function(){var o=this.cf(),g=bl.ng("camera",[o]),C=new jO(D.E.X,!0);
C.data={C:D.t.Ds,db:g};this.c(C);alert(fF.get([21,5]))};fZ.prototype.Tk=function(o,g,C){navigator.mediaDevices.enumerateDevices().then(this.a89.bind(this))};
fZ.prototype.a89=function(o){var g=this.a3m=[],C=[];for(var N=0;N<o.length;N++)if(o[N].kind=="videoinput"){g.push(o[N]);
C.push("Camera "+g.length)}this.NR.e5(C);this.NR.I(0);this.a0V()};fZ.prototype.a0V=function(o){this.asJ();
var g={video:{deviceId:this.a3m[this.NR.O()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(g).then(this.aqo).catch(this.agg);
else navigator.webkitGetUserMedia(g,this.aqo,this.agg)};fZ.prototype.atF=function(o){this.stream=o;this.WO.srcObject=o;
this.WO.addEventListener("loadedmetadata",this.ass,!1)};fZ.prototype.aab=function(o){this.WO.play();
this.z3(this.MI,this.fB)};fZ.prototype.ir=function(o,g){return new eN(0,0)};fZ.prototype.z3=function(o,g){var C=this.WO.videoWidth,a=this.WO.videoHeight;
this.VF.I(C+" x "+a+" px");this.VF.e.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.o2.fR(C,a);this.MI=o;this.fB=g;var x=o-28,K=g-28-30,h=this.o2.x/this.o2.y;if(x/K>h)x=K*h;else K=x/h;
this.WO.setAttribute("style","display: block; width: "+Math.round(x)+"px; height:"+Math.round(K)+"px;")};
fZ.prototype.ahs=function(o){console.log("error",o);alert(fF.get([21,6]));this.close()};fZ.prototype.asJ=function(o){if(this.stream!=null){var g=this.stream.getTracks();
for(var N=0;N<g.length;N++)g[N].stop();this.stream=null}};function jb(){g8.call(this,[7,8],"crange");
this.Em=null;this.LT={pY:73,Bk:4.45,K:4};this.e_={pY:73,Bk:4.45,K:4};this.body.style.width="20em";this.DJ=new jz([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.DJ.h(D.E.p,this.a0p,this);this.body.appendChild(this.DJ.e);this.Sq=B.f("div","form");this.body.appendChild(this.Sq);
var o=this.av5=2,g=this.Ls=[new ho([12,92],0,200),new jT([12,36],[[18,0],"\uFF0B","-"]),new ho([12,92],0,100,"%"),new e8("Min",0,255),new e8("Max",0,255)];
g[0].I(40);g[o].I(40);for(var N=0;N<g.length;N++){g[N].h(D.E.p,this.Ty,this);g[N].parent=this}this.J=B.f("canvas");
this.body.appendChild(this.J);this.jX=B.FK(this,this.body)}jb.prototype=new g8;jb.prototype.xP=function(o,g){return o!=null};
jb.prototype.DP=function(){return!0};jb.prototype.rJ=function(){return!0};jb.prototype.a0p=function(o){var g=this.DJ.O(),C=this.Ls,a=this.Sq,x=0,K=C.length,h=this.av5;
if(g==0)K=h;else{x=h;C[x+1].I([0,100,190][g-1]);C[x+1].ZB(g!=1);C[x+2].I([60,150,255][g-1]);C[x+2].ZB(g!=3)}B.KZ(a);
for(var N=x;N<K;N++){a.appendChild(C[N].e)}this.Ty()};jb.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();this.DJ.Q();for(var N=0;N<this.Ls.length;N++)this.Ls[N].Q()};jb.prototype.xA=function(o,g,C,a,x){var K=o.u.w2(x.x,x.y);
this.asz(K.x,K.y)};jb.prototype.asz=function(o,g){var C=Math.min,a=Math.max,x=this.Em,K=a(0,C(x.m-1,Math.floor(o))),h=a(0,C(x.n-1,Math.floor(g))),X=x.cf(),w=(h*x.m+K)*4,G=X[w],R=X[w+1],d=X[w+2],q=l.Kj(G,R,d),m=this.Ls[1].O(),M=this.LT,Z=this.e_;
if(m==0){this.LT=JSON.parse(JSON.stringify(q));this.e_=q}else if(m==1){M.pY=C(M.pY,q.pY);M.Bk=C(M.Bk,q.Bk);
M.K=C(M.K,q.K);Z.pY=a(Z.pY,q.pY);Z.Bk=a(Z.Bk,q.Bk);Z.K=a(Z.K,q.K)}else if(m==2){var Q=(M.pY+Z.pY)/2,p=(M.Bk+Z.Bk)/2,y=(M.K+Z.K)/2;
if(q.pY<Q)M.pY=a(M.pY,q.pY+10);else Z.pY=C(Z.pY,q.pY-10);if(q.Bk<p)M.Bk=a(M.Bk,q.Bk+1);else Z.Bk=C(Z.Bk,q.Bk-1);
if(q.K<y)M.K=a(M.K,q.K+1);else Z.K=C(Z.K,q.K-1)}this.Ty()};jb.prototype.GU=function(o){var g=this.DJ.O(),C=this.Ls,a={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(g==0){var x=this.LT,K=this.e_;a.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:x.pY},A:{t:"doub",v:x.Bk},B:{t:"doub",v:x.K}}};
a.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:K.pY},A:{t:"doub",v:K.Bk},B:{t:"doub",v:K.K}}};a.Fzns={t:"long",v:C[0].O()}}else{g--;
var h=["shadows","midtones","highlights"][g];a.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][g]}};if(0<g)a[h+"LowerLimit"]={t:"long",v:C[3].O()};
if(g<2)a[h+"UpperLimit"]={t:"long",v:C[4].O()};a[h+"Fuzziness"]={t:"long",v:C[2].O()}}this.close();var X=new jO(D.E._h,!0);
X.data={j7:"colorRange",FS:a};this.c(X)};jb.prototype.Tk=function(o,g){this.Em=o;this.asz(0,0);this.a0p()};
jb.prototype.Ty=function(){var o=this.Em,g=this.DJ.O(),C=this.LT,a=this.e_,x=this.Ls,K=x[0].O()/200,h=!1;
if(g>0){C=x[3].O();a=x[4].O();if(C>=a)C=a-1;h=!0;K=x[2].O()/100}var X=c.vk.d0(o,C,a,K,h),w=X.rect,G=X.channel,R=this.J,d=R.getContext("2d"),q=Math.floor(230*B.r()),m=Math.floor(q*(w.n/w.m));
R.width=q;R.height=m;B.IC(R,q,m);var M=l.Z(G.length*4);l.th(M,4294967295);for(var N=0;N<3;N++)l.Oa(G,M,N);
var Z=c.V.Sk([M,w],new kp(q/w.m,0,0,m/w.n,0,0)),Q=Z.rect,p=new ImageData(new Uint8ClampedArray(Z.buffer.buffer),Q.m,Q.n);
d.putImageData(p,0,0)};function hn(){g8.call(this,[12,76,1],"createshape");this.Gm=null;var o=B.f("div","form");
o.setAttribute("style","width:20em");this.body.appendChild(o);this.eC=new e8([12,41],0,0,null,0,!1,!0);
o.appendChild(this.eC.e);B.zw(o);this.Mi=new e8([12,42],0,0,null,0,!1,!0);o.appendChild(this.Mi.e);B.zw(o);
this.ZV=new eT([19,5,3]);o.appendChild(this.ZV.e);this.eC.I(100);this.Mi.I(100);this.jX=B.FK(this,o)}hn.prototype=new g8;
hn.prototype.GU=function(o){this.Gm.a1q(this.Gm.atX,this.eC.O(),this.Mi.O(),this.ZV.O());this.close()};
hn.prototype.Q=function(){if(this.Gm)this.cd=fF.get([5,3])+": "+fF.get(this.Gm.amA);g8.prototype.Q.call(this);
this.jX.Q();this.eC.Q();this.Mi.Q();this.ZV.Q()};hn.prototype.Tk=function(o,g){this.Gm=g;this.Q();this.eC.Vg()};
function fa(){g8.call(this,[11,1],"colorpicker");this.$a=null;this.b_=null;this.D1=null;this.P7=!1;this.u2=!1;
var o=B.f("div","flexrow"),K,h;this.body.appendChild(o);this.tK=new bx(256,!0);this.tK.h(D.E.p,this.aY,this);
o.appendChild(this.tK.e);var g=B.f("div","form");g.setAttribute("style","width:14.5em; margin-left:1em;");
o.appendChild(g);this.auN=B.f("div","full");g.appendChild(this.auN);this.afP=B.f("div","full");g.appendChild(this.afP);
var C=B.f("div","flexrow");g.appendChild(C);var a=B.f("div"),x=B.f("div");C.appendChild(a);C.appendChild(x);
K=["R","G","B"];h=a;this.Kn=[];for(var N=0;N<3;N++){var X=new e8(K[N]+":",0,255,null,0,!1,!0);this.Kn.push(X);
X.h(D.E.p,this.axo,this);h.appendChild(X.e)}K=["H","S","B"];h=x;this.od=[];for(var N=0;N<3;N++){var w=0,G=360,R="\xB0";
if(N!=0){G=100;R="%"}var X=new e8(K[N]+":",w,G,R,0,!1,!0);this.od.push(X);X.h(D.E.p,this.aaW,this);h.appendChild(X.e)}this.Mi=new h$("Hex",null,6);
this.Mi.h(D.E.p,this.sY,this);g.appendChild(this.Mi.e);this.af=B.f("input","fitem");this.af.setAttribute("type","color");
this.af.setAttribute("style","width:50px");this.af.addEventListener("change",this.sY.bind(this),!1);
g.appendChild(this.af);this.b2=new fJ(9);this.b2.h(D.E.p,this.sY,this);g.appendChild(this.b2.e);this.jX=B.FK(this,g);
this.h("closebtn",this.DR,this);this.VA=!1}fa.prototype=new g8;fa.prototype.DP=function(){return!0};
fa.prototype.ir=function(o,g){return new eN(Math.max(0,Math.min(150,(o-484)/2)),Math.max(0,Math.min(150,(g-316)/2)))};
fa.prototype.z3=function(o,g){this.tK.z3(Math.min(256,o-226),g)};fa.prototype.Q=function(o,g){g8.prototype.Q.call(this);
this.jX.Q()};fa.prototype.aY=function(o){this.b_=this.tK.O();this.update()};fa.prototype.xA=function(o,g,C,a,x){this.VA=!0;
this.a1m(o,x)};fa.prototype.kh=function(o,g,C,a,x){if(!this.VA)return;this.a1m(o,x)};fa.prototype.eO=function(o,g,C,a,x){this.VA=!1};
fa.prototype.a1m=function(o,g){var C=c.aG.gs(o,g,1),a=C&255,x=C>>8&255,K=C>>16&255;this.b_={z:K/255,B:x/255,K:a/255};
this.update()};fa.prototype.axo=function(o){var g=this.Kn,C=this.fW(parseInt(g[0].O())),a=this.fW(parseInt(g[1].O())),x=this.fW(parseInt(g[2].O()));
this.b_={z:C/255,B:a/255,K:x/255};this.update()};fa.prototype.aaW=function(o){var g=this.od,C=this.Yd(parseInt(g[0].O())/360),a=this.Yd(parseInt(g[1].O())/100),x=this.Yd(parseInt(g[2].O())/100);
this.b_=l.QE(C,a,x);this.update()};fa.prototype.sY=function(o){var g;if(o.currentTarget==this.b2)g=this.b2.O();
else{g=o.currentTarget==this.Mi?this.Mi.O():this.af.value;if(g.charAt(0)=="#")g=g.slice(1);if(g.length==3)g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2];
g=l.ji(g)}this.b_={z:(g>>16&255)/255,B:(g>>8&255)/255,K:(g&255)/255};this.update()};fa.prototype.Nb=function(o){var g=o.z,C=o.B,a=o.K;
return Math.round(g*255)<<16|Math.round(C*255)<<8|Math.round(a*255)};fa.prototype.GU=function(o){this.atj();
var g=this.Nb(this.b_);this.D1(g);this.close();this.u2=!1;this.b_=null};fa.prototype.DR=function(o){this.atj();
if(this.P7)this.D1(this.Nb(this.$a));this.u2=!1;this.b_=null};fa.prototype.atj=function(o){var g=new jO(D.E.X,!0);
g.data={C:D.t.au9};this.c(g)};fa.prototype.Xt=function(o,g){var C=cM.lM(o,g);if(C!=null)this.b2.I(C);
if(g!=e1.Zr)return;if(this.b_!=null){this.b_={z:(C>>16&255)/255,B:(C>>8&255)/255,K:(C>>0&255)/255};this.update()}};
fa.prototype.Tk=function(o,g){var C=g.Qe,a={z:(C>>16&255)/255,B:(C>>8&255)/255,K:(C>>0&255)/255};if(this.b_==null){var x=new jO(D.E.X,!0);
x.data={C:D.t._N,Hz:"crosshair",push:!0};this.c(x);this.VA=!1;this.D1=g.Ef;this.P7=!1;this.u2=g.s9;this.$a=JSON.parse(JSON.stringify(a));
this.afP.setAttribute("style","height:3em;background-color:#"+l.eh(C)+";")}this.b_=a;this.update()};
fa.prototype.update=function(){var o=this.b_,g=this.Nb(o),C=this.Kn;C[0].I(Math.round(o.z*255));C[1].I(Math.round(o.B*255));
C[2].I(Math.round(o.K*255));this.Mi.I(l.eh(g));this.af.value="#"+l.eh(g);this.auN.setAttribute("style","height:3em;background-color:#"+l.eh(g)+";");
var a=l.br(o.z,o.B,o.K);C=this.od;C[0].I(Math.round(a.fB*360));C[1].I(Math.round(a.ZQ*100));C[2].I(Math.round(a.jr*100));
this.tK.I(o);if(this.u2){this.D1(this.Nb(this.b_));this.P7=!0}};fa.prototype.fW=function(o){return Math.max(0,Math.min(255,o))};
fa.prototype.Yd=function(o){return Math.max(0,Math.min(1,o))};function a5(){g8.call(this,[11,2],"contoureditor");
this.afx=null;this.BM=null;this.response=null;this.sK=B.f("div","cell");this.body.appendChild(this.sK);
this.IR=B.f("div","cell padded");this.body.appendChild(this.IR);var o=B.f("div","bordered padded vmargin");
this.sK.appendChild(o);this.ag=new ge(null,null,!0);this.ag.h(D.E.p,this.OY,this);o.appendChild(this.ag.e);
this.jX=B.FK(this,this.IR);this.h("closebtn",this.eI,this)}a5.prototype=new g8;a5.prototype.GU=function(){this.close()};
a5.prototype.Q=function(){g8.prototype.Q.call(this);this.jX.Q();this.ag.Q()};a5.prototype.OY=function(o){this.BM.Crv.v=this.ag.O();
this.response(this.BM)};a5.prototype.eI=function(o){this.response(this.afx)};a5.prototype.Tk=function(o,g){this.afx=JSON.parse(JSON.stringify(g.B9));
this.BM=g.B9;this.response=g.response;this.ag.I(this.BM.Crv.v)};function eZ(){g8.call(this,[11,3],"csize");
this.vv=0;this.sR=B.f("div","form");this.sR.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.sR);
this.dX=new hh(!0,!0,!0,!0,!0);this.dX.abk(!1);this.sR.appendChild(this.dX.e);this.O_=new jT("Align with",[[8,7],[12,6]]);
this.O_.h(D.E.p,this.arN,this);this.ZI=new dL([12,23,2],41);this.sR.appendChild(this.ZI.e);this.ZI.I(4);
this.iA=new ev(!1);this.iA.a12(new eN(0,0));this.jX=B.FK(this,this.body)}eZ.prototype=new g8;eZ.prototype.xP=function(o,g){return o!=null};
eZ.prototype.rJ=function(){return!0};eZ.prototype.td=function(o){return[c_.IX,c_._l,c_.N8,c_.DH].indexOf(o)!=-1};
eZ.prototype.Uh=function(o,g,C,a){this.ZI.aj0(a.c4())};eZ.prototype.arN=function(){var o=[this.ZI.e,this.iA.e];
this.sR.removeChild(o[this.vv]);this.vv=this.O_.O();this.sR.appendChild(o[this.vv])};eZ.prototype.Q=function(){g8.prototype.Q.call(this);
this.dX.Q();this.O_.Q();this.ZI.Q();this.iA.Q();this.jX.Q()};eZ.prototype.GU=function(o){var g=this.dX.O(),C=g.x,a=g.y,x=new jO(D.E._h,!0);
x.data=c.ro.a6v(C,a,this.ZI.O());this.close();this.c(x)};eZ.prototype.Tk=function(o,g){this.dX.I(new eN(o.m,o.n),o.zC);
this.dX.Vg()};function bE(){g8.call(this,[11,4],"duplinto");this.bf=null;this.jw=null;this.O0=null;var o=B.f("div","form");
o.setAttribute("style","max-width:26em");this.body.appendChild(o);this.KS=new jz([12,43],["abc","def"]);
this.KS.h(D.E.p,this.Ez,this);o.appendChild(this.KS.e);B.zw(o);this.iy=new jz([1,16,0],["abc","def"]);
this.iy.h(D.E.p,this.Ez,this);o.appendChild(this.iy.e);B.zw(o);this.Kr=new h$([12,48],null,14);o.appendChild(this.Kr.e);
this.jX=B.FK(this,o)}bE.prototype=new g8;bE.prototype.rJ=function(){return!0};bE.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();this.KS.Q();this.Kr.Q()};bE.prototype.Ez=function(o){if(o&&o.target==this.iy)return;var g=this.KS.O(),C=this.jw[g],a=this.bf,x=C!=null&&C.add.artd!=null;
for(var N=0;N<a.A.length;N++)if(a.g[a.A[N]].add.artb)x=!1;this.Kr.ZB(g==this.jw.length);this.iy.ZB(x);
if(x){var K=C.root.children,h=[],X=this.O0=[];for(var N=0;N<K.length;N++){var w=K[N].l;if(w.add.artb)h.push(w.getName());
X.push(K[N].index)}this.iy.e5(h);this.iy.I(0)}else this.O0=null};bE.prototype.Tk=function(o,g,C){this.bf=o;
this.jw=C;this.Kr.I(o.A.length==0?"Layer":o.g[o.A[0]].getName());var a=[];for(var N=0;N<C.length;N++){var x=C[N].name;
a.push(x.length<30?x:x.slice(0,27)+"...")}a.push([11,7]);this.KS.e5(a);this.KS.I(C.indexOf(o));this.Ez(null)};
bE.prototype.GU=function(o){var g=this.KS.O();if(g==this.jw.length){var C=new aX(this.Kr.O()+".psd"),a=this.bf.m,x=this.bf.n,K=this.bf.M4();
if(K!=-1){var h=this.bf.g[K].zz();a=h.m;x=h.n}C.m=a;C.n=x;C.buffer=l.Z(C.m*C.n*4);var X=C.HL();X.XH("Background");
C.jZ([X]);var w=new jO(D.E.X,!0);w.on=!0;w.data={C:D.t.Ds,db:C};this.c(w)}var G=this.bf.oa(null,this.bf!=this.jw[g]),w=new jO(D.E.q,!0);
w.data={C:A.N3,g:G,lv:this.bf,jJ:this.jw[g]};if(this.O0)w.data.FQ=this.O0[this.iy.O()];w.F=c.qd;w.on=!0;
this.c(w);this.close()};function fP(){g8.call(this,[1,9],"eassets");this.wq=null;this.qh=null;var o=B.f("div","form");
o.setAttribute("style","width:32em");this.body.appendChild(o);this.eG=B.f("span");o.appendChild(this.eG);
B.zw(o);this.j_=[new eT("Only layers / folders, whose name starts with \"-e-\""),new eT("Remove parts outside the canvas"),new eT("Trim transparent parts")];
for(var N=0;N<3;N++){var g=this.j_[N];g.I(!0);g.h(D.E.p,this.W3,this);o.appendChild(g.e);B.zw(o)}this.jH=new ap([12,14,0],["1x","2x","3x","4x"]);
this.jH.I([!0,!1,!1,!1]);o.appendChild(this.jH.e);B.xG(o);this.aQ=["PNG","JPG","SVG","TIFF","TGA"];this.UT=new jz([12,50],this.aQ);
this.UT.h(D.E.p,this.akT,this);o.appendChild(this.UT.e);this.Y1=new i3;o.appendChild(this.Y1.e);this.jX=new hs([1,9],!0,null,!0);
this.jX.h("click",this.GU,this);o.appendChild(this.jX.e);this.h("closebtn",this.NE,this)}fP.prototype=new g8;
fP.prototype.akT=function(o){this.Y1.aui(this.aQ[this.UT.O()],!1,!1,!1,this.qh.QY()!=null)};fP.prototype.NE=function(o){this.qh=null};
fP.prototype.Q=function(){g8.prototype.Q.call(this);this.UT.Q();this.jH.Q();this.jX.Q();this.Y1.Q()};
fP.prototype.Tk=function(o,g,C){this.qh=o;this.W3()};fP.prototype.W3=function(o){var g=this.ahl(),C="- - - "+g.length+" exportable layers";
this.eG.textContent=C;this.akT(null)};fP.prototype.ahl=function(){var o=this.j_[0].O(),g=[],C=this.qh;
for(var N=0;N<C.g.length;N++){var a=C.g[N],x=a.getName();if(!o&&!a.sP()&&!a.rect.to()||x.startsWith("-e"))g.push(N)}return g};
fP.prototype.Xt=function(o,g){this.wq=o};fP.prototype.GU=function(o){var g=this.qh,C=[this.aQ[this.UT.O()]],a=[this.Y1.O()],x=this.jH.O(),K={},h={},X=this.ahl();
if(X.length==0){alert("No layers to export.");return}var w=[this.j_[1].O(),this.j_[2].O()];for(var N=0;
N<X.length;N++){var G=X[N],R=g.g[G],d=R.getName();if(h[d]!=null){h[d]++;d+=" "+h[d]}else h[d]=1;var q=R.aL();
R.Su(!0);for(var m=0;m<x.length;m++){if(!x[m])continue;var M=m+1,Z=c.YV.amR(g,C,M,this.wq,G,a,w);for(var Q=0;
Q<C.length;Q++){var y=C[Q],V=d.slice(d.startsWith("-e-")?3:0)+(M==1?"":"@"+M+"x")+"."+y.toLowerCase();
if(Z[Q])K[V]=new Uint8Array(Z[Q])}}R.Su(q)}var W=UZIP.encode(K),v=new jO(D.E.X,!0);v.data={C:D.t.Mh,data:W,name:"assets.zip"};
this.c(v)};function cE(){g8.call(this,"Export Color Lookup Tables","exlut");this.wq=null;this.qh=null;
var o=B.f("div","form");o.setAttribute("style","width:20em");this.body.appendChild(o);this.j_=[new e8("Grid Points",1,256),new jT([12,50],[".CUBE"])];
var g=[16,0];for(var N=0;N<this.j_.length;N++){var C=this.j_[N];C.I(g[N]);C.parent=this;C.h(D.E.p,this.W3,this);
o.appendChild(C.e);B.zw(o)}this.jX=B.FK(this,o);this.h("closebtn",this.NE,this)}cE.prototype=new g8;
cE.prototype.xP=function(o,g){if(Math.min(o.m,o.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(o.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};cE.prototype.NE=function(o){this.qh=null};cE.prototype.Xt=function(o,g){this.wq=o};
cE.prototype.Tk=function(o,g,C){this.qh=o};cE.prototype.GU=function(){var o=this.qh,g=this.j_[0].O(),C=[],a=new aS(0,0,o.m,o.n),x=l.Z(g*g*4),K=x.slice(0),h=new aS(o.m-g>>>1,o.n-g>>>1,g,g),X=o.g[0],w=X.buffer,G=X.rect;
X.rect=h;X.buffer=x;for(var R=0;R<g;R++){this.awJ(g,R,x);X.L(h);o.L(h);var d=o.cf();l.HT(d,a,K,h);for(var q=0;
q<g;q++)for(var m=0;m<g;m++){var M=q*g+m<<2;C.push(K[M]/255,K[M+1]/255,K[M+2]/255)}}var Z=gN.a05(C,g,o.name);
c4.save(Z,o.name.split(".")[0]+".CUBE");X.buffer=w;X.rect=G;X.L();o.L()};cE.prototype.awJ=function(o,g,C){var a=255/(o-1),x=Math.round(g*a);
for(var K=0;K<o;K++)for(var h=0;h<o;h++){var X=K*o+h<<2;C[X]=Math.round(h*a);C[X+1]=Math.round(K*a);
C[X+2]=x;C[X+3]=255}};cE.prototype.Q=function(){g8.prototype.Q.call(this);for(var N=0;N<this.j_.length;
N++)this.j_[N].Q();this.jX.Q()};function cI(){g8.call(this,[1,14],"finfo");this.xD=null;this.cl=null;
this.Jk=null;this.sR=B.f("div","form scrollable label12");this.sR.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.sR);var o=B.f("div","form");this.body.appendChild(o);this.W4=new jz(null,["Hello"]);
o.appendChild(this.W4.e);this.ao7=new hs("Add Parameter",!1,null,!0);o.appendChild(this.ao7.e);this.ao7.h("click",this.Ax,this);
this.Ej=new hs("=== S A V E ===",!1,null,!0);o.appendChild(this.Ej.e);this.Ej.h("click",this.aj,this);
this.aaN=""}cI.prototype=new g8;cI.prototype.ir=function(o,g){return o<450||g<450?new eN(0,0):new eN(150,100)};
cI.prototype.Ax=function(o){if(this.Jk.length==0)return;var g=this.Jk[this.W4.O()],C=this.KG();C[g]=hZ.TJ[g][0];
this.dz(C);this.cl[g].e.scrollIntoView();this.cl[g].Vg()};cI.prototype.VN=function(o){var g=this.KG();
delete g[o.currentTarget.at3];this.dz(g)};cI.prototype.aj=function(o){var g=this.KG(),C=this.xD,a=!0;
for(var x in C)if(JSON.stringify(C[x])!=JSON.stringify(g[x]))a=!1;for(var x in g)if(JSON.stringify(C[x])!=JSON.stringify(g[x]))a=!1;
if(a)return;var K=new jO(D.E.q,!0);K.F=c.qd;K.data={C:A.wk,Zc:g};this.c(K);this.xD=g;this.dz(g)};cI.acj=function(o){function g(x){var K=x.toLowerCase();
return x==K}var C=o.split(":").pop();for(var a=1;a<C.length-1;a++){if(C[a]==C[a].toUpperCase()&&(g(C[a+1])||g(C[a-1]))){C=C.slice(0,a)+" "+C.slice(a);
a++}}return C};cI.prototype.Tk=function(o,g){this.xD=o.Eb;this.dz(o.Eb)};cI.prototype.dz=function(o){var g=this.sR,x=0;
B.KZ(g);var C=this.cl={},a=["tiff","exif","exif:GPS"],K=this.Jk=[],h=[];for(var X in hZ.TJ){var w=cI.acj(X),G=0,R=15,d=null;
if(o[X]==null){if(hZ.TJ[X].length!=1||X=="photoshop:Credit"||X=="photoshop:Source"){K.push(X);h.push(w)}continue}for(var N=0;
N<a.length;N++)if(X.startsWith(a[N]))G=N;if(G!=x){B.xG(g);x=G}if(X=="tiff:ImageDescription"||X=="dc:Keywords"){R=18.5;
d=3}var q=new h$(w,null,R,d);C[X]=q;var m=o[X];if(m instanceof Array)m=m[1]==0?"---":m[0]+"/"+m[1];var M=new hs("\u2716",null,fF.get([5,4]));
g.appendChild(M.e);M.h("click",this.VN,this);M.at3=X;q.I(m);g.appendChild(q.e);B.zw(g);if(X=="exif:GPSLongitude"&&o["exif:GPSLatitude"]){this.aaN=cI.a0P(o["exif:GPSLatitude"])+","+cI.a0P(o["exif:GPSLongitude"]);
var Z=new hs("Show on map",!1,null,!0);g.appendChild(Z.e);B.zw(g);Z.h("click",this.aha,this)}}this.W4.e5(h);
this.W4.I(0)};cI.prototype.KG=function(){var o=this.cl,g=hZ.TJ,C={};for(var a in g){var x=g[a][0],K=typeof x;
if(x==null||o[a]==null)continue;var h=o[a].O(),X="The value of \""+cI.acj(a)+"\" must ";if(K=="number"){h=parseFloat(h);
if(isNaN(h)){alert(X+"be a number.");h=x}}else if(x instanceof Array&&x.length==2){if(h.indexOf("/")==-1){alert(X+"be a fraction.");
h=x.slice(0)}else{h=h.split("/").map(parseFloat);if(isNaN(h[0])||isNaN(h[1])){h=x.slice(0)}}}C[a]=h}return C};
cI.a0P=function(o){var g=o.length,C=o.slice(0,g-1).split(",").map(parseFloat),a=o.slice(g-1),x=C[0]+C[1]/60+C[2]/3600;
if(a!="N"&&a!="E")x=-x;return x};cI.prototype.aha=function(o){window.open("https://maps.google.com?q="+this.aaN,"Map")};
function jk(){g8.call(this,[11,5],"gradienteditor");this.$a=null;this.b_=null;this.fz=null;this.D1=null;
this.P7=!1;this.u2=!1;this.cv=null;this.v0=null;this.iU=-1;this.sE=-1;this.ay=0;this.DN=this.wZ.bind(this);
this.z9=this.Px.bind(this);this.J=B.f("canvas");this.$A=this.J.getContext("2d");this.J.setAttribute("style","display:block");
this.Hh=null;B.G1(this.J);B.sa(this.J,this.Ww.bind(this));this.lw=B.f("div","form");this.gv=B.f("div");
this.hy=B.f("div","form");this.u5=B.f("div");this.Yf=new jz([12,44],[[15,10,0],[24,6]]);this.Yf.h(D.E.p,this.O7,this);
this.body.appendChild(this.Yf.e);B.xG(this.body);var o=this.lw;this.RH=new e8([19,3,3],0,100,"%");this.RH.h(D.E.p,this.O7,this);
this.RH.parent=this;o.appendChild(this.RH.e);B.zw(o);this.c$=new d3([12,0]);o.appendChild(this.c$.e);
this.ht=B.f("div","bordered padded noalign");o.appendChild(this.ht);this.xW=new e8([12,0],0,100,"%");
this.xW.parent=this;this.xW.h(D.E.p,this.O7,this);this.ht.appendChild(this.xW.e);this.kx=new e8([12,40],0,100,"%");
this.kx.parent=this;this.kx.h(D.E.p,this.O7,this);this.ht.appendChild(this.kx.e);this.bi=new hs([5,4],!1,null,!0);
this.bi.h("click",this.aeC,this);this.ht.appendChild(this.bi.e);o.appendChild(this.gv);this.axg=new d3([13,0]);
o.appendChild(this.axg.e);this.$r=B.f("div","bordered padded noalign");o.appendChild(this.$r);this.bA=new jz([12,44],[[12,45],[12,46],[12,47]]);
this.bA.h(D.E.p,this.O7,this);this.$r.appendChild(this.bA.e);this.x7=new jD(!0);this.x7.parent=this;
this.x7.h(D.E.p,this.O7,this);this.$r.appendChild(this.x7.e);this.zA=new e8([12,40],0,100,"%");this.zA.parent=this;
this.zA.h(D.E.p,this.O7,this);this.$r.appendChild(this.zA.e);this.i4=new hs([5,4],!1,null,!0);this.i4.h("click",this.ah0,this);
this.$r.appendChild(this.i4.e);var o=this.hy;this.ij=new e8("Roughness",0,100,"%");this.ij.h(D.E.p,this.O7,this);
this.ij.parent=this;o.appendChild(this.ij.e);o.appendChild(this.u5);this.Q_=new hs([25,1,2],!1,null,!0);
this.Q_.h("click",this.O7,this);o.appendChild(this.Q_.e);this.jX=B.FK(this);this.h("closebtn",this.DR,this)}jk.prototype=new g8;
jk.prototype.DR=function(o){if(this.P7)this.D1(this.$a)};jk.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();this.RH.Q();this.c$.Q();this.axg.Q();this.bi.Q();this.i4.Q();this.xW.Q();this.kx.Q();this.bA.Q();
this.zA.Q();this.Q_.Q()};jk.prototype.Xt=function(o,g){this.fz=o};jk.prototype.Tk=function(o,g){this.b_=JSON.parse(JSON.stringify(g.T));
this.$a=JSON.parse(JSON.stringify(g.T));this.cv=this.v0=null;this.D1=g.Ef;this.P7=!1;this.u2=g.s9;this.Ga();
this.MA()};jk.prototype.GU=function(o){var g=this.b_;this.D1(g);this.close()};jk.prototype.td=function(o){return o==c_.nJ||o==c_._k};
jk.prototype.Uh=function(o,g,C,a){if(a.a(c_.nJ)||a.a(c_._k)){if(this.v0)this.aeC();if(this.cv)this.ah0()}};
jk.prototype.aeC=function(o){var g=this.b_.Trns.v;if(this.v0==null||g.length==1)return;g.splice(g.indexOf(this.v0),1);
this.v0=null;this.Ga();this.MA()};jk.prototype.ah0=function(o){var g=this.b_.Clrs.v;if(this.cv==null||g.length==1)return;
g.splice(g.indexOf(this.cv),1);this.cv=null;this.Ga();this.MA()};jk.prototype.Ga=function(){var o=this.J,g=this.$A,C=B.r();
o.width=Math.floor(410*C);o.height=Math.floor(70*C);B.IC(o,o.width,o.height);o.style.marginTop="8px";
this.Hh=new aS(0,0,Math.floor(380*C),Math.floor(32*C));this.Hh.x=Math.floor((o.width-this.Hh.m)/2);this.Hh.y=Math.floor((o.height-this.Hh.n)/2);
var a=this.Hh,x=a.m,K=a.n,h=a.x,X=a.y,w=new aS(0,0,x,K),G=g.getImageData(0,0,x,K),R=new Uint8Array(G.data.buffer);
l.kz(R,x,K,8);var d=l.Z(x*K*4);l.T.hd(this.b_,d,w,[1/x,0,0,1/K],x/2,K/2,!1,0,this.fz.L$,this.fz.KT);
l.j.Ly("norm",d,a,R,a,a,1);g.clearRect(0,0,o.width,o.height);g.putImageData(G,h,X);var q=this.b_;if(q.Clrs){var m=q.Trns.v,M=q.Clrs.v,Z=l.T.V2(M,this.fz.L$,this.fz.KT),Q=Math.round(6*B.r()),p=Math.round(14*B.r()),y=this.v0?this.v0.v:null,V=this.cv?this.cv.v:null;
for(var N=0;N<m.length;N++){var W=m[N].v,v=Math.round(255-255*W.Opct.v.val/100);if((W==y||m[N-1]&&m[N-1].v==y||N==this.sE)&&N!=0){g.fillStyle="#000000";
g.fillRect(h-3+x*(m[N-1].v.Lctn.v+(W.Lctn.v-m[N-1].v.Lctn.v)*W.Mdpn.v/100)/4096,X-6-2,6,6)}if(W==y){g.fillStyle="#ffffff";
g.fillRect(h-Q+x*(W.Lctn.v/4096)-2,X-2-p-2,2*Q+4,p+4)}g.fillStyle="rgb("+v+","+v+","+v+")";g.fillRect(h-Q+x*(W.Lctn.v/4096),X-2-p,2*Q,p)}for(var N=0;
N<M.length;N++){var j=M[N].v,e=Z[N];if((j==V||M[N-1]&&M[N-1].v==V||N==this.iU)&&N!=0){g.fillStyle="#000000";
g.fillRect(h-3+x*(M[N-1].v.Lctn.v+(j.Lctn.v-M[N-1].v.Lctn.v)*j.Mdpn.v/100)/4096,X+K+2,6,6)}if(j==V){g.fillStyle="#ffffff";
g.fillRect(h-Q+x*(j.Lctn.v/4096)-2,X+K+2-2,2*Q+4,p+4)}g.fillStyle="rgb("+Math.round(e.z)+", "+Math.round(e.B)+","+Math.round(e.K)+")";
g.fillRect(h-Q+x*(j.Lctn.v/4096),X+K+2,2*Q,p)}}if(this.u2){this.D1(this.b_);this.P7=!0}};jk.prototype.MA=function(){var o=this.b_,g=o.Clrs?0:1;
this.Yf.I(g);if(B.Af(this.lw))this.body.removeChild(this.lw);if(B.Af(this.hy))this.body.removeChild(this.hy);
(g==0?this.gv:this.u5).appendChild(this.J);if(g==0){this.body.appendChild(this.lw);this.RH.I(Math.round(100*o.Intr.v/4096));
var C=o.Trns.v,a=o.Clrs.v,x=this.v0!=null,K=this.sE!=-1;this.xW.ZB(x);this.kx.ZB(x||K);this.bi.ZB(x);
if(x){this.ht.setAttribute("style","");var h=this.v0.v;this.kx.I(Math.round(100*h.Lctn.v/4096));this.xW.I(h.Opct.v.val)}if(K)this.kx.I(C[this.sE].v.Mdpn.v);
var x=this.cv!=null,K=this.iU!=-1;this.bA.ZB(x);this.x7.ZB(x);this.zA.ZB(x||K);this.i4.ZB(x);if(x){this.$r.setAttribute("style","");
var X=this.cv.v;this.zA.I(Math.round(100*X.Lctn.v/4096));var w=X.Type.v.Clry;this.bA.I(["FrgC","BckC","UsrS"].indexOf(w));
if(w=="FrgC")this.x7.NJ(this.fz.L$);if(w=="BckC")this.x7.NJ(this.fz.KT);if(w=="UsrS")this.x7.I(X.Clr.v)}if(K)this.zA.I(a[this.iU].v.Mdpn.v)}else{this.body.appendChild(this.hy);
this.ij.I(Math.round(100*o.Smth.v/4096))}this.body.appendChild(this.jX.e)};jk.prototype.O7=function(o){var g=this.b_,C=g.Clrs?0:1;
if(o.target==this.Yf){var a=C==0?JSON.parse(hf.xH.auY).v:hb.l3("grdm").Grad.v;this.b_=a;this.MA();this.Ga();
return}if(C==0){g.Intr.v=Math.round(4096*this.RH.O()/100);var x=g.Trns.v,K=g.Clrs.v;if(this.v0!=null){var h=this.v0.v;
h.Lctn.v=Math.round(4096*(this.kx.O()/100));h.Opct.v.val=this.xW.O()}if(this.cv!=null){var X=this.cv.v;
X.Lctn.v=Math.round(4096*(this.zA.O()/100));if(o.target==this.x7)this.bA.I(2);var w=this.bA.O();X.Type.v.Clry=["FrgC","BckC","UsrS"][w];
if(w==2)X.Clr={t:"Objc",v:this.x7.O()};else if(X.Clr)delete X.Clr}if(this.sE!=-1)x[this.sE].v.Mdpn.v=this.kx.O();
if(this.iU!=-1)K[this.iU].v.Mdpn.v=this.zA.O()}else{g.Smth.v=Math.round(4096*this.ij.O()/100);if(o.target==this.Q_)g.RndS.v=Math.floor(Math.random()*4294967295)}this.Ga()};
jk.prototype.Ww=function(o){var g=B.Iw(o,this.J),C=this.Hh,a=(g.x*B.r()-C.x)/C.m,x=(g.y*B.r()-C.y)/C.n,K=this.b_.Trns.v,h=this.b_.Clrs.v,X=null,w=null,G=-1,R=-1;
if(x<1)for(var N=0;N<K.length;N++){var d=K[N].v;if(Math.abs(d.Lctn.v/4096-a)<.02)X=K[N];if(N>0)if(Math.abs((K[N-1].v.Lctn.v+(d.Lctn.v-K[N-1].v.Lctn.v)*d.Mdpn.v/100)/4096-a)<.01)G=N}if(x>0)for(var N=0;
N<h.length;N++){var q=h[N].v;if(Math.abs(q.Lctn.v/4096-a)<.02)w=h[N];if(N>0)if(Math.abs((h[N-1].v.Lctn.v+(q.Lctn.v-h[N-1].v.Lctn.v)*q.Mdpn.v/100)/4096-a)<.01)R=N}if(w==null&&X==null&&G==-1&&R==-1){if(x<0){var d={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
d.v.Lctn.v=Math.round(a*4096);K.push(d);K.sort(this.ze);X=d}if(x>1){var h=this.b_.Clrs.v,m=l.T.V2(h,this.fz.L$,this.fz.KT),M=l.T.uD(this.b_,m,a),q={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:l.T.CT({z:M&255,B:M>>8&255,K:M>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
q.v.Lctn.v=Math.round(a*4096);h.push(q);h.sort(this.ze);w=q}}if(w!=null)R=-1;if(X!=null)G=-1;if(w!=null||X!=null||G>-1||R>-1){this.v0=X;
this.cv=w;this.sE=G;this.iU=R;this.MA();this.Ga();B._C(window,this.DN);B.aw(window,this.z9)}};jk.prototype.wZ=function(o){var g=B.Iw(o,this.J),C=this.Hh,a=(g.x*B.r()-C.x)/C.m,x=(g.y*B.r()-C.y)/C.n;
a=Math.max(0,Math.min(1,a));var K=this.b_.Trns.v,h=this.b_.Clrs.v;if(this.v0!=null){var X=this.v0.v;
X.Lctn.v=Math.round(4096*a);var w=K.indexOf(this.v0);if(w!=-1&&x<-1&&K.length>1)K.splice(w,1);if(w==-1&&x>-1)K.push(this.v0);
K.sort(this.ze)}if(this.cv!=null){var G=this.cv.v;G.Lctn.v=Math.round(4096*a);var R=h.indexOf(this.cv);
if(R!=-1&&x>2&&h.length>1)h.splice(R,1);if(R==-1&&x<2)h.push(this.cv);h.sort(this.ze)}if(this.sE>-1){var X=K[this.sE].v;
X.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(a*4096-K[this.sE-1].v.Lctn.v)/(X.Lctn.v-K[this.sE-1].v.Lctn.v))))}if(this.iU>-1){var G=h[this.iU].v;
G.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(a*4096-h[this.iU-1].v.Lctn.v)/(G.Lctn.v-h[this.iU-1].v.Lctn.v))))}if(this.v0!=null||this.cv!=null||this.sE>-1||this.iU>-1){this.MA();
this.Ga()}};jk.prototype.Px=function(o){B.gK(window,this.DN);B.lZ(window,this.z9);if(Date.now()-this.ay<300){if(this.iU!=-1||this.sE!=-1){var g=(this.iU!=-1?this.b_.Clrs.v[this.iU]:this.b_.Trns.v[this.sE]).v;
g.Mdpn.v=50;this.MA();this.Ga()}else if(this.cv!=null)this.x7.aH()}this.ay=Date.now()};jk.prototype.ze=function(o,g){return o.v.Lctn.v-g.v.Lctn.v};
function c7(){g8.call(this,[11,10],"isize");this.sR=B.f("div","form");this.sR.setAttribute("style","width:20em");
this.body.appendChild(this.sR);this.dX=new hh(!0,!0,null,null,!0);this.sR.appendChild(this.dX.e);this.f5=new eT([12,25,3]);
this.f5.I(!0);this.sR.appendChild(this.f5.e);this.f5.h(D.E.p,this.a86,this);this.MB=new jz([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.MB.I(1);this.sR.appendChild(this.MB.e);this.jX=B.FK(this,this.body)}c7.prototype=new g8;c7.prototype.xP=function(o,g){return o!=null};
c7.prototype.rJ=function(){return!0};c7.prototype.a86=function(o){var g=this.f5.O(),C=this.dX,a=this.MB;
if(g)a.ih();else a.Uy();if(g)C.a98();else C.afn()};c7.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();this.MB.Q();this.dX.Q()};c7.prototype.GU=function(o){this.close();var g=this.dX.O(),C=g.x,a=g.y,x=this.MB.O();
if(!this.f5.O())x=null;var K=new jO(D.E._h,!0);K.data=c.ro.apk(C,a,this.dX.V8(),x);this.c(K)};c7.prototype.Tk=function(o,g){this.dX.I(new eN(o.m,o.n),o.zC);
this.dX.Vg()};function bT(){g8.call(this,"Import RAW","importraw");var o=B.f("div","flexrow"),g=B.f("div");
g.setAttribute("style","margin-bottom: 1em");this.body.appendChild(o);this.body.appendChild(g);var C=B.f("div","form");
C.setAttribute("style","width:18em");o.appendChild(C);var a=B.f("div","form");a.setAttribute("style","width:15em");
o.appendChild(a);this.Gm=null;this.Tp=null;this.q$=null;this.AG=null;this.af_=[];var x=[];for(var N=0;
N<bT.ur.length;N++)x.push(bT.ur[N]+" Bits");var K=this.l_=[new hh(!0,null,null,!0),new e8([12,72],1,8),new eT("Last one is Transparency"),new jT([12,34],x),new jT("Byte Order",["12-34","34-12"]),new jz("Guesses",[])];
for(var N=0;N<K.length;N++){var h=K[N];h.parent=this;h.h(D.E.p,N==5?this.axE:this.Ez,this);var X=N==0?C:N==5?g:a;
X.appendChild(h.e)}this.J=B.f("canvas");this.$A=this.J.getContext("2d");this.body.appendChild(this.J);
this.jX=B.FK(this,this.body)}bT.prototype=new g8;bT.prototype.Q=function(){g8.prototype.Q.call(this);
var o=this.l_;this.jX.Q();for(var N=0;N<o.length;N++)o[N].Q()};bT.prototype.GU=function(o){this.close();
var g=this.l_[0].O(),C=bl.ng(this.Tp,[{data:this.q$,m_:new aS(0,0,g.x,g.y)}]);if(this.AG)C.JH=this.AG;
var a=new jO(D.E.X,!0);a.data={C:!0?D.t.Ds:D.t.L2,db:C};this.c(a)};bT.ur=[8,16];bT.prototype.Tk=function(o,g){this.Gm=new Uint8Array(g.FP);
this.Tp=g.vo;var C=this.Gm.length,a=[1,3,4],x=0,K=0,h=1,X=1,w=this.af_=[];for(var G=0;G<3;G++){for(var R=0;
R<2;R++){var d=bT.ur[R],q=a[G],m=q*d,M=Math.round(C*8/m);if(M!=C*8/m)continue;for(var Z=0;Z<=4e3;Z++)for(var Q=0;
Q<=4e3;Q++)if(Z*Q==M){var p=0;if(Z==Q)p+=64;if(Math.round(Z/100)==Z/100&&Math.round(Q/100)==Q/100)p+=32;
if(Math.round(Z/10)==Z/10&&Math.round(Q/10)==Q/10)p+=16;if(Math.round(Z/2)==Z/2&&Math.round(Q/2)==Q/2)p+=8;
w.push([Z,Q,q,d,p])}}}var y=function(j,e){if(e[4]!=j[4])return e[4]-j[4];var T=Math.max(j[0],j[1])/Math.min(j[0],j[1]),O=Math.max(e[0],e[1])/Math.min(e[0],e[1]);
if(T!=O)return T-O;return e[0]-j[0]};w.sort(y);var V=this.l_,W=[];for(var N=0;N<w.length;N++){var v=w[N];
W.push(v[0]+" x "+v[1]+", "+v[2]+"ch, "+v[3]+"-bit")}V[5].e5(W);V[5].I(0);this.axE(null)};bT.prototype.axE=function(o){var g=this.l_,C=this.af_[this.l_[5].O()];
g[0].I(new eN(C[0],C[1]),72);g[1].I(C[2]);g[3].I(bT.ur.indexOf(C[3]));this.Ez()};bT.prototype.Ez=function(o){var g=this.l_,C=g[0].O(),a=C.x,x=C.y,K=bT.ur[g[3].O()],h=this.Gm;
if(K==16&&g[4].O()==1){h=h.slice(0);for(var N=0;N<h.length;N+=2){var X=h[N];h[N]=h[N+1];h[N+1]=X}}var w=this.q$=this.gd(h,a,x,g[1].O(),K,g[2].O()),G=this.J,R=this.$A,d=[w,new aS(0,0,a,x)];
l.WP(d);for(var N=0;N<d.length;N+=2)if(d[N+1].n<300){w=d[N];a=d[N+1].m;x=d[N+1].n;break}G.width=a;G.height=x;
B.IC(G,a,x);var q=new ImageData(new Uint8ClampedArray(w.buffer),a,x);R.putImageData(q,0,0)};bT.prototype.gd=function(o,g,C,a,x,K){this.AG=null;
var h=[],X=g*C;for(var w=0;w<a;w++){var G=l.Z(X);h.push(G);if(x==8)for(var N=0;N<X;N++)G[N]=o[N*a+w];
else if(x==16)for(var N=0;N<X;N++)G[N]=Math.round((o[(N*a+w)*2]<<8|o[(N*a+w)*2+1])*(255/65535))}var R=l.Z(X*4);
new Uint32Array(R.buffer).fill(4278190080);if(K){l.Oa(h.pop(),R,3);a--}if(a==0){}else if(a==1)l.B2(h[0],R);
else{l.Oa(h[0],R,0);l.Oa(h[1],R,1);if(a>2){l.Oa(h[2],R,2);if(a>3){this.AG=[];for(var N=3;N<a;N++){var d=new A.QX;
d.name="Alpha "+(N-2);d.rect=new aS(0,0,g,C);d.channel=h[N];this.AG.push(d)}}}}return R};function eY(o,g,C){ar.call(this);
this.e=B.f("div","");this.J1=o;this.r_=null;this.Oj=g==null?!1:g;this.zI=null;this.Xp=C;this.pP=[];this.dc=[];
this.p4=[];this._E=[];this.VK=0;this.r_=this.a9i(eY._E[o]);this.m3();this.yr=null;this.anr;this.aiy}eY.prototype=new ar;
eY.prototype.xA=function(o,g,C,a,x){this.yr=x;this.anr=JSON.parse(JSON.stringify(this.zI));if(this.r_.lagl)this.aiy=this.r_.lagl.O()[0]};
eY.prototype.kh=function(o,g,C,a,x){var K=this.yr,h=this.J1,X=this.anr;if(K==null)return;var w=(x.x-K.x)/o.u.R,G=(x.y-K.y)/o.u.R;
if(h=="GrFl"){var R=JSON.parse(JSON.stringify(X.Ofst.v));R.Hrzn.v.val+=w*.5;R.Vrtc.v.val+=G*.5;this.r_.Ofst.I(R,!0)}if(h=="patternFill"){var R=JSON.parse(JSON.stringify(X.phase.v));
R.Hrzn.v+=w;R.Vrtc.v+=G;this.r_.phase.I(R,!0)}if(h=="DrSh"||h=="IrSh"||h=="ChFX"){var d=X.Dstn.v.val,q=this.aiy*Math.PI/180,m=-Math.cos(q)*d+w,M=Math.sin(q)*d+G;
this.r_.Dstn.I(Math.sqrt(m*m+M*M),!0);this.r_.lagl.I([Math.atan2(M,-m)*180/Math.PI],!0)}};eY.prototype.eO=function(o,g,C,a,x){this.yr=null};
eY.prototype.ajI=function(){for(var N=0;N<this._E.length;N++){B.Qq(this._E[N],"selected");if(this.p4[N]instanceof eT)this.p4[N].I(!1)}};
eY.prototype.avS=function(o){var g=this.apA.bind(this);for(var N=0;N<this.p4.length;N++){var C=B.f("div","listitem");
this._E.push(C);if(N>0)C.textContent="\u2003";C.appendChild(this.p4[N].e);if(hf.aln.indexOf(this.J1)!=-1){var a=new hs("+");
a.nU();a.e.style.float="right";C.appendChild(a.e);var x=new hs("\u2B0D");x.nU();x.e.style.float="right";
x.e.style["margin-right"]="2px";C.appendChild(x.e)}C.addEventListener("click",g,!1);o.appendChild(C)}};
eY.IE=function(o,g){var C=g.getBoundingClientRect();return(o.clientY-C.top)/C.height};eY.prototype.apA=function(o){var g=o.target.tagName.toLowerCase();
if(g=="input"){return}if(g=="button"){var C=new jO(D.E.q,!0),a=o.target.textContent=="+",x=a?0:eY.IE(o,o.target)<.5?-1:1;
if(a)C.data={C:"st_dupsingle",l:this.parent.data.l,lh:this.Xp};else C.data={C:"st_movsingle",l:this.parent.data.l,lh:this.Xp,a9n:x};
C.F=c.gc;C.on=!0;this.c(C);C=new jO("redrawall",!0);C.data={a9n:x};this.c(C);return}B.eI(o);this.vj();
this.VK=this._E.indexOf(o.currentTarget);this.c(new jO("showme"))};eY.prototype.vj=function(){if(this.r_.enab&&this.r_.enab.O()==!1)this.hD({L_:"enab",k:!0})};
eY.prototype.axk=function(){var o=this._E[this.VK];if(o)B.lK(o,"selected");return this.dc[this.VK]};
eY.prototype.a9i=function(o){var g={};for(var N=0;N<o.length;N++){var C=o[N],a=null;if(C=="----")a={e:B.f("hr")};
if(C=="\n")a={e:B.f("br")};if(C=="blOptions")a=new d3([14,10]);if(C=="brst")a=new ap([12,72],["R","G","B"]);
if(C=="knko")a=new jz("Knockout",[[13,1,0],"Shallow","Deep"]);if(C=="enab")a=new eT(hf.names[hf.order.indexOf(this.J1)]);
if(C=="lrMd"||C=="Md")a=new jz([12,19,0],cP.sz,!1,cP.Hm);if(C=="Opct")a=new iH([12,0],0,100,"%");if(C=="iOpa")a=new iH([12,26],0,100,"%");
if(C=="blIf")a=new cW;if(C=="ShdN")a=new iH([12,68],0,100,"%");if(C=="lagl"||C=="Angl")a=new ah([12,15],this.J1=="ebbl");
if(C=="uglg")a=new eT([12,27]);if(C=="Dstn")a=new iH([12,28],0,200,"px");if(C=="Ckmt")a=new iH([12,29],0,100,"%");
if(C=="blur")a=new iH([12,14,0],0,200,"px");if(C=="TrnS"||C=="MpgS")a=new fM([12,21]);if(C=="Nose")a=new iH([12,30],0,100,"%");
if(C=="layerConceals")a=new eT([12,31]);if(C=="AntA"||C=="antialiasGloss")a=new eT([12,25,1]);if(C=="GlwT")a=new jz([12,32],hf.oE.names);
if(C=="glwS")a=new jz([12,70],hf.oE.al4);if(C=="Inpr")a=new iH([12,12],1,100,"%");if(C=="bvlS")a=new jz([12,22],hf.uM.style);
if(C=="bvlT")a=new jz([12,32],hf.uM.abh);if(C=="bvlD")a=new jz(null,hf.uM.dir);if(C=="srgR")a=new iH([12,34],0,1e3,"%");
if(C=="Sftn")a=new iH([12,35],0,20,"px");if(C=="Lald")a=g.lagl;if(C=="hglM"||C=="sdwM")a=new jz([12,36],cP.sz,!1,cP.Hm);
if(C=="hglC"||C=="sdwC")a=new jD;if(C=="hglO"||C=="sdwO")a=new iH([12,0],0,100,"%");if(C=="Invr"||C=="InvT")a=new eT([4,11]);
if(C=="Sz")a=new iH([12,14,0],1,200,"px");if(C=="Styl")a=new jz([12,40],hf.stroke.names);if(C=="PntT")a=new jz([12,66],hf.stroke.al1);
if(C=="Clr")a=new jD(!0);if(C=="Grad"){a=new dT(!0,[12,37],!0);a.I(JSON.parse(hf.xH.acT).v)}if(C=="Rvrs")a=new eT([12,23,0]);
if(C=="Dthr")a=new eT([12,23,3]);if(C=="Type")a=new jz([12,22],hf.T.names.slice(0,this.J1=="FrFX"?6:5));
if(C=="Ptrn")a=new a2([12,62]);if(C=="Scl")a=new iH([12,38],5,500,"%",0,!0);if(C=="Algn")a=new eT([12,39]);
if(C=="Ofst")a=new ev(!0);if(C=="phase")a=new ev(!1);if(C=="useShape")a=new eT([12,21]);if(C=="useTexture")a=new eT([12,67]);
if(C=="textureDepth")a=new iH([12,34],-300,300,"%");var x=C=="----"||C=="\n"?C+N:C;if(a!=null)g[x]=a}return g};
eY.prototype.a1c=function(o){var g=this.dc[this.VK];for(var N=0;N<o.length;N++){var C=this.r_[o[N]];
if(C&&g.contains(C.e))g.removeChild(C.e)}};eY.prototype.akv=function(o){var g=this.dc[this.VK];for(var N=0;
N<o.length;N++){var C=this.r_[o[N]];if(C&&!g.contains(C.e))g.appendChild(C.e)}};eY.prototype.Xt=function(o,g){if(this.r_==null)return;
var C=g==e1.B3;if(this.r_.Grad){this.r_.Grad.gQ(o.L$,o.KT);if(C||g==e1.Zr||g==e1.W2)this.r_.Grad.Fs(o.mh)}if(this.r_.Ptrn){if(C||g==e1.OF)this.r_.Ptrn.Fs(o.XA)}if(this.r_.TrnS){if(C||g==e1.fC)this.r_.TrnS.Fs(o.Dk)}if(this.r_.MpgS){if(C||g==e1.fC)this.r_.MpgS.Fs(o.Dk)}};
eY.prototype.Q=function(){for(var N=0;N<this.pP.length;N++)this.pP[N].Q();for(var o in this.r_)if(this.r_[o]instanceof ar)this.r_[o].Q()};
eY.prototype.m3=function(){for(var o in this.r_){var g=this.r_[o];g.parent=this;if(g instanceof ar)g.h(D.E.p,this.a9u,this);
if(this.dc.length==0||o=="useShape"||o=="useTexture"){var C=new d3(g.a2w()),a=B.f("div","bordered padded");
if(this.Oj==!1){a.appendChild(C.e);a.appendChild(B.f("hr",""))}this.pP.push(C);this.dc.push(a);this.p4.push(g)}else this.dc[this.dc.length-1].appendChild(g.e)}};
eY.prototype.update=function(o,g){if(this.r_==null)return;this.zI=JSON.parse(JSON.stringify(g));for(var C in g){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(C)!=-1)this.r_[C].I(g[C].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(C)!=-1){this.r_[C].I(g[C].v,o)}if(["Md","hglM","sdwM"].indexOf(C)!=-1)this.r_[C].I(cP.J1.indexOf(g[C].v.BlnM));
if(C=="lrMd"){var a=(g.sP?[[15,10,27]]:[]).concat(cP.sz),x=(g.sP?[1]:[]).concat(cP.Hm);this.r_[C].e5(a,x);
this.r_[C].I(g[C].v)}if(C=="Angl")this.r_[C].I([g[C].v.val]);if(C=="lagl"){var K=g.uglg&&g.uglg.v?o.T6():g.lagl.v.val;
this.r_[C].I([K])}if(C=="Lald"){var K=g.uglg&&g.uglg.v?o.jU():g.Lald.v.val;this.r_[C].I([null,K])}if(C=="Type")this.r_[C].I(hf.T.types.indexOf(g.Type.v.GrdT));
if(C=="Styl")this.r_[C].I(hf.stroke.types.indexOf(g.Styl.v.FStl));if(C=="PntT"){var h=hf.stroke.Jd.indexOf(g.PntT.v.FrFl);
this.r_[C].I(h);if(!this.Oj){this.a1c(hf.nD.concat(hf.mK.concat(hf.ti)));this.akv([hf.nD,hf.mK,hf.ti][h])}}if(C=="GlwT")this.r_[C].I(hf.oE.types.indexOf(g.GlwT.v.BETE));
if(C=="glwS")this.r_[C].I(hf.oE.asV.indexOf(g.glwS.v.IGSr));if(C=="bvlS")this.r_[C].I(hf.uM.types.indexOf(g.bvlS.v.BESl));
if(C=="bvlT")this.r_[C].I(hf.uM.a59.indexOf(g.bvlT.v.bvlT));if(C=="bvlD")this.r_[C].I(["In","Out"].indexOf(g.bvlD.v.BESs))}};
eY.prototype.a9u=function(o){for(var g in this.r_){if(this.r_[g]!=o.target)continue;var C=null,a=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(g)!=-1)C={type:"#Prc",val:o.target.O()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(g)!=-1)C={type:"#Pxl",val:o.target.O()};if(["Angl","lagl"].indexOf(g)!=-1)C={type:"#Ang",val:o.target.O()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(g)!=-1)C=o.target.O();
if(["Md","hglM","sdwM"].indexOf(g)!=-1)C={BlnM:cP.J1[o.target.O()]};if(g=="uglg"){C=o.target.O();a=!0}if(g=="PntT"){C={FrFl:hf.stroke.Jd[o.target.O()]};
a=!0}if(g=="Lald")C={type:"#Ang",val:o.target.O()[1]};if(g=="Type")C={GrdT:hf.T.types[o.target.O()]};
if(g=="Styl")C={FStl:hf.stroke.types[o.target.O()]};if(g=="GlwT")C={BETE:hf.oE.types[o.target.O()]};
if(g=="glwS")C={IGSr:hf.oE.asV[o.target.O()]};if(g=="bvlS")C={BESl:hf.uM.types[o.target.O()]};if(g=="bvlT")C={bvlT:hf.uM.a59[o.target.O()]};
if(g=="bvlD")C={BESs:["In","Out"][o.target.O()]};this.hD({L_:g,k:C});if(a){if(this.Oj)this.update(null,this.zI);
else{var x=this.parent,K=x.db,h=this.Xp,X=K.g[x.data.l].add.lmfx[hf.l8[h[0]]].v[h[1]].v;this.update(K,X)}}}};
eY.prototype.hD=function(o){if(this.zI&&this.zI[o.L_])this.zI[o.L_].v=o.k;if(this.Oj){this.c(new jO(D.E.p))}else{o.C="changeprop";
o.l=this.parent.data.l;o.XE=this.Xp;var g=new jO(D.E.q,!0);g.data=o;g.F=c.gc;g.on=!0;this.c(g);this.c(new jO("afterchange",!0))}};
eY.prototype.O=function(){return JSON.parse(JSON.stringify(this.zI))};eY._E={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(hf.nD),GrFl:["enab","Md","Opct"].concat(hf.mK),patternFill:["enab","Md","Opct"].concat(hf.ti),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(hf.nD.concat(hf.mK.concat(hf.ti)))};
function f9(){g8.call(this,[11,6],"layerstyle");this.abf=-1;this.data={};this.db=null;this.wq=null;this.pl=[];
this.BS=[];B.lK(this.body,"flexrow");this.sK=B.f("div","bordered");this.sK.setAttribute("style","min-width:13em;");
this.body.appendChild(this.sK);this.gL=B.f("div","");this.gL.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.gL);this.IR=B.f("div","form");this.IR.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.IR);this.jX=B.FK(this,this.IR);this.LU=new hs([12,87],!0,null,!0);this.LU.h("click",this.a53,this);
this.IR.appendChild(this.LU.e);this.Wh=new jU;this.Wh.parent=this;this.Wh.h(D.E.p,this.a42,this);this.IR.appendChild(this.Wh.e);
this.h("closebtn",this.DR,this);this.h("redrawall",this.a3j,this)}f9.prototype=new g8;f9.prototype.rJ=function(){return!0};
f9.prototype.DP=function(){return!0};f9.prototype.xA=function(o,g,C,a,x){var K=this.Ym();if(K)K.xA(o,g,C,a,x)};
f9.prototype.kh=function(o,g,C,a,x){var K=this.Ym();if(K)K.kh(o,g,C,a,x)};f9.prototype.eO=function(o,g,C,a,x){var K=this.Ym();
if(K)K.eO(o,g,C,a,x)};f9.prototype.Ym=function(o){if(o==null)o=this.data.index;return o==null?null:o==0?this.pl[0]:this.BS[o[0]][o[1]]};
f9.prototype.a42=function(o){var g=this.Wh.O();this.hD({C:"setstl",k:g.ex});this.a3j(null)};f9.prototype.a53=function(o){var g=this.db,C=this.data.l;
if(C==null)C=g.A[0];var a=this.db.g[C],x=bd.apN(a),K=new jO(D.E.X,!0);K.data={C:D.t.sM,GJ:"add",eA:e1.Ih,dt:[JSON.parse(JSON.stringify(x))]};
this.c(K)};f9.prototype.aeR=function(o){this.data.index=o.currentTarget.Xp;this.bT(o.currentTarget.Xp)};
f9.prototype.a3j=function(o){this.Tk(this.db,this.data)};f9.prototype.bT=function(o,g){B.KZ(this.gL);
for(var N=0;N<this.pl.length;N++)this.pl[N].ajI();var C=this.Ym(o);this.gL.appendChild(C.axk());if(g)C.vj();
var a=this.db;if(a){var x=a.g[this.data.l];this.pl[0].update(a,c.n2.Xn(a,x));var K=x.add.lmfx;if(K==null)return;
for(var N=0;N<hf.order.length;N++){var h=K[hf.l8[N]].v;for(var X=0;X<h.length;X++)this.BS[N][X].update(a,h[X].v)}}if(g)C.vj()};
f9.prototype.Q=function(){g8.prototype.Q.call(this);this.LU.Q();this.Wh.Q();this.jX.Q();for(var N=0;
N<this.pl.length;N++)this.pl[N].Q()};f9.prototype.Tk=function(o,g){var C=g.l==null;this.data.l=g.l;this.data.index=g.index;
g=this.data;this.db=o;if(C)g.l=o.A.length==0?o.g.length-1:o.A[0];B.KZ(this.sK);var a=o.g[g.l].add.lmfx;
this.ty();this.pl=[new eY("bops",!1,0)];this.BS=[];for(var N=0;N<hf.order.length;N++){this.BS.push([]);
var x=a==null?[]:a[hf.l8[N]].v;for(var K=0;K<x.length;K++){var h=new eY(hf.order[N],!1,[N,K]);this.pl.push(h);
this.BS[N].push(h)}if(x.length==0){var h=new eY(hf.order[N],!1,[N,0]);this.pl.push(h);this.BS[N].push(h)}}this.Q();
this.aax(this.wq,e1.B3);for(var N=0;N<this.pl.length;N++){this.pl[N].parent=this;this.pl[N].avS(this.sK);
this.pl[N].h("showme",this.aeR,this)}if(g.index==null||g.index==0||!C&&a[hf.l8[g.index[0]]].v.length==0){this.bT(0)}else this.bT(g.index,C);
this.h("afterchange",this.ty,this)};f9.prototype.ty=function(o){var g=this.db,C=this.data.l;if(C==null)C=g.A[0];
var a=this.db.g[C],x=bd.apN(a);this.Wh.I(x,g.add.Patt?g.add.Patt:[],g.T6(),g.jU())};f9.prototype.Xt=function(o,g){this.wq=o;
this.aax(o,g);if(g==e1.Ih||g==e1.B3){this.Wh.Fs([o.E7,o.XA])}if(g==e1.EW){}};f9.prototype.aax=function(o,g){for(var N=0;
N<this.pl.length;N++)this.pl[N].Xt(o,g)};f9.prototype.DR=function(o){this.hD({C:"cancel"})};f9.prototype.GU=function(o){this.hD({C:"confirm"});
this.close()};f9.prototype.hD=function(o){o.l=this.data.l;var g=new jO(D.E.q,!0);g.data=o;g.F=c.gc;g.on=!0;
this.c(g);this.ty()};f9.tw=function(o){var g=[{name:[14,10],lL:!0}];for(var N=0;N<hf.names.length;N++)g.push({name:hf.names[N]});
if(o){g[g.length-1].lL=!0;g.push({name:"Scale Effects",N:function(C){return{N:C!=null&&C.A.length!=0&&C.g[C.A[0]].d8()}}});
g.push({name:["VAR0 VAR1",[12,49],[9,1]],N:function(C){return{N:C!=null&&C.A.length!=0&&C.g[C.A[0]].add.lmfx!=null}}})}return g};
f9.t1=function(o){var g=[{W:D.E.X,P:{C:D.t.gC,$j:"layerstyle"}}];for(var N=0;N<hf.names.length;N++)g.push({W:D.E.X,P:{C:D.t.gC,$j:"layerstyle",index:[N,0]}});
if(o){g.push({W:D.E.X,P:{C:D.t.gC,$j:"scaleeffects",zT:100,Tl:{W:D.E.q,F:c.gc,P:{C:"scaleeffects"}}}});
var C={classID:"Mk",null:kn.C8("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
g.push({W:D.E._h,P:{j7:"make",FS:C}})}return g};f9.a1i=function(o){var g=[];if(o)g.push({name:[6,48,0,0],Dd:!0},{name:[6,48,0,1],Dd:!0},{name:[6,48,0,2],Dd:!0,lL:!0});
for(var C in f6.names)g.push({name:f6.names[C],lL:f6.aux.indexOf(C)!=-1,Dd:_[C]!=null});return g};f9.Uk=function(o){var g=[];
if(o){g.push({W:D.E.q,F:c.FA,P:{C:"newfill",a0:0}});for(var N=1;N<3;N++)g.push({W:D.E._h,P:c.CC.p3(N)})}for(var C in f6.names){var a=hb.l3(C);
if(a==null)a={};for(var x in f6.su)if(f6.su[x]==C)a.classID=x;var K={j7:"make",FS:{classID:"Mk",null:kn.C8("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:a}}}}};
g.push({W:D.E._h,P:K})}return g};function bR(){g8.call(this,"Merge Channels","mergechannels");this.Xf=null;
var o=B.f("div","form");this.body.appendChild(o);this.l_=[];for(var N=0;N<3;N++){var g=new jz(f6.WK[N],[]);
this.l_.push(g);o.appendChild(g.e);B.zw(o)}this.jX=B.FK(this,o)}bR.prototype=new g8;bR.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();for(var N=0;N<3;N++)this.l_[N].Q()};bR.prototype.Tk=function(o,g,C,a){this.Xf=C;var x=[];
for(var N=0;N<C.length;N++)x.push(C[N].name);for(var N=0;N<3;N++){var K=this.l_[N];K.e5(x);K.I(Math.min(N,C.length-1))}};
bR.prototype.GU=function(o){var g=this.Xf,C=g[0],a=new jO(D.E._h,!0);a.data=aX.ik(C.m,C.n,C.zC,"Merged Document","Wht",!1);
this.c(a);var x=[];for(var N=0;N<3;N++)x.push(g[this.l_[N].O()].cf());var C=g[g.length-1],K=C.g[0],h=K.buffer;
for(var N=0;N<h.length;N+=4){h[N]=x[0][N];h[N+1]=x[1][N];h[N+2]=x[2][N]}K.L();C.L();this.close()};function h2(){g8.call(this,[1,10],"script");
var o=B.f("div","form");o.setAttribute("style","width:44em");this.body.appendChild(o);this.wq=null;this.ff=[];
this.xd=[];this.avG;var g=this.Ej=new hs([1,2],!1,null,!0);g.h("click",this.aj,this);o.appendChild(g.e);
var C=new hs("JS Reference",!1,null,!0);C.h("click",this.a7t,this);o.appendChild(C.e);o.appendChild(new d3("Demos:").e);
this.avU=[];var a=h2.sc;for(var N=0;N<a.length;N++){var x=new hs(a[N].HJ,!1,null,!0);this.avU.push(x);
o.appendChild(x.e);x.h("click",this.a0u,this)}this.lc=B.f("textarea");B.X1(this.lc);this.lc.setAttribute("rows",16);
this.lc.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");o.appendChild(this.lc);
var K=new hs("Run",!0,null,!0);K.h("click",this.GU,this);o.appendChild(K.e);this.Q8=B.f("div");o.appendChild(this.Q8)}h2.prototype=new g8;
h2.prototype.Q=function(){this.Ej.Q()};h2.prototype.aj=function(){var o=this.avG;if(o==null)o="script.jsx";
var g=new jO(D.E.X,!0);g.data={C:D.t.gC,$j:"namewindow",zT:o.slice(0,o.length-4),op:this.ajA.bind(this)};
this.c(g)};h2.prototype.ajA=function(o){var g=this.lc.value,C=u.Jz(g),a=new jO(D.E.X,!0);a.data={C:D.t.xb,FP:C.buffer,QH:o+".jsx",a28:!0};
this.c(a)};h2.prototype.agw=function(o){var N=this.ff.indexOf(o.target),g=this.avG=this.xd[N],C=this.wq.DG.nV[g],a=new Uint8Array(C),x=u.SP(a,0,a.length);
this.lc.value=x};h2.prototype.Tk=function(o,g,C){this.lc.value=h2.sc[0].S_;this.abE()};h2.prototype.abE=function(){var o=this.wq.DG,g=this.Q8;
B.KZ(g);this.ff=[];this.xd=[];g.textContent="Saved scripts: ";for(var C in o.nV){if(C.endsWith(".jsx")){var a=new hs(C,!1,null,!0);
this.ff.push(a);this.xd.push(C);a.h("click",this.agw,this);g.appendChild(a.e)}}};h2.prototype.Xt=function(o,g){this.wq=o;
if(g==e1.F0)this.abE()};h2.prototype.a7t=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.y2,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.c(g)};h2.prototype.GU=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.xv,Y3:this.lc.value};this.c(g)};
h2.prototype.a0u=function(o){var g=this.avU.indexOf(o.currentTarget);this.lc.value=h2.sc[g].S_};h2.sc=[{HJ:"Hello",S_:"\nalert(\"Hello Photopea!\");\n"},{HJ:"Process Layers",S_:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{HJ:"Clone Layers",S_:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function dB(){g8.call(this,[11,7],"newproject");this.data=null;this.Xf=null;var o=B.f("div","flexrow");
this.Sq=o;this.body.appendChild(o);var g=B.f("div","form");this.sR=g;o.appendChild(g);this.Kr=new h$([12,48],null,10);
g.appendChild(this.Kr.e);B.zw(g);this.dX=new hh(!0,null,null,null,!0);this.dX.I(new eN(1280,720),72);
this.dX.h(D.E.p,this.KM,this);g.appendChild(this.dX.e);this.kK=new fl;this.kK.parent=this;g.appendChild(this.kK.e);
this.Kb=new hs("\u02C5",null,[0,14],!0);this.Kb.h("click",this.vd,this);g.appendChild(this.Kb.e);var C=this.as1=B.f("span");
g.appendChild(C);C.style.display="none";this.a0O=new jz([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
C.appendChild(this.a0O.e);this.ZM=new eT([1,16,1]);C.appendChild(this.ZM.e);this.jX=new hs([12,49],!0,null,!0);
this.jX.h("click",this.GU,this);g.appendChild(this.jX.e);var a=dB.Gm,x=[];for(var N=0;N<a.length;N++)x.push(a[N].name);
this.vG=new jT(null,x);this.vG.h(D.E.p,this.a7I,this);g.appendChild(this.vG.e);this.vG.e.style["margin-top"]="1em";
this.Ag=new iJ(!0);this.Ag.h(D.E.p,this.aff,this);g.appendChild(this.Ag.e);this.a7I();this.dJ=new je;
this.dJ.parent=this;this.dJ.e.setAttribute("style","margin-left:1em");this.dJ.h("tempready",this.acd,this)}dB.prototype=new g8;
dB.prototype.vd=function(o){var g=this.as1,C=g.style.display!="none";g.style.display=C?"none":"";this.Kb.BB(C?"\u02C5":"\u02C4");
this.z3(this.MI,this.fB)};dB.prototype.Xt=function(o,g){this.dJ.Xt(o)};dB.prototype.ir=function(o,g){return new eN(Math.max(0,Math.min(70,(o-690)/2)),o>g?Math.max(0,Math.min(50,(g-400)/2)):0)};
dB.prototype.z3=function(o,g){this.MI=o;this.fB=g;this.sR.setAttribute("style","width:"+Math.min(o-24,338)+"px");
this.Ag.e.style.height=g-248-(this.as1.style.display=="none"?0:28)+"px";var C=this.dJ.e,a=C.parentNode;
if(o<500){if(a!=null)this.Sq.removeChild(C)}else{if(a==null)this.Sq.appendChild(C);this.dJ.z3(o-378,g-28)}};
dB.prototype.KM=function(){this.dJ.I(this.dX.O())};dB.prototype.aff=function(o){var g=this.Ag.O()[0],C=dB.Gm[this.vG.O()].yF[g],a=C[4];
if(a==0)a=72;var x=C[1],K=C[2],h=["px","%","mm","in"].indexOf(C[3]),X=[1,1,25.4/a,1/a][h];x/=X;K/=X;
this.dX.I(new eN(Math.round(x),Math.round(K)),a);this.dX.a6J(h);this.KM()};dB.prototype.a7I=function(o){var g=dB.Gm[this.vG.O()].yF,C=[],a=[],x=Math.round(106*B.r()),K=Math.round(106*B.r()),h=0;
for(var N=0;N<g.length;N++)h=Math.max(h,g[N][1],g[N][2]);for(var N=0;N<g.length;N++){var X=g[N],w=X[1]+" x "+X[2]+" "+X[3];
if(X[3]=="in")w=(X[1]*25.4).toFixed(0)+" x "+(X[2]*25.4).toFixed(0)+" mm";if(X[3]=="mm")w=(X[1]/25.4).toFixed(1)+" x "+(X[2]/25.4).toFixed(1)+" in";
if(X[4])w=w+" @ "+X[4]+" ppi";a.push(w);C.push(dB.zJ(X,x,K,h))}this.Ag.s4(C,a,x,K)};dB.zJ=function(o,g,C,a){var x=B.f("canvas",""),K=x.getContext("2d");
x.width=g;x.height=C;var h=Math.round(g/8),X=Math.floor(11*B.r()),w=o[1],G=o[2];K.fillStyle="#000000";
K.font=Math.round(X*.9)+"px \"Open Sans\", Sans-Serif";var R=w+" x "+G+" "+o[3],d=K.measureText(R);K.fillText(R,Math.round((g-d.width)/2),C-Math.round(h/2));
if(o[0]!=null){K.font="bold "+X+"px \"Open Sans\", Sans-Serif";var R=o[0],d=K.measureText(R);K.fillText(R,Math.round((g-d.width)/2),C-Math.round(h/2)-Math.round(X*1.3))}C-=Math.round(2.5*X);
var q=Math.min((g-h)/w,(C-h)/G);q*=.5+.5*(Math.max(w,G)/a);var m=(g-w*q)/2,M=(C-G*q)/2;K.strokeRect(Math.round(m)+.5,Math.round(M)+.5,Math.round(w*q),Math.round(G*q));
return x.toDataURL()};dB.prototype.Q=function(){g8.prototype.Q.call(this);this.dX.Q();this.Kr.Q();this.kK.Q();
this.jX.Q();this.Kr.I(fF.get([11,7]));this.vG.Q();this.ZM.Q();this.Kb.Q();this.dJ.Q()};dB.prototype.GU=function(o){var g=this.dX.O(),C=g.x,a=g.y;
this.close();var x=this.kK.O(),K=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a0O.O()],h=new jO(D.E._h,!0);
h.data=aX.ik(C,a,this.dX.V8(),this.Kr.O(),["Wht","Blck","Trns","Clr"][x[0]],this.ZM.O(),x[1],K);this.c(h);
this.axz()};dB.prototype.acd=function(o){var g=o.data.db;g.zC=this.dX.V8();var C=new jO(D.E.X,!0);C.data={C:D.t.Ds,db:g};
this.c(C);this.close();this.axz()};dB.prototype.axz=function(){var o=this.Xf[this.Xf.length-1],g=this.data.a0w;
if(g)dq.fk(function(){var C=new XMLHttpRequest,a="https://www.googleapis.com/drive/v3/files?"+dq.VW();
C.open("POST",a,!0);C.setRequestHeader("Content-Type","application/json");C.addEventListener("load",function(x){var K=JSON.parse(x.target.response);
o.Ur={file:K,WD:"psd"};alert(o.name+" created in Google Drive")});C.send(JSON.stringify({name:o.name,aqp:[g]}))})};
dB.prototype.Tk=function(o,g,C,a){this.Xf=C;if(o!=null&&o._!=null){var x=new aS(0,0,o.m,o.n).Kw(o._.rect);
this.dX.I(new eN(x.m,x.n))}this.data=g;this.KM();if(B.yf())c4.a5n(this.acV.bind(this))};dB.prototype.acV=function(o){if(o=="granted")c4.wu(this,this.a6f.bind(this))};
dB.prototype.a6f=function(o,g){this.dX.I(new eN(g.m,g.n))};dB.Gm=[{name:"Social",yF:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],yF:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],yF:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],yF:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],yF:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],yF:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",yF:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function aA(o,g,C){g8.call(this,g,"sel_"+o);this.C=o;var a=B.f("div","form");this.body.appendChild(a);
this.Kr=new e8(g,0,255,null,0,!1,!0);a.appendChild(this.Kr.e);this.Kr.I(1);var x=B.f("span");x.textContent=C;
a.appendChild(x);B.zw(a);this.a48=new eT("Apply at canvas bounds");if(o!="border")a.appendChild(this.a48.e);
this.jX=B.FK(this,a)}aA.prototype=new g8;aA.prototype.xP=function(o,g){if(o==null)return;if(o._==null)alert("No selection!");
return o._!=null};aA.prototype.GU=function(o){var g=new jO(D.E._h,!0);g.data=c.vk.aam(this.C,this.Kr.O(),this.a48.O());
g.on=!0;this.c(g);this.close()};aA.prototype.Q=function(){g8.prototype.Q.call(this);this.jX.Q();if(this.Kr)this.Kr.Q()};
aA.prototype.Tk=function(o,g){};function gm(o,g,C,a,x,K){g8.call(this,C,g);this.a4o=K;this.u2=x;this.Gm=null;
this.sR=B.f("div","form");this.body.appendChild(this.sR);this.Kr=o==0?new h$(C,null,10):o==1?new iH(C,0,500,a,1):new h$(C,null,24,5);
this.Kr.h(D.E.p,this.Wy,this);this.sR.appendChild(this.Kr.e);this.jX=B.FK(this,this.sR);this.h("closebtn",this.DR,this)}gm.prototype=new g8;
gm.prototype.ir=function(o,g){return new eN(Math.max(0,Math.min(150,(o-250)/2)),Math.max(0,Math.min(150,(g-120)/2)))};
gm.prototype.rJ=function(){return this.a4o};gm.prototype.Wy=function(o){var g=this.Kr.O();if(this.u2)this.A4(g)};
gm.prototype.DR=function(o){if(this.u2)this.A4("cancel")};gm.prototype.GU=function(o){if(this.u2)this.A4("confirm");
else this.A4(this.Kr.O());this.close()};gm.prototype.A4=function(o){if(this.Gm.op)this.Gm.op(o);else if(this.Gm.Tl){var g=this.Gm.Tl,C=new jO(g.W,!0);
C.F=g.F;C.data=g.P;C.data.k=o;C.on=!0;this.c(C)}};gm.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();if(this.Kr)this.Kr.Q()};gm.prototype.Tk=function(o,g){this.Gm=g;this.Kr.I(g.zT);this.Kr.Vg();
this.Wy(null)};function k6(){g8.call(this,[1,5],"open_from_url");this.U8=null;var o=B.f("div","form");
this.body.appendChild(o);this.iO=new h$("URL",null,22);o.appendChild(this.iO.e);B.zw(o);this.Yb=new jT([21,0],[[21,2],[21,1]]);
o.appendChild(this.Yb.e);this.jX=B.FK(this,o)}k6.prototype=new g8;k6.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();this.Yb.Q()};k6.prototype.Tk=function(o,g,C){this.iO.Vg();this.U8=null;if(o&&C.indexOf(o)!=-1)this.U8=C.indexOf(o)};
k6.prototype.GU=function(o){var g=new jO(D.E.X,!0),C=this.iO.O();g.data={C:D.t.S3,eA:{url:C,jG:!0,U8:this.Yb.O()==1?this.U8:null}};
this.c(g);this.close()};function gx(){g8.call(this,[12,79],"preferences");this.wq=null;var o=B.f("div","form");
this.body.appendChild(o);this._E=[new eT([8,2]),new eT([8,4]),new jz([12,80,3],[[12,93,3],[12,80,4]]),new iH([12,80,5],1,100,null,2),new jz(null,l.aE.$W),new jz([12,80,6],l.aE.$W),new eT("Remind me to save")];
for(var N=0;N<this._E.length;N++){var g=this._E[N];o.appendChild(g.e);if(N!=3)B.zw(o);g.h(D.E.p,this.$X,this)}}gx.prototype=new g8;
gx.prototype.Q=function(){g8.prototype.Q.call(this);for(var N=0;N<this._E.length;N++)this._E[N].Q()};
gx.prototype.Tk=function(o,g,C){};gx.prototype.Xt=function(o,g){this.wq=o;this._E[0].I(o.M8.Pa);this._E[1].I(o.M8.at);
this._E[2].I(o.M8.nu);this._E[3].I(o.M8.YG);this._E[4].I(o.M8.ts);this._E[5].I(o.M8.oK);this._E[6].I(o.Vv==1)};
gx.prototype.$X=function(o){var g=this._E;if(o.target==g[6])this.wq.Vv=1-this.wq.Vv;var C=JSON.parse(JSON.stringify(this.wq.M8));
C.Pa=g[0].O();C.at=g[1].O();C.nu=g[2].O();C.YG=g[3].O();C.ts=g[4].O();C.oK=g[5].O();if(C.ts!=4)C.YG=Math.round(C.YG);
var a=new jO(D.E.X,!0);a.data={C:D.t.sM,eA:e1.Kd,kq:C};this.c(a)};function hX(){g8.call(this,[11,8],"saveforweb");
this.aly="";this.h("closebtn",function(){this.tT.$L()},this);this.X_=new eN(512,512);this.db=null;this.uA=null;
this.aeM=null;this.wq=null;B.lK(this.body,"flexrow");var o=B.f("div"),g=B.f("div");this.body.appendChild(o);
this.body.appendChild(g);this.$r=B.f("div","imgcont");o.appendChild(this.$r);this.tT=new eC;this.tT.z3(this.X_.x,this.X_.y);
this.Fu=B.f("span");o.appendChild(this.Fu);this.sR=B.f("div","form cell");this.sR.setAttribute("style","width:15em; padding-left:1em;");
g.appendChild(this.sR);this.zW=new jz([12,50],bl.ZZ());this.sR.appendChild(this.zW.e);this.zW.h(D.E.p,this.W3,this);
this.c0=new h$([12,48],".www",7.7);this.sR.appendChild(this.c0.e);this.dX=new hh(!0,!0,!1,!0);this.dX.h(D.E.p,this.W3,this);
this.sR.appendChild(this.dX.e);this.Y1=new i3;this.Y1.h(D.E.p,this.W3,this);this.sR.appendChild(this.Y1.e);
this.SJ=new hs([1,2],!0,null,!0);this.SJ.h("click",this.GU,this);this.sR.appendChild(this.SJ.e)}hX.prototype=new g8;
hX.prototype.xP=function(o,g){return o!=null};hX.prototype.Q=function(){g8.prototype.Q.call(this);this.dX.Q();
this.zW.Q();this.Y1.Q();this.SJ.Q()};hX.prototype.GU=function(o){var g=this.c0.O().trim(),C=bl.ZZ()[this.zW.O()],a=C=="JPG"||C=="PNG"||C=="GIF",x=bl.qC(C),K="."+C.toLowerCase(),h=this.uA,X=g+K,w=this.db,G=w.Ng,R=this.Y1.O();
if(w.QY())R.pop();if(G.length!=0&&a&&R.pop()){var d="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",q=[],m={},M=new aS(0,0,w.m,w.n),Z=w.cf();
for(var N=0;N<G.length;N++)q.push(c.ho.Ep(G,N));q.reverse();var Q=l.rect.B$([0,0,w.m,w.n],q);for(var N=0;
N<Q.length;N++){var p=Q[N],y=new aS(p[0],p[1],p[2]-p[0],p[3]-p[1]),V=p.length==5?G[p[4]].v:null,W=l.Z(y.$()*4);
l.HT(Z,M,W,y);var v="img/img"+(N+1)+K;m[v]=new Uint8Array(x.oe([[W.buffer,0]],y.m,y.n,R));d+="<div style=\"background-image:url('"+v+"'); left:"+y.x+"px; top:"+y.y+"px; width:"+y.m+"px; height:"+y.n+"px\">";
if(V&&V.url.v!="")d+="\n\t<a href=\""+V.url.v+"\" target=\""+V.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
d+="</div>\n"}d+="</body>\n</html>\n";var j=l.Z(Math.round(d.length*1.5)),e=u.At(d,j,0);m["index.html"]=j.slice(0,e);
h=UZIP.encode(m);X=g+".zip"}else if(w.add.artd&&w.add.artd.Cnt.v>1&&a&&R.pop()){var m={},M=new aS(0,0,w.m,w.n),Z=w.cf(),T=w.root.children;
for(var N=0;N<T.length;N++){var O=T[N].l;if(O.add.artb==null||!O.aL())continue;var L=O.zz(),S=l.Z(L.$()*4);
l.HT(Z,M,S,L);m[O.getName()+K]=new Uint8Array(x.oe([[S.buffer,0]],L.m,L.n,R))}h=UZIP.encode(m);X=g+".zip"}if(w.OM){var $=new XMLHttpRequest;
$.open("GET","/papi/img/update.php?act=1&id="+w.OM+"&rnd="+Math.random());$.send()}var H=new jO(D.E.X,!0);
H.data={C:D.t.Mh,data:h,name:X};this.c(H);this.tT.$L();this.close();var f=is.KK("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
H.data={C:D.t.gC,$j:is.P$,k:f,op:function(){}};if(this.wq.hp&&!d$.Cr()&&Math.random()<.05)this.c(H)};
hX.prototype.Tk=function(o,g){if(g.Ts!=null)this.zW.I(g.Ts);this.db=o;var C=this.db.name,a=C.lastIndexOf("."),C=a==-1?C:C.slice(0,a);
this.c0.I(C);var x=o.m+","+o.n;if(x!=this.aly){this.aly=x;this.dX.I(new eN(o.m,o.n),o.zC)}this.Y1.a6o();
if(g.a0N){this.dX.a6J(3);this.Y1.l4.PDF[2].Mj.I(!0)}this.W3(null,!0)};hX.prototype.ir=function(o,g){return new eN(Math.max(0,Math.min(150,(o-770)/2)),Math.max(0,Math.min(150,(g-590)/2)))};
hX.prototype.z3=function(o,g){this.MI=o;this.fB=g;this.X_.x=Math.min(512,o-26-214);this.X_.y=Math.min(512,g-45);
if(this.db==null)return;var C=this.dX.O(),o=C.x,g=C.y,a=bl.ZZ()[this.zW.O()],x=bl.qC(a),d="<span style=\"width:",q="display:inline-block; text-align:right;\">";
if(x.dA){var K=o,h=g,X;if(a=="PDF"||x.Tc){K=this.X_.x;h=this.X_.y}else{K=Math.min(o+20,this.X_.x);h=Math.min(g+20,this.X_.y)}this.$r.firstChild.setAttribute("style","display:block; width:"+K+"px; height:"+h+"px;")}else{if(x.Tc){K=this.X_.x;
h=this.X_.y}else{var w=this.aeM,G=w[0].m_,K=G.m,h=G.n;this.tT.z3(Math.max(50,Math.min(K/B.r(),this.X_.x)),Math.max(50,Math.min(h/B.r(),this.X_.y)))}}var R=this.uA.byteLength,m=a+":"+d+64+"px;"+q+hX.cN(R)+"</span>";
if(this.X_.x>200)m+=d+90+"px; opacity:"+.5+";"+q+R.toLocaleString()+" B</span>";this.Fu.innerHTML=m};
hX.cN=function(o){var g=o.toString(2),C=0;while(C+10<g.length)C+=10;var a=(o/Math.pow(2,C)).toFixed(1);
if(a.endsWith(".0"))a=a.slice(0,-2);var x="B KB MB GB TB PB".split(" ")[Math.floor(C/10)];return a+" "+x};
hX.prototype.Xt=function(o,g){this.wq=o};hX.prototype.W3=function(o,g){var C=this.db,a=this.dX.O(),x=a.x,K=a.y,h=this.zW.O(),X=bl.ZZ()[h],Q="";
this.c0.al5("."+X.toLowerCase());var w=bl.QZ(C)[0].length,G=["GIF","PNG","WEBP"].indexOf(X)!=-1&&w>1;
if(G&&g&&(w>4&&x*K>1024*1024||x*K*w>800*800*50)){var R=1;while(Math.max(x>>>R,K>>>R)>800)R++;var d=window.confirm("Your animation is large ("+x+" x "+K+" px). Press \"OK\" to scale it to "+(100>>>R)+"%. Press \"Cancel\" to keep the size.");
if(d){this.dX.I(new eN(x>>>R,K>>>R),null,!0);x=x>>>R;K=K>>>R}}var q=C.add.artd,m=q!=null&&q.Cnt.v>1,M=C.QY();
this.Y1.aui(X,G,C.Ng.length!=0,m,M!=null);var Z=this.Y1.O();this.uA=bl.XS(C,X,x,K,Z,this.wq);if(this.uA==null){this.db=null;
return}B.KZ(this.$r);this.tT.$L();var p=bl.qC(X);if(p.Tc){this.$r.innerHTML="<div></div>";Q+="width:0px"}else if(p.dA){var y=x,V=K,W;
if(X=="PDF"){W=URL.createObjectURL(new Blob([this.uA],{type:"application/pdf"}))}else{W=URL.createObjectURL(new Blob([this.uA],{type:"image/svg+xml"}))}this.$r.innerHTML="<iframe src=\""+W+"\"></iframe>"}else{var v=this.aeM=p.gd(this.uA),j=v[0],e=j.m_,y=e.m,V=e.n;
if(j.qU){var T=ICC.R(j.qU.buffer),O=17,L=ICC.U.sampleLUT(T,O);for(var N=0;N<v.length;N++){var S=new Uint8Array(v[N].data);
ICC.U.applyLUT(L,O,S,S)}}this.tT.I(v,v.length>1?Z[Z.length-3]:0);this.$r.appendChild(this.tT.e);Q="background: rgba(0,0,0,0);"}this.$r.setAttribute("style","display:block; background-size:"+16/B.r()+"px;"+Q);
this.z3(this.MI,this.fB)};function i2(){g8.call(this,[11,13],"shortcuts");var o=this.Sq=B.f("div","scrollable");
o.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(o);
this.am4()}i2.prototype=new g8;i2.prototype.Q=function(){g8.prototype.Q.call(this);this.am4()};i2.prototype.am4=function(){var o="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",g="",C=c_,a=C.Ns,x=C.sH,K=C.LW;
g+="<h2 style=\"margin-top:0;\">Main Menu</h2>";g+=o;g+=this.mw([[0,0],"---",[1,0],[a,C.tH],[1,2],[a,C.$z],[1,3],[x,a,C.$z],[1,8],[K,x,a,C.$z],[0,1],"---",[2,0],[x,a,C.f0],[2,1],[a,C.f0],[5,0],[a,C.Hi],[5,1],[a,C.sp],[5,2],[a,C.oy],[2,2],"Delete",[2,3],[K,C._k],[10,16],[K,a,C.ND],[12,79],[a,C.IK],[3],"---",[4,1],[a,C.pY],[4,2],[a,C.AL],[4,5],[a,C.Tu],[4,11],[a,C.zp],[0,3],"---",[6,13],[x,a,C.p$],[6,49,0],[a,C.k9],[6,6,0],[K,a,C.tZ],[6,9],[a,C.tZ],[6,10],[a,C.E],[0,5],"---",[7,0],[a,C.t],[7,1],[a,C.j6],[7,2],[x,a,C.zp],[0,7],"---",[8,0],[a,C.LL],[8,1],[a,C.kT],[8,3],[a,C.yt],[8,2],[a,C.ut],[8,4],[a,C.c1],[11,13],"?"]);
g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";g+=o;g+=this.mw(["Vertical scroll","Wheel","Horizontal scroll",[a,"Wheel"],"Zooming",[K,"Wheel"]]);
g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
g+=o;g+=this.mw([[10,11],[a],[10,7],"Space",[10,17],[a,C.NN]]);g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
g+=o;var h=i2.Y,X=[];for(var N=0;N<h.length;N+=3)if(h[N+1])X.push(h[N],h[N+1]);X=X.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[a,C.vQ]]);
g+=this.mw(X);g+="</div>";this.Sq.innerHTML=g};i2.prototype.mw=function(o){var g="",C=!0;for(var N=0;
N<o.length;N+=2){var a=o[N],x=c_.eu(o[N+1]);if(x==null){C=!1;continue}var K=B.Ko(fF.get(a));if(x=="---"){if(!C)g+="<br/>";
g+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+K+"</div>"}else g+="<div>"+K+" <span style=\"float:right; font-weight:bold;\">"+x+"</span> </div>";
C=!1}return g};i2.Y=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function gP(){g8.call(this,[8,11,1],"soptions");this.Fa=null;var o=B.f("div","form");o.style.width="20em";
this.body.appendChild(o);this.EL={Nm:[12,48],url:"URL",null:[12,71]};this._E={};for(var g in this.EL){var C=new h$(this.EL[g],null,15);
this._E[g]=C;o.appendChild(C.e)}this.jX=B.FK(this,o)}gP.prototype=new g8;gP.prototype.Tk=function(o,g,C){var a=g.k;
this.Fa=JSON.stringify(a);for(var x in this.EL){if(a[x])this._E[x].I(a[x].v)}};gP.prototype.GU=function(o){var g=JSON.parse(this.Fa);
for(var C in this.EL){var a=this._E[C].O();g[C]={t:"TEXT",v:a}}var x=new jO(D.E.q,!0);x.F=c.i7;x.data=g;
x.on=!0;this.c(x);this.close()};gP.prototype.Q=function(){g8.prototype.Q.call(this);this.jX.Q()};function dv(){g8.call(this,[2,3],"fill");
this.wq=null;this.Em=null;var o=B.f("div","form padded");o.style.width="22em";this.body.appendChild(o);
this.KE="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.VB=new jz([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.VB.h(D.E.p,this.avt,this);o.appendChild(this.VB.e);this.$r=B.f("span");o.appendChild(this.$r);this._S=new jD;
this._S.parent=this;this._S.NJ(0);this.ys=new a2;this.ys.parent=this;this.b$=new jz([12,19,0],cP.sz,!1,cP.Hm);
o.appendChild(this.b$.e);this.MH=new iH([12,0],0,100,"%",0,!1);this.MH.I(100);o.appendChild(this.MH.e);
this.vC=new eT([13,5]);this.vC.I(!1);o.appendChild(this.vC.e);this.jX=B.FK(this,this.body)}dv.prototype=new g8;
dv.prototype.xP=function(o,g){return o!=null};dv.prototype.rJ=function(){return!0};dv.prototype.avt=function(){var o=this.VB.O(),g=this._S.e,C=this.ys.e,a=this.$r;
if(o==2)a.appendChild(g);else if(a.contains(g))a.removeChild(g);if(o==7)a.appendChild(C);else if(a.contains(C))a.removeChild(C)};
dv.prototype.Q=function(){g8.prototype.Q.call(this);this.VB.Q();this.b$.Q();this.MH.Q();this.jX.Q()};
dv.prototype.GU=function(o){if(!this.Em.zj())return;var g=new jO(D.E._h,!0),C=this.VB.O();g.data=c.de.p3(this.KE[C],cP.CH[this.b$.O()],this.MH.O()/100,this._S.O(),this.vC.O(),this.ys.O());
this.close();this.c(g)};dv.prototype.Tk=function(o,g){this.Em=o};dv.prototype.Xt=function(o,g){this.wq=o;
if(g==e1.B3||g==e1.OF){this.ys.Fs(o.XA);this.ys.I({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function f4(){g8.call(this,[14,9],"stroke");this.wq=null;this.sR=B.f("div","form");this.sR.setAttribute("style","width:24em");
this.body.appendChild(this.sR);this.RR=new eY("FrFX",!0);this.RR.parent=this;var o=["Sz","Styl","Md","Opct"].concat(hf.nD);
for(var N=0;N<o.length;N++){var g=this.RR.r_[o[N]].e;this.sR.appendChild(g)}this.vh=!1;this.jX=B.FK(this,this.body)}f4.prototype=new g8;
f4.prototype.xP=function(o,g){return o!=null};f4.prototype.rJ=function(){return!0};f4.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();this.RR.Q()};f4.prototype.GU=function(o){var g=new jO(D.E.q,!0);g.F=c.p_;g.data={C:"stroke",af$:this.RR.O()};
this.close();this.c(g)};f4.prototype.Tk=function(o,g){if(!this.vh){var C=hf.QI[hf.order.indexOf("FrFX")];
C=JSON.parse(C);this.RR.update(o,C);this.vh=!0}var C=this.RR.O(),a=this.wq.L$;C.Clr.v=l.T.CT({z:a>>16&255,B:a>>8&255,K:a&255});
this.RR.update(o,C)};f4.prototype.Xt=function(o,g){this.wq=o};function hV(){g8.call(this,[11,9],"textwarp");
this._E=new bH;this._E.h(D.E.p,this.y6,this);this._E.parent=this;this.sR=B.f("div","form");this.sR.setAttribute("style","width:20em");
this.body.appendChild(this.sR);this.sR.appendChild(this._E.ET.e);this.sR.appendChild(this._E.Dg.e);this.sR.appendChild(this._E.xh.e);
this.sR.appendChild(this._E.et.e);this.sR.appendChild(this._E.rS.e);this.jX=B.FK(this,this.sR);this.h("closebtn",this.DR,this)}hV.prototype=new g8;
hV.prototype.rJ=function(){return!0};hV.prototype.Q=function(){g8.prototype.Q.call(this);this.jX.Q();
this._E.Q()};hV.prototype.y6=function(o){var g=this._E.O();this.A4({C:"warp",X0:g})};hV.prototype.A4=function(o){var g=new jO(D.E.q,!0);
g.F=c.rv;g.data=o;g.on=!0;this.c(g)};hV.prototype.DR=function(o){this.A4({C:"warpCancel"})};hV.prototype.GU=function(o){this.A4({C:"warpConfirm"});
this.close()};hV.prototype.Tk=function(o,g){var C=o.g[o.A[0]];this._E.I(C.add.TySh.xr)};function ep(){g8.call(this,[11,12,0],"trim");
var o=this.sR=B.f("div","form");this.sR.setAttribute("style","width:22em");this.body.appendChild(this.sR);
var g=new d3("Color To Trim:");o.appendChild(g.e);this.DJ=new ap(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.DJ.I([!0]);this.sR.appendChild(this.DJ.e);var g=new d3("Sides:");o.appendChild(g.e);this.Tx=new ap(null,["Top","Left","Bottom","Right"]);
this.Tx.I([!0,!0,!0,!0]);this.sR.appendChild(this.Tx.e);this.jX=B.FK(this,this.body)}ep.prototype=new g8;
ep.prototype.xP=function(o,g){return o!=null};ep.prototype.rJ=function(){return!0};ep.prototype.Q=function(){g8.prototype.Q.call(this);
this.DJ.Q();this.Tx.Q();this.jX.Q()};ep.prototype.GU=function(o){var g=this.DJ.O().indexOf(!0),C=this.Tx.O(),a=new jO(D.E._h,!0);
a.data=c.ro.uu(g,C);this.close();this.c(a)};function gs(){g8.call(this,"Raw Photopea","rawpea");this.q$=null;
this.Oi=null;this.sT=null;this.Nm=0;this.nE=null;this.yV=null;this.aa4=500;this.ab$=500;this.a77=0;this.h("closebtn",this.GQ,this);
B.lK(this.body,"flexrow");var o=B.f("div"),g=B.f("div"),a="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
g.setAttribute("style","padding-left: 1em");this.body.appendChild(o);this.body.appendChild(g);this.J=B.f("canvas");
o.appendChild(this.J);this.hS=new cd(225);this.hS.Ap(4);g.appendChild(this.hS.e);this.sR=B.f("div");
this.sR.setAttribute("style","width:18em;");g.appendChild(this.sR);this.ahG=new d3("Hi",!0);this.sR.appendChild(this.ahG.e);
this.Nv=[new ho("Temperature",2e3,13e3),new ho("Tint",-150,150),new ho([4,3],-4,4,null,!0),new ho([12,3,0],-100,100)];
for(var N=0;N<this.Nv.length;N++){var C=this.Nv[N];C.I(0);C.h(D.E.p,this.Ty,this);this.sR.appendChild(C.e);
if(N==1)this.sR.appendChild(B.f("hr"))}this.jX=new hs([1,0],!0,null,!0);this.jX.h("click",this.GU,this);
this.sR.appendChild(this.jX.e);this.nT=new hs(a+" JPG",!0,null,!0);this.nT.h("click",this.ah7,this);
this.sR.appendChild(this.nT.e);this.nT.e.style.marginTop="6px"}gs.prototype=new g8;gs.prototype.ir=function(){return new eN(0,0)};
gs.prototype.z3=function(o,g){this.aa4=o-274;this.ab$=g-32;if(this.q$)this.an5()};gs.prototype.Q=function(){g8.prototype.Q.call(this);
this.jX.Q();for(var N=0;N<this.Nv.length;N++)this.Nv[N].Q()};gs.prototype.ah7=function(o){var g=this.q$,C=this.Oi,a=l.Z(g.width*g.height*4);
l.th(a,4294967295);l.raw.YK(C,a,g,this.sV());var x=bl.qC("JPG").oe([[a.buffer]],C.Zp,C.xZ,[85]),K=new jO(D.E.X,!0);
K.data={C:D.t.Mh,data:x,name:"photo.jpg"};this.c(K)};gs.prototype.GU=function(o){var g=this.q$,C=this.Oi,a=l.Z(g.width*g.height*4);
l.th(a,4294967295);l.raw.YK(C,a,g,this.sV());var x=hZ.u$(g),g={m_:new aS(0,0,C.Zp,C.xZ),data:a.buffer,Eb:x},K=bl.ng("Raw Photo",[g]),h=new jO(D.E.X,!0);
h.data={C:D.t.Ds,db:K};this.c(h);this.GQ();this.close()};gs.prototype.GQ=function(){this.q$=null;this.Oi=null;
this.nE=null;this.yV=null};gs.prototype.Tk=function(o,g,C,a){this.q$=g.QS;this.Oi=l.raw.asG(this.q$);
var x=this.Oi;this.ahG.I(x.Zp+" x "+x.xZ+", "+(x.Zp*x.xZ/1e6).toFixed(1)+" MPx");var K=l.raw.avn(g.QS);
this.sT=di.Ib(K);this.Nv[0].I(this.sT.qP);this.Nv[1].I(this.sT.uQ);for(var N=2;N<this.Nv.length;N++)this.Nv[N].I(0);
this.an5()};gs.prototype.Xt=function(o,g){this.hS.NJ(ka.oI[o.A7]["--text-color"])};gs.prototype.an5=function(){var o=this.Oi,g=o.Zp,C=o.xZ,a=1;
while(g/a>this.aa4*B.r()||C/a>this.ab$*B.r())a++;if(this.a77==a&&this.nE)return;this.a77=a;var x=Math.floor(g/a),K=Math.floor(C/a);
this.nE={ab:new Float32Array(x*K*3),Zp:x,xZ:K};var h=this.J.getContext("2d");this.yV=l.Z(x*K*4);l.th(this.yV,4294967295);
var X=1/(a*a);for(var w=0;w<K;w++)for(var G=0;G<x;G++){var R=0,d=0,q=0,m=(G+1)*a,M=(w+1)*a;for(var Z=w*a;
Z<M;Z++)for(var Q=G*a;Q<m;Q++){var p=(Z*g+Q)*3;R+=this.Oi.ab[p];d+=this.Oi.ab[p+1];q+=this.Oi.ab[p+2]}var y=(w*x+G)*3;
this.nE.ab[y]=R*X;this.nE.ab[y+1]=d*X;this.nE.ab[y+2]=q*X}this.Ty()};gs.prototype.Ty=function(){var o=this.q$,g=this.nE.Zp,C=this.nE.xZ,a=g*C,x=this.J,K=x.getContext("2d");
x.width=g;x.height=C;B.IC(x,g,C);l.raw.YK(this.nE,this.yV,o,this.sV());K.putImageData(new ImageData(new Uint8ClampedArray(this.yV.buffer),g,C),0,0);
var h=l.pm(this.yV);for(var N=0;N<4;N++)for(var X=1;X<256;X++)if(h[N][X]==0)h[N][X]=h[N][X-1];for(var N=0;
N<4;N++)for(var X=1;X<256;X++)if(h[N][X]==0)h[N][X]=h[N][X-1];this.hS.I(h)};gs.prototype.sV=function(){var o=[];
for(var N=0;N<this.Nv.length;N++)o.push(this.Nv[N].O());return o};function kd(o){g8.call(this,o?[11,11,0]:[11,11,1],o?"vbitmap":"rcolors");
this.Gm=null;this.nc=null;this._6=null;this.sW=null;this.Uz=null;this.ae4=null;this.qh=null;this.l_="";
this.PC=o;this.uh=this.Ga.bind(this);this.EV=!1;this.body.style.padding="0";this.sR=B.f("div","form hbar padded");
this.body.appendChild(this.sR);var g=this.pK={cnum:new e8([12,82],2,50,null),nois:new eT([12,81]),mode:new jz(null,["Cartoon","Photo"]),segm:new eT("Segmentize"),poly:new eT("Polygon"),merg:new eT("Merge colors"),polE:new e8("Roughness",2,30,null),dthr:new eT([12,23,3]),ok:B.FK(this,null,!1)},K=16;
for(var C in g){var a=g[C];a.parent=this;if(C!="ok")a.h(D.E.p,this.Ga,this)}var x=this.IU=B.f("div","flexrow");
this.body.appendChild(x);this.hR=new eC;this.hR.h("viewchange",this.rP,this);this.dk=new eC;this.J=B.f("canvas");
this.J.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.$A=this.J.getContext("2d");
var h=l.Z(16*16*4);l.kz(h,K,K,8);this.IS=l.scale.pA(h,K,K);this.hR.ata(this.J);this.hR.L6(this.dk);this.dk.L6(this.hR);
x.appendChild(this.hR.e);if(o)x.appendChild(this.J);else x.appendChild(this.dk.e)}kd.prototype=new g8;
kd.prototype.ir=function(){return new eN(0,0)};kd.prototype.rJ=function(){return!0};kd.prototype.z3=function(o,g){this.MI=o;
this.fB=g;g=g-44;if(o<600)g-=29;if(this.Gm==null)return;var C=this.Gm.m_,a=bg.ann(o,g,C.m,C.n);if(a==1)g-=3;
if(a==0){o=Math.floor(o/2);B.lK(this.IU,"flexrow")}else{g=Math.floor(g/2);B.Qq(this.IU,"flexrow")}B.SZ(this.J,o,g);
this.hR.z3(o,g);if(this.PC)this.rP();else this.dk.z3(o,g)};kd.prototype.Uh=function(o,g,C,a){this.hR.Uh(a)};
kd.prototype.Q=function(){g8.prototype.Q.call(this);for(var o in this.pK)this.pK[o].Q()};kd.prototype.Tk=function(o,g){this.qh=o;
this.Uz=null;var C=o.g[o.A[0]],a=l.Lb.jY(C.buffer.buffer,C.rect.m,C.rect.n).a3M,x=a/((C.rect.m-2)*(C.rect.n-2)),K=this.pK;
K.cnum.I(20);K.nois.I(x<.75);K.mode.I(x<.75?1:0);K.segm.I(!1);K.poly.I(!1);K.merg.I(!0);K.polE.I(1);
K.dthr.I(!1);var h=C.rect.clone();h.x=h.y=0;this.Gm={m_:h,data:C.buffer.buffer.slice(0)};this.nc=null;
this.z3(this.MI,this.fB);this.hR.I([this.Gm]);this.hR.x8();this.EV=!0;setTimeout(this.uh,20)};kd.prototype.Ga=function(){var o=!0,g=Date.now(),C=this.Gm,a=this.pK,x=a.cnum.O(),K=a.nois.O(),h=a.mode.O(),X=a.segm.O(),w=a.poly.O(),G=a.merg.O(),R=a.polE.O(),O=null;
if(h==0)X=w=!1;var d=a.dthr.O(),q=["cnum","nois","mode"];if(h==1){q.push("segm");if(this.PC){q.push("poly");
if(w)q.push("polE")}}if(this.PC)q.push("merg");else q.push("dthr");q.push("ok");B.KZ(this.sR);for(var N=0;
N<q.length;N++)this.sR.appendChild(a[q[N]].e);if(o)console.log("---------------------------------------");
var m=K||X,M=K+","+X;if(m&&(this.nc==null||this.l_!=M)){this.l_=M;var Z=new Uint8Array(C.data),Q=C.m_.m,p=C.m_.n;
if(K){if(this.Uz==null){this.Uz=Z.slice(0);l.Go.n$(this.Uz,this.Uz,Q,p,15,l.Go.Ai,[35]);if(o){console.log("denoise",Date.now()-g);
g=Date.now()}}Z=this.Uz.slice(0)}else Z=Z.slice(0);if(X){var y=l.Lb.Ju(Z,Q,p,40,10),V=y.IK,W=new Uint8Array(V*4);
for(var N=0;N<V;N++){var v=N*4,j=N*6,e=1/y.RU[j+5];W[v]=y.RU[j]*e;W[v+1]=y.RU[j+1]*e;W[v+2]=y.RU[j+2]*e}for(var N=0;
N<Z.length;N+=4){var T=y.Wn[N>>>2]*4;Z[N]=W[T];Z[N+1]=W[T+1];Z[N+2]=W[T+2]}if(o){console.log("segm",Date.now()-g);
g=Date.now()}}this.nc={m_:C.m_.clone(),data:Z.buffer}}if(m)C=this.nc;var Z=new Uint8Array(C.data),Q=C.m_.m,p=C.m_.n;
for(var N=0;N<Z.length;N+=4){if(Z[N+3]<10)Z[N]=Z[N+1]=Z[N+2]=Z[N+3]=0}if(h==0){O=l.Lb.agV(Z,Q,p,x,m?.1:2e-4);
if(o){console.log("quantize",Date.now()-g);g=Date.now()}}if(h!=0||O&&O.QO.length<2){O=ey.aop(Z.buffer,x,Q,p)}if(this.PC){var L=O.Wn.slice(0);
for(var N=0;N<L.length;N++)L[N]++;var S=new Uint8Array((Q+2)*(p+2));l.MD(L,new aS(1,1,Q,p),S,new aS(0,0,Q+2,p+2));
if(!w){var $=Math.round((Q+2)*(p+2)/1e4),H=h1.mZ(S.slice(0),Q+2,p+2,Math.min(12,$)),f=h1.DE(H);if(o){console.log("trace smooth",Date.now()-g);
g=Date.now()}}else{var f=l.o.xw(S,Q+2,p+2,R,o)}var F=f.length,U=new kp(1,0,0,1,-1,-1);for(var N=0;N<F;
N++)l.o.D(f[N].path.w,U,f[N].path.w);this.sW=f;this._6=O;for(var N=0;N<F;N++){var r=f[N];for(var E=N+1;
E<F;E++){var k=f[E];if(k.parent==N&&O.QO[k.color-1].est.q[3]<.05){var P=k.path.G.slice(1);P.reverse();
P=["M"].concat(P);var z=[],H=k.path.w.length;for(var s=0;s<H;s+=2){z[s]=k.path.w[H-2-s];z[s+1]=k.path.w[H-2-s+1]}l.o.concat(r.path,{w:z,G:P})}}}if(o){console.log("finding holes",Date.now()-g);
g=Date.now()}for(var N=0;N<f.length;N++){var Y=f[N];if(Y.parent!=-1){var t=f[Y.parent];Y.parent=t;if(t.wr==null)t.wr=[];
t.wr.push(Y)}Y.depth=Y.parent==-1?0:Y.parent.depth+1}if(G){function n(jE,fp){var ff={},d5=0,eF=0;for(var N=0;
N<jE.length;N++){var b=jE[N].color,s="c"+b;if(b==fp)throw b;if(ff[s]==null)ff[s]=0;ff[s]++;if(ff[s]>d5){d5=ff[s];
eF=b}}return eF}var J=[],I=[],fp=-1,cH=!0;for(var N=0;N<f.length;N++)if(f[N].parent==-1)I.push(f[N]);
while(I.length!=0){var b=n(I,fp);fp=b;for(var N=0;N<I.length;N++)if(I[N].color==b){var jL=I[N];J.push(jL);
I.splice(N,1);N--;if(jL.wr)for(var E=0;E<jL.wr.length;E++){I.push(jL.wr[E]);if(jL.wr[E].color!=b)cH=!1}}}if(cH)f=J;
else{var aq=[];for(var cJ=0;cJ<500;cJ++){var aB=[],H=aq[cJ-1];aq.push(aB);for(var N=0;N<f.length;N++){var Y=f[N],t=Y.parent;
if(cJ==0&&t==-1||cJ!=0&&H.indexOf(t)!=-1){aB.push(Y);f.splice(N,1);N--}}aB.sort(function(jE,ff){return jE.color-ff.color});
if(f.length==0)break}for(var N=0;N<aq.length;N++)f=f.concat(aq[N])}}else{var J=[],au=[];while(f.length!=0){au.push(f.shift());
while(au.length!=0){var ea=au.pop();J.push(ea);if(ea.wr)for(var N=0;N<ea.wr.length;N++){var Y=ea.wr[N];
f.splice(f.indexOf(Y),1);au.push(Y)}}}f=J}this.sW=f;for(var N=0;N<f.length;N++){var r=f[N],ax=O.QO[r.color-1].est.q;
if(ax[3]<=.05){f.splice(N,1);N--;continue}}for(var N=1;N<f.length;N++){var f1=f[N-1],r=f[N];if(f1.color==r.color&&(G||f1.parent==r.parent&&f1.depth>=2)){l.o.concat(f1.path,r.path);
f.splice(N,1);N--;continue}}if(o){console.log("reordering layers",Date.now()-g,F,f.length);g=Date.now()}this.rP()}else{var fk=new Uint32Array(Q*p),hF=Q*p;
if(d){var fm=[];for(var N=0;N<O.QO.length;N++)fm.push(O.QO[N].est.rgba);var T=l.Z(Q*p);UPNG.encode.dither(new Uint8Array(C.data),Q,p,fm,new Uint8Array(fk.buffer),T)}else{for(var N=0;
N<hF;N++){var b=O.QO[O.Wn[N]];fk[N]=b.est.rgba}}this.ae4=new Uint8Array(fk.buffer);this.dk.I([{m_:C.m_,data:fk.buffer}]);
if(this.EV){this.dk.x8();this.EV=!1}}};kd.prototype.rP=function(o){if(this.sW==null)return;var g=this.Gm.m_.m,C=this.Gm.m_.n,a=this.sW,x=this._6.QO,K=this.J,h=this.$A,X=this.hR.hL();
h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,K.width,K.height);h.translate(K.width/2,K.height/2);h.scale(X.R,X.R);
h.translate(X.v.x/X.R-g/2,X.v.y/X.R-C/2);h.scale(1/X.R,1/X.R);h.fillStyle=this.IS;h.fillRect(0,0,g*X.R,C*X.R);
h.scale(X.R,X.R);var w=[];for(var N=0;N<x.length;N++){var G=x[N].est.q;w.push({z:Math.round(255*G[0]),B:Math.round(255*G[1]),K:Math.round(255*G[2]),Bk:Math.round(255*G[3])})}for(var N=0;
N<a.length;N++){var R=a[N],G=w[R.color-1];if(G.Bk==0)continue;h.fillStyle="rgba("+G.z+","+G.B+","+G.K+","+G.Bk/255+")";
h.beginPath();Typr.U.pathToContext({crds:R.path.w,cmds:R.path.G},h);h.fill()}};kd.prototype.GU=function(o){var g=this.qh,C=g.A[0],a=g.g[C],x=new jO(D.E.q,!0);
x.on=!0;x.F=c.qd;if(this.PC){var K=this.sW,h=K.length==1,X=g.g.slice(0,C);if(!h)X.push(g.kF());for(var N=0;
N<K.length;N++){var w=K[N],G=this._6.QO[w.color-1].est.q;l.o.D(w.path.w,new kp(1,0,0,1,a.rect.x,a.rect.y),w.path.w);
var R=g.HL();R.XH("Path "+N);X.push(R);R.opacity=Math.round(G[3]*255);R.qX|=16;R.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.T.CT({z:255*G[0],B:255*G[1],K:255*G[2]})}};
R.add.vmsk=new A.A3;R.add.vstk=JSON.parse(JSON.stringify(hf.ly.default));R.add.vmsk.i=l.o.RS(w.path,!1);
R.add.vogk=[];R.fb();R.Rw(g)}var d=X[X.length-1];if(!h){var R=g.HL();R.XH(a.getName());R.add.lsct=kj.ah;
R.WN="pass";R.qX=24;X.push(R);d=R}var q=a.add.lmfx;if(q)d.add.lmfx=JSON.parse(JSON.stringify(q));for(var N=C+1;
N<g.g.length;N++)X.push(g.g[N]);x.data={C:A.uR,Zk:X,lQ:[C+K.length+(h?-1:1)],Wm:[11,11,0]}}else{var X=g.g.slice(0),R=g.HL();
R.XH(a.getName());X.splice(g.A[0]+1,0,R);R.rect=a.rect.clone();R.buffer=this.ae4;R.L();x.data={C:A.uR,Zk:X,lQ:[g.A[0]+1],Wm:[11,11,1]}}this.c(x);
this.close()};function bg(o){g8.call(this,[[7,11],[7,13]][o],["redge","magiccut"][o]);this.DJ=o;this.Gm={};
this.gi=null;this.zP=null;this.qh=null;this.IH=null;this.L8=null;this.body.style.padding="0";this.NG=[];
this.Sp=-1;this.sR=B.f("div","form hbar padded");this.body.appendChild(this.sR);this.Hw=new fU;this.Hw.parent=this;
this.Hw.h(D.E.p,this.MW,this);this.sR.appendChild(this.Hw.e);var g=o==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
g=g.concat("tools/hand","zoomIn","zoomOut");var C=o==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.yE=new as(null,g,C,28);this.yE.h(D.E.p,this.Uh,this);this.sR.appendChild(this.yE.e);this.W0=new e8([7,9],0,50,null);
this.W0.parent=this;this.W0.h(D.E.p,[this.alO,this.Ga][o],this);this.sR.appendChild(this.W0.e);var a=this.a8M=new hs([2,2],!1,null,!0);
a.h("click",this.GQ,this);this.sR.appendChild(a.e);var x=this.Vc=B.f("span","form");this.sR.appendChild(x);
var K=this.alE=new hs([12,90],!1,null,!0);K.h("click",function(w){alert(o==0?fF.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
x.appendChild(K.e);var h=new hs("Tutorial",!1,null,!0);h.h("click",this.a80,this);x.appendChild(h.e);
this.R$=new as([12,46],["checker","#ffffff","#000000"]);this.R$.h(D.E.p,this.a7U,this);x.appendChild(this.R$.e);
this.zq=new jz(null,[[6,13],[6,2],[17,2]]);x.appendChild(this.zq.e);this.jX=B.FK(this,x,!1);var X=this.IU=B.f("div","flexrow");
this.body.appendChild(X);this.SH=new eC(!0);this.NP=new eC;this.SH.L6(this.NP);this.NP.L6(this.SH);this.SH.h("mousedown",this.eb,this);
this.SH.h("mousemove",this.y8,this);this.SH.h("mouseup",this.bX,this);this.SH.h("zoom",this.MW,this);
this.NP.h("zoom",this.MW,this);X.appendChild(this.SH.e);X.appendChild(this.NP.e)}bg.prototype=new g8;
bg.prototype.xP=function(o,g){var C=o!=null&&!o.g[o.A[0]].rect.to();if(!C)alert("The layer is empty.");
return C};bg.prototype.ir=function(){return new eN(0,0)};bg.prototype.rJ=function(){return!0};bg.prototype.z3=function(o,g){this.MI=o;
this.fB=g;g=g-12-33;if(o<900){this.Vc.setAttribute("style","display:block;  text-align:right;");g-=29}else{this.Vc.setAttribute("style","position:absolute;  right:0px")}this.R$.BB(o<440?null:[12,46]);
this.W0.BB(o<470?null:[7,9]);var C=this.Gm.rect;if(C){var a=bg.ann(o,g,C.m,C.n);if(a==0){o=Math.floor(o/2);
B.lK(this.IU,"flexrow")}else{g=Math.floor(g/2);B.Qq(this.IU,"flexrow")}this.SH.z3(o,g);this.NP.z3(o,g)}};
bg.ann=function(o,g,C,a){var x=o/2,K=g/2,h=Math.min(x/C,g/a),X=Math.min(o/C,K/a);return h>X?0:1};bg.prototype.Q=function(){g8.prototype.Q.call(this);
this.Hw.Q();this.W0.Q();this.jX.Q();this.R$.Q();this.zq.Q();this.a8M.Q();this.alE.Q()};bg.prototype.a80=function(o){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.DJ],"_blank")};
bg.prototype.Xt=function(o,g){this.zP=o;if(g==e1.Yc||g==e1.B3){this.Hw.Fs(o.v1);this.Hw.I(e5.pf(),o.v1.H7,o.v1.ys)}};
bg.prototype.Uh=function(o,g,C,a){var x=this.yE.O();if(a==null){this.SH.Uh(eC.amj(x-3));return}this.IH=a;
var K=c.de.Tm(this.Hw.O(),a);if(K!=null){this.Hw.I(K);this.MW()}else if(a.a(c_.Ns)&&a.a(c_.f0)){var h=this.NG,X=0;
if(a.a(c_.sH)){if(this.Sp+1<h.length)X=1}else if(this.Sp>0)X=-1;if(X!=0){this.Sp+=X;var w=this.Sp,G=this.Gm;
if(X==1)l.HT(h[w][2],h[w][0],G.gw,G.rect);else l.HT(h[w+1][1],h[w+1][0],G.gw,G.rect);G.e4=G.rect;this.Ga()}}else if(x<3)this.SH.Uh(a)};
bg.prototype.CM=function(o){var g=this.Gm,C=this.NG,a=l.Z(o.$()*4);l.HT(g.sO,g.rect,a,o);g.sO=null;var x=l.Z(o.$()*4);
l.HT(g.gw,g.rect,x,o);this.Sp++;C[this.Sp]=[o.clone(),a,x];while(C.length>this.Sp+1)C.pop();while(C.length>50){C=C.slice(1);
this.Sp--}};bg.prototype.MW=function(){var o=this.zP,g=fn.$I(this.Hw.O(),o.v1.H7,this.SH.hL().R);this.SH.jv(g)};
bg.prototype.eb=function(o){var g=this.zP,C=this.Gm,a=this.IH,x=this.Hw.O(),K=this.SH.Rx(),h=[16777215,8421504,0][this.yE.O()];
this.gi=new fn(x,g.v1.H7,g.v1.ys,{xW:1,Ln:!0},h,g.KT,C.rect);C.sO=C.gw.slice(0);if(a!=null&&a.a(c_.sH)&&this.L8){this.gi.moveTo(this.L8.x,this.L8.y);
this.gi.lineTo(K.x,K.y)}else this.gi.moveTo(K.x,K.y);this.afU()};bg.prototype.y8=function(o){var g=this.Gm,C=this.SH.Rx();
this.gi.lineTo(C.x,C.y);this.afU()};bg.prototype.bX=function(o){this.L8=this.SH.Rx();this.CM(this.gi.S7());
this.Ga()};bg.prototype.afU=function(){var o=this.Gm,g=this.gi,C=g.Lh();if(C.to())return;o.e4=C;l.j.Ly("norm",g.Sv(),g.QR(),o.gw,o.rect,C,1);
this.a8_()};bg.prototype.GQ=function(o){var g=this.Gm;g.sO=g.gw.slice(0);g.e4=g.rect;l.th(g.gw,[4278190080,4292730333][this.DJ]);
this.CM(g.rect);this.Ga()};bg.prototype.Tk=function(o,g){this.qh=o;var C=o.g[o.A[0]],a=C.rect.clone(),x=a.m,K=a.n;
this.W0.I(this.DJ==0?3:x*K<3e6?3:0);this.yE.I(o._==null?0:1);this.W0.Uy();if(this.DJ==0&&o._!=null||this.DJ==1)this.W0.ih();
var h=this.DJ,X=l.Z(a.$()),w=new Float32Array(a.$());if(h==0&&o._){l.MD(o._.channel,o._.rect,X,a);var G=l.Z(a.$());
for(var R=0;R<K;R++)for(var d=0;d<x;d++){var N=R*x+d,q=X[N];if(d>0&&X[N-1]!=q||d<x-1&&X[N+1]!=q||R>0&&X[N-x]!=q||R<K-1&&X[N+x]!=q)G[N]=255}l.style.Bh(G,w,x,K)}else w.fill(1e9);
a.x=a.y=0;this.Gm={rect:a,ab:C.buffer,sh:X,uL:w,VP:l.Z(a.$()*4),Xj:l.Z(a.$()*4),gw:l.Z(a.$()*4),sO:null,g$:null,e4:a,a8F:{}};
if(h==0)this.alO();else{this.Gm.a8F=c.yj.a4m(o);var m=this.Gm.gw;l.th(m,4287137928);var M=l.LG.getSelection(C.buffer,x,K),Z=Math.round(x/60),Q=Math.round(.7*K);
for(var R=0;R<K;R++)for(var d=0;d<x;d++){var p=(R*x+d)*4,y=M[p>>>2];y=y>128?255:128;if(R<Z||R<Q&&(d<Z||d>x-1-Z))y=0;
m[p]=m[p+1]=m[p+2]=y}this.Ga()}this.NG=[1];this.Sp=0;var V=this.Hw.O();V.Brsh.v.Dmtr.v.val=Math.round(a.m/(h==0?10:20));
this.Hw.I(V);this.MW();this.z3(this.MI,this.fB);this.SH.x8()};bg.prototype.alO=function(){var o=this.Gm,g=o.rect.$(),C=this.W0.O(),a=o.sh.slice(0);
for(var N=0;N<g;N++)if(o.uL[N]<C)a[N]=128;l.th(o.gw,4294967295);l.Oa(a,o.gw,0);l.Oa(a,o.gw,1);l.Oa(a,o.gw,2);
o.e4=o.rect;this.Ga()};bg.prototype.Ga=function(){var o=this.Gm,x,X,w=0,G=0,R=0;this.a8_();var g=o.rect,C=g.m,a=g.n,K=l.Z(g.$()),h=o.ab;
l.eP(o.gw,K,0);for(var N=0;N<K.length;N++){if(h[(N<<2)+3]!=255)continue;var d=K[N];if(d==0)w++;else if(d==255)G++;
else R++}if(w*G*R!=0){if(this.DJ==0)X=l.Jf.Jf(g,h,K);else{var q=this.yE.O();for(var m=1;m<a;m++)for(var M=1;
M<C;M++){var N=m*C+M,Z=K[N],Q=K[N-1];if(Z==0&&Q==255||Z==255&&Q==0){x="The Red and Green should never touch! Erase it with Grey.";
break}}var p=Date.now(),y=this.Gm.a8F;l.j5(K,y.tz);c.yj.LY(y,!0);var V=Math.ceil(this.W0.O()/2);if(V==0){X=h.slice(0);
l.Oa(y._,X,3)}else{var W=y._.slice(0),v=y._.slice(0);for(var j=0;j<V;j++){for(var m=1;m<a-1;m++)for(var M=1;
M<C-1;M++){var N=m*g.m+M,e=W[N];if(W[N-C]!=e||W[N-1]!=e||W[N+1]!=e||W[N+C]!=e)v[N]=128;else v[N]=e}var T=W;
W=v;v=T}X=l.Jf.Jf(g,h,W,20,!1)}}}else{X=h.slice(0);l.Oa(K,X,3)}for(var N=3;N<X.length;N+=4)if(X[N]>h[N])X[N]=h[N];
if(g.$s(o.rect))o.g$=X;else l.HT(X,g,o.g$,o.rect);this.a7U();if(x)alert(x,4e3)};bg.prototype.a8_=function(o){var g=this.Gm,C=g.e4;
l.HT(g.ab,g.rect,g.VP,g.rect,C,!0);var a=g.gw;if(this.DJ==1){var x=new Uint32Array(256);x[0]=4278190335;
x[255]=4278255360;var K=g.rect.$();a=a.slice(0);var h=new Uint32Array(a.buffer);for(var N=0;N<K;N+=2){h[N]=x[h[N]&255];
h[N+1]=x[h[N+1]&255]}}l.j.Ly("norm",a,g.rect,g.VP,g.rect,C,.3);this.SH.I([{m_:g.rect,data:g.VP.buffer}])};
bg.prototype.a7U=function(o){var g=this.Gm;l.th(g.Xj,[0,4294967295,4278190080][this.R$.O()]);l.j.Ly("norm",g.g$,g.rect,g.Xj,g.rect,g.rect,1);
this.NP.I([{m_:g.rect,data:g.Xj.buffer}])};bg.prototype.GU=function(o){var g=this.qh,C=this.Gm,a=this.zq.O(),x=g.g[g.A[0]],K=new jO(D.E.q,!0);
K.on=!0;var h=x.rect.clone();if(a==0&&x.aL()||a!=0&&!x.aL()){K.F=c.qd;K.data={C:A.Jb,l:g.A[0]};this.c(K)}if(g._!=null){K.F=c.pn;
K.data={C:"fromAction",mb:c.vk.K9()};this.c(K)}if(a==0){var X=g.g.slice(0),w=g.HL();w.XH(x.getName());
X.splice(g.A[0]+1,0,w);w.rect=h;w.buffer=C.g$;w.L();K.F=c.qd;K.data={C:A.uR,Zk:X,lQ:[g.A[0]+1],Wm:[7,11]};
this.c(K)}if(a==1){var G=x.KN();K.F=c.qd;K.data={C:A.VS,anE:!0};this.c(K);var R=x.KN();R.channel=l.Z(h.$());
R.rect=h;R.color=0;R.fD=!0;l.eP(C.g$,R.channel,3);if(G){var d=R._t(G);R.rect=d.rect;R.channel=d.channel;
R.color=d.color}R.T3();x.Rw()}if(a==2){var q={rect:h,channel:l.Z(h.$())};l.eP(C.g$,q.channel,3);K.F=c.pn;
K.data={C:"setsel",_:q,Wm:this.cd};this.c(K)}this.close()};function jd(){g8.call(this,[1,13],"locstor");
this.wq=null;this.Rv=[];var o=this.body,g=B.f("p");g.textContent="These files are loaded every time you start Photopea.";
o.appendChild(g);this.agS=0;this.BV=B.f("span");o.appendChild(this.BV);this.BV.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var C=B.f("span","form");o.appendChild(C);this.VN=new hs([5,4],!1,null,!0);this.VN.h("click",this.hc,this);
C.appendChild(this.VN.e);this.agv=new hs("Get all as ZIP",!1,null,!0);this.agv.h("click",this.aj,this);
C.appendChild(this.agv.e);this.ox=new iJ(!0);this.ox.parent=this;this.ox.Ap(1);o.appendChild(this.ox.e);
this.ox.e.setAttribute("style","width: 40em; height: 25em")}jd.prototype=new g8;jd.prototype.Q=function(){g8.prototype.Q.call(this);
this.BV.textContent=fF.get([13,2])+": "+hX.cN(this.agS);this.VN.Q()};jd.prototype.Xt=function(o,g){this.wq=o;
if(g==e1.F0)this.Tk()};jd.prototype.Tk=function(o,g){var C=this.wq.DG.nV,w=0;this.Rv=[];for(var a in C)this.Rv.push(a);
this.Rv.sort(function(R,d){R=R.split(".");d=d.split(".");return R[1]==d[1]?R[0]<d[0]?-1:1:R[1]<d[1]?-1:1});
var x=Math.floor(100*B.r()),K=Math.floor(16*B.r()),h=[],X=[];for(var N=0;N<this.Rv.length;N++){var a=this.Rv[N],G=jd.zJ(a,C[a],x,K);
h.push(G);X.push(a);w+=C[a].byteLength}this.ox.s4(h,X,x,K);this.agS=w;this.Q()};jd.prototype.hc=function(o){var g=this.ox.O();
if(g.length==0){alert("Select a file first.");return}this.ox.I([]);var C=this.wq.DG.nV;for(var N=0;N<g.length;
N++)delete C[this.Rv[g[N]]];var a=new jO(D.E.X,!0);a.data={C:D.t.sM,eA:e1.F0};this.c(a)};jd.prototype.aj=function(o){var g=this.wq.DG.nV,C={};
for(var a in g)C[a]=new Uint8Array(g[a]);var x=UZIP.encode(C);c4.save(x,"resources.zip")};jd.zJ=function(o,g,C,a){var x=B.f("canvas"),X=0;
x.width=C;x.height=a;var K=x.getContext("2d"),h=o.split(".").pop().toLowerCase();for(var N=0;N<h.length;
N++)X+=h.charCodeAt(N)*613<<8*N;K.fillStyle="#"+l.eh(X&16777215);K.fillRect(0,0,20,a);var w=Math.floor(14*B.r());
K.fillStyle="#000000";K.font="bold "+w+"px sans-serif";var G=(a-w)/2,R=hX.cN(g.byteLength),d=K.measureText(R);
K.fillText(R,C-12-d.width,a-G);return x.toDataURL()};function bN(){g8.call(this,[1,15],"pmanager");this.wq=null;
this.Cl=new jz([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.Cl.h(D.E.p,this.Tk,this);
this.body.appendChild(this.Cl.e);var o=B.f("div","flexrow");this.body.appendChild(o);var g=this.adr=B.f("div");
o.appendChild(g);var C=B.f("div","form");o.appendChild(C);C.setAttribute("style","width:140px; margin-left:12px");
this.ad5=[e1.Yc,e1.W2,e1.OF,e1.Ih,e1.EW,e1.fC];this.ff=[new fU,new dT,new a2,new jU,new aD,new fM];for(var N=0;
N<this.ff.length;N++)this.ff[N].parent=this;this.hB=[];for(var N=0;N<4;N++){var a=new hs("Hello",!0,null,!0);
a.h("click",this.g1,this);this.hB.push(a);C.appendChild(a.e)}this.Tk()}bN.prototype=new g8;bN.prototype.td=function(o){return o==c_.nJ||o==c_._k};
bN.prototype.g1=function(o){var N=this.hB.indexOf(o.target);this.ff[this.Cl.O()].i2(N)};bN.prototype.Q=function(){g8.prototype.Q.call(this);
this.Cl.Q();for(var N=0;N<this.ff.length;N++)this.ff[N].Q();var o=this.hB,g=this.Cl.O(),C=e1.ZG[this.ad5[g]],a=C[0].toUpperCase();
o[0].BB([[23,6],"."+a]);o[1].BB(["VAR0 ."+a,[1,8]]);o[2].BB([6,37]);o[3].BB([5,4])};bN.prototype.Xt=function(o,g){this.wq=o;
this.Tk()};bN.prototype.Tk=function(o,g){if(!B.Af(this.e))return;this.Q();B.KZ(this.adr);this.adr.appendChild(this.ff[this.Cl.O()].Q3);
var C=this.ff,a=this.wq;if(a==null)return;C[0].Fs(a.v1);C[1].gQ(a.L$,a.KT);C[1].Fs(a.mh);C[2].Fs(a.XA);
C[3].Fs([a.E7,a.XA]);C[4].Fs(a.lz);C[5].Fs(a.Dk)};function gw(o,g,C){g8.call(this,g,"cwindow");this.apB=new eN(C[0],C[1]-33);
this.sR=B.f("div","form");this.sR.setAttribute("style","width:"+(C[2]-C[0])+"px; height:"+(C[3]-C[1])+"px");
this.body.appendChild(this.sR)}gw.prototype=new g8;gw.prototype.ir=function(o,g){return this.apB.clone()};
function cR(){g8.call(this,["PSD VAR0",[25,0]],"templates");var o=this.ak7.bind(this);window.addEventListener("message",function(g){if(typeof g.data=="string"&&g.data.startsWith("--et ")){var C=this.a3a=g.data.slice(5).split(",");
C[0]=parseFloat(C[0]);d$.E0(C[0],C[1],o)}}.bind(this));this.a8C=null;this.JC=null;this.f2=0;this.dE=null;
this.gp=null;this.a3a=null;this.body.setAttribute("style","padding:0");this.a8=new hs("Add Templates",null,null,!0);
this.body.appendChild(this.a8.e);this.a8.h("click",this.H0,this);this.a8.e.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.axq=new hs("New Template",null,null,!0);this.axq.h("click",this.aeP,this);this.avx=new hs("Upload Current Document as a Template",null,null,!0);
this.avx.h("click",this.aq_,this);this.XQ=new h$("Creator / Brand name");this.SJ=new hs([1,2],null,null,!0);
this.SJ.h("click",this.awm,this);this.FE=B.f("iframe","scrollable");this.FE.setAttribute("style","border:none; margin:0; padding:0;");
this.By=B.f("div","form scrollable padded");this.ag=new cp;this.ag.h("back",this.GQ,this);this.ag.h("save",this.agz,this);
this.body.appendChild(this.FE)}cR.prototype=new g8;cR.prototype.ak7=function(o){this.H0();this.gp=JSON.parse(o.target.response);
this.GB()};cR.prototype.awm=function(o){var g=d$.kt();if(g.tpl==null)g.tpl={};g.tpl.brnd=this.XQ.O().trim();
d$.KO(g,function(){alert("Saved.")})};cR.prototype.ir=function(o,g){return new eN(0,0)};cR.prototype.z3=function(o,g){this.MI=o;
this.fB=g;this.Em=null;g=g-4;o=o;var C=this.By;C.style.width=o-12+"px";C.style.height=g-12+"px";var C=this.ag.e;
C.style.width=o-12+"px";C.style.height=g-12+"px";var C=this.FE;C.style.width=o+"px";C.style.height=g+"px";
this.re()};cR.prototype.Q=function(){g8.prototype.Q.call(this)};cR.prototype.Tk=function(o,g,C,a){this.Em=o;
this.H0(null,!1)};cR.prototype.H0=function(o,g){var C=g!=null?g:B.Af(this.FE);if(C){if(!d$.nH()){alert("You need to log in first!");
return}var a=d$.kt();this.JC=a.tpl?a.tpl.list:[];this.XQ.I(a.tpl&&a.tpl.brnd?a.tpl.brnd:d$.Yh().name);
this.re()}else{this.FE.setAttribute("src","");this.FE.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(C?this.By:this.FE);this.a8.BB(C?"All Templates":"Add Templates")};cR.prototype.re=function(){var o=this.JC,K=450;
if(o==null)return;var g=this.By;B.KZ(g);var C=B.f("h1");g.appendChild(C);C.textContent="Share your PSD templates with the world!";
var a=B.f("ul");g.appendChild(a);var x=B.f("li");a.appendChild(x);x.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var x=B.f("li");a.appendChild(x);x.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
g.appendChild(this.axq.e);g.appendChild(this.avx.e);B.zw(g);g.appendChild(this.XQ.e);g.appendChild(this.SJ.e);
B.zw(g);K=(this.MI-20)/Math.max(1,Math.floor(this.MI/K))-42;var h="display:inline-block; width:"+K+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var N=o.length-1;N>=0;N--){var X=o[N],w=B.f("div");g.appendChild(w);w.setAttribute("style",h);var G=B.f("img");
w.appendChild(G);G.setAttribute("src",X.thmb);G.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var R=B.f("h3");w.appendChild(R);R.textContent=X.name;R.setAttribute("style","margin:0 0 10px 0");var d=B.f("p");
w.appendChild(d);d.textContent=X.desc;d.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var q=0;q<2;q++){var m=new hs(q==0?"Edit":"Delete",null,null,!0);m.a4n=N;m.GB=q==0;m.h("click",this.aiG,this);
w.appendChild(m.e)}}};cR.prototype.aq_=function(o){if(this.Em==null){alert("No document opened.");return}var g=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!g)return;var C=new jO(D.E.X,!0);C.data={C:D.t.uP,Ts:"psd",xc:this.arn.bind(this)};this.c(C)};cR.prototype.arn=function(o){this.a8C=o;
var g=new jO(D.E.X,!0);g.data={C:D.t.uP,Ts:"jpg",xc:this.a2o.bind(this),awf:1400};this.c(g)};cR.prototype.a2o=function(o){this.dE={catg:0,desc:"",file:this.a8C.split("#i").pop(),name:this.Em.name.split(".")[0],thmb:o,publ:!0,utme:""};
this.GB()};cR.prototype.aeP=function(o){this.dE={catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.GB()};cR.prototype.aiG=function(o){this.f2=o.target.a4n;if(!o.target.GB){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.JC.splice(this.f2,1);this.aj();this.re();return}this.GB()};cR.prototype.GB=function(){this.body.removeChild(this.By);
this.body.appendChild(this.ag.e);var o=this.dE?this.dE:this.JC[this.f2];if(this.gp)o=this.gp;this.ag.I(o)};
cR.prototype.agz=function(o){var g=this.ag.O();if(this.dE)this.JC.push(g);else if(this.gp){var C=this.a3a;
d$.E0(C[0],C[1],this.GQ.bind(this),JSON.stringify(g));return}else this.JC[this.f2]=g;this.aj();this.GQ()};
cR.prototype.GQ=function(){var o=this.gp;this.dE=null;this.gp=null;this.body.removeChild(this.ag.e);
this.body.appendChild(this.By);this.re();if(o)this.H0()};cR.prototype.aj=function(){var o=d$.kt();if(this.JC.length==0)delete o.tpl;
else o.tpl={list:JSON.parse(JSON.stringify(this.JC))};d$.KO(o,function(){alert("Saved.")})};cR.iD={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function ij(){g8.call(this,"Make Selection","makesel");this.wq=null;var o=B.f("div","form");this.body.appendChild(o);
this.De=new eT([12,25,1]);this.De.I(!0);o.appendChild(this.De.e);B.zw(o);this.KQ=new gl(!0);o.appendChild(this.KQ.e);
this.jX=B.FK(this,this.body)}ij.prototype=new g8;ij.prototype.Q=function(){g8.prototype.Q.call(this);
this.KQ.Q();this.De.Q();this.jX.Q()};ij.prototype.GU=function(o){var g=new jO(D.E.q,!0);g.F=c.pn;g.data={C:"frompath",d2:[null,0,this.KQ.O(),!this.De.O()]};
this.close();this.c(g)};function kc(){g8.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.Em=null;this.xH=null;
this.TH=null;var o=this.a5q=B.f("div","form");o.setAttribute("style","width:20em");this.body.appendChild(o);
this.vc=new jT([12,50],["PSD","PSB"]);this.vc.h(D.E.p,this.W3,this);o.appendChild(this.vc.e);B.xG(o);
var g=new d3("Minify the file");o.appendChild(g.e);B.zw(o);var C=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Lc=[];for(var N=0;N<C.length;N++){var a=new eT(C[N]);this.Lc.push(a);o.appendChild(a.e);a.h(D.E.p,this.W3,this)}B.xG(o);
this.di=new d3("aa.psd");this.YC=new d3("10 kB");o.appendChild(this.YC.e);this.akZ=new d3("1000 B");
o.appendChild(this.akZ.e);this.jX=new hs([1,2],!0,null,!0);this.jX.h("click",this.GU,this);o.appendChild(this.jX.e);
this.gb=new hs(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.gb.h("click",this.GU,this);o.appendChild(this.gb.e);
this.h("closebtn",this.DR,this)}kc.prototype=new g8;kc.prototype.Tk=function(o,g,C,a){var x=B.Af(this.gb.e),K=o.Ur!=null&&o.Ur.WD=="psd";
if(K&&!x)this.a5q.appendChild(this.gb.e);if(!K&&x)this.a5q.removeChild(this.gb.e);for(var N=0;N<this.Lc.length;
N++)this.Lc[N].I(!1);this.Em=o;this.W3()};kc.prototype.GU=function(o){if(o.target==this.jX)c4.save(this.xH,this.TH);
else{if(this.Lc[3].O()){alert("You should not save a ZIP as a PSD to Google Drive.");return}hR.ag8(this.Em,this.xH)}};
kc.prototype.DR=function(){this.Em=null;this.xH=null};kc.prototype.W3=function(){var o=this.Em,g=[!1,!1,!1,!1];
for(var N=0;N<3;N++)g[N]=this.Lc[N].O();var C=this.Lc[3].O(),a=g[3]=this.vc.O()==1,x=o.name.slice(0,o.name.length-3),K=this.xH=bl.qC("PSD").oe(o,0,0,g),ee=this.TH=x+"ps"+(a?"b":"d");
if(C){var h={};h[ee]=new Uint8Array(K);K=this.xH=UZIP.encode(h);ee=this.TH=x+"zip"}this.di.I(ee);this.YC.I(hX.cN(K.byteLength));
this.YC.e.style["font-size"]="2em";this.akZ.I(" \u2001 "+K.byteLength+" B");this.jX.BB(fF.get([1,2])+" \""+ee+"\"")};
kc.prototype.Q=function(){g8.prototype.Q.call(this);this.jX.Q();this.gb.Q()};function bj(){g8.call(this,"Confirm","confirm");
this.op=null;var o=B.f("div","form");this.body.appendChild(o);this.Kr=B.f("div");this.Kr.textContent="Hello";
o.appendChild(this.Kr);this.jX=B.FK(this,o);o.appendChild(this.jX.e)}bj.prototype=new g8;bj.prototype.GU=function(o){this.op();
this.close()};bj.prototype.Tk=function(o,g){this.Kr.textContent=g.k;this.op=g.op;this.jX.e.focus()};
bj.prototype.ir=function(o,g){return new eN(Math.max(0,(o-500)/2),Math.max(0,Math.min(60,(g-100)/2)))};
bj.prototype.z3=function(o,g){this.Kr.style.width=o-30+"px"};function a_(){g8.call(this,[1,16,2],"newartb");
this.DJ=0;this.xi=null;var o=B.f("div","form");o.style.width="260px";this.body.appendChild(o);this.ox=new hh;
o.appendChild(this.ox.e);this.jX=B.FK(this,o)}a_.prototype=new g8;a_.prototype.xP=function(o,g){return o!=null};
a_.prototype.GU=function(o){var g=this.ox.O();this.xi.m=g.x;this.xi.n=g.y;var C=new jO(D.E.q,!0);C.F=c.Uo;
C.data={a7Q:this.xi,ZY:this.DJ};this.c(C);this.close()};a_.prototype.Q=function(){g8.prototype.Q.call(this);
this.ox.Q();this.jX.Q()};a_.prototype.Tk=function(o,g){this.DJ=g.ZY;var C=new aS(0,0,o.m,o.n);if(o.A.length!=0){var a=o.g[o.A[0]];
if(a.add.artb){C=a.zz();C.x+=C.m+100}if(g.ZY==1)C=c.V.QR(o)}this.xi=C;this.ox.I(new eN(C.m,C.n))};function dx(){g8.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.CF=null;this.h("closebtn",this.rm,this);this.h("canclose",this.rm,this)}dx.prototype=new g8;
dx.prototype.Xt=function(o,g){if(this.CF)this.CF.Xt(o,g)};dx.prototype.ir=function(o,g){return new eN(Math.max(0,Math.min(150,(o-980)/2)),Math.max(0,Math.min(150,(g-590)/2)))};
dx.prototype.z3=function(o,g){this.MI=o;this.fB=g;o=Math.min(o,980);g=Math.min(g,590);if(this.CF)this.CF.z3(o,g)};
dx.prototype.Q=function(){g8.prototype.Q.call(this);if(this.CF)this.CF.Q()};dx.prototype.Tk=function(o,g,C,a){this.cd=g.ZY==0?"Open from Storage":"Save to Storage";
this.Q();if(this.CF==null){this.CF=new h8;this.CF.parent=this;this.body.appendChild(this.CF.e);this.Q();
this.z3(this.MI,this.fB)}Storage.Ap(g.ZY,o?o.name:"");h8.Gz(this.CF)};dx.prototype.rm=function(o){Storage.Ap(0);
h8.g3();if(o.type=="canclose")this.close()};function gp(){g8.call(this,"Variables","varsdats");var o=this.sR=B.f("div","form");
o.setAttribute("style","width:300px");this.body.appendChild(o);this.Em=null;this.qg=0;this.SI=new jT(null,["Variables","Data Sets"]);
this.SI.h(D.E.p,this.amb,this);this.P1=new gp._5;this.a4=new gp.kk;this.a4.h("activate",this.Ph,this);
this.Og=new d3([1,8]);var g=this.$d=B.f("div");g.appendChild(this.a4.go.e);g.appendChild(this.Og.e);
this.uF=new hs("PNGs",!1,null,!0);this.uF.h("click",this.QT,this);g.appendChild(this.uF.e);this.a9o=new hs("JPGs",!1,null,!0);
this.a9o.h("click",this.QT,this);g.appendChild(this.a9o.e);this.jX=B.FK(this,g)}gp.prototype=new g8;
gp.prototype.amb=function(o){var g=this.SI.O(),C=this.sR;B.KZ(C);C.appendChild(this.SI.e);C.appendChild(g==0?this.P1.e:this.a4.e);
C.appendChild(this.$d)};gp.prototype.GU=function(o){var g=new jO(D.E.q,!0);g.F=c.qd;g.data={C:A.vK,k:JSON.stringify([this.P1.O(),this.a4.O()])};
this.c(g);this.close()};gp.prototype.Q=function(){g8.prototype.Q.call(this);this.jX.Q();this.Og.Q()};
gp.prototype.Tk=function(o,g){this.Em=o;if(o==null)return;this.P1.Tk(o,g);this.a4.Tk(o,g);this.SI.I(0);
this.amb();this.qg=0};gp.prototype.QT=function(o){var g=this.P1.O(),C=this.a4.O();if(g.length==0){alert("There are no variables.");
return}if(C.length==0){alert("There are no data sets.");return}var a=bl.atR(this.Em,g,C,this.a4.apz(),o.target==this.uF?"PNG":"JPG",this);
if(a!=null)c4.save(a,"images.zip")};gp.prototype.Ph=function(o){var g=this.a4.A,C=this.P1.O(),a=this.a4.O();
if(C.length==0){alert("There are no variables.");return}if(a.length==0){alert("There are no data sets.");
return}this.ak9();this.qg+=bl.sn(this.Em,this,C,a,this.a4.apz(),g)};gp.prototype.ak9=function(){var o=new jO(D.E.q,!0);
o.F=c.DY;o.data={C:"h_stepbck"};while(this.qg>0){this.c(o);this.qg--}};gp.kk=function(){ar.call(this);
this.QW=null;this.Tb=[];this.A=0;var o=this.e=B.f("div","form");this.Q8=B.f("div","scrollable");this.Q8.setAttribute("style","overflow:scroll;  height:234px;");
o.appendChild(this.Q8);this.zg=new ec("Import a CSV file");o.appendChild(this.zg.e);this.zg.h(D.E.p,this.afL,this);
this.go=new ec("Source Images",!0);o.appendChild(this.go.e)};gp.kk.prototype=new ar;gp.kk.prototype.afL=function(o){var g=this.zg.O();
for(var C in g){g=g[C];break}this.QW=hI.kR(u.SP(g));this.Ty()};gp.kk.prototype.apz=function(){return this.go.O()};
gp.kk.prototype.Tk=function(o,g){var C=this.QW=JSON.parse(JSON.stringify(o.XO));this.Ty()};gp.kk.prototype.O=function(){return this.QW};
gp.kk.prototype.Ty=function(){var o=this.SC.bind(this),g=this.QW,a="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.Tb=[];var C=B.f("table");C.setAttribute("style","border-collapse: collapse;");for(var N=0;N<g.length;
N++){var x=B.f("tr"),K=g[N],h=N==0?"th":"td";C.appendChild(x);var X=B.f(h);x.appendChild(X);X.setAttribute("style",a+"cursor:pointer;");
if(N!=0)X.textContent="\u2713";this.Tb.push(X);X.addEventListener("click",o,!1);for(var w=0;w<K.length;
w++){var X=B.f(h);X.textContent=K[w];x.appendChild(X);X.setAttribute("style",a);X.setAttribute("title",K[w])}}B.KZ(this.Q8);
this.Q8.appendChild(C)};gp.kk.prototype.SC=function(o){this.A=this.Tb.indexOf(o.currentTarget);this.c(new jO("activate"))};
gp._5=function(){ar.call(this);var o=this.e=B.f("div","form marged");this.hW=null;this.lD=[];this.xd=[];
this.h2=null;this.u3=new jz([0,3],[]);this.u3.h(D.E.p,this.aiO,this);o.appendChild(this.u3.e);this.CX=[];
var g=["Visibility","Text Content","Pixel Content"];for(var N=0;N<g.length;N++){B.xG(o);var C=new eT(g[N]);
C.h(D.E.p,this.Ez,this);o.appendChild(C.e);B.zw(o);var a=new h$("Variable Name");a.h(D.E.p,this.Ez,this);
o.appendChild(a.e);this.CX.push(C,a)}};gp._5.prototype=new ar;gp._5.prototype.Ez=function(o){var g=this.u3.O(),C=this.h2[g],a=this.lD[g],x=this.hW["l"+C],K=this.CX;
if(x==null)this.hW["l"+C]=x=[];while(x.length!=0)x.pop();for(var N=0;N<3;N++){var h=K[2*N+1].O();if(!K[2*N].O())continue;
var X={varName:h,trait:["visibility","textcontent","fileref"][N]};x.push(X);if(N==2){X.align="center";
X.clip="false";X.placementMethod="fit";X.valign="middle"}}if(x.length==0)delete this.hW["l"+C];this.Tk()};
gp._5.prototype.aiO=function(o){var g=this.u3.O(),C=this.h2[g],a=this.lD[g],x=this.hW["l"+C],K=this.CX;
if(x==null)x=[];for(var N=0;N<3;N++){var h=N==0||N==1&&a==0||N==2&&a==1;K[2*N].ZB(h);K[2*N].I(!1);K[2*N+1].ZB(h);
K[2*N+1].I("")}for(var N=0;N<x.length;N++){var X=x[N],w=X.trait,G=["visibility","textcontent","fileref"].indexOf(w);
K[G*2].I(!0);K[G*2+1].I(X.varName)}};gp._5.prototype.Tk=function(o,g){if(o){var C=JSON.parse(JSON.stringify(o.fU)),a=this.hW={};
for(var N=0;N<C.length;N++){var x=C[N],K=x.docRef;K="l"+K.slice(4,K.length-2);if(a[K]==null)a[K]=[];
a[K].push(x)}this.h2=[];this.lD=[];this.xd=[];for(var N=o.g.length-1;N>=0;N--){var h=o.g[N],K=h.add.lyid;
if(h.getName()=="</Layer group>")continue;this.h2.push(K);this.lD.push(h.add.TySh?0:1);this.xd.push(h.getName())}}var X=[],w=this.xd;
for(var N=0;N<w.length;N++){X.push(w[N]+(this.hW["l"+this.h2[N]]?" *":""))}var G=this.u3.O();this.u3.e5(X);
this.u3.I(G);this.aiO()};gp._5.prototype.O=function(){var o=this.hW,g=[];for(var C in o){var a=o[C];
for(var x=0;x<a.length;x++){a[x].docRef="id('"+C.slice(1)+"')";g.push(a[x])}}return g};function iU(o,g,C,a){ar.call(this);
this.name=o;this.a2C=C;this.Gi=a;this.M2=B.f("div","");this.M2.setAttribute("draggable","true");this.bo=B.f("div","pbody");
this.IG=new hs("",!1,"");this.IG.parent=this;this.ai8=B.f("span","cross");this.HX=B.f("span","label");
var x=this.a2l.bind(this);this.M2.addEventListener("mousedown",this.a2m.bind(this),!1);this.M2.addEventListener("contextmenu",x,!1);
this.IG.e.addEventListener("contextmenu",x,!1);this.ai8.addEventListener("mousedown",this.NE.bind(this),!1);
this.M2.appendChild(this.HX);if(g)this.M2.appendChild(this.ai8);this.mt=!1;this.ku=new g0([{name:[1,12,0]}]);
this.ku.h("select",this.NE,this);this.HX.textContent=o}iU.prototype=new ar;iU.prototype.sv=function(){return null};
iU.prototype.Q=function(){var o=fF.get(this.name),g=this.MI==0?22:Math.round(2+this.MI/50),C=o.length>g;
this.HX.textContent=C?o.slice(0,g-2):o;if(C)for(var a=0;a<2;a++){var x=B.f("span");x.textContent=o.charAt(g-2+a);
x.setAttribute("style","opacity:"+(.6-a*.4));this.HX.appendChild(x)}var K=o.split(" "),h=K.length==2?K[0].substring(0,2)+K[1][0]:o.substring(0,3);
if(h.charCodeAt(0)>=11776)h=h.substring(0,1);var X=this.a2C;if(X==null)this.IG.BB(h,o);else{var w;if(X.startsWith("---"))w="<img src=\""+PIMG[X.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(X.startsWith("==="))w="<img src=\""+X.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(X.indexOf("\"")==-1)w="<img src=\""+X+"\" alt=\""+o+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.IG.BB(w,o)}};iU.prototype.enable=function(){this.bo.setAttribute("class","pbody")};iU.prototype.disable=function(){this.bo.setAttribute("class","pbody disabled")};
iU.prototype.Xt=function(o,g){};iU.prototype.Tk=function(o,g,C){};iU.prototype.OD=function(o){};iU.prototype.z3=function(o,g){};
iU.prototype.LO=function(o){this.name=o;this.Q()};iU.prototype.Pi=function(){};iU.prototype.a2m=function(o){if(o.button==0)this.c(new jO("select",!1))};
iU.prototype.a2l=function(o){B.eI(o);if(this.Gi!=null&&isNaN(this.Gi))return;var g=B.Iw(o,document.body),C=this.ku;
C.update(null);C.Q();C.parent=this;var a=new jO(D.E.X,!0);a.data={C:D.t.Sd,u6:C,x:g.x+1,y:g.y+1};this.c(a)};
iU.prototype._Q=function(){this.NE({})};iU.prototype.NE=function(o){if(o.stopPropagation)o.stopPropagation();
if(this.Gi!=null&&!isNaN(this.Gi)){var g=new jO(D.E.X,!0);g.data={C:D.t.rz,u6:this.ku};this.c(g);g.data={C:D.t.sM,eA:e1.bN,k:parseFloat(this.Gi),GJ:"del"};
this.c(g)}else if(this.an4())this.c(new jO(D.E.mT,!1))};iU.prototype.an4=function(o){return!0};iU.prototype.xA=function(o,g,C,a,x){};
iU.prototype.kh=function(o,g,C,a,x){};iU.prototype.eO=function(o,g,C,a,x){};iU.Nl=function(o,g,C){if(o.childElementCount!=0)return;
var a=o.textContent;this.i9=this.ae_.bind(this);this.a3J=this.aeb.bind(this);this.h0=g;this.as2=C;this.Vq=o;
this.amv=a;var x=B.f("input","");x.setAttribute("type","text");x.setAttribute("size","10");x.setAttribute("value",a);
B.KZ(o);o.appendChild(x);x.select();x.focus();B.X1(o);o.addEventListener("keyup",this.i9,!1);document.body.addEventListener("mousedown",this.a3J,!1)};
iU.Nl.prototype.ae_=function(o){var g=c_.NM,C=g(o.code,c_.kD);if(g(o.code,c_.oc)||C)this.apK(C)};iU.Nl.prototype.aeb=function(o){var g=o.target;
if(g.tagName&&g.tagName.toLowerCase()=="input")return;this.apK(!0)};iU.Nl.prototype.apK=function(o){var g=this.Vq,C=g.firstChild.value;
g.removeEventListener("keyup",this.i9);document.body.removeEventListener("mousedown",this.a3J);if(this.as2||o&&C!=""&&C!=this.amv){this.h0(C)}else{B.KZ(g);
g.textContent=this.amv}};iU.yt={DY:"0",aww:"1",qd:"2",aw4:"3",arm:"4",SV:"5",CSS:"6",Yc:"7",aap:"8",ask:"9",atC:"10",ad0:"11",alP:"12",Zr:"13",pF:"14",ac5:"15",a3N:"16",ZA:"17",a1w:"18",aqj:"19",a2u:"20",Ih:"21",a00:"22"};
function g$(){iU.call(this,[9,9],!1,"---panels/actions",iU.yt.ad0);this.wq=null;this.je=[0,0];this.nv=B.f("div","padded scrollable");
this.nv.setAttribute("style","width:260px;  height:260px");this.bo.appendChild(this.nv);this.h(D.E.p,this.Wy,this);
this.$d=B.f("div","lpfoot");this.bo.appendChild(this.$d);this.ff=[];var o="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",g="</svg>",C=o+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+g,a=o+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+g;
this.a1B=o+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+g;this.auP=o+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+g;
var x=[this.a1B,a,"lrs/folder","lrs/newlayer","lrs/bin",C],K=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var N=0;N<x.length;N++){var h=x[N];if(1<N&&N!=x.length-1)h="<img src=\""+PIMG[x[N]]+"\" class=\"miniscale gsicon\" />";
var X=new hs(h,!1,K[N]);X.h("click",this.agd,this);this.$d.appendChild(X.e);this.ff.push(X)}}g$.prototype=new iU("");
g$.prototype.Q=function(){iU.prototype.Q.call(this);for(var N=0;N<this.ff.length;N++)this.ff[N].Q()};
g$.prototype.agd=function(o){var N=this.ff.indexOf(o.currentTarget),g=this.je,C=this.wq,a=C.Cs;if(N==0){var x,K=C.cJ;
if(a.length==0){alert("Create an Action Set first.");return}if(g.length<2){alert("Select a target action first.");
return}if(K==null){x=this.auP;K=this.je}else{x=this.a1B;K=null}this.ff[0].BB(x);C.cJ=K}else if(N==1)this.a0J();
else if(N==2||N==3){var h={Wm:"Action Set "+a.length,B9:[],exp:!0};if(N==2||a.length==0){g=[a.length];
a.push(h)}if(N==3){var X=a[g[0]].B9;g=[g[0],X.length];X.push({Wm:"Action "+X.length,color:0,B9:[],afF:!1,shift:!1,exp:!0,XE:X.length})}this.je=g;
this.Ty()}else if(N==4){var w;if(g.length==1)w=a;else if(g.length==2)w=a[g[0]].B9;else w=a[g[0]].B9[g[1]].B9;
var G=g.length-1;w.splice(g[G],1);if(w.length==0)g.pop();else while(g[G]>=w.length)g[G]--;if(g.length==0)g.push(0);
this.Ty()}else if(N==5){if(a.length==0){alert("No Actions Present.");return}var R=new jO(D.E.X,!0);R.data={C:D.t.qa,acX:e1.q,lh:g[0]};
this.c(R)}};g$.prototype.Wy=function(o){var g=this.wq.Cs,C=o.data.C,a=o.data.g2;if(C=="sel")this.je=a;
if(C=="fold"){if(a.length==1)g[a[0]].exp=!g[a[0]].exp;else g[a[0]].B9[a[1]].exp=!g[a[0]].B9[a[1]].exp}if(C=="enab"){var x=g[a[0]].B9[a[1]].B9[a[2]];
x.N=!x.N}if(C=="nchange"){if(a.length==1)g[a[0]].Wm=o.data.fT;else g[a[0]].B9[a[1]].Wm=o.data.fT}this.Ty()};
g$.prototype.Xt=function(o,g){this.wq=o;if(g==e1.q||g==e1.B3)this.Ty()};g$.prototype.Ty=function(){if(this.wq==null)return;
B.KZ(this.nv);var o=this.wq.Cs;if(o.length==0)return;var g=JSON.stringify(this.je);for(var N=0;N<o.length;
N++){var C=o[N],a=new g$.qA([N],g,C.exp,C.Wm.split("=").pop());a.parent=this;this.nv.appendChild(a.e);
if(!C.exp)continue;for(var x=0;x<C.B9.length;x++){var K=C.B9[x],a=new g$.qA([N,x],g,K.exp,K.Wm.split("=").pop());
a.parent=this;this.nv.appendChild(a.e);if(!K.exp)continue;for(var h=0;h<K.B9.length;h++){var X=K.B9[h],a=new g$.qA([N,x,h],g,null,fF.get(kn.a4p(X)),X.N);
a.parent=this;this.nv.appendChild(a.e)}}}};g$.prototype.a0J=function(){var o=this.wq.Cs,g=this.je;if(o.length==0){alert("No Actions Present");
return}if(g.length==1){alert("Select an Action first");return}if(this.wq.cJ!=null){alert("You can not apply actions while recording actions");
return}if(g.length==1)g.push(0);var C=o[g[0]],a=C.B9[g[1]],x=new jO(D.E.X,!0);x.data={C:D.t.Q7,d2:[a.Wm,C.Wm]};
this.c(x)};g$.qA=function(o,g,C,a,x){ar.call(this);this.g2=o;var K=this.g2.length-1;this.e=B.f("div","layeritem"+(JSON.stringify(o)==g?" selected":""));
this.Ri=B.f("div","head");this.e.appendChild(this.Ri);this.Ri.setAttribute("style","height:24px");this.T9=B.f("div","headL");
this.Ri.appendChild(this.T9);if(K!=0){var h=B.f("div");h.style.width=K*20+"px";this.T9.appendChild(h)}if(C!=null){var X=this.a5p=B.f("div",C?"open":"closed");
this.T9.appendChild(X)}else{var w=this.asM=B.f("div","cmark");w.setAttribute("style","background-size:12px 12px; opacity:"+(x?1:.3));
this.T9.appendChild(w)}if(K==0){var G=B.f("div","folder");this.T9.appendChild(G)}var R=this.HX=B.f("div","label");
R.textContent=a;this.T9.appendChild(R);this.e.addEventListener("mouseup",this.Ph.bind(this),!1)};g$.qA.prototype=new ar;
g$.qA.prototype.Ph=function(o){if(o.detail==1&&o.target.tagName.toLowerCase()!="input"){var g="sel";
if(o.target==this.a5p)g="fold";if(o.target==this.asM)g="enab";var C=new jO(D.E.p,!0);C.data={C:g,g2:this.g2};
this.c(C)}else if(this.g2.length<3)var a=new iU.Nl(this.HX,this.h0.bind(this))};g$.qA.prototype.h0=function(o){var g=new jO(D.E.p,!0);
g.data={C:"nchange",fT:o,g2:this.g2};this.c(g)};function g5(){iU.call(this,[3],!1,"---lrs/adj",iU.yt.a1w);
this.bo.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.ff=[];var N=0;
for(var o in f6.names){var g=new hs("<img src=\""+PIMG["adj/"+o]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,f6.names[o]);
g.h("click",this.acw,this);this.ff.push(g);this.bo.appendChild(g.e);if(N==4||N==10)B.zw(this.bo);N++}}g5.prototype=new iU("");
g5.prototype.Q=function(){iU.prototype.Q.call(this);for(var N=0;N<this.ff.length;N++)this.ff[N].Q()};
g5.prototype.acw=function(o){var g=this.ff.indexOf(o.target),C=f9.Uk()[g],a=new jO(C.W,!0);a.data=C.P;
this.c(a)};function a3(){iU.call(this,[12,22],!1,null,iU.yt.Ih);this.nv=B.f("div","padded");this.bo.appendChild(this.nv);
this.Wh=new jU(null,17.7,10);this.Wh.parent=this;this.Wh.h(D.E.p,this.Zh,this);this.nv.appendChild(this.Wh.Q3)}a3.prototype=new iU("");
a3.prototype.Zh=function(o){var g=this.Wh.O(),C=new jO(D.E.q,!0);C.data={C:"setstl",k:g.ex};C.F=c.gc;
this.c(C);C.data={C:"confirm"};this.c(C)};a3.prototype.Xt=function(o,g){if(g==e1.Ih||g==e1.B3){this.Wh.Fs([o.E7,o.XA])}};
var j5=function(){function o(){iU.call(this,[9,3],!1,"---panels/brush",iU.yt.Yc);this.qn=null;this.wq=null}o.prototype=new iU("");
o.prototype.X2=function(){var a=B.f("div","");this.bo.appendChild(a);this.sK=B.f("div","bordered cell");
this.sK.setAttribute("style","width:10em; height:28.5em;");a.appendChild(this.sK);this._E=[];this.RQ=null;
this.AM=[];var x=this.aq0.bind(this);this.pl=[new g("basic"),new g("useTipDynamics"),new g("useScatter"),new g("useColorDynamics"),new g("usePaintDynamics")];
for(var N=0;N<this.pl.length;N++){var K=B.f("div","listitem"),h=this.pl[N],w=null;h.parent=this;h.h("brushchange",this.al2,this);
var X=h.uv;if(N==0){this.RQ=new d3(X);K.appendChild(this.RQ.e)}else{w=new eT(X,!1);w.h(D.E.p,this.afu,this);
K.appendChild(w.e)}this.AM.push(w);this.sK.appendChild(K);this._E.push(K);K.addEventListener("click",x,!1)}this.gL=B.f("div","cell padded");
a.appendChild(this.gL);this.setItem(0);this.J=B.f("canvas");this.J.height=10;a.appendChild(this.J);this.$A=this.J.getContext("2d");
this.Ga()};o.prototype.z3=function(a,x){if(this.MI==a)return;this.MI=a;this.fB=x;this.Ga()};o.prototype.Pi=function(){if(!B.Af(this.bo))return;
if(this.sK){this.Ga();return}this.X2();this.Q();this.Xt(this.wq,e1.B3)};o.prototype.Q=function(){iU.prototype.Q.call(this);
if(this.sK==null)return;this.RQ.Q();for(var N=1;N<this.AM.length;N++)this.AM[N].Q();for(var N=0;N<this.pl.length;
N++)this.pl[N].Q()};o.prototype.al2=function(a){var x=this.pl.indexOf(a.currentTarget),K=JSON.parse(JSON.stringify(this.pl[x].qn)),h=new jO(D.E.X,!0);
h.data={C:D.t.sM,eA:e1.OL,qn:K};this.c(h)};o.prototype.afu=function(a){this.aoh(this.AM.indexOf(a.currentTarget),a.currentTarget.kW())};
o.prototype.aq0=function(a){var N=this._E.indexOf(a.currentTarget);if(a.target.tagName.toLowerCase()=="input")return;
if(this.AM[N]&&!this.AM[N].kW()){this.AM[N].nU();this.aoh(N,!0)}this.setItem(N)};o.prototype.aoh=function(a,x){this.pl[a].acq(x)};
o.prototype.setItem=function(a){for(var N=0;N<this.pl.length;N++)this._E[N].setAttribute("class","listitem");
if(this.gL.firstChild)this.gL.removeChild(this.gL.firstChild);this._E[a].setAttribute("class","listitem selected");
this.gL.appendChild(this.pl[a].e)};o.prototype.Xt=function(a,x){this.wq=a;if(this.sK==null)return;for(var N=0;
N<this.pl.length;N++)this.pl[N].Xt(a,x);if(x==e1.OL||x==e1.B3){this.qn=a.v1.WE;this.Ga()}if(x==e1.Zr)this.Ga()};
o.prototype.Ga=function(){if(this.qn)this.enable();else{this.disable();return}if(!B.Af(this.bo))return;
var a=this.wq;for(var N=0;N<this.pl.length;N++){this.pl[N].I(this.qn);if(this.AM[N])this.AM[N].I(this.pl[N].kW())}var x=JSON.parse(JSON.stringify(this.qn));
x.Brsh.v.Dmtr.v.val=Math.min(x.Brsh.v.Dmtr.v.val,50);B.SZ(this.J,this.MI,80);var K=new aS(0,0,this.J.width,this.J.height),h=this.wq.v1,X=new fn(x,h?h.H7:null,h?h.ys:null,{xW:1},a.L$,a.KT,K,null,0),w=K.n/2,G=K.m-w*2;
X.moveTo(w,w);for(var N=0;N<=G;N+=10)X.lineTo(w+N,w+20*Math.sin(2*Math.PI*N/G));X.finish();var R=this.$A.createImageData(K.m,K.n);
l.HT(X.Sv(),X.QR(),R.data,K);this.$A.putImageData(R,0,0)};function g(a){ar.call(this);this.e=B.f("div");
this.qn=null;var x=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(a);
this.uv=[[15,0],[15,1],[15,2],[15,3],"Transfer"][x];this.DJ=a;this.r_={};this.ahB=null;var K=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","prVr.jitter"]][x];
for(var N=0;N<K.length;N++){var h=K[N],X;if(h=="--br"){X=new fU;this.e.appendChild(X.Q3.firstChild)}else if(h=="Brsh.Dmtr")X=new ho([12,14,0],1,1e3," px",0,!0);
else if(h=="Brsh.Angl")X=new ho([12,15],0,359," \xB0");else if(h=="Brsh.Rndn")X=new ho([12,16],0,100," %");
else if(h=="Brsh.Hrdn")X=new ho([12,17],0,100," %");else if(h=="Brsh.Spcn")X=new ho([12,18],1,300," %");
else if(h=="szVr.jitter")X=new ho([15,4,0],0,100,"%");else if(h=="minimumDiameter")X=new ho([15,4,1],0,100,"%");
else if(h=="angleDynamics.jitter")X=new ho([15,4,2],0,100,"%");else if(h=="angleDynamics.bVTy")X=new jz("Control",["Off","Direction"]);
else if(h=="roundnessDynamics.jitter")X=new ho([15,4,3],0,100,"%");else if(h=="minimumRoundness")X=new ho([15,4,4],1,100,"%");
else if(h=="scatterDynamics.jitter")X=new ho([15,5,0],0,1e3," %");else if(h=="Cnt")X=new ho([15,5,1],1,20);
else if(h=="countDynamics.jitter")X=new ho([15,5,2],0,100," %");else if(h=="clVr.jitter")X=new ho([15,6,0],0,100," %");
else if(h=="H")X=new ho([15,6,1],0,100," %");else if(h=="Strt")X=new ho([15,6,2],0,100," %");else if(h=="Brgh")X=new ho([15,6,3],0,100," %");
else if(h=="opVr.jitter")X=new ho("Opacity Jitter",0,100," %");else if(h=="prVr.jitter")X=new ho("Flow Jitter",0,100," %");
else throw h;this.r_[h]=X;X.parent=this;X.h(D.E.p,this.Ez,this)}}g.prototype=new ar;g.prototype.a3q=function(){this.c(new jO("brushchange"))};
g.prototype.I=function(a){this.qn=JSON.parse(JSON.stringify(a));this.e.setAttribute("class",this.kW()?"":"disabled");
this.Ga()};g.prototype.Q=function(){for(var a in this.r_)this.r_[a].Q()};g.prototype.kW=function(){return!0};
g.prototype.Xt=function(a,x){if(x==e1.Yc||x==e1.B3){var K=this.r_["--br"];if(K)K.Fs(a.v1)}};g.prototype.Ez=function(a){var x=a.target,K=this.r_,h;
for(var X in K)if(K[X]==x)h=X;if(h=="--br"){var w=new jO(D.E.X,!0);w.data={C:D.t.sM,eA:e1.OL,qn:x.O()};
this.c(w)}else{var G=C(this.qn,h),R=x.O();if(G){if(h.endsWith("bVTy"))G.v=R==0?0:6;else if(h=="Cnt")G.v=R;
else G.v.val=R;this.a3q()}}};g.prototype.Ga=function(){var a=this.qn,x=a.Brsh.v.classID,K=this.r_,h=x!=this.ahB;
this.ahB=x;if(h){B.KZ(this.e);for(var X in K){if(x!="computedBrush"&&x!="sampledBrush"&&X=="Brsh.Rndn")continue;
if(x!="computedBrush"&&X=="Brsh.Hrdn")continue;var w=K[X],G=w.e;if(X=="--br"){G=w.jF.e;G.style.width="auto"}this.e.appendChild(G)}}for(var X in K){if(X=="--br")continue;
var R=C(a,X),d;if(R){if(X.endsWith("bVTy"))d=R.v==0?0:1;else if(X=="Cnt")d=R.v;else d=R.v.val;K[X].I(d)}}};
g.prototype.kW=function(){var a=this.DJ;return a=="basic"?!0:this.qn[a].v};g.prototype.acq=function(a){var x=this.DJ;
if(x=="basic")return;this.qn[x].v=a;e5.fW.aqJ(this.qn);this.a3q()};function C(a,x){var K=x.split(".");
a=a[K[0]];for(var N=1;N<K.length;N++){if(a==null)return a;a=a.v[K[N]]}return a}return o}();function iv(){iU.call(this,[9,0],!1,"---panels/history",iU.yt.DY);
this.bo.setAttribute("style","min-width:200px;");this.TM=B.f("div","hpbody scrollable");this.TM.style.height="160px";
this.bo.appendChild(this.TM);this.ab5=-1;this.Ma=[];this.Pt="";this.qT=new g0([{name:"Clear History"}],[{W:D.E.q,F:c.DY,P:{C:"h_clear"}}])}iv.prototype=new iU("");
iv.prototype.sv=function(){return this.qT};iv.prototype.Tk=function(o){if(o==null){B.KZ(this.TM);this.Pt="";
return}B.KZ(this.TM);var g=0;for(var N=0;N<o.history.length;N++)if(N<=o.za&&!o.history[N].df)g=N;for(var N=0;
N<o.history.length;N++){var C=o.history[N];if(C.df)continue;var a=new iZ(C,N,g);a.parent=this;this.TM.appendChild(a.e);
this.Ma.push(a)}if(o.za==o.history.length-1)this.Pi()};iv.prototype.Pi=function(){this.TM.scrollTop=this.TM.scrollHeight};
iv.prototype.Q=function(){iU.prototype.Q.call(this);for(var N=0;N<this.Ma.length;N++)this.Ma[N].Q()};
function iZ(o,N,g){ar.call(this);this.index=N;this.e=B.f("div",N==g?"listitem selected":"listitem");
this.c0=o.name;this.Q();if(N>g)this.e.style.opacity=.4;this.e.addEventListener("click",this.xA.bind(this),!1)}iZ.prototype=new ar;
iZ.prototype.Q=function(){this.e.textContent=fF.get(this.c0)};iZ.prototype.xA=function(o){if(this.index==this.parent.ab5)return;
this.hD({C:"h_itemchange",index:this.index})};iZ.prototype.hD=function(o){var g=new jO(D.E.q,!0);g.data=o;
g.F=c.DY;this.c(g)};function j4(){iU.call(this,[9,10],!1,"---panels/histogram",iU.yt.arm);var o=B.f("div","padded");
this.bo.appendChild(o);this.hS=new cd(256,!0);o.appendChild(this.hS.e);this.Em=null}j4.prototype=new iU("");
j4.prototype.Tk=function(o){this.Em=o;this.Ty()};j4.prototype.Ty=function(){var o=this.Em;if(!B.Af(this.bo))return;
if(o==null||o.A.length==0){this.hS.I(l.pm(l.Z(4)));return}var g=o.cf(),C=new aS(0,0,o.m,o.n),a=C.$();
if(o._){var x=o._.rect,K=l.Z(x.$()*4);l.HT(g,C,K,x);l.v6(o._.channel,K);g=K;C=x;var h=o._.channel;a=0;
for(var N=0;N<h.length;N++)a+=h[N];a=Math.round(a/255)}var X=l.pm(g);X[0][255]+=3*(a-X[5]);for(var N=1;
N<4;N++)X[N][255]+=a-X[5];this.hS.I(X,a)};j4.prototype.Xt=function(o,g){this.hS.NJ(ka.oI[o.A7]["--text-color"])};
j4.prototype.Q=function(){iU.prototype.Q.call(this);this.hS.Q()};j4.prototype.Pi=function(){this.Ty()};
function cM(){iU.call(this,[9,8],!1,"---adj/clrL",iU.yt.aww);this.nv=B.f("div","padded");this.bo.appendChild(this.nv);
this.uT=new fJ(10);this.nv.appendChild(this.uT.e);this.Bb=new gE;this.Bb.parent=this;this.nv.appendChild(this.Bb.Q3);
this.Bb.Q3.style.marginTop="6px";this.uT.h(D.E.p,this.a7L,this);this.Bb.h(D.E.p,this.a7L,this)}cM.prototype=new iU("");
cM.prototype.a7L=function(o){var g;if(o.target==this.uT)g=this.uT.O();else{var C=this.Bb.O();g=Math.round(C.z)<<16|Math.round(C.B)<<8|Math.round(C.K)}var a=new jO(D.E.X,!0);
a.data={C:D.t.sM,eA:e1.Zr,JI:0,k:g};this.c(a)};cM.lM=function(o,g){var C=g==e1.B3,a=o.le,x=o.nf,K=x.strokeStyleContent.v,h=null;
if((g==e1.Yx||C)&&a.mf==1){h=l.T.Xh(a.NL.Clr.v);h=h.z<<16|h.B<<8|h.K}if((g==e1.Q0||C)&&x.strokeEnabled.v&&K.classID=="solidColorLayer"){h=l.T.Xh(K.Clr.v);
h=h.z<<16|h.B<<8|h.K}if(g==e1.Zr||C)h=o.L$;return h};cM.prototype.Xt=function(o,g){var C=o.L$,a=g==e1.B3,x=cM.lM(o,g);
if(x!=null){this.uT.I(x);this.Bb.I({z:x>>>16&255,B:x>>>8&255,K:x>>>0&255,dT:"Color #"+l.eh(x)})}if(g==e1.VJ||a){var K=o.awy;
this.Bb.Fs(K)}};function bF(){iU.call(this,[12,72],!1,"---adj/mixr",iU.yt.a3N);this.vx=null;this.zH=null;
this.TM=B.f("div","lpbody scrollable");this.TM.style.marginTop="4px";this.$d=B.f("div","lpfoot");this.bo.appendChild(this.TM);
this.bo.appendChild(this.$d);this.R0=[];this.h("click",this.NX,this);this.um=[];bF.VR([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.um,this.$d,this.ao.bind(this),this.qM.bind(this));
this.qT=new g0([{name:"Merge Channels",Dd:!0}],[{W:D.E.X,P:{C:D.t.gC,$j:"mergechannels"}}])}bF.prototype=new iU("");
bF.prototype.sv=function(){return this.qT};bF.VR=function(o,g,C,a,x){for(var N=0;N<o.length;N++){var K=new hs("W",!1,o[N]);
g.push(K);B.sa(K.e,a);C.appendChild(K.e);var h=K.e;h.addEventListener("drop",x,!1);h.addEventListener("dragover",function(X){X.preventDefault()},!1);
h.addEventListener("dragenter",B.eI,!1)}};bF.L7=function(o,g){for(var N=0;N<o.length;N++)if(o[N].e==g.currentTarget)return N};
bF.prototype.ao=function(o){var g=bF.L7(this.um,o);if(g==0)this.c(fL.vI(!0,null,o));else{g--;var C=new jO(D.E._h,!0),a={classID:"null"};
if(g==0)a.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(g==1)a.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else a.null=kn.C8("Chnl",!0);C.data={j7:["duplicate","make","delete"][g],FS:a};this.c(C)}};bF.prototype.qM=function(o){var g=bF.L7(this.um,o);
if(g==2){var C=new jO(D.E._h,!0),a={classID:"null"};a.null=kn.C8("Chnl",!0);C.data={j7:"duplicate",FS:a};
this.c(C)}else this.ao(o)};bF.prototype.YB=function(N){var o=this.R0,g=o[N];if(g==null){var C=B.f("canvas");
g=C.getContext("2d");o.push(g)}return g};bF.prototype.NX=function(o){var g=this.vx.slice(0),C=o.data.XE,a=g[0]+g[1]+g[2],x=this.zH;
if(-5<C&&C<0){var K=-C-1;if(o.data.mV){if(K==0)g=a==3?[0,0,0]:[1,1,1];else{if(g[K-1]==0)g[K-1]=1;else if(!0)g[K-1]=0}}else{if(K==0)g=[1,1,1];
else{g=[0,0,0];g[K-1]=1}x.Ix=[]}var h=new jO(D.E.q,!0);h.F=c.rT;h.data={C:"setcls",dp:g};this.c(h);return}if(-1<C){var X=x.g[C],w=X.U3==1?X.KN():X.WW(x).d;
if(o.data.mV)w.nR=!w.nR;else{for(var N=0;N<x.JH.length;N++)x.JH[N].nR=!1;x.Ix=[]}}else{var G=-C-5,w=x.JH[G];
if(o.data.mV)w.nR=!w.nR;else{for(var N=0;N<x.JH.length;N++)x.JH[N].nR=!1;w.nR=!0;x.Ix=[G]}}x.dF=x.b0=!0};
bF.prototype.Pi=function(){this.W3()};bF.prototype.Tk=function(o){this.zH=o;this.W3()};bF.prototype.W3=function(){var o=this.zH,g=this.TM,m=4;
B.KZ(g);if(o==null||!B.Af(g))return;var C=o.m,a=o.n,x=new aS(0,0,C,a),K=this.vx=o.u.dp.slice(0),h=K[0]+K[1]+K[2],X=Math.round(34*B.r()),w=X;
if(C>a)w=Math.round(w*a/C);else X=Math.round(X*C/a);var G=["RGB"].concat(f6.WK);for(var N=0;N<4;N++){var R=this.YB(N);
l.Qm.Iv(R,X,w,x,o.cf(),x,!1,N==0?null:N-1);var d=N==0?h==3:K[N-1]==1,q=new fL(-1-N,!0,!0,R,G[N],d,d);
q.parent=this;g.appendChild(q.e);B.iK(R.canvas)}for(var N=0;N<o.A.length;N++){var M=o.g[o.A[N]],Z=M.U3;
if(Z!=1&&Z!=3)continue;var Q=Z==1?M.KN():M.WW(o).d,R=this.YB(m+N);m++;l.Qm.cO(R,X,w,x,Q);var q=new fL(o.A[N],!0,!0,R,M.getName()+(Z==1?"":" Filter")+" Mask",!0,Q.nR);
q.parent=this;g.appendChild(q.e);B.iK(R.canvas)}for(var N=0;N<o.JH.length;N++){var Q=o.JH[N],R=this.YB(m+N);
l.Qm.cO(R,X,w,x,Q);var q=new fL(-5-N,!0,Q.name=="Quick Mask",R,Q.name,o.Ix.indexOf(N)!=-1,Q.nR,c.qd,{C:A.W9,JI:"rnm",XE:N});
q.parent=this;g.appendChild(q.e);B.iK(R.canvas)}};bF.prototype.z3=function(o,g){this.TM.style.height=g-9-26-4+"px";
this.TM.style.width=o+"px"};bF.prototype.Q=function(){iU.prototype.Q.call(this);this.W3();bF.Jc(this.um,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
bF.Jc=function(o,g){var g=jT.fE(g,null,"miniscale");for(var N=0;N<o.length;N++)o[N].BB(g[N])};function fL(o,g,C,a,x,K,h,X,w){ar.call(this);
this.e=B.f("div","layeritem");this.a93=o;this.a6N=g;this.$A=a;this.a5x=X;this.asA=w;this.Ri=B.f("div",K?"head selected":"head");
this.Ri.setAttribute("style","height: "+40+"px");var G=B.f("div","headL"),R=B.f("div","headR"),d=15;
this.e.appendChild(this.Ri);this.Ri.appendChild(G);this.Ri.appendChild(R);this.g4=B.f("div","eye");if(1<B.r()&&B.r()<1.5)d=d/B.r();
this.g4.setAttribute("style","background-size: "+d+"px "+d+"px;");this.g4.style.opacity=h?1:.2;if(g)G.appendChild(this.g4);
this.Dz=B.f("div","thumb");if(a)this.Dz.appendChild(a.canvas);G.appendChild(this.Dz);this.QN=B.f("div","label");
if(C)this.QN.style.fontStyle="italic";this.QN.textContent=fF.get(x);G.appendChild(this.QN);var q=this.Ri;
q.setAttribute("draggable","true");q.addEventListener("dragstart",function(m){m.dataTransfer.setData("Text","")},!1);
B.sa(this.Ri,this.axe.bind(this));if(!C)this.Ri.addEventListener("mouseup",this.a4h.bind(this),!1)}fL.prototype=new ar;
fL.prototype.h0=function(o){var g=new jO(D.E.q,!0);g.F=this.a5x;g.data=this.asA;g.data.name=o;this.c(g)};
fL.prototype.axe=function(o){var g=o.ctrlKey||o.metaKey,C=this.a93;if(g&&o.target==this.$A.canvas){this.c(fL.vI(this.a6N,C,o))}else{var a=new jO("click",!0);
a.data={XE:C,mV:o.target==this.g4,a5:g};this.c(a)}};fL.prototype.a4h=function(o){if(o.detail==2&&o.target==this.QN){var g=new iU.Nl(this.QN,this.h0.bind(this))}};
fL.vI=function(o,g,C){var a=0;if(C.shiftKey)a++;if(C.altKey)a+=2;var x=new jO(D.E.q,!0);x.F=c.pn;if(o){if(-5<g&&g<0){x=new jO(D.E._h,!0);
x.data=c.vk.akL(a,["RGB","Rd","Grn","Bl"][-1-g])}else x.data={C:"fromchannel",d2:[g,0,a]}}else x.data={C:"frompath",d2:[g,0,a]};
return x};function dF(){iU.call(this,[8,9],!1,"---panels/paths",iU.yt.ZA);this.vx=null;this.zH=null;
this.TM=B.f("div","lpbody scrollable");this.TM.style.marginTop="4px";this.$d=B.f("div","lpfoot");this.bo.appendChild(this.TM);
this.bo.appendChild(this.$d);this.bo.addEventListener("click",this.awY.bind(this),!1);this.R0=[];this.h("click",this.NX,this);
this.um=[];bF.VR(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.um,this.$d,this.ao.bind(this),this.qM.bind(this))}dF.prototype=new iU("");
dF.prototype.ao=function(o,g){var C=bF.L7(this.um,o),a;if(C<2){a=new jO(D.E._h,!0);a.data=c.R7.hX(C)}else if(C==2)a=fL.vI(!1,null,o);
else if(C==3){a=new jO(D.E._h,!0);a.data={j7:"make",FS:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(C>3){var a=new jO(D.E.q,!0);
a.F=c.zL;a.data={C:"pathedit",JI:["new","del"][C-4],alf:g}}this.c(a)};dF.prototype.qM=function(o){this.ao(o,!0)};
dF.prototype.YB=function(N){var o=this.R0,g=o[N];if(g==null){var C=B.f("canvas");g=C.getContext("2d");
o.push(g)}return g};dF.prototype.awY=function(o){if(o.target==this.TM){var g=this.zH;g.AW=[];g.ls=[];
g.b0=!0;g.dF=!0}};dF.prototype.NX=function(o){var g=o.data.XE,C=this.zH,a=o.data.a5,x=0,K,h;if(g<0){x=-1-g;
K=C.AW;h=C.ls}else{var X=C.DE()[0];for(var N=0;N<X.length;N++){var w=X[N].XE;if(w==g)break;if(w>=0)x++}K=C.ls;
h=C.AW}if(a){var G=K.indexOf(x);if(G==-1)K.push(x);else K.splice(G,1)}else{while(K.length!=0)K.pop();
while(h.length!=0)h.pop();K.push(x)}C.b0=!0;C.dF=!0};dF.prototype.Pi=function(){this.W3()};dF.prototype.Tk=function(o){this.zH=o;
this.W3()};dF.prototype.W3=function(){var o=this.zH,g=this.TM;B.KZ(g);if(o==null||!B.Af(g))return;var C=o.m,a=o.n,x=new aS(0,0,C,a),K=this.vx=o.u.dp.slice(0),h=K[0]+K[1]+K[2],X=Math.round(34*B.r()),w=X;
if(C>a)w=Math.round(w*a/C);else X=Math.round(X*C/a);var G=o.DE(),R=G[0];for(var N=0;N<R.length;N++){var d=R[N],q=this.YB(N);
l.Qm.a70(q,X,w,x,d.add.vmsk);var m=new fL(d.XE,!1,d.XE>=0,q,d.name,G[1].indexOf(N)!=-1,!1,c.zL,{C:"pathedit",JI:"rnm",XE:d.XE});
m.parent=this;g.appendChild(m.e);B.iK(q.canvas)}};dF.prototype.z3=function(o,g){this.TM.style.height=g-9-26-4+"px";
this.TM.style.width=o+"px"};dF.prototype.Q=function(){iU.prototype.Q.call(this);this.W3();bF.Jc(this.um,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function hz(o){iU.call(this,[9,o?4:5],!1,"---panels/"+(o?"character":"paragraph"),o?iU.yt.ask:iU.yt.atC);
this.bo.setAttribute("style","min-width:240px;");this.apM=o;this.yM=null;this.wq=null}hz.prototype=new iU("");
hz.prototype.X2=function(){this.yM=new jB;var o=this.yM,g=this.bo;o.parent=this;if(this.apM){var C=B.f("div","marged");
g.appendChild(C);C.appendChild(o.OT.e);g.appendChild(B.f("hr"));var a=B.f("div","marged");g.appendChild(a);
a.appendChild(o.a$.e);a.appendChild(o.CN.e);var x=B.f("div","marged");g.appendChild(x);x.appendChild(o.nK.e);
x.appendChild(o.x0.e);g.appendChild(B.f("hr"));var K=B.f("div","marged");g.appendChild(K);K.appendChild(o.eg.e);
K.appendChild(o.EH.e);var h=B.f("div","marged");g.appendChild(h);h.appendChild(o.lJ.e);h.appendChild(o.Vm.e);
h.appendChild(o.Sm.e);g.appendChild(B.f("hr"));var X=B.f("div","marged");g.appendChild(X);X.appendChild(o.mc.e);
X.appendChild(o.Hp.e);X.appendChild(o.QP.e);X.appendChild(o.fI.e);X.appendChild(o.Hu.e);X.appendChild(o.og.e);
X.appendChild(o.tl.e);X.appendChild(o.ll.e)}else{var C=B.f("div","marged");g.appendChild(C);C.appendChild(o.On.e);
C.appendChild(o.IJ.e);C.appendChild(o.Ei.e);C.appendChild(o.amI.e);C.appendChild(o.ai1.e);C.appendChild(o.a4U.e);
C.appendChild(o.acA.e);g.appendChild(B.f("hr"));var a=B.f("div","marged");g.appendChild(a);a.appendChild(o.X5.e);
a.appendChild(o.Uq.e);a.appendChild(o.wU.e);g.appendChild(B.f("hr"));var x=B.f("div","marged");g.appendChild(x);
x.appendChild(o.Pj.e);x.appendChild(o.Pp.e);x.appendChild(o.WY.e);x.appendChild(o.Z8.e)}};hz.prototype.Pi=function(){if(!B.Af(this.bo))return;
if(this.yM==null){this.X2();var o=this.wq;if(o)this.yM.I(o.iq,o.zM,o.QF);this.yM.Q()}};hz.prototype.Q=function(){iU.prototype.Q.call(this);
if(this.yM)this.yM.Q()};hz.prototype.Xt=function(o,g){this.wq=o;if(g!=e1.B3&&g!=e1.Nf&&g!=e1.ye&&g!=e1.OG)return;
if(this.yM)this.yM.I(o.iq,o.zM,o.QF)};function hT(){iU.call(this,[9,13],!1,"---panels/glyphs",iU.yt.aqj);
this.yM=new jB;this.yM.parent=this;this.wq=null;this.amm=null;this.alu=null;this.qr=null;this.aig=null;
this.g9=Math.round(290*B.r());this.nN=45;this.a1W=4;this.a64=this.Ty.bind(this);this.av4=0;this.jS=new jz(null,["Hi","Hello"]);
this.jS.h(D.E.p,this.Ty,this);var o=this.Th=new hs("-",null,null,!0);o.h("click",this.aiS,this);var g=this.aqc=new hs("+",null,null,!0);
g.h("click",this.aiS,this);this.jF=new iJ(!1);this.jF.h(D.E.p,this.BT,this);this.jF.e.style.height=250+"px";
var C=this.jt=B.f("div","form padded");this.bo.appendChild(C);C.appendChild(this.yM.OT.e);B.zw(C);C.appendChild(this.jS.e);
C.appendChild(o.e);C.appendChild(g.e);this.bo.appendChild(this.jF.e)}hT.prototype=new iU("");hT.prototype.z3=function(o,g){if(this.MI==o)return;
this.MI=o;this.g9=Math.floor((o-13)*B.r());this.jt.setAttribute("style","width:"+this.g9/B.r()+"px;");
this.jF.e.style.height=g-73+"px";this.Ty()};hT.prototype.BT=function(o){var g=this.asF(),C=Math.round(this.g9/g);
g/=B.r();var a=this.jF.O()[0]*C*this.a1W,x=this.jF.aaP();a+=Math.floor(x.y/g)*C;a+=Math.floor(x.x/g);
var K=this.qr[this.jS.O()];if(a>=K.length)return;var h=K[a],X=this.aig[h],w=new jO(D.E.q,!0);w.F=c.rv;
if(X.NF.length==0)w.data={C:"insertGlyph",k:a+1};else w.data={C:"insertText",k:String.fromCodePoint(X.NF[0])};
this.c(w)};hT.prototype.aiS=function(o){var g=1.2;if(o.target==this.Th){if(this.nN>20)this.nN/=g}else{if(this.nN<100)this.nN*=g}this.Ty()};
hT.prototype.Pi=function(){this.Xt(this.wq)};hT.prototype.Xt=function(o,g){this.wq=o;if(!B.Af(this.bo))return;
this.yM.I(o.iq,o.zM,o.QF);var C=o.iq,a=C.Fn.Font,w=0;if(a==null)return;var x=C.pv[a].Name;if(this.amm==x)return;
var a=o.zM.Zo(x);if(a==null)return;var K=a.maxp.numGlyphs,h=this.aig=new Array(K);for(var N=0;N<K;N++)h[N]={NF:[]};
var X=Date.now(),G=new Uint8Array(1048575);for(var N=0;N<1048575;N++){var R=Typr.U.codeToGlyph(a,N);
if(R!=0&&R<K){G[N]=1;if(h[R].NF.length==0)w++;h[R].NF.push(N)}}var d=hT.iD,q=[];for(var N=0;N<d.length;
N++)q.push([]);for(var R=1;R<K;R++){q[0].push(R);var m=h[R].NF[0];if(m==null){continue}for(var M=1;M<d.length;
M++){var Z=d[M].Bt;for(var N=0;N<Z.length;N+=2)if(Z[N]<=m&&m<=Z[N+1]){q[M].push(R);break}}}this.qr=q;
var Q=[];for(var N=0;N<d.length;N++)Q.push(d[N].HJ+" ("+q[N].length+")");var p=this.jS.O();this.jS.e5(Q);
this.jS.I(p);this.amm=x;this.alu=a;this.Ty()};hT.prototype.asF=function(o){var g=Math.floor(this.g9/this.nN);
return Math.floor(this.g9/g)};hT.prototype.Ty=function(o){if(!B.Af(this.bo)||this.qr==null)return;var g=this.qr[this.jS.O()],C=g.length,a=this.alu,x=Typr.U,K=this.asF(),h=K,X=h*.8,w=h*.8/a.head.unitsPerEm,G=[],R=Math.floor(this.g9/K),d=Math.ceil(C/R),q=this.a1W,m=Date.now();
for(var M=0;M<d;M+=q){var Z=B.f("canvas"),Q=Z.getContext("2d");Z.width=K*R;Z.height=h*q;Q.strokeStyle="rgba(0,0,0,0.3)";
Q.fillStyle="white";Q.fillRect(0,0,R*K,h*q);for(var p=0;p<q;p++){for(var y=0;y<R;y++){var N=g[(M+p)*R+y];
if(N==null)break;var V=x.glyphToPath(a,N),W=l.o.TO(V.crds);if(!W.to()){Q.fillStyle="#252525";Q.beginPath();
var v=y*K+(K-W.m*w)*.5-W.x*w,j=p*h+X;Q.translate(v,j);Q.scale(w,-w);x.pathToContext(V,Q);Q.scale(1/w,-1/w);
Q.translate(-v,-j);Q.fill()}}}Q.beginPath();for(var y=0;y<R;y++){var e=y*K+K+.5;Q.moveTo(e,0);Q.lineTo(e,h*q)}for(var p=0;
p<q;p++){var T=p*h+h+.5;Q.moveTo(0,T);Q.lineTo(R*K,T)}Q.stroke();G.push(Z)}this.jF.s4(G,null,K*R,h*q)};
hT.iD=[{HJ:"All Glyphs"},{HJ:"Basic Latin, Latin 1",Bt:[0,127,128,143]},{HJ:"Latin Extended-A",Bt:[256,383]},{HJ:"Latin Extended-B",Bt:[384,591]},{HJ:"Punctuations",Bt:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{HJ:"Greek",Bt:[880,1023]},{HJ:"Cyrillic",Bt:[1024,1279]},{HJ:"Hebrew",Bt:[1424,1535]},{HJ:"Arabic",Bt:[1536,1791]},{HJ:"Emoji",Bt:[9728,10095,127744,129535]}];
function e7(){iU.call(this,[13,0],!1,null,iU.yt.Zr);this.Rh=0;this.aoF=0;this.wq=null;var o=B.f("div","flexrow padded");
this.bo.appendChild(o);var g=B.f("div");o.appendChild(g);this.eN=[];for(var N=0;N<2;N++){var C=new jD;
this.eN.push(C);C.h("click",this.a16,this);g.appendChild(C.e)}this.tK=new bx(192);this.tK.h(D.E.p,this.aY,this);
this.LB=new f3;this.LB.parent=this;o.appendChild(this.tK.e)}e7.prototype=new iU("");e7.prototype.a16=function(o){var g=o.currentTarget,C=this.eN.indexOf(g);
if(C==this.Rh){this.LB.aH(C)}else{this.Rh=C;this.Ty()}};e7.prototype.aY=function(o){var g=this.tK.O();
this.tK.I(g);var C=Math.round(g.z*255)<<16|Math.round(g.B*255)<<8|Math.round(g.K*255),a=new jO(D.E.X,!0);
a.data={C:D.t.sM,eA:e1.Zr,JI:this.Rh,k:C};this.c(a);this.aoF=Date.now()};e7.prototype.Ty=function(){var o=this.wq,g=this.Rh,C=[o.L$,o.KT];
for(var N=0;N<2;N++){var a=this.eN[N],x=a.e.style;a.NJ(C[N]);if(N==g)x.filter="drop-shadow(0 0 1px #000000)"}var K=C[g];
if(Date.now()-this.aoF>100)this.tK.I({z:(K>>>16)/255,B:(K>>>8&255)/255,K:(K&255)/255})};e7.prototype.Xt=function(o,g){this.wq=o;
if(g==e1.B3||g==e1.Zr){this.LB.ado(o.L$,o.KT);this.Ty()}};e7.prototype.Pi=function(){this.Ty()};function c3(){iU.call(this,"CSS",!1,"---panels/css",iU.yt.CSS);
this.Em=null;var o=B.f("div","padded");this.bo.appendChild(o);this.lc=B.f("textarea");B.X1(this.lc);
o.appendChild(this.lc)}c3.prototype=new iU("");c3.prototype.z3=function(o,g){if(this.MI==o)return;this.MI=o;
this.lc.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(o-10)+"px; height:"+(g-10)+"px")};
c3.prototype.Tk=function(o){this.Em=o;this.Ty()};c3.prototype.Xt=function(o,g){if(g==e1.ye)this.Ty()};
c3.prototype.Ty=function(){var o=this.Em;if(o==null||o.A.length==0)return;if(!B.Af(this.bo))return;var g=o.g[o.A[0]],C=CSS.a2Z(g,o);
if(C.length!=0)this.lc.value=C.join(";\n")+";";else this.lc.value=""};c3.prototype.Pi=function(){this.Ty()};
function j$(){iU.call(this,[9,6],!1,"---panels/info",iU.yt.aw4);this.bo.setAttribute("style","min-width:240px;");
this.Em=null;this.wq=null;var o=B.f("div","marged row");this.bo.appendChild(o);var g=B.f("div","cell");
g.setAttribute("style","width:10em");o.appendChild(g);var C=B.f("div","cell");C.setAttribute("style","width:10em");
o.appendChild(C);this.agR=[];for(var N=0;N<4;N++){var a=new d3("");this.agR.push(a);g.appendChild(a.e);
B.zw(g)}this.bo.appendChild(B.f("hr",""));var x=B.f("div","marged row");this.bo.appendChild(x);var g=B.f("div","cell");
g.setAttribute("style","width:10em");var C=B.f("div","cell");C.setAttribute("style","width:10em");x.appendChild(g);
x.appendChild(C);this.yH=new d3("");g.appendChild(this.yH.e);B.zw(g);this.V4=new d3("");g.appendChild(this.V4.e);
this.eC=new d3("");C.appendChild(this.eC.e);B.zw(C);this.Mi=new d3("");C.appendChild(this.Mi.e);this.yH.I("X: 100 px");
this.V4.I("Y: 100 px");this.eC.I("W: 0");this.Mi.I("H: 0")}j$.prototype=new iU("");j$.prototype.kh=function(o,g,C,a,x){if(!B.Af(this.bo)||o==null)return;
var K=o.u.w2(x.x,x.y),h=new eN(Math.floor(K.x),Math.floor(K.y));if(!x.H3){var X=0,w=0,G=0,R=0,d=this.agR;
if(!x.H3&&!o.asD()&&new aS(0,0,o.m-1,o.n-1).Yo(h)){var q=o.cf(),N=o.m*h.y+h.x<<2;X=q[N+0];w=q[N+1];G=q[N+2];
R=q[N+3]}d[0].I("R: "+X);d[1].I("G: "+w);d[2].I("B: "+G);d[3].I("A: "+R)}this.yH.I("X: "+l.aE.Cg(h.x,o.zC,C,o.m));
this.V4.I("Y: "+l.aE.Cg(h.y,o.zC,C,o.n));this.TA()};j$.prototype.TA=function(){var o=this.Em,g=this.wq,C=0,a=0;
if(o&&g){if(o.u.N5){C=o.u.N5.m;a=o.u.N5.n}else if(o._){C=o._.rect.m;a=o._.rect.n}C=l.aE.Cg(Math.abs(C),o.zC,g,o.m);
a=l.aE.Cg(Math.abs(a),o.zC,g,o.n)}this.eC.I(fF.get([12,41]).charAt(0)+": "+C);this.Mi.I(fF.get([12,42]).charAt(0)+": "+a)};
j$.prototype.Q=function(){iU.prototype.Q.call(this);this.TA()};j$.prototype.Tk=function(o,g,C){this.Em=o;
this.wq=C;this.TA()};function ek(){iU.call(this,[9,1],!1,"---panels/layers",iU.yt.qd);this.ip=null;this.iP=[];
this.db=null;this.jw=null;this.Ri=B.f("div","lphead");this.TM=B.f("div","lpbody scrollable");this.TM.addEventListener("scroll",this.aeZ.bind(this),!1);
this.$d=B.f("div","lpfoot");this.TF=new eT([0,6]);this.TF.h(D.E.p,this.YM,this);this.Ri.appendChild(this.TF.e);
this.f$=B.f("span","disabled");this.f$.setAttribute("style","display:inline-block; height:26px");this.Ri.appendChild(this.f$);
this.na=new jz(null,["Kind",[12,48]],!1,[]);this.na.h(D.E.p,this.YM,this);var o=this.n_=[new ap(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new h$(null,null,8)];
o[0].h(D.E.p,this.YM,this);o[1].h("input",this.YM,this);this.a6i();this.Ik=new jz(null,cP.sz,!1,cP.Hm);
this.Ik.h(D.E.p,this.a18,this);this.Ri.appendChild(this.Ik.e);this.cV=new e8([12,0],0,100,"%",0);this.cV.h(D.E.p,this.af7,this);
this.cV.parent=this;this.Ri.appendChild(this.cV.e);this.gT=new ap([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.gT.h(D.E.p,this.afM,this);this.Ri.appendChild(this.gT.e);this.G2=new e8([12,26],0,100,"%",0);this.G2.h(D.E.p,this.a2k,this);
this.G2.parent=this;this.Ri.appendChild(this.G2.e);this.um=[];this.VR();this.bo.appendChild(this.Ri);
this.bo.appendChild(this.TM);this.TM.addEventListener("dragover",function(x){x.preventDefault()},!1);
this.TM.addEventListener("dragenter",B.eI,!1);this.TM.addEventListener("drop",this.a2R.bind(this),!1);
this.bo.appendChild(this.$d);this.bo.addEventListener("contextmenu",B.eI,!1);var g=f9.tw(!0),C=f9.t1(!0);
this.amB=new g0(g,C);var g=[{name:[14,10]},{name:[14,11],lL:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],lL:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",N:function(x){return{N:x.g[x.A[0]].add.SoLd!=null}},lL:!0},{name:[6,8],N:ek.a1R},{name:[6,34],N:function(x){var K=x.g[x.A[0]];
return{N:K.add.lmfx!=null&&!K.sP()}}},{name:[6,40],lL:!0,N:function(x){var K=x.g[x.A[0]];return{N:K.add.TySh!=null}}},{name:"",lL:!0,N:function(x){var K=x.g[x.A[0]],h=K.add.TySh,X=h?h.cp:null;
return{N:h!=null&&X.Curve==null,nW:fF.get(h&&bv.gH(X)==0?[16,3,1]:[16,3,0])}}},ek.alG(!1),{name:[11,6],lL:!0,sub:[{name:[5,1],N:function(x){var K=x.g[x.A[0]];
return{N:K.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],N:function(x){var K=x.g[x.A[0]];return{N:K.add.lmfx!=null}}}]},{name:[6,12,0],N:function(x){var K=x==null?0:x.A.length;
return{N:K!=0&&(K!=1||x.A[0]!=0),nW:fF.get(K>1||K==1&&x.g[x.A[0]].sP()?[6,12,0]:[6,10])}}},{name:[6,12,1],lL:!0},{name:[13,0],sub:function(){var x=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],K=[];
for(var N=0;N<x.length;N++)K.push({name:x[N]});return K}()}],C=[{W:D.E.X,P:{C:D.t.gC,$j:"layerstyle"}},{W:D.E.q,F:c.pn,P:{C:"fromlayer",d2:[null,0,0]}},{W:D.E.q,F:c.qd,P:{C:A.XC}},{W:D.E.X,P:{C:D.t.gC,$j:"duplinto"}},{W:D.E.q,F:c.qd,P:{C:A.pr}},{W:D.E._h,P:{j7:"newPlacedLayer"}},{W:D.E.q,F:c.qd,P:{C:A.wv}},{W:D.E._h,P:{j7:"rasterizeLayer",FS:{classID:"rasterizeLayer",null:kn.C8("Lyr",!0)}}},{W:D.E.q,F:c.qd,P:{C:A.pq}},{W:D.E.q,F:c.qd,P:{C:A.akQ}},{W:D.E.q,F:c.rv,P:{C:"switchPntPrgr"}},{W:D.E.q,F:c.qd,P:{C:A.zG}},{sub:[{W:D.E.q,F:c.gc,P:{C:"st_copy"}},{W:D.E.q,F:c.gc,P:{C:"st_paste"}},{W:D.E.q,F:c.gc,P:{C:"st_clear"}}]},{W:D.E._h,P:{j7:"mergeLayersNew",FS:{__name:"Merge Layers",classID:"Mrg2"}}},{W:D.E._h,P:{j7:"flattenImage"}},{sub:function(){var x=[];
for(var N=0;N<8;N++)x.push({W:D.E.q,F:c.qd,P:{C:A.hJ,abd:N}});return x}()}];this.gL=new g0(g,C);var g=[{name:[6,45],N:function(x){var K=x.g[x.A[0]];
return{N:K.WW(x).d==null}}},{name:[6,47]}],C=[{W:D.E.q,F:c.qd,P:{C:A.Oh}},{W:D.E.q,F:c.qd,P:{C:A.Bm}}];
this.a9k=new g0(g,C);var g=[{name:"enab/disab",N:function(x){return{nW:fF.get(x.g[x.A[0]].KN().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],N:function(x){return{N:x.zj(!1,!0)}}}],C=[{W:D.E.q,F:c.qd,P:{C:A.NV}},{W:D.E.q,F:c.qd,P:{C:A.M1}},{W:D.E.q,F:c.qd,P:{C:A.Hn}}];
this.a4w=new g0(g,C);var g=[{name:"enab/disab",N:function(x){return{nW:fF.get(x.g[x.A[0]].WW(x).d.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],C=[{W:D.E.q,F:c.qd,P:{C:A.Ah}},{W:D.E.q,F:c.qd,P:{C:A.e6}}];
this.a8N=new g0(g,C);var g=[{name:"enab/disab",N:function(x){return{nW:fF.get(x.g[x.A[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],C=[{W:D.E.q,F:c.qd,P:{C:A.RI}},{W:D.E.q,F:c.qd,P:{C:A.Es}},{W:D.E.q,F:c.qd,P:{C:A.yU}}];
this.ari=new g0(g,C);this.a3b=new g0(f9.a1i(!0),f9.Uk(!0));this.apC=new g0(f9.tw(),f9.t1());this.h("rclick",this.aem,this);
var a=function(x,K,N){return{WU:this.Nj[N]==1}}.bind(this);this.aoQ=new g0([{name:[0,6],N:a},{name:[14,10],N:a},{name:[6,57,2],N:a,lL:!0},{name:"Long-tap as a right click",N:a}]);
this.aoQ.h("select",this.abR,this);this.Nj=[0,1,1,0];this.abR()}ek.prototype=new iU("");ek.prototype.aeZ=function(o){var g=this.TM.scrollTop-600;
for(var N=0;N<this.iP.length;N++){var C=this.iP[N],a=C.pj;if(g<C.pj)C.akw();if(C.pj>g+2e3)break}};ek.prototype.sv=function(){return this.aoQ};
ek.prototype.abR=function(o){var g=this.Nj;if(o){var C=o.target.Xl(),N=C[0];console.log(C);g[N]=1-g[N]}var a=[[this.TF,{e:this.f$}],[this.Ik,this.cV],[this.gT,this.G2]];
for(var N=0;N<3;N++)for(var x=0;x<a[N].length;x++)a[N][x].e.style.display=g[N]==1?"inline-block":"none";
this.z3(this.MI,this.fB)};ek.prototype.atH=function(){if(this.TF.O()){var o=this.na.O(),g=this.n_[o].O();
if(o==0)return g.indexOf(!0)!=-1;if(o==1)return g!=""}return!1};ek.alG=function(o){var g=function(a){var x=a!=null&&a.A.length!=0&&a.g[a.A[0]].tN;
return{WU:x,N:a!=null&&a.nG(a.A[0]),P:{W:D.E._h,P:{j7:x?"ungroup":"groupEvent",FS:{classID:x?"Ungr":"GrpL",null:kn.C8("Lyr",!0)}}}}},C={name:[6,6,0],lL:!0,N:g};
if(o)C.Cb=[c_.LW,c_.Ns,c_.tZ];return C};ek.a1R=function(o,g){if(o)for(var N=0;N<o.A.length;N++){var C=o.g[o.A[N]];
if(C.add.TySh||C.add.SoLd||C.add.SoCo||C.add.GdFl||C.add.PtFl)return{N:!0}}return{N:!1}};ek.prototype.a2R=function(o){B.eI(o);
var g=o.dataTransfer.getData("Text"),C=1,a=0;if(g==""){B.Mt(o,this,this.jw.indexOf(this.db),a+(C>.5?0:1))}else if(g!="--panel"){var g=JSON.parse(g),x=g.a0;
if(x=="l")this.hD({C:A.Bq,source:g.lh,target:a,rF:C})}};ek.prototype.aem=function(o){var g=this.db,C=o.data,x;
if(g.A.indexOf(C.l)==-1){var a={C:A.Cy,l:o.target.Vq.index,hi:C.U3};this.hD(a)}if(g.A.indexOf(C.l)==-1)return;
if(C.U3==1){x=this.a4w}else if(C.U3==2){x=this.ari}else if(C.U3==3){x=this.a8N}else if(C.U3==4){x=this.a9k}else if(C.U3==5){x=this.amB}else{x=this.gL}x.Q();
x.update(g);x.parent=this;var K=new jO(D.E.X,!0);K.data={C:D.t.Sd,u6:x,x:C.YA.x+1,y:C.YA.y+1};this.c(K)};
ek.prototype.Q=function(){iU.prototype.Q.call(this);this.Ik.Q();this.cV.Q();this.gT.Q();this.G2.Q();
if(this.db)this.Tk(this.db);var o="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var N=0;N<this.um.length;N++){var g=this.um[N];g.BB(B.U_(o[N],null,"miniscale"));if(N==1||N==2){g.e.style.position="relative";
var C=B.f("img","gsicon");C.setAttribute("src",PIMG["tools/corner"]);C.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
g.e.appendChild(C)}}};ek.prototype.Tk=function(o,g){if(o&&!o.n6)return;if(o==null)B.lK(this.bo,"disabled");
else B.Qq(this.bo,"disabled");this.db=o;this.jw=g;if(this.ip!=null){B.KZ(this.TM);this.ip=null;this.iP=[]}if(o==null)return;
var C=!1;for(var N=0;N<o.JH.length;N++)if(o.JH[N].nR)C=!0;this.ip=new bW(o.root,this,o,{Qe:0,RN:!1},{ag_:C,asR:this.atH()},this.iP,0,new aS(0,0,o.m,o.n));
if(o.A.length==0||o.g[o.A[0]]==null)B.lK(this.Ri,"disabled");else{B.Qq(this.Ri,"disabled");if(o.A.length==1&&o.Z5){var a=o.A[0];
for(var N=0;N<this.iP.length;N++){var x=this.iP[N];if(x.Vq.index==a&&x.Ri.scrollIntoView)x.Ri.scrollIntoView({block:"nearest"})}}var K=o.g[o.A[0]];
if(K.sP()){this.Ik.e5([[15,10,27]].concat(cP.sz),[1].concat(cP.Hm));var h=cP.CH.indexOf(K.WN);this.Ik.I(h+1)}else{this.Ik.e5(cP.sz,cP.Hm);
var h=cP.CH.indexOf(K.WN);this.Ik.I(h)}this.cV.I(Math.round(100*K.opacity/255));this.gT.I([K.GS(0),K.GS(1),K.GS(2),K.GS(31)]);
var X=o.k3();this.Ik.ZB(!X);this.G2.ZB(!X);this.cV.ZB(!X);this.gT.ZB(!(X&&!K.GS(31)));this.G2.I(Math.round(100*(K.add.iOpa!=null?K.add.iOpa/255:1)))}this.aeZ(null)};
ek.prototype.z3=function(o,g){this.MI=o;this.fB=g;var C=this.Ri.getBoundingClientRect().height;if(55<C&&C<56)C=60.2;
var a=g-(C+33);this.TM.style.height=a+"px";this.TM.style.width=o+"px"};ek.prototype.a18=function(o){this.hD({C:A.Eq,kq:this.Ik.O()})};
ek.prototype.af7=function(o){this.hD({C:A.D9,kq:Math.round(255*this.cV.O()/100)})};ek.prototype.afM=function(o){this.hD({C:A.Tg,kq:[this.gT.O(),[0,1,2,31]]})};
ek.prototype.a2k=function(o){this.hD({C:A.fH,kq:Math.round(255*this.G2.O()/100)})};ek.prototype.YM=function(o){if(o.target==this.na)this.a6i();
var g=this.TF.O();if(g)B.Qq(this.f$,"disabled");else B.lK(this.f$,"disabled");this.Q();this.db.n6=!0;
this.Tk(this.db);this.db.n6=!1};ek.prototype.a6i=function(){B.KZ(this.f$);this.f$.appendChild(this.na.e);
this.f$.appendChild(this.n_[this.na.O()].e)};ek.prototype.avN=function(o){this.akx(o,this.a3b)};ek.prototype.a9s=function(o){this.akx(o,this.apC)};
ek.prototype.akx=function(o,g){var C=o.currentTarget;if(B.Af(g.e))return;o.stopPropagation();var a=C.getBoundingClientRect();
g.Q();g.update(this.db);g.parent=this;var x=new jO(D.E.X,!0);x.data={C:D.t.Sd,u6:g,x:a.left,y:a.top,ajc:!0};
this.c(x)};ek.prototype.ac1=function(o){this.hD({C:A.a3F})};ek.prototype.acR=function(o){this.hD({C:this.db.A.length>1?A.Sb:A._g})};
ek.prototype.am6=function(o){this.hD({C:A.Hv})};ek.prototype.aaf=function(o){var g=this.db;if(g.A.length==0)return;
var C=g.g[g.A[0]],a=C.U3;this.hD({C:a<=0?C.$u?A.Es:A.pr:a==3?A.e6:A.M1})};ek.prototype.as3=function(o){this.hD({C:A.Or})};
ek.prototype.hD=function(o){var g=new jO(D.E.q,!0);g.data=o;g.F=c.qd;this.c(g)};ek.prototype.VR=function(){var o=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],g=[this.as3,this.a9s,this.avN,this.ac1,this.acR,this.am6,this.aaf],C=this.amK.bind(this);
for(var N=0;N<o.length;N++){var a=new hs("W",!1,o[N]);this.um.push(a);B.sa(a.e,g[N].bind(this));this.$d.appendChild(a.e);
if(N>=o.length-3){var x=a.e;x.addEventListener("drop",C,!1);x.addEventListener("dragover",function(K){K.preventDefault()},!1);
x.addEventListener("dragenter",B.eI,!1)}}};ek.prototype.amK=function(o){B.eI(o);var g=0,C=this.um;while(C[g].e!=o.currentTarget)g++;
C[g].Qd();var a=o.dataTransfer.getData("Text");if(a=="")return;var a=JSON.parse(a);if(a.a0=="l"){var x={C:[A.Sb,A.XC,A.pr][g-4]};
if(this.db.A.indexOf(a.lh)==-1)x.l=a.lh;this.hD(x)}if(g!=6)return;if(a.a0=="sm"||a.a0=="s"){var K=new jO(D.E.q,!0);
K.F=c.gc;K.data={C:a.a0=="sm"?"st_clear":"st_delsingle",l:a.lh,lh:a.Im};this.c(K)}if(a.a0=="fm"||a.a0=="f"){this.hD({C:a.a0=="fm"?A.Bm:A.fV,src:a.lh,Im:a.Im})}if(a.a0=="m"||a.a0=="vm"){this.hD({C:a.a0=="m"?A.M1:A.Es,l:a.lh})}};
function bW(o,g,C,a,x,K,h,X){ar.call(this);this.parent=g;this.pj=h;this.Vq=o;K.push(this);this.qh=C;
this.hZ=a;var w=g.TM,G=o.l,R=C.A.indexOf(o.index)!=-1,M=null;this.Ri=B.f("div",R?"head selected":"head");
if(G.add.artb!=null){B.lK(this.Ri,"artb");X=G.zz()}var d=this.aeV=G.sP()?26:Math.floor(10+G.a78/B.r()),q="height: "+d+"px;";
if(R&&x.ag_)q+="background-color:rgba(255,50,50,0.4);";this.Ri.setAttribute("style",q);this.avw=X;var m=this.axJ=this.awk.bind(this),Z=x.asR&&!this.a4X();
if(!Z){if(o.depth!=0){w.appendChild(this.Ri);h+=d}if(G.d8()||G.xT())if(G.l9()){M=this.ajC=B.f("div","lpineck");
w.appendChild(M);if(G.d8()){M.addEventListener("contextmenu",m,!1);var Q=new ek.wW(fF.get([12,1]),"sm","layerstyle",o.depth,0,null);
h+=21;Q.parent=this;M.appendChild(Q.e);var p=G.add.lmfx,y=p.masterFXSwitch.v;Q.Su(y);for(var N=0;N<hf.order.length;
N++){var V=p[hf.l8[N]].v;if(V.length==0)continue;for(var W=0;W<V.length;W++){var Q=new ek.wW(fF.get(hf.names[N]),"s","layerstyle",o.depth,1,[N,W]);
h+=21;Q.Su(y&&V[W].v.enab.v);Q.parent=this;M.appendChild(Q.e)}}}if(G.xT()){var v=G.WW(C).d;if(v)this.fi=B.f("div","thumb");
var Q=new ek.wW(fF.get([12,55]),"fm",null,o.depth,0,-1,v?this.fi:null);Q.parent=this;M.appendChild(Q.e);
this.at$=Q.e;this.at$.addEventListener("contextmenu",m,!1);var p=G.add.SoLd.filterFX.v,j=p.filterFXList.v,y=p.enab.v;
Q.Su(y);for(var N=j.length-1;N>=0;N--){var e=j[N].v,T=hb.uZ(e);if(f6.Ry[T])T=f6.Ry[T];var O=e.Nm.v;if(hb.names[T])O=fF.get(hb.names[T]);
if(f6.names[T])O=fF.get(f6.names[T]);var L="afw_"+T,Q=new ek.wW(O,"f",L,o.depth,1,N);Q.Su(y&&e.enab.v);
Q.parent=this;M.appendChild(Q.e)}}}}var S=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],$=G.add.lclr==null?0:S[G.add.lclr];
if($==0)$=a.Qe;this.aeU=$;if(G.sP()&&(G.add.lsct==kj.ah||x.asR)){var H={Qe:$,RN:a.RN||G.GS(31)};for(var N=o.children.length-1;
N>=0;N--){var f=new bW(o.children[N],g,C,H,x,K,h,X);h=f.a9A}}this.a9A=h}bW.prototype=new ar;bW.prototype.akw=function(){if(this.jx)return;
var o=this.Vq,g=o.l,C=this.qh,a=this.hZ,d=!0,$=!1;o.zJ(C,this.avw,!0);var x=B.f("div","headL"),K=B.f("div","headR");
this.Ri.appendChild(x);this.Ri.appendChild(K);var h=this.Ri;h.setAttribute("draggable","true");h.addEventListener("dragstart",this.E4.bind(this),!1);
h.addEventListener("drop",this.rQ.bind(this),!1);h.addEventListener("dragover",this.a7.bind(this),!1);
h.addEventListener("dragenter",B.eI,!1);h.addEventListener("dragleave",this.PM.bind(this),!1);var X=[],w=[null,null,null,null],G=g.aL(),R=o;
while(R.parent){R=R.parent;G=G&&R.l.aL()}if(g.tN){for(var N=o.index-1;N>=0;N--){var q=C.g[N];if(!q.tN){d=q.aL();
break}}}var m=g.aL()?G&&d?2:1:0;this.jx=B.f("div");var M=B.f("div",m==0?"sqr":"eye");this.jx.appendChild(M);
M.style.opacity=[.12,.33,1][m];var Z=B.f("div","space");this.QN=B.f("div","label");this.QN.setAttribute("style","max-width:calc(100% - "+(96+o.depth*20)+"px); margin-top:"+(this.aeV-19)/2+"px;");
this.QN.textContent=g.getName();this.M0=B.f("div","lock");this.aiC=B.f("div","lrfx");this.EK=B.f("div","arfx");
var Q=this.axJ,p=this.agF.bind(this);this.Ri.addEventListener("click",p,!1);this.Ri.addEventListener("contextmenu",Q,!1);
var y=this.aeU,V=[y>>16,y>>8&255,y&255];for(var N=0;N<3;N++){V[N]=Math.round(.5*V[N]+.5*220)}this.jx.setAttribute("style","background-color:rgba("+V.join(",")+","+(y==0?0:1)+");");
var W=this.a3Z.bind(this);this.jx.addEventListener("mousedown",W,!1);this.jx.addEventListener("mouseover",W,!1);
this.EK.addEventListener("click",this.a0t.bind(this),!1);X[0]=this.jx;X[1]=Z;X[10]=this.QN;if(g.sP()){var v=B.f("div","arrow"),j=B.f("div","folder");
this.H$(j);v.addEventListener("click",this.a3B.bind(this),!1);X[2]=v;X[3]=j;v.setAttribute("class",g.add.lsct==kj.ah?"open":"closed")}else{this.Dz=B.f("div","thumb");
X[5]=this.Dz;bW.UR(this.Dz,g.G7);this.H$(this.Dz);if(f6.get(g.add))B.lK(g.G7.canvas,"gsicon")}var e=g.KN();
if(e){this.Xu=B.f("div","chain");this.nQ=B.f("div","thumb");bW.UR(this.nQ,g.cT,!0);this.Xu.style.opacity=e.j3?1:0;
this.Xu.addEventListener("click",this.a1b.bind(this),!1)}var T=g.eU()&&g.add.vmsk;if(g.add.vmsk&&!T){this.Yi=B.f("div","chain");
this.$q=B.f("div","thumb");bW.UR(this.$q,g.xq,!0);this.Yi.style.opacity=g.add.vmsk.j3?1:0;this.Yi.addEventListener("click",this.avP.bind(this),!1)}if(g.xT()&&g.l9()&&g.WW(C).d){bW.UR(this.fi,g.Ms,!1);
this.H$(this.fi);this.fi.addEventListener("click",p,!1);this.fi.addEventListener("contextmenu",Q,!1)}if(o.index==C.A[0]){var O=g.U3,L;
if(O<=0)L=this.Dz;else if(O==1)L=this.nQ;else if(O==3)L=this.fi;if(L)L.setAttribute("class","thumb active");
if(g.$u&&this.$q)this.$q.setAttribute("class","thumb active")}Z.setAttribute("style","width:"+Math.max(0,o.depth-1)*18+"px");
var S=g.add.lspf!=null&&g.add.lspf!=0||a.RN;this.M0.style.opacity=g.GS(31)?1:.5;X[4]=g.tN?B.f("div","clipp"):null;
X[6]=e?this.Xu:null;X[7]=e?this.nQ:null;X[8]=g.add.vmsk&&!T?this.Yi:null;X[9]=g.add.vmsk&&!T?this.$q:null;
var H=g.Fy,f=C.A;if(H!=0)for(var N=0;N<f.length;N++)if(C.g[f[N]].Fy==H){$=!0;break}if($){w[0]=B.f("div",g.GH?"link":"linkX");
w[0].addEventListener("click",this.aiD.bind(this),!1)}w[1]=S?this.M0:null;w[2]=g.d8()?this.aiC:null;
w[3]=g.d8()||g.xT()?this.EK:null;this.EK.setAttribute("class",g.l9()?"arfx open  gsicon":"arfx closed  gsicon");
var F=X;for(var N=0;N<F.length;N++)if(F[N])x.appendChild(F[N]);F=w;for(var N=0;N<F.length;N++)if(F[N])K.appendChild(F[N])};
bW.UR=function(o,g,C){var a=g.canvas;B.iK(a);if(C)o.setAttribute("draggable","true");o.appendChild(a);
a.setAttribute("style",a.getAttribute("style")+"; pointer-events:none")};bW.prototype.H$=function(o){B.sa(o,function(g){if(this.parent.Nj[3]==0)return;
B.Cp(g);B.aw(document.body,function(){clearTimeout(this.asU)}.bind(this));this.asU=setTimeout(function(){var C=new jO("rclick",!0);
C.data={l:this.Vq.index,U3:this.U3(g),YA:B.Iw(g,document.body)};this.c(C)}.bind(this),600)}.bind(this))};
bW.IE=function(o,g){var C=g.getBoundingClientRect();return(o.clientY-C.top)/C.height};bW.prototype.E4=function(o){o.stopPropagation();
var g=o.target==this.nQ?"m":o.target==this.$q?"vm":"l";o.dataTransfer.setData("Text",JSON.stringify({a0:g,lh:this.Vq.index}))};
bW.prototype.PM=function(o){B.eI(o);this._F()};bW.prototype.rQ=function(o){B.eI(o);this._F();var g=o.dataTransfer.getData("Text"),C=this.parent.db,a=bW.IE(o,this.Ri),x=this.Vq.index;
if(a>.8){var K=!0,h=C.root.V0(x);while(h.parent!=null){var X=h.parent,w=X.children;if(w.indexOf(h)!=0)K=!1;
h=h.parent}if(K){x=0;a=1}}if(g==""){B.Mt(o,this,this.parent.jw.indexOf(C),x+(a>.5?0:1))}else if(g!="--panel"){var g=JSON.parse(g),G=g.a0;
if(G=="l")this.hD({C:A.Bq,source:g.lh,target:x,rF:a});else if(G=="m"||G=="vm")this.hD({C:G=="m"?A.abQ:A.NH,src:g.lh,vf:x});
else bW.a2W(o,g,this)}};bW.a2W=function(o,g,C,a){var x=g.a0,K=C.Vq.index,h=g.lh;if(x=="s"||x=="sm")C.hD({C:A.G3,src:h,vf:K,Im:g.Im});
if(x=="f"||x=="fm")C.hD({C:A.aj$,src:h,vf:K,Im:g.Im,Bg:a==null?0:a})};bW.prototype.a7=function(o){B.eI(o);
var g=bW.IE(o,this.Ri),C=this.Vq.l.sP()&&.5<g&&g<.8;this._F();var a="inset 0 "+(C?0:g>.5?-3:3)+"px "+(C?"5px black":"0 rgba(0,0,0,0.5)");
this.Ri.style.boxShadow=a};bW.prototype._F=function(o){this.Ri.style.boxShadow=""};bW.a6Y=-1;bW.bU=!1;
bW.acU=function(o){bW.bU=!1;document.body.removeEventListener("mouseup",bW.acU)};bW.prototype.a3Z=function(o){if(o.button!=0)return;
if(o.type=="mousedown"){bW.bU=!0;document.body.addEventListener("mouseup",bW.acU,!1)}if(o.type=="mouseover"&&(!bW.bU||bW.a6Y==this.Vq.index))return;
B.eI(o);this.hD({C:A.Jb,l:this.Vq.index});bW.a6Y=this.Vq.index};bW.prototype.a3B=function(o){B.eI(o);
this.hD({C:A.auZ,l:this.Vq.index})};bW.prototype.a1b=function(o){this.hD({C:A.Lx,l:this.Vq.index})};
bW.prototype.avP=function(o){this.hD({C:A.gG,l:this.Vq.index})};bW.BO=0;bW.prototype.h0=function(o){this.hD({C:A.Hg,l:this.Vq.index,name:o})};
bW.prototype.a0t=function(o){this.hD({C:A.atJ,l:this.Vq.index})};bW.prototype.aiD=function(o){this.hD({C:A.Pw,l:this.Vq.index})};
bW.prototype.awk=function(o){if(o.button!=2&&!B.amg(o))return;var g=this.U3(o);if(g!=3&&o.currentTarget==this.at$)g=4;
if(o.target==this.aiC||o.currentTarget==this.ajC)g=5;var C=new jO("rclick",!0);C.data={l:this.Vq.index,U3:g,YA:B.Iw(o,document.body)};
this.c(C)};bW.prototype.U3=function(o){var g=o.target,C=g;return C==this.$q?2:C==this.nQ?1:C==this.Dz?0:C==this.fi?3:-1};
bW.prototype.agF=function(o){var g=o.target,q;if(g==this.jx.firstChild||g==this.EK||g==this.Xu||g==this.Yi||g.tagName&&g.tagName.toLowerCase()=="input")return;
var C=this.U3(o),a=this.parent.db,x=this.Vq.index,K=a.g[x];if(g==this.M0){this.hD({C:A.Tg,l:x,kq:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(g==this.QN){var h=bW.BO;bW.BO=Date.now();if(Date.now()-h<300){this.Ri.setAttribute("draggable","false");
var X=new iU.Nl(this.QN,this.h0.bind(this))}else this.hD({C:A.Cy,l:x,hi:C,B4:!0});return}if(o.button==0&&o.detail==2){if(g==this.QN)return;
var w=new jO(D.E.q,!0),G=new jO(D.E.X,!0),R=new jO(D.E._h,!0);if(C==0&&K.add.SoCo){var d=l.T.Xh(K.add.SoCo.Clr.v);
G.data={C:D.t.gC,$j:"colorpicker",Qe:d.z<<16|d.B<<8|d.K,Ef:function(Z){var Q=l.T.CT({K:Z&255,B:Z>>>8&255,z:Z>>16&255});
Q={classID:"null",Clr:{t:"Objc",v:Q}};var p=new jO(D.E.q,!0);p.F=c.qd;p.data={C:A.GF,IA:[x],I2:!0,k:{mf:1,NL:Q}};
this.c(p)}.bind(this),s9:!0}}else if(C==0&&(f6.get(K.add)||K.add.SoCo||K.add.GdFl||K.add.PtFl))G.data={C:D.t.tq,$j:iU.yt.SV};
else if(C!=0&&C!=-1)G.data={C:D.t.tq,$j:iU.yt.SV};else if(C==0&&K.add.SoLd)R.data={j7:"placedLayerEditContents",FS:{classID:"placedLayerEditContents"}};
else if(C==0&&K.add.TySh){w.F=c.rv;w.data={C:"editCurr",fJ:x}}else G.data={C:D.t.gC,$j:"layerstyle",l:x};
this.c(R.data?R:G.data?G:w);return}if(o.button!=0)return;if(C==1||C==3){var m=C==3?K.WW(a).d:K.KN();
q=m.nR?a.u.dp.join("")=="111"?1:2:0}var M={C:A.Cy,l:x,hi:C,alW:q,B4:!0};this.hD(M)};bW.prototype.hD=function(o){var g=new jO(D.E.q,!0);
g.data=o;g.F=c.qd;this.c(g)};bW.prototype.a4X=function(){var o=this.Vq.l,g=o.add,C=this.parent.na.O(),a=this.parent.n_[C].O();
if(C==0){if(a[0]&&g.SoLd==null&&g.TySh==null&&o.MC())return!0;if(a[1]&&f6.get(g)!=null)return!0;if(a[2]&&g.TySh!=null)return!0;
if(a[3]&&g.vstk!=null)return!0;if(a[4]&&g.SoLd!=null)return!0;return!1}if(C==1)return o.getName().toLowerCase().indexOf(a.toLowerCase())!=-1};
ek.wW=function(o,g,C,a,x,K,h){ar.call(this);this.a2y=g;this.yn=C;this.index=K;this.e=B.f("div","styleitem");
this.Ri=B.f("div","head");this.apc=null;if(g=="f"){var X=this.apc=B.f("div","headR");X.textContent="\u2699";
this.Ri.appendChild(X)}this.jx=B.f("div","eye gsicon");this.QN=B.f("div","label");this.e.appendChild(this.Ri);
this.Ri.appendChild(this.jx);if(h){this.nQ=h;this.Ri.appendChild(h);this.Ri.setAttribute("style","height: "+(26/B.r()+10)+"px")}this.QN.innerHTML=o;
this.e.setAttribute("style","margin-left: "+(24+a*16+x*22)+"px");this.Ri.appendChild(this.QN);this.jx.addEventListener("click",this.a5e.bind(this),!1);
var w=this.e;w.setAttribute("draggable","true");w.addEventListener("dragstart",this.E4.bind(this),!1);
if(!0){w.addEventListener("drop",this.rQ.bind(this),!1);w.addEventListener("dragover",this.a7.bind(this),!1);
w.addEventListener("dragenter",B.eI,!1);w.addEventListener("dragleave",this.PM.bind(this),!1)}this.e.addEventListener("click",this.eO.bind(this),!1)};
ek.wW.prototype=new ar;ek.wW.prototype.E4=function(o){o.stopPropagation();o.dataTransfer.setData("Text",JSON.stringify({a0:this.a2y,lh:this.parent.Vq.index,Im:this.index}))};
ek.wW.prototype.PM=function(o){B.eI(o);this._F()};ek.wW.prototype.rQ=function(o){B.eI(o);this._F();var g=o.dataTransfer.getData("Text");
if(g=="")return;var g=JSON.parse(g);bW.a2W(o,g,this.parent,this.index+(bW.IE(o,this.Ri)>.5?0:1))};ek.wW.prototype.a7=function(o){B.eI(o);
var g=bW.IE(o,this.Ri)>.5;this._F();var C="border-"+(g?"bottom":"top");this.Ri.style[C]="0.2em solid rgba(0,0,0,0.5)"};
ek.wW.prototype._F=function(o){this.Ri.style.border="none"};ek.wW.prototype.Su=function(o){this.jx.style.opacity=o?1:.2};
ek.wW.prototype.eO=function(o){if(o.target==this.jx)return;var g=this.parent.Vq.index;if(o.detail!=1&&this.yn!=null){var g=this.parent.Vq.index,C=new jO(D.E.X,!0);
if(this.yn.indexOf("afw_")==0){var a=this.yn.slice(4),x=_[a]||hb.Y[a],K=o.target==this.apc;if(!K&&!x)return;
C.data=c.z1.aob(K?"blendOptions":a,{l:g,index:this.index})}else C.data={C:D.t.gC,$j:this.yn,l:g,index:this.index};
this.c(C)}else{if(o.target.getAttribute("class")!="thumb")this.parent.hD({C:A.Cy,l:g,hi:0})}};ek.wW.prototype.a5e=function(o){var g={fm:A._f,f:A.kd,sm:A.RM,s:A.e1}[this.a2y];
this.parent.hD({C:g,l:this.parent.Vq.index,index:this.index})};function cV(){iU.call(this,"Guide Guy",!1,"---panels/guideguy",iU.yt.ac5);
this.Em=null;this.Rs=[];var o=B.f("div","form padded");this.bo.appendChild(o);o.setAttribute("style","width:200px");
this.bo.appendChild(o);var g=B.f("canvas"),C=g.getContext("2d");g.width=g.height=160;var a=[32,0,16,160,0,32,160,16,0,112,160,16],x="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),K=[0,0,0,0,0,0,0,0,0,0];
this.Cl=new jz(null,l.aE.$W);o.appendChild(this.Cl.e);for(var N=0;N<10;N++){C.clearRect(0,0,160,160);
C.setTransform(1,0,0,1,80,80);C.rotate((N&3)*Math.PI/2);C.translate(-80,-80);C.fillStyle="rgba(0,0,0,0.3)";
if(N<4){for(var h=0;h<12;h+=4){C.fillStyle=h==0?"#000000":"rgba(0,0,0,0.3)";C.fillRect(a[h],a[h+1],a[h+2],a[h+3])}}else if(N<6){var X=8*6;
C.fillRect(0,0,X,160);C.fillRect(8*7,0,X,160);C.fillStyle="#000000";C.fillRect(8*14,0,X,160)}else if(N<8){C.fillRect(0,0,16,160);
C.fillRect(160-16,0,16,160);C.fillRect(32,0,160-64,160);C.fillStyle="#000000";C.fillRect(32,80-8,160-64,8*1)}else{C.fillRect(0,0,8*7,160);
C.fillRect(8*13,0,160,160);C.fillStyle="#000000";C.fillRect(8*7,80-8,8*6,8*1)}var w="<img src=\""+g.toDataURL()+"\" class=\"autoscale gsicon\" /> ",G=new e8(w,0,200,null,N==4||N==5?0:2,null,null,4,x[N]);
G.parent=this;G.h(D.E.p,this.ah9,this);G.I(K[N]);G.Q();this.Rs.push(G);o.appendChild(G.e)}var R=[[11,14],[11,15,0]];
this.ff=[];for(var N=0;N<R.length;N++){var d=new hs(R[N],!0,null,!0);this.ff.push(d);d.h("click",this.g1,this);
o.appendChild(d.e)}for(var N=0;N<6;N++){C.setTransform(1,0,0,1,80,80);C.rotate(Math.floor(N/3)*Math.PI/2);
C.translate(-80,-80);C.clearRect(0,0,160,160);C.fillStyle="rgba(0,0,0,0.3)";C.fillRect(0,0,160,160);
C.clearRect(16,16,128,128);C.fillStyle="#000000";var q=N%3;C.fillRect([0,9,18][q]*8,0,16,160);var w="<img src=\""+g.toDataURL()+"\" class=\"autoscale gsicon\" /> ",d=new hs(w,!1,null,!1);
this.ff.push(d);d.h("click",this.g1,this);o.appendChild(d.e)}}cV.prototype=new iU("");cV.prototype.Q=function(){iU.prototype.Q.call(this);
this.Cl.Q();for(var N=0;N<this.ff.length;N++)this.ff[N].Q()};cV.prototype.ah9=function(o){var g=this.Rs,C=g.indexOf(o.target),a=Math.floor(C/2),x=C&1,K=[];
for(var N=0;N<4;N++)K.push(g[2*N+x].O());var h=-1;if(a==2&&K[2]!=0&&K[3]!=0&&K[4]!=0)h=4;if(a==3&&K[3]!=0&&K[2]!=0&&K[4]!=0)h=4;
if(a==4&&K[4]!=0&&K[2]!=0&&K[3]!=0)h=3;if(h!=-1)g[2*h+x].I(0)};cV.prototype.g1=function(o){var g=this.Em,C=this.ff.indexOf(o.target),a=[[],[]];
if(g==null)return;var x=g._?g._.rect:new aS(0,0,g.m,g.n),K=x.m,h=x.n;if(C==0){var X=[[],[]],w=this.Cl.O();
for(var N=0;N<this.Rs.length;N++){var G=this.Rs[N].O();G=l.aE.p6(G,g.zC,g.m,w);X[N&1].push(G)}var R=[cV.alA(X[0],x.x,x.x+K),cV.alA(X[1],x.y,x.y+h)];
a=cV.aks(R);c.YV.K3(a,g.Kc())}else if(C==1){}else{C-=2;var d=Math.floor(C/3),R=[[],[]];R[d].push([x.x,x.x+K/2,x.x+K,x.y,x.y+h/2,x.y+h][C]);
a=cV.aks(R);c.YV.K3(a,g.Kc())}this.a6H(a)};cV.aks=function(o){var g=[],C=[];for(var a=0;a<2;a++)for(var N=0;
N<o[a].length;N++){g.push([a,o[a][N]]);C.push(-1)}return[g,C]};cV.prototype.agO=function(o){var g=this.af0.indexOf(o.target)};
cV.prototype.a6H=function(o){var g=new jO(D.E.q,!0);g.F=c.zO;g.data={C:"gids",SR:o};this.c(g)};cV.alA=function(o,g,C){var a=[],x=o[2],K=o[3],h=o[4],X=0;
if(x==0)X++;if(K==0)X++;if(h==0)X++;if(X>1&&x==0&&K==0){if(o[0]!=0)a.push(g+o[0]);if(o[1]!=0)a.push(C-o[1]);
return a}var w=C-g-o[0]-o[1];if(x==0){if(h==0){x=Math.floor(w/K);h=(w-x*K)/(x-1)}else{x=1;while(K*x+h*(x-1)+K+h<=w)x++}}else if(x!=0&&K!=0){if(x*K>w)x=Math.floor(w/K);
h=(w-x*K)/(x-1)}a.push(g+o[0],C-o[1]);var K=(w-h*(x-1))/x;for(var N=1;N<x;N++){if(h==0)a.push(g+o[0]+N*K);
else a.push(g+o[0]+N*K+(N-1)*h,g+o[0]+N*K+N*h)}return a};cV.prototype.Tk=function(o,g,C){this.Em=o};
cV.prototype.Xt=function(o){this.Cl.I(o.M8.oK)};function en(){iU.call(this,[9,2],!1,"---panels/properties",iU.yt.SV);
this.alb=null;this.qh=null;this.wq=null;this.aef=-1;this.nv=null}en.prototype=new iU("");en.prototype.z3=function(o,g){this.MI=o;
this.fB=g;o=o-16;g=g-12;var C=this.nv;if(C){C.style.width=o+"px";C.style.height=g+"px";for(var N=0;N<3;
N++)this.TQ[N].z3(o-12,g)}};en.prototype.X2=function(){this.nv=B.f("div","padded scrollable");this.bo.appendChild(this.nv);
var o=B.f("span");this.nv.appendChild(o);this.s5=[new hs([0,3]),new hs([12,73]),new hs([12,91,0])];for(var N=0;
N<this.s5.length;N++){var g=this.s5[N];g.h("click",this.a6R,this);o.appendChild(g.e);if(N==2)g.e.style.marginRight="0"}this.nv.appendChild(B.f("hr"));
this.LC=new en.hK;this.LC.parent=this;this.kY=new en.Ea;this.kY.parent=this;this.B0=new en.fg;this.B0.parent=this;
this.TQ=[this.LC,this.kY,this.B0];this.nv.appendChild(this.LC.e);this.z3(this.MI,this.fB)};en.prototype.a6R=function(o){var N=this.s5.indexOf(o.currentTarget);
this.Hk(N);this.aqv(N==1?this.kY.lb:-1)};en.prototype.Hk=function(o){for(var N=0;N<3;N++){this.s5[N].Qd();
var g=this.TQ[N].e;if(g.parentNode==this.nv&&N!=o)this.nv.removeChild(g);if(g.parentNode!=this.nv&&N==o)this.nv.appendChild(g)}this.s5[o].nU()};
en.prototype.aqv=function(o){var g=this.qh.A[0],C=this.qh.g[g],a=o+1;if(o==1&&C.$u)return;var x=new jO(D.E.q,!0);
x.F=c.qd;if(o!=1&&C.$u){x.data={C:A.Cy,l:g,hi:2};this.c(x)}x.data={C:A.Cy,l:g,hi:a};this.c(x)};en.prototype.Q=function(){iU.prototype.Q.call(this);
if(this.nv==null)return;this.Tk(this.qh);for(var N=0;N<3;N++){this.s5[N].Q();this.TQ[N].Q()}};en.prototype.Pi=function(){if(!B.Af(this.bo))return;
if(this.nv==null){this.X2();this.Xt(this.wq,e1.B3);this.Tk(this.alb);this.Q()}};en.prototype.Tk=function(o){this.alb=o;
if(this.nv==null)return;this.LC.Tk(o);this.kY.Tk(o);this.B0.Tk(o);if(o==null||o.A.length==0||o.g[o.A[0]]==null){B.lK(this.bo,"disabled");
this.qh=null;return}else B.Qq(this.bo,"disabled");var g=o.A[0],C=o.g[g],a=o.DE(),x=a[0],K=a[1];if(K.length!=0){var h=x[K[0]],X=h.add.vogk,w=!1;
if(X)for(var N=0;N<X.length;N++){var G=X[N].v;if(!l.vm.kj(G))continue;w=!0;g=h.XE}}g+=","+w;if(o!=this.qh||this.aef!=g){this.qh=o;
this.aef=g;if(w)this.Hk(2);else if(C.U3<1&&!C.$u||f6.get(C.add))this.Hk(0);else this.Hk(1)}this.s5[1].ZB(this.kY.lb!=-1);
this.s5[2].ZB(w)};en.prototype.Xt=function(o,g){this.wq=o;if(this.LC)this.LC.Xt(o,g);if(this.B0)this.B0.Xt(o,g)};
en.hK=function(){ar.call(this);this.e=B.f("div","form");this.ahj=new d3("Hello");this.Q9=new hs([1,12,2],null,null,!0);
this.Q9.e.style.agB="right";this.Q9.h("click",this.HH,this);this.e.appendChild(this.ahj.e);this.e.appendChild(this.Q9.e);
this.tQ=null;this.K$=null;this.qh=null;this.wq=null;this.alF=-1;this.aao=null;this.RW=null;this.Hw=new dz(0,!0,!0);
this.Hw.parent=this;this.Hw.h(D.E.p,this.a8f,this);this.e.appendChild(this.Hw.e);this.IL=new jD(!0);
this.IL.parent=this;this.IL.h(D.E.p,this.a21,this);this.Sx=B.f("div","marged hiline");this.Sx.appendChild(this.IL.e);
this.I$=new eY("GrFl",!0);this.I$.parent=this;this.I$.h(D.E.p,this.a6m,this);this.o5=B.f("div","marged hiline");
var o="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var N=0;N<o.length;N++){var g=this.I$.r_[o[N]].e;
this.o5.appendChild(g)}this.aT=new eY("patternFill",!0);this.aT.parent=this;this.aT.h(D.E.p,this.a2L,this);
this.nS=B.f("div","marged hiline");var o=["Ptrn","Angl","Scl","Algn","phase"];for(var N=0;N<o.length;
N++){var g=this.aT.r_[o[N]].e;this.nS.appendChild(g)}this.$i={};for(var C in f6.names){if(_[C]==null)continue;
this.$i[C]=new _[C];this.$i[C].h(D.E.p,this.akb,this);this.$i[C].parent=this}var a=this.a7x=B.f("div","marged hiline");
this._c=new dz(0,!0);a.appendChild(this._c.e);this._c.h(D.E.p,this.m9,this);this.aaC=null;this.Nd=new fl;
this.Nd.parent=this;this.Nd.h(D.E.p,this.m9,this);a.appendChild(this.Nd.e)};en.hK.prototype=new ar;en.hK.prototype.a8f=function(o){var g=this.Hw.O(),C=this.RW,a=new aS(g[0],g[1],g[2],g[3]);
if(a.$s(C))return;this.RW=a;var x=new jO(D.E.q,!0);if(C.m==a.m&&C.n==a.n){x.F=c.zO;x.data={C:"trsl",pV:a.x-C.x,Ed:a.y-C.y}}else{x.F=c.GD;
x.data={C:"scl",Wm:[2,4],k:new eN(a.m/C.m,a.n/C.n),YX:0}}this.c(x)};en.hK.prototype.z3=function(o,g){var C=this.$i;
for(var a in C)C[a].z3(o,g)};en.hK.prototype.HH=function(o){var g=this.qh,C=g.g[g.A[0]],a=f6.get(C.add);
this.K$.I(hb.l3(a));this.akb()};en.hK.prototype.Q=function(){for(var o in this.$i)this.$i[o].Q();this.I$.Q();
this.aT.Q();this.Nd.Q();this._c.Q();this.Q9.Q();this.Hw.Q()};en.hK.prototype.m9=function(o){var g=new jO(D.E.q,!0),C=this._c.O(),a=this.aaC;
if(o.target==this._c&&C[2]==a[2]&&C[3]==a[3]){g.F=c.zO;g.data={C:"trsl",pV:C[0]-a[0],Ed:C[1]-a[1]}}else{var x=A.xI(new aS(C[0],C[1],C[2],C[3])),K=this.Nd.agN();
K.artboardRect={t:"Objc",v:x};g.F=c.qd;g.data={C:A.Z2,wt:K}}this.c(g)};en.hK.prototype.a21=function(o){var g=this.qh,C=g.A[0];
if(g.g[C].add.SoCo==null)return;var a=JSON.parse(JSON.stringify(g.g[C].add.SoCo));a.Clr.v=this.IL.O();
this.La({mf:1,NL:a})};en.hK.prototype.a6m=function(o){var g=this.qh,C=g.A[0];if(g.g[C].add.GdFl==null)return;
this.La({mf:2,NL:this.I$.O()})};en.hK.prototype.a2L=function(o){this.La({mf:3,NL:this.aT.O()})};en.hK.prototype.La=function(o){this.axr(c.qd,{C:A.GF,IA:[this.qh.A[0]],I2:!0,k:o})};
en.hK.prototype.akb=function(o){this.axr(c.i1,{C:"edit_layer",k:this.K$.O()})};en.hK.prototype.axr=function(o,g){var C=new jO(D.E.q,!0);
C.F=o;C.data=g;this.c(C)};en.hK.prototype.Tk=function(o,g){var C=fF.get([0,3]),a=!1,x=!1,K=null;this.qh=o;
if(o&&o.g.length>0&&o.A.length!=0&&o.g[o.A[0]]){var h=o.g[o.A[0]],X=f6.get(h.add);if(X!=null&&this.$i[X]!=null){K=this.$i[X].e;
this.K$=this.$i[X];this.$i[X].I(JSON.parse(JSON.stringify(h.add[X])));if(o.A[0]!=this.alF){var w=o.cf(o.A[0]-1);
this.aao=l.pm(w)}this.$i[X].iZ(this.aao);C=fF.get(f6.names[X]);a=!0}if(X==null&&h.add.artb==null){var G=this.RW=l.o.ul(c.V.QR(o));
x=!G.to();this.Hw.I([G.x,G.y,G.m,G.n],[o.zC,o.m,this.wq.M8.oK])}if(h.add.SoCo){K=this.Sx;this.IL.I(h.add.SoCo.Clr.v);
C=fF.get([6,48,0,0])}if(h.add.GdFl){K=this.o5;this.I$.update(o,h.add.GdFl);C=fF.get([6,48,0,1])}if(h.add.PtFl){K=this.nS;
this.aT.update(o,h.add.PtFl);C=fF.get([6,48,0,2])}if(h.add.artb){var R=h.add.artb,d=h.zz();K=this.a7x;
this.Nd.aaE(R);var q=this.aaC=[d.x,d.y,d.m,d.n];this._c.I(q,[o.zC,o.m,this.wq.M8.oK]);C=fF.get([1,16,0])}this.alF=o.A[0]}if(K!=this.tQ){if(this.tQ)this.e.removeChild(this.tQ);
if(K!=null)this.e.appendChild(K);this.tQ=K}this.ahj.I(C);this.Q9.e.style.display=a?"":"none";this.Hw.e.style.display=x?"":"none"};
en.hK.prototype.Xt=function(o,g){this.wq=o;this.I$.Xt(o,g);this.aT.Xt(o,g);if(g==e1.Kd)this.Tk(this.qh,o);
for(var C in this.$i)this.$i[C].Xt(o,g)};en.Ea=function(){ar.call(this);this.e=B.f("div","form");this.qh=null;
this.lb=0;var o=B.f("span","fitem");this.e.appendChild(o);this.s5=[new hs([6,2]),new hs([6,3]),new hs([6,50])];
for(var N=0;N<this.s5.length;N++){var g=this.s5[N];g.h("click",this.ai$,this);o.appendChild(g.e)}this.W7=new ho([12,74],0,255);
this.W7.h(D.E.p,this.Ez,this);this.e.appendChild(this.W7.e);this.To=new ho([7,6],0,500,"px",2,!0);this.To.h(D.E.p,this.Ez,this);
this.e.appendChild(this.To.e);this.t3=new hs([4,11],null,null,!0);this.t3.h("click",this.afZ,this)};
en.Ea.prototype=new ar;en.Ea.prototype.afZ=function(){var o=new jO(D.E.q,!0);o.F=c.i1;o.data={C:"start",ss:"nvrt"};
this.c(o)};en.Ea.prototype.Ez=function(o){var g=this.W7.O(),C=this.To.O(),a=new jO(D.E.q,!0);a.F=c.qd;
a.data={C:A.Mn,bD:this.qh.A[0],Fa:{It:this.lb,W7:g,To:C}};this.c(a)};en.Ea.prototype.Q=function(){for(var N=0;
N<this.s5.length;N++)this.s5[N].Q();this.W7.Q();this.To.Q();this.t3.Q()};en.Ea.prototype.Tk=function(o){this.qh=o;
this.W3()};en.Ea.prototype.ai$=function(o){this.W3(this.s5.indexOf(o.currentTarget));this.parent.aqv(this.lb)};
en.Ea.prototype.W3=function(o){var g=this.qh,C=this.s5;for(var N=0;N<3;N++){var a=C[N];a.Qd();a.Uy()}if(g==null||g.g.length==0||g.A.length==0||g.g[g.A[0]]==null)return;
var x=-1,K=g.g[g.A[0]];if(K.xT()&&K.WW(g).d!=null){C[2].ih();x=2}if(K.add.vmsk){C[1].ih();x=1}if(K.KN()){C[0].ih();
x=0}if(o!=null)x=o;else if(K.$u)x=1;else if(K.U3==3)x=2;else if(K.U3==1)x=0;this.lb=x;if(x==-1){this.W7.Uy();
this.To.Uy();return}var h=K.D_(x);this.W7.ih();this.To.ih();this.W7.I(h.W7);this.To.I(h.To);C[x].nU();
var X=this.t3.e;if(x==0)this.e.appendChild(X);else if(X.parentNode==this.e)this.e.removeChild(X)};en.fg=function(){ar.call(this);
this.e=B.f("div","form");this.Em=null;this.wq=null;this.uT=-1;this.Hw=new dz(0,!1);this.Eg=new ho([12,15],-180,180,"\xB0",2);
this.JN=new dz(1,!0);this._z=new ho([12,94,0],0,100,null,2);this.JE=new ho([12,78],3,30);this.Hw.h(D.E.p,this.k7,this);
this.Eg.h(D.E.p,this.k7,this);this.JN.h(D.E.p,this.k7,this);this._z.h(D.E.p,this.k7,this);this.JE.h(D.E.p,this.k7,this)};
en.fg.prototype=new ar;en.fg.prototype.Q=function(){this.Hw.Q();this.Eg.Q();this.JN.Q();this._z.Q();
this.JE.Q()};en.fg.prototype.k7=function(o){var g=this.Em,C=l.vm.sV(g),a=o.target.O(),x=[this.Hw,this.Eg,this.JN,this._z,this.JE].indexOf(o.target);
if(x==0){var K=[];K[0]=a[0];K[1]=a[1];K[2]=K[0]+a[2];K[3]=K[1]+a[3];a=K}if(x==1)a=a*Math.PI/180;var h={0:1,1:2,2:3,3:3,4:4}[x];
C[h]=a;var X=new jO(D.E.q,!0);X.F=c.qd;X.data={C:A.x6,k:C};this.c(X)};en.fg.prototype.Tk=function(o){var g=this.e;
this.Em=o;if(o==null)return;var C=this.wq,a=[o.zC,o.m,C.M8.oK],x=l.vm.sV(o),K=x[0],h=x[1];if(h==null)return;
var X=K!=this.uT;this.uT=K;if(X)B.KZ(g);if(X)g.appendChild(this.Hw.e);if(X)g.appendChild(this.Eg.e);
this.Hw.I([h[0],h[1],h[2]-h[0],h[3]-h[1]],a);this.Eg.I(x[2]*180/Math.PI);if(K==2){if(X)g.appendChild(this.JN.e);
var w=x[3];this.JN.I(w,a)}if(K==7||K==8){if(X)g.appendChild(this._z.e);this._z.I(x[3])}if(K==8){if(X)g.appendChild(this.JE.e);
this.JE.I(x[4])}};en.fg.prototype.Xt=function(o,g){this.wq=o;this.Tk(this.Em)};function bz(o){iU.call(this,o.name,!0);
this.db=o;this.zP=null;this.GT=document.createElement("canvas");this.U0=this.GT.getContext("2d");this.kS=document.createElement("canvas");
this.B9=this.kS.getContext("2d");var g=16,C=l.Z(16*16*4);l.kz(C,g,g,8);this.IS=l.scale.pA(C,g,g);this.T4=new a1(this.bo);
this.T4.parent=this;this.li=0;this.akh="";this.$f=4}bz.prototype=new iU;bz.prototype.an4=function(){if(this.db.ZN())return window.confirm(fF.get([22,6,3])+" "+this.db.name+". "+fF.get([22,6,4]));
return!0};bz.prototype.Xt=function(o,g){this.zP=o};bz.prototype.Tk=function(o){this.Pi();this.Ty()};
bz.prototype.z3=function(o,g){if(o<=0||g<=0)return;this.MI=o;this.fB=g;var C=this.db,a=B.r();C.u.B9.m=Math.floor(o*a);
C.u.B9.n=Math.floor(g*a);B.SZ(this.kS,o,g);B.SZ(this.GT,o,g);B.SZ(i.Z0(),o,g);if(C.u.R==0)C.u.R=c.yd.a4K(C.m,C.n,o*a,g*a);
this.Ty()};bz.prototype.Pi=function(){var o=this.bo.firstChild;if(!i.LH&&o==i.Z0()||i.LH&&o==this.kS)this.bo.removeChild(o);
var g=i.LH?i.Z0():this.kS;if(!B.Af(g))this.bo.appendChild(g)};bz.prototype.Ty=function(){if(i.LH!=this.$f){this.li=0;
this.akh=""}this.$f=i.LH;if(this.zP==null)return;if(i.LH)this.aa$();else this.uh();var o=this.db;this.li=o.u.R;
this.akh=JSON.stringify(o.u.dp)};bz.prototype.aa$=function(){if(i.LH&&bz.Po==null){var o=bz.Po=[],g=[0,2,8,32,128];
for(var N=0;N<5;N++)o[N]=[new bz.TX(!1,g[N],!1),new bz.TX(!0,g[N],!1)];o.push([new bz.TX(!1,0,!0),new bz.TX(!0,0,!0)])}var C=this.db,d,M=0,v,j;
if(C.mO==null)return;var a=C.u,x=a.B9.m,K=a.B9.n,h=i.$A;this.B9.clearRect(0,0,x,K);var X=this.a5E(C);
if(a.dP==null)a.dP=new i.ib(x,K);if(X)a.dP.set(this.kS);else{i.CG(a.dP);i.eW(1)}var w=a.Er(0,0),G=new kp;
G.scale(x,K);G.concat(a.Ii(!0));G.scale(1/C.m,1/C.n);var R=[G.Bk,G.K,0,G.U9,G.rX,0,G.NO,G.Mx,1];if(bz.a5l==null)bz.a5l=new Float32Array(4*1024);
var q=[0,0,0,0],m=bz.a5l;if(C.add.artd){m.fill(0);q=bz.eT(C);var Z=C.m,Q=C.n,W=0;for(var N=0;N<C.g.length;
N++){var p=C.g[N],y=p.add.artb;if(y==null||!p.aL())continue;var V=p.zz();m[M]=V.x/Z;m[M+1]=V.y/Q;m[M+2]=V.m/Z;
m[M+3]=V.n/Q;M+=4;if(M==m.length)break}if(M>2*4)W++;if(M>8*4)W++;if(M>32*4)W++;d=bz.Po[W+1];m=new Float32Array(m.buffer,0,[2,8,32,128][W]*4)}else d=bz.Po[C.pZ?5:0];
var e=C.abC();if(e==null)d=d[0];else{d=d[1];j=e[C.add.fcmy==1?6:4];v=e[2]}i.nh(x,K);i.eW(0);i.nh(x,K);
d.Py();d.Zu(a.dP.Rb,C.mO.Rb,new Float32Array(R),new Float32Array([x/8,K/8,w.x/x,w.y/K]),C.m,C.n,1/C.u.R,x,K,new Float32Array(q),m,new Float32Array(l.Rk.W8(l.Rk.PK(a.dp))),j,v);
h.drawArrays(h.TRIANGLES,0,6)};bz.eT=function(o){return[0,0,0,0]};bz.a1O=function(o){var g=l.T.Xh(o.v),C=[g.z/255,g.B/255,g.K/255,1];
for(var N=0;N<4;N++)C[N]=Math.min(1,C[N]);return C};bz.u1=function(o,g){var C=o[2]*255;if(i.LH)C=g?0:Math.max(1,C);
return"rgba("+o[0]*255+","+o[1]*255+","+C+","+o[3]+")"};bz.Fg=function(o){if(i.LH)for(var N=0;N<o.length;
N+=4){if(o[N+2]==0)o[N+2]=3}};bz.prototype.uh=function(){var o=this.db;if(o.buffer==null)return;var g=o.u,C=g.B9,a=C.m,x=C.n,K=new aS(0,0,o.m,o.n);
this.U0.clearRect(0,0,a,x);this.B9.clearRect(0,0,a,x);var h=g.Ii(!0),X=h.clone();X.rq();if(o.add.artd==null){this.B9.save();
var w=X.nx(new eN(0,0));X.translate(-w.x,-w.y);this.B9.translate(Math.round(w.x),Math.round(w.y));this.B9.fillStyle=this.IS;
if(o.pZ)this.B9.fillRect(-5e3,-5e3,2e4,2e4);else{this.I6(l.o.IW(K),X,this.B9);this.B9.fill()}this.B9.restore()}else{this.B9.fillStyle=bz.u1(bz.eT(o));
this.B9.fillRect(0,0,a,x);this.B9.save();this.B9.setTransform(X.Bk,X.K,X.U9,X.rX,X.NO,X.Mx);var G=o.root.children;
for(var N=0;N<G.length;N++){var R=G[N].l;if(R.add.artb==null||!R.aL())continue;var d=R.zz(),q=R.Zx();
if(q!=0)continue;this.B9.fillStyle=this.IS;this.B9.save();this.B9.scale(1/g.R,1/g.R);this.B9.fillRect(g.R*d.x,g.R*d.y,d.m*g.R,d.n*g.R);
this.B9.restore()}this.B9.restore()}if(g.ai.length!=C.$()){g.ai=l.Z(C.$());g.bd=l.Z(C.$()*4)}g.bd.fill(0);
l.scale.Fd(o.buffer,K,h,g.bd,C,o.pZ);var m=o.abC();if(m)ICC.U.applyLUT(m[o.add.fcmy==1?5:3],m[2],g.bd,g.bd);
if(g.dp[0]+g.dp[1]+g.dp[2]!=3)l.Rk.pL(g.bd,g.bd,l.Rk.PK(g.dp));this.U0.putImageData(new ImageData(new Uint8ClampedArray(g.bd.buffer),C.m,C.n),0,0);
this.B9.drawImage(this.GT,0,0);this.B9.getImageData(0,0,1,1);this.a5E(o)};bz.prototype.a5E=function(o){var g=o.u,C=g.dp[0]+g.dp[1]+g.dp[2],a=!1,x=[];
for(var N=0;N<o.A.length;N++){var K=o.g[o.A[N]];if(K==null)continue;var h=K.U3;if(h!=1&&h!=3)continue;
var X=h==1?K.KN():K.WW(o).d;if(X.nR)x.push(X)}for(var N=0;N<o.JH.length;N++)if(o.JH[N].nR)x.push(o.JH[N]);
for(var N=0;N<x.length;N++){var X=x[N];this.asP(X,g,x.length==1&&C==0?2:1,X.color,X.Qe);a=!0}var w=this.zP;
a=this.axR(o,this.B9,g)||a;if(o._&&w.Ha&&w.M8.Zi){this.asP(o._,g,0,0,null);a=!0}return a};bz.prototype.asP=function(o,g,C,a,x){var K=0,q,m;
if(x)K=Math.round(x.K)<<16|Math.round(x.B)<<8|Math.round(x.z);var h=g.Ii(!0),X=g.B9,w=new aS(0,0,g.db.m,g.db.n);
if(g.ai.length!=X.$()){g.ai=l.Z(X.$());g.bd=l.Z(X.$()*4)}g.ai.fill(a);g.bd.fill(0);var G=o.channel,R=o.rect;
l.scale.D(G,R,h,g.ai,X);if(C==0)l._.a4s(g.ai,g.bd,X,X);else l._.axb(g.ai,g.bd,X,X,C,K);bz.Fg(g.bd);var d=new ImageData(new Uint8ClampedArray(g.bd.buffer),X.m,X.n);
this.U0.putImageData(d,0,0);this.B9.save();if(C==0){q=X.clone();q.Uj(-1,-1);m=new kp}else{q=new aS(0,0,w.m,w.n);
m=h.clone();m.rq()}this.I6(l.o.IW(q),m,this.B9);this.B9.clip();this.B9.drawImage(this.GT,0,0);this.B9.restore()};
bz.prototype.axR=function(o,g,C){var a=o.b.hg!=null||o.b.IQ!=null||o.b.mE!=null||o.b.gk.length!=0||o.b.hl.length!=0,x=this.zP,K=x.M8,h=ka.oI[x.A7],X=Math.round(12*B.r()),w=X/o.u.R,G=C.Ii(!0);
G.rq();g.save();g.setTransform(G.Bk,G.K,G.U9,G.rX,G.NO,G.Mx);if(o.add.artd){var R=bz.eT(o)[0];R=R<.5?R+.5:R-.5;
R=""+Math.round(R*255).toString(16);while(R.length<2)R="0"+R;g.fillStyle="#"+R+R+R;g.font=w+"px sans-serif";
for(var N=0;N<o.g.length;N++){var d=o.g[N];if(d.add.artb==null||!d.aL())continue;var q=d.zz();g.fillText(d.getName(),q.x+2,q.y-w*.7);
a=!0}}function m(jC){return jC==1||jC==2||jC==4||jC==5}var M=bz.u1([.1,.5,1,1]),Z=bz.u1([1,1,1,1]);if(x.Ha&&K.eJ){g.fillStyle=g.strokeStyle=M;
g.lineWidth=1.5/C.R;var Q=o.DE(),y=Q[0],V=Q[1];for(var W=0;W<V.length;W++){var d=y[V[W]],v=d.add.vmsk,j=v.i,e=l.o.rA(j);
this.I6(e,null,g);g.stroke();a=!0;var T=3*B.r()/C.R,O=j.length-3;for(var N=0;N<v.tv.length;N++){var L=l.M._4(j,v.tv[N]);
if(L==null)continue;var S=L.x,$=L.y;g.beginPath();var H=N==0;if(v.e0)H=!H;if(H){g.moveTo(S-T,$-T);g.lineTo(S+T,$+T);
g.moveTo(S-T,$+T);g.lineTo(S+T,$-T);g.stroke()}else{g.arc(S,$,T*1,0,2*Math.PI);g.fill()}a=!0}if(o.A.length!=1)continue;
var f=-1;for(var N=0;N<j.length;N++){if(j[N].type>5)continue;if(j[N].type==0||j[N].type==3){if(j[N].j4!=-1)f++;
continue}if(v.A.indexOf(f)!=-1){var S=j[N].H.x,$=j[N].H.y;g.fillRect(S-T*.8,$-T*.8,2*T*.8,2*T*.8)}if(v.EP.indexOf(N)!=-1){var F=j[N],U=[F.H];
g.beginPath();g.moveTo(F.rD.x,F.rD.y);g.lineTo(F.H.x,F.H.y);g.lineTo(F.lu.x,F.lu.y);var r=j[N-1],E=j[N+1];
if(r&&m(r.type)&&v.EP.indexOf(N-1)==-1){g.moveTo(r.H.x,r.H.y);g.lineTo(r.lu.x,r.lu.y);U.push(r.lu)}if(E&&m(E.type)&&v.EP.indexOf(N+1)==-1){g.moveTo(E.H.x,E.H.y);
g.lineTo(E.rD.x,E.rD.y);U.push(E.rD)}g.stroke();if(!F.H.$s(F.rD))U.push(F.rD);if(!F.H.$s(F.lu))U.push(F.lu);
for(var k=0;k<U.length;k++){var L=U[k],S=L.x,$=L.y;if(k==0&&(F.type==2||F.type==5))g.fillRect(S-1.2*T,$-1.2*T,2.4*T,2.4*T);
else{g.beginPath();g.arc(S,$,T*1.2,0,2*Math.PI);g.fill();if(k!=0)g.fillStyle=Z;g.beginPath();g.arc(S,$,T*.8,0,2*Math.PI);
g.fill();g.fillStyle=M}}}a=!0}}}g.lineWidth=1/C.R;if(o.b.Zd){g.fillStyle=g.strokeStyle=M;var E={w:[],G:[]},P=bz.acr;
if(P==null){P=bz.acr={w:[1,0],G:["M"]};for(var N=1;N<30;N++){var z=Math.PI*2*N/30;P.w.push(Math.cos(z),Math.sin(z));
P.G.push("L")}P.G.push("Z","M","L","M","L");P.w.push(-.5,0,.5,0,0,-.5,0,.5)}for(var N=0;N<o.b.Zd.length;
N++){var r=c.fh.ahv(o.b.Zd[N],C),s=new kp(r[0],0,0,r[0],r[1],r[2]);l.o.concat(E,P,s)}this.I6(E,null,g);
g.stroke();a=!0}var Y=new kp(1,0,0,1,.5/C.R,.5/C.R);if(o.pZ){g.fillStyle=g.strokeStyle=M;var E={w:[0,0,o.m,0,o.m,o.n,0,o.n],G:["M","L","L","L","Z"]};
this.I6(E,Y,g);g.stroke();a=!0}g.fillStyle=g.strokeStyle=bz.u1([0,0,0,1],!0);if(o.b.hg){this.I6(o.b.hg,null,g);
g.fill()}if(o.b.IQ){this.I6(o.b.IQ,Y,g);g.stroke()}for(var t in o.b.iw)if(o.b.iw[t].IQ){this.I6(o.b.iw[t].IQ,null,g);
g.stroke();a=!0}g.beginPath();var T=(4*B.r()+.5)/C.R,n=o.b.rM;for(var N=0;N<n.length;N+=2){a=!0;var S=n[N],$=n[N+1];
g.rect(S-T,$-T,2*T,2*T)}g.stroke();var n=o.b.ark;g.beginPath();var T=4*B.r()/C.R;for(var N=0;N<n.length;
N+=2){a=!0;var S=n[N],$=n[N+1];g.moveTo(S+T,$);g.arc(S,$,T,0,2*Math.PI)}g.fill();var n=o.b.lS;g.fillStyle=bz.u1([1,1,1,1]);
g.beginPath();var T=6*B.r()/C.R;for(var N=0;N<n.length;N+=2){a=!0;var S=n[N],$=n[N+1];g.moveTo(S+T,$);
g.arc(S,$,T,0,2*Math.PI)}g.fill();var T=4*B.r()/C.R;for(var N=0;N<n.length;N+=2){a=!0;var S=n[N],$=n[N+1];
g.fillStyle=bz.u1(o.b.Pz.indexOf(N>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);g.beginPath();g.moveTo(S+T,$);g.arc(S,$,T,0,2*Math.PI);
g.fill()}if(o.b.gk.length!=0){for(var N=0;N<o.b.gk.length;N++){var J=o.b.gk[N],I=J[1];g.putImageData(new ImageData(new Uint8ClampedArray(J[0].buffer),I.m,I.n),I.x,I.y)}}var fp=.5/C.R;
g.lineWidth=1/C.R;if(o.b.uL){a=!0;var cH=o.b.uL,b=cH.kG,e={G:[],w:[]};for(var N=0;N<cH.Jw.length;N++)l.o.concat(e,l.o.IW(cH.Jw[N]));
e.w=e.w.concat(b);for(var N=0;N<b.length;N+=4){e.G.push("M","L")}for(var N=0;N<e.w.length;N++){e.w[N]+=fp}g.strokeStyle=bz.u1([.9,.2,.2,1]);
this.I6(e,null,g);g.stroke();var jL=B.r(),aq=2/C.R;g.font=w*.9+"px sans-serif";for(var N=0;N<b.length;
N+=4){var S=b[N],$=b[N+1],cJ=b[N+2],aB=b[N+3],au=Math.sqrt((aB-$)*(aB-$)+(cJ-S)*(cJ-S));au=l.aE.Cg(au,o.zC,x,$==aB?o.m:o.n);
var ea=new eN((S+cJ)/2,($+aB)/2);g.fillStyle=bz.u1([.9,.2,.2,1]);var ax=g.measureText(au).width;g.fillRect(ea.x-ax/2-aq*jL,ea.y-3.5*aq*jL,ax+2*aq*jL,7*aq*jL);
g.fillStyle=bz.u1([1,1,1,1]);g.save();g.translate(ea.x-ax/2,ea.y+2*aq*jL);g.scale(.1,.1);g.font=w*9+"px sans-serif";
g.fillText(au,0,0);g.restore()}}if(x.Ha){if(K.at){var f1=l.aE.p6(K.YG,o.zC,o.m,K.ts),fk=f1;if(K.ts==4)fk*=o.n/o.m;
this.kz(o,g,f1,fk,1,K.nu);a=!0}if(K.Pc&&o.u.R>7){this.kz(o,g,1,1,.5,K.nu);a=!0}if(K.Pa){var hF=o.Kc(),fm=o.M4(),jE=Math.max(o.u.B9.m,o.u.B9.n)/o.u.R;
jE=Math.max(Math.max(o.m,o.n)*2,jE);g.beginPath();g.strokeStyle=bz.u1([0,1,1,1]);for(var N=0;N<hF[0].length;
N++){var ff=hF[0][N],d5=hF[1][N];if(d5!=-1&&d5!=fm)continue;var eF=C.Er(ff[1],ff[1]),gI=C.w2(Math.floor(eF.x)+.5,Math.floor(eF.y)+.5);
if(ff[0]==0){var fE=gI.x;g.moveTo(fE,-jE);g.lineTo(fE,jE)}else{var js=gI.x;g.moveTo(-jE,js);g.lineTo(jE,js)}a=!0}g.stroke()}var d8=o.Ng;
if(K.Ng&&d8.length!=0){g.font=w*.8+"px sans-serif";var bt=[],io=[];for(var N=0;N<d8.length;N++){var ha=c.ho.Ep(d8,N);
bt.push(ha);if(o.jB.indexOf(N)!=-1)io.push(ha)}bt.reverse();var dp=Date.now();bt=l.rect.B$([0,0,o.m,o.n],bt);
for(var k=0;k<2;k++)for(var N=0;N<bt.length;N++){var gS=bt[N],f=gS[4],aP=f!=null?d8[f]:null;if(aP&&k==0||aP==null&&k==1)continue;
var S=Math.round(gS[0]),$=Math.round(gS[1]),cJ=Math.round(gS[2]),aB=Math.round(gS[3]);g.strokeStyle=g.fillStyle=bz.u1(aP?[0,.7,.7,1]:[.8,.8,.8,1]);
g.strokeRect(S+fp,$+fp,cJ-S,aB-$);var gD=N+1,fA=g.measureText(gD),ax=fA.width;g.fillRect(S,$,ax+w/2,w);
g.fillStyle=bz.u1([1,1,1,1]);g.fillText(gD,S+w/4,$+w*.8)}var aq=2/o.u.R,jH=2*aq;for(var N=0;N<io.length;
N++){var gS=io[N],S=Math.round(gS[0]),$=Math.round(gS[1]),cJ=Math.round(gS[2]),aB=Math.round(gS[3]);
g.strokeStyle=g.fillStyle=bz.u1([1,.6,0,1]);g.strokeRect(S+fp,$+fp,cJ-S,aB-$);var aM=[S,$,cJ,$,cJ,aB,S,aB];
for(var jc=0;jc<aM.length;jc+=2){var fE=aM[jc],js=aM[jc+1],eQ=aM[jc+2&7],j1=aM[jc+3&7];g.fillRect(fE-aq,js-aq,jH,jH);
g.fillRect(Math.round((fE+eQ)/2)-aq,Math.round((js+j1)/2)-aq,jH,jH)}}a=!0}var i7=o.add.Anno;if(i7&&i7.length!=0)for(var N=0;
N<i7.length;N++){var fT=i7[N],hy=fT[2],fE=fT[0]-fp,js=fT[1]-fp,jH=30/C.aK,hJ=.4*jH,db=.6*jH;g.beginPath();
g.moveTo(fE,js+db);g.lineTo(fE,js);g.lineTo(fE+jH,js);g.lineTo(fE+jH,js+jH);g.lineTo(fE+hJ,js+jH);g.closePath();
g.lineTo(fE+hJ,js+db);g.lineTo(fE+hJ,js+jH);if(N==o.u.Bv){g.lineWidth*=5;g.strokeStyle=bz.u1([0,0,0,.5]);
g.stroke();g.lineWidth/=5}g.fillStyle=bz.u1([hy.z/255,hy.B/255,hy.K/255,1]);g.fill();g.strokeStyle=bz.u1([0,0,0,1]);
g.stroke()}}g.strokeStyle=bz.u1([1,0,0,1]);if(o.b.mE){this.I6(o.b.mE,Y,g);g.stroke()}g.restore();if(x.rl){if(o.u.oH==null||o.u.oH.width!=o.u.B9.m||o.u.CP.height!=o.u.B9.n){o.u.oH=g.createImageData(o.u.B9.m,l.aE.E6);
o.u.CP=g.createImageData(l.aE.E6,o.u.B9.n)}var h=ka.oI[x.A7],jK=0,h_=0,dM=o.m,eW=o.n;if(o.M4()!=-1){var q=o.g[o.M4()].zz();
jK=q.x;h_=q.y;dM=q.m;eW=q.n}jK*=C.R;h_*=C.R;var C=o.u,ip=[1,o.zC,o.zC/2.54,o.zC/25.4,dM/100][K.oK],fS=C.R*o.m/2,hS=C.R*o.n/2,bB=[C.R*ip,new eN(C.v.x+(jK+fS*ip-fS),C.v.y+(h_+hS*ip-hS))];
if(K.oK==4)ip*=eW/dM;var g_=[C.R*ip,new eN(C.v.x+(jK+fS*ip-fS),C.v.y+(h_+hS*ip-hS))],e4=this.T4.Rl;l.aE.awt(C,h["--text-color"],h["--bg-input"],Math.floor(e4.x),Math.floor(e4.y),bB,g_);
var e0=eC.aeH(C.R,bz.u1([1,1,1,1]));bz.Fg(o.u.CP.data);bz.Fg(o.u.oH.data);g.putImageData(o.u.CP,0,0);
g.putImageData(o.u.oH,0,0);g.putImageData(e0,0,o.u.B9.n-e0.height)}if(o.b.hl.length!=0){for(var N=0;
N<o.b.hl.length;N++){var J=o.b.hl[N],I=J[1];g.putImageData(new ImageData(new Uint8ClampedArray(J[0].buffer),I.m,I.n),I.x,I.y)}}return a||x.rl};
bz.prototype.kz=function(o,g,C,a,x,K){while(C*o.u.R<4){C*=2;a*=2}var h=o.m,X=o.n,w=.5/o.u.R;g.strokeStyle=bz.u1([.5,.5,.5,x],!0);
g.save();g.rect(0,0,h,X);g.clip();g.beginPath();for(var G=0;G<=h;G+=C){g.moveTo(G+w,0);g.lineTo(G+w,X)}if(K==0){for(var R=0;
R<=X;R+=a){g.moveTo(0,R+w);g.lineTo(h,R+w)}}else{a*=Math.sqrt(4/3);var d=a*Math.floor(h/a),q=h*(a/(2*C));
for(var R=-d;R<=X+d;R+=a){g.moveTo(0,R);g.lineTo(h,R-q);g.moveTo(0,R);g.lineTo(h,R+q)}}g.stroke();g.restore()};
bz.prototype.I6=function(o,g,C){C.beginPath();var a=l.o.clone(o);if(g)l.o.D(a.w,g,a.w);Typr.U.pathToContext({cmds:a.G,crds:a.w},C)};
bz.TX=function(o,g,C){i.mI.call(this);var a=g!=0,x=C?"true":"in01(sCoord)",K="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(o?"uniform sampler2D lut;  uniform float N;  "+i.pi.P2:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(a?"uniform vec4 bgClr;  uniform vec4 ars["+g+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+i.pi.Ya+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(C?"-floor(sCoord)":"")+"); \t\t\t\t"+(o?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(a?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+g+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+x+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+x+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",h="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.m3(K,h)};bz.TX.prototype=new i.mI;bz.TX.prototype.Zu=function(o,g,C,a,x,K,h,X,w,G,R,d,q,m){this.H6("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var M=i.$A,Z=this.Tu;M.uniformMatrix3fv(Z.tmat,!1,C);M.uniform4fv(Z.gsize,a);M.uniform3f(Z.contSizeZoom,x,K,h);
M.uniform2f(Z.cnvSize,X,w);M.uniformMatrix4fv(Z.ctrn,!1,d);if(this.awi){M.uniform4fv(Z.ars,R);M.uniform4fv(Z.bgClr,G)}M.uniform1i(Z.source,0);
M.uniform1i(Z.target,1);M.activeTexture(M.TEXTURE0);M.bindTexture(M.TEXTURE_2D,o);M.activeTexture(M.TEXTURE1);
M.bindTexture(M.TEXTURE_2D,g);if(q){M.uniform1f(Z.N,m);M.uniform1i(Z.lut,2);M.activeTexture(M.TEXTURE2);
M.bindTexture(M.TEXTURE_2D,q.Rb);var Q=M.LINEAR;M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,Q);
M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,Q)}M.activeTexture(M.TEXTURE0)};function d9(){iU.call(this,[9,7],!1,"---panels/layercomps",iU.yt.aap);
this.bo.setAttribute("style","min-width:240px;");this.qh=null;this.CI=-1;this.iP=[];this.TM=B.f("div","scrollable");
this.TM.style.height="160px";this.bo.appendChild(this.TM);this.$d=B.f("div","lpfoot");this.bo.appendChild(this.$d);
this.ff=[];var o=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],g=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var N=0;N<o.length;N++){var C=o[N];if(N>0)C="<img src=\""+PIMG[o[N]]+"\" class=\"miniscale gsicon\" />";
var a=new hs(C,!1,g[N]);a.h("click",this.aew,this);this.$d.appendChild(a.e);this.ff.push(a)}}d9.prototype=new iU("");
d9.prototype.z3=function(o,g){this.bo.setAttribute("style","width:"+(o-2)+"px;");this.TM.style.height=g-28+"px"};
d9.prototype.hD=function(o){var g=new jO(D.E.q,!0);g.data=o;g.F=c.nk;this.c(g)};d9.aju="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
d9.prototype.aew=function(o){var N=this.ff.indexOf(o.currentTarget)-1;if(N==-1){var g=new jO(D.E.X,!0);
g.data={C:D.t.xv,Y3:d9.aju};this.c(g);return}if(N!=1)if(this.CI==-1)return;this.hD({C:["updLC","addLC","delLC"][N],XE:this.CI});
if(N==2)this.CI=-1};d9.prototype.Q=function(){iU.prototype.Q.call(this);for(var N=0;N<this.ff.length;
N++)this.ff[N].Q()};d9.prototype.Tk=function(o){if(o==null)B.lK(this.bo,"disabled");else B.Qq(this.bo,"disabled");
this.qh=o;B.KZ(this.TM);if(o==null)return;var g=o.wi.lastAppliedComp?o.wi.lastAppliedComp.v:0,C=o.wi.list.v.slice(0);
C.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var N=0;N<C.length;
N++){var a=C[N].v,x=new fK(a.Nm.v,a.compID.v,a.capturedInfo.v,g,this.CI);x.h("activate",this.Ph,this);
x.parent=this;this.TM.appendChild(x.e);this.iP.push(x)}};d9.prototype.Ph=function(o){this.CI=o.currentTarget.XE;
this.Tk(this.qh)};function fK(o,N,g,C,a){ar.call(this);this.XE=N;this.e=B.f("div","head listitem"+(N==a?" selected":""));
var x=N==C,K=new hs(x?"\u2713":"\u2014");if(x)K.nU();this.e.appendChild(K.e);K.h("click",this.Ce,this);
var h=this.HX=B.f("span");h.textContent=o;this.e.appendChild(h);this.ff=[];if(N!=0){this.e.addEventListener("mouseup",this.Ph.bind(this),!1);
this.adF=B.f("span","headR");this.e.appendChild(this.adF);var X=["lrs/eye","pos","lrs/fx"],w=["Visibility","Position","Appearance"];
for(var G=0;G<X.length;G++){var R=new hs("<img src=\""+PIMG[X[G]]+"\" class=\"autoscale gsicon\" />",!1,w[G]);
if((g>>G&1)==0)R.e.setAttribute("style","opacity:0.3");R.h("click",this.an6,this);this.adF.appendChild(R.e);
this.ff.push(R)}}}fK.prototype=new ar;fK.prototype.Ph=function(o){if(o.target!=this.HX&&o.target!=this.e)return;
if(o.detail==1)this.c(new jO("activate",!1));else{var g=new iU.Nl(this.HX,this.h0.bind(this))}};fK.prototype.an6=function(o){var N=this.ff.indexOf(o.currentTarget);
this.hD({C:"editLC",aoN:N,XE:this.XE})};fK.prototype.h0=function(o){this.hD({C:"editLC",fT:o,XE:this.XE})};
fK.prototype.Ce=function(o){this.hD({C:"setLC",XE:this.XE})};fK.prototype.hD=function(o){var g=new jO(D.E.q,!0);
g.data=o;g.F=c.nk;this.c(g)};function bp(){iU.call(this,[9,11],!1,"---panels/navigator",iU.yt.alP);var o=B.f("div","padded");
o.setAttribute("style","min-width:15em");this.bo.appendChild(o);var g=B.f("div");o.appendChild(g);g.setAttribute("style","cursor:grab;");
this.J=B.f("canvas");this.J.width=100;g.appendChild(this.J);B.G1(this.J);B.sa(this.J,this.l5.bind(this));
this.gV=new iH(null,2,6400,"%",null,!0);this.gV.h(D.E.p,this.a7H,this);o.appendChild(this.gV.e);this.asl=this.iu.bind(this);
this.adq=this._q.bind(this);this.Em=null;this.k1=null;this.rh=!1}bp.prototype=new iU("");bp.prototype.z3=function(o,g){this.Ty()};
bp.prototype.a7H=function(o){var g=this.gV.O(),C=this.Em,a=g/100;if(.8<a&&a<1.2)a=1;else if(1.8<a)a=Math.round(a);
var x=new jO(D.E.q,!0);x.F=c.SL;x.data={C:"zoom",R:a};this.c(x)};bp.prototype.l5=function(o){var g=this.Em;
if(g==null)return;this.rh=!0;B._C(window,this.asl);B.aw(window,this.adq)};bp.prototype.iu=function(o){var g=B.Iw(o,this.J),C=this.Em,a=this.J.width,x=this.J.height,K=(g.x*B.r()-a/2)/a,h=(g.y*B.r()-x/2)/x,X=B.r()*C.u.R,w=Math.round(-C.u.R*C.m*K),G=Math.round(-C.u.R*C.n*h);
c.DI.TV(C,w,G)};bp.prototype._q=function(o){B.gK(window,this.asl);B.lZ(window,this.adq);this.rh=!1};
bp.prototype.Tk=function(o){if(o==null&&this.Em!=null)this.J.width=100;this.Em=o;this.Ty()};bp.prototype.a0K=function(){var o=300*B.r(),g=0,C=this.Em,a=[C.cf(),new aS(0,0,C.m,C.n)];
l.WP(a);while(Math.max(a[g+1].m,a[g+1].n)>o){g+=2}this.k1=a.slice(g)};bp.prototype.Ty=function(){var o=this.Em;
if(o==null||o.u.R==0)return;var g=o.u;if(!B.Af(this.bo))return;this.gV.I(g.R*100);if(!this.rh)this.a0K();
var C=this.k1[0],a=this.k1[1],x=a.m,K=a.n,h=this.J;h.width=x;h.height=K;B.IC(h,x,K);var X=h.getContext("2d"),w=X.createImageData(x,K);
l.j5(C,w.data);X.putImageData(w,0,0);var G=g.B9,R=g.w2(G.x,G.y),d=g.w2(G.x+G.m,G.y+G.n),q=x/o.m;X.scale(q,q);
X.lineWidth=4/q;X.strokeStyle="#ff0000";X.strokeRect(R.x,R.y,d.x-R.x,d.y-R.y)};bp.prototype.Xt=function(o,g){};
bp.prototype.Pi=function(){this.Ty()};function eD(o,g){if(o==null){iU.call(this);return}iU.call(this,o.name,!1,o.icon,g);
var C=this.jK=B.f("iframe");C.setAttribute("src",o.url);C.setAttribute("style","width:"+o.width+"px; height:"+o.height+"px");
this.bo.appendChild(C)}eD.prototype=new iU("");eD.prototype.OD=function(o){if(B.Af(this.jK))this.jK.contentWindow.postMessage(o,"*")};
eD.prototype.z3=function(o,g){this.jK.setAttribute("style","width:"+o+"px; height:"+g+"px")};function cs(){iU.call(this,[9,12],!1,"---panels/tpreset",iU.yt.pF);
this.wq=null;this.iG=new a6(c.Yc);this.iG.parent=this;var o=B.f("div","padded");o.setAttribute("style","width:20em");
this.bo.appendChild(o);o.appendChild(this.iG.Q3)}cs.prototype=new iU("");cs.prototype.Pi=function(){this.iG.Fs(this.wq.c3)};
cs.prototype.Xt=function(o,g){this.wq=o;if(g==e1.B3||g==e1.pF)this.iG.Fs(o.c3)};cs.prototype.z3=function(o,g){this.iG.atN(this.wq.MR)};
cs.prototype.Q=function(){iU.prototype.Q.call(this);this.iG.Q()};var cC=function(){var o=[],g=null,C=null,a=null,x=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function K(){iU.call(this,"Memory",!1,null,iU.yt.a2u);var q=B.f("div","padded");this.bo.appendChild(q);
C=new hs(["<< VAR0",[0,13,2]],!1,null,!0);C.addEventListener("click",function(m){o.pop();X()});q.appendChild(C.e);
g=B.f("div","scrollable");g.setAttribute("style","width:20em;  height:26em; margin-top:8px;");q.appendChild(g)}K.prototype=new iU("");
K.prototype.Tk=function(q,m,M){a=m;this.Pi()};K.prototype.Pi=function(){C.ZB(!1);if(!B.Af(g))return;
var q={QH:"Total:",Uf:[]};for(var N=0;N<a.length;N++)q.Uf.push(G(a[N]));d(q);o=[q];X()};K.prototype.Q=function(){iU.prototype.Q.call(this);
C.Q()};function h(q){var m=q.currentTarget,N=0;while((m=m.previousSibling)!=null)N++;o.push(o[o.length-1].Uf[N-1]);
X()}function X(){C.ZB(o.length>1);var q=o[o.length-1];B.KZ(g);w(q,g,0);q.Uf.sort(function(m,M){return M.Jl[0]-m.Jl[0]});
for(var N=0;N<q.Uf.length;N++)w(q.Uf[N],g,1)}function w(q,m,M){var Z=hX.cN,Q=M!=0&&q.Uf,p="margin-left:"+M*10+"px; margin-bottom:8px; padding:3px 5px;";
if(Q)p+="cursor:pointer;";if(q.a0!=null)p+="background-color:rgba("+x[q.a0].join(",")+",0.2);";var y=B.f("div");
m.appendChild(y);y.setAttribute("style",p);y.innerHTML=B.Ko(q.QH)+"<br />"+"RAM: <b>"+Z(q.Jl[0])+"</b>\u2001GPU: <b>"+Z(q.Jl[1])+"</b>";
if(Q)y.addEventListener("click",h,!1)}function G(q){var m={QH:q.name,Uf:[],a0:0},M=i.LH?1:0,Z=1-M,Q={QH:"Final Image",Jl:[q.m*q.n*4,M*q.m*q.n*4],a0:2};
m.Uf.push(Q);for(var N=0;N<q.g.length;N++){var p=R(q.g[N]);if(p.Uf.length!=0)m.Uf.push(p)}var y=q.add.lnk2;
if(y)for(var N=0;N<y.length;N++){var p=y[N],V={QH:p.vo,Uf:[],a0:4},W=0;V.Uf.push({QH:"Raw file",Jl:[p.raw.length,0]});
if(p.zm)for(var v=0;v<p.zm.length;v+=2)W+=p.zm[v].length;if(W!=0)V.Uf.push({QH:"Decoded pixels",Jl:[W,0]});
d(V);m.Uf.push(V)}d(m);return m}function R(q){var m={QH:q.getName(),Uf:[],a0:1},M=i.LH?1:0,Z=1-M,Q=q.rect.$();
if(Q!=0)m.Uf.push({QH:"Layer pixels",Jl:[Q*4,M*Q*4]});if(q.add.lmfx&&q.ND.E7.type){var p=q.ND.E7.type,v=0;
for(var y in p){var V=0;for(var W=0;W<p[y].length;W++)if(y=="ebbl"){if(p[y][W].qJ)V+=p[y][W].qJ.Bc.$();
if(p[y][W].Za)V+=p[y][W].Za.Bc.$();if(p[y][W].n4)V+=p[y][W].n4.Bc.$();if(p[y][W].Ir)V+=p[y][W].Ir.Bc.$()}else V+=p[y][W].Bc.$();
if(V!=0)m.Uf.push({QH:fF.get(hf.names[hf.order.indexOf(y)]),Jl:[Z*V*4,M*V*4],a0:3})}if(q.ND.VP)v+=Q;
if(q.ND.Xj)v+=Q;if(q.ND.EU)v+=Q;if(q.ND.EU)v+=Q;if(q.ND.hU)v+=Q;if(q.ND.uj)v+=Q;var j=q.ND.ua?q.ND.ua.length:0;
if(v+j!=0)m.Uf.push({QH:"Additional Blending Data",Jl:[Z*v*4+j,M*v*4]})}var e=q.KN(),T=e?e.rect.$():0;
if(T!=0){m.Uf.push({QH:"Raster Mask",Jl:[T,0]})}var e=q.add.vmsk,T=e&&e.Re?e.Re.rect.$():0;if(T!=0){m.Uf.push({QH:"Vector Mask",Jl:[T,0]})}d(m);
return m}function d(q){q.Jl=[0,0];for(var N=0;N<q.Uf.length;N++){q.Jl[0]+=q.Uf[N].Jl[0];q.Jl[1]+=q.Uf[N].Jl[1]}}return K}();
function k5(){iU.call(this,[9,14],!1,"---panels/notes",iU.yt.a00);this.bo.setAttribute("style","min-width:240px;");
var o=B.f("div","padded");this.bo.appendChild(o);this.xm=new h$("Author");o.appendChild(this.xm.e);this.lc=B.f("textarea");
B.X1(this.lc);o.appendChild(this.lc);var g=new hs("<<",null,null,!0);o.appendChild(g.e);this.a0G=g;var C=new hs(">>",null,null,!0);
o.appendChild(C.e);g.h("click",this.ym,this);C.h("click",this.ym,this);var a=this.atn=new d3("");o.appendChild(a.e)}k5.prototype=new iU("");
k5.prototype.ym=function(o){var g=o.target==this.a0G?-1:1,C=this.Em,a=C.add.Anno;if(a==null)return;var x=a.length,K=C.u.Bv;
C.u.Bv=(K+g+x)%x;C.b0=!0;this.Ty()};k5.prototype.Ty=function(){var o=this.Em;if(o==null)return;var g=o.add.Anno;
if(g==null||g.length==0)return;var C=o.u.Bv,a=g[C];this.lc.value=a[4];this.atn.I(C+1+" / "+g.length);
this.xm.I(a[3])};k5.prototype.z3=function(o,g){if(this.MI==o)return;this.MI=o;g=Math.min(g,200);this.lc.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(o-10)+"px; height:"+(g-66)+"px")};
k5.prototype.Tk=function(o,g,C){this.Em=o;this.Ty()};function iQ(){ar.call(this);this.F=0;this.DM=null;
this.e=B.f("div","toolconf");this.iG=null;this.UH=null;this.body=new B.f("div","body")}iQ.prototype=new ar;
iQ.prototype.anp=function(o,g){this.F=o;this.DM=g;if(c.Zs[o]){var C=this.iG=new a6(o);this.e.appendChild(C.e);
C.parent=this}else{this.UH=B.f("div");this.e.appendChild(this.UH)}this.e.appendChild(this.body);this.Q()};
iQ.prototype.a5F=function(o,g){};iQ.prototype.avV=function(o){};iQ.prototype.Xt=function(o,g){if(g==e1.B3||g==e1.pF)if(this.iG)this.iG.Fs(o.c3)};
iQ.prototype.gx=function(o){};iQ.prototype.Q=function(){if(this.iG)this.iG.Q();else this.UH.innerHTML=B.U_(this.DM,null,"toolicon");
this.ft()};iQ.prototype.ft=function(){};function jx(){iQ.call(this);this.Nd=new fl;this.Nd.h(D.E.p,this.m9,this);
this.body.appendChild(this.Nd.e)}jx.prototype=new iQ;jx.prototype.ft=function(){this.Nd.Q()};jx.prototype.m9=function(o){var g=new jO(D.E.X,!0);
g.data={C:D.t.es,F:this.F,eA:this.Nd.agN()};this.c(g)};jx.prototype.gx=function(o){this.Nd.aaE(o.HB)};
function cf(o){iQ.call(this);if(o==null)return;this.wq=null;this.Rs={};if(o.indexOf("brush")!=-1&&o.indexOf("prsr")==-1)o.push("prsr");
for(var N=0;N<o.length;N++){var g=o[N],C=null;if(g=="brush"){C=new fU}if(g=="bmode"){C=new jz([12,19,0],cP.sz,!1,cP.Hm)}if(g=="bmode0"){C=new jz([12,19,0],cP.sz.slice(23),!1)}if(g=="emode"){C=new jz([12,36],[[9,3],[10,38]])}if(g=="opacity"){C=new e8([12,0],0,100,"%");
C.I(100)}if(g=="flow"){C=new e8([12,63],0,100,"%");C.I(100)}if(g=="smth"){C=new e8([19,3,0],0,100,"%");
C.I(0)}if(g=="samp"){C=new jz([12,36],[[12,25,4],[12,25,5],[12,46]])}if(g=="wconf"){C=new dY;C.I([40,!0,!0])}if(g=="sall"){C=new eT([12,25,2])}if(g=="strn"){C=new e8([12,64],1,100,"%");
C.I(50)}if(g=="smode"){C=new jz([12,36],[[19,7,0],[19,7,1]]);C.I(1)}if(g=="pdetail"){C=new eT([12,65]);
C.nU()}if(g=="rng"){C=new jz([12,12],[[19,6,0],[19,6,1],[19,6,2]]);C.I(1)}if(g=="expo"){C=new e8([12,5],0,100,"%");
C.I(50)}if(g=="algnd"){C=new eT([12,75]);C.I(!1)}if(g=="sfrom"){C=new jz([12,70],[[17,1],[17,3],[17,0]])}if(g=="alt"){C=new ap(null,["Alt"],!0,["Select Source"])}if(g=="qsmode"){C=new jT([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(g=="redge"){C=new hs([7,11],!1,null,!0)}if(g=="setop"){C=new gl}if(g=="patch"){C=new jT(null,[[12,70],[12,71]])}if(g=="prsr"){C=new ap(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
C.I([!1,!1])}C.parent=this;this.body.appendChild(C.e);this.Rs[g]=C;if(g=="brush")C.h(D.E.p,this.a0n,this);
else if(g=="redge")C.h("click",this.iv,this);else C.h(D.E.p,this.WM,this)}}cf.prototype=new iQ;cf.prototype.a5F=function(o,g){o=o[1];
var C=this.Rs;if(o.Md)C.bmode.I(cP.J1.indexOf(o.Md.v.BlnM));if(o.Opct)C.opacity.I(o.Opct.v);if(o.flow)C.flow.I(o.flow.v);
if(o.Brsh)C.brush.I(o,g.v1.H7,g.v1.ys);if(o.FrgC){var a=l.T.Xh(o.FrgC.v),x=new jO(D.E.X,!0);x.data={C:D.t.sM,eA:e1.Zr,JI:0,k:a.z<<16|a.B<<8|a.K};
this.c(x)}this.a0n();this.WM()};cf.prototype.avV=function(){if(c.Zs[this.F]==null)return null;var o=this.Rs,g=JSON.parse(JSON.stringify(o.brush.O()));
g.classID=c.Zs[this.F][1][0];if(o.bmode)g.Md={t:"enum",v:{BlnM:cP.J1[o.bmode.O()]}};if(o.opacity)g.Opct={t:"long",v:o.opacity.O()};
if(o.flow)g.flow={t:"long",v:o.flow.O()};var C=this.wq.L$;C={z:C>>>16,B:C>>>8&255,K:C&255};g.FrgC={t:"Objc",v:l.T.CT(C)};
return["Brush Preset "+g.Brsh.v.Dmtr.v.val,g]};cf.prototype.iv=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.gC,$j:"redge"};
this.c(o)};cf.prototype.ft=function(){for(var o in this.Rs)this.Rs[o].Q()};cf.prototype.gx=function(o){if(o.aif=="showBrushOpts"){this.Rs.brush.ac9(o.YA.x,o.YA.y)}for(var g in o.yv){var C=o.yv[g];
if(g!="qsmode")C*=100;if(this.Rs[g])this.Rs[g].I(C)}};cf.prototype.Xt=function(o,g){iQ.prototype.Xt.call(this,o,g);
this.wq=o;var C=this.Rs.brush;if(C==null)return;if(g==e1.B3||g==e1.Yc)C.Fs(o.v1);if(g==e1.OL){C.I(o.v1.WE,o.v1.H7,o.v1.ys)}};
cf.prototype.a0n=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.sM,eA:e1.OL,qn:this.Rs.brush.O()};this.c(o)};
cf.prototype.WM=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.es,F:this.F};for(var g in this.Rs){if(g=="brush"||g=="redge")continue;
var C=this.Rs[g].O();if(["opacity","flow","smth","strn","expo"].indexOf(g)!=-1)o.data[g]=C/100;else if(g=="bmode")o.data.bmode=cP.CH[C];
else if(g=="bmode0")o.data.bmode=cP.CH[23+C];else o.data[g]=C}this.c(o)};function gc(o,g){iQ.call(this);
if(o)return;this.Rs={};for(var N=0;N<g.length;N++){var C=g[N],a=null;if(C=="binop")a=new gl;if(C=="feat"){a=new e8([7,6],0,100,"px");
a.I(0)}if(C=="redge")a=new hs([7,11],!1,null,!0);if(C=="wconf")a=new dY;if(C=="cstr")a=new fI;if(C=="anta"){a=new eT([12,25,1]);
a.I(!0)}if(C=="sall")a=new eT([12,25,2]);if(C=="redge")a.h("click",this.iv,this);else a.h(D.E.p,this.WM,this);
a.parent=this;this.body.appendChild(a.e);this.Rs[C]=a}}gc.prototype=new iQ;gc.prototype.gx=function(o){if(o._V!=null)this.Rs.binop.I(o._V);
else if(o.i8){for(var g in o.i8)if(this.Rs[g])this.Rs[g].I(o.i8[g])}else{var C=gc.lo;if(C==null){var a=hU.ahc(!0);
C=gc.lo=new g0(a.items,a.oi)}C.Q();C.parent=this;C.update(o.Dn,o.zP);var x=new jO(D.E.X,!0);x.data={C:D.t.Sd,u6:C,x:o.ma.El+2,y:o.ma._i+1};
this.c(x)}};gc.prototype.ft=function(){for(var o in this.Rs)this.Rs[o].Q()};gc.prototype.iv=function(){var o=new jO(D.E.X,!0);
o.data={C:D.t.gC,$j:"redge"};this.c(o)};gc.prototype.WM=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.es,F:this.F,i8:{}};
for(var g in this.Rs)o.data.i8[g]=this.Rs[g].O();this.c(o)};function eJ(){cf.call(this,["brush","strn"])}eJ.prototype=new cf;
function fz(){cf.call(this,"brush bmode opacity flow smth prsr".split(" "))}fz.prototype=new cf;function dU(){cf.call(this,["brush","bmode0","samp","wconf"])}dU.prototype=new cf;
function jY(){cf.call(this,["brush"])}jY.prototype=new cf;function g6(){cf.call(this,["brush","bmode","opacity","smth","prsr"])}g6.prototype=new cf;
function c$(){cf.call(this,["brush","rng","expo"])}c$.prototype=new cf;function b3(){cf.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}b3.prototype=new cf;
function h3(o){iQ.call(this);if(o==null)return;var g=B.f("span","fitem");this.body.appendChild(g);var C=[[17,0],[17,1],[11,12,0],[17,2]];
this.s5=[];for(var N=0;N<C.length;N++){var a=new hs(C[N],!1,null,!0);this.s5.push(a);a.h("click",this.a95,this);
if(!o||N==1)g.appendChild(a.e)}this.$P=new fI;this.$P.h(D.E.p,this.any,this);if(!o)this.body.appendChild(this.$P.e);
this.h8=new hs([15,7,6],!1,null,!0);this.h8.h("click",this.a95,this);if(!o)this.body.appendChild(this.h8.e);
this.LN=new eT([15,7,10]);this.LN.h(D.E.p,this.any,this);if(!o)this.body.appendChild(this.LN.e);this.aI=new il;
this.aI.h("click",this.kc,this)}h3.prototype=new iQ;h3.prototype.ft=function(){this.aI.Q();for(var N=0;
N<this.s5.length;N++)this.s5[N].Q();this.$P.Q();this.LN.Q();this.h8.Q()};h3.prototype.gx=function(o){var g=this.aI.e;
if(o.ca)this.body.appendChild(g);else if(this.body.contains(g))this.body.removeChild(g);if(o.$P)this.$P.I(o.$P)};
h3.prototype.kc=function(o){var g={C:D.t.es,F:this.F,LR:this.aI.O()?"commit":"cancel"},C=new jO(D.E.X,!0);
C.data=g;this.c(C)};h3.prototype.a95=function(o){o.target.e.blur();var g={C:D.t.es,F:this.F,LR:"cropby",atT:this.s5.indexOf(o.target)};
if(o.target==this.h8)g.LR="straighten";var C=new jO(D.E.X,!0);C.data=g;this.c(C)};h3.prototype.any=function(o){var g={C:D.t.es,F:this.F,LR:"config",ws:{p5:this.$P.O(),BF:this.LN.O()},ajv:o.target==this.$P},C=new jO(D.E.X,!0);
C.data=g;this.c(C)};function cy(){h3.call(this,!1)}cy.prototype=new h3;function fv(){h3.call(this,!0)}fv.prototype=new h3;
function dk(){cf.call(this,["brush","rng","expo"])}dk.prototype=new cf;function at(){cf.call(this,"brush emode opacity flow smth prsr".split(" "))}at.prototype=new cf;
function hH(){cf.call(this,["brush","samp","wconf"])}hH.prototype=new cf;function aE(){gc.call(this,!1,["binop","feat","anta","redge","cstr"])}aE.prototype=new gc(!0);
function bS(){iQ.call(this);var o=this.Rs=[new jz([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new jz([12,70],[[17,1],[17,3],[17,0]]),new eT([12,20,1]),new eT([8,0])];
o[1].I(2);o[2].I(!0);for(var N=0;N<o.length;N++){var g=o[N];g.h(D.E.p,this.WM,this);this.body.appendChild(g.e)}}bS.prototype=new iQ;
bS.prototype.WM=function(o){var g=this.Rs,C=[];for(var N=0;N<g.length;N++)C[N]=g[N].O();var a=new jO(D.E.X,!0);
a.data={C:D.t.es,F:this.F,i8:C};this.c(a)};bS.prototype.ft=function(){for(var N=0;N<this.Rs.length;N++)this.Rs[N].Q()};
function f$(){iQ.call(this);this.Rq=new dT(!1);this.Rq.parent=this;this.Rq.h(D.E.p,this.Ez,this);this.body.appendChild(this.Rq.e);
this.Rq.I(JSON.parse(hf.xH.axH).v);this.hq=new jz(null,hf.T.names.slice(0,5));this.hq.h(D.E.p,this.Ez,this);
this.body.appendChild(this.hq.e);this.QJ=new jz([12,19,0],cP.sz,null,cP.Hm);this.QJ.h(D.E.p,this.Ez,this);
this.body.appendChild(this.QJ.e);this.c$=new e8([12,0],0,100,"%");this.c$.parent=this;this.c$.h(D.E.p,this.Ez,this);
this.body.appendChild(this.c$.e);this.c$.I(100);this.y5=new eT([12,23,0]);this.y5.h(D.E.p,this.Ez,this);
this.body.appendChild(this.y5.e);this._b=new eT([12,23,3]);this._b.h(D.E.p,this.Ez,this);this.body.appendChild(this._b.e)}f$.prototype=new iQ;
f$.prototype.ft=function(){this.hq.Q();this.QJ.Q();this.c$.Q();this.y5.Q();this._b.Q()};f$.prototype.Xt=function(o,g){iQ.prototype.Xt.call(this,o,g);
var C=g==e1.Zr;this.Rq.gQ(o.L$,o.KT);if(C||g==e1.W2||g==e1.B3)this.Rq.Fs(o.mh)};f$.prototype.Ez=function(){var o=new jO(D.E.X,!0);
o.data={C:D.t.es,F:this.F};o.data.eA={T:this.Rq.O(),ex:hf.T.types[this.hq.O()],e0:this.y5.kW(),a5j:this._b.kW(),a8D:cP.CH[this.QJ.O()],xW:this.c$.O()/100};
this.c(o)};function be(){iQ.call(this)}be.prototype=new iQ;function gb(){iQ.call(this);var o=B.f("span","fitem");
this.body.appendChild(o);this.Sg=[new e8([12,15],-180,180,"\xB0"),new hs([1,12,2],null,null,!0)];for(var N=0;
N<this.Sg.length;N++){var g=this.Sg[N];g.parent=this;o.appendChild(g.e);g.h(N==1?"click":D.E.p,this.Wy,this)}}gb.prototype=new iQ;
gb.prototype.ft=function(){for(var N=0;N<this.Sg.length;N++)this.Sg[N].Q()};gb.prototype.gx=function(o){this.Sg[0].I(o.iC*180/Math.PI)};
gb.prototype.Wy=function(o){var g=this.Sg.indexOf(o.target),C=new jO(D.E.X,!0);C.data={C:D.t.es,F:this.F,iC:g==1?0:o.target.O()*Math.PI/180};
this.c(C)};function dm(){cf.call(this,["brush","algnd","sfrom","alt"])}dm.prototype=new cf;function bL(){iQ.call(this);
this.Jh=new jB;this.Jh.parent=this;this.body.appendChild(this.Jh.OT.e);this.body.appendChild(this.Jh.a$.e);
this.body.appendChild(this.Jh.Vm.e);this.body.appendChild(this.Jh.Sm.e);var o=B.f("span","fitem");this.body.appendChild(o);
o.appendChild(this.Jh.On.e);o.appendChild(this.Jh.IJ.e);o.appendChild(this.Jh.Ei.e);this.zr=new jz("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.zr.h(D.E.p,this.kc,this);this.body.appendChild(this.zr.e);this.nq=new hs([11,9],!1,null,!0);this.nq.h("click",this.aik,this);
this.body.appendChild(this.nq.e);this.aI=new il;this.aI.h("click",this.kc,this)}bL.prototype=new iQ;
bL.prototype.ft=function(){this.aI.Q();this.Jh.Q();this.nq.Q()};bL.prototype.aik=function(o){var g={C:D.t.es,F:this.F,LR:"showwarp"},C=new jO(D.E.X,!0);
C.data=g;this.c(C)};bL.prototype.gx=function(o){if(o.LR=="showactive")this.body.appendChild(this.aI.e);
if(o.LR=="hideactive")this.body.removeChild(this.aI.e);if(o.LR=="changeAA")this.zr.I(o.kq)};bL.prototype.Xt=function(o,g){iQ.prototype.Xt.call(this,o,g);
if(g!=e1.B3&&g!=e1.Nf&&g!=e1.ye&&g!=e1.OG)return;this.Jh.I(o.iq,o.zM,o.QF)};bL.prototype.kc=function(o){var g={C:D.t.es,F:this.F,LR:this.aI.O()?"commit":"cancel"};
if(o.target==this.zr){g.LR="changeAA";g.kq=this.zr.O()}var C=new jO(D.E.X,!0);C.data=g;this.c(C)};function br(){gc.call(this,!1,["binop","feat","anta","redge"])}br.prototype=new gc(!0);
function ir(){iQ.call(this);var o=[],C="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.gF=new eT([12,85]);this.gF.h(D.E.p,this.WM,this);o.push(this.gF.e);this.m4=new eT([20,1]);this.m4.h(D.E.p,this.WM,this);
o.push(this.m4.e);this.Ou=new eT([12,83]);this.Ou.h(D.E.p,this.WM,this);o.push(this.Ou.e);var g=B.f("span","fitem");
o.push(g);this.acz=new jz("Scale for exported files",["1x","2x","3x","4x"],!0);g.appendChild(this.acz.e);
this.FX=new hs(C+" PNG",!1,"Save selected layers as PNG",!0);g.appendChild(this.FX.e);this.FX.h("click",this.qk,this);
this.ahS=new hs(C+" SVG",!1,"Save selected layers as SVG",!0);g.appendChild(this.ahS.e);this.ahS.h("click",this.qk,this);
var a=B.f("span","fitem");o.push(a);var x=B.f("span","fitem");o.push(x);this.ff=[];for(var N=0;N<8;N++){var K=N==3||N==7?[20,4,6]:[20,4,N<3?N:N-1],h=new hs("Hi",!1,K);
(N<4?a:x).appendChild(h.e);h.h("click",this.qk,this);this.ff.push(h)}for(var N=0;N<o.length;N++)this.body.appendChild(o[N]);
this.ag4=o}ir.prototype=new iQ;ir.prototype.gx=function(o){var g=o.HB,C=o.aof;this.gF.I(g.hn);this.m4.I(g.Ug);
this.Ou.I(g.uL);if(C){B.KZ(this.body);for(var N=0;N<C.length;N++)if(C[N]==1&&this.ag4[N])this.body.appendChild(this.ag4[N])}};
ir.prototype.qk=function(o){var g=this.ff.indexOf(o.target),C;if(g==-1){C=new jO(D.E.X,!0);C.data={C:D.t.es,F:this.F,JI:o.target==this.FX?"getPNG":"getSVG",pS:this.acz.O()+1}}else{C=new jO(D.E.q,!0);
C.F=c.zO;C.data={C:"algn",k:g}}this.c(C)};ir.prototype.WM=function(o){var g=new jO(D.E.X,!0);g.data={C:D.t.es,F:this.F,JI:"prms",hn:this.gF.kW(),Ug:this.m4.kW(),uL:this.Ou.kW()};
this.c(g)};ir.prototype.ft=function(){this.gF.Q();this.m4.Q();this.Ou.Q();var o="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var N=0;N<8;N++){this.ff[N].BB(B.U_("align/"+o[N],null,"autoscale"))}};function da(){gc.call(this,!1,["binop","feat","redge","wconf","sall"])}da.prototype=new gc(!0);
function ef(){cf.call(this,["setop","patch"])}ef.prototype=new cf;function ie(){cf.call(this,["setop"])}ie.prototype=new cf;
function iC(){cf.call(this,["bmode","opacity","wconf","sall"])}iC.prototype=new cf;function c0(){gc.call(this,!1,["binop","feat","anta","redge"])}c0.prototype=new gc(!0);
function bC(){gc.call(this,!1,["binop","feat","anta","redge"])}bC.prototype=new gc(!0);function eo(){gc.call(this,!1,["binop","feat","redge","cstr"])}eo.prototype=new gc(!0);
function ce(){iQ.call(this);this.wq=null;this.hZ=null;this.Ku=[new h$("X",null,3.2,null,!0),new h$("Y",null,3.2,null,!0),new h$("W",null,3.2,null,!0),new h$("H",null,3.2,null,!0),new h$([12,15],"\xB0",3.7,null,!0),new h$(["VAR0 1",[12,80,0]],null,3.5,null,!0),new h$(["VAR0 2",[12,80,0]],null,3.5,null,!0),new hs([15,7,6],!1,null,!0),new hs([2,2],!1,null,!0)];
for(var N=0;N<this.Ku.length;N++){var o=this.Ku[N];this.body.appendChild(o.e);if(N>6)o.h("click",this.r7,this)}this.VI=0}ce.prototype=new iQ;
ce.prototype.r7=function(o){var g=this.Ku.indexOf(o.target)==7,C=new jO(D.E.q,!0);if(g){if(this.VI==0)return;
C.F=c.GD;C.data={C:"rot",Wm:[2,5],k:-this.VI}}else{C.F=c.UC;for(var N=0;N<6;N++)this.Ku[N].I(null)}this.c(C)};
ce.prototype.gx=function(o){function g(X,w,G){var R=Math.sqrt(Math.pow(w.x-X.x,2)+Math.pow(w.y-X.y,2)),d=Math.sqrt(Math.pow(w.x-G.x,2)+Math.pow(w.y-G.y,2)),q=Math.sqrt(Math.pow(G.x-X.x,2)+Math.pow(G.y-X.y,2));
return Math.acos((d*d+R*R-q*q)/(2*d*R))}if(o==null)return;this.hZ=o;var C=o.a6U,a=o.bY,x=a.x-C.x,K=a.y-C.y;
this.VI=-Math.atan2(K,x);if(o.z6)this.VI=g(a,C,o.z6);var h=this.Ku;h[0].I(this.Zw(o,C.x));h[1].I(this.Zw(o,C.y));
h[2].I(this.Zw(o,x));h[3].I(this.Zw(o,K));h[4].I((this.VI*180/Math.PI).toFixed(2));h[5].I(this.Zw(o,eN.ig(C,a)));
if(o.z6){h[6].I(this.Zw(o,eN.ig(C,o.z6)))}else h[6].I("")};ce.prototype.Zw=function(o,g){var C=l.aE.Cg(g,o.zC,this.wq,o.aae,!1);
return parseFloat(C).toFixed(2)};ce.prototype.Xt=function(o,g){this.wq=o;this.gx(this.hZ)};ce.prototype.ft=function(){var o=this.Ku;
for(var N=0;N<o.length;N++)o[N].Q();B.gJ(o[2],o[3])};function cj(){cf.call(this,["brush","strn","pdetail"])}cj.prototype=new cf;
function az(){cf.call(this,["brush","sfrom"]);this.aec=[];var o=[[7,12]];for(var N=0;N<o.length;N++){var g=new hs(o[N],!1,null,!0);
this.aec.push(g);g.parent=this;this.body.appendChild(g.e);g.h("click",this.aoR,this)}}az.prototype=new cf;
az.prototype.aoR=function(o){var g=this.aec.indexOf(o.currentTarget),C=new jO(D.E._h,!0);C.data=c.de.p3("contentAware");
this.c(C)};function al(){cf.call(this,["brush","strn"])}al.prototype=new cf;function cg(){cf.call(this,["brush","flow","smode"])}cg.prototype=new cf;
function dA(){iQ.call(this);this.rq=!1;var o=B.f("span","fitem");this.body.appendChild(o);this.vi=new jT(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
o.appendChild(this.vi.e);this.vi.h(D.E.p,this.WM,this);this.qe=new hs([20,2]);this.body.appendChild(this.qe.e);
this.qe.h("click",this.apl,this);this.fc=new hs([20,3]);this.body.appendChild(this.fc.e);this.fc.h("click",this.apl,this)}dA.prototype=new iQ;
dA.prototype.ft=function(){this.qe.Q();this.fc.Q()};dA.prototype.WM=function(){var o={C:D.t.es,F:this.F,ri:this.vi.O()==0},g=new jO(D.E.X,!0);
g.data=o;this.c(g)};dA.prototype.gx=function(o){if(this.rq!=o.rq)this.vi.I(1-this.vi.O());this.rq=o.rq};
dA.prototype.apl=function(o){var g=new jO(D.E.q,!0);g.F=c.SL;g.data={C:"adapt",k:o.target==this.qe?"pixel":"fitscr"};
this.c(g)};function eP(o,g){iQ.call(this);if(o==null)return;this.l_=o;this.pK={};this.awW=g;for(var N=0;
N<o.length;N++){var C=o[N],a=null;if(C=="tmode"){a=new jz(null,[[12,76,1],[12,76,0],[12,76,2]]);a.I(0);
if(g)a.aro(2)}if(C=="make"){a=new jT("Make",[[17,2],[12,76,1]],null,!0)}if(C=="anta"){a=new eT([12,25,1]);
a.I(!0)}if(C=="binop"){a=new jz(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(C=="pshape")a=new jz(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(C=="shape")a=new aD([12,76,1]);if(C=="crad"){a=new e8([12,94,0],0,50,"px");a.I(0)}if(C=="cstr"){a=new fI}if(C=="irad"){a=new e8([12,94,1],0,100,"%");
a.I(40)}if(C=="length"){a=new e8([12,80,0],4,40);a.I(4)}if(C=="sides"){a=new e8([12,78],3,30);a.I(5)}if(C=="width"){a=new e8([12,41],1,100,"px");
a.I(5)}if(C=="tolr"){a=new e8([12,24],0,100);a.I(5)}if(C=="fstyle"){a=new bK([12,26])}if(C=="sstyle"){a=new dO}if(C=="psnap"){a=new eT([8,10])}if(C=="crnr"){a=new hs("\u2312",!1,[12,94,0],!0)}if(C=="aopts"){a=new fV;
a.I([!1,!1,50,60,0])}a.parent=this;this.body.appendChild(a.e);this.pK[C]=a;a.h(C=="crnr"?"click":D.E.p,this.WM,this)}}eP.prototype=new iQ;
eP.prototype.gx=function(o){if(o._V!=null)this.pK.binop.I(o._V);else if(o.JI=="vals")for(var g in o.aiv)this.pK[g].I(o.aiv[g]);
else{var C=eP.lo;if(C==null)C=eP.lo=new g0([{name:"Remove Anchor Point",N:function(x){var K=x?x.DE():null;
return{N:x&&K[1].length!=0&&K[0][K[1][0]].add.vmsk.EP.length!=0}}},{name:"Remove Path",N:function(x){var K=x?x.DE():null;
return{N:x&&K[1].length!=0&&K[0][K[1][0]].add.vmsk.A.length!=0}},lL:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{W:D.E.q,F:c.iM,P:{C:"remove",E2:!0}},{W:D.E.q,F:c.zL,P:{C:"remove"}},{W:D.E.X,P:{C:D.t.gC,$j:"makesel"}},{W:D.E._h,P:c.R7.hX(0)},{W:D.E._h,P:c.R7.hX(1)}]);
C.parent=this;C.update(o.Dn,o.zP);var a=new jO(D.E.X,!0);a.data={C:D.t.Sd,u6:C,x:o.ma.El+2,y:o.ma._i+1};
this.c(a)}};eP.prototype.aqY=function(N){return null};eP.prototype.ft=function(){for(var o in this.pK){this.pK[o].Q()}};
eP.prototype.WM=function(o){var g=new jO(D.E.X,!0),C=this.pK;if(o.target==C.crnr){g=new jO(D.E.q,!0);
g.F=c.iM;g.data={C:"crnr"}}else if(o.target==C.make){var N=o.target.O();console.log(N);if(N==0)g.data={C:D.t.gC,$j:"makesel"};
else{g=new jO(D.E.q,!0);g.F=c.FA;g.data={C:"newfill",a0:0}}}else if(o.target==C.fstyle){g.data={C:D.t.sM,eA:e1.Yx,k:C.fstyle.O()}}else if(o.target==C.sstyle){g.data={C:D.t.sM,eA:e1.Q0,k:C.sstyle.O()}}else if(o.target==C.tmode){g.data={C:D.t.sM,eA:e1.$G,k:C.tmode.O()}}else{if(C.pshape)this.P6();
g.data={C:D.t.es,F:this.F};for(var a in C)g.data[a]=C[a].O()}this.c(g)};eP.prototype.P6=function(){var o=this.pK,g=o.tmode.O(),C=o.pshape?this.aqY(o.pshape.O()):this.l_,a;
if(g==0)a=["anta","make"];if(g==1)a=["anta","fstyle","sstyle"];if(g==2)a=["make","binop","fstyle","sstyle"];
var x=o.binop;if(x){var K=x.O();if(g==0){x.aq5(0)}else{x.aro(0);if(K==0){x.I(1);this.WM({target:x})}}}B.KZ(this.body);
for(var N=0;N<C.length;N++){var h=C[N];if(a.indexOf(h)!=-1)continue;this.body.appendChild(o[h].e)}};
eP.prototype.Xt=function(o,g){iQ.prototype.Xt.call(this,o,g);var C=this.pK.fstyle,a=this.pK.sstyle,x=this.pK.tmode;
if(C)C.Xt(o,g);if(a)a.Xt(o,g);if(g==e1.B3||g==e1.EW)if(o.lz.length!=0&&this.pK.shape){this.pK.shape.Fs(o.lz)}if(g==e1.B3||g==e1.Yx)if(C)C.I(null,o.le,o.a6K);
if(g==e1.B3||g==e1.Q0)if(a)a.I(null,o.nf,o.adS);if(g==e1.B3||g==e1.$G){var K=o.nj;if(this.awW&&K==2)K=0;
if(x){x.I(K);this.P6()}}};function ch(){eP.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}ch.prototype=new eP;
function el(){eP.call(this,"tmode make anta fstyle sstyle binop".split(" "))}el.prototype=new eP;function hr(){eP.call(this,["fstyle","sstyle"]);
this.a8u=null;this.av3=null;this.aii=null;this.r0=new jz([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.rh=new hs("\u25BC");this.rh.nU();this.e3=new hs("\u25B2");this.e3.nU();this.gt=[this.r0,this.rh,this.e3];
for(var N=0;N<this.gt.length;N++){var o=this.gt[N];this.body.appendChild(o.e);o.parent=this;o.h(N==0?D.E.p:"click",this.Zh,this)}}hr.prototype=new eP;
hr.prototype.gx=function(o){if(o.LR=="main"){var g=this.gt,C=o.BH;if(C){this.av3=C.clone();this.aii=JSON.stringify(o.vm);
var a=C.A.slice(0),x=a.length;for(var N=0;N<a.length;N++)a[N]++;a.sort(function(w,G){return w-G});g[0].ih();
g[1].ZB(x!=0);g[2].ZB(x!=0);g[0].BB(x==0?"No Paths":x==1?"Path "+a[0]:"Paths "+a.slice(0,3).join(",")+(x>3?"..":""));
if(x!=0){var K=C.A[0],h=l.M.Fq(C.i,K),X=C.i[h];this.r0.I([3,0,1,2][X.j4])}}else for(var N=0;N<g.length;
N++)g[N].Uy()}else eP.prototype.gx.call(this,o)};hr.prototype.ft=function(){eP.prototype.ft.call(this);
this.r0.Q()};hr.prototype.Zh=function(o){if(o.target==this.r0||o.target==this.rh||o.target==this.e3){var g={},C=this.av3,a=C.i,x=C.A,K=l.M.Ac(a),h=JSON.parse(this.aii);
x.sort(function(p,y){return p-y});if(o.target==this.r0){var X=this.r0.O();if(X<4)for(var N=0;N<x.length;
N++)a[l.M.Fq(a,x[N])].j4=[1,2,3,0][X];else{if(K<=1)return;C.i=l.M.WR(a);C.A=C.i.length==2?[]:[0];C.EP=[];
h=[l.vm.oX()]}}else{var w=o.target==this.rh?-1:1,G=[];for(var N=0;N<K;N++){var R=l.M.Fq(a,N),d=R+1+a[R].length;
G.push(a.slice(R,d))}var q=x.slice(0);for(var N=0;N<x.length;N++)q[N]=Math.max(N,Math.min(K-1-(x.length-1-N),q[N]+w));
if(x.join(",")==q.join(","))return;for(var N=0;N<x.length;N++){var m=w==-1?N:x.length-1-N,R=x[m],d=q[m];
if(R!=d){var M=G[R];G[R]=G[d];G[d]=M}}var Z=a.slice(0,2);for(var N=0;N<G.length;N++)Z=Z.concat(G[N]);
C.i=Z;C.A=q}g.BH=C;g.vm=h;var Q=new jO(D.E.X,!0);Q.data={C:D.t.es,F:this.F,d2:g};this.c(Q)}};function gy(){eP.call(this,["fstyle","sstyle","crnr","psnap"])}gy.prototype=new eP;
function jM(){eP.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}jM.prototype=new eP;
function dD(){eP.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}dD.prototype=new eP;
function eI(){eP.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.pK.aopts.I([!1,!0,50,60,0])}eI.prototype=new eP;eI.prototype.aqY=function(N){var o=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(o[N])};function eB(){eP.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}eB.prototype=new eP;
function eu(){eP.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}eu.prototype=new eP;
function bk(){gc.call(this,!1,["binop","feat","redge"])}bk.prototype=new gc(!0);function em(){cf.call(this,["brush","qsmode","redge"])}em.prototype=new cf;
function k8(){iQ.call(this);var o=this.apJ=new hs([8,11,3],null,null,!0);o.h("click",this.Zh,this);this.body.appendChild(o.e)}k8.prototype=new iQ;
k8.prototype.Zh=function(o){var g=new jO(D.E._h,!0);g.data={j7:"make",FS:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(g)};k8.prototype.ft=function(o){this.apJ.Q()};function bZ(){iQ.call(this);var o=this.a09=[new hs("\u25BC",null,null,!0),new hs("\u25B2",null,null,!0),new hs([5,4],null,null,!0)];
for(var N=0;N<3;N++){var g=o[N];this.body.appendChild(g.e);g.h("click",this.Zh,this)}}bZ.prototype=new iQ;
bZ.prototype.Zh=function(o){var g=this.a09.indexOf(o.target),C=new jO(D.E.q,!0);C.F=c.i7;C.data={C:g==2?"delete":"reorder",dir:g==0?-1:1};
this.c(C)};bZ.prototype.Q=function(){iQ.prototype.Q.call(this);for(var N=0;N<3;N++)this.a09[N].Q()};
function gV(o,g){iQ.call(this);if(window.Typr==null||o)return;this.aie=g;this.yX=null;this.a2c=B.f("span","");
this.avF=B.f("span","");var C=1;this.n8={YX:new dL(null,24),yH:new e8("X",0,0,"px",0,!1,!0,4),V4:new e8("Y",0,0,"px",0,!1,!0,4),eC:new e8("W",0,0,["%","px"],2,!1,!0,5),Gn:new hs("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Mi:new e8("H",0,0,["%","px"],2,!1,!0,5),ak1:new e8("\u2221",0,0,"\xB0",C,!1,!0),a5U:new e8("\u25B1 H",-85,85,"\xB0",C,!1,!0),adh:new e8("\u25B1 V",-85,85,"\xB0",C,!1,!0),MB:new jz(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.n8.MB.I(1);this.n8.Gn.I(!0);for(var a in this.n8){var x=this.n8[a];if(g&&(x==this.n8.ak1||x==this.n8.a5U||x==this.n8.adh||x==this.n8.MB)){}else this.a2c.appendChild(x.e);
var K=x==this.n8.Gn?"click":D.E.p;x.h(K,this.a7M,this)}this.H_=new bH(!0,!0,!0);this.H_.h(D.E.p,this.an7,this);
this.H_.parent=this;var h=this.avF,X=this.H_;h.appendChild(X.ET.e);h.appendChild(X.Dg.e);h.appendChild(X.xh.e);
h.appendChild(X.et.e);h.appendChild(X.rS.e);this.nq=new hs([11,9]);this.nq.h("click",this.a5k,this);
this.aI=new il;this.aI.h("click",this.kc,this)}gV.prototype=new iQ;gV.prototype.gx=function(o){if(o.ma){var g=gV,C=this.lo;
if(C==null)C=this.lo=new g0(g.aqM(),g.aiU(this.F));C.Q();C.parent=this;C.update(o.Dn,o.zP);var a=new jO(D.E.X,!0);
a.data={C:D.t.Sd,u6:C,x:o.ma.El+2,y:o.ma._i+1};this.c(a);return}B.KZ(this.body);this.yX=o;if(o.n8){var x=o.n8.Cn,K=o.n8.t_.clone(),h=Math.atan2(-K.K,K.Bk),X=new kp;
X.rotate(-h);K.concat(X);var w=this.n8;w.YX.I(o.n8.eF);w.yH.I(o.n8.kN.x);w.V4.I(o.n8.kN.y);w.eC.I(K.Bk*(w.eC.Fp()=="%"?100:x.m));
w.Mi.I(K.rX*(w.Mi.Fp()=="%"?100:x.n));w.ak1.I(-h*180/Math.PI);w.a5U.I(0*180/Math.PI);w.adh.I(Math.atan(K.U9)*180/Math.PI);
this.body.appendChild(this.a2c);this.nq.Qd()}if(o.bI){this.H_.I(o.bI);this.body.appendChild(this.avF);
this.nq.nU()}this.body.appendChild(this.aI.e);if(o.a29&&!this.aie)this.body.appendChild(this.nq.e)};
gV.prototype.a7M=function(o){var g=this.n8,C=this.yX.n8.Cn;if(o.target==g.Gn)g.Gn.I(!g.Gn.O());if(g.Gn.kW()){var a=g.Mi,x=g.eC,K=C.n,h=C.m;
if(o.target==g.eC){a=g.eC;x=g.Mi;K=C.m;h=C.n}var X=a.O()/(a.Fp()=="%"?100:K);X*=x.Fp()=="%"?100:h;x.I(X)}var w=[];
for(var G in g)if(g[G]!=g.Gn&&g[G]!=g.YX){var X=g[G].O();if((g[G]==g.eC||g[G]==g.Mi)&&X==0){X=.1;g[G].I(X)}if(g[G]==g.eC&&g[G].Fp()=="px")X/=C.m/100;
if(g[G]==g.Mi&&g[G].Fp()=="px")X/=C.n/100;w.push(X)}var R=new eN(w[0],w[1]);if(o.target==g.YX){this.gI({LR:"ctyp",eF:g.YX.O()})}else if(o.target==g.yH||o.target==g.V4){this.gI({LR:"cen",kN:R})}else{var d=this.yX.n8.t_.clone(),q=d.clone(),m=Math.atan2(-d.K,d.Bk);
q.translate(-R.x,-R.y);q.rotate(-m);var M=new kp(q.Bk,q.K,q.U9,q.rX,0,0);M.rq();q.concat(M);q.concat(new kp(w[2]/100,Math.tan(w[5]*Math.PI/180),Math.tan(w[6]*Math.PI/180),w[3]/100,0,0));
q.rotate(-w[4]*Math.PI/180);q.translate(R.x,R.y);this.yX.n8.t_=q;this.gI({LR:"trn",n8:q,qL:this.n8.MB.O()})}};
gV.prototype.an7=function(o){this.gI({LR:"wrp",bI:this.H_.O()})};gV.prototype.a5k=function(o){this.gI({LR:"switchWarp"})};
gV.prototype.kc=function(o){this.gI({LR:this.aI.O()?"commit":"cancel"})};gV.prototype.gI=function(o){o.C=D.t.es;
o.F=this.F;var g=new jO(D.E.X,!0);g.data=o;this.c(g)};gV.prototype.ft=function(){var o=this.n8;for(var g in o)o[g].Q();
B.gJ(o.eC,o.Mi);this.aI.Q();this.H_.Q();this.nq.Q()};gV.aqM=function(){return[{name:[5,9],Cb:"Shift+Alt+Ctrl + T",lL:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],N:function(o){if(o==null||o.A.length!=1)return{N:!1};
var g=o.g[o.A[0]];return{N:g.add.TySh==null&&!g.sP()}},lL:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
gV.aiU=function(o){if(o==null)o=c.GD;return[{W:D.E.q,F:o,P:{C:"again"}},{W:D.E.X,P:{C:D.t.JG,F:o,HB:{ZY:3}}},{W:D.E.X,P:{C:D.t.JG,F:o,HB:{ZY:4}}},{W:D.E.X,P:{C:D.t.JG,F:o,HB:{ZY:2}}},{W:D.E.X,P:{C:D.t.JG,F:o,HB:{ZY:1}}},{W:D.E.X,P:{C:D.t.JG,F:o,HB:{ZY:-1}}},{W:D.E.q,F:o,P:{C:"rot",Wm:[2,5],k:-Math.PI/2}},{W:D.E.q,F:o,P:{C:"rot",Wm:[2,5],k:-3*Math.PI/2}},{W:D.E.q,F:o,P:{C:"rot",Wm:[2,5],k:Math.PI}},{W:D.E.q,F:o,P:{C:"scl",Wm:[[2,6],[22,4,2]],k:new eN(-1,1)}},{W:D.E.q,F:o,P:{C:"scl",Wm:[[2,6],[22,4,3]],k:new eN(1,-1)}}]};
function g2(){gV.call(this)}g2.prototype=new gV(!0);function eg(){gV.call(this)}eg.prototype=new gV(!0);
function fY(){gV.call(this,!1,!0)}fY.prototype=new gV(!0);function i6(){iQ.call(this);var o=this.l_=[new jz([12,36],["Rigid",[15,10,0],[24,4]]),new jz([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new e8([7,4],0,100,"px"),new eT("Show Mesh"),new hs("\u25BC",null,null,!0),new hs("\u25B2",null,null,!0)];
for(var N=0;N<o.length;N++){var g=o[N];g.parent=this;this.body.appendChild(g.e);g.h(N<4?D.E.p:"click",this.abK,this)}this.aI=new il;
this.aI.h("click",this.kc,this);this.body.appendChild(this.aI.e)}i6.prototype=new iQ;i6.prototype.ft=function(){var o=this.l_;
for(var N=0;N<4;N++)o[N].Q();this.aI.Q()};i6.prototype.gx=function(o){var o=o.eA;for(var N=0;N<4;N++)this.l_[N].I(o[N])};
i6.prototype.abK=function(o){var g=[];for(var N=0;N<4;N++)g[N]=this.l_[N].O();var C=this.l_.indexOf(o.target);
if(C<4)this.gI({LR:"prm",eA:g});else this.gI({LR:"moveDepth",aom:C==5})};i6.prototype.kc=function(o){this.gI({LR:this.aI.O()?"commit":"cancel"})};
i6.prototype.gI=function(o){o.C=D.t.es;o.F=this.F;var g=new jO(D.E.X,!0);g.data=o;this.c(g)};function eM(){ar.call(this);
this.e=B.f("div","cmanager");window.alert=function(a,x){this.aoK(a,x);console.log("Alert: "+a)}.bind(this);
window.onblur=function(a){var x=this;x.us()}.bind(this);this.MI=0;this.fB=0;this.Ev=[];this.BJ={};this.v2=B.f("div","alertcont");
this.e.appendChild(this.v2);this.ahZ=B.f("div","alertcont");this.e.appendChild(this.ahZ);this.Ja=B.f("div","alertcont");
this.awU=0;this.x3=-1;this.adj=null;this.Ls=null;var o=this.atq=B.f("div","alertpanel");o.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Ja.appendChild(o);var g=this.yw=B.f("input");g.setAttribute("type","text");B.X1(g);g.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
g.addEventListener("input",this.awl.bind(this),!1);g.addEventListener("keydown",this.alc.bind(this),!1);
o.appendChild(g);var C=this.axt=B.f("div","contextpanel scrollable");C.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
C.addEventListener("click",this.aal.bind(this),!1);o.appendChild(C);B.sa(document.body,this.abo.bind(this))}eM.prototype=new ar;
eM.prototype.I8=function(){if(B.Af(this.Ja))this.e.removeChild(this.Ja)};eM.prototype.a9m=function(o,g){var C=this.adj=[],a=g.a2t;
for(var N=0;N<hU.data.length;N++){var x=hU.data[N],K=[fF.get(x.name)],h=[N];eM.a4P(x.items,K,h,C,o,g,a==null?null:a[N]==null?0:a[N])}var X=i2.Y;
for(var N=0;N<X.length;N+=3){if(g.cq&&g.cq.indexOf(X[N+2])==-1)continue;C.push([["Tools",fF.get(X[N])],[-1,X[N+2]],X[N+1]])}this.e.appendChild(this.Ja);
var w=this.yw;w.focus();w.select();this.Ty()};eM.prototype.awl=function(o){this.x3=-1;this.Ty()};eM.prototype.Ty=function(){var o=this.yw.value.toLowerCase().trim().replace(/  +/g," "),g=this.adj,C=[],a=[],x=o.split(" ");
if(o!="")for(var N=0;N<g.length;N++){var K=g[N][0],h=[],X=0;for(var w=0;w<K.length;w++)h[w]=-1;for(var G=0;
G<x.length;G++)for(var w=0;w<K.length;w++){var R=K[w].toLowerCase().indexOf(x[G]);if(R!=-1){h[w]=[R,R+x[G].length];
X++;break}}if(X==x.length){C.push(g[N]);a.push(h)}}var d=[],q=this.axt;B.KZ(q);for(var N=0;N<C.length;
N++){var m=C[N],M=m[0],R=a[N],Z="enab",p="";if(N==this.x3)Z+=" active";var Q=B.f("div",Z);d.push(Q);
q.appendChild(Q);for(var w=0;w<M.length;w++){var y=R[w],V=x[w],W=M[w];if(y!=-1)W=W.slice(0,y[0])+"<span style=\"color:black\">"+W.slice(y[0],y[1])+"</span>"+W.slice(y[1]);
p+=W;if(w<M.length-1)p+=" \uFE65 "}if(m[2]&&(typeof m[2]!="string"||m[2].length==1))p+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+c_.eu(m[2])+"</span>";
Q.innerHTML=p}this.Ls=[C,d]};eM.prototype.alc=function(o){var g=c_.NM,C=o.code;if(g(C,c_.oc))this.I8();
var a=g(C,c_.N8),x=g(C,c_.DH),K=g(C,c_.kD);if(a||x){this.x3=Math.max(0,Math.min(this.Ls[0].length-1,this.x3+(a?-1:1)));
this.Ty()}if(K&&this.x3!=-1)this.agY(this.x3)};eM.a4P=function(o,g,C,a,x,K,h){if(typeof h=="number"){if(h==0)return;
if(h==1)h=null}for(var N=0;N<o.length;N++){if(h!=null&&(h[N]==0||h[N]==null))continue;var X=o[N],w=g.slice(0),G=C.slice(0),R=fF.get(X.name);
if(X.N){var d=X.N(x,K,N);if(d.nW)R=d.nW;if(d.N==!1)continue}w.push(R);G.push(N);if(X.sub)eM.a4P(X.sub,w,G,a,x,K,h?h[N]:null);
else a.push([w,G,X.Cb])}};eM.prototype.aal=function(o){var g=o.target;if(g.tagName.toLowerCase()=="span")g=g.parentNode;
var C=this.Ls[1].indexOf(g);if(C!=-1)this.agY(C)};eM.prototype.agY=function(o){var g=this.Ls[0][o][1];
if(g[0]==-1){var C=new jO(D.E.X,!0);C.data={C:D.t.JG,F:g[1]};this.c(C)}else{var a=hU.data[g[0]].oi[g[1]];
for(var N=2;N<g.length;N++)a=a.sub[g[N]];var x=new jO(a.W,!0);x.F=a.F;x.data=a.P;this.c(x)}this.I8()};
eM.prototype.z3=function(o,g){this.MI=o;this.fB=g;this.axt.style["max-height"]=g-120+"px"};eM.prototype.akq=function(o){var g=B.f("div","alertpanel");
g.textContent=fF.get(o);this.v2.appendChild(g);this.BJ[JSON.stringify(o)]=g};eM.prototype.ast=function(o){var g=this.BJ[JSON.stringify(o)];
this.v2.removeChild(g);delete this.BJ[JSON.stringify(o)]};eM.prototype.aoK=function(o,g){var C=this.ahZ;
for(var N=0;N<C.children.length;N++)if(C.children[N].textContent==o)return;var a=B.f("div","alertpanel tpanel");
a.textContent=o;a.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");C.appendChild(a);if(g==null)g=1500;
var x=g,K=Math.max(Date.now()+x,this.awU+x);setTimeout(function(){a.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){C.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},K-Date.now()-30);
setTimeout(function(){C.removeChild(C.firstChild);C.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},K-Date.now());
this.awU=K};eM.prototype.abo=function(o){var g=this.Ev;for(var N=g.length-1;N>=0;N--){var C=g[N],a=o.target;
while(a!=null){if(a==C.e){this.us(C);return}a=a.parentNode}}this.us();var x=o.target;while(x!=this.Ja&&x!=document.body)x=x.parentNode;
if(x!=this.Ja)this.I8()};eM.prototype.us=function(o){var g=this.Ev;for(var N=0;N<g.length;N++){if(o&&o.awL(g[N]))continue;
var C=g[N].e;C.style.height="auto";B.Qq(C,"scrollable");this.e.removeChild(C);g.splice(N,1);N--}};eM.prototype.a8B=function(o){this.us(o.u6);
var g=o.u6,C=g.e;if(this.Ev.indexOf(g)!=-1)return;this.Ev.push(g);this.e.appendChild(g.e);var a=this.MI,x=this.fB,K=o.x,h=o.y,X=this.e.getBoundingClientRect(),w=g instanceof g0,G=-1,R=x-2;
if(w||o._u){var d=g.G5(),q=g.a84();if(w)d=Math.min(d,200);var m=a-d-2,M=x-q-2;if(h<M)G=2;else if(K<m)G=1;
else if(0<h-q-2)G=0;else G=3;if(o.ajc)G=0;if(o.a1x)G=2;if(G==2){K=Math.min(K,m)}else if(G==1){h=Math.min(h,M)}else if(G==0){h=h-q-2;
K=Math.min(K,m);R=o.y}else if(G==3){K=K-d-2;h=Math.min(h,M)}}h=Math.max(2,h);var top=Math.round(h-X.y+this.e.offsetTop);
C.style.position="absolute";C.style["z-index"]=10;if(h+g.a84()>R){C.style.height=R-h+"px";B.lK(C,"scrollable");
if(G==3)K-=10}C.style.left=Math.round(K)+"px";C.style.top=top+"px"};eM.prototype.asp=function(o){var g=o.u6,C=this.Ev.indexOf(g);
if(C==-1)return;this.Ev.splice(C,1);var a=g.e;this.e.removeChild(g.e)};eM.prototype.JW=function(){var o=this.Ev;
return o.length==0?null:o[o.length-1]};eM.prototype.avL=function(){this.asp({u6:this.JW()})};function ds(){ar.call(this);
this.e=B.f("div","confbar")}ds.prototype=new ar;ds.prototype.a2D=function(o){o.parent=this;B.KZ(this.e);
this.e.appendChild(o.e)};function c4(o){ar.call(this);c4.o$=o;this.wq=null;this.Zy=B.f("input","");this.Zy.setAttribute("type","file");
this.Zy.setAttribute("multiple","");this.Zy.addEventListener("change",function(g){this.J_(g.target.files,null,this._G,null);
this._G=null}.bind(this),!1);document.body.appendChild(this.Zy);this.Zy.setAttribute("style","display:none");
this.aqg=[];this.X7=!1;this.a3T=[];this.b4=!1;this.afS={};this._G=null}c4.prototype=new ar;c4.o$=null;
c4._D=function(o){try{var g={};g[o.type]=o;navigator.clipboard.write([new ClipboardItem(g)])}catch(fF){console.error(fF,fF.message)}};
c4.wu=function(o,g){navigator.clipboard.read().then(function(C){for(var N=0;N<C.length;N++){try{var a=C[N],x={},K=0,h=0;
for(var X=0;X<a.types.length;X++){var w=a.types[X];K++;a.getType(w).then(function(G){var R=w;new Response(G).arrayBuffer().then(function(d){x[this.a0]=d;
h++;if(h==K)c4.a7p(x,o,g)}.bind({a0:this.a0}))}.bind({a0:w}))}}catch(fF){console.error(fF,fF.message)}}}).catch(function(C){alert("Clipboard error: ("+C.message+")")})};
c4.a5n=function(o){navigator.permissions.query({name:"clipboard-read"}).then(function(g){o(g.state)})};
c4.a7p=function(o,g,C){var a=["text/plain","image/png","text/html","text/plain"];for(var x in o)console.log(x,x.startsWith("text")?u.SP(new Uint8Array(o[x])).slice(0,100)+"...":o[x]);
for(var K=0;K<a.length;K++){var h=a[K],X=o[h];if(X==null)continue;if(h=="image/png"){c4.o$({name:"image.png"},X,g,C);
return}if(h=="text/plain"){var w=u.SP(new Uint8Array(X));if(K==0)if(!w.startsWith("<!--")&&!w.startsWith("<svg"))continue;
var G=new jO(D.E.X,!0);G.data={C:D.t.agJ,k:w};g.c(G);return}if(h=="text/html"){var w=u.SP(new Uint8Array(X)),R=w.indexOf("src=\"");
if(R!=-1&&w.slice(R+5,R+9)!="http"){var d=R+10;while(w[d]!="\"")d++;var q=w.slice(R+5,d);c4.o$({name:"chart.png"},bl.OQ(q).buffer,g,C);
return}}}};c4.prototype.S6=function(o){if(o==null)o=[23,5];var g=JSON.stringify(o),C=this.afS;if(C[g]==null)C[g]=0;
if(C[g]==0){var a=new jO(D.E.X,!0);a.data={C:D.t.a9,eG:o};this.c(a)}C[g]++};c4.prototype.qF=function(o){if(o==null)o=[23,5];
var g=JSON.stringify(o),C=this.afS;if(C[g]==null)C[g]=0;C[g]--;if(C[g]==0){var a=new jO(D.E.X,!0);a.data={C:D.t.y7,eG:o};
this.c(a)}};c4.prototype.axO=function(o,g){this._G=o;var C=window.showOpenFilePicker;if(C&&window.self==window.top){var a=this;
C({multiple:!0}).then(function(h){var X=[];function w(G){X.push(G);if(X.length==h.length){a.J_(X,null,a._G,null,h);
a._G=null}else h[X.length].getFile().then(w)}h[X.length].getFile().then(w)});return}var x=this.Zy;if(g)x.setAttribute("accept",g);
else x.removeAttribute("accept");var K=document.createEvent("MouseEvents");K.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
x.dispatchEvent(K)};c4.prototype.oj=function(o){if(o.url.indexOf("photopea.com#i")!=-1||o.url.indexOf("photopea.com/#i")!=-1){this.Of(o.url.split("#i").pop());
return}this.aqg.push(o);this.ah_()};c4.prototype.ah_=function(){var o=this.aqg;if(o.length==0||this.X7)return;
this.X7=!0;var g=o.shift();this.S6();if(g.GJ==null)g.GJ={};var C=new XMLHttpRequest;C.Mp=g;var a=g.url;
if(g.jG&&!a.startsWith("data:image"))a="mirror.php?url="+encodeURIComponent(a);C.open("GET",a);if(g.dM)for(var x in g.dM)C.setRequestHeader(x,g.dM[x]);
C.responseType="arraybuffer";C.onload=this.a46.bind(this);C.send()};c4.prototype.J_=function(o,g,C,a,x){for(var N=0;
N<o.length;N++){this.S6();var K=o[N],h=new FileReader;h.Mp=K;h.Mp.U8=C;h.Mp.pJ=a;h.a4i=g;if(x)h.Mp.lT=x[N];
h.onload=this.a46.bind(this);h.onerror=function(X){this.qF()}.bind(this);this.a3T.push([h,K])}this.Zy.value=null;
this.a5J()};c4.prototype.a5J=function(){var o=this.a3T;if(o.length==0||this.b4)return;this.b4=!0;var g=o.shift();
g[0].readAsArrayBuffer(g[1])};c4.prototype.ajg=function(o,g,C){this.S6("Saving ...");this.wq=g;setTimeout(C.bind({bf:o,caller:this}),50)};
c4.R3=function(o){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=new Uint8Array(o),a=C.length,x=a%3,K=a-x,h=[],X=0,w=0,G=0;
for(var N=0;N<K;N+=3){X=C[N];w=C[N+1];G=C[N+2];h.push(g[X>>2]+g[(X&3)<<4|w>>4]+g[(w&15)<<2|G>>6]+g[G&63])}if(x==1){X=C[K];
h.push(g[X>>2]+g[(X&3)<<4]+"==")}if(x==2){X=C[K];w=C[K+1];h.push(g[X>>2]+g[(X&3)<<4|w>>4]+g[(w&15)<<2]+"=")}var R=h.join("");
return R};c4.aq7=function(o,g){var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(64),X=0,w=0,G=0,d=0;
for(var N=0;N<64;N++)a[N]=C.charCodeAt(N);var x=new Uint8Array(o),K=g%3,h=g-K,R=new Uint8Array(Math.floor(g/3)*4+(K==0?0:4));
for(var N=0;N<h;N+=3){X=x[N];w=x[N+1];G=x[N+2];R[d]=a[X>>>2];R[d+1]=a[(X&3)<<4|w>>>4];R[d+2]=a[(w&15)<<2|G>>>6];
R[d+3]=a[G&63];d+=4}if(K==1){X=x[h];R[d]=a[X>>2];R[d+1]=a[(X&3)<<4];R[d+2]=61;R[d+3]=61}if(K==2){X=x[h];
w=x[h+1];R[d]=a[X>>2];R[d+1]=a[(X&3)<<4|w>>4];R[d+2]=a[(w&15)<<2];R[d+3]=61}return R};c4.prototype.a46=function(o){var g,C=o.target.Mp;
if(o.target instanceof XMLHttpRequest)g=o.target.response;else g=o.target.result;c4.o$(C,g,this,o.target.a4i);
this.qF();if(o.target instanceof XMLHttpRequest){this.X7=!1;this.ah_()}else{this.b4=!1;this.a5J()}};
c4.ad3=function(o,g){var C=new XMLHttpRequest;C.open("POST","https://api.imgur.com/3/image",!0);C.xc=g;
C.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");C.setRequestHeader("Content-type","application/x-www-form-urlencoded");
C.setRequestHeader("Accept","application/json");C.addEventListener("load",c4.a4j);C.send("type=base64&image="+encodeURIComponent(c4.R3(o)));
alert("Saving to Imgur ...",4e3)};c4.a4j=function(o){var g=JSON.parse(o.target.response);if(g.success){if(o.target.xc)o.target.xc(g.data.link);
else window.open(g.data.link,"Imgur")}};c4.prototype.Of=function(o,g){this.S6();var C=new XMLHttpRequest;
C.responseType="arraybuffer";C.open("GET","https://f000.backblazeb2.com/file/psdshared/"+o);C.onload=this.a4R.bind(this);
C.send();c4.ax2=Date.now();c4.aqD=o;c4.aqw=g?o:null};c4.prototype.a4R=function(o){var g=new Uint8Array(o.target.response);
console.log(g.length,Date.now()-c4.ax2);for(var N=0;N<g.length;N++)g[N]=255-g[N];g=pako.inflateRaw(g);
var C=JSON.parse(u.SP(g,0,2e3));c4.o$({name:C.name,OM:c4.aqw},g.slice(2e3).buffer,this);this.qF();var a=new XMLHttpRequest;
a.open("GET","/papi/img/update.php?act=0&id="+c4.aqD+"&rnd="+Math.random());a.send()};c4.prototype.ahL=function(o,g,C){if(!(o instanceof ArrayBuffer))throw"e";
o=new Uint8Array(o);var a=new Uint8Array(o.length+2e3),d="";for(var N=0;N<2e3;N++)a[N]=32;u.At(JSON.stringify({name:g}),a,0);
a.set(o,2e3);o=a;o=pako.deflateRaw(o);for(var N=0;N<o.length;N++)o[N]=255-o[N];o=o.buffer;var x=o.byteLength,K=hX.cN(x),h=~~(609e5/2),X=~~(209e5/2);
if(x>h){confirm("Your file is "+K+". Our limit is "+hX.cN(h)+". Delete some layers and try again.");
return}if(x>X){var w=confirm("Your file is quite large ("+K+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!w)return}var G=sha1(o),R=[];for(var N=0;N<20;N++){var q=parseInt(G.slice(N*2,N*2+2),16);R.push(q);
d+=String.fromCharCode(q)}var m=btoa(d).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(c4.anI(m)){console.log("file already exists");
if(C)C("https://www.photopea.com#i"+m);else window.open("https://www.photopea.com#i"+m);return}this.S6("Publishing ...");
var M=new XMLHttpRequest;M.hZ=[o,G,m,C];M.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+m+"&size="+x);
M.onload=this.aox.bind(this);M.send()};c4.anI=function(o){try{var g=new XMLHttpRequest;g.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+o,!1);
g.send();if(g.status==200)return!0}catch(fF){return!1}return!1};c4.prototype.aox=function(o){console.log(o.target.response);
var g=JSON.parse(o.target.response),C=o.target.hZ,a=new XMLHttpRequest;a.open("POST",g.uploadUrl);a.setRequestHeader("Authorization",g.authorizationToken);
a.setRequestHeader("X-Bz-File-Name",C[2]);a.setRequestHeader("Content-Type","b2/x-auto");a.setRequestHeader("X-Bz-Content-Sha1",C[1]);
a.send(new Blob([C[0]]));a.onload=this.ac0.bind({s0:this,hZ:C})};c4.prototype.ac0=function(o){this.s0.qF("Publishing ...");
if(this.hZ[3])this.hZ[3]("https://www.photopea.com#i"+this.hZ[2]);else window.open("https://www.photopea.com#i"+this.hZ[2]);
var g=new XMLHttpRequest;g.open("GET","/papi/img/update.php?act=2&id="+this.hZ[2]+"&fileId="+JSON.parse(o.target.response).fileId+"&rnd="+Math.random());
g.send()};c4.save=function(o,g){var C=new Uint8Array(o),a=document.createElement("a");if(typeof a.download=="string"){var x=new Blob([C]),K=window.URL.createObjectURL(x);
a.href=K;a.download=g;document.body.appendChild(a);a.click();document.body.removeChild(a)}else{var h="data:application/octet-stream;base64,"+c4.R3(o);
window.open(h)}};function jm(){this.size=16;this.data=l.Z(16)}jm.prototype.TB=function(o,g){if(o+g<=this.size)return;
var C=this.size;while(o+g>this.size)this.size*=2;var a=l.Z(this.size);for(var N=0;N<C;N++)a[N]=this.data[N];
this.data=a};var hR={};hR.ga=function(o,g,C){var a=g.split(":"),x=a[0],K=null;if(a.length==2){if(x=="jpg")K=[Math.round(100*parseFloat(a[1]))];
if(x=="webp")K=[Math.round(100*parseFloat(a[1])),100,0,!1,!1];if(x=="psd")K=[!0,!0];if(x=="svg")K=a[1].split(",").map(function(X){return X=="true"})}var h=bl.XS(o,x.toUpperCase(),null,null,K,C);
return h};hR.a4O=function(o,g,C){var a=o.cf(),x=g[0];return hR.ga(o,x,C)};hR.aqF=function(){var o=this.bf,g=this.caller,C=o.GJ.Wv,a=C.formats,x,K;
o.cf();var h=Date.now();if(C.version==1){var X=[],w=0,R=0;for(var N=0;N<a.length;N++){var G=hR.ga(o,a[N],g.wq);
X.push(G);w+=G.byteLength}x=new Uint8Array(2e3+w);var d="{ \"source\": "+JSON.stringify(o.JD)+", \"versions\": [\n";
for(var N=0;N<a.length;N++){var q=new Uint8Array(X[N]);d+="\t{\"format\": \""+a[N].split(":")[0]+"\", \"start\": "+R+", \"size\": "+q.length+" }"+(N+1<a.length?", ":"")+"\n";
x.set(q,2e3+R);R+=X[N].byteLength}d+="] }";var m=u.At(d,x,0);for(var N=m;N<2e3;N++)x[N]=32;K="application/octet-stream"}else{var M=new jm,Z=0,Q="",p=encodeURIComponent;
Q="p="+p("{ \"source\": "+JSON.stringify(o.JD)+", \"versions\": [");u.mC(M,Z,Q);Z+=Q.length;for(var N=0;
N<a.length;N++){Q=p(" {\"format\": \""+a[N].split(":")[0]+"\", \"data\": \"");u.mC(M,Z,Q);Z+=Q.length;
var G=hR.ga(o,a[N],g.wq),y=c4.aq7(G,G.byteLength),m=y.length;M.TB(Z,m);for(var V=0;V<m;V++){M.TB(Z,3);
var W=y[V];if(W==43){M.data[Z]=37;M.data[Z+1]=50;M.data[Z+2]=66;Z+=3}else if(W==47){M.data[Z]=37;M.data[Z+1]=50;
M.data[Z+2]=70;Z+=3}else if(W==61){M.data[Z]=37;M.data[Z+1]=51;M.data[Z+2]=68;Z+=3}else{M.data[Z]=W;
Z++}}Q=p("\" }"+(N+1<a.length?", ":""));u.mC(M,Z,Q);Z+=Q.length}Q=p("] }");u.mC(M,Z,Q);Z+=Q.length;x=M.data.slice(0,Z);
K="application/x-www-form-urlencoded"}var v=new XMLHttpRequest;v.open("POST",C.url,!0);if(K)v.setRequestHeader("Content-Type",K);
v.addEventListener("load",hR.a6a.bind(this));v.send(new Blob([x.buffer]))};hR.a6a=function(o){this.caller.qF("Saving ...");
var g=o.target.response;if(g.charAt(0)=="{"){g=JSON.parse(g);if(g.newSource)this.bf.JD=g.newSource;if(g.message)alert(g.message,2e3);
if(g.script){var C=new jO(D.E.X,!0);C.data={C:D.t.xv,Y3:g.script};this.caller.c(C)}}else alert("Saved. Response: "+g,1500)};
hR.ajE=function(o){var g=o.n5,C=g[1].split(".").pop(),a=hR.ga(o,C),x=Storage.BW(g[0]);x.abb(g[1],a)};
hR.ag8=function(o,g){var C=o.Ur.WD;if(g==null)g=hR.ga(o,C);dq.fk(function(){var a=new XMLHttpRequest,x="https://www.googleapis.com/upload/drive/v3/files/"+o.Ur.file.id+"?uploadType=media"+"&"+dq.VW();
a.open("PATCH",x,!0);a.addEventListener("load",function(K){var h=JSON.parse(K.target.response);alert(h.name+" updated")});
a.send(g);alert("Saving \""+o.Ur.file.name+"\" to Google Drive ...")})};hR.o$=function(o,g,C,a){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)hR.ak0(o,g,C,a);
else{try{hR.ak0(o,g,C,a)}catch(fF){if(fF=="low_ram"){}else{var x="Error. Please, send your file to support@photopea.com and we will solve it.";
if(bl.tt(g)=="eps")x="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(x,1e4)}}}};hR.ak0=function(o,g,C,a){var x;if(o.name){var K=o.name.lastIndexOf(".");x=K==-1?K:o.name.slice(0,K)}else{if(o.url.substring(0,5)=="data:"||o.url.indexOf("googleapis")!=-1)x="image";
else x=o.url.substring(o.url.lastIndexOf("/")+1).split(".")[0];x=x.slice(0,50)}var h=o.name?o.name:o.url,X=new Uint8Array(g),w=bl.tt(g),G=window.ga;
if(Math.random()<.25&&G&&w!=null&&bl.qC(w))G("send","event","Formats",w);if(w==null)w=u.M7(X,0,4);if(h&&h.toLowerCase().endsWith(".raw")){var R=new jO(D.E.X,!0);
R.data={C:D.t.gC,$j:"importraw",FP:g,vo:h.split("/").pop()};C.c(R);return}else if(w=="json"){var d="";
for(var N=0;N<X.length;N++)d+=String.fromCharCode(X[N]);d=decodeURIComponent(escape(d));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(d));return}if(w=="html"){var d=u.SP(X,0,X.length),q=new DOMParser,m=q.parseFromString(d,"text/html"),M=m.getElementsByTagName("meta");
for(var N=0;N<M.length;N++){var Z=M[N],Q=Z.getAttribute("property"),p=Z.getAttribute("content"),y=null;
if(Q=="og:image")y=p;if(Q==null&&p&&p.startsWith("0;url=/imgres?")){var V=p.slice(14).split("&");for(var W=0;
W<V.length;W++)if(V[W].startsWith("imgurl"))y=decodeURIComponent(V[W].slice(7))}if(y==null)continue;
var R=new jO(D.E.X,!0);R.data={C:D.t.S3,eA:{url:y,jG:!0,U8:o.U8}};C.c(R)}return}if(bl.qC(w)){var v,j,T=bl.qC(w);
if(o.U8!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(w)!=-1){var R=new jO(D.E.X,!0);R.data={C:D.t.L2,target:o.U8,fJ:o.pJ,db:g,uv:x};
C.c(R);return}var O=[x,T,w,o,C,a,g];if(T.dA){v=new aX(x+(w=="psd"?"":"-"+w)+".psd");T.gd(g,v,hR.VL,O)}else{j=T.gd(g,null,hR.VL,O,C)}if(T.p0!=!0)hR.VL(v,j,O);
else C.S6();return}var L=new jO(D.E.X,!0);L.data={C:D.t.xb,FP:g,QH:o.name};var S=o instanceof File&&o.acL!=!0,R=new jO(D.E.X,!0);
R.data={C:D.t.sM,GJ:"add",eA:null,dt:null,a94:o.acL};if(w=="zip"){var $=Date.now(),H=UZIP.parse(g),f="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var F in H){var U=!1;for(var N=0;N<f.length;N++)if(F.toLowerCase().endsWith("."+f[N]))U=!0;if(F.startsWith("__MACOSX/")||H[F].length==0)U=!0;
if(U)continue;var r=F.split("/").pop();hR.o$({name:r},H[F].buffer,C,a)}}else if(w=="jsx"||h&&h.toLowerCase().endsWith(".jsx")){var d=u.SP(new Uint8Array(g));
R.data={C:D.t.xv,Y3:d};C.c(R)}else if(w=="otf"){if(S)C.c(L);var E=Typr.parse(g);R.data.eA=e1.ye;for(var N=0;
N<E.length;N++){R.data.dt=E[N];C.c(R)}}else if(w=="asl"){if(S)C.c(L);var E=eH.kR(g);R.data.eA=e1.OF;
R.data.dt=E.aN;C.c(R);R.data.eA=e1.Ih;R.data.dt=E.NQ;C.c(R)}else if(w=="tpl"){if(S)C.c(L);var E=jF.kR(g);
R.data.eA=e1.Yc;R.data.dt={H7:E.H7,ys:E.ys,list:[]};C.c(R);if(E.a51.length!=0){R.data.eA=e1.EW;R.data.dt=E.a51;
C.c(R)}if(E.NQ.length!=0){R.data.eA=e1.Ih;R.data.dt=E.NQ;C.c(R)}R.data.eA=e1.pF;R.data.dt=E.list;C.c(R)}else{var k="";
for(var P in e1.ZG)if(e1.ZG[P][0]==w)k=P;if(k!=""){if(S)C.c(L);R.data.dt=e1.ZG[k][2].kR(g,h);R.data.eA=k;
C.c(R)}else alert("Unknown file format: "+JSON.stringify(w))}};hR.VL=function(o,g,C){var a=C[0],x=C[1],K=C[2],h=C[3],X=C[4],w=C[5],G=C[6];
if(x.p0)X.qF();if(!x.dA){if(g.length==0)return;if(g[0].t33421||g[0].t50706){l.raw.normalize(g[0],G);
console.log(g[0]);var R=new jO(D.E.X,!0);R.data={C:D.t.gC,$j:"rawpea",QS:g[0]};X.c(R);return}if(w){w(new Uint8Array(g[0].data),g[0].m_);
return}o=bl.ng(a,g)}o.OM=h.OM;o.fG=K;o.GJ=h.GJ;o.JD=h.url;o.ms=h.ms;o.Ur=h.Ur;o.lT=h.lT;o.n5=h.n5;if(o.Ur)o.Ur.WD=K;
if(o.g.length!=0){var R=new jO(D.E.X,!0);R.data={C:h.U8==null?D.t.Ds:D.t.L2,target:h.U8,fJ:h.pJ,db:o};
X.c(R)}};function cT(o){ar.call(this);this.UW=cT.UW++;this.Fc=o;this.acy=this.adx.bind(this);this.atA=this.afH.bind(this);
this.ahU=this.Um.bind(this);this.afX=this.an1.bind(this);this.a5G=this.ab_.bind(this);this.a5v=this.ab7.bind(this);
this.IN=0;this.auf=0;this.aaZ=0;this.e=B.f("div","panelblock");this.UZ=B.f("div","block");this.cF=B.f("div","collapsed");
this.e.appendChild(this.UZ);this.mt=-1;this.Cv=!0;this.pa=B.f("div","panelhead");this.UZ.appendChild(this.pa);
this.rV(this.pa);this.UY=new hs("\u2261");this.UY.e.setAttribute("style","position:absolute; right:0;");
this.UY.h("click",this.agH,this);this.TM=B.f("div","body");this.UZ.appendChild(this.TM);this._E=[];this.YQ=null;
this.mQ=null}cT.UW=0;cT.prototype=new ar;cT.prototype.agH=function(o){var g=this._E[this.mt].sv(),C=o.currentTarget.e.getBoundingClientRect();
g.Q();g.update();g.parent=this;var a=new jO(D.E.X,!0);a.data={C:D.t.Sd,u6:g,x:C.left,y:C.top+C.height+2};
this.c(a)};cT.prototype.xl=function(o){var g=this.UZ,C=this.pa,a=this.TM;if(B.Af(C))g.removeChild(C);
if(B.Af(a))g.removeChild(a);if(o==0)g.appendChild(C);g.appendChild(a);this.aaZ=o};cT.eI=function(o){o.stopPropagation();
o.preventDefault()};cT.prototype.adx=function(o){var g=o.dataTransfer.types;if(g[1]!=null&&g[1]!=this.UW+"")return;
cT.eI(o);var ee=o.currentTarget;if(o.target==ee)B.lK(ee,"highlight")};cT.prototype.afH=function(o){cT.eI(o);
var ee=o.currentTarget;if(o.target==ee)B.Qq(ee,"highlight")};cT.prototype.rV=function(o){o.addEventListener("dragenter",this.acy,!1);
o.addEventListener("dragleave",this.atA,!1);o.addEventListener("dragover",cT.eI,!1);o.addEventListener("drop",this.ahU,!1);
o.addEventListener("dragstart",function(g){g.dataTransfer.setData("Text","--panel");g.dataTransfer.setData(this.UW+"","")}.bind(this),!1)};
cT.prototype.Um=function(o){this.atA(o);var g=null,ee=o.currentTarget,C=this.ax3(ee);if(ee==this.TM&&this.mt!=-1)g=this.mt;
else if(ee==this.pa)g=null;else if(C!=-1)g=C;var a=o.dataTransfer.getData("Text");if(a==""||a.startsWith("http"))B.Mt(o,this,g);
else if(a=="--panel"){var x=B.Iw(o,ee),K=this._E,h=K.slice(0),N=this.mt,X=C==-1?K.length:x.x<ee.getBoundingClientRect().width/2?C:C+1;
if(N==X||N+1==X||ee==this.TM)return;var w=N<X?X-1:X,G=K[N];K.splice(N,1);K.splice(w,0,G);B.KZ(this.pa);
for(var R=0;R<K.length;R++)this.pa.appendChild(K[R].M2);this.gq(w);var d=[];for(var N=0;N<K.length;N++)d[N]=h.indexOf(K[N]);
var q=new jO("shuffleItems",!1);q.data={aqU:d};this.c(q)}else if(g!=null&&this instanceof gd){var q=new jO(D.E.X,!0);
q.data={C:D.t.a6Z,afq:g};this.c(q)}};cT.prototype.K6=function(){return null};cT.prototype.arM=function(){if(this.K6()){this.pa.style.padding="0px";
this.mQ=this.K6();this.TM.appendChild(this.mQ);this.bs.ZB(!1);var o=new jO(D.E.X,!0);o.data={C:D.t.rj,k:1};
this.c(o)}};cT.prototype.arX=function(){if(this.mQ){this.pa.style.padding="";this.TM.removeChild(this.mQ);
this.mQ=null;this.bs.ZB(!0);var o=new jO(D.E.X,!0);o.data={C:D.t.rj,k:0};this.c(o)}};cT.prototype.ax3=function(o){var g=this._E;
for(var N=0;N<g.length;N++)if(g[N].M2==o)return N;return-1};cT.prototype.OJ=function(){for(var N=0;N<this._E.length;
N++)this._E[N].IG.Qd()};cT.prototype.Ff=function(){return this.mt};cT.prototype.ja=function(){if(this.Cv)return;
this.Cv=!0;this.e.removeChild(this.cF);this.e.appendChild(this.UZ)};cT.prototype.collapse=function(){if(!this.Cv)return;
this.Cv=!1;this.e.appendChild(this.cF);this.e.removeChild(this.UZ)};cT.prototype.a5s=function(){return 28+this.TM.getBoundingClientRect().height};
cT.prototype.z3=function(o,g){this.pa.style.maxWidth=o+"px";var C=0;if(this.aaZ==0){C=this.pa.getBoundingClientRect().height;
C=Math.max(C,28)}if(this.mt!=-1)this._E[this.mt].z3(o,g-C);return g-C};cT.prototype.Xt=function(o,g){if(this.mt!=-1)this._E[this.mt].Xt(o,g)};
cT.prototype.Tk=function(o,g,C){this._E[this.mt].Tk(o,g,C)};cT.prototype.a1=function(o){this.arX();if(this._E.indexOf(o)!=-1){this.gq(this._E.indexOf(o));
return}o.parent=this;this._E.push(o);this.pa.appendChild(o.M2);o.M2.addEventListener("mouseover",this.afX,!1);
this.rV(o.M2);this.cF.appendChild(o.IG.e);o.IG.h("click",this.amQ,this);o.h("select",this.apO,this);
o.h(D.E.mT,this.auI,this);this.gq(this._E.length-1)};cT.prototype.an1=function(o){if(o.buttons==0)return;
var g=o.currentTarget,C=g,N=0;while((C=C.previousSibling)!=null)N++;this.auf=N;g.addEventListener("mouseout",this.a5G,!1);
this.IN=setTimeout(this.a5v,700)};cT.prototype.ab_=function(o){var g=o.currentTarget,C=g,N=0;while((C=C.previousSibling)!=null)N++;
g.removeEventListener("mouseout",this.a5G);clearTimeout(this.IN)};cT.prototype.ab7=function(o){this.c(new jO(D.E.a3S,!1))};
cT.prototype.ad8=function(o){return this.auf};cT.prototype.YY=function(N){var o=new jO(D.E.mT,!1);o.data={H5:N};
this.c(o);var g=this._E[N];this._E.splice(N,1);this.pa.removeChild(g.M2);this.cF.removeChild(g.IG.e);
g.M2.setAttribute("class","");g.IG.removeEventListener("click",this.amQ,this);g.IG.Qd();g.removeEventListener("activate",this.apO);
g.removeEventListener(D.E.mT,this.auI);var C=this.mt;if(N<C)C--;else if(N==C&&N==this._E.length)C--;
this.gq(C);if(this._E.length==0)this.arM()};cT.prototype.a6O=function(){return this._E.length};cT.prototype._Q=function(){if(this._E.length!=0)this._E[this.mt]._Q()};
cT.prototype.gq=function(o,g){if(g==null)g=!0;for(var N=0;N<this._E.length;N++)this._E[N].M2.setAttribute("class","");
if(this.YQ)this.TM.removeChild(this.YQ);this.YQ=null;this.mt=o;if(o==-1)return;var C=this._E[this.mt];
this.YQ=C.bo;this.TM.appendChild(C.bo);C.M2.setAttribute("class","active");if(!this.Cv){this.c(new jO("showFloat"));
this._E[o].IG.nU()}if(g)this.c(new jO(D.E.p,!1));C.Pi();var a=this.UY.e;if(a.parentNode)this.pa.removeChild(a);
if(C.sv())this.pa.appendChild(a);var x=new jO(D.E.X,!0);x.data={C:D.t.Nh};this.c(x)};cT.prototype.apO=function(o){if(this.Fc&&!this.Fc.aty())return;
var N=this._E.indexOf(o.currentTarget);this.gq(N)};cT.prototype.auI=function(o){if(this.Fc&&!this.Fc.aty())return;
var N=this._E.indexOf(o.currentTarget);this.YY(N)};cT.prototype.amQ=function(o){var g=this._E.indexOf(o.currentTarget.parent);
if(this._E[g].IG.kW())this.c(new jO("hideFloat"));else this.gq(g)};cT.prototype.awT=function(o){this.c(o)};
function gd(o){cT.call(this,o);this.MI=0;this.fB=0;B.aw(this.pa,this.acK.bind(this));this.pN=0;this.ao8=this.aeg.bind(this);
this.rV(this.TM);this.PE=["default;"];this.bs=new B.X8(this.TM);this.NB=new h8(!0);this.NB.parent=this;
this.Ob=this.NB.e;h8.Gz(this.NB)}gd.prototype=new cT;gd.prototype.acK=function(o){if(o.target!=this.pa)return;
var g=this.pN;this.pN=Date.now();if(Date.now()-g>300)return;var C=new jO(D.E.X,!0);C.data={C:D.t.gC,$j:"newproject"};
this.c(C)};gd.prototype.jv=function(o,g){if(g)this.PE.push(o);else{var C=this.PE.length-1;if(this.PE[C]==o)return;
this.PE[C]=o}this.Xc()};gd.prototype.apF=function(){this.PE.pop();this.Xc()};gd.prototype.Xc=function(){var o=this.PE[this.PE.length-1];
this.bs.Tk(o,this.IB)};gd.prototype.Xt=function(o,g){cT.prototype.Xt.call(this,o,g);this.NB.Xt(o,g);
if(!o.hp){}};gd.prototype.Q=function(){cT.prototype.Q.call(this);this.NB.Q()};gd.prototype.Tk=function(o,g){for(var N=0;
N<g.length;N++){var C=g[N];this._E[N].LO(C.name+(C.ZN()?" *":""))}cT.prototype.Tk.call(this,o,g)};gd.prototype.K6=function(){return this.Ob};
gd.prototype.z3=function(o,g){if(this._E.length==0)g+=28;g-=2;this.MI=o;this.fB=g;g=cT.prototype.z3.call(this,o,g);
this.IB="height:"+g+"px; width:"+o+"px; overflow:hidden; position:relative;";this.Xc();this.NB.z3(o,g)};
gd.prototype.a1=function(o){cT.prototype.a1.call(this,o);o.M2.addEventListener("click",this.ao8,!1)};
gd.prototype.YY=function(N){var o=this._E[N];B.lZ(o.M2,this.ao8);cT.prototype.YY.call(this,N)};gd.prototype.aeg=function(o){var g=this.pN;
this.pN=Date.now();if(Date.now()-g>300)return;var C=this.ax3(o.currentTarget),a=this._E[C].db.name,x=new jO(D.E.X,!0),K={W:D.E.q,F:c.qd,P:{C:A.aD}};
x.data={C:D.t.gC,$j:"namewindow",zT:a.slice(0,a.length-4),Tl:K};this.c(x)};function jv(o){ar.call(this);
if(o)return;ka.a2G(1);this.e=B.f("div","flexrow app");this.PA=B.f("div");this.e.appendChild(this.PA);
setTimeout(function(){var C=window.hideCap;if(C)C()},25e3);this.SE=new c_;window.addEventListener("blur",function(C){this.SE.reset()}.bind(this),!1);
window.addEventListener("resize",this.rg.bind(this),!1);var g=this.PA;this.u0=new he;this.u0.parent=this;
g.appendChild(this.u0.e);this.Vp=new eM;this.Vp.parent=this;g.appendChild(this.Vp.e);this._B=new ak(!0);
this._B.parent=this;g.appendChild(this._B.e);this.h(D.E.X,this.Js,this);this.f3=this.gh.bind(this);window.requestAnimationFrame(this.f3)}jv.prototype=new ar;
jv.prototype.gh=function(o){this.qD();window.requestAnimationFrame(this.f3)};jv.prototype.Q=function(){};
jv.prototype.rg=function(o){var g=window.innerWidth,C=window.innerHeight;this.z3(g,C)};jv.prototype.z3=function(o,g){this.Vp.z3(o,g);
this.u0.z3(o,g)};jv.prototype.Js=function(o){var g=o.data.C;if(g==D.t.Sd)this.Vp.a8B(o.data);if(g==D.t.rz)this.Vp.asp(o.data);
if(g==D.t.a9)this.Vp.akq(o.data.eG);if(g==D.t.y7)this.Vp.ast(o.data.eG);if(g==D.t.hI)this.Vp.us()};function jI(){jv.call(this);
this.Rl={x:0,y:0,H3:!1};this.kP=!1;this.jg=!1;this.AE=null;this.avc=0;this.a1A=!1;this.h$=0;window.onmessage=function(Q){if(Storage.anC(Q.source))return;
if(Q.data instanceof ArrayBuffer){var p=bl.tt(Q.data),y=bl.qC(p);c4.o$({url:"file"},Q.data,this);if(y==null)this.P5()}else if(Q.data instanceof Object||Q.data.startsWith("{")||Q.data.startsWith("amp-")||Q.data.startsWith("0=goog")||Q.data.startsWith("3PCoo")){}else if(Q.data.startsWith("--ot ")){this.u0.JW().close();
this.UI.Of(Q.data.split(" ").pop(),!0)}else if(Q.data.startsWith("--et ")){}else{var V=new jO(D.E.X,!0);
V.data={C:D.t.xv,Y3:Q.data};this.c(V);this.P5()}}.bind(this);window.onunload=window.onbeforeunload=function(Q){for(var N=0;
N<this.h3.length;N++)if(this.h3[N].ZN())return this.h3[N].name}.bind(this);window.setInterval(function(){var Q=this.$t();
if(Q==null)return;var p=(Date.now()-Q.KL)/6e4;if(this.UN.Vv==1&&Q.za!=Q.my&&p>60){var y="You haven't saved your work ("+Q.name+") for "+Math.round(p)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",V=new jO(D.E.X);
V.data={C:D.t.gC,$j:"confirm"};V.data.k=y;V.data.op=function(){var V=new jO(D.E.X);V.data={C:D.t.Yg};
this.c(V)}.bind(this);this.c(V)}}.bind(this),30*60*1e3);var o=this,X="",w="";if(window.indexedDB&&(!c1.P3()||document.hasStorageAccess==null)){var g={TB:window.indexedDB.open("pp",1)};
g.TB.onupgradeneeded=function(Q){var p=Q.target.result,y=p.createObjectStore("rsrc",{keyPath:"k"})};
g.TB.onsuccess=function(Q){var p=o.UN.DG.B5=Q.target.result,y=p.transaction(["rsrc"],"readwrite").objectStore("rsrc"),V=y.get("fs0");
V.onsuccess=function(Q){if(Q.target.result){var W=o.UN.DG.nV=Q.target.result.fset;for(var v in W){if(!v.endsWith(".jsx"))c4.o$({url:v,acL:!0},W[v],o)}}}}}var C=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],a=B.JM[is.W6][is.rN];
for(var N=0;N<C.length;N++){var x=B.y4(C[N]);if(a.indexOf(x)!=-1){var K=B.JM[is.W6][is.TM],h=B.y4("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
B.KZ(K);K[is.abt]=h;return}}this.Y={a52:[{F:c.SL,Gp:!1,Cb:[c_.a3p,c_.NN]},{F:c.rT,Gp:!1,Cb:[c_.NN]},{F:c.i7,Gp:!0,Cb:[c_.Ns],Dl:[c.hh]},{F:c.hh,Gp:!0,Cb:[c_.Ns],Dl:[c.i7]},{F:c.iM,Gp:!0,Cb:[c_.Ns],Dl:[c.zL,c.x1,c.Hf]},{F:c.zL,Gp:!0,Cb:[c_.Ns],Dl:[c.iM,c.FA,c.Gh,c.Ie,c.yu,c.Et]},{F:c.zO,Gp:!0,Cb:[c_.Ns]}],uG:[[{F:new c.YV,MZ:ir},{F:new c.fh,MZ:jx}],[{F:new c.l$,MZ:eo},{F:new c.zD,MZ:aE}],[{F:new c.CJ,MZ:br},{F:new c.JU,MZ:c0},{F:new c.Lo,MZ:bC}],[{F:new c.hm,MZ:da},{F:new c.yj,MZ:em},{F:new c.KR,MZ:bk}],[{F:new c.ajP,MZ:cy},{F:new c.a1Q,MZ:fv},{F:new c.ho,MZ:k8},{F:new c.jC,MZ:bZ}],[{F:new c.aG,MZ:bS},{F:new c.ub,MZ:ce}],[{F:new c.Ij,MZ:az},{F:new c.RK,MZ:dm},{F:new c.wy,MZ:ef},{F:new c.adT,MZ:ie},{F:new c.ru,MZ:jY}],[{F:new c.Dr,MZ:fz},{F:new c.mN,MZ:g6},{F:new c.Rg,MZ:dU}],[{F:new c.fy,MZ:b3}],[{F:new c.Oe,MZ:at},{F:new c.So,MZ:hH}],[{F:new c.Wt,MZ:f$},{F:new c.XG,MZ:iC}],[{F:new c.RE,MZ:eJ},{F:new c.Y7,MZ:cj},{F:new c.Dj,MZ:al}],[{F:new c.Wb,MZ:dk},{F:new c.d7,MZ:c$},{F:new c.qY,MZ:cg}],[{F:new c.me,MZ:bL},{F:new c.avZ,MZ:bL}],[{F:new c._U(0),MZ:ch},{F:new c.vN,MZ:el},{F:new c._U(1),MZ:ch}],[{F:new c.tb,MZ:hr},{F:new c.Vt,MZ:gy}],[{F:new c.Rect,MZ:jM},{F:new c.Hy,MZ:dD},{F:new c.e8,MZ:eB},{F:new c.r1,MZ:eI},{F:new c.MO,MZ:eu}],[{F:new c.DI,MZ:be},{F:new c.Ho,MZ:gb}],[{F:new c.yd,MZ:dA}]],mJ:[],keys:[c_.oy,c_.AL,c_.pY,c_.HU,c_.sp,c_.zp,c_.k9,c_.A_,c_.$z,c_.E,c_.tZ,null,c_.tH,c_.ND,c_.S2,c_.t,c_.Tu,c_.Oo,c_.f0],OB:[{F:new c.aaA,MZ:g2},{F:new c.a6w,MZ:eg},{F:new c.aij,MZ:fY},{F:new c.aG(!0),MZ:bS},{F:new c.Fl,MZ:i6}],uE:[{F:new c.Nk},{F:new c.History},{F:new c.R1},{F:new c.n2},{F:new c.i$},{F:new c.z1}],map:{},OO:null,wH:null,no:null};
for(var N=0;N<this.Y.uG.length;N++){var G=this.Y.uG[N];if(G=="---")continue;var R=this.Y.keys[N];for(var d=0;
d<G.length;d++){this.Y.map[G[d].F.id]=G[d];G[d].yJ=N;G[d].axm=d;var q=fF.get(G[d].F.name);w+="<li>"+G[d].F.id+": "+q+"</li>";
X+="\t"+JSON.stringify(G[d].F.name)+", "+(R?"\""+R.HJ+"\"":"null")+", "+G[d].F.id+", // "+q+"\n"}this.Y.mJ[N]=0}for(var N=0;
N<this.Y.OB.length;N++)this.Y.map[this.Y.OB[N].F.id]=this.Y.OB[N];for(var N=0;N<this.Y.uE.length;N++)this.Y.map[this.Y.uE[N].F.id]=this.Y.uE[N];
this.UN={a9F:!1,MR:null,dS:0,v1:{ys:[],H7:[],list:[],WE:null},c3:[],a4t:[],mh:[],Dk:[],XA:[],awy:[],aeq:[],a2_:[],lz:[dK.l3()],E7:[],Cs:[],cJ:null,nj:0,le:{mf:1,NL:JSON.parse(JSON.stringify(hf.vq[0]))},nf:JSON.parse(JSON.stringify(hf.ly.default)),a6K:[null].concat(hf.vq),adS:[null].concat(hf.vq),zM:new jh(function(Q){var p=new jO(D.E.X,!0);
p.data={C:D.t.S3,eA:{url:"rsrc/fonts/"+Q}};this.c(p)}.bind(this)),iq:{pv:[],Fn:null,Yt:null},font:null,QF:[],L$:16711680,KT:0,rl:!1,Ha:!0,M8:{Pa:!0,at:!1,Zi:!0,eJ:!0,Pc:!0,Ng:!0,YG:20,ts:0,nu:0,oK:0},rK:!0,XX:[!0,!0,!1,!0,!0],pl:[0,1,2,3,5,6,7,9,10,16,17,100],A7:1,lA:!0,zN:{},hp:!0,afz:!1,compact:!1,Vv:1,Ob:!0,yo:null,DG:{asC:!1,aev:!1,nV:{},B5:null},axQ:0,amq:null,Xz:null,a2J:null,G$:null};
this.adK={Cn:new aS,tC:new eN};this.UN.iq=bv.a1M();this.K1=new hU;this.KW=new ds;this.md=new iK(this.Y,!0);
this.E9=new hw;this.DC=new gd(this);this.tp=B.f("div");this.Ae=!1;this.p2=this.avY.bind(this);B.lK(this.DC.e,"mainblock");
this._B.parent=this.K1.parent=this.KW.parent=this.md.parent=this.E9.parent=this.DC.parent=this;this.DC.h(D.E.p,this.J$,this);
this.DC.h(D.E.mT,this.a0X,this);this.DC.h("shuffleItems",this.amW,this);this.DC.h(D.E.a3S,this.auc,this);
this.h("mouse",this.ab1,this);this.h(D.E.q,this.i2,this);this.h(D.E._h,this.aay,this);document.body.addEventListener("keydown",this.c5.bind(this),!1);
window.addEventListener("keyup",this.i9.bind(this),!1);window.addEventListener("paste",this.a6I.bind(this),!1);
window.addEventListener("copy",this.aoY.bind(this),!1);window.addEventListener("wheel",function(Q){if(Q.ctrlKey)Q.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(Q){if(window.innerWidth>400)Q.preventDefault();
this.UN.yo=Q}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(Q){if(Q.aq$){console.log("Service worker installing")}else if(Q.a6z){console.log("Service worker installed")}else if(Q.active){console.log("Service worker active")}}).catch(function(Q){console.log("Registration failed with "+Q)})}this.$k=0;
this.h3=[];this.UI=new c4(hR.o$);this.UI.parent=this;var m=this.PA,M=this.wj=B.f("div");M.appendChild(this.K1.e);
M.appendChild(this.KW.e);this._B.aue(M);var Z=this.a9U=B.f("div","flexrow");m.appendChild(Z);Z.appendChild(this.md.e);
Z.appendChild(this.DC.e);Z.appendChild(this.E9.e);this.UI.oj({url:"rsrc/basic/basic.zip"});this.F$(c.zO);
d$.m3(this.aek.bind(this))}jI.prototype=new jv(!0);jI.prototype.P5=function(o){var g=new jO(D.E.X);g.data={C:D.t.m$,eA:o?o:"done"};
this.c(g)};jI.prototype.aek=function(){B.JM[is.Xa](this.alU.bind(this),Math.pow(Math.PI,8)+B.JM[is.atP][is.amT]()*1e4);
var o=d$.kt();if(o!=null&&o.globals!=null)this.Z9(o.globals);else{this.a1A=!0;var g=navigator.languages;
if(g&&g.length!=0){var C=g[0];fF.oP(C,this.p2)}}if(!this.qw()){var a=B.a3s();if(a==0)this.afz=!0;if(a==2)this.UN.hp=!1;
if(a!=1&&Math.random()<.002)B.abF()}if(!c1.P3()||!this.UN.hp){this.a7_();this.rw()}else{var x=B.rn(B.JM[is.VX]);
x[is.ct](is.VV,this.a7Y.bind(this));x[is.mW](B.KK("61="),B.KK("_MYOqDLGJa;A:6"));x[is.HS]()}this.kP=!0;
this.P5()};jI.prototype.a7Y=function(o){var g=JSON.parse(o.target[is.D1]),C=B.JM[is.jV][is.afG]()/1e3,a=B.JM[is.W6][is.rN],x=!1;
for(var K in g)if(K.indexOf(".")!=-1&&a.indexOf(K)!=-1&&parseInt(g[K])>C)x=!0;if(x)this.UN.hp=!1;this.a7_();
this.rw()};jI.prototype.rw=function(o){this.jg=!0;if(!this.UN.Ob)this.DC.Ob=null;else if(this.h3.length==0)this.DC.arM();
this.Vx(e1.B3);this.Q();this.rg();this.E9.Tk(this.$t(),this.h3,this.UN)};jI.prototype.Z9=function(o){var g=this.UN;
if(o.fcolor!=null)g.L$=o.fcolor;if(o.bcolor!=null)g.KT=o.bcolor;if(o.rulers!=null)g.rl=o.rulers;if(o.extras!=null)g.Ha=o.extras;
if(o.favFam!=null)g.QF=o.favFam;if(o.font!=null)g.iq.pv[0].Name=o.font;if(o.panels!=null)g.pl=o.panels;
if(o.as!=null)g.Vv=o.as;if(o.eparams){var C=o.eparams,a=g.M8;if(C.guides!=null)a.Pa=C.guides;if(C.grid!=null)a.at=C.grid;
if(C.gsize!=null)a.YG=C.gsize;if(C.gunits!=null)a.ts=C.gunits;if(C.gtype!=null)a.nu=C.gtype;if(C.runits!=null)a.oK=C.runits;
if(C.sels!=null)a.Zi=C.sels;if(C.paths!=null)a.eJ=C.paths;if(C.pgrid!=null)a.Pc=C.pgrid;if(C.slices!=null)a.Ng=C.slices}if(o.lang!=null)fF.oP(o.lang,this.p2);
if(o.theme!=null)g.A7=o.theme;if(o.topt||g.LP){var x=o.topt?o.topt:{},K=g.LP?g.LP:{};for(var h in this.Y.map){if(h>=100)continue;
var X="t"+h;if(x[X]||K[X])this.Y.map[h].F._M(x[X],K[X],this)}}};jI.prototype.a7_=function(){if(this.UN.a9F)return;
this.UN.a9F=!0;var o=null,g=window.location.href,C=g.indexOf("="),a=g.indexOf("#");if(C!=-1)o=g.substring(g.indexOf("?")+1,C);
if(a!=-1&&a!=g.length-1){o="p";C=a}if(a!=-1&&g[a+1]=="i"){this.UI.Of(g.slice(a+2))}else if(a!=-1&&g[a+1]=="t"){this.UI.Of(g.slice(a+2).split("").reverse().join(""),!0)}else if(o=="p"||o=="state"){var x=g.substring(C+1,g.length);
x=JSON.parse(decodeURI(x));if(o=="p"){if(x.script)bM.ah5(this);if(x.server)this.AE=x.server;if(x.resources)for(var N=0;
N<x.resources.length;N++)this.UI.oj({url:x.resources[N]});if(x.files)for(var N=0;N<x.files.length;N++)this.UI.oj({url:x.files[N],GJ:{Wv:x.server,a1r:x.script}});
var K=x.environment;if(K==null)K={};if(K.plugins!=null)this.E9.a2b(K.plugins);if(K.localsave!=null)this.UN.lA=K.localsave;
if(K.customIO!=null)this.UN.zN=K.customIO;if(K.vmode!=null){var h=K.vmode;if(h==1)this.UN.compact=!0;
if(h==2)this.xl(1)}if(K.intro!=null)this.UN.Ob=K.intro;if(K.menus!=null)this.UN.a2t=K.menus;if(K.tmnu!=null)this.UN.LP=K.tmnu;
if(K.panels!=null)this.UN.pl=K.panels;if(K.showtools!=null){var X=K.showtools,w=X.indexOf(this.UN.MR);
this.UN.cq=X;if(w==-1)this.F$(X[0])}if(K.phrases!=null)fF.amt(K.phrases);if(K.autosave!=null){this.UN.Vv=0;
window.setInterval(function(){var d=new jO(D.E.X);d.data={C:D.t.Yg};this.c(d)}.bind(this),K.autosave*1e3)}if(K.icons!=null){for(var G in K.icons)if(K.icons[G].indexOf("\"")==-1){if((G==is.a2S||G==is.a1a)&&this.UN.hp)continue;
PIMG[G]=K.icons[G];PIMG["__"+G]=!0}}this.Z9(K);if(x.files==null&&x.script){d4.ZF(x.script,this);this.P5()}}else if(o=="state"){var R=this.UI;
if(x.action=="create"){var d=new jO(D.E.X);d.data={C:D.t.gC,$j:"newproject",a0w:x.folderId};this.c(d)}if(x.action=="open"){for(var N=0;
N<x.ids.length;N++)dq.fk(function(){var m="https://www.googleapis.com/drive/v3/files/"+this.acn,M=new XMLHttpRequest;
M.open("GET",m);M.setRequestHeader("Authorization",dq.fX());M.send();M.onload=function(Z){var Q=JSON.parse(Z.target.response);
R.oj({url:m+"?alt=media",name:Q.name,Ur:{file:Q,WD:""},dM:{Authorization:dq.fX()}})}}.bind({acn:x.ids[N]}));
alert("Loading files from Google Drive ...")}}}else{var q=window.launchQueue;if(q){var R=this.UI;q.setConsumer(function(m){var M=m.files;
console.log(M);for(var N=0;N<M.length;N++){var Z=M[N];Z.getFile().then(function(Q){R.J_([Q],null,null,null,[Z])})}})}}};
jI.prototype.Q=function(){var o=document.getElementById("cap"),g=window.innerWidth<500;if(o){var C=o.getElementsByTagName("h1")[0],K=0,X=0,w=0;
C.textContent=g?"Photopea":fF.get([0,17,0]);var a=o.getElementsByTagName("p"),x=B.Ko(fF.get([0,17,1])),h=["PSD","XCF","Sketch","XD","CDR"];
for(var N=0;N<h.length;N++)x=x.replace(h[N],"<b>"+h[N]+"</b>");if(!g)x+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
a[0].innerHTML=x;x=fF.get([0,17,2])+" "+fF.get([0,17,3]);for(var N=0;N<x.length;N++){var G=x[N];if(G=="<")X++;
if(G==">")w++}if(!g&&X*w==9){var R=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var N=0;N<3;N++){var d=x.indexOf("<",K),q=x.indexOf(">",K),m=x.slice(0,d)+"<a href=\""+R[N]+"\" target=\"_blank\">"+x.slice(d+1,q)+"</a>";
K=m.length;x=m+x.slice(q+1)}a[1].innerHTML=x}else a[1].innerHTML=fF.get([0,17,2])}var M=document.getElementById("sponsors");
if(M)M.textContent=fF.get([0,17,4]);this._B.Q();this.K1.Q();this.E9.Q();this.md.Q();this.u0.Q();this.DC.Q();
for(var Z in this.Y.map)if(this.Y.map[Z].fz)this.Y.map[Z].fz.Q()};jI.prototype.qw=function(){return B.JM[is.qf][is.fZ].indexOf("8887")!=-1};
jI.prototype.z3=function(o,g){o=Math.floor(o);g=Math.floor(g);var C=B.KK("WUMK&AM"),a=is.J1,x=B.JM[is.W6],K=Math.max(o,window.screen.width),h=Math.max(g,window.screen.height),R=0;
if(this.JQ==null)this.JQ=Math.min(K,h)<500||K<750?0:K<1600?1:2;var X=this.JQ,w=!this.jg||this.qw()||!this.UN.hp||d$.Cr()||X==0;
if(!w&&c1.P3()){if(this.awC==null)this.awC=Math.random()<.5;w=this.awC}if(w){if(X!=0&&B.JM[C]&&this.jg)B.JM[C]()}else{if(X==0)g-=60;
else o-=X==1?180:320}jv.prototype.z3.call(this,o,g);if(w&&this.Ae){this.e[is.zc](this.tp);B.KZ(this.tp);
this.Ae=!1}if(!w&&!this.Ae){var G=function(m){if(Math.random()<.002){d$.event(c1.r8()?"gota_0":"gota_1")}this.a7d(o,g);
var M=X==0?x[is.TM]:this.e;M.appendChild(this.tp);this.tp[is.HO](a,B.KK("_MMJLNDfKCAg")+(X==0?10:10)+B.KK("_d$ebOS?I:==Ba-+# }$M"));
this.tp[a][B.KK("_MMJLND&<:E")]=(X==0?0:19)+B.KK("_d");this.tp[a][B.KK("i5WJHX")]=X==0?0:1}.bind(this);
c1.ae8(G);this.Ae=!0}if(B.Af(this.K1.e))R+=31;if(B.Af(this.KW.e))R+=32;this._B.agQ=this.UN.hp&&this.jg;
this._B.z3(o,R);var d=g-R,q=B.KK("_d");this.tp[a][is.a0H]=(X==0?100>>>1:g-11)+q;this.tp[a][is.aJ]=(X==0?o:6*Math.pow(10,2))+q;
this.md.z3(o,d);this.E9.z3(o,d);this.DC.z3(o-this.md.G5()-this.E9.G5(),d)};jI.prototype.a7d=function(o,g){var C=function(){var a=new jO(D.E.X);
a.data={C:D.t.gC,$j:"account"};this.c(a)}.bind(this);c1.auD(o,g,this.tp,C,this.JQ)};jI.prototype.aoY=function(o){console.log("systemCopy")};
jI.prototype.a6I=function(o){if(B.yf())return;console.log("systemPaste");if(!o.clipboardData)return;
var g=o.target.tagName.toLowerCase(),C=o.clipboardData.items;if(C==null)return;var a=this.aqT.bind(this);
for(var N=0;N<C.length;N++){var x=C[N],K=x.getAsFile();if(x.type.indexOf("text")!=-1){x.getAsString(this.a6S.bind(this))}if(x.type.indexOf("image")!=-1){if(K.size==this.UN.axQ)return;
this.UN.axQ=K.size;if(K){K.name="image.png";this.UI.J_([K],a)}}}};jI.prototype.a6S=function(o){if(o.startsWith("http")){if(o==this.UN.a9j)return;
this.UN.a9j=o;var g=new jO(D.E.X,!0);g.data={C:D.t.S3,eA:{url:o,jG:!0}};this.c(g)}};jI.prototype.aqT=function(o,g){var C={buffer:o,rect:g},a=this.UN;
if(B.yf()){var x=this.adK,K=x.Cn;if(K.m==g.m&&K.n==g.n){C.rect=K;C.tC=x.tC}}else{if(a.Xz){var h=new jO(D.E.q,!0);
h.F=c.DY;h.data={C:"h_stepbck"};this.c(h)}}a.Xz=C;var h=new jO(D.E.X,!0);h.data={C:D.t.wG,ae3:!0};this.c(h)};
jI.prototype.anJ=function(){if(this.u0.JW()!=null)alert(fF.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
jI.prototype.i2=function(o){var g=this.$t();if(g==null){alert(fF.get([15,7,7]));return}var C=o.F==c.rT||o.F==c.SL;
if(this.u0.rJ()&&o.on!=!0&&!C){this.anJ();return}var a=this.Y,x=this.UN.MR,K=o.F;if(K==c.rv&&x==c.v7)K=c.v7;
if(x!=K&&a.map[x].F.rJ()&&!C&&!(x==c.zQ&&K==c.C3)){console.log("disabling",x);a.map[x].F.disable(g,this,this.UN,this.SE)}var h=this.Y.map[K].F;
h.i2(o.data,this,g,this.SE,this.UN)};jI.prototype.aay=function(o){var g=this.UN;if(o.data.zu!=!0)kn.a5I({j7:o.data.j7,FS:o.data.FS},this,g,this.$t());
var C=g.cJ,a=g.Cs;if(C==null)return;var x={a7R:!1,Pf:"Step",ao1:0,N:!0,exp:!1,j7:o.data.j7};if(C[2]==null)C[2]=a[C[0]].B9[C[1]].B9.length-1;
if(o.data.FS)x.FS=o.data.FS;a[C[0]].B9[C[1]].B9.splice(C[2]+1,0,x);C[2]++;this.Vx(e1.q)};jI.prototype.Js=function(o){if(this.afz){o.data=0;
return o.type}jv.prototype.Js.call(this,o);var g=o.data.C;if(g==D.t.Q7)kn.anG(this.$t(),this.UN.Cs,o.data.d2[0],o.data.d2[1],this);
if(g==D.t.a6Z){this.a4F(o.data.afq)}if(g==D.t.ato){this.Q();this.rg()}if(g==D.t.Nh)this.rg();if(g==D.t.adw)if(this.UN.yo){this.UN.yo.prompt();
this.UN.yo=null}if(g==D.t._N)this.DC.jv(o.data.Hz,o.data.push);if(g==D.t.au9)this.DC.apF();if(g==D.t.a2z)this.J$(null,o.data.dir);
if(g==D.t.kX)this.DC.YY(this.h3.indexOf(o.data.bf));if(g==D.t.rj){if(o.data.wS&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(o.data.k!=null)this.xl(o.data.k)}if(g==D.t.anA){if(o.data.H3)this.SE._K(o.data.a6c);
else this.SE.FN(o.data.a6c);this.Uh(o.data.H3?"down":"up")}if(g==D.t._x){var C=this.$t(),a=C.cf().slice(0),x=C.g[C.A[0]],K=new aS(0,0,C.m,C.n),h=aX.PJ()+"-d71c-11e5-b1ae-a548a96e5f9f",X=new jO(D.E.X,!0);
if(o.data.eA==0){var w={name:C.name.split(".")[0],id:h,Bd:[a,K]};X.data={C:D.t.sM,GJ:"add",eA:e1.OF,dt:[w]};
this.c(X)}if(o.data.eA==1){var G=l.Z(K.$()*4);l.th(G,4294967295);l.j.Ly("norm",a,K,G,K,K,1);var R=l.Z(K.$());
l.cr(G,R);l.rq(R);var d=l.Wx(R,K);if(d.to())d=K;var q=l.Z(d.$());l.MD(R,K,q,d);var m=l.Z(d.$()*4);l.Oa(q,m,3);
var M={Cn:d,id:h,Bd:[m,d]},Z=e5.pf(h),Q=Z.Brsh.v;Q.Dmtr.v.val=d.m;Q.Spcn.v.val=10;X.data={C:D.t.sM,GJ:"add",eA:e1.Yc,dt:{list:[{t:"Objc",v:Z}],H7:[M],ys:[]}};
this.c(X);X.data={C:D.t.sM,eA:e1.OL,qn:Z};this.c(X)}if(o.data.eA==2){var p=C.DE(),y=p[0][p[1][0]],V={Zb:x.getName(),q5:h,i:y.add.vmsk.clone().i},W=l.M.se(V.i),v=new kp(W.m,0,0,W.n,W.x,W.y);
v.rq();l.M.Jg(V.i,v);W.x=W.y=0;V.oD=W.clone();X.data={C:D.t.sM,GJ:"add",eA:e1.EW,dt:[V]};this.c(X)}}if(g==D.t.S3)this.UI.oj(o.data.eA);
if(g==D.t.tf){var j=o.data.av8;if(j!=!0&&this.ZW("open"))return;this.UI.axO(j?this.DC.Ff():null,o.data.a9L)}if(g==D.t.qa){var T=o.data.acX,O=o.data.Wn,L=this.MX(T);
if(O){var S=T==e1.Yc,$=[];for(var N=0;N<O.length;N++)$.push((S?L.list:L)[O[N]]);L=S?{ys:L.ys,H7:L.H7,list:$}:$}if(T==e1.Ih){var K=new aX;
for(var N=0;N<L.length;N++){var H=L[N].ex.Lefx;if(H)bd.a2E(H,K,this.UN.XA)}L={aN:K.add.Patt?K.add.Patt:[],NQ:L}}if(T==e1.pF){var f=this.UN.v1;
L={H7:[],ys:[],list:L};console.log(L)}if(T==e1.q)L=L[o.data.lh];var F=e1.ZG[T],a=F[2]._O(L);c4.save(a,F[1]+"."+F[0])}if(g==D.t.xb){var U=this.UN.DG,r=o.data.a28;
if(U.B5&&!U.asC&&!r){U.aev=window.confirm("Load \""+o.data.QH+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
U.asC=!0}if((U.aev||r)&&U.B5){U.nV[o.data.QH]=o.data.FP;var X=new jO(D.E.X);X.data={C:D.t.sM,eA:e1.F0};
this.c(X)}}if(g==D.t.aiB){var C=this.$t(),P="<!DOCTYPE HTML>";if(C==null)return;var E=bl.Mq(C.cf().buffer,C.m,C.n),k=window.open();
P+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";P+="<body><img src=\""+E+"\" /></body>";
P+="</html>";k.document.write(P)}if(g==D.t.uP){if(this.ZW("publishOnline"))return;var z=o.data.Ts!="psd",C=this.$t();
if(C==null)return;if(!z&&C.OM)return;var s="Your picture will be published at "+(z?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!z)s+=" We guarantee 6 months of storage (or more, if your file is opened often).";var Y=o.data.xc?!0:confirm(s);
if(Y){if(!z){var X=new jO(D.E.q,!0);X.F=c.qd;X.data={C:A.Ks};this.c(X);var t=new aS(0,0,C.m,C.n);for(var N=0;
N<C.g.length;N++){var x=C.g[N];if(x.rect.to()||x.sP()||x.KN()||x.AY()||x.eU()||x.add.TySh||x.add.vmsk||x.add.SoLd)continue;
var n=t.Kw(x.rect);if(!n.$s(x.rect)&&!n.to()){var J=l.Z(n.$()*4);l.HT(x.buffer,x.rect,J,n);x.buffer=J;
x.rect=n}if(!l.HN(x.buffer,x.rect.m,x.rect.n))continue;var I=x.aL(),fp=x.opacity,cH=x.WN,b=x.tN;x.Su(!0);
x.opacity=255;x.WN="norm";C.A=[N];X.data={C:A.fa,Ts:"jpg"};this.c(X);var jL=C.g[N];x.Su(I);jL.Su(I);
x.opacity=jL.opacity=fp;x.WN=jL.WN=cH,x.tN=jL.tN=b}}if(C.Mu){C.II()}var aq=C.m,cJ=C.n,aB=o.data.awf,au;
if(aB)while(Math.max(aq,cJ)>aB){aq=aq>>>1;cJ=cJ>>>1}console.log(aq,cJ);if(o.data.Ts=="psd")au=bl.XS(C,"psd",0,0,[!0,!0,!0]);
else if(o.data.Ts=="png")au=bl.XS(C,"png",aq,cJ);else{var ea=bl.XS(C,"png",aq,cJ),ax=bl.XS(C,"jpg",aq,cJ);
au=ea.byteLength<ax.byteLength?ea:ax}if(z)c4.ad3(au,o.data.xc);else this.UI.ahL(au,C.name,o.data.xc)}}if(g==D.t.Yg){var C=this.$t(),f1=!1;
if(C==null)return;if(C.Mu){C.II()}if(o.data.RC){if(!this.O$(C,o.data.RC))return;var a=hR.a4O(C,o.data.RC,this.UN);
this.P5(a);f1=!0}else if(C.ms){if(this.h3.indexOf(C.ms.lv)!=-1){var a=new Uint8Array(bl.qC("PSD").oe(C,null,null,[!0,!1])),X=new jO(D.E.q,!0);
X.data={C:A.gz,db:C.ms.lv,data:a,id:C.ms.aaa,vo:C.name};X.F=c.qd;this.c(X);alert("Smart Object updated")}f1=!0}else if(this.ZW("save")){f1=!0}else if(C.Ur){hR.ag8(C);
f1=!0}else if(C.n5){hR.ajE(C);f1=!0}else if(C.GJ&&C.GJ.Wv){if(!this.O$(C,C.GJ.Wv.formats))return;this.UI.ajg(C,this.UN,hR.aqF);
f1=!0}else if(C.lT&&"psd jpg png gif webp svg bmp".split(" ").indexOf(C.fG)!=-1){this.a3r();return}if(f1){C.my=C.za;
C.KL=Date.now();C.dF=!0}else{var X=new jO(D.E.X,!0);X.data={C:D.t.JV};this.c(X)}}if(g==D.t.JV){if(!this.UN.lA){alert("function is disabled");
return}if(this.ZW("saveAsPSD"))return;var C=this.$t();if(C==null||C.OM)return;if(!this.O$(C))return;
var X=new jO(D.E.q,!0);X.data={C:A.Ks};X.F=c.qd;this.c(X);if(C.g.length>8e3&&!confirm("Your document has "+C.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var fk={jr:[]};C.root.aok([],fk);var hF=fk.jr;if(hF.length>11&&!confirm("One layer is nested "+(hF.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hF.join(" \uD83E\uDC1A ")+"."))return;
var fm=window.showSaveFilePicker;if(window.parent!=window)fm=null;if(fm&&!o.data.a7S){var jE={suggestedName:C.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
fm(jE).then(function(o){C.lT=o;C.name=o.name;C.b0=!0;C.fG="psd";this.a3r()}.bind(this));return}var ff=window.ga,d5=B.y4("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(C.k2()&&ff)ff(d5[0],d5[1],d5[2],C.fG+":"+B.y4(d$.Cr()?"\"'|('61":"w'| "));if(C.Mu){C.II()}if(o.data.a7S){var a=C.fG=="psd"?bl.qC("PSD").oe(C):hR.ga(C,C.fG,this.UN);
this.ah1(a,C,this)}else{var a=bl.qC("PSD").oe(C);c4.save(a,C.name);C.my=C.za;C.KL=Date.now();C.dF=!0}}if(g==D.t.y2)window.open(o.data.link,"_blank");
if(g==D.t.a9g){if(this.u0.rJ()){this.anJ();return}var C=this.$t(),x=C.g[C.A[0]],eF=C.u9(x.add.SoLd.Idnt.v);
for(var N=0;N<this.h3.length;N++){var gI=this.h3[N].ms;if(gI!=null&&gI.aaa==eF.f8&&gI.lv==C){this.DC.gq(N);
return}}c4.o$({name:eF.vo,ms:{aaa:x.add.SoLd.Idnt.v,lv:C}},eF.raw.buffer,this)}if(g==D.t.atd){console.log(o.data);
c4.o$({name:o.data.n5[1].split("/").pop(),n5:o.data.n5},o.data.CL,this)}if(g==D.t.aqI){var C=this.$t();
C.n5=o.data.n5;C.name=C.n5[1].split("/").pop();var X=new jO(D.E.X);X.data={C:D.t.Yg};this.c(X)}if(g==D.t.lC){this.avz()}if(g==D.t.ZK){this.axI(o.data.lt,o.data.IF,o.data.l7)}if(g==D.t.wG){this.a1Y(o.data.ae3,o.data.O9,o.data.l7)}if(g==D.t.agJ){var fE=o.data.k;
if(fE.startsWith("vcb;")){var js=JSON.parse(fE.slice(4));js[0]=dK.Hb(js[0]);var X=new jO(D.E.q,!0);X.F=c.zL;
X.data={C:"append",Wm:"Paste Paths",a4x:js};this.c(X)}else if(fE.startsWith("lrs;")){var d8=fE.split(";"),bt=this.h3[parseInt(d8[1])];
if(bt==null)return;var io=this.$t(),ha=bt.A;bt.A=JSON.parse(d8[2]);var dp=bt.oa(null,bt!=io),X=new jO(D.E.q,!0);
X.data={C:A.N3,g:dp,lv:bt,jJ:io};X.F=c.qd;this.c(X);bt.A=ha}else if(fE.startsWith("<!--")||fE.startsWith("<svg")){var gS=u.Jz(fE),aP=bl.qC("svg"),K=new aX("image.psd");
aP.gd(gS.buffer,K);if(this.h3.length!=0){var gD=K.g;if(gD.length==3&&gD[0].getName()=="</Layer group>"&&gD[2].sP())gD=[gD[1]];
var X=new jO(D.E.q,!0);X.F=c.qd;X.data={C:A.N3,g:gD,lv:K,jJ:this.$t()};this.c(X)}else this.apL(K)}}if(g==D.t.xv){d4.ZF(o.data.Y3,this)}if(g==D.t.m$){if(window.parent!=window)window.parent.postMessage(o.data.eA,"*");
this.E9.OD(o.data.eA)}if(g==D.t.tq){var fA=parseFloat(o.data.$j);if(this.UN.pl.indexOf(fA)==-1){var X=new jO(D.E.X,!0);
X.data={C:D.t.sM,eA:e1.bN,k:fA,GJ:"add"};this.c(X)}this.E9.ac6(o.data.$j)}if(g==D.t.iQ){this.Vp.a9m(this.$t(),this.UN)}if(g==D.t.gC){var jH="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var N=0;N<jH.length;N+=2)if(o.data.$j==jH[N]&&this.ZW(jH[N+1]))return;if(!this.UN.lA&&o.data.window=="saveforweb"){alert("function is disabled");
return}this.u0.aa7(o.data.$j,this.$t(),o.data,this.h3,this.SE)}if(g==D.t.Mh)c4.save(o.data.data,o.data.name);
if(g==D.t.Ds){if(!this.u0.rJ()||o.on)this.apL(o.data.db)}if(g==D.t.L2){this.DC.gq(o.data.target);var X=new jO(D.E.q,!0);
X.data={C:A.a5Y,db:o.data.db,uv:o.data.uv,fJ:o.data.fJ};X.F=c.qd;this.c(X);this.F$(c.GD)}if(g==D.t.amf){i.LH=!i.LH;
if(this.h3.length>0)this.$t().L()}if(g==D.t.a7l){var aM=d$.kt();if(aM!=null&&aM.globals!=null)this.Z9(aM.globals);
this.rw()}if(g==D.t.Ol){this.UI.J_(o.data.data,null,o.data.U8,o.data.pJ,o.data.a8g)}if(g==D.t.JG){var jc=this.dQ();
if(!this.u0.JW()!=null)this.F$(o.data.F,o.data.HB);var eQ=this.dQ();if(eQ!=jc&&o.data.auz)eQ.xA(this.$t(),this,this.UN,this.SE,this.Rl)}if(g==D.t.o_){if(this.Y.OO)this.F$(this.Y.OO)}if(g==D.t.es){var j1=this.Y.map[o.data.F].F,C=this.$t();
j1.jD(o.data,this,C,this.SE,this.UN);if(C)C.n6=!0;this.a38()}if(g==D.t.Gy){var i7=this.Y.map[o.data.F];
this.avK(i7);i7.fz.gx(o.data)}if(g==D.t.sM){var C=this.$t(),fT=o.data.eA,hy=o.data.dt,hJ=this.UN;if(o.data.GJ=="set"){var eQ=c.arI(hy);
if(hJ.MR!=eQ)this.F$(eQ);this.Y.map[eQ].fz.a5F(hy,hJ)}if(o.data.GJ=="add"){var F=e1.ZG[fT];if(fT==e1.bN){hJ.pl.push(o.data.k);
hJ.pl.sort(function(aa,cn){return aa-cn})}else if(F==null){if(hy)hJ.zM.aej(hy,o.data.a94)}else{var db=this.MX(fT);
if(fT==e1.Yc){db.H7=db.H7.concat(hy.H7);db.ys=db.ys.concat(hy.ys);db=db.list;hy=hy.list}if(fT==e1.Ih&&C){for(var N=0;
N<hy.length;N++){var H=hy[N].ex.Lefx;if(H)bd.ad4(H,C,hJ.XA)}}if(fT==e1.pF&&hy==null){var K=this.Y.map[hJ.MR].fz.avV();
if(K==null)return;hy=[K]}for(var N=0;N<hy.length;N++)db.push(hy[N]);if(fT==e1.EW){var jK={};for(var N=0;
N<db.length;N++){var h_=db[N].Zb;while(jK[h_]!=null)h_=db[N].Zb=h_+"X";jK[h_]=!0}}if(o.data.a94!=!0)if(db.length!=hy.length||fT==e1.VJ||fT==e1.Ih||fT==e1.q)alert(fF.get(F[3])+" "+fF.get([23,1])+".")}}if(o.data.GJ=="del"){if(fT==e1.bN){hJ.pl.splice(hJ.pl.indexOf(o.data.k),1)}else{var F=e1.ZG[fT],O=o.data.Wn,db=this.MX(fT);
if(fT==e1.Yc)db=db.list;for(var N=0;N<O.length;N++)db[O[N]]=null;for(var N=0;N<db.length;N++)if(db[N]==null){db.splice(N,1);
N--}alert(fF.get(F[3])+" deleted.")}}if(o.data.GJ=="rnm"){var F=e1.ZG[fT],db=this.MX(fT);if(fT==e1.Yc)db=db.list;
if(db[o.data.Wn[0]]==null)return;F[2].LO(db[o.data.Wn[0]],o.data.k)}if(fT==e1.Yx){var dM=o.data.k;hJ.le=dM;
hJ.a6K[dM.mf]=dM.NL}if(fT==e1.Q0){var dM=o.data.k;hJ.nf=JSON.parse(JSON.stringify(dM));var eW=dM.strokeEnabled.v,ip=dM.strokeStyleContent.v,hS=eW?{mf:1+hf.ly.iJ.indexOf(ip.classID),NL:ip}:{mf:0};
hJ.adS[hS.mf]=hS.NL}if(fT==e1.$G){hJ.nj=o.data.k}if(fT==e1.Nf){hJ.iq=o.data.iq}if(fT==e1.OL){var J=JSON.parse(JSON.stringify(o.data.qn)),bB=J.useBrushSize;
if(bB&&bB.v){J.Brsh.v.Dmtr.v.val=hJ.v1.WE.Brsh.v.Dmtr.v.val;bB.v=!1}hJ.v1.WE=J}if(fT==e1.OG){hJ.QF=o.data.kq}if(fT==e1.Zr){var g_,e4="Clrs";
if(o.data.JI<2){var e0=o.data.k,jC=o.data.JI==0,i4=l.T.CT({z:e0>>>16,B:e0>>>8&255,K:e0&255});if(jC)hJ.L$=e0;
else hJ.KT=e0;e4=jC?"FrgC":"BckC";g_={j7:"set",FS:{__name:"Set",classID:"setd",T:{t:"Objc",v:i4}}}}if(o.data.JI==2){var hO=hJ.L$;
hJ.L$=hJ.KT;hJ.KT=hO;g_={j7:"exchange",FS:{__name:"Exchange",classID:"Exch"}}}if(o.data.JI==3){hJ.L$=0;
hJ.KT=16777215;if(C!=null&&C.A.length!=0&&C.g[C.A[0]].U3==1){var hO=hJ.L$;hJ.L$=hJ.KT;hJ.KT=hO}g_={j7:"reset",FS:{__name:"Reset",classID:"Rset"}}}if(g_){g_.FS.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:e4}}]};
var i7=this.dQ();i7.s0=this;i7.track(g_)}}if(fT==e1.Oc){hJ.rl=!hJ.rl;this.rg()}if(fT==e1.P8){hJ.Ha=!hJ.Ha;
this.rg()}var eq=hJ.M8;if(fT==e1.s1){eq.Zi=!eq.Zi;this.rg()}if(fT==e1.ZA){eq.eJ=!eq.eJ;this.rg()}if(fT==e1.in){eq.Pa=!eq.Pa;
this.rg()}if(fT==e1.JT){eq.at=!eq.at;this.rg()}if(fT==e1.wB){eq.Pc=!eq.Pc;this.rg()}if(fT==e1.pU){eq.Ng=!eq.Ng;
this.rg()}if(fT==e1.Kd){hJ.M8=o.data.kq;this.rg()}if(fT==e1.ak6){hJ.rK=!hJ.rK;this.rg()}if(fT==e1.Mr){hJ.XX[o.data.NK]=!hJ.XX[o.data.NK];
this.rg()}if(fT==e1.HD){fF.ka(o.data.lang,this.p2)}if(fT==e1.DO){hJ.A7=o.data.A7;this.Q()}if(fT==e1.F0&&hJ.DG.B5){var ig=hJ.DG.B5.transaction(["rsrc"],"readwrite").objectStore("rsrc"),bc=ig.put({k:"fs0",fset:hJ.DG.nV});
bc.onerror=function(o){console.log(o);alert("Storing failed. Browser says: "+o.target.error.message,7e3)}}this.Vx(fT)}};
jI.prototype.a3r=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.a9,eG:"Saving ..."};this.c(o);setTimeout(function(){var o=new jO(D.E.X,!0);
o.data={C:D.t.JV,a7S:!0};this.c(o)}.bind(this),20)};jI.prototype.ah1=function(o,g){g.lT.createWritable().then(function(C){C.write(o);
return C}).then(function(C){return C.close()}).then(function(C){g.my=g.za;g.KL=Date.now();g.dF=!0;var a=new jO(D.E.X,!0);
a.data={C:D.t.y7,eG:"Saving ..."};this.c(a)}.bind(this)).catch(function(C){var a=new jO(D.E.X,!0);a.data={C:D.t.y7,eG:"Saving ..."};
this.c(a)}.bind(this))};jI.prototype.avY=function(){this.Q();this.rg()};jI.prototype.ZW=function(o){var g=this.UN.zN[o];
if(g){var C=new jO(D.E.X,!0);C.data={C:D.t.xv,Y3:g};this.c(C)}return g!=null};jI.prototype.O$=function(o,g){var C=!0,h=15;
if(g){C=!1;for(var N=0;N<g.length;N++)if(g[N].startsWith(B.KK("__M")))C=!0}var a=o.k2()||o.ms&&o.ms.lv.k2();
if(this.qw())a=!1;var x=new B.JM[is.jV],K=(x[B.y4("xy,b-66:")]()&1)*60+x[B.KK("VQ]3LNRN<G")]();if(a&&!d$.Cr()&&K>h&&C){var X=B.JM[B.y4("}$z{2*35")][B.y4("y'|!")],w=B.KK("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
w+="\n\n"+B.KK("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-K+120)+B.KK("nYRTXTBMd");
if(X.indexOf(B.y4("\"|'/-1)(W0?@"))==-1)w=fF.get([0,11+6,3+2]);B.JM._cwY(w);return!1}return!0};jI.prototype.MX=function(o){var g=this.UN,C=[e1.Yc,e1.W2,e1.fC,e1.OF,e1.EW,e1.Ih,e1.VJ,e1.q,e1.pF,e1.Xi],a=[g.v1,g.mh,g.Dk,g.XA,g.lz,g.E7,g.awy,g.Cs,g.c3,g.a4t];
return a[C.indexOf(o)]};jI.prototype.avz=function(){var o=this.axI(),g=this.$t();if(g==null||g.A.length==0)return;
var C=g.g[g.A[0]],a=new jO(D.E.q);if(o==1){a.F=c.zL;a.data={C:"remove",Wm:"Cut Paths"}}else{a=new jO(D.E._h);
a.data={j7:"delete"}}this.c(a)};jI.prototype.axI=function(o,g,C){if(o==null)o=!1;var a=this.UN;console.log("doCopy",o,g);
var x=this.$t();if(x==null||x.A.length==0)return;var K=x.g[g==null?x.A[0]:g],h=x.DE(),X=h[0],w=h[1],G=X[w[0]];
if(!o&&G!=null&&G.add.vmsk.A.length!=0){var R=c.R7.X6(G.add.vmsk,G.add.vogk);if(B.yf()){R[0]=dK.aaU(R[0]);
var d="vcb;"+JSON.stringify(R);c4._D(new Blob([d],{type:"text/plain"}))}else a.G$=R;return 1}else if(x._==null){if(B.yf()){var d="lrs;"+this.h3.indexOf(x)+";"+JSON.stringify(x.A);
c4._D(new Blob([d],{type:"text/plain"}))}}else{var q,m;if(o){var M=new aS(0,0,x.m,x.n);m=M.Kw(x._.rect);
q=l.Z(m.$()*4);l.HT(x.cf(),M,q,m);l.Mz(x._.channel,x._.rect,q,m)}else if(x.Ix.length!=0){m=x._.rect.clone();
q=l.Z(m.$()*4);var Z=x.JH[x.Ix[0]],Q=Z.Gc(m);l.B2(Q,q);l.Oa(x._.channel,q,3)}else{var p=K.WX(x,x._);
if(p==null){alert("Copied area is empty");return}q=p.CL;m=p.rect}var y=x.u.dp,V=y[0]+y[1]+y[2];if(V==1){var W=y.indexOf(1);
for(var N=0;N<q.length;N+=4)q[N]=q[N+1]=q[N+2]=q[N+W]}var v=new eN(x.m,x.n);if(B.yf()&&C!=!0){var j=bl.qC("PNG").ami(q.buffer,m.m,m.n);
c4._D(new Blob([new Uint8Array(j)],{type:"image/png"}));this.adK={Cn:m,tC:v}}else a.Xz={buffer:q,rect:m,tC:v};
a.amq=m.clone();a.G$=null}};jI.prototype.a1Y=function(o,g,C){if(g)this.a39=!0;console.log("doPaste");
var a=this.UN,x=a.Xz,w;if(this.h3.length==0){if(!o&&B.yf()){c4.wu(this,null);return}if(x){var K=bl.ng("image.psd",[{data:x.buffer.buffer,m_:x.rect}]),h=new jO(D.E.X);
h.data={C:D.t.Ds,db:K};this.c(h)}return}var K=this.$t(),X=K.g[K.A.length==0?K.g.length-1:K.A[0]];if(a.G$){var G=K.DE(!0),R=G[0],d=G[1];
w=R[d[0]]}var h=new jO(D.E.q,!0);if(a.G$!=null&&w!=null){h.F=c.zL;h.data={C:"append",Wm:"Paste Paths",a4x:a.G$}}else if(!o&&B.yf()&&C!=!0){c4.wu(this,this.aqT.bind(this));
return}else{if(x==null)return;if(K.zj(!1)&&(K.u.dp.join("")!="111"||K.Ix.length!=0||X.U3>0||X.rect.to())){h.F=c.Yc;
h.data={C:"draw",aqf:!0,Wm:[5,2]}}else{h.F=c.qd;h.data={C:A.cB,O9:this.a39};this.a39=!1}h.data.Xz=x}this.c(h)};
jI.prototype.adi=function(){for(var N=0;N<this.h3.length;N++){var o=this.h3[N];if(!d2.aol(o,this.UN.zM,this))continue;
if(o.UG)d2.alJ(o,this.UN.zM,this);var g=o.add.lnk2;if(g)for(var C=0;C<g.length;C++){var a=g[C];if(a.UG)c.Nk.lP(o,a.f8,a.zm[1],a.zm[1],this.UN.zM)}if(o.amU)continue;
o.amU=!0;if(o.GJ&&o.GJ.a1r)d4.ZF(o.GJ.a1r,this);this.P5();var x=new jO(D.E.q);x.F=c.C3;x.data={C:"start",KA:"GEfc"};
var K=new jO(D.E.X);K.data={C:D.t.tq,$j:iU.yt.SV};K.data={C:D.t.gC,$j:"templates",Ts:2}}};jI.prototype.Vx=function(o){var g=this.UN,C=g.MR,h=!1;
if(o==e1.OL){if(this.Y.map[C].fz)this.Y.map[C].fz.Xt(g,o)}else for(var a in this.Y.map)if(this.Y.map[a].fz)this.Y.map[a].fz.Xt(g,o);
if(o==e1.ye){if(C!=c.rv)this.Y.map[c.rv].F.Xt(g,o);this.adi()}this.DC.Xt(g,o);this.md.Xt(g,o);this.u0.Xt(g,o);
this.dQ().Xt(g,o);this.E9.Xt(g,o);this.K1.Xt(g,o);if(o==e1.DO||o==e1.B3){ka.a2G(g.A7);this.update(!0)}var x=g.iq,K=x.Fn.Font;
if(o==e1.Nf&&K!=null&&x.pv[K].Name!=g.font){g.font=x.pv[K].Name;h=!0}if([e1.bN,e1.OG,e1.Zr,e1.Oc,e1.P8,e1.Kd,e1.in,e1.JT,e1.s1,e1.ZA,e1.wB,e1.pU,e1.HD,e1.DO].indexOf(o)!=-1||h)this.a38()};
jI.prototype.a38=function(){if(!this.kP)return;var o={},g=this.Y.map;for(var C in g){var a=g[C].F;if(a.eq&&a.eq()!=null)o["t"+C]=a.eq()}var x=this.UN,K=x.M8,h={fcolor:x.L$,bcolor:x.KT,rulers:x.rl,extras:x.Ha,favFam:x.QF,panels:x.pl,eparams:{guides:K.Pa,grid:K.at,sels:K.Zi,paths:K.eJ,pgrid:K.Pc,slices:K.Ng,gsize:K.YG,gunits:K.ts,gtype:K.nu,runits:K.oK},lang:fF.Ro(),theme:x.A7,as:x.Vv,topt:o};
if(x.font!=null)h.font=x.font;var X=d$.kt();if(X==null)X={};X.globals=h;d$.KO(X)};jI.prototype.D6=function(o){var g=this.SE,C=this.Rl,a=this.UN.MR,x=this.Y.map[a].F,K=null,h=!1;
for(var N=0;N<this.Y.a52.length;N++){var X=this.Y.a52[N],w=!0;for(var G=0;G<X.Cb.length;G++){var R=X.Cb[G];
if(!g.a(R))w=!1}if(w&&(!X.Gp||!x.rJ())&&(X.Dl==null||X.Dl.indexOf(a)!=-1)){K=X.F;h=X.Gp;break}}if((!C.H3||a==c.w_||o)&&this.Y.wH!=K&&(K!=a||!h)){var d=this.$t();
if(this.Y.wH!=null&&K==null)this.dQ().disable(d,this,this.UN,g,!0);this.Y.wH=K;this.dQ().enable(d,this,this.UN,g,K!=null&&K!=a)}};
jI.prototype.lV=function(o){var g=this.UN.MR,C=this.$t();if(g!=null){this.Y.map[g].F.disable(C,this,this.UN,this.SE)}};
jI.prototype.avK=function(o){if(o.fz==null){o.fz=new o.MZ;o.fz.anp(o.F.id,o.F.DM);o.fz.Xt(this.UN,e1.B3);
o.fz.Q()}};jI.prototype.F$=function(o,g){if(o==c.GD&&this.u0.JW())return;var C=this.$t(),a=this.UN;if(this.Y.map[o].F.I9(C,a)){this.lV();
if(o!=a.MR)this.Y.OO=a.MR?a.MR:c.zO;a.MR=o;this.md.Tk(this.Y,this.UN);var x=this.Y.map[o];this.Y.mJ[x.yJ]=x.axm;
this.avK(x);this.KW.a2D(x.fz);var K=x.F;K.enable(C,this,this.UN,this.SE,!1,g);if(C)C.n6=!0;this.rg()}};
jI.prototype.dQ=function(o){var g=this.Y,C=g.no,a=g.wH,x=this.UN.MR;if(C)x=C;else if(a&&o==null)x=a;
return g.map[x].F};jI.prototype.apL=function(o){var g=this.UN,C=this.h3.indexOf(o);if(C!=-1){this.DC.gq(C);
return}if(this.AE&&(o.GJ==null||o.GJ.Wv==null)){o.GJ={Wv:this.AE}}if(o.JD==null){o.JD="local,"+this.avc+","+o.name;
this.avc++}o.KL=Date.now();if(c1.r8()!=0&&!this.a1A&&B.JM[B.y4("t$&!'31")].toString().indexOf(B.y4(" u,$4&"))==-1){alert(B.y4("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var N=0;N<o.g.length;N++){var a=o.g[N];if(a.add.SoLd!=null){var x=Date.now()}}var K=o.g.length,h=is.QL(),X=Math.PI*(5465<<14)+(B.Mk(31)?20:10)*7e7;
if(h>X){var K=o.g.length;o.g=[];return K}if(i.LH)i.DD(Math.max(o.m,o.n));o.vg();o.Va();if(o.a6r)o.a2i();
else o.L();o.a6r=!1;this.h3.push(o);this.DC.a1(new bz(o));o.n6=!0;o.dF=!0;this.adi();var w=new jO(D.E.q);
w.F=c.i1;w.data={C:"auto",d1:2}};jI.prototype.$t=function(){return this.h3[this.$k]};jI.prototype.aty=function(){return this.u0.JW()==null};
jI.prototype.J$=function(o,g){this.lV();var C=this.h3.length;if(g!=null)this.DC.gq((this.DC.Ff()+g+C)%C);
this.$k=this.DC.Ff();var a=this.$t();this.K1.at7(a,this.UN);this.E9.Tk(a,this.h3,this.UN);this.rg();
if(a)a.n6=!0};jI.prototype.a0X=function(o){this.lV();this.h3.splice(o.data.H5,1);if(this.h3.length==0){this.J$(o);
if(i.LH)i.Z0().parentNode.removeChild(i.Z0())}};jI.prototype.amW=function(o){var g=[],C=o.data.aqU;for(var N=0;
N<C.length;N++)g[N]=this.h3[C[N]];this.h3=g;this.$k=this.DC.Ff()};jI.prototype.auc=function(o){var g=this.DC,C=g.ad8(),a=this.dQ(),x=this.$t();
if(C==g.Ff()||!a.Zv())return;this.a4F(C,a)};jI.prototype.a4F=function(o,g){console.log("dup2doc");var C=this.UN,a=this.DC,x=this.$t(),K=this.h3[o],h,X=new jO(D.E.q,!0);
X.F=c.qd;if(x._==null){X.data={C:A.N3,g:x.oa(null,!0),lv:x,jJ:K};this.c(X)}else h=x.g[x.A[0]].WX(x,x._);
var w=this.Rl,G=C.rl;C.rl=!1;w=x.u.w2(w.x,w.y);if(g)g.xQ(x,this,C,this.SE);a.gq(o);if(x._){X.data={C:A.cB,Xz:{buffer:h.CL,rect:h.rect}};
this.c(X)}w=K.u.Er(w.x,w.y);w.x+=49;w.y+=112;if(g)g.xA(K,this,C,this.SE,w);C.rl=G};jI.prototype.ab1=function(o){var g=this.$t(),C=this.SE,a=this.UN,x=o.LF;
if(x)this.Rl=x;if(o.action.startsWith("multi")){var K=new jO(D.E.q,!0);K.data={C:o.action,FO:o.FO};K.F=c.SL;
this.c(K);return}var h=this.Y.map[c.zO].F;if((o.action=="down"||o.action=="rdown")&&a.MR!=c.zO&&this.Y.wH!=c.zO&&h.xy(g,this,a,C,x)){this.Y.no=c.zO;
h.enable(g,this,a,C,!0)}if(o.action=="idown"){C._K("Space");this.D6(!0);o.action="down"}var X=this.u0.JW(),w=X!=null&&X.DP()&&this.Y.wH==null?X:this.dQ();
if(X!=null&&w!=X&&this.u0.rJ()&&w.id!=c.rT&&w.id!=c.SL)return;if(o.action=="down")w.xA(g,this,a,C,x);
if(o.action=="rdown")w.Pg(g,this,a,C,x);if(o.action=="move")w.kh(g,this,a,C,x);if(o.action=="up"||o.action=="iup"||o.action=="cancellast")w.eO(g,this,a,C,x,o.action=="cancellast");
if(o.action=="rup")w.qG(g,this,a,C,x);if(o.action=="iup"){C.FN("Space");this.D6(!0)}if(o.action=="cancellast"){if(g&&g.history.length!=0&&Date.now()-g.history[g.history.length-1].a8L<200){var G=new jO(D.E.q);
G.F=c.DY;G.data={C:"h_stepbck"};this.c(G)}}var R=this.E9;if(o.action=="down")R.xA(g,this,a,C,x);if(o.action=="move")R.kh(g,this,a,C,x);
if(o.action=="up")R.eO(g,this,a,C,x);if(o.action=="down"||o.action=="up"){this.D6()}if(o.action=="down"||o.action=="up"||o.action=="ctx"){g.n6=!0}if((o.action=="up"||o.action=="rup")&&this.Y.no){this.Y.no=null;
h.disable(g,this,a,C)}if(o.action=="scroll"){var d=!C.a(c_.Ns)&&o.a5,K=new jO(D.E.q,!0);K.data={C:"scroll",$E:o.$E.clone(),LF:x};
K.F=C.a(c_.LW)||d?c.SL:c.rT;this.c(K)}};jI.prototype.qD=function(o){var g=this.$t(),C=this.Rl;if(g&&this.dQ().qt(C,this.SE)){var a=g.u,x=a.B9.m,K=a.B9.n,h=0,X=0,w=16;
if(C.x<w)h=w-C.x;if(C.x>x-w)h=C.x-(x-w);if(C.y<w)X=w-C.y;if(C.y>K-w)X=C.y-(K-w);var G=this.SE.a(c_.sH)?8:1;
if((h!=0||X!=0)&&(g.m*a.R>x||g.n*a.R>K)){h=Math.min(5,h*.5)*G;X=Math.min(5,X*.5)*G;if(!(C.x<w||C.y<w)){h=-h;
X=-X}a.v.x+=h;a.v.y+=X;this.ab1({LF:this.Rl,action:"move"});g.b0=!0}}this.update()};jI.prototype.update=function(o){var g=this.$t();
if(g==null)return;if(g.n6){var C=this.Y.map;for(var a in C){if(C[a].F.Lu)C[a].F.Lu(g,this,this.UN,this.SE)}}if(g.Mu)if(i.LH)i.DD(Math.max(g.m,g.n));
if(g.Mu){g.II()}var x=g.u,K=this.h$,h=this.h$=Date.now();if(g.Mu||g.f4||g.dF||g.b0||o||x.aK!=x.R||!x.nM.$s(x.v)){var X=x.aK;
if(x.aK!=x.R){var w=c.yd.abg(x.R,x.aK>x.R),G=.12;if(x.aK<x.R&&x.aK<w)x.aK=w;if(x.aK>x.R&&x.aK>w)x.aK=w;
var R=Math.abs(x.R-w)*(h-K)*.001/G;if(x.aK<x.R)x.aK=Math.min(x.R,x.aK+R);else x.aK=Math.max(x.R,x.aK-R)}var d=X==x.R?0:(x.aK-x.R)/(X-x.R);
x.nM.x=x.v.x+d*(x.nM.x-x.v.x);x.nM.y=x.v.y+d*(x.nM.y-x.v.y);this.DC.Xt(this.UN,null);this.DC.Tk(g,this.h3)}if((g.Mu||g.b0||g.n6)&&(!this.Rl.H3||g.bq)){if(g.n6)g.Va();
this.E9.Tk(g,this.h3,this.UN);this.md.asu(g,this.SE);g.Z5=!1}g.bq=!1;g.n6=!1;g.Mu=null;g.f4=g.dF=g.b0=!1};
jI.prototype.c5=function(o){var g=o.target.tagName.toLowerCase(),C=o.target.getAttribute("type"),a=c_,x=a.NM(o.code,a.kD);
if(!((g=="input"||g=="select"||g=="button")&&a.NM(o.code,a.d9))){if(a.GO(o)){o.preventDefault()}this.SE._K(a.aX(o));
this.Uh("down")}};jI.prototype.i9=function(o){if(o.key==" ")this.SE.vY();if(c_.NM(o.code,c_.xE))this.SE.reset();
this.SE.FN(c_.aX(o));var g=o.target.tagName.toLowerCase();if(c_.GO(o)){o.preventDefault()}this.Uh("up")};
jI.prototype.Uh=function(o){var g=this.SE,C=this.$t(),a=C!=null&&C.A.length!=0;if(this.Vp.JW()!=null){if(g.a(c_.oc)){this.Vp.avL()}return}this.D6();
var x=this.zy(c_.Ns),K=g.a(c_.LW),h=g.a(c_.sH);if(x&&g.a(c_.f0)&&o=="down"){var X=new jO(D.E.q),w=new jO(D.E.X);
X.F=c.DY;if(h){X.data={C:"h_stepfwd"}}else{X.data={C:"h_stepbck"}}if(this.u0.JW()!=null&&this.u0.JW().rJ()){}else this.c(X)}if(x){var X=new jO(D.E.q),G=new jO(D.E._h),w=new jO(D.E.X);
if(g.a(c_.zp)&&g.a(c_.Tu)){w.data={C:D.t.gC,$j:"storwindow"};this.c(w)}if(!K&&o=="down")for(var R in f6.keys){var d=f6.keys[R],q=!0;
for(var N=0;N<d.length;N++)if(!g.a(d[N]))q=!1;if(q){X.F=c.i1;if(R=="hue2"&&h&&C.g[C.A[0]].add.SoLd==null)X.data={C:"auto",d1:3};
else X.data={C:"start",ss:R}}}if(g.a(c_.t)){G.data=c.vk.K9(!0)}if(g.a(c_.sp)){if(K)w.data={C:D.t.gC,$j:"csize"};
else if(C)w.data={C:D.t.ZK,lt:h}}if(g.a(c_.j6)){G.data=c.vk.K9()}if(g.a(c_.E)&&o=="down"){if(h)G.data={j7:"mergeVisible"};
else G.data={j7:"mergeLayersNew",FS:{__name:"Merge Layers",classID:"Mrg2"}}}if(g.a(c_.vQ)){if(h&&this.UN.MR!=c.GD)w.data={C:D.t.gC,$j:"afw_fade"};
else if(K){X.F=c.C3;X.data={C:"applylast"}}else w.data={C:D.t.iQ}}if(g.a(c_.tZ)){if(K&&C&&C.nG(C.A[0])){X.F=c.qd;
X.data={C:A.zG}}else{X.F=c.qd;X.data={C:A.Sb,xt:h}}}if(g.a(c_.Oo)){w.data={C:D.t.sM,eA:e1.P8}}if(g.a(c_.zp)){if(h){X.data=null;
if(K)w.data={C:D.t.gC,$j:"finfo"};else G.data={j7:"inverse"}}else if(K)w.data={C:D.t.gC,$j:"isize"}}if(g.a(c_.k9)){G.data={j7:(h?"cut":"copy")+"ToLayer"}}if(g.a(c_.IK)){w.data={C:D.t.gC,$j:"preferences"}}if(g.a(c_.p$)){if(h){X.F=c.qd;
X.data={C:A.Hv}}else w.data={C:D.t.gC,$j:"newproject"}}if(g.a(c_.tH)){w.data={C:D.t.tf};g.reset()}if(g.a(c_.S2)){w.data={C:D.t.aiB};
g.reset()}if(g.a(c_.yt)){w.data={C:D.t.sM,eA:e1.Oc}}if(g.a(c_.$z)&&o=="down"){if(h){if(K)w.data={C:D.t.gC,$j:"saveforweb"};
else w.data={C:D.t.JV}}else w.data={C:D.t.Yg}}if(g.a(c_.ND)){if(h){X.F=c.GD;X.data={C:"again"}}else w.data={C:D.t.JG,F:c.GD}}if(g.a(c_.oy)){w.data={C:D.t.wG}}if(g.a(c_.HU)){this.DC._Q()}if(g.a(c_.Hi)&&C&&C.gP()){w.data={C:D.t.lC}}if(g.a(c_.N$)||g.a(c_.A6)){X.F=c.qd;
X.data={C:A.Xx,JI:0};if(g.a(c_.N$))X.data.JI=h?3:2;else X.data.JI=h?0:1}if(g.a(c_.J9)&&C){X.F=c.qd;X.data={C:A.Jb}}if(g.a(c_.kD)&&C){var m=0;
if(h)m++;if(K)m+=2;X.F=c.pn;X.data={C:"frompath",d2:[null,0,m]}}if(g.a(c_._R)){G.data=c.ro.uu(0)}if(g.a(c_.d9)){var M=this.h3.length;
if(M>1)this.DC.gq((this.DC.Ff()+1)%M)}if(g.a(c_.ut)){w.data={C:D.t.sM,eA:e1.in}}if(g.a(c_.c1)){w.data={C:D.t.sM,eA:e1.JT}}c.yd.a0y(g,X);
if(this.u0.JW()!=null&&this.u0.JW().rJ()){}else{if(X.data)this.c(X);if(G.data)this.c(G);if(w.data)this.c(w)}}if(!x&&K){var Z;
if(g.a(c_.N$))Z="Bckw";if(g.a(c_.A6))Z="Frwr";if(g.a(c_.J9))Z="Back";if(g.a(c_._R))Z="Frnt";if(Z){var G=new jO(D.E._h);
G.data={j7:"select",FS:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:Z}}]},MkVs:{t:"bool",v:!1}}};
this.c(G)}}if(C&&C.A.length!=0){var Q=C.g[C.A[0]],p=Q.U3;if(p==1||p==3||x){var X=new jO(D.E.q),y=p==3?Q.WW(C).d:Q.KN();
if(y){var V=y.nR?C.u.dp.join("")=="111"?1:2:0;X.F=c.SL;if(y&&g.a(c_.oc)&&V!=0){X.data={C:"mskView",k:0}}if(y&&g.a(c_.agA)){X.data={C:"mskView",k:V==1?0:1}}if(y&&g.a(c_.aq1)){X.data={C:"mskView",k:V==2?0:2}}if(X.data)this.c(X)}}}var W=g.JY();
if(C&&x&&2<=W&&W<=5){var v=[1,1,1];if(W>2){v=[0,0,0];v[W-3]=1}var j=new jO(D.E.q,!0);j.F=c.rT;j.data={C:"setcls",dp:v};
this.c(j)}if(!g.a(c_.Ns)&&!K&&o=="down"){var X=new jO(D.E.q),w=new jO(D.E.X),T=this.Y.map[this.UN.MR],O=-1;
for(var N=0;N<this.Y.keys.length;N++)if(this.Y.keys[N]&&this.zy(this.Y.keys[N]))O=N;if(O!=-1){var L=null;
if(T.yJ!=O)L=this.Y.mJ[O];if(T.yJ==O&&h)L=(T.axm+1)%this.Y.uG[O].length;if(L!=null){var S=this.Y.uG[O][L].F.id,$=this.UN.cq;
if(($==null||$.indexOf(parseInt(S))!=-1)&&!this.Rl.H3)w.data={C:D.t.JG,F:S}}}if(g.a(c_.Oo))w.data={C:D.t.JG,F:c.rT};
if(g.a(c_.yt))w.data={C:D.t.JG,F:c.Ue};if(g.a(c_.Hi))w.data={C:D.t.sM,eA:e1.Zr,JI:2};if(g.a(c_.j6))w.data={C:D.t.sM,eA:e1.Zr,JI:3};
if(w.data)this.c(w);if(g.a(c_.a4Z)&&C&&C.A.length==1){var Q=C.g[C.A[0]];X.F=c.qd;var H=Q.GS(0)||Q.GS(1)||Q.GS(2)||Q.GS(31);
X.data={C:A.Tg,kq:H?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.c(X)}var W=g.JY();if(a&&W!=-1&&this.zy(c_.CQ[W])){var f=C.A[0],Q=C.g[f],F=c_._P(Math.round(100*Q.opacity/255),W);
X.F=c.qd;X.data={C:A.D9,kq:Math.round(255*F/100)};this.c(X)}var U=this.UN.dS;if(g.a(c_.d9)){w.data={C:D.t.rj,k:U==0?1:0};
this.c(w)}if(g.a(c_.vQ)||g.a(c_.oc)&&U==2){var r=document.fullscreenElement!=null==(U==2);w.data={C:D.t.rj,k:U==0?2:0,wS:r};
this.c(w)}if(g.a(c_.wm)&&!this.Rl.H3){X.F=c.pn;X.data={C:"qmask"};this.c(X)}}if(!g.a(c_.Ns)&&!K&&h){var X=new jO(D.E.q),w=new jO(D.E.X);
if(g.a(c_.J9))w.data={C:D.t.gC,$j:"shortcuts"};if(g.a(c_.VG))w.data={C:D.t.gC,$j:"fill"};if(g.a(c_.a9$))w.data={C:D.t.gC,$j:"sel_feather"};
if(a&&(g.a(c_.LL)||g.a(c_.kT))){var f=C.A[0],Q=C.g[f],E=cP.CH,k=E.length,P=E.indexOf(Q.WN);X.F=c.qd;
X.data={C:A.Eq,kq:(P+k+(g.a(c_.LL)?1:-1))%k};this.c(X)}if(w.data)this.c(w)}var X=new jO(D.E.q),z=o=="down"&&(this.zy(c_.nJ)||this.zy(c_._k));
if((x||K)&&z){X=new jO(D.E._h);X.data=c.de.p3(x?"BckC":"FrgC");this.c(X)}else if(C&&z&&!this.Rl.H3){if(C._!=null){X=new jO(D.E._h);
X.data={j7:"delete"}}else if(C.A.length!=0){var Q=C.g[C.A[0]];if(Q.U3==1)X.data={C:A.M1};else if(Q.U3==3)X.data={C:A.e6};
else X.data={C:A.pr};X.F=c.qd}this.c(X)}if(this.u0.JW()!=null){if(g.a(c_.oc)){this.u0.JW().ame()}else{this.u0.JW().Uh(C,this,this.UN,g)}}if(this.UN.MR==null)return;
var T=this.dQ();if(this.u0.JW()==null||this.Y.wH)T.Uh(C,this,this.UN,g)};jI.prototype.zy=function(o){var g=this.SE,C=this.Y.map[this.UN.MR].F,top=this.u0.JW(),a=this.$t();
return g.a(o)&&!C.td(o,a)&&(top==null||!top.td(o,a))};jI.prototype.xl=function(o){var g=this.a9U,C=this.PA;
this.UN.dS=o;var a=B.Af,x=this.K1.e;if(a(x))this.wj.removeChild(x);var K=this.KW.e;if(a(K))this.wj.removeChild(K);
var h=this.md.e;if(a(h))g.removeChild(h);var X=this.DC.e;if(a(X))g.removeChild(X);var w=this.E9.e;if(a(w))g.removeChild(w);
if(o==0){this.wj.appendChild(x);this.wj.appendChild(K);C.appendChild(g);g.appendChild(h);g.appendChild(X);
g.appendChild(w)}if(o==1){this.wj.appendChild(x);g.appendChild(X)}if(o==2){g.appendChild(X)}this.DC.xl(o==2?1:0);
this.rg()};jI.prototype.alU=function(o){if(this.qw())return 1;if(B.a3s()==0){this.UN={};this.z3=function(g,C){return Math.sqrt(g*C)}}return-1};
function cA(o){ar.call(this);if(o==null)return;this.MI=null;this.fB=null;this.e=B.f("div","sbar"+" "+o);
this.sm=new B.f("div","top");this.sm.innerHTML="> <";this.e.appendChild(this.sm);this.ok=1;this.sm.addEventListener("click",this.auL.bind(this),!1)}cA.prototype=new ar;
cA.prototype.auL=function(o){if(this.MI!=null&&this.MI<500&&this.ok==0)return;if(this.ok==0)this.ja(!0);
else this.collapse(!0)};cA.prototype.aaH=function(o){this.ok=o;this.sm.innerHTML=this.ok==0?"< >":"> <"};
cA.prototype.ax8=function(){var o=new jO(D.E.X,!0);o.data={C:D.t.Nh};this.c(o)};cA.prototype.ja=function(o){this.aaH(1);
if(o)this.ax8()};cA.prototype.collapse=function(o){this.aaH(0);if(o)this.ax8()};cA.prototype.Nt=function(){return this.ok==1};
function gQ(o,g){cA.call(this,"vcolumn");this.RY=o;this.a6G=g;this.JL();this.Sq=B.f("div");this.Sq.setAttribute("style","cursor:default;");
this.afm=this.aoU.bind(this);this.a5Q=this.atm.bind(this);this.a03=this.a0z.bind(this);B.sa(this.e,this.afm);
this.e.appendChild(this.Sq);this.Bi=B.f("div");this.Sq.appendChild(this.Bi);this.uI=-1;this.jd=B.f("div","float");
var C=this.If=B.f("canvas"),a=12;C.width=C.height=a;var x=C.getContext("2d");x.fillStyle="rgba(0,0,0,0.5)";
x.moveTo(0,0);x.lineTo(a,a);x.lineTo(0,a);x.fill();this.If.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
B.G1(this.If);B.sa(this.If,this.afm);this.DA=[];this.gB=[];this.aag=null;this.Q$=null;this.aaQ=0}gQ.prototype=new cA;
gQ.prototype.aoU=function(o){var g=o.target==this.If;if(!g){if(o.target!=this.e)return;if(!this.Nt())return}else{var C=this.DA[this.uI].UZ;
C.style.pointerEvents="none";var a=C.getBoundingClientRect();this.aag=[a.width,a.height];this.gB[this.uI]=[a.width,a.height]}o.stopPropagation();
this.Q$=B.Iw(o,document.body);this.aaQ=this.RY;B._C(document,this.a5Q);B.aw(document,this.a03)};gQ.prototype.atm=function(o){var g=B.Iw(o,document.body);
if(this.Nt()){this.RY=this.aaQ+this.Q$.x-g.x;this.JL()}else{var C=this.gB[this.uI],a=this.aag;C[0]=a[0]+this.Q$.x-g.x;
C[1]=a[1]+g.y-this.Q$.y}var x=new jO(D.E.X,!0);x.data={C:D.t.Nh};this.c(x)};gQ.prototype.a0z=function(o){if(!this.Nt()){var g=this.DA[this.uI].UZ;
g.style.pointerEvents="auto"}B.gK(document,this.a5Q);B.lZ(document,this.a03)};gQ.prototype.ap0=function(o){o.h("showFloat",this.a7Z,this);
o.h("hideFloat",this.JB,this);this.DA.push(o);o.parent=this;this.Sq.appendChild(o.e)};gQ.prototype.ajB=function(N){var o=this.DA[N];
o.removeEventListener("showFloat",this.a7Z,this);o.removeEventListener("hideFloat",this.JB,this);this.DA.splice(N,1);
o.parent=null;this.Sq.removeChild(o.e)};gQ.prototype.aj7=function(){return this.DA.length};gQ.prototype.OJ=function(){for(var N=0;
N<this.DA.length;N++)this.DA[N].OJ()};gQ.prototype.a7Z=function(o){this.JB(o);this.Bi.appendChild(this.jd);
this.uI=this.DA.indexOf(o.currentTarget);var g=this.DA[this.uI].UZ;this.jd.appendChild(g);this.jd.appendChild(this.If);
this.z3(this.MI,this.fB)};gQ.prototype.JB=function(o){this.OJ();if(this.uI!=-1){this.Bi.removeChild(this.jd);
var g=this.DA[this.uI];if(g)this.jd.removeChild(g.UZ);this.uI=-1}};gQ.prototype.JL=function(){function o(g){return Math.round(g*B.r())/B.r()}this.e.setAttribute("style","width: "+this.RY+"px; border-left-width:"+o(4)+"px; cursor:ew-resize;")};
gQ.prototype.ja=function(o){this.JL();this.JB();for(var N=0;N<this.DA.length;N++)this.DA[N].ja();cA.prototype.ja.call(this,o)};
gQ.prototype.collapse=function(o){this.e.removeAttribute("style");for(var N=0;N<this.DA.length;N++)this.DA[N].collapse();
cA.prototype.collapse.call(this,o)};gQ.prototype.z3=function(o,g){this.MI=o;this.fB=g;g-=6;var C=this.DA.length,a=this.Nt();
if(C==0)return;o=this.RY;var x=g<400?g:400+(g-400)*.5,K=g;for(var N=0;N<C;N++){var h=this.DA[N],X=h.a5s();
if(N==C-1){X=K+4;h.e.style.borderBottom="none"}var w=this.gB[N];h.z3(!a&&w?w[0]:o,a?X:w?w[1]:x);K-=X}};
function ak(o){ar.call(this);this.e=B.f("div");this.Sq=null;this.eo=0;this.KU=0;this.atG=o;this.aa1=this.eb.bind(this);
this.arG=this.y8.bind(this);this.ae5=this.bX.bind(this);this.vD=null;this.iT=null;this.bx=null;B.sa(this.e,this.aa1);
var g=this.e,a="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
g.addEventListener("touchmove",B.Cp,!1);this.agQ=!0;this.ff=[];var C=this.a54=B.f("div");C.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.e.appendChild(C);var x=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",a+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",a+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",a+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var N=0;N<x.length;N++){var K=new hs(x[N]);this.ff.push(K);K.e.setAttribute("style","margin-left:"+(N<7?4:0)+"px;cursor:pointer;");
K.h("click",this.g1,this)}}ak.prototype=new ar;ak.prototype.Q=function(){var o=this.a54;B.KZ(o);for(var N=0;
N<this.ff.length;N++){var g=this.ff[N];if(N<5)g.Q();o.appendChild(g.e)}};ak.prototype.g1=function(o){var N=this.ff.indexOf(o.currentTarget);
if(N==0){if(window.showCap)window.showCap();return}var g=" issues learn blog api twitter facebook".split(" "),C=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),a=window.ga;
if(a)a("send","event","Links",g[N]);var x=new jO(D.E.X,!0);x.data={C:D.t.y2,link:C[N]};this.c(x)};ak.prototype.eb=function(o){if(o.ahe){o.preventDefault();
o.stopPropagation()}var g=window;B._C(g,this.arG);B.aw(g,this.ae5);g=this.Sq;this.vD=new eN(parseInt(g.style.left),parseInt(g.style.top));
this.iT=B.Iw(o,this.e);this.bx=g.getBoundingClientRect()};ak.prototype.y8=function(o){var g=B.Iw(o,this.e),C=this.vD.x+g.x-this.iT.x,a=this.vD.y+g.y-this.iT.y,x=this.eo-this.bx.width,K=this.KU-this.bx.height;
if(this.atG)this.Sq.style.left=Math.min(0,Math.max(x,C))+"px";else this.Sq.style.top=Math.min(0,Math.max(K,a))+"px";
if(C-10>0){this.iT.x=g.x-10;this.vD.x=0}if(C+10<x){this.iT.x=g.x+10;this.vD.x=x}};ak.prototype.bX=function(o){var g=window;
B.gK(g,this.arG);B.lZ(g,this.ae5)};ak.prototype.aue=function(o){if(this.Sq){this.e.removeChild(this.Sq)}this.Sq=o;
this.e.appendChild(o);o.style.position="absolute";if(this.atG)o.style.left=0;else o.style.top=0};ak.prototype.z3=function(o,g){this.eo=o;
this.KU=g;this.e.setAttribute("style","position:relative; width: "+o+"px; height: "+g+"px; overflow:hidden; white-space: nowrap; ");
this.Sq.style.left="0";this.Sq.style.top="0";var C=this.Sq.firstChild,a=this.a54,x=C?C.firstChild.getBoundingClientRect().width+80:1e9,K=170,h=this.agQ&&o>x+K;
a[is.J1][is.akC]=h?"":is.o1;var X=this.ff;for(var N=0;N<X.length;N++){var w=N>4||o-x>500?"":is.o1,G=X[N];
G.e.style.display=w}};function hw(){ar.call(this);this.wq=null;this.Qb=hw.S2;this.adn="";this.e=B.f("div","rightbar");
this.Fb=[new gQ(300),new gQ(268,!0)];this.DA=[new cT,new cT,new cT,new cT,new cT,new cT,new cT];this.a5f=[]}hw.prototype=new ar;
hw.prototype.Q=function(){var o=this.Qb;for(var N=0;N<o.length;N++)o[N].u6.Q()};hw.S2=[{u6:new g$,Rf:3},{u6:new g5,Rf:1},{u6:new j5,Rf:4},{u6:new bF,Rf:2},{u6:new hz(!0),Rf:5},{u6:new e7,Rf:0},{u6:new hT,Rf:5},{u6:new j4,Rf:3},{u6:new iv,Rf:0},{u6:new j$,Rf:3},{u6:new ek,Rf:2},{u6:new d9,Rf:4},{u6:new bp,Rf:3},{u6:new k5,Rf:5},{u6:new hz(!1),Rf:5},{u6:new dF,Rf:2},{u6:new en,Rf:3},{u6:new a3,Rf:1},{u6:new cM,Rf:0},{u6:new cs,Rf:5},{u6:new c3,Rf:6,rt:!0},{u6:new cV,Rf:6,rt:!0},{u6:new cC,Rf:6,rt:!0}];
(function(){var o=[{id:iU.yt.anh,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Adaptive Palette",url:"https://hxim.github.io/TwemojiPlugin/adapal/adapal.html",icon:"https://hxim.github.io/TwemojiPlugin/adapal/icon.svg"},{name:"Fractal Noise",url:"https://yikuansun.github.io/photopea-fractalnoise",icon:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Value_noise_2D.png"},{name:"Zeus: Lightning Maker",url:"https://yikuansun.github.io/lightning-experiment/?photopeaPlugin=yes",icon:"https://yikuansun.github.io/lightning-experiment/icon.png"}];
for(var N=0;N<o.length;N++)hw.S2.push({u6:new eD(o[N],100+N),Rf:6,rt:!0})}());hw.prototype.a2b=function(o){for(var N=0;
N<o.length;N++){var g=o[N],C=new eD(g,"plg_"+g.name);this.Qb.push({u6:C,Rf:6});this.a5f.push(C.Gi)}this.Ty()};
hw.prototype.Xt=function(o,g){this.wq=o;var C=this.Qb;for(var N=0;N<C.length;N++)C[N].u6.Xt(o,g);if(g==e1.bN||g==e1.B3)this.Ty()};
hw.prototype.OD=function(o){var g=this.Qb;for(var N=0;N<g.length;N++)g[N].u6.OD(o)};hw.prototype.z3=function(o,g){this.MI=o;
this.fB=g;this.Ty();this.Fb[0].z3(o,g);this.Fb[1].z3(o,g)};hw.prototype.Ty=function(){var o=this.wq,g=this.MI,C=this.fB;
if(o==null||g==0)return;var a=o.pl.concat(this.a5f),x=g<500||g<700&&g<C,K=JSON.stringify(a)+","+x;if(K!=this.adn){this.adn=K;
B.KZ(this.e);var h=[];for(var N=0;N<this.Fb.length;N++){var X=this.Fb[N];h[N]=X.Nt();while(X.aj7()!=0)X.ajB(0);
X.ja()}var w=[];for(var N=0;N<this.DA.length;N++){var G=this.DA[N];G.ja();while(G.a6O()!=0)G.YY(0);w.push(0)}for(var N=0;
N<a.length;N++){var R=this.a6u(a[N].toString());this.DA[R.Rf].a1(R.u6);this.DA[R.Rf].gq(0);w[R.Rf]++}var d=[];
for(var N=0;N<w.length;N++){if(w[N]==0)continue;var q=N<3||x?1:0,X=this.Fb[q];X.parent=this;X.ap0(this.DA[N]);
d[q]=!0}for(var N=0;N<this.Fb.length;N++)if(d[N])this.e.appendChild(this.Fb[N].e);this.Fb[0].collapse();
if(g<700||this.wq.compact||!h[1]){this.Fb[1].collapse()}var m=new jO(D.E.X,!0);m.data={C:D.t.Nh};this.c(m)}};
hw.prototype.a6u=function(o){for(var N=0;N<this.Qb.length;N++)if(this.Qb[N].u6.Gi==o)return this.Qb[N]};
hw.prototype.ac6=function(o){var g=this.a6u(o);this.DA[g.Rf].a1(g.u6)};hw.prototype.Tk=function(o,g,C){var a=this.Qb;
for(var N=0;N<a.length;N++)a[N].u6.Tk(o,g,C)};hw.prototype.xA=function(o,g,C,a,x){var K=this.Qb;for(var N=0;
N<K.length;N++)K[N].u6.xA(o,g,C,a,x)};hw.prototype.kh=function(o,g,C,a,x){var K=this.Qb;for(var N=0;
N<K.length;N++)K[N].u6.kh(o,g,C,a,x)};hw.prototype.eO=function(o,g,C,a,x){var K=this.Qb;for(var N=0;
N<K.length;N++)K[N].u6.eO(o,g,C,a,x)};function iK(o,g){cA.call(this,"toolbar");this.e.removeChild(this.sm);
this.H9=null;this.$B=B.f("div","tools");this.e.appendChild(this.$B);this.i8=null;this.a2O=g;this.IH=null;
this.aq4=-1;this.a6y={};this.Y=null;this._E=null;this.tx=null;this.if=null;this.Df(o);this.qT=new f3;
this.qT.e.style.marginTop="5px";this.qT.e.style.marginBottom="3px";this.qT.parent=this;this.Sh=new hs(B.U_("lrs/mask"),!1,[6,6,1]);
this.Sh.h("click",function(K){var h=new jO(D.E.q,!0);h.F=c.pn;h.data={C:"qmask"};this.c(h)},this);var C=new ap(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
C.h(D.E.p,this.awe,this);var a=B.f("span","rangecontFloat form padded");a.appendChild(C.e);var x=document.body;
this.agD=[!1,!1,!1,!1];this.$K=new hs("\u2328",!1,"Virtual Keys");this.$K.h("click",function(K){var h=this.$K.e.getBoundingClientRect();
a.setAttribute("style","position:absolute; top:"+(h.top-40)+"px; left: "+(h.left+h.width+4)+"px; width:119px; z-index:2;  padding-right:0px; ");
if(B.Af(a))x.removeChild(a);else x.appendChild(a)},this)}iK.prototype=new cA;iK.prototype.awe=function(o){var g=o.target.O();
this.$K.I(g[0]||g[1]||g[2]||g[3]);var C=new jO(D.E.X,!0);for(var N=0;N<4;N++){if(g[N]!=this.agD[N]){C.data={C:D.t.anA,H3:g[N],a6c:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][N]};
this.c(C)}}this.agD=g.slice(0)};iK.prototype.asu=function(o,g){this.IH=g;if(o==null||o.A.length==0||o.g[o.A[0]]==null)return;
var C=o.Sh()!=null,a=o.u.dp,x=o.g[o.A[0]].U3,K=x==1||x==3||C||a[0]+a[1]+a[2]==1;this.qT.aj2(K);this.Sh.I(C)};
iK.prototype.aa0=function(o,g){var C=o.length,a=[];for(var N=0;N<C;N++)a[N]=o[N].slice(0);o=a;var x=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],K=Math.min(x.length/2,C-g);
for(var N=0;N<K;N++){var h=x[2*N],X=x[2*N+1];o[h]=o[h].concat(o[X]);o[X]=null}for(var N=0;N<o.length;
N++)if(o[N]==null){o.splice(N,1);N--}return o};iK.prototype.au5=function(o,g){for(var N=0;N<g.length;
N++)for(var C=0;C<g[N].length;C++)if(g[N][C].F.id==o)return N};iK.prototype.Df=function(o,g){this.H9=o;
this._E=[];this.tx=[];this.if=[];this.Y=[];var C=o.uG;if(g!=null&&this.a2O)C=this.aa0(C,g);if(this.i8){var a=[],x=this.i8.cq;
for(var N=0;N<C.length;N++){var K=[];for(var h=0;h<C[N].length;h++){var X=C[N][h];if(x==null||x.indexOf(parseInt(X.F.id))!=-1)K.push(X)}if(K.length>0)a.push(K)}C=a}for(var N=0;
N<C.length;N++){var w=[],G=this._E.length,R=null,d=-1;for(var h=0;h<C[N].length;h++){var X=C[N][h].F,q=this.au5(X.id,o.uG),m=o.keys[q];
if(m==c_.Oo&&h==1)m=c_.yt;this.Y.push(X);var M=new iz(X.name,m,X.DM,this._E.length,N,C[N].length>1);
this._E.push(M);var Z=this.a6y[X.id];if(Z==null)Z=0;if(Z>d){d=Z;R=M}M.h(D.E.p,this.uC,this);M.h("mover",this.uy,this);
w.push({name:X.name,Qm:X.DM,Cb:m?m.HJ:""})}this.tx.push(R);if(w.length==1)this.if.push(null);else{var Q=new g0(w,null,!0);
Q.al6=G;Q.yJ=N;this.if.push(Q);Q.h("select",this.ai4,this);Q.parent=this}}};iK.prototype.z3=function(o,g){var C=this.fB=g,a=32;
if(1<B.r()&&B.r()<1.5)a=18+14*(1/B.r());var x=39+23,K=Math.floor((C-x)/a),h=this.i8;if(h==null)return;
if(K!=this.aq4){this.aq4=K;this.Df(this.H9,K);this.F$(h.MR)}var X=this.tx.length*a+x,w=Math.min(1,C/X);
if(.75<=w){this.$B.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+w+","+w+");");
this.e.setAttribute("style","height:"+(g-2)+"px; overflow:hidden;")}else{C-=4;this.$B.setAttribute("style","height: "+C+"px;  width:"+Math.ceil(X/C)*34+"px");
this.e.setAttribute("style","")}};iK.prototype.Q=function(){for(var N=0;N<this._E.length;N++)this._E[N].Q();
for(var N=0;N<this.if.length;N++)if(this.if[N])this.if[N].Q()};iK.prototype.uC=function(o){var g=new jO(D.E.X,!0);
g.data={C:D.t.JG,F:this.Y[o.id].id};this.c(g)};iK.prototype.ai4=function(o){var g=o.target.al6+o.target.Xl()[0];
this._E[g].bX(null)};iK.prototype.uy=function(o){var g=this.IH,C=new jO(D.E.X,!0);C.data={C:D.t.hI};
this.c(C);var a=o.target,x=this.if[a.yJ];if(x==null)return;var K=a.e.getBoundingClientRect(),C=new jO(D.E.X,!0);
C.data={C:D.t.Sd,u6:x,x:K.left+K.width+8,y:K.top};if(g==null||!(g.a(c_.NN)||g.a(c_.Ns)))this.c(C)};iK.prototype.F$=function(o){this.a6y[o]=Date.now();
var g=-1;for(var N=0;N<this.Y.length;N++)if(this.Y[N].id==o)g=N;for(var N=0;N<this._E.length;N++){var C=this._E[N];
C.atY(g==N)}if(g==-1)return;this.tx[this._E[g].yJ]=this._E[g];B.KZ(this.$B);var a=this.tx;for(var N=0;
N<a.length;N++){this.$B.appendChild(a[N].e)}if(!this.a2O)return;this.$B.appendChild(this.qT.e);if(this.fB>640)this.$B.appendChild(this.Sh.e);
this.$B.appendChild(this.$K.e)};iK.prototype.Tk=function(o,g){this.F$(g.MR)};iK.prototype.Xt=function(o,g){this.i8=o;
if(g==e1.B3){this.Df(this.H9);this.F$(o.MR)}this.qT.ado(o.L$,o.KT)};function iz(o,g,C,a,x,K){ar.call(this);
this.IN=0;this.T4=this.axV.bind(this);this.yJ=x;this.g2=a;this.c0=o;this.ahn=g;this.amX=K;this.DM=C;
this.e=B.f("button","");this.e.innerHTML=B.U_(this.DM);if(this.amX){var h=B.f("img","gsicon");h.setAttribute("src",PIMG["tools/corner"]);
h.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.e.appendChild(h)}this.Q();
B.sa(this.e,this.eb.bind(this));this.e.addEventListener("click",this.bX.bind(this),!1);this.e.addEventListener("contextmenu",iz.eI,!1)}iz.prototype=new ar;
iz.eI=function(o){o.stopPropagation();o.preventDefault();return!1};iz.prototype.Q=function(){var o=this.ahn?" ("+this.ahn.HJ+")":"";
this.e.setAttribute("title",fF.get(this.c0)+o)};iz.prototype.eb=function(o){this.IN=setTimeout(this.T4,160)};
iz.prototype.bX=function(o){clearTimeout(this.IN);var g=new jO(D.E.p,!1);g.target=this;g.id=this.g2;
this.c(g)};iz.prototype.axV=function(o){var g=new jO("mover",!1);g.target=this;g.id=this.g2;this.c(g)};
iz.prototype.atY=function(o){this.e.setAttribute("class",o?"toolbtn active":"toolbtn")};function hU(){ar.call(this);
this.e=B.f("div","topbar");this.Nn=B.f("span","");this.ajk=0;this.e.appendChild(this.Nn);this.zH=null;
this.No=null;this.i5=[];this.pl=[];var o=this.eb.bind(this);for(var N=0;N<hU.data.length;N++){var g=B.f("button");
this.i5.push(g);this.Nn.appendChild(g);g.addEventListener("mouseover",o,!1);B.sa(g,o)}this.cK=new hs([0,13,0],!1,null,!0);
this.cK.h("click",this.Cd,this);this.e.appendChild(this.cK.e);this.nI=new hs(B.U_("tools/zoom",null,"autoscale"),!1,[12,86]);
this.nI.h("click",this.Cd,this);this.e.appendChild(this.nI.e);this.nt=new hs("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.nt.h("click",this.Cd,this);this.e.appendChild(this.nt.e)}hU.prototype=new ar;hU.prototype.axF=function(){if(this.pl.length!=0)return;
for(var N=0;N<hU.data.length;N++){var o=hU.data[N],g=new g0(o.items,o.oi);g.parent=this;this.pl.push(g)}this.Q()};
hU.prototype.Q=function(){this.cK.Q();this.nI.Q();this.nt.Q();for(var N=0;N<this.i5.length;N++)this.i5[N].textContent=fF.get(hU.data[N].name);
this.a02();for(var N=0;N<this.pl.length;N++)this.pl[N].Q()};hU.prototype.Cd=function(o){var g=new jO(D.E.X,!0);
if(o.target==this.cK)g.data={C:D.t.gC,$j:"account"};else if(o.target==this.nI)g.data={C:D.t.iQ};else g.data={C:D.t.rj,wS:!0};
this.c(g)};hU.prototype.at7=function(o,g){this.zH=o;this.No=g};hU.prototype.Xt=function(o,g){this.No=o;
if(g==e1.B3){var C=o.a2t;B.KZ(this.Nn);for(var N=0;N<this.i5.length;N++){if(C==null||C[N]==1||C[N]instanceof Array)this.Nn.appendChild(this.i5[N]);
if(C!=null&&C[N]instanceof Array){this.axF();this.pl[N].asr(C[N])}}this.e.removeChild(this.cK.e);this.e.removeChild(this.nI.e);
this.e.removeChild(this.nt.e);if(o.hp)this.e.appendChild(this.cK.e);this.e.appendChild(this.nI.e);this.e.appendChild(this.nt.e)}this.a02()};
hU.prototype.a02=function(o,g){var C=this.cK,a=12255232;if(d$.Yh())a=d$.Cr()?43520:16755200;C.e.setAttribute("style","color:#ffffff; background-color:#"+l.eh(a))};
hU.prototype.eb=function(o){this.axF();var N=this.i5.indexOf(o.currentTarget),g=this.pl[N];if(o.type=="mouseover"&&!B.Af(this.pl[this.ajk].e))return;
if(B.Af(g.e))return;o.ahe=!0;this.ajk=N;for(var N=0;N<hU.data.length;N++)this.pl[N].update(this.zH,this.No);
var C=o.target.getBoundingClientRect(),a=new jO(D.E.X,!0);a.data={C:D.t.Sd,u6:g,x:C.left,y:C.top+C.height+2,a1x:!0};
this.c(a)};hU.ahc=function(o){var g=c_,C=g.Ns,a=g.sH,x=g.LW,K={name:[0,5],items:[{name:[7,0],Cb:[C,g.t]},{name:[7,1],Cb:[C,g.j6],N:function(X){return{N:X!=null&&X._!=null}}},{name:[7,2],Cb:[a,C,g.zp],N:function(X){return{N:X!=null&&X._!=null}},lL:!0},{name:[7,8],Dd:!0},{name:[7,13],Dd:!0,N:function(X){return{N:X!=null&&X.A.length!=0&&!X.g[X.A[0]].rect.to()}},lL:!0},{name:[7,11],Dd:!0,N:function(X){return{N:X!=null&&X.A.length!=0&&!X.g[X.A[0]].rect.to()}}},{name:[7,3],lL:!0,sub:[{name:[7,9],Dd:!0,N:function(X){return{N:X!=null&&X._!=null}}},{name:[19,3,0],Dd:!0,N:function(X){return{N:X!=null&&X._!=null}}},{name:[7,4],Dd:!0,N:function(X){return{N:X!=null&&X._!=null}}},{name:[7,5],Dd:!0,N:function(X){return{N:X!=null&&X._!=null}}},{name:[7,6],Dd:!0,N:function(X){return{N:X!=null&&X._!=null}},Cb:"Shift+F6"}]},{name:[7,10],N:function(X){return{N:X!=null&&X._!=null}},lL:!0},{name:[6,6,1],N:function(X){return{N:X!=null,WU:X!=null&&X.Sh()!=null}},Cb:[g.wm],lL:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],oi:[{W:D.E._h,P:c.vk.K9(!0)},{W:D.E._h,P:c.vk.K9()},{W:D.E._h,P:{j7:"inverse"}},{W:D.E.X,P:{C:D.t.gC,$j:"crange"}},{W:D.E.X,P:{C:D.t.gC,$j:"magiccut"}},{W:D.E.X,P:{C:D.t.gC,$j:"redge"}},{sub:[{W:D.E.X,P:{C:D.t.gC,$j:"sel_border"}},{W:D.E.X,P:{C:D.t.gC,$j:"sel_smoothness"}},{W:D.E.X,P:{C:D.t.gC,$j:"sel_expand"}},{W:D.E.X,P:{C:D.t.gC,$j:"sel_contract"}},{W:D.E.X,P:{C:D.t.gC,$j:"sel_feather"}}]},{W:D.E.X,P:{C:D.t.JG,F:c.bC}},{W:D.E.q,F:c.pn,P:{C:"qmask"}},{W:D.E._h,P:{j7:"duplicate",FS:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(o){var h=K.items.length-1;K.items.splice(h-2,0,{name:[6,49],Cb:[C,g.k9],lL:!0});K.oi.splice(h-2,0,{W:D.E._h,P:{j7:"copyToLayer"}});
K.items.splice(h-1,0,{name:[10,16],Cb:[x,C,g.ND]});K.oi.splice(h-1,0,{W:D.E.X,P:{C:D.t.JG,F:c.GD}})}return K};
hU.data=function(){var o=c_,g=o.Ns,C=o.sH,a=o.LW,x=function(R){return{N:R!=null&&R.A.length!=0}},K=function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].add.SoLd!=null}},h=[],X=[],w="none maxx avrg medn minn rang stdv summ vari".split(" "),G=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var N=0;N<w.length;N++){h.push({name:G[N],N:function(R,d){if(R==null||R.A.length!=1)return{N:!1};
var q=R.g[R.A[0]].add.SoLd;if(q==null)return{N:!1};return{N:!0,WU:q.Impr.v.classID==this.a9Q}}.bind({a9Q:w[N]})});
X.push({W:D.E.q,F:c.qd,P:{C:A.HF,kq:w[N]}})}return[{name:[0,0],items:[{name:[5,3],Cb:[a,g,o.p$],title:[11,7],Dd:!0},{name:[1,0],Cb:[g,o.tH],Dd:!0},{name:[1,11],Dd:!0,N:function(R,d){return{N:R!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],lL:!0,sub:[{name:"From Storage",Dd:!0},{name:[1,5],Dd:!0},{name:[11,0],Dd:!0},{name:["PSD VAR0",[25,0]],Dd:!0}]},{name:[1,1],lL:!0,sub:[{name:"PNG",Cb:"Imgur.com",N:function(R,d){return{N:R!=null&&d.lA}}},{name:"JPG",Cb:"Imgur.com",N:function(R,d){return{N:R!=null&&d.lA}}},{name:"PSD",Cb:"Photopea.com",N:function(R,d){return{N:R!=null&&d.lA&&!R.OM}}}]},{name:"Save ...",Cb:[g,o.$z],N:function(R,d){var q=fF.get([1,2]),m=!0;
if(R){if(R.ms)q+=" ("+fF.get([6,7,1])+")";if(R.Ur)q+=" (Google Drive)";if(R.n5)q+=" ("+Storage.list[R.n5[0]][0]+")";
m="psd jpg png gif webp svg bmp".split(" ").indexOf(R.fG)!=-1}return{N:R!=null&&(R.n5!=null||R.lT!=null&&m||R.ms!=null||R.GJ!=null&&R.GJ.Wv!=null||R.Ur!=null||d.zN.save!=null),nW:q}}},{name:[1,3],N:function(R,d){return{N:R!=null&&!R.OM&&d.lA}}},{name:["VAR0 VAR1",[1,2],[0,14]],sub:[{name:"PSD to Storage",N:function(R,d){return{N:R!=null&&!R.OM&&d.lA}}},{name:["VAR0 PSD/PSB",[1,2]],Dd:!0,N:function(R,d){return{N:R!=null&&!R.OM&&d.lA}}}]},{name:[1,8],sub:function(){var R=bl.ZZ(0),d=[];
for(var N=0;N<R.length;N++)d.push({name:R[N],Cb:"."+R[N].toLowerCase()});d.push({name:[0,14],sub:function(){var R=bl.ZZ(1),d=[];
for(var N=0;N<R.length;N++)d.push({name:R[N],Cb:"."+R[N].toLowerCase()});return d}()});return d}()},{name:[1,4],Dd:!0,N:function(R,d){return{N:R!=null}},lL:!0},{name:[1,9],Dd:!0,N:function(R,d){return{N:R!=null}}},{name:"Export Color Lookup",Dd:!0,N:function(R,d){return{N:R!=null}},lL:!0},{name:[1,14],Dd:!0,N:function(R,d){return{N:R!=null}},lL:!0},{name:"Automate",sub:[{name:"PDF Presentation",Dd:!0}]},{name:[1,10]}],oi:[{W:D.E.X,P:{C:D.t.gC,$j:"newproject"}},{W:D.E.X,P:{C:D.t.tf}},{W:D.E.X,P:{C:D.t.tf,av8:!0}},{sub:[{W:D.E.X,P:{C:D.t.gC,$j:"storwindow",ZY:0}},{W:D.E.X,P:{C:D.t.gC,$j:"open_from_url"}},{W:D.E.X,P:{C:D.t.gC,$j:"camera"}},{W:D.E.X,P:{C:D.t.gC,$j:"templates"}}]},{sub:[{W:D.E.X,P:{C:D.t.uP,Ts:"png"}},{W:D.E.X,P:{C:D.t.uP,Ts:"jpg"}},{W:D.E.X,P:{C:D.t.uP,Ts:"psd"}}]},{W:D.E.X,P:{C:D.t.Yg}},{W:D.E.X,P:{C:D.t.JV}},{sub:[{W:D.E.X,P:{C:D.t.gC,$j:"storwindow",ZY:1}},{W:D.E.X,P:{C:D.t.gC,$j:"savepsb"}}]},{sub:function(){var R=bl.ZZ(0),d=[];
for(var N=0;N<R.length;N++)d.push({W:D.E.X,P:{C:D.t.gC,$j:"saveforweb",Ts:N}});d.push({sub:function(){var q=bl.ZZ(0).length,R=bl.ZZ(1),d=[];
for(var N=0;N<R.length;N++)d.push({W:D.E.X,P:{C:D.t.gC,$j:"saveforweb",Ts:q+N}});return d}()});return d}()},{W:D.E.X,P:{C:D.t.gC,$j:"saveforweb",Ts:4,a0N:!0}},{W:D.E.X,P:{C:D.t.gC,$j:"eassets"}},{W:D.E.X,P:{C:D.t.gC,$j:"exlut"}},{W:D.E.X,P:{C:D.t.gC,$j:"finfo"}},{sub:[{W:D.E.X,P:{C:D.t.gC,$j:"pdfpres"}}]},{W:D.E.X,P:{C:D.t.gC,$j:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],Cb:[C,g,o.f0]},{name:[2,1],Cb:[g,o.f0],lL:!0},{name:[2,11],Cb:[C,g,o.vQ],lL:!0,Dd:!0,N:function(R,d){return{N:ez.apm(R)&&d.MR!=c.GD}}},{name:[5,0],Cb:[g,o.Hi],N:function(R){return{N:R!=null&&R.gP()}}},{name:[5,1],Cb:[g,o.sp],N:function(R){return{N:R!=null}}},{name:[5,7],Cb:[C,g,o.sp],N:function(R){return{N:R!=null&&R.gP()}}},{name:[5,2],Cb:[g,o.oy],N:function(R,d){return{N:B.yf()||d.Xz!=null||d.G$!=null||d.a9j!=null}}},{name:[2,2],N:function(R){return{N:R!=null&&R._!=null}},Cb:"Delete",lL:!0},{name:[2,3],N:function(R){return{N:R!=null}},Dd:!0,Cb:[C,o.VG]},{name:[14,9],N:function(R){return{N:R!=null}},Dd:!0,lL:!0},{name:[10,48],N:function(R){return{N:R!=null&&R.zj(!1)}}},{name:[10,46],N:function(R){return{N:c.Fl.adg(R)}}},{name:[10,16],Cb:[a,g,o.ND]},{name:[2,4],sub:gV.aqM()},{name:[2,10,1]},{name:[2,10,0],lL:!0},{name:[12,87],sub:[{name:[12,62],N:function(R){return{N:R!=null}}},{name:[9,3],N:function(R){return{N:R!=null}}},{name:[10,31],N:function(R){return{N:R!=null&&R.DE()[1].length!=0}}}]},{name:[1,15],Dd:!0},{name:[12,79],Dd:!0,Cb:[g,o.IK]},{name:[1,13],Dd:!0}],oi:[{W:D.E.q,F:c.DY,P:{C:"h_undoredo"}},{W:D.E.q,F:c.DY,P:{C:"h_stepfwd"}},{W:D.E.q,F:c.DY,P:{C:"h_stepbck"}},{W:D.E.X,P:{C:D.t.gC,$j:"afw_fade"}},{W:D.E.X,P:{C:D.t.lC}},{W:D.E.X,P:{C:D.t.ZK}},{W:D.E.X,P:{C:D.t.ZK,lt:!0}},{W:D.E.X,P:{C:D.t.wG}},{W:D.E._h,P:{j7:"delete"}},{W:D.E.X,P:{C:D.t.gC,$j:"fill"}},{W:D.E.X,P:{C:D.t.gC,$j:"stroke"}},{W:D.E.X,P:{C:D.t.JG,F:c.JA}},{W:D.E.q,F:c.C3,P:{C:"start",KA:"rigidTransform"}},{W:D.E.X,P:{C:D.t.JG,F:c.GD}},{sub:gV.aiU()},{W:D.E._h,P:{j7:"align",FS:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{W:D.E.q,F:c.qd,P:{C:A.asN}},{sub:[{W:D.E.X,P:{C:D.t._x,eA:0}},{W:D.E.X,P:{C:D.t._x,eA:1}},{W:D.E.X,P:{C:D.t._x,eA:2}}]},{W:D.E.X,P:{C:D.t.gC,$j:"pmanager"}},{W:D.E.X,P:{C:D.t.gC,$j:"preferences"}},{W:D.E.X,P:{C:D.t.gC,$j:"locstor"}}]},{name:[0,2],items:[{name:[12,36],N:function(R){return{N:R!=null}},lL:!0,sub:[{name:"RGB",N:function(R){if(R==null)return{N:!1};
return{WU:R.add.fcmy==null,N:!0}}},{name:"CMYK",N:function(R){if(R==null)return{N:!1};return{WU:R.add.fcmy!=null,N:!0}}}]},{name:[3],lL:!0,sub:function(){var R=[];
for(var d in f6.names){R.push({name:f6.names[d],Dd:_[d]!=null,Cb:f6.keys[d],lL:f6.aux.indexOf(d)!=-1});
if(d=="selc"){R.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],Dd:!0,lL:!0});R.push({name:[19,7,0],Cb:[g,C,o.Tu],N:function(d){return{N:d!=null&&d.zj(!1)}}});
R.push({name:[4,18],Dd:!0,N:function(d){return{N:d!=null&&d.zj(!1)}}})}}return R}()},{name:[4,16,0],N:function(R){return{N:R!=null&&R.zj(!1)}}},{name:[4,16,1],N:function(R){return{N:R!=null&&R.zj(!1)}}},{name:[4,16,2],N:function(R){return{N:R!=null&&R.zj(!1)}},lL:!0},{name:[11,11,1],N:function(R){return{N:R!=null&&R.zj(!1)}}},{name:[11,11,0],N:function(R){return{N:R!=null&&R.zj(!1)}},lL:!0},{name:[11,3],Dd:!0,Cb:[a,g,o.sp]},{name:[11,10],Dd:!0,Cb:[a,g,o.zp]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],N:function(R){return{N:R!=null&&R._!=null}}},{name:[11,12,0],N:function(R){return{N:R!=null}},Cb:[g,o._R],Dd:!0},{name:[11,12,2],N:function(R){return{N:R!=null}},lL:!0},{name:[2,12],N:function(R){return{N:R!=null&&R.zj(!1)}},Dd:!0,lL:!0},{name:"Variables",N:function(R){return R!=null},Dd:!0}],oi:[{sub:[{W:D.E.q,F:c.zO,P:{C:"fcmy",k:0}},{W:D.E.q,F:c.zO,P:{C:"fcmy",k:1}}]},{sub:function(){var R=[];
for(var d in f6.names){R.push({W:D.E.q,F:c.i1,P:{C:"start",ss:d}});if(d=="selc"){R.push({W:D.E.q,F:c.C3,P:{C:"start",KA:"adaptCorrect"}});
R.push({W:D.E._h,P:{j7:"desaturate"}});R.push({W:D.E.q,F:c.i1,P:{C:"start",ss:"matc"}})}}return R}()},{W:D.E._h,P:{j7:"levels",FS:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{W:D.E._h,P:{j7:"levels",FS:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{W:D.E._h,P:{j7:"levels",FS:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{W:D.E.X,P:{C:D.t.gC,$j:"rcolors"}},{W:D.E.X,P:{C:D.t.gC,$j:"vbitmap"}},{W:D.E.X,P:{C:D.t.gC,$j:"csize"}},{W:D.E.X,P:{C:D.t.gC,$j:"isize"}},{sub:[{W:D.E._h,P:c.V.oG(!0,90)},{W:D.E._h,P:c.V.oG(!0,-90)},{W:D.E._h,P:c.V.oG(!0,-180)},{W:D.E._h,P:c.V.oG(!1,"Hrzn")},{W:D.E._h,P:c.V.oG(!1,"Vrtc")}]},{W:D.E.q,F:c.IM,P:{C:"cropbysel",ajj:0}},{W:D.E.X,P:{C:D.t.gC,$j:"trim"}},{W:D.E._h,P:{j7:"revealAll",FS:{classID:"RvlA"}}},{W:D.E.q,F:c.i1,P:{C:"start",ss:"aply"}},{W:D.E.X,P:{C:D.t.gC,$j:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],Cb:[C,g,o.p$]},{name:[0,4]},{name:[1,16,0],Dd:!0},{name:[1,16,3],Dd:!0,lL:!0},{name:[6,49,0],Cb:[g,o.k9]},{name:[6,49,1],Cb:[C,g,o.k9],N:function(R){return{N:R!=null&&R._!=null&&R.zj(!1)}}}]},{name:[6,0],N:x,Cb:[g,o.k9]},{name:[11,4],N:x},{name:[5,4],N:x,lL:!0},{name:[11,6],lL:!0,N:x,sub:f9.tw(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],lL:!0,sub:f9.a1i()},{name:[6,2],sub:[{name:[6,4],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].KN()==null}}},{name:[6,5,0],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].KN()==null}}},{name:[6,5,1],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].KN()==null&&R._!=null}}},{name:[6,5,2],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].KN()==null&&R._!=null}}},{name:[6,5,3],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].KN()==null}},lL:!0},{name:[5,4],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].KN()!=null}}},{name:[5,8],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].KN()!=null&&R.zj(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].KN()!=null}}}]},{name:[6,3],sub:[{name:[6,4],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].add.vmsk==null}}},{name:[6,5,0],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].add.vmsk==null}}},{name:"Current Path",N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].add.vmsk==null}},lL:!0},{name:[5,4],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],N:function(R){return{N:R!=null&&R.A.length!=0&&R.g[R.A[0]].add.vmsk!=null}}}]},ek.alG(!0),{name:[6,7,1],lL:!0,sub:[{name:[6,7,0]},{name:[6,36,4],N:K,sub:h},{name:[1,0],N:K,lL:!0},{name:"Turn into JPG"}]},{name:[6,8],N:ek.a1R},{name:[6,34],lL:!0,N:function(R){if(R==null||R.A.length==0)return{N:!1};
var d=R.g[R.A[0]];return{N:d.add.lmfx!=null&&!d.sP()}}},{name:[6,9],lL:!0,Cb:[g,o.tZ]},{name:[6,55],lL:!0,sub:[{name:[6,56,0],Cb:[C,g,o.A6]},{name:[6,56,1],Cb:[g,o.A6]},{name:[6,56,2],Cb:[g,o.N$]},{name:[6,56,3],Cb:[C,g,o.N$]}]},{name:[6,58],lL:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],Cb:[g,o.E],N:function(R){var d=R==null?0:R.A.length;
return{N:d!=0&&(d!=1||R.A[0]!=0),nW:fF.get(d>1||d==1&&R.g[R.A[0]].sP()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],oi:[{sub:[{W:D.E.q,F:c.qd,P:{C:A.Hv}},{W:D.E.q,F:c.qd,P:{C:A._g}},{W:D.E.X,P:{C:D.t.gC,$j:"newartb",ZY:0}},{W:D.E.X,P:{C:D.t.gC,$j:"newartb",ZY:1}},{W:D.E._h,P:{j7:"copyToLayer"}},{W:D.E._h,P:{j7:"cutToLayer"}}]},{W:D.E.q,F:c.qd,P:{C:A.XC}},{W:D.E.X,P:{C:D.t.gC,$j:"duplinto"}},{W:D.E.q,F:c.qd,P:{C:A.pr}},{sub:f9.t1(!0)},{sub:[{W:D.E.q,F:c.FA,P:{C:"newfill",a0:0}},{W:D.E._h,P:c.CC.p3(1)},{W:D.E._h,P:c.CC.p3(2)}]},{sub:f9.Uk()},{sub:[{W:D.E.q,F:c.qd,P:{C:A.VS,ZY:"RvlA"}},{W:D.E.q,F:c.qd,P:{C:A.VS,ZY:"HdAl"}},{W:D.E.q,F:c.qd,P:{C:A.VS,ZY:"RvlS"}},{W:D.E.q,F:c.qd,P:{C:A.VS,ZY:"HdSl"}},{W:D.E.q,F:c.qd,P:{C:A.VS,ZY:"Trns"}},{W:D.E.q,F:c.qd,P:{C:A.M1}},{W:D.E.q,F:c.qd,P:{C:A.Hn}},{W:D.E.q,F:c.qd,P:{C:A.NV}}]},{sub:[{W:D.E.q,F:c.qd,P:{C:A.xg,alV:!1}},{W:D.E.q,F:c.qd,P:{C:A.xg,alV:!0}},{W:D.E.q,F:c.qd,P:{C:A.xg,a1z:!0}},{W:D.E.q,F:c.qd,P:{C:A.Es}},{W:D.E.q,F:c.qd,P:{C:A.RI}}]},{W:D.E.q,F:c.qd,P:{C:A.zG}},{sub:[{W:D.E._h,P:{j7:"newPlacedLayer"}},{sub:X},{W:D.E._h,P:{j7:"placedLayerEditContents",FS:{classID:"placedLayerEditContents"}}},{W:D.E.q,F:c.qd,P:{C:A.a7J}}]},{W:D.E._h,P:{j7:"rasterizeLayer",FS:{classID:"rasterizeLayer",null:kn.C8("Lyr",!0)}}},{W:D.E.q,F:c.qd,P:{C:A.pq}},{W:D.E.q,F:c.qd,P:{C:A.Sb}},{sub:[{W:D.E.q,F:c.qd,P:{C:A.Xx,JI:0}},{W:D.E.q,F:c.qd,P:{C:A.Xx,JI:1}},{W:D.E.q,F:c.qd,P:{C:A.Xx,JI:2}},{W:D.E.q,F:c.qd,P:{C:A.Xx,JI:3}}]},{sub:[{W:D.E.q,F:c.qd,P:{C:A.uY,JI:"makeframes"}},{W:D.E.q,F:c.qd,P:{C:A.uY,JI:"unmakeframes"}},{W:D.E.q,F:c.qd,P:{C:A.uY,JI:"merge"}}]},{W:D.E._h,P:{j7:"mergeLayersNew",FS:{__name:"Merge Layers",classID:"Mrg2"}}},{W:D.E._h,P:{j7:"flattenImage"}},{W:D.E.q,F:c.C3,P:{C:"start",KA:"defr"}}]},hU.ahc(!1),function(){var R={name:[0,6],items:[{name:[24,18,4],Cb:[a,g,o.vQ],lL:!0}],oi:[{W:D.E.q,F:c.C3,P:{C:"applylast"}}]};
for(var N=0;N<hb.iD.length;N++){var d=hb.iD[N];if(d.NL!=null){R.items.push({name:hb.names[d.NL],Dd:!0,lL:d.lL});
R.oi.push({W:D.E.q,F:c.C3,P:{C:"start",KA:d.NL}});continue}var q={name:d.dT,sub:[]};R.items.push(q);
var m={sub:[]};R.oi.push(m);for(var M=0;M<d.jW.length;M++){var Z={name:hb.names[d.jW[M]],Dd:hb.l3(d.jW[M])!=null};
q.sub.push(Z);var Q={W:D.E.q,F:c.C3,P:{C:"start",KA:d.jW[M]}};m.sub.push(Q)}}return R}(),{name:[0,7],items:[{name:[8,0],Cb:[g,o.LL]},{name:[8,1],Cb:[g,o.kT]},{name:[20,3],Cb:[g,o.PV]},{name:[20,2],Cb:[g,o.FJ]},{name:"Pattern Preview",N:function(R,d){return{WU:R!=null&&R.pZ}},lL:!0},{name:"Screen Mode",lL:!0,sub:[{name:"Fullscreen",N:function(R,d){return{WU:document.fullscreenElement!=null}},lL:!0},{name:"Standard",N:function(R,d){return{WU:d.dS==0}}},{name:"Menu Bar and Canvas",N:function(R,d){return{WU:d.dS==1}}}]},{name:[8,13],Cb:[g,o.Oo],N:function(R,d){return{WU:d.Ha}}},{name:[8,12],lL:!0,sub:[{name:[17,2],N:function(R,d){return{N:d.Ha,WU:d.M8.Zi}}},{name:[8,9],N:function(R,d){return{N:d.Ha,WU:d.M8.eJ}}},{name:[8,2],N:function(R,d){return{N:d.Ha,WU:d.M8.Pa}},Cb:[g,o.ut]},{name:[8,4],N:function(R,d){return{N:d.Ha,WU:d.M8.at}},Cb:[g,o.c1]},{name:[8,8],N:function(R,d){return{N:d.Ha,WU:d.M8.Pc}}},{name:[8,11,0],N:function(R,d){return{N:d.Ha,WU:d.M8.Ng}}}]},{name:[8,3],N:function(R,d){return{WU:d.rl}},Cb:[g,o.yt],lL:!0},{name:[8,5],N:function(R,d){return{WU:d.rK}}},{name:[8,6],lL:!0,sub:[{name:[8,2],N:function(R,d){return{WU:d.XX[0]}}},{name:[8,4],N:function(R,d){return{WU:d.XX[1]}}},{name:[9,1],N:function(R,d){return{WU:d.XX[2]}}},{name:[8,11,0],N:function(R,d){return{WU:d.XX[3]}}},{name:[8,7],N:function(R,d){return{WU:d.XX[4]}}}]},{name:[11,15,2],N:function(R,d){return{N:R!=null,WU:R!=null&&R.LV}}},{name:[11,15,0],N:function(R,d){return{N:R!=null}}},{name:[11,14],N:function(R,d){return{N:R!=null}},Dd:!0},{name:[11,15,1],N:function(R,d){return{N:R!=null&&R.A.length!=0}},lL:!0},{name:[8,11,2],N:function(R,d){return{N:R!=null&&R.Ng.length!=0}}}],oi:[{W:D.E.q,F:c.SL,P:{C:"zoom",ri:!0}},{W:D.E.q,F:c.SL,P:{C:"zoom",ri:!1}},{W:D.E.q,F:c.SL,P:{C:"adapt",k:"fitscr"}},{W:D.E.q,F:c.SL,P:{C:"adapt",k:"pixel"}},{W:D.E.q,F:c.zO,P:{C:"pview"}},{sub:[{W:D.E.X,P:{C:D.t.rj,wS:!0}},{W:D.E.X,P:{C:D.t.rj,k:0}},{W:D.E.X,P:{C:D.t.rj,k:1}},{W:D.E.X,P:{C:D.t.rj,k:2}}]},{W:D.E.X,P:{C:D.t.sM,eA:e1.P8}},{sub:[{W:D.E.X,P:{C:D.t.sM,eA:e1.s1}},{W:D.E.X,P:{C:D.t.sM,eA:e1.ZA}},{W:D.E.X,P:{C:D.t.sM,eA:e1.in}},{W:D.E.X,P:{C:D.t.sM,eA:e1.JT}},{W:D.E.X,P:{C:D.t.sM,eA:e1.wB}},{W:D.E.X,P:{C:D.t.sM,eA:e1.pU}}]},{W:D.E.X,P:{C:D.t.sM,eA:e1.Oc}},{W:D.E.X,P:{C:D.t.sM,eA:e1.ak6}},{sub:[{W:D.E.X,P:{C:D.t.sM,eA:e1.Mr,NK:0}},{W:D.E.X,P:{C:D.t.sM,eA:e1.Mr,NK:1}},{W:D.E.X,P:{C:D.t.sM,eA:e1.Mr,NK:2}},{W:D.E.X,P:{C:D.t.sM,eA:e1.Mr,NK:3}},{W:D.E.X,P:{C:D.t.sM,eA:e1.Mr,NK:4}}]},{W:D.E.q,F:c.zO,P:{C:"lockguides"}},{W:D.E.q,F:c.zO,P:{C:"gids",SR:[[],[]]}},{W:D.E.X,P:{C:D.t.gC,$j:"addguides"}},{W:D.E.q,F:c.zO,P:{C:"gidsFromLayer"}},{W:D.E.q,F:c.i7,P:{C:"deleteAll"}}]},function(){var R={name:[0,8],items:[{name:[0,14],lL:!0,sub:[]}],oi:[{sub:[]}]};
for(var N=0;N<hw.S2.length;N++){var d=hw.S2[N],q=function(){var m=d.u6.Gi;return function(M,Z){return{WU:Z.pl.indexOf(parseInt(m))!=-1}}}();
(d.rt?R.items[0].sub:R.items).push({name:d.u6.name,N:q});(d.rt?R.oi[0].sub:R.oi).push({W:D.E.X,P:{C:D.t.tq,$j:d.u6.Gi}})}return R}(),function(){var R={name:[0,14],items:[],oi:[]},d={name:[0,9],sub:[]};
R.items.push(d);var q={sub:[]};R.oi.push(q);var m=fF.awc();for(var N=0;N<m.length;N++){var M=m[N],Z=M.code,Q=fF.a1H(Z);
d.sub.push({name:M.name,Cb:Z,N:function(p,y){return{WU:this.Cb==fF.Ro()}}});q.sub.push({W:D.E.X,P:{C:D.t.sM,eA:e1.HD,lang:Q}})}d.sub.push({name:[0,12]});
q.sub.push({W:D.E.X,P:{C:D.t.y2,link:"https://www.photopea.com/translate/"}});var d={name:[0,15],sub:[]};
R.items.push(d);var q={sub:[]};R.oi.push(q);for(var N=0;N<ka.oI.length;N++){d.sub.push({name:ka.oI[N].name,N:function(p,y){return{WU:this.name==ka.oI[y.A7].name}}});
q.sub.push({W:D.E.X,P:{C:D.t.sM,eA:e1.DO,A7:N}})}R.items.push({name:[0,17,6],N:function(p,y){return{N:y.yo!=null}}});
R.oi.push({W:D.E.X,P:{C:D.t.adw}});R.items.push({name:[11,13]});R.oi.push({W:D.E.X,P:{C:D.t.gC,$j:"shortcuts"}});
R.items.push({name:[0,16],N:function(p){return{WU:i.LH,N:i.OX}},lL:!0});R.oi.push({W:D.E.X,P:{C:D.t.amf}});
R.items.push({name:"",N:function(p,y){return y.hp?{nW:"About Photopea",N:!0}:{nW:"",N:!1}}});R.oi.push({W:D.E.X,P:{C:D.t.gC,$j:"aboutpp"}});
return R}()]}();function he(){ar.call(this);this.e=B.f("div","");this.eo=0;this.KU=0;this.wq=null;this.Rf=B.f("div","");
this.Rf.setAttribute("style","width:200em; height:100em; position:absolute;");this.m7=[];this.Ut=[];
this.vh={}}he.prototype=new ar;he.prototype.X2=function(o){var g=Date.now(),C=[];if(o=="-")C=[new dR,new a9,new g7("pdfpres"),new cI,new bR,new hX,new gP,new dB,new k6,new h2,new fZ,new gx,new i2,new fa,new jk,new a5,new f9,new eZ,new c7,new ep,new bT,new bE,new hV,new jb,new gs,new dv,new f4,new kd(!1),new kd(!0),new bg(0),new bg(1),new fP,new cE,new hn,new jd,new bN,new cR,new ij,new kc,new j_,new bj,new a_,new dx,new gp,new aA("border",[7,9],"px"),new aA("smoothness",[19,3,0],"px"),new aA("expand",[7,4],"px"),new aA("contract",[7,5],"px"),new aA("feather",[7,6],"px"),new gm(0,"namewindow",[12,48]),new gm(2,"billto","Bill To"),new gm(1,"cornerradius",[12,94,0],"px",!0,!0),new gm(1,"scaleeffects","Scale Effects","%",!0),new gm(1,"doczoom","Zoom","%",!0),new gm(1,"setFPS","Set FPS","fps",!1)];
else C=[new ez(o.slice(4))];this.apV(C);this.vh[o]=!0};he.prototype.apV=function(o){var g=this.wq;for(var N=0;
N<o.length;N++){var C=o[N];C.parent=this;this.Ut.push(C);this.hV(C);C.Q();if(g)C.Xt(g,e1.B3);C.h(D.E.mT,this.Uw,this)}};
he.prototype.z3=function(o,g){this.eo=o;this.KU=g;for(var N=0;N<this.Ut.length;N++)this.hV(this.Ut[N])};
he.prototype.Q=function(){for(var N=0;N<this.Ut.length;N++)this.Ut[N].Q()};he.prototype.JW=function(){return this.m7.length==0?null:this.m7[this.m7.length-1]};
he.prototype.rJ=function(){for(var N=0;N<this.m7.length;N++)if(this.m7[N].rJ())return!0;return!1};he.prototype.aa7=function(o,g,C,a,x){var K=o.startsWith("afw_"),h=null;
if(!K&&!this.vh["-"])this.X2("-");if(K&&!this.vh[o])this.X2(o);if(typeof o=="object"){h=o;if(!h.alq(D.E.mT,this.Uw))h.h(D.E.mT,this.Uw,this);
h.parent=this}else for(var N=0;N<this.Ut.length;N++)if(this.Ut[N].id==o)h=this.Ut[N];if(this.rJ()&&h.rJ()){alert("Finish the current action first");
return}if(!h.xP(g))return;if(this.m7.indexOf(h)!=-1){if(o=="colorpicker")h.Tk(g,C,a,x);return}var X=this.m7.length-1;
if(X>=0)B.lK(this.m7[X].e,"wdisabled");this.e.appendChild(h.e);this.m7.push(h);this.hV(h);h.Tk(g,C,a,x)};
he.prototype.hV=function(o){var g=this.eo,C=this.KU,a=o.ir(g,C),x;if(a!=null){x=a}else{a=new eN(0,0);
x=o.adL();if(x==null){var K=this.m7.indexOf(o)+1;if(g<450||C<450)x=new eN(0,0);else x=new eN(K*150,K*150)}}o.e.style.left=x.x+"px";
o.e.style.top=this.e.offsetTop+x.y+"px";o.z3(this.eo-a.x*2,this.KU-a.y*2-34)};he.prototype.Xt=function(o,g){this.wq=o;
for(var N=0;N<this.Ut.length;N++)this.Ut[N].Xt(o,g)};he.prototype.Uw=function(o){var g=this.m7.pop();
this.e.removeChild(g.e);var C=this.m7.length-1;if(C>=0)B.Qq(this.m7[C].e,"wdisabled");if(this.Rf.parentNode==this.e)this.e.removeChild(this.Rf)};
window.onload=function(){document.body.appendChild(new jI().e)}}())